function WZ(Hr){return Hr&&Hr.__esModule&&Object.prototype.hasOwnProperty.call(Hr,"default")?Hr.default:Hr}var oL={exports:{}};(function(Hr){(function(){var Hs=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var t=typeof e;return t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":t},is=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},ms=function(e,t){var o=Array.prototype.slice.call(e);return o.sort(t)},Dr=function(e,t){return Do(function(o,r){return e.eq(t(o),t(r))})},Do=function(e){return{eq:e}},sr=Do(function(e,t){return e===t}),Qn=sr,Ko=function(e){return Do(function(t,o){if(t.length!==o.length)return!1;for(var r=t.length,a=0;a<r;a++)if(!e.eq(t[a],o[a]))return!1;return!0})},Rn=function(e,t){return Dr(Ko(e),function(o){return ms(o,t)})},tn=function(e){return Do(function(t,o){var r=Object.keys(t),a=Object.keys(o);if(!Rn(Qn).eq(r,a))return!1;for(var c=r.length,d=0;d<c;d++){var g=r[d];if(!e.eq(t[g],o[g]))return!1}return!0})},Yn=Do(function(e,t){if(e===t)return!0;var o=Hs(e),r=Hs(t);return o!==r?!1:is(o)?e===t:o==="array"?Ko(Yn).eq(e,t):o==="object"?tn(Yn).eq(e,t):!1});const Rr=Object.getPrototypeOf,Lt=(e,t,o)=>{var r;return o(e,t.prototype)?!0:((r=e.constructor)===null||r===void 0?void 0:r.name)===t.name},eo=e=>{const t=typeof e;return e===null?"null":t==="object"&&Array.isArray(e)?"array":t==="object"&&Lt(e,String,(o,r)=>r.isPrototypeOf(o))?"string":t},Yo=e=>t=>eo(t)===e,ar=e=>t=>typeof t===e,at=e=>t=>e===t,it=(e,t)=>ce(e)&&Lt(e,t,(o,r)=>Rr(o)===r),mt=Yo("string"),ce=Yo("object"),Tt=e=>it(e,Object),ve=Yo("array"),ct=at(null),$r=ar("boolean"),er=at(void 0),Io=e=>e==null,$e=e=>!Io(e),Pt=ar("function"),T=ar("number"),_o=(e,t)=>{if(ve(e)){for(let o=0,r=e.length;o<r;++o)if(!t(e[o]))return!1;return!0}return!1},Yt=()=>{},Lo=(e,t)=>(...o)=>e(t.apply(null,o)),hr=(e,t)=>o=>e(t(o)),we=e=>()=>e,At=e=>e,dn=(e,t)=>e===t;function kt(e,...t){return(...o)=>{const r=t.concat(o);return e.apply(null,r)}}const nt=e=>t=>!e(t),Dt=e=>()=>{throw new Error(e)},Wr=e=>e(),Nn=e=>{e()},yn=we(!1),Co=we(!0);class H{constructor(t,o){this.tag=t,this.value=o}static some(t){return new H(!0,t)}static none(){return H.singletonNone}fold(t,o){return this.tag?o(this.value):t()}isSome(){return this.tag}isNone(){return!this.tag}map(t){return this.tag?H.some(t(this.value)):H.none()}bind(t){return this.tag?t(this.value):H.none()}exists(t){return this.tag&&t(this.value)}forall(t){return!this.tag||t(this.value)}filter(t){return!this.tag||t(this.value)?this:H.none()}getOr(t){return this.tag?this.value:t}or(t){return this.tag?this:t}getOrThunk(t){return this.tag?this.value:t()}orThunk(t){return this.tag?this:t()}getOrDie(t){if(this.tag)return this.value;throw new Error(t??"Called getOrDie on None")}static from(t){return $e(t)?H.some(t):H.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(t){this.tag&&t(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}H.singletonNone=new H(!1);const ra=Array.prototype.slice,Hn=Array.prototype.indexOf,kn=Array.prototype.push,yi=(e,t)=>Hn.call(e,t),kl=(e,t)=>{const o=yi(e,t);return o===-1?H.none():H.some(o)},on=(e,t)=>yi(e,t)>-1,zn=(e,t)=>{for(let o=0,r=e.length;o<r;o++){const a=e[o];if(t(a,o))return!0}return!1},Jo=(e,t)=>{const o=e.length,r=new Array(o);for(let a=0;a<o;a++){const c=e[a];r[a]=t(c,a)}return r},Re=(e,t)=>{for(let o=0,r=e.length;o<r;o++){const a=e[o];t(a,o)}},wt=(e,t)=>{for(let o=e.length-1;o>=0;o--){const r=e[o];t(r,o)}},rt=(e,t)=>{const o=[],r=[];for(let a=0,c=e.length;a<c;a++){const d=e[a];(t(d,a)?o:r).push(d)}return{pass:o,fail:r}},et=(e,t)=>{const o=[];for(let r=0,a=e.length;r<a;r++){const c=e[r];t(c,r)&&o.push(c)}return o},Gt=(e,t,o)=>(wt(e,(r,a)=>{o=t(o,r,a)}),o),uo=(e,t,o)=>(Re(e,(r,a)=>{o=t(o,r,a)}),o),qo=(e,t,o)=>{for(let r=0,a=e.length;r<a;r++){const c=e[r];if(t(c,r))return H.some(c);if(o(c,r))break}return H.none()},Tn=(e,t)=>qo(e,t,yn),or=(e,t)=>{for(let o=0,r=e.length;o<r;o++){const a=e[o];if(t(a,o))return H.some(o)}return H.none()},$n=e=>{const t=[];for(let o=0,r=e.length;o<r;++o){if(!ve(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);kn.apply(t,e[o])}return t},vn=(e,t)=>$n(Jo(e,t)),Nr=(e,t)=>{for(let o=0,r=e.length;o<r;++o){const a=e[o];if(t(a,o)!==!0)return!1}return!0},Js=e=>{const t=ra.call(e,0);return t.reverse(),t},Vn=(e,t)=>et(e,o=>!on(t,o)),_r=(e,t)=>{const o={};for(let r=0,a=e.length;r<a;r++){const c=e[r];o[String(c)]=t(c,r)}return o},Qo=(e,t)=>{const o=ra.call(e,0);return o.sort(t),o},$s=(e,t)=>t>=0&&t<e.length?H.some(e[t]):H.none(),dt=e=>$s(e,0),no=e=>$s(e,e.length-1),Vo=Pt(Array.from)?Array.from:e=>ra.call(e),Rs=(e,t)=>{for(let o=0;o<e.length;o++){const r=t(e[o],o);if(r.isSome())return r}return H.none()},$a=(e,t)=>{const o=[],r=Pt(t)?a=>zn(o,c=>t(c,a)):a=>on(o,a);for(let a=0,c=e.length;a<c;a++){const d=e[a];r(d)||o.push(d)}return o},st=Object.keys,Ta=Object.hasOwnProperty,Bo=(e,t)=>{const o=st(e);for(let r=0,a=o.length;r<a;r++){const c=o[r],d=e[c];t(d,c)}},vi=(e,t)=>Xn(e,(o,r)=>({k:r,v:t(o,r)})),Xn=(e,t)=>{const o={};return Bo(e,(r,a)=>{const c=t(r,a);o[c.k]=c.v}),o},ls=e=>(t,o)=>{e[o]=t},Wi=(e,t,o,r)=>{Bo(e,(a,c)=>{(t(a,c)?o:r)(a,c)})},Ri=(e,t)=>{const o={},r={};return Wi(e,t,ls(o),ls(r)),{t:o,f:r}},ti=(e,t)=>{const o={};return Wi(e,t,ls(o),Yt),o},Va=(e,t)=>{const o=[];return Bo(e,(r,a)=>{o.push(t(r,a))}),o},qi=e=>Va(e,At),Mn=(e,t)=>po(e,t)?H.from(e[t]):H.none(),po=(e,t)=>Ta.call(e,t),ha=(e,t)=>po(e,t)&&e[t]!==void 0&&e[t]!==null,ps=(e,t,o=Yn)=>tn(o).eq(e,t),zc=e=>{const t={};return Re(e,o=>{t[o]={}}),st(t)},Et=e=>e.length!==void 0,_s=Array.isArray,Tc=e=>{if(_s(e))return e;{const t=[];for(let o=0,r=e.length;o<r;o++)t[o]=e[o];return t}},br=(e,t,o)=>{if(!e)return!1;if(o=o||e,Et(e)){for(let r=0,a=e.length;r<a;r++)if(t.call(o,e[r],r,e)===!1)return!1}else for(const r in e)if(po(e,r)&&t.call(o,e[r],r,e)===!1)return!1;return!0},Oc=(e,t)=>{const o=[];return br(e,(r,a)=>{o.push(t(r,a,e))}),o},ba=(e,t)=>{const o=[];return br(e,(r,a)=>{(!t||t(r,a,e))&&o.push(r)}),o},Cs=(e,t)=>{if(e){for(let o=0,r=e.length;o<r;o++)if(e[o]===t)return o}return-1},ja=(e,t,o,r)=>{let a=er(o)?e[0]:o;for(let c=0;c<e.length;c++)a=t.call(r,a,e[c],c);return a},fr=(e,t,o)=>{for(let r=0,a=e.length;r<a;r++)if(t.call(o,e[r],r,e))return r;return-1},Ss=e=>e[e.length-1],Oa=e=>{let t=!1,o;return(...r)=>(t||(t=!0,o=e.apply(null,r)),o)},wl=(e,t,o,r)=>{const a=e.isiOS()&&/ipad/i.test(o)===!0,c=e.isiOS()&&!a,d=e.isiOS()||e.isAndroid(),g=d||r("(pointer:coarse)"),v=a||!c&&d&&r("(min-device-width:768px)"),A=c||d&&!v,M=t.isSafari()&&e.isiOS()&&/safari/i.test(o)===!1,I=!A&&!v&&!M;return{isiPad:we(a),isiPhone:we(c),isTablet:we(v),isPhone:we(A),isTouch:we(g),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:we(M),isDesktop:we(I)}},Gi=(e,t)=>{for(let o=0;o<e.length;o++){const r=e[o];if(r.test(t))return r}},Ua=(e,t)=>{const o=Gi(e,t);if(!o)return{major:0,minor:0};const r=a=>Number(t.replace(o,"$"+a));return wn(r(1),r(2))},ad=(e,t)=>{const o=String(t).toLowerCase();return e.length===0?Ql():Ua(e,o)},Ql=()=>wn(0,0),wn=(e,t)=>({major:e,minor:t}),ns={nu:wn,detect:ad,unknown:Ql},sa=(e,t)=>Rs(t.brands,o=>{const r=o.brand.toLowerCase();return Tn(e,a=>{var c;return r===((c=a.brand)===null||c===void 0?void 0:c.toLowerCase())}).map(a=>({current:a.name,version:ns.nu(parseInt(o.version,10),0)}))}),Dd=(e,t)=>{const o=String(t).toLowerCase();return Tn(e,r=>r.search(o))},Ni=(e,t)=>Dd(e,t).map(o=>{const r=ns.detect(o.versionRegexes,t);return{current:o.name,version:r}}),id=(e,t)=>Dd(e,t).map(o=>{const r=ns.detect(o.versionRegexes,t);return{current:o.name,version:r}}),Vs=(e,t)=>e.substring(t),js=(e,t,o)=>t===""||e.length>=t.length&&e.substr(o,o+t.length)===t,oi=(e,t)=>lr(e,t)?Vs(e,t.length):e,Bn=(e,t,o=0,r)=>{const a=e.indexOf(t,o);return a!==-1?er(r)?!0:a+t.length<=r:!1},lr=(e,t)=>js(e,t,0),Mi=(e,t)=>js(e,t,e.length-t.length),_l=e=>t=>t.replace(e,""),rs=_l(/^\s+|\s+$/g),al=_l(/^\s+/g),Mr=_l(/\s+$/g),pn=e=>e.length>0,xi=e=>!pn(e),Es=(e,t)=>t<=0?"":new Array(t+1).join(e),Us=(e,t=10)=>{const o=parseInt(e,t);return isNaN(o)?H.none():H.some(o)},ya=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Vr=e=>t=>Bn(t,e),ec=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Bn(e,"edge/")&&Bn(e,"chrome")&&Bn(e,"safari")&&Bn(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ya],search:e=>Bn(e,"chrome")&&!Bn(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Bn(e,"msie")||Bn(e,"trident")},{name:"Opera",versionRegexes:[ya,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Vr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Vr("firefox")},{name:"Safari",versionRegexes:[ya,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Bn(e,"safari")||Bn(e,"mobile/"))&&Bn(e,"applewebkit")}],lo=[{name:"Windows",search:Vr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Bn(e,"iphone")||Bn(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Vr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Vr("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Vr("linux"),versionRegexes:[]},{name:"Solaris",search:Vr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Vr("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Vr("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Ki={browsers:we(ec),oses:we(lo)},gs="Edge",Cr="Chromium",tc="IE",Xo="Opera",il="Firefox",aa="Safari",bo=()=>ki({current:void 0,version:ns.unknown()}),ki=e=>{const t=e.current,o=e.version,r=a=>()=>t===a;return{current:t,version:o,isEdge:r(gs),isChromium:r(Cr),isIE:r(tc),isOpera:r(Xo),isFirefox:r(il),isSafari:r(aa)}},Za={unknown:bo,nu:ki,edge:we(gs),chromium:we(Cr),ie:we(tc),opera:we(Xo),firefox:we(il),safari:we(aa)},yr="Windows",Cl="iOS",Sr="Android",Nl="Linux",Zs="macOS",_n="Solaris",ll="FreeBSD",oc="ChromeOS",Dc=()=>vr({current:void 0,version:ns.unknown()}),vr=e=>{const t=e.current,o=e.version,r=a=>()=>t===a;return{current:t,version:o,isWindows:r(yr),isiOS:r(Cl),isAndroid:r(Sr),isMacOS:r(Zs),isLinux:r(Nl),isSolaris:r(_n),isFreeBSD:r(ll),isChromeOS:r(oc)}},va={unknown:Dc,nu:vr,windows:we(yr),ios:we(Cl),android:we(Sr),linux:we(Nl),macos:we(Zs),solaris:we(_n),freebsd:we(ll),chromeos:we(oc)},le={detect:(e,t,o)=>{const r=Ki.browsers(),a=Ki.oses(),c=t.bind(v=>sa(r,v)).orThunk(()=>Ni(r,e)).fold(Za.unknown,Za.nu),d=id(a,e).fold(va.unknown,va.nu),g=wl(d,c,e,o);return{browser:c,os:d,deviceType:g}}},Ce=e=>window.matchMedia(e).matches;let Ve=Oa(()=>le.detect(window.navigator.userAgent,H.from(window.navigator.userAgentData),Ce));const lt=()=>Ve(),$t=window.navigator.userAgent,To=lt(),Ln=To.browser,jo=To.os,Zn=To.deviceType,jr=$t.indexOf("Windows Phone")!==-1,Fo={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Ln.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Ln.isIE(),windowsPhone:jr,browser:{current:Ln.current,version:Ln.version,isChromium:Ln.isChromium,isEdge:Ln.isEdge,isFirefox:Ln.isFirefox,isIE:Ln.isIE,isOpera:Ln.isOpera,isSafari:Ln.isSafari},os:{current:jo.current,version:jo.version,isAndroid:jo.isAndroid,isChromeOS:jo.isChromeOS,isFreeBSD:jo.isFreeBSD,isiOS:jo.isiOS,isLinux:jo.isLinux,isMacOS:jo.isMacOS,isSolaris:jo.isSolaris,isWindows:jo.isWindows},deviceType:{isDesktop:Zn.isDesktop,isiPad:Zn.isiPad,isiPhone:Zn.isiPhone,isPhone:Zn.isPhone,isTablet:Zn.isTablet,isTouch:Zn.isTouch,isWebView:Zn.isWebView}},Yi=/^\s*|\s*$/g,Sl=e=>Io(e)?"":(""+e).replace(Yi,""),F=(e,t)=>t?t==="array"&&_s(e)?!0:typeof e===t:e!==void 0,ee=(e,t,o={})=>{const r=mt(e)?e.split(t||","):e||[];let a=r.length;for(;a--;)o[r[a]]={};return o},pe=po,Oe=(e,...t)=>{for(let o=0;o<t.length;o++){const r=t[o];for(const a in r)if(po(r,a)){const c=r[a];c!==void 0&&(e[a]=c)}}return e},Ht=function(e,t,o,r){r=r||this,e&&(o&&(e=e[o]),br(e,(a,c)=>t.call(r,a,c,o)===!1?!1:(Ht(a,t,o,r),!0)))},ut={trim:Sl,isArray:_s,is:F,toArray:Tc,makeMap:ee,each:br,map:Oc,grep:ba,inArray:Cs,hasOwn:pe,extend:Oe,walk:Ht,resolve:(e,t=window)=>{const o=e.split(".");for(let r=0,a=o.length;r<a&&(t=t[o[r]],!!t);r++);return t},explode:(e,t)=>ve(e)?e:e===""?[]:Oc(e.split(t||","),Sl),_addCacheSuffix:e=>{const t=Fo.cacheSuffix;return t&&(e+=(e.indexOf("?")===-1?"?":"&")+t),e}},Bi=(e,t,o=dn)=>e.exists(r=>o(r,t)),Da=(e,t,o=dn)=>ia(e,t,o).getOr(e.isNone()&&t.isNone()),nc=e=>{const t=[],o=r=>{t.push(r)};for(let r=0;r<e.length;r++)e[r].each(o);return t},ia=(e,t,o)=>e.isSome()&&t.isSome()?H.some(o(e.getOrDie(),t.getOrDie())):H.none(),Rc=(e,t,o,r)=>e.isSome()&&t.isSome()&&o.isSome()?H.some(r(e.getOrDie(),t.getOrDie(),o.getOrDie())):H.none(),ld=(e,t)=>e?H.some(t):H.none(),$m=typeof window<"u"?window:Function("return this;")(),El=(e,t)=>{let o=t??$m;for(let r=0;r<e.length&&o!==void 0&&o!==null;++r)o=o[e[r]];return o},Nf=(e,t)=>{const o=e.split(".");return El(o,t)},Hp=(e,t)=>Nf(e,t),Vg=(e,t)=>{const o=Hp(e,t);if(o==null)throw new Error(e+" not available on this browser");return o},yb=Object.getPrototypeOf,Mf=e=>Vg("HTMLElement",e),rc=e=>{const t=Nf("ownerDocument.defaultView",e);return ce(e)&&(Mf(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(yb(e).constructor.name))},cd=8,sc=9,la=11,Ii=1,Rd=3,gn=e=>e.dom.nodeName.toLowerCase(),Ml=e=>e.dom.nodeType,Uu=e=>t=>Ml(t)===e,Zu=e=>Ml(e)===cd||gn(e)==="#comment",wi=e=>hs(e)&&rc(e.dom),hs=Uu(Ii),Br=Uu(Rd),xa=Uu(sc),xr=Uu(la),Nd=e=>t=>hs(t)&&gn(t)===e,Md=(e,t,o)=>{if(mt(o)||$r(o)||T(o))e.setAttribute(t,o+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple")},Ws=(e,t,o)=>{Md(e.dom,t,o)},ni=(e,t)=>{const o=e.dom;Bo(t,(r,a)=>{Md(o,a,r)})},qa=(e,t)=>{const o=e.dom.getAttribute(t);return o===null?void 0:o},Ns=(e,t)=>H.from(qa(e,t)),dd=(e,t)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(t):!1},Go=(e,t)=>{e.dom.removeAttribute(t)},As=e=>{const t=e.dom.attributes;return t==null||t.length===0},ri=e=>uo(e.dom.attributes,(t,o)=>(t[o.name]=o.value,t),{}),ac=(e,t)=>{const o=qa(e,t);return o===void 0||o===""?[]:o.split(" ")},Qs=(e,t,o)=>{const a=ac(e,t).concat([o]);return Ws(e,t,a.join(" ")),!0},Ut=(e,t,o)=>{const r=et(ac(e,t),a=>a!==o);return r.length>0?Ws(e,t,r.join(" ")):Go(e,t),!1},Bl=e=>e.dom.classList!==void 0,Il=e=>ac(e,"class"),Cn=(e,t)=>Qs(e,"class",t),uu=(e,t)=>Ut(e,"class",t),Vm=(e,t)=>on(Il(e),t)?uu(e,t):Cn(e,t),ic=(e,t)=>{Bl(e)?e.dom.classList.add(t):Cn(e,t)},en=e=>{(Bl(e)?e.dom.classList:Il(e)).length===0&&Go(e,"class")},Ga=(e,t)=>{Bl(e)?e.dom.classList.remove(t):uu(e,t),en(e)},Wu=(e,t)=>{const o=Bl(e)?e.dom.classList.toggle(t):Vm(e,t);return en(e),o},Nc=(e,t)=>Bl(e)&&e.dom.classList.contains(t),Bf=(e,t)=>{const r=(t||document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1){const a="HTML does not have a single root node";throw console.error(a,e),new Error(a)}return lc(r.childNodes[0])},Pl=(e,t)=>{const r=(t||document).createElement(e);return lc(r)},si=(e,t)=>{const r=(t||document).createTextNode(e);return lc(r)},lc=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},me={fromHtml:Bf,fromTag:Pl,fromText:si,fromDom:lc,fromPoint:(e,t,o)=>H.from(e.dom.elementFromPoint(t,o)).map(lc)},fu=(e,t)=>{const o=[],r=c=>(o.push(c),t(c));let a=t(e);do a=a.bind(r);while(a.isSome());return o},nr=(e,t)=>{const o=e.dom;if(o.nodeType!==Ii)return!1;{const r=o;if(r.matches!==void 0)return r.matches(t);if(r.msMatchesSelector!==void 0)return r.msMatchesSelector(t);if(r.webkitMatchesSelector!==void 0)return r.webkitMatchesSelector(t);if(r.mozMatchesSelector!==void 0)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},jm=e=>e.nodeType!==Ii&&e.nodeType!==sc&&e.nodeType!==la||e.childElementCount===0,qu=(e,t)=>{const o=t===void 0?document:t.dom;return jm(o)?[]:Jo(o.querySelectorAll(e),me.fromDom)},Al=(e,t)=>{const o=t===void 0?document:t.dom;return jm(o)?H.none():H.from(o.querySelector(e)).map(me.fromDom)},fn=(e,t)=>e.dom===t.dom,Ra=(e,t)=>{const o=e.dom,r=t.dom;return o===r?!1:o.contains(r)},cl=e=>me.fromDom(e.dom.ownerDocument),zl=e=>xa(e)?e:cl(e),cc=e=>me.fromDom(zl(e).dom.documentElement),Mc=e=>me.fromDom(zl(e).dom.defaultView),ka=e=>H.from(e.dom.parentNode).map(me.fromDom),Id=e=>H.from(e.dom.parentElement).map(me.fromDom),Gu=(e,t)=>{const o=Pt(t)?t:yn;let r=e.dom;const a=[];for(;r.parentNode!==null&&r.parentNode!==void 0;){const c=r.parentNode,d=me.fromDom(c);if(a.push(d),o(d)===!0)break;r=c}return a},If=e=>{const t=o=>et(o,r=>!fn(e,r));return ka(e).map(Na).map(t).getOr([])},ea=e=>H.from(e.dom.previousSibling).map(me.fromDom),to=e=>H.from(e.dom.nextSibling).map(me.fromDom),Bc=e=>Js(fu(e,ea)),mu=e=>fu(e,to),Na=e=>Jo(e.dom.childNodes,me.fromDom),Ic=(e,t)=>{const o=e.dom.childNodes;return H.from(o[t]).map(me.fromDom)},Xi=e=>Ic(e,0),Pc=e=>Ic(e,e.dom.childNodes.length-1),ud=e=>e.dom.childNodes.length,ta=e=>{const t=e.dom.head;if(t==null)throw new Error("Head is not available yet");return me.fromDom(t)},Tl=e=>xr(e)&&$e(e.dom.host),dc=e=>me.fromDom(e.dom.getRootNode()),pu=e=>Tl(e)?e:ta(zl(e)),$p=e=>Tl(e)?e:me.fromDom(zl(e).dom.body),Lc=e=>{const t=dc(e);return Tl(t)?H.some(t):H.none()},Pd=e=>me.fromDom(e.dom.host),Ku=e=>{if($e(e.target)){const t=me.fromDom(e.target);if(hs(t)&&Ir(t)&&e.composed&&e.composedPath){const o=e.composedPath();if(o)return dt(o)}}return H.from(e.target)},Ir=e=>$e(e.dom.shadowRoot),ai=e=>{const t=Br(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;const o=t.ownerDocument;return Lc(me.fromDom(t)).fold(()=>o.body.contains(t),hr(ai,Pd))};var wa=(e,t,o,r,a)=>e(o,r)?H.some(o):Pt(a)&&a(o)?H.none():t(o,r,a);const _i=(e,t,o)=>{let r=e.dom;const a=Pt(o)?o:yn;for(;r.parentNode;){r=r.parentNode;const c=me.fromDom(r);if(t(c))return H.some(c);if(a(c))break}return H.none()},zs=(e,t,o)=>wa((a,c)=>c(a),_i,e,t,o),Pf=(e,t)=>{const o=e.dom;return o.parentNode?bs(me.fromDom(o.parentNode),r=>!fn(e,r)&&t(r)):H.none()},bs=(e,t)=>{const o=a=>t(me.fromDom(a));return Tn(e.dom.childNodes,o).map(me.fromDom)},_a=(e,t)=>{const o=r=>{for(let a=0;a<r.childNodes.length;a++){const c=me.fromDom(r.childNodes[a]);if(t(c))return H.some(c);const d=o(r.childNodes[a]);if(d.isSome())return d}return H.none()};return o(e.dom)},Ll=(e,t,o)=>_i(e,r=>nr(r,t),o),Ge=(e,t)=>Al(t,e),ca=(e,t,o)=>wa((a,c)=>nr(a,c),Ll,e,t,o),gu=e=>ca(e,"[contenteditable]"),qr=(e,t=!1)=>ai(e)?e.dom.isContentEditable:gu(e).fold(we(t),o=>Fl(o)==="true"),Fl=e=>e.dom.contentEditable,ii=e=>e.style!==void 0&&Pt(e.style.getPropertyValue),Hl=(e,t,o)=>{if(!mt(o))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);ii(e)&&e.style.setProperty(t,o)},hu=(e,t)=>{ii(e)&&e.style.removeProperty(t)},Ci=(e,t,o)=>{const r=e.dom;Hl(r,t,o)},sn=(e,t)=>{const o=e.dom;Bo(t,(r,a)=>{Hl(o,a,r)})},ys=(e,t)=>{const o=e.dom,a=window.getComputedStyle(o).getPropertyValue(t);return a===""&&!ai(e)?Fc(o,t):a},Fc=(e,t)=>ii(e)?e.style.getPropertyValue(t):"",Gr=(e,t)=>{const o=e.dom,r=Fc(o,t);return H.from(r).filter(a=>a.length>0)},Yu=e=>{const t={},o=e.dom;if(ii(o))for(let r=0;r<o.style.length;r++){const a=o.style.item(r);t[a]=o.style[a]}return t},uc=(e,t)=>{const o=e.dom;hu(o,t),Bi(Ns(e,"style").map(rs),"")&&Go(e,"style")},Um=e=>e.dom.offsetWidth,Kr=(e,t)=>{ka(e).each(r=>{r.dom.insertBefore(t.dom,e.dom)})},Ae=(e,t)=>{to(e).fold(()=>{ka(e).each(a=>{vs(a,t)})},r=>{Kr(r,t)})},li=(e,t)=>{Xi(e).fold(()=>{vs(e,t)},r=>{e.dom.insertBefore(t.dom,r.dom)})},vs=(e,t)=>{e.dom.appendChild(t.dom)},Pi=(e,t)=>{Kr(e,t),vs(t,e)},$l=(e,t)=>{Re(t,(o,r)=>{const a=r===0?e:t[r-1];Ae(a,o)})},Ts=(e,t)=>{Re(t,o=>{vs(e,o)})},kr=e=>{e.dom.textContent="",Re(Na(e),t=>{Wn(t)})},Wn=e=>{const t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)},Ma=e=>{const t=Na(e);t.length>0&&$l(e,t),Wn(e)},Li=(e,t)=>{const r=(t||document).createElement("div");return r.innerHTML=e,Na(me.fromDom(r))},Si=e=>Jo(e,me.fromDom),dl=e=>e.dom.innerHTML,fc=(e,t)=>{const r=cl(e).dom,a=me.fromDom(r.createDocumentFragment()),c=Li(t,r);Ts(a,c),kr(e),vs(e,a)},Hc=e=>{const t=me.fromTag("div"),o=me.fromDom(e.dom.cloneNode(!0));return vs(t,o),dl(t)},fd=(e,t,o,r,a,c,d)=>({target:e,x:t,y:o,stop:r,prevent:a,kill:c,raw:d}),Lf=e=>{const t=me.fromDom(Ku(e).getOr(e.target)),o=()=>e.stopPropagation(),r=()=>e.preventDefault(),a=Lo(r,o);return fd(t,e.clientX,e.clientY,o,r,a,e)},Ff=(e,t)=>o=>{e(o)&&t(Lf(o))},$c=(e,t,o,r,a)=>{const c=Ff(o,r);return e.dom.addEventListener(t,c,a),{unbind:kt(N,e,t,c,a)}},_=(e,t,o,r)=>$c(e,t,o,r,!1),N=(e,t,o,r)=>{e.dom.removeEventListener(t,o,r)},j=(e,t)=>({left:e,top:t,translate:(r,a)=>j(e+r,t+a)}),de=j,he=e=>{const t=e.getBoundingClientRect();return de(t.left,t.top)},Ke=(e,t)=>e!==void 0?e:t!==void 0?t:0,io=e=>{const t=e.dom.ownerDocument,o=t.body,r=t.defaultView,a=t.documentElement;if(o===e.dom)return de(o.offsetLeft,o.offsetTop);const c=Ke(r==null?void 0:r.pageYOffset,a.scrollTop),d=Ke(r==null?void 0:r.pageXOffset,a.scrollLeft),g=Ke(a.clientTop,o.clientTop),v=Ke(a.clientLeft,o.clientLeft);return Ro(e).translate(d-v,c-g)},Ro=e=>{const t=e.dom,r=t.ownerDocument.body;return r===t?de(r.offsetLeft,r.offsetTop):ai(e)?he(t):de(0,0)},xo=e=>{const t=e!==void 0?e.dom:document,o=t.body.scrollLeft||t.documentElement.scrollLeft,r=t.body.scrollTop||t.documentElement.scrollTop;return de(o,r)},Wt=(e,t,o)=>{const a=(o!==void 0?o.dom:document).defaultView;a&&a.scrollTo(e,t)},Fn=(e,t)=>{lt().browser.isSafari()&&Pt(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},cs=e=>{const t=e===void 0?window:e;return lt().browser.isFirefox()?H.none():H.from(t.visualViewport)},Yr=(e,t,o,r)=>({x:e,y:t,width:o,height:r,right:e+o,bottom:t+r}),Vl=e=>{const t=e===void 0?window:e,o=t.document,r=xo(me.fromDom(o));return cs(t).fold(()=>{const a=t.document.documentElement,c=a.clientWidth,d=a.clientHeight;return Yr(r.left,r.top,c,d)},a=>Yr(Math.max(a.pageLeft,r.left),Math.max(a.pageTop,r.top),a.width,a.height))},bu=(e,t)=>et(Na(e),t),Ld=(e,t)=>{let o=[];return Re(Na(e),r=>{t(r)&&(o=o.concat([r])),o=o.concat(Ld(r,t))}),o},qs=(e,t)=>qu(t,e),jg=(e,t,o)=>_i(e,t,o).isSome(),Zm=(e,t)=>Pf(e,t).isSome(),Vp=(e,t)=>_a(e,t).isSome();class Ka{constructor(t,o){this.node=t,this.rootNode=o,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node}prev(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node}prev2(t){return this.node=this.findPreviousNode(this.node,t),this.node}findSibling(t,o,r,a){if(t){if(!a&&t[o])return t[o];if(t!==this.rootNode){let c=t[r];if(c)return c;for(let d=t.parentNode;d&&d!==this.rootNode;d=d.parentNode)if(c=d[r],c)return c}}}findPreviousNode(t,o){if(t){const r=t.previousSibling;if(this.rootNode&&r===this.rootNode)return;if(r){if(!o){for(let c=r.lastChild;c;c=c.lastChild)if(!c.lastChild)return c}return r}const a=t.parentNode;if(a&&a!==this.rootNode)return a}}}const ds="\uFEFF",Ca=" ",md=e=>e===ds,Hf=e=>e.replace(/\uFEFF/g,""),$f=/^[ \t\r\n]*$/,Ji=e=>$f.test(e),Ei=e=>{for(const t of e)if(!md(t))return!1;return!0},Vf=e=>" \f	\v".indexOf(e)!==-1,Vc=e=>e===`
`||e==="\r",Jy=(e,t)=>t<e.length&&t>=0?Vc(e[t]):!1,Wm=(e,t=4,o=!0,r=!0)=>{const a=Es(" ",t),c=e.replace(/\t/g,a);return uo(c,(g,v)=>Vf(v)||v===Ca?g.pcIsSpace||g.str===""&&o||g.str.length===c.length-1&&r||Jy(c,g.str.length+1)?{pcIsSpace:!1,str:g.str+Ca}:{pcIsSpace:!0,str:g.str+" "}:{pcIsSpace:Vc(v),str:g.str+v},{pcIsSpace:!1,str:""}).str},pd=e=>t=>!!t&&t.nodeType===e,Fd=e=>!!e&&!Object.getPrototypeOf(e),jt=pd(1),mc=e=>jt(e)&&wi(me.fromDom(e)),jf=e=>jt(e)&&e.namespaceURI==="http://www.w3.org/2000/svg",Hd=e=>{const t=e.toLowerCase();return o=>$e(o)&&o.nodeName.toLowerCase()===t},Ba=e=>{const t=e.map(o=>o.toLowerCase());return o=>{if(o&&o.nodeName){const r=o.nodeName.toLowerCase();return on(t,r)}return!1}},jl=(e,t)=>{const o=t.toLowerCase().split(" ");return r=>{if(jt(r)){const a=r.ownerDocument.defaultView;if(a)for(let c=0;c<o.length;c++){const d=a.getComputedStyle(r,null);if((d?d.getPropertyValue(e):null)===o[c])return!0}}return!1}},Xu=e=>t=>jt(t)&&t.hasAttribute(e),$d=e=>jt(e)&&e.hasAttribute("data-mce-bogus"),jp=e=>jt(e)&&e.getAttribute("data-mce-bogus")==="all",pc=e=>jt(e)&&e.tagName==="TABLE",Uf=e=>t=>!!(mc(t)&&(t.contentEditable===e||t.getAttribute("data-mce-contenteditable")===e)),Zf=Ba(["textarea","input"]),pt=pd(3),Up=pd(4),Vd=pd(7),Uo=pd(8),qt=pd(9),jd=pd(11),Zr=Hd("br"),Ul=Hd("img"),Zl=Uf("true"),zo=Uf("false"),Ju=Ba(["td","th"]),vb=Ba(["td","th","caption"]),je=Ba(["video","audio","object","embed"]),Zp=Hd("li"),Wf=Hd("details"),qf=Hd("summary"),Qu={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},yu=(e,t,o)=>{const r=me.fromDom(t),a=me.fromDom(e),c=o.getWhitespaceElements();return jg(a,g=>po(c,gn(g)),kt(fn,r))},xb=e=>jt(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),Ud=(e,t)=>jt(e)&&po(t.getNonEmptyElements(),e.nodeName),Er=Xu("data-mce-bookmark"),jc=e=>Id(me.fromDom(e)).exists(t=>!qr(t)),Wp=(e,t,o)=>Ji(e.data)&&!yu(e,t,o),Wl=(e,t,o,r)=>pt(e)&&!Wp(e,t,o)&&(!r.includeZwsp||!Ei(e.data)),vu=(e,t,o,r)=>Pt(r.isContent)&&r.isContent(t)||Ud(t,e)||Er(t)||xb(t)||Wl(t,o,e,r)||zo(t)||Zl(t)&&jc(t),Ol=(e,t,o)=>{const r={...Qu,...o};if(r.checkRootAsContent&&vu(e,t,t,r))return!1;let a=t.firstChild,c=0;if(!a)return!0;const d=new Ka(a,t);do{if(r.skipBogus&&jt(a)){const g=a.getAttribute("data-mce-bogus");if(g){a=d.next(g==="all");continue}}if(Uo(a)){a=d.next(!0);continue}if(Zr(a)){c++,a=d.next();continue}if(vu(e,a,t,r))return!1;a=d.next()}while(a);return c<=1},us=(e,t,o)=>Ol(e,t.dom,{checkRootAsContent:!0,...o}),xu=(e,t,o)=>vu(e,t,t,{includeZwsp:Qu.includeZwsp,...o}),Ms=e=>{let t=e;return{get:()=>t,set:a=>{t=a}}},qm=e=>{const t=Ms(H.none()),o=()=>t.get().each(e);return{clear:()=>{o(),t.set(H.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:g=>{o(),t.set(H.some(g))}}},ql=e=>{const t=Ms(H.none()),o=()=>t.get().each(g=>clearInterval(g));return{clear:()=>{o(),t.set(H.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:g=>{o(),t.set(H.some(setInterval(g,e)))}}},da=()=>{const e=qm(Yt);return{...e,on:o=>e.get().each(o)}},ft=e=>{const t=e.toLowerCase();return t==="svg"?"svg":t==="math"?"math":"html"},ku=e=>ft(e)!=="html",ua=e=>ku(e.nodeName),kb=e=>ft(e.nodeName),k=["svg","math"],z=()=>{const e=da(),t=()=>e.get().map(kb).getOr("html");return{track:a=>(ua(a)?e.set(a):e.get().exists(c=>!c.contains(a))&&e.clear(),t()),current:t,reset:()=>{e.clear()}}},V="data-mce-block",Q=e=>et(st(e),t=>!/[A-Z]/.test(t)),xe=e=>Jo(Q(e),t=>{const o=CSS.escape(t);return`${o}:`+Jo(k,r=>`not(${r} ${o})`).join(":")}).join(","),We=(e,t)=>$e(t.querySelector(e))?(t.setAttribute(V,"true"),t.getAttribute("data-mce-selected")==="inline-boundary"&&t.removeAttribute("data-mce-selected"),!0):(t.removeAttribute(V),!1),ht=(e,t)=>{const o=xe(e.getTransparentElements()),r=xe(e.getBlockElements());return et(t.querySelectorAll(o),a=>We(r,a))},bt=(e,t,o)=>{var r;const a=o?"lastChild":"firstChild";for(let c=t[a];c;c=c[a])if(Ol(e,c,{checkRootAsContent:!0})){(r=c.parentNode)===null||r===void 0||r.removeChild(c);return}},ko=(e,t,o)=>{const r=document.createRange(),a=t.parentNode;if(a){r.setStartBefore(t),r.setEndBefore(o);const c=r.extractContents();bt(e,c,!0),r.setStartAfter(o),r.setEndAfter(t);const d=r.extractContents();bt(e,d,!1),Ol(e,c,{checkRootAsContent:!0})||a.insertBefore(c,t),Ol(e,o,{checkRootAsContent:!0})||a.insertBefore(o,t),Ol(e,d,{checkRootAsContent:!0})||a.insertBefore(d,t),a.removeChild(t)}},Kt=(e,t,o)=>{const r=e.getBlockElements(),a=me.fromDom(t),c=g=>gn(g)in r,d=g=>fn(g,a);Re(Si(o),g=>{_i(g,c,d).each(v=>{const A=bu(g,M=>c(M)&&!e.isValidChild(gn(v),gn(M)));if(A.length>0){const M=Id(v);Re(A,I=>{_i(I,c,d).each(L=>{ko(e,L.dom,I.dom)})}),M.each(I=>ht(e,I.dom))}})})},an=(e,t,o)=>{Re([...o,...Uc(e,t)?[t]:[]],r=>Re(qs(me.fromDom(r),r.nodeName.toLowerCase()),a=>{Gm(e,a.dom)&&Ma(a)}))},Po=(e,t)=>{const o=ht(e,t);Kt(e,t,o),an(e,t,o)},qn=(e,t)=>{if(hc(e,t)){const o=xe(e.getBlockElements());We(o,t)}},fa=(e,t,o)=>{const r=c=>fn(c,me.fromDom(t)),a=Gu(me.fromDom(o),r);$s(a,a.length-2).filter(hs).fold(()=>Po(e,t),c=>Po(e,c.dom))},Xr=e=>e.hasAttribute(V),gc=(e,t)=>po(e.getTransparentElements(),t),hc=(e,t)=>jt(t)&&gc(e,t.nodeName),Uc=(e,t)=>hc(e,t)&&Xr(t),Gm=(e,t)=>hc(e,t)&&!Xr(t),gd=(e,t)=>t.type===1&&gc(e,t.name)&&mt(t.attr(V)),ef=lt().browser,Gf=e=>Tn(e,hs),wu=e=>ef.isFirefox()&&gn(e)==="table"?Gf(Na(e)).filter(t=>gn(t)==="caption").bind(t=>Gf(mu(t)).map(o=>{const r=o.dom.offsetTop,a=t.dom.offsetTop,c=t.dom.offsetHeight;return r<=a?-c:0})).getOr(0):0,tf=(e,t)=>e.children&&on(e.children,t),Ug=(e,t,o)=>{let r=0,a=0;const c=e.ownerDocument;if(o=o||e,t){if(o===e&&t.getBoundingClientRect&&ys(me.fromDom(e),"position")==="static"){const g=t.getBoundingClientRect();return r=g.left+(c.documentElement.scrollLeft||e.scrollLeft)-c.documentElement.clientLeft,a=g.top+(c.documentElement.scrollTop||e.scrollTop)-c.documentElement.clientTop,{x:r,y:a}}let d=t;for(;d&&d!==o&&d.nodeType&&!tf(d,o);){const g=d;r+=g.offsetLeft||0,a+=g.offsetTop||0,d=g.offsetParent}for(d=t.parentNode;d&&d!==o&&d.nodeType&&!tf(d,o);)r-=d.scrollLeft||0,a-=d.scrollTop||0,d=d.parentNode;a+=wu(me.fromDom(t))}return{x:r,y:a}},_u=(e,t={})=>{let o=0;const r={},a=me.fromDom(e),c=zl(a),d=ye=>{t.referrerPolicy=ye},g=ye=>{t.contentCssCors=ye},v=ye=>{vs(pu(a),ye)},A=ye=>{const Se=pu(a);Ge(Se,"#"+ye).each(Wn)},M=ye=>Mn(r,ye).getOrThunk(()=>({id:"mce-u"+o++,passed:[],failed:[],count:0})),I=ye=>new Promise((Se,_e)=>{let Ne;const ot=ut._addCacheSuffix(ye),xt=M(ot);r[ot]=xt,xt.count++;const Mt=(Vt,oo)=>{Re(Vt,Nn),xt.status=oo,xt.passed=[],xt.failed=[],Ne&&(Ne.onload=null,Ne.onerror=null,Ne=null)},Ze=()=>Mt(xt.passed,2),Ie=()=>Mt(xt.failed,3);if(Se&&xt.passed.push(Se),_e&&xt.failed.push(_e),xt.status===1)return;if(xt.status===2){Ze();return}if(xt.status===3){Ie();return}xt.status=1;const Qe=me.fromTag("link",c.dom);ni(Qe,{rel:"stylesheet",type:"text/css",id:xt.id}),t.contentCssCors&&Ws(Qe,"crossOrigin","anonymous"),t.referrerPolicy&&Ws(Qe,"referrerpolicy",t.referrerPolicy),Ne=Qe.dom,Ne.onload=Ze,Ne.onerror=Ie,v(Qe),Ws(Qe,"href",ot)}),L=(ye,Se)=>{const _e=M(ye);r[ye]=_e,_e.count++;const Ne=me.fromTag("style",c.dom);ni(Ne,{rel:"stylesheet",type:"text/css",id:_e.id}),Ne.dom.innerHTML=Se,v(Ne)},Y=ye=>Promise.allSettled(Jo(ye,_e=>I(_e).then(we(_e)))).then(_e=>{const Ne=rt(_e,ot=>ot.status==="fulfilled");return Ne.fail.length>0?Promise.reject(Jo(Ne.fail,ot=>ot.reason)):Jo(Ne.pass,ot=>ot.value)}),re=ye=>{const Se=ut._addCacheSuffix(ye);Mn(r,Se).each(_e=>{--_e.count===0&&(delete r[Se],A(_e.id))})};return{load:I,loadRawCss:L,loadAll:Y,unload:re,unloadRawCss:ye=>{Mn(r,ye).each(Se=>{--Se.count===0&&(delete r[ye],A(Se.id))})},unloadAll:ye=>{Re(ye,Se=>{re(Se)})},_setReferrerPolicy:d,_setContentCssCors:g}},Jr=(()=>{const e=new WeakMap;return{forElement:(o,r)=>{const c=dc(o).dom;return H.from(e.get(c)).getOrThunk(()=>{const d=_u(c,r);return e.set(c,d),d})}}})(),ci=e=>e.nodeName.toLowerCase()==="span",ul=(e,t)=>$e(e)&&(xu(t,e)||t.isInline(e.nodeName.toLowerCase())),Zg=(e,t,o)=>{const r=new Ka(e,t).prev(!1),a=new Ka(e,t).next(!1),c=er(r)||ul(r,o),d=er(a)||ul(a,o);return c&&d},Km=e=>ci(e)&&e.getAttribute("data-mce-type")==="bookmark",Kf=(e,t,o)=>pt(e)&&e.data.length>0&&Zg(e,t,o),Yf=e=>jt(e)?e.childNodes.length>0:!1,Wg=e=>jd(e)||qt(e),qp=(e,t,o,r)=>{var a;const c=r||t;if(jt(t)&&Km(t))return t;const d=t.childNodes;for(let g=d.length-1;g>=0;g--)qp(e,d[g],o,c);if(jt(t)){const g=t.childNodes;g.length===1&&Km(g[0])&&((a=t.parentNode)===null||a===void 0||a.insertBefore(g[0],t))}return!Wg(t)&&!xu(o,t)&&!Yf(t)&&!Kf(t,c,o)&&e.remove(t),t},Qy=ut.makeMap,qg=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Gg=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Xf=/[<>&\"\']/g,Gp=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,e1={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},Cu={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Ym={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Xm=e=>{const t=me.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e},Su=(e,t)=>{const o={};if(e){const r=e.split(",");t=t||10;for(let a=0;a<r.length;a+=2){const c=String.fromCharCode(parseInt(r[a],t));if(!Cu[c]){const d="&"+r[a+1]+";";o[c]=d,o[d]=c}}return o}else return},of=Su("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Kg=(e,t)=>e.replace(t?qg:Gg,o=>Cu[o]||o),zw=e=>(""+e).replace(Xf,t=>Cu[t]||t),Yg=(e,t)=>e.replace(t?qg:Gg,o=>o.length>1?"&#"+((o.charCodeAt(0)-55296)*1024+(o.charCodeAt(1)-56320)+65536)+";":Cu[o]||"&#"+o.charCodeAt(0)+";"),Zc=(e,t,o)=>{const r=o||of;return e.replace(t?qg:Gg,a=>Cu[a]||r[a]||a)},Jm={encodeRaw:Kg,encodeAllRaw:zw,encodeNumeric:Yg,encodeNamed:Zc,getEncodeFunc:(e,t)=>{const o=Su(t)||of,r=(d,g)=>d.replace(g?qg:Gg,v=>Cu[v]!==void 0?Cu[v]:o[v]!==void 0?o[v]:v.length>1?"&#"+((v.charCodeAt(0)-55296)*1024+(v.charCodeAt(1)-56320)+65536)+";":"&#"+v.charCodeAt(0)+";"),a=(d,g)=>Zc(d,g,o),c=Qy(e.replace(/\+/g,","));return c.named&&c.numeric?r:c.named?t?a:Zc:c.numeric?Yg:Kg},decode:e=>e.replace(Gp,(t,o)=>o?(o.charAt(0).toLowerCase()==="x"?o=parseInt(o.substr(1),16):o=parseInt(o,10),o>65535?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(o&1023))):e1[o]||String.fromCharCode(o)):Ym[t]||of[t]||Xm(t))},di=(e,t)=>(e=ut.trim(e),e?e.split(t||" "):[]),Qm=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),ep=e=>ce(e)&&e.source&&Object.prototype.toString.call(e)==="[object RegExp]",wb=e=>{const t=o=>ve(o)?Jo(o,t):ep(o)?new RegExp(o.source,o.flags):ce(o)?vi(o,t):o;return t(e)},Sn=e=>{const t=/^(~)?(.+)$/;return vn(di(e,","),o=>{const r=t.exec(o);if(r){const c=r[1]==="~"?"span":"div",d=r[2];return[{cloneName:c,name:d}]}else return[]})},fl=e=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",...e!=="html4"?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate","itemprop","itemscope","itemtype"]:[],...e!=="html5-strict"?["xml:lang"]:[]]),Zd=e=>{let t,o;t="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",o="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(t+=" article aside details dialog figure main header footer hgroup section nav "+"a ins del canvas map",o+=" audio canvas command data datalist mark meter output picture progress time wbr video ruby bdi keygen svg"),e!=="html5-strict"&&(o=[o,"acronym applet basefont big font strike tt"].join(" "),t=[t,"center dir isindex noframes"].join(" "));const r=[t,o].join(" ");return{blockContent:t,phrasingContent:o,flowContent:r}},Ai=e=>{const{blockContent:t,phrasingContent:o,flowContent:r}=Zd(e),a=c=>Object.freeze(c.split(" "));return Object.freeze({blockContent:a(t),phrasingContent:a(o),flowContent:a(r)})},Ar={html4:Oa(()=>Ai("html4")),html5:Oa(()=>Ai("html5")),"html5-strict":Oa(()=>Ai("html5-strict"))},Xg=(e,t)=>{const{blockContent:o,phrasingContent:r,flowContent:a}=Ar[e]();return t==="blocks"?H.some(o):t==="phrasing"?H.some(r):t==="flow"?H.some(a):H.none()},Dv=e=>{const t=fl(e),{phrasingContent:o,flowContent:r}=Zd(e),a={},c=(v,A,M)=>{a[v]={attributes:_r(A,we({})),attributesOrder:A,children:_r(M,we({}))}},d=(v,A="",M="")=>{const I=di(M),L=di(v);let Y=L.length;const re=[...t,...di(A)];for(;Y--;)c(L[Y],re.slice(),I)},g=(v,A)=>{const M=di(v),I=di(A);let L=M.length;for(;L--;){const Y=a[M[L]];for(let re=0,X=I.length;re<X;re++)Y.attributes[I[re]]={},Y.attributesOrder.push(I[re])}};return e!=="html5-strict"&&(Re(di("acronym applet basefont big font strike tt"),M=>{d(M,"",o)}),Re(di("center dir isindex noframes"),M=>{d(M,"",r)})),d("html","manifest","head body"),d("head","","base command link meta noscript script style title"),d("title hr noscript br"),d("base","href target"),d("link","href rel media hreflang type sizes hreflang"),d("meta","name http-equiv content charset"),d("style","media type scoped"),d("script","src async defer type charset"),d("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",r),d("dd div","",r),d("address dt caption","",e==="html4"?o:r),d("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o),d("blockquote","cite",r),d("ol","reversed start type","li"),d("ul","","li"),d("li","value",r),d("dl","","dt dd"),d("a","href target rel media hreflang type",e==="html4"?o:r),d("q","cite",o),d("ins del","cite datetime",r),d("img","src sizes srcset alt usemap ismap width height"),d("iframe","src name width height",r),d("embed","src type width height"),d("object","data type typemustmatch name usemap form width height",[r,"param"].join(" ")),d("param","name value"),d("map","name",[r,"area"].join(" ")),d("area","alt coords shape href target rel media hreflang type"),d("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),d("colgroup","span","col"),d("col","span"),d("tbody thead tfoot","","tr"),d("tr","","td th"),d("td","colspan rowspan headers",r),d("th","colspan rowspan headers scope abbr",r),d("form","accept-charset action autocomplete enctype method name novalidate target",r),d("fieldset","disabled form name",[r,"legend"].join(" ")),d("label","form for",o),d("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),d("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?r:o),d("select","disabled form multiple name required size","option optgroup"),d("optgroup","disabled label","option"),d("option","disabled label selected value"),d("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),d("menu","type label",[r,"li"].join(" ")),d("noscript","",r),e!=="html4"&&(d("wbr"),d("ruby","",[o,"rt rp"].join(" ")),d("figcaption","",r),d("mark rt rp bdi","",o),d("summary","",[o,"h1 h2 h3 h4 h5 h6"].join(" ")),d("canvas","width height",r),d("data","value",o),d("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[r,"track source"].join(" ")),d("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[r,"track source"].join(" ")),d("picture","","img source"),d("source","src srcset type media sizes"),d("track","kind src srclang label default"),d("datalist","",[o,"option"].join(" ")),d("article section nav aside main header footer","",r),d("hgroup","","h1 h2 h3 h4 h5 h6"),d("figure","",[r,"figcaption"].join(" ")),d("time","datetime",o),d("dialog","open",r),d("command","type label icon disabled checked radiogroup command"),d("output","for form name",o),d("progress","value max",o),d("meter","value min max low high optimum",o),d("details","open",[r,"summary"].join(" ")),d("keygen","autofocus challenge disabled form keytype name"),c("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),e!=="html5-strict"&&(g("script","language xml:space"),g("style","xml:space"),g("object","declare classid code codebase codetype archive standby align border hspace vspace"),g("embed","align name hspace vspace"),g("param","valuetype type"),g("a","charset name rev shape coords"),g("br","clear"),g("applet","codebase archive code object alt name width height align hspace vspace"),g("img","name longdesc align border hspace vspace"),g("iframe","longdesc frameborder marginwidth marginheight scrolling align"),g("font basefont","size color face"),g("input","usemap align"),g("select"),g("textarea"),g("h1 h2 h3 h4 h5 h6 div p legend caption","align"),g("ul","type compact"),g("li","type"),g("ol dl menu dir","compact"),g("pre","width xml:space"),g("hr","align noshade size width"),g("isindex","prompt"),g("table","summary width frame rules cellspacing cellpadding align bgcolor"),g("col","width align char charoff valign"),g("colgroup","width align char charoff valign"),g("thead","align char charoff valign"),g("tr","align char charoff valign bgcolor"),g("th","axis align char charoff valign nowrap bgcolor width height"),g("form","accept"),g("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),g("tfoot","align char charoff valign"),g("tbody","align char charoff valign"),g("area","nohref"),g("body","background bgcolor text link vlink alink")),e!=="html4"&&(g("input button select textarea","autofocus"),g("input textarea","placeholder"),g("a","download"),g("link script img","crossorigin"),g("img","loading"),g("iframe","sandbox seamless allow allowfullscreen loading referrerpolicy")),e!=="html4"&&Re([a.video,a.audio],v=>{delete v.children.audio,delete v.children.video}),Re(di("a form meter progress dfn"),v=>{a[v]&&delete a[v].children[v]}),delete a.caption.children.table,delete a.script,a},Tw=e=>e==="-"?"remove":"add",Qr=e=>{const t=/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/;return H.from(t.exec(e)).map(o=>({preset:o[1]==="@",name:o[2]}))},_b=e=>{const t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return vn(di(e,","),o=>{const r=t.exec(o);if(r){const a=r[1],c=a?Tw(a):"replace",d=r[2],g=vn(di(r[3],"|"),v=>Qr(v).toArray());return[{operation:c,name:d,validChildren:g}]}else return[]})},o1=(e,t)=>{const o=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,r=/[*?+]/,{attributes:a,attributesOrder:c}=t;return Re(di(e,"|"),d=>{const g=o.exec(d);if(g){const v={},A=g[1],M=g[2].replace(/[\\:]:/g,":"),I=g[3],L=g[4];if(A==="!"&&(t.attributesRequired=t.attributesRequired||[],t.attributesRequired.push(M),v.required=!0),A==="-"){delete a[M],c.splice(ut.inArray(c,M),1);return}if(I&&(I==="="?(t.attributesDefault=t.attributesDefault||[],t.attributesDefault.push({name:M,value:L}),v.defaultValue=L):I==="~"?(t.attributesForced=t.attributesForced||[],t.attributesForced.push({name:M,value:L}),v.forcedValue=L):I==="<"&&(v.validValues=ut.makeMap(L,"?"))),r.test(M)){const Y=v;t.attributePatterns=t.attributePatterns||[],Y.pattern=Qm(M),t.attributePatterns.push(Y)}else a[M]||c.push(M),a[M]=v}})},Jf=(e,t)=>{Bo(e.attributes,(o,r)=>{t.attributes[r]=o}),t.attributesOrder.push(...e.attributesOrder)},Wc=(e,t)=>{const o=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return vn(di(t,","),r=>{const a=o.exec(r);if(a){const c=a[1],d=a[2],g=a[3],v=a[4],A=a[5],M={attributes:{},attributesOrder:[]};if(e.each(I=>Jf(I,M)),c==="#"?M.paddEmpty=!0:c==="-"&&(M.removeEmpty=!0),v==="!"&&(M.removeEmptyAttrs=!0),A&&o1(A,M),g&&(M.outputName=d),d==="@")if(e.isNone())e=H.some(M);else return[];return[g?{name:d,element:M,aliasName:g}:{name:d,element:M}]}else return[]})},Kp={},Bt=ut.makeMap,hd=ut.each,n1=ut.extend,Cb=ut.explode,Yp=(e,t={})=>{const o=Bt(e," ",Bt(e.toUpperCase()," "));return n1(o,t)},Sb=e=>Yp("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),tp=(e,t)=>{if(e){const o={};return mt(e)&&(e={"*":e}),hd(e,(r,a)=>{o[a]=o[a.toUpperCase()]=t==="map"?Bt(r,/[, ]/):Cb(r,/[, ]/)}),o}else return},qc=(e={})=>{var t;const o={},r={};let a=[];const c={},d={},g=(ao,Pn,Ls)=>{const ga=e[ao];if(ga)return Bt(ga,/[, ]/,Bt(ga.toUpperCase(),/[, ]/));{let ei=Kp[ao];return ei||(ei=Yp(Pn,Ls),Kp[ao]=ei),ei}},v=(t=e.schema)!==null&&t!==void 0?t:"html5",A=Dv(v);e.verify_html===!1&&(e.valid_elements="*[*]");const M=tp(e.valid_styles),I=tp(e.invalid_styles,"map"),L=tp(e.valid_classes,"map"),Y=g("whitespace_elements","pre script noscript style textarea video audio iframe object code"),re=g("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),X=g("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),ae=g("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),ye="td th iframe video audio object script code",Se=g("non_empty_elements",ye+" pre svg textarea summary",X),_e=g("move_caret_before_on_enter_elements",ye+" table",X),Ne="h1 h2 h3 h4 h5 h6",ot=g("text_block_elements",Ne+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),xt=g("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing",ot),Mt=g("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),Ze=g("transparent_elements","a ins del canvas map"),Ie=g("wrap_block_elements","pre "+Ne);hd("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),ao=>{d[ao]=new RegExp("</"+ao+"[^>]*>","gi")});const Qe=ao=>{const Pn=H.from(o["@"]),Ls=/[*?+]/;Re(Wc(Pn,ao??""),({name:ga,element:ei,aliasName:sl})=>{if(sl&&(o[sl]=ei),Ls.test(ga)){const Fa=ei;Fa.pattern=Qm(ga),a.push(Fa)}else o[ga]=ei})},Vt=ao=>{a=[],Re(st(o),Pn=>{delete o[Pn]}),Qe(ao)},oo=(ao,Pn)=>{var Ls,ga;delete Kp.text_block_elements,delete Kp.block_elements;const ei=Pn.extends?!cu(Pn.extends):!1,sl=Pn.extends;if(r[ao]=sl?r[sl]:{},c[ao]=sl??ao,Se[ao.toUpperCase()]={},Se[ao]={},ei||(xt[ao.toUpperCase()]={},xt[ao]={}),sl&&!o[ao]&&o[sl]){const Fa=wb(o[sl]);delete Fa.removeEmptyAttrs,delete Fa.removeEmpty,o[ao]=Fa}else o[ao]={attributesOrder:[],attributes:{}};if(ve(Pn.attributes)){const Fa=Ec=>{Ha.attributesOrder.push(Ec),Ha.attributes[Ec]={}},Ha=(Ls=o[ao])!==null&&Ls!==void 0?Ls:{};delete Ha.attributesDefault,delete Ha.attributesForced,delete Ha.attributePatterns,delete Ha.attributesRequired,Ha.attributesOrder=[],Ha.attributes={},Re(Pn.attributes,Ec=>{const Bm=fl(v);Qr(Ec).each(({preset:Im,name:Pm})=>{Im?Pm==="global"&&Re(Bm,Fa):Fa(Pm)})}),o[ao]=Ha}if($r(Pn.padEmpty)){const Fa=(ga=o[ao])!==null&&ga!==void 0?ga:{};Fa.paddEmpty=Pn.padEmpty,o[ao]=Fa}if(ve(Pn.children)){const Fa={},Ha=Bm=>{Fa[Bm]={}},Ec=Bm=>{Xg(v,Bm).each(Im=>{Re(Im,Ha)})};Re(Pn.children,Bm=>{Qr(Bm).each(({preset:Im,name:Pm})=>{Im?Ec(Pm):Ha(Pm)})}),r[ao]=Fa}sl&&Bo(r,(Fa,Ha)=>{Fa[sl]&&(r[Ha]=Fa=n1({},r[Ha]),Fa[ao]=Fa[sl])})},nn=ao=>{Re(Sn(ao??""),({name:Pn,cloneName:Ls})=>{oo(Pn,{extends:Ls})})},mn=ao=>{ce(ao)?Bo(ao,(Pn,Ls)=>oo(Ls,Pn)):mt(ao)&&nn(ao)},ir=ao=>{Re(_b(ao??""),({operation:Pn,name:Ls,validChildren:ga})=>{const ei=Pn==="replace"?{"#comment":{}}:r[Ls],sl=Ha=>{Pn==="remove"?delete ei[Ha]:ei[Ha]={}},Fa=Ha=>{Xg(v,Ha).each(Ec=>{Re(Ec,sl)})};Re(ga,({preset:Ha,name:Ec})=>{Ha?Fa(Ec):sl(Ec)}),r[Ls]=ei})},gr=ao=>{const Pn=o[ao];if(Pn)return Pn;let Ls=a.length;for(;Ls--;){const ga=a[Ls];if(ga.pattern.test(ao))return ga}},na=()=>{e.valid_elements?(Vt(e.valid_elements),hd(A,(ao,Pn)=>{r[Pn]=ao.children})):(hd(A,(ao,Pn)=>{o[Pn]={attributes:ao.attributes,attributesOrder:ao.attributesOrder},r[Pn]=ao.children}),hd(di("strong/b em/i"),ao=>{const Pn=di(ao,"/");o[Pn[1]].outputName=Pn[0]}),hd(Mt,(ao,Pn)=>{o[Pn]&&(e.padd_empty_block_inline_children&&(o[Pn].paddInEmptyBlock=!0),o[Pn].removeEmpty=!0)}),hd(di("ol ul blockquote a table tbody"),ao=>{o[ao]&&(o[ao].removeEmpty=!0)}),hd(di("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),ao=>{o[ao]&&(o[ao].paddEmpty=!0)}),hd(di("span"),ao=>{o[ao].removeEmptyAttrs=!0})),delete o.svg,mn(e.custom_elements),ir(e.valid_children),Qe(e.extended_valid_elements),ir("+ol[ul|ol],+ul[ul|ol]"),hd({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(ao,Pn)=>{o[Pn]&&(o[Pn].parentsRequired=di(ao))}),e.invalid_elements&&hd(Cb(e.invalid_elements),ao=>{o[ao]&&delete o[ao]}),gr("span")||Qe("span[!data-mce-type|*]")},xl=we(M),Or=we(I),St=we(L),Qt=we(ae),Kn=we(xt),zt=we(ot),mo=we(Mt),cn=we(Object.seal(X)),Nt=we(re),rn=we(Se),hn=we(_e),Di=we(Y),pr=we(Ze),bi=we(Ie),Tf=we(Object.seal(d)),Fp=(ao,Pn)=>{const Ls=r[ao.toLowerCase()];return!!(Ls&&Ls[Pn.toLowerCase()])},Sc=(ao,Pn)=>{const Ls=gr(ao);if(Ls)if(Pn){if(Ls.attributes[Pn])return!0;const ga=Ls.attributePatterns;if(ga){let ei=ga.length;for(;ei--;)if(ga[ei].pattern.test(Pn))return!0}}else return!0;return!1},cu=ao=>po(Kn(),ao),Of=ao=>!lr(ao,"#")&&Sc(ao)&&!cu(ao),du=ao=>po(bi(),ao)||Of(ao),Df=we(c);return na(),{type:v,children:r,elements:o,getValidStyles:xl,getValidClasses:St,getBlockElements:Kn,getInvalidStyles:Or,getVoidElements:cn,getTextBlockElements:zt,getTextInlineElements:mo,getBoolAttrs:Qt,getElementRule:gr,getSelfClosingElements:Nt,getNonEmptyElements:rn,getMoveCaretBeforeOnEnterElements:hn,getWhitespaceElements:Di,getTransparentElements:pr,getSpecialElements:Tf,isValidChild:Fp,isValid:Sc,isBlock:cu,isInline:Of,isWrapper:du,getCustomElements:Df,addValidElements:Qe,setValidElements:Vt,addCustomElements:mn,addValidChildren:ir}},Ow=e=>({value:Eb(e)}),Eb=e=>oi(e,"#").toUpperCase(),r1=e=>{const t=e.toString(16);return(t.length===1?"0"+t:t).toUpperCase()},Ab=e=>{const t=r1(e.red)+r1(e.green)+r1(e.blue);return Ow(t)},s1=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,a1=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,zb=(e,t,o,r)=>({red:e,green:t,blue:o,alpha:r}),i1=(e,t,o,r)=>{const a=parseInt(e,10),c=parseInt(t,10),d=parseInt(o,10),g=parseFloat(r);return zb(a,c,d,g)},l1=e=>s1.test(e)?"rgb":a1.test(e)?"rgba":"other",Rv=e=>{const t=s1.exec(e);if(t!==null)return H.some(i1(t[1],t[2],t[3],"1"));const o=a1.exec(e);return o!==null?H.some(i1(o[1],o[2],o[3],o[4])):H.none()},Dw=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,Jg=e=>Rv(e).map(Ab).map(t=>"#"+t.value).getOr(e),c1=(e={},t)=>{const o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,r=/\s*([^:]+):\s*([^;]+);?/g,a=/\s+$/,c={};let d,g;const v=ds;t&&(d=t.getValidStyles(),g=t.getInvalidStyles());const A=(`\\" \\' \\; \\: ; : `+v).split(" ");for(let I=0;I<A.length;I++)c[A[I]]=v+I,c[v+I]=A[I];const M={parse:I=>{const L={};let Y=!1;const re=e.url_converter,X=e.url_converter_scope||M,ae=(Ze,Ie,Qe)=>{const Vt=L[Ze+"-top"+Ie];if(!Vt)return;const oo=L[Ze+"-right"+Ie];if(!oo)return;const nn=L[Ze+"-bottom"+Ie];if(!nn)return;const mn=L[Ze+"-left"+Ie];if(!mn)return;const ir=[Vt,oo,nn,mn];let gr=ir.length-1;for(;gr--&&ir[gr]===ir[gr+1];);gr>-1&&Qe||(L[Ze+Ie]=gr===-1?ir[0]:ir.join(" "),delete L[Ze+"-top"+Ie],delete L[Ze+"-right"+Ie],delete L[Ze+"-bottom"+Ie],delete L[Ze+"-left"+Ie])},ye=Ze=>{const Ie=L[Ze];if(!Ie)return;const Qe=Ie.indexOf(",")>-1?[Ie]:Ie.split(" ");let Vt=Qe.length;for(;Vt--;)if(Qe[Vt]!==Qe[0])return!1;return L[Ze]=Qe[0],!0},Se=(Ze,Ie,Qe,Vt)=>{ye(Ie)&&ye(Qe)&&ye(Vt)&&(L[Ze]=L[Ie]+" "+L[Qe]+" "+L[Vt],delete L[Ie],delete L[Qe],delete L[Vt])},_e=Ze=>(Y=!0,c[Ze]),Ne=(Ze,Ie)=>(Y&&(Ze=Ze.replace(/\uFEFF[0-9]/g,Qe=>c[Qe])),Ie||(Ze=Ze.replace(/\\([\'\";:])/g,"$1")),Ze),ot=Ze=>String.fromCharCode(parseInt(Ze.slice(1),16)),xt=Ze=>Ze.replace(/\\[0-9a-f]+/gi,ot),Mt=(Ze,Ie,Qe,Vt,oo,nn)=>{if(oo=oo||nn,oo)return oo=Ne(oo),"'"+oo.replace(/\'/g,"\\'")+"'";if(Ie=Ne(Ie||Qe||Vt||""),!e.allow_script_urls){const mn=Ie.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(mn)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(mn))return""}return re&&(Ie=re.call(X,Ie,"style")),"url('"+Ie.replace(/\'/g,"\\'")+"')"};if(I){I=I.replace(/[\u0000-\u001F]/g,""),I=I.replace(/\\[\"\';:\uFEFF]/g,_e).replace(/\"[^\"]+\"|\'[^\']+\'/g,Ie=>Ie.replace(/[;:]/g,_e));let Ze;for(;Ze=r.exec(I);){r.lastIndex=Ze.index+Ze[0].length;let Ie=Ze[1].replace(a,"").toLowerCase(),Qe=Ze[2].replace(a,"");if(Ie&&Qe){if(Ie=xt(Ie),Qe=xt(Qe),Ie.indexOf(v)!==-1||Ie.indexOf('"')!==-1||!e.allow_script_urls&&(Ie==="behavior"||/expression\s*\(|\/\*|\*\//.test(Qe)))continue;Ie==="font-weight"&&Qe==="700"?Qe="bold":(Ie==="color"||Ie==="background-color")&&(Qe=Qe.toLowerCase()),l1(Qe)==="rgb"&&Rv(Qe).each(Vt=>{Qe=Jg(Dw(Vt)).toLowerCase()}),Qe=Qe.replace(o,Mt),L[Ie]=Y?Ne(Qe,!0):Qe}}ae("border","",!0),ae("border","-width"),ae("border","-color"),ae("border","-style"),ae("padding",""),ae("margin",""),Se("border","border-width","border-style","border-color"),L.border==="medium none"&&delete L.border,L["border-image"]==="none"&&delete L["border-image"]}return L},serialize:(I,L)=>{let Y="";const re=(ae,ye)=>{const Se=ye[ae];if(Se)for(let _e=0,Ne=Se.length;_e<Ne;_e++){const ot=Se[_e],xt=I[ot];xt&&(Y+=(Y.length>0?" ":"")+ot+": "+xt+";")}},X=(ae,ye)=>{if(!g||!ye)return!0;let Se=g["*"];return Se&&Se[ae]?!1:(Se=g[ye],!(Se&&Se[ae]))};return L&&d?(re("*",d),re(L,d)):Bo(I,(ae,ye)=>{ae&&X(ye,L)&&(Y+=(Y.length>0?" ":"")+ye+": "+ae+";")}),Y}};return M},op={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},Rw=e=>e instanceof Event||Pt(e.initEvent),Nw=e=>e.isDefaultPrevented===Co||e.isDefaultPrevented===yn,nf=e=>Io(e.preventDefault)||Rw(e),Qf=(e,t)=>{const o=t??{};for(const r in e)po(op,r)||(o[r]=e[r]);return $e(e.composedPath)&&(o.composedPath=()=>e.composedPath()),$e(e.getModifierState)&&(o.getModifierState=r=>e.getModifierState(r)),$e(e.getTargetRanges)&&(o.getTargetRanges=()=>e.getTargetRanges()),o},Tb=(e,t,o,r)=>{var a;const c=Qf(t,r);return c.type=e,Io(c.target)&&(c.target=(a=c.srcElement)!==null&&a!==void 0?a:o),nf(t)&&(c.preventDefault=()=>{c.defaultPrevented=!0,c.isDefaultPrevented=Co,Pt(t.preventDefault)&&t.preventDefault()},c.stopPropagation=()=>{c.cancelBubble=!0,c.isPropagationStopped=Co,Pt(t.stopPropagation)&&t.stopPropagation()},c.stopImmediatePropagation=()=>{c.isImmediatePropagationStopped=Co,c.stopPropagation()},Nw(c)||(c.isDefaultPrevented=c.defaultPrevented===!0?Co:yn,c.isPropagationStopped=c.cancelBubble===!0?Co:yn,c.isImmediatePropagationStopped=yn)),c},Nv="mce-data-",d1=/^(?:mouse|contextmenu)|click/,Qg=(e,t,o,r)=>{e.addEventListener(t,o,r||!1)},Eu=(e,t,o,r)=>{e.removeEventListener(t,o,r||!1)},Ob=e=>$e(e)&&d1.test(e.type),ma=(e,t)=>{const o=Tb(e.type,e,document,t);if(Ob(e)&&er(e.pageX)&&!er(e.clientX)){const r=o.target.ownerDocument||document,a=r.documentElement,c=r.body,d=o;d.pageX=e.clientX+(a&&a.scrollLeft||c&&c.scrollLeft||0)-(a&&a.clientLeft||c&&c.clientLeft||0),d.pageY=e.clientY+(a&&a.scrollTop||c&&c.scrollTop||0)-(a&&a.clientTop||c&&c.clientTop||0)}return o},Os=(e,t,o)=>{const r=e.document,a={type:"ready"};if(o.domLoaded){t(a);return}const c=()=>r.readyState==="complete"||r.readyState==="interactive"&&r.body,d=()=>{Eu(e,"DOMContentLoaded",d),Eu(e,"load",d),o.domLoaded||(o.domLoaded=!0,t(a)),e=null};c()?d():Qg(e,"DOMContentLoaded",d),o.domLoaded||Qg(e,"load",d)};class rf{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=Nv+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(t,o,r,a){const c=this;let d;const g=window,v=L=>{c.executeHandlers(ma(L||g.event),A)};if(!t||pt(t)||Uo(t))return r;let A;t[c.expando]?A=t[c.expando]:(A=c.count++,t[c.expando]=A,c.events[A]={}),a=a||t;const M=o.split(" ");let I=M.length;for(;I--;){let L=M[I],Y=v,re=!1,X=!1;if(L==="DOMContentLoaded"&&(L="ready"),c.domLoaded&&L==="ready"&&t.readyState==="complete"){r.call(a,ma({type:L}));continue}!c.hasFocusIn&&(L==="focusin"||L==="focusout")&&(re=!0,X=L==="focusin"?"focus":"blur",Y=ae=>{const ye=ma(ae||g.event);ye.type=ye.type==="focus"?"focusin":"focusout",c.executeHandlers(ye,A)}),d=c.events[A][L],d?L==="ready"&&c.domLoaded?r(ma({type:L})):d.push({func:r,scope:a}):(c.events[A][L]=d=[{func:r,scope:a}],d.fakeName=X,d.capture=re,d.nativeHandler=Y,L==="ready"?Os(t,Y,c):Qg(t,X||L,Y,re))}return t=d=null,r}unbind(t,o,r){if(!t||pt(t)||Uo(t))return this;const a=t[this.expando];if(a){let c=this.events[a];if(o){const d=o.split(" ");let g=d.length;for(;g--;){const v=d[g],A=c[v];if(A){if(r){let M=A.length;for(;M--;)if(A[M].func===r){const I=A.nativeHandler,L=A.fakeName,Y=A.capture,re=A.slice(0,M).concat(A.slice(M+1));re.nativeHandler=I,re.fakeName=L,re.capture=Y,c[v]=re}}(!r||A.length===0)&&(delete c[v],Eu(t,A.fakeName||v,A.nativeHandler,A.capture))}}}else Bo(c,(d,g)=>{Eu(t,d.fakeName||g,d.nativeHandler,d.capture)}),c={};for(const d in c)if(po(c,d))return this;delete this.events[a];try{delete t[this.expando]}catch{t[this.expando]=null}}return this}fire(t,o,r){return this.dispatch(t,o,r)}dispatch(t,o,r){if(!t||pt(t)||Uo(t))return this;const a=ma({type:o,target:t},r);do{const c=t[this.expando];c&&this.executeHandlers(a,c),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!a.isPropagationStopped());return this}clean(t){if(!t||pt(t)||Uo(t))return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName){this.unbind(t);const o=t.getElementsByTagName("*");let r=o.length;for(;r--;)t=o[r],t[this.expando]&&this.unbind(t)}return this}destroy(){this.events={}}cancel(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1}executeHandlers(t,o){const r=this.events[o],a=r&&r[t.type];if(a)for(let c=0,d=a.length;c<d;c++){const g=a[c];if(g&&g.func.call(g.scope,t)===!1&&t.preventDefault(),t.isImmediatePropagationStopped())return}}}rf.Event=new rf;const u1=ut.each,Db=ut.grep,Ya="data-mce-style",Qi=ut.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),np=(e,t,o)=>{Io(o)||o===""?Go(e,t):Ws(e,t,o)},sf=e=>e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),em=(e,t)=>{let o=0;if(e)for(let r=e.nodeType,a=e.previousSibling;a;a=a.previousSibling){const c=a.nodeType;t&&pt(a)&&(c===r||!a.data.length)||(o++,r=c)}return o},Rb=(e,t)=>{const o=qa(t,"style"),r=e.serialize(e.parse(o),gn(t));np(t,Ya,r)},Mv=(e,t)=>T(e)?po(Qi,t)?e+"":e+"px":e,f1=(e,t,o)=>{const r=sf(t);Io(o)||o===""?uc(e,r):Ci(e,r,Mv(o,r))},tm=(e,t,o)=>{const r=t.keep_values,a={set:(d,g,v)=>{const A=me.fromDom(d);Pt(t.url_converter)&&$e(g)&&(g=t.url_converter.call(t.url_converter_scope||o(),String(g),v,d));const M="data-mce-"+v;np(A,M,g),np(A,v,g)},get:(d,g)=>{const v=me.fromDom(d);return qa(v,"data-mce-"+g)||qa(v,g)}},c={style:{set:(d,g)=>{const v=me.fromDom(d);r&&np(v,Ya,g),Go(v,"style"),mt(g)&&sn(v,e.parse(g))},get:d=>{const g=me.fromDom(d),v=qa(g,Ya)||qa(g,"style");return e.serialize(e.parse(v),gn(g))}}};return r&&(c.href=c.src=a),c},zr=(e,t={})=>{const o={},r=window,a={};let c=0;const d=!0,g=!0,v=Jr.forElement(me.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),A=[],M=t.schema?t.schema:qc({}),I=c1({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),L=t.ownEvents?new rf:rf.Event,Y=M.getBlockElements(),re=Be=>mt(Be)?po(Y,Be):jt(Be)&&(po(Y,Be.nodeName)||Uc(M,Be)),X=Be=>Be&&e&&mt(Be)?e.getElementById(Be):Be,ae=Be=>{const Pe=X(Be);return $e(Pe)?me.fromDom(Pe):null},ye=(Be,Pe,Ct="")=>{let vt;const vo=ae(Be);if($e(vo)&&hs(vo)){const An=W4[Pe];An&&An.get?vt=An.get(vo.dom,Pe):vt=qa(vo,Pe)}return $e(vt)?vt:Ct},Se=Be=>{const Pe=X(Be);return Io(Pe)?[]:Pe.attributes},_e=(Be,Pe,Ct)=>{Qt(Be,vt=>{if(jt(vt)){const vo=me.fromDom(vt),An=Ct===""?null:Ct,Fs=qa(vo,Pe),Lm=W4[Pe];Lm&&Lm.set?Lm.set(vo.dom,An,Pe):np(vo,Pe,An),Fs!==An&&t.onSetAttrib&&t.onSetAttrib({attrElm:vo.dom,attrName:Pe,attrValue:An})}})},Ne=(Be,Pe)=>Be.cloneNode(Pe),ot=()=>t.root_element||e.body,xt=Be=>{const Pe=Vl(Be);return{x:Pe.x,y:Pe.y,w:Pe.width,h:Pe.height}},Mt=(Be,Pe)=>Ug(e.body,X(Be),Pe),Ze=(Be,Pe,Ct)=>{Qt(Be,vt=>{const vo=me.fromDom(vt);f1(vo,Pe,Ct),t.update_styles&&Rb(I,vo)})},Ie=(Be,Pe)=>{Qt(Be,Ct=>{const vt=me.fromDom(Ct);Bo(Pe,(vo,An)=>{f1(vt,An,vo)}),t.update_styles&&Rb(I,vt)})},Qe=(Be,Pe,Ct)=>{const vt=X(Be);if(!(Io(vt)||!mc(vt)&&!jf(vt)))return Ct?ys(me.fromDom(vt),sf(Pe)):(Pe=Pe.replace(/-(\D)/g,(vo,An)=>An.toUpperCase()),Pe==="float"&&(Pe="cssFloat"),vt.style?vt.style[Pe]:void 0)},Vt=Be=>{const Pe=X(Be);if(!Pe)return{w:0,h:0};let Ct=Qe(Pe,"width"),vt=Qe(Pe,"height");return(!Ct||Ct.indexOf("px")===-1)&&(Ct="0"),(!vt||vt.indexOf("px")===-1)&&(vt="0"),{w:parseInt(Ct,10)||Pe.offsetWidth||Pe.clientWidth,h:parseInt(vt,10)||Pe.offsetHeight||Pe.clientHeight}},oo=Be=>{const Pe=X(Be),Ct=Mt(Pe),vt=Vt(Pe);return{x:Ct.x,y:Ct.y,w:vt.w,h:vt.h}},nn=(Be,Pe)=>{if(!Be)return!1;const Ct=ve(Be)?Be:[Be];return zn(Ct,vt=>nr(me.fromDom(vt),Pe))},mn=(Be,Pe,Ct,vt)=>{const vo=[];let An=X(Be);vt=vt===void 0;const Fs=Ct||(ot().nodeName!=="BODY"?ot().parentNode:null);if(mt(Pe))if(Pe==="*")Pe=jt;else{const Lm=Pe;Pe=H5=>nn(H5,Lm)}for(;An&&!(An===Fs||Io(An.nodeType)||qt(An)||jd(An));){if(!Pe||Pe(An))if(vt)vo.push(An);else return[An];An=An.parentNode}return vt?vo:null},ir=(Be,Pe,Ct)=>{const vt=mn(Be,Pe,Ct,!1);return vt&&vt.length>0?vt[0]:null},gr=(Be,Pe,Ct)=>{let vt=Pe;if(Be){mt(Pe)&&(vt=vo=>nn(vo,Pe));for(let vo=Be[Ct];vo;vo=vo[Ct])if(Pt(vt)&&vt(vo))return vo}return null},na=(Be,Pe)=>gr(Be,Pe,"nextSibling"),xl=(Be,Pe)=>gr(Be,Pe,"previousSibling"),Or=Be=>Pt(Be.querySelectorAll),St=(Be,Pe)=>{var Ct,vt;const vo=(vt=(Ct=X(Pe))!==null&&Ct!==void 0?Ct:t.root_element)!==null&&vt!==void 0?vt:e;return Or(vo)?Vo(vo.querySelectorAll(Be)):[]},Qt=function(Be,Pe,Ct){const vt=Ct??this;if(ve(Be)){const vo=[];return u1(Be,(An,Fs)=>{const Lm=X(An);Lm&&vo.push(Pe.call(vt,Lm,Fs))}),vo}else{const vo=X(Be);return vo?Pe.call(vt,vo):!1}},Kn=(Be,Pe)=>{Qt(Be,Ct=>{Bo(Pe,(vt,vo)=>{_e(Ct,vo,vt)})})},zt=(Be,Pe)=>{Qt(Be,Ct=>{const vt=me.fromDom(Ct);fc(vt,Pe)})},mo=(Be,Pe,Ct,vt,vo)=>Qt(Be,An=>{const Fs=mt(Pe)?e.createElement(Pe):Pe;return $e(Ct)&&Kn(Fs,Ct),vt&&(!mt(vt)&&vt.nodeType?Fs.appendChild(vt):mt(vt)&&zt(Fs,vt)),vo?Fs:An.appendChild(Fs)}),cn=(Be,Pe,Ct)=>mo(e.createElement(Be),Be,Pe,Ct,!0),Nt=Jm.decode,rn=Jm.encodeAllRaw,hn=(Be,Pe,Ct="")=>{let vt="<"+Be;for(const vo in Pe)ha(Pe,vo)&&(vt+=" "+vo+'="'+rn(Pe[vo])+'"');return xi(Ct)&&po(M.getVoidElements(),Be)?vt+" />":vt+">"+Ct+"</"+Be+">"},Di=Be=>{const Pe=e.createElement("div"),Ct=e.createDocumentFragment();Ct.appendChild(Pe),Be&&(Pe.innerHTML=Be);let vt;for(;vt=Pe.firstChild;)Ct.appendChild(vt);return Ct.removeChild(Pe),Ct},pr=(Be,Pe)=>Qt(Be,Ct=>{const vt=me.fromDom(Ct);return Pe&&Re(Na(vt),vo=>{Br(vo)&&vo.dom.length===0?Wn(vo):Kr(vt,vo)}),Wn(vt),vt.dom}),bi=Be=>Qt(Be,Pe=>{const Ct=Pe.attributes;for(let vt=Ct.length-1;vt>=0;vt--)Pe.removeAttributeNode(Ct.item(vt))}),Tf=Be=>I.parse(Be),Fp=(Be,Pe)=>I.serialize(Be,Pe),Sc=Be=>{if($g!==zr.DOM&&e===document){if(o[Be])return;o[Be]=!0}let Pe=e.getElementById("mceDefaultStyles");if(!Pe){Pe=e.createElement("style"),Pe.id="mceDefaultStyles",Pe.type="text/css";const Ct=e.head;Ct.firstChild?Ct.insertBefore(Pe,Ct.firstChild):Ct.appendChild(Pe)}Pe.styleSheet?Pe.styleSheet.cssText+=Be:Pe.appendChild(e.createTextNode(Be))},cu=Be=>{Be||(Be=""),Re(Be.split(","),Pe=>{a[Pe]=!0,v.load(Pe).catch(Yt)})},Of=(Be,Pe,Ct)=>{Qt(Be,vt=>{if(jt(vt)){const vo=me.fromDom(vt),An=Pe.split(" ");Re(An,Fs=>{$e(Ct)?(Ct?ic:Ga)(vo,Fs):Wu(vo,Fs)})}})},du=(Be,Pe)=>{Of(Be,Pe,!0)},Df=(Be,Pe)=>{Of(Be,Pe,!1)},ao=(Be,Pe)=>{const Ct=ae(Be),vt=Pe.split(" ");return $e(Ct)&&Nr(vt,vo=>Nc(Ct,vo))},Pn=Be=>{Qt(Be,Pe=>uc(me.fromDom(Pe),"display"))},Ls=Be=>{Qt(Be,Pe=>Ci(me.fromDom(Pe),"display","none"))},ga=Be=>{const Pe=ae(Be);return $e(Pe)&&Bi(Gr(Pe,"display"),"none")},ei=Be=>(Be||"mce_")+c++,sl=Be=>{const Pe=ae(Be);return $e(Pe)?jt(Pe.dom)?Pe.dom.outerHTML:Hc(Pe):""},Fa=(Be,Pe)=>{Qt(Be,Ct=>{jt(Ct)&&(Ct.outerHTML=Pe)})},Ha=(Be,Pe)=>{const Ct=X(Pe);return Qt(Be,vt=>{const vo=Ct==null?void 0:Ct.parentNode,An=Ct==null?void 0:Ct.nextSibling;return vo&&(An?vo.insertBefore(vt,An):vo.appendChild(vt)),vt})},Ec=(Be,Pe,Ct)=>Qt(Pe,vt=>{var vo;const An=ve(Pe)?Be.cloneNode(!0):Be;return Ct&&u1(Db(vt.childNodes),Fs=>{An.appendChild(Fs)}),(vo=vt.parentNode)===null||vo===void 0||vo.replaceChild(An,vt),vt}),Bm=(Be,Pe)=>{if(Be.nodeName!==Pe.toUpperCase()){const Ct=cn(Pe);return u1(Se(Be),vt=>{_e(Ct,vt.nodeName,ye(Be,vt.nodeName))}),Ec(Ct,Be,!0),Ct}else return Be},Im=(Be,Pe)=>{let Ct=Be;for(;Ct;){let vt=Pe;for(;vt&&Ct!==vt;)vt=vt.parentNode;if(Ct===vt)break;Ct=Ct.parentNode}return!Ct&&Be.ownerDocument?Be.ownerDocument.documentElement:Ct},Pm=(Be,Pe,Ct)=>Tt(Pe)?Ol(M,Be,{...Ct,isContent:vo=>{const An=vo.nodeName.toLowerCase();return!!Pe[An]}}):Ol(M,Be,Ct),Rf=()=>e.createRange(),Xy=(Be,Pe,Ct)=>{let vt=Rf(),vo,An;if(Be&&Pe&&Be.parentNode&&Pe.parentNode){const Fs=Be.parentNode;return vt.setStart(Fs,em(Be)),vt.setEnd(Pe.parentNode,em(Pe)),vo=vt.extractContents(),vt=Rf(),vt.setStart(Pe.parentNode,em(Pe)+1),vt.setEnd(Fs,em(Be)+1),An=vt.extractContents(),Fs.insertBefore(qp($g,vo,M),Be),Ct?Fs.insertBefore(Ct,Be):Fs.insertBefore(Pe,Be),Fs.insertBefore(qp($g,An,M),Be),pr(Be),Ct||Pe}else return},Ew=(Be,Pe,Ct,vt)=>{if(ve(Be)){let vo=Be.length;const An=[];for(;vo--;)An[vo]=Ew(Be[vo],Pe,Ct,vt);return An}else return t.collect&&(Be===e||Be===r)&&A.push([Be,Pe,Ct,vt]),L.bind(Be,Pe,Ct,vt||$g)},Aw=(Be,Pe,Ct)=>{if(ve(Be)){let vt=Be.length;const vo=[];for(;vt--;)vo[vt]=Aw(Be[vt],Pe,Ct);return vo}else{if(A.length>0&&(Be===e||Be===r)){let vt=A.length;for(;vt--;){const[vo,An,Fs]=A[vt];Be===vo&&(!Pe||Pe===An)&&(!Ct||Ct===Fs)&&L.unbind(vo,An,Fs)}}return L.unbind(Be,Pe,Ct)}},X7=(Be,Pe,Ct)=>L.dispatch(Be,Pe,Ct),hb=(Be,Pe,Ct)=>L.dispatch(Be,Pe,Ct),F5=Be=>{if(Be&&mc(Be)){const Pe=Be.getAttribute("data-mce-contenteditable");return Pe&&Pe!=="inherit"?Pe:Be.contentEditable!=="inherit"?Be.contentEditable:null}else return null},$g={doc:e,settings:t,win:r,files:a,stdMode:d,boxModel:g,styleSheetLoader:v,boundEvents:A,styles:I,schema:M,events:L,isBlock:re,root:null,clone:Ne,getRoot:ot,getViewPort:xt,getRect:oo,getSize:Vt,getParent:ir,getParents:mn,get:X,getNext:na,getPrev:xl,select:St,is:nn,add:mo,create:cn,createHTML:hn,createFragment:Di,remove:pr,setStyle:Ze,getStyle:Qe,setStyles:Ie,removeAllAttribs:bi,setAttrib:_e,setAttribs:Kn,getAttrib:ye,getPos:Mt,parseStyle:Tf,serializeStyle:Fp,addStyle:Sc,loadCSS:cu,addClass:du,removeClass:Df,hasClass:ao,toggleClass:Of,show:Pn,hide:Ls,isHidden:ga,uniqueId:ei,setHTML:zt,getOuterHTML:sl,setOuterHTML:Fa,decode:Nt,encode:rn,insertAfter:Ha,replace:Ec,rename:Bm,findCommonAncestor:Im,run:Qt,getAttribs:Se,isEmpty:Pm,createRng:Rf,nodeIndex:em,split:Xy,bind:Ew,unbind:Aw,fire:hb,dispatch:X7,getContentEditable:F5,getContentEditableParent:Be=>{const Pe=ot();let Ct=null;for(let vt=Be;vt&&vt!==Pe&&(Ct=F5(vt),Ct===null);vt=vt.parentNode);return Ct},isEditable:Be=>{if($e(Be)){const Pe=jt(Be)?Be:Be.parentElement;return $e(Pe)&&mc(Pe)&&qr(me.fromDom(Pe))}else return!1},destroy:()=>{if(A.length>0){let Be=A.length;for(;Be--;){const[Pe,Ct,vt]=A[Be];L.unbind(Pe,Ct,vt)}}Bo(a,(Be,Pe)=>{v.unload(Pe),delete a[Pe]})},isChildOf:(Be,Pe)=>Be===Pe||Pe.contains(Be),dumpRng:Be=>"startContainer: "+Be.startContainer.nodeName+", startOffset: "+Be.startOffset+", endContainer: "+Be.endContainer.nodeName+", endOffset: "+Be.endOffset},W4=tm(I,t,we($g));return $g};zr.DOM=zr(document),zr.nodeIndex=em;const Nb=zr.DOM,es=0,Wd=1,bd=2,rp=3;class ml{constructor(t={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=t}_setReferrerPolicy(t){this.settings.referrerPolicy=t}loadScript(t){return new Promise((o,r)=>{const a=Nb;let c;const d=()=>{a.remove(A),c&&(c.onerror=c.onload=c=null)},g=()=>{d(),o()},v=()=>{d(),r("Failed to load script: "+t)},A=a.uniqueId();c=document.createElement("script"),c.id=A,c.type="text/javascript",c.src=ut._addCacheSuffix(t),this.settings.referrerPolicy&&a.setAttrib(c,"referrerpolicy",this.settings.referrerPolicy),c.onload=g,c.onerror=v,(document.getElementsByTagName("head")[0]||document.body).appendChild(c)})}isDone(t){return this.states[t]===bd}markDone(t){this.states[t]=bd}add(t){const o=this;return o.queue.push(t),o.states[t]===void 0&&(o.states[t]=es),new Promise((a,c)=>{o.scriptLoadedCallbacks[t]||(o.scriptLoadedCallbacks[t]=[]),o.scriptLoadedCallbacks[t].push({resolve:a,reject:c})})}load(t){return this.add(t)}remove(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]}loadQueue(){const t=this.queue;return this.queue=[],this.loadScripts(t)}loadScripts(t){const o=this,r=(v,A)=>{Mn(o.scriptLoadedCallbacks,A).each(M=>{Re(M,I=>I[v](A))}),delete o.scriptLoadedCallbacks[A]},a=v=>{const A=et(v,M=>M.status==="rejected");return A.length>0?Promise.reject(vn(A,({reason:M})=>ve(M)?M:[M])):Promise.resolve()},c=v=>Promise.allSettled(Jo(v,A=>o.states[A]===bd?(r("resolve",A),Promise.resolve()):o.states[A]===rp?(r("reject",A),Promise.reject(A)):(o.states[A]=Wd,o.loadScript(A).then(()=>{o.states[A]=bd,r("resolve",A);const M=o.queue;return M.length>0?(o.queue=[],c(M).then(a)):Promise.resolve()},()=>(o.states[A]=rp,r("reject",A),Promise.reject(A)))))),d=v=>(o.loading=!0,c(v).then(A=>{o.loading=!1;const M=o.queueLoadedCallbacks.shift();return H.from(M).each(Nn),a(A)})),g=zc(t);return o.loading?new Promise((v,A)=>{o.queueLoadedCallbacks.push(()=>{d(g).then(v,A)})}):d(g)}}ml.ScriptLoader=new ml;const ui=(e,t)=>{const o=e.indexOf(t);return o!==-1&&e.indexOf(t,o+1)>o},om=e=>ce(e)&&po(e,"raw"),eh=e=>ve(e)&&e.length>1,sp={},th=Ms("en"),ap=()=>Mn(sp,th.get()),Gc={getData:()=>vi(sp,e=>({...e})),setCode:e=>{e&&th.set(e)},getCode:()=>th.get(),add:(e,t)=>{let o=sp[e];o||(sp[e]=o={});const r=Jo(st(t),a=>a.toLowerCase());Bo(t,(a,c)=>{const d=c.toLowerCase();d!==c&&ui(r,d)?(po(t,d)||(o[d]=a),o[c]=a):o[d]=a})},translate:e=>{const t=ap().getOr({}),o=d=>Pt(d)?Object.prototype.toString.call(d):r(d)?"":""+d,r=d=>d===""||d===null||d===void 0,a=d=>{const g=o(d);return po(t,g)?o(t[g]):Mn(t,g.toLowerCase()).map(o).getOr(g)},c=d=>d.replace(/{context:\w+}$/,"");if(r(e))return"";if(om(e))return o(e.raw);if(eh(e)){const d=e.slice(1),g=a(e[0]).replace(/\{([0-9]+)\}/g,(v,A)=>po(d,A)?o(d[A]):v);return c(g)}return c(a(e))},isRtl:()=>ap().bind(e=>Mn(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>po(sp,e)},el=()=>{const e=[],t={},o={},r=[],a=(X,ae)=>{const ye=et(r,Se=>Se.name===X&&Se.state===ae);Re(ye,Se=>Se.resolve())},c=X=>po(t,X),d=X=>po(o,X),g=X=>{if(o[X])return o[X].instance},v=(X,ae)=>{const ye=Gc.getCode(),Se=","+(ae||"")+",";!ye||ae&&Se.indexOf(","+ye+",")===-1||ml.ScriptLoader.add(t[X]+"/langs/"+ye+".js")},A=(X,ae)=>{el.languageLoad!==!1&&(c(X)?v(X,ae):re(X,"loaded").then(()=>v(X,ae)))},M=(X,ae)=>(e.push(ae),o[X]={instance:ae},a(X,"added"),ae),I=X=>{delete t[X],delete o[X]},L=(X,ae)=>mt(ae)?mt(X)?{prefix:"",resource:ae,suffix:""}:{prefix:X.prefix,resource:ae,suffix:X.suffix}:ae,Y=(X,ae)=>{if(t[X])return Promise.resolve();let ye=mt(ae)?ae:ae.prefix+ae.resource+ae.suffix;ye.indexOf("/")!==0&&ye.indexOf("://")===-1&&(ye=el.baseURL+"/"+ye),t[X]=ye.substring(0,ye.lastIndexOf("/"));const Se=()=>(a(X,"loaded"),Promise.resolve());return o[X]?Se():ml.ScriptLoader.add(ye).then(Se)},re=(X,ae="added")=>ae==="added"&&d(X)||ae==="loaded"&&c(X)?Promise.resolve():new Promise(ye=>{r.push({name:X,state:ae,resolve:ye})});return{items:e,urls:t,lookup:o,get:g,requireLangPack:A,add:M,remove:I,createUrl:L,load:Y,waitFor:re}};el.languageLoad=!0,el.baseURL="",el.PluginManager=el(),el.ThemeManager=el(),el.ModelManager=el();const ip=(e,t)=>{let o=null;return{cancel:()=>{ct(o)||(clearTimeout(o),o=null)},throttle:(...c)=>{ct(o)&&(o=setTimeout(()=>{o=null,e.apply(null,c)},t))}}},Xp=(e,t)=>{let o=null;const r=()=>{ct(o)||(clearTimeout(o),o=null)};return{cancel:r,throttle:(...c)=>{r(),o=setTimeout(()=>{o=null,e.apply(null,c)},t)}}},Lv=(e,t,o)=>Ll(e,t,o).isSome(),xs=we("mce-annotation"),ks=we("data-mce-annotation"),Gs=we("data-mce-annotation-uid"),cr=we("data-mce-annotation-active"),fs=we("data-mce-annotation-classes"),Bs=we("data-mce-annotation-attrs"),Mb=e=>t=>fn(t,e),Bb=(e,t)=>{const o=e.selection.getRng(),r=me.fromDom(o.startContainer),a=me.fromDom(e.getBody()),c=t.fold(()=>"."+xs(),v=>`[${ks()}="${v}"]`),d=Ic(r,o.startOffset).getOr(r);return ca(d,c,Mb(a)).bind(v=>Ns(v,`${Gs()}`).bind(A=>Ns(v,`${ks()}`).map(M=>{const I=h1(e,A);return{uid:A,name:M,elements:I}})))},g1=e=>hs(e)&&Nc(e,xs()),oh=(e,t)=>dd(e,"data-mce-bogus")||Lv(e,'[data-mce-bogus="all"]',Mb(t)),h1=(e,t)=>{const o=me.fromDom(e.getBody()),r=qs(o,`[${Gs()}="${t}"]`);return et(r,a=>!oh(a,o))},lp=(e,t)=>{const o=me.fromDom(e.getBody()),r=qs(o,`[${ks()}="${t}"]`),a={};return Re(r,c=>{if(!oh(c,o)){const d=qa(c,Gs()),g=Mn(a,d).getOr([]);a[d]=g.concat([c])}}),a},Ib=(e,t)=>{const o=Ms({}),r=()=>({listeners:[],previous:da()}),a=(I,L)=>{c(I,Y=>(L(Y),Y))},c=(I,L)=>{const Y=o.get(),re=Mn(Y,I).getOrThunk(r),X=L(re);Y[I]=X,o.set(Y)},d=(I,L,Y)=>{a(I,re=>{Re(re.listeners,X=>X(!0,I,{uid:L,nodes:Jo(Y,ae=>ae.dom)}))})},g=I=>{a(I,L=>{Re(L.listeners,Y=>Y(!1,I))})},v=(I,L)=>{Re(h1(e,I),Y=>{L?Ws(Y,cr(),"true"):Go(Y,cr())})},A=Xp(()=>{const I=Qo(t.getNames());Re(I,L=>{c(L,Y=>{const re=Y.previous.get();return Bb(e,H.some(L)).fold(()=>{re.each(X=>{g(L),Y.previous.clear(),v(X,!1)})},({uid:X,name:ae,elements:ye})=>{Bi(re,X)||(re.each(Se=>v(Se,!1)),d(ae,X,ye),Y.previous.set(X),v(X,!0))}),{previous:Y.previous,listeners:Y.listeners}})})},30);return e.on("remove",()=>{A.cancel()}),e.on("NodeChange",()=>{A.throttle()}),{addListener:(I,L)=>{c(I,Y=>({previous:Y.previous,listeners:Y.listeners.concat([L])}))}}},Pb=(e,t)=>{const o=ks(),r=c=>H.from(c.attr(o)).bind(t.lookup),a=c=>{var d,g;c.attr(Gs(),null),c.attr(ks(),null),c.attr(cr(),null);const v=H.from(c.attr(Bs())).map(L=>L.split(",")).getOr([]),A=H.from(c.attr(fs())).map(L=>L.split(",")).getOr([]);Re(v,L=>c.attr(L,null));const M=(g=(d=c.attr("class"))===null||d===void 0?void 0:d.split(" "))!==null&&g!==void 0?g:[],I=Vn(M,[xs()].concat(A));c.attr("class",I.length>0?I.join(" "):null),c.attr(fs(),null),c.attr(Bs(),null)};e.serializer.addTempAttr(cr()),e.serializer.addAttributeFilter(o,c=>{for(const d of c)r(d).each(g=>{g.persistent===!1&&(d.name==="span"?d.unwrap():a(d))})})},b1=()=>{const e={};return{register:(a,c)=>{e[a]={name:a,settings:c}},lookup:a=>Mn(e,a).map(c=>c.settings),getNames:()=>st(e)}},nh=(e,t,o)=>Math.min(Math.max(e,t),o),pl=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let y1=0;const Fi=e=>{const o=new Date().getTime(),r=Math.floor(pl()*1e9);return y1++,e+"_"+r+y1+String(o)},rh=(e,t)=>{Re(t,o=>{ic(e,o)})},cp=(e,t)=>{Re(t,o=>{Ga(e,o)})},yd=(e,t)=>me.fromDom(e.dom.cloneNode(t)),Is=e=>yd(e,!1),rm=e=>yd(e,!0),v1=(e,t)=>{const o=me.fromTag(t),r=ri(e);return ni(o,r),o},x1=(e,t)=>{const o=v1(e,t);Ae(e,o);const r=Na(e);return Ts(o,r),Wn(e),o},sh=(e,t,o=yn)=>{const r=new Ka(e,t),a=c=>{let d;do d=r[c]();while(d&&!pt(d)&&!o(d));return H.from(d).filter(pt)};return{current:()=>H.from(r.current()).filter(pt),next:()=>a("next"),prev:()=>a("prev"),prev2:()=>a("prev2")}},Au=(e,t)=>{const o=t||(d=>e.isBlock(d)||Zr(d)||zo(d)),r=(d,g,v,A)=>{if(pt(d)){const M=A(d,g,d.data);if(M!==-1)return H.some({container:d,offset:M})}return v().bind(M=>r(M.container,M.offset,v,A))};return{backwards:(d,g,v,A)=>{const M=sh(d,A??e.getRoot(),o);return r(d,g,()=>M.prev().map(I=>({container:I,offset:I.length})),v).getOrNull()},forwards:(d,g,v,A)=>{const M=sh(d,A??e.getRoot(),o);return r(d,g,()=>M.next().map(I=>({container:I,offset:0})),v).getOrNull()}}},ah=((e,t)=>{const o=c=>{if(!e(c))throw new Error("Can only get "+t+" value of a "+t+" node");return r(c).getOr("")},r=c=>e(c)?H.from(c.dom.nodeValue):H.none();return{get:o,getOption:r,set:(c,d)=>{if(!e(c))throw new Error("Can only set raw "+t+" value of a "+t+" node");c.dom.nodeValue=d}}})(Br,"text"),sm=e=>ah.get(e),Fv=e=>ah.getOption(e),ih=(e,t)=>ah.set(e,t),lh=["td","th"],Lb=["thead","tbody","tfoot"],Jp=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],Fb=["li","dd","dt"],Hi=["ul","ol","dl"],k1=["pre","script","textarea","style"],zu=e=>{let t;return o=>(t=t||_r(e,Co),po(t,gn(o)))},ch=e=>gn(e)==="table",qd=e=>hs(e)&&gn(e)==="br",dh=zu(Jp),uh=zu(Hi),am=zu(Fb),dp=zu(Lb),Kc=zu(lh),fh=zu(k1),Bw=e=>{const t=[];let o=e.dom;for(;o;)t.push(me.fromDom(o)),o=o.lastChild;return t},bc=e=>{const t=qs(e,"br"),o=et(Bw(e).slice(-1),qd);t.length===o.length&&Re(o,Wn)},Tu=()=>{const e=me.fromTag("br");return Ws(e,"data-mce-bogus","1"),e},Yc=e=>{kr(e),vs(e,Tu())},w1=(e,t)=>{Pc(e).each(o=>{ea(o).each(r=>{t.isBlock(gn(e))&&qd(o)&&t.isBlock(gn(r))&&Wn(o)})})},Sa=ds,Xc=md,gl=Hf,Iw=e=>e.insertContent(Sa,{preserve_zwsp:!0}),af=jt,Ou=pt,Qp=e=>(Ou(e)&&(e=e.parentNode),af(e)&&e.hasAttribute("data-mce-caret")),im=e=>Ou(e)&&Xc(e.data),Gl=e=>Qp(e)||im(e),Hb=e=>e.firstChild!==e.lastChild||!Zr(e.firstChild),$b=(e,t)=>{var o;const a=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(Sa),c=e.parentNode;if(t){const d=e.previousSibling;if(Ou(d)){if(Gl(d))return d;if(Du(d))return d.splitText(d.data.length-1)}c==null||c.insertBefore(a,e)}else{const d=e.nextSibling;if(Ou(d)){if(Gl(d))return d;if(ph(d))return d.splitText(1),d}e.nextSibling?c==null||c.insertBefore(a,e.nextSibling):c==null||c.appendChild(a)}return a},mh=e=>{const t=e.container();return pt(t)?t.data.charAt(e.offset())===Sa||e.isAtStart()&&im(t.previousSibling):!1},Vb=e=>{const t=e.container();return pt(t)?t.data.charAt(e.offset()-1)===Sa||e.isAtEnd()&&im(t.nextSibling):!1},Hv=(e,t,o)=>{var r;const c=((r=t.ownerDocument)!==null&&r!==void 0?r:document).createElement(e);c.setAttribute("data-mce-caret",o?"before":"after"),c.setAttribute("data-mce-bogus","all"),c.appendChild(Tu().dom);const d=t.parentNode;return o?d==null||d.insertBefore(c,t):t.nextSibling?d==null||d.insertBefore(c,t.nextSibling):d==null||d.appendChild(c),c},ph=e=>Ou(e)&&e.data[0]===Sa,Du=e=>Ou(e)&&e.data[e.data.length-1]===Sa,gh=e=>{var t;const o=e.getElementsByTagName("br"),r=o[o.length-1];$d(r)&&((t=r.parentNode)===null||t===void 0||t.removeChild(r))},up=e=>e&&e.hasAttribute("data-mce-caret")?(gh(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,fp=e=>Qp(e.startContainer),lf=Math.round,cf=e=>e?{left:lf(e.left),top:lf(e.top),bottom:lf(e.bottom),right:lf(e.right),width:lf(e.width),height:lf(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},hh=(e,t)=>(e=cf(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),df=(e,t)=>e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right,uf=(e,t,o)=>e>=0&&e<=Math.min(t.height,o.height)/2,ff=(e,t)=>{const o=Math.min(t.height/2,e.height/2);return e.bottom-o<t.top?!0:e.top>t.bottom?!1:uf(t.top-e.bottom,e,t)},mp=(e,t)=>e.top>t.bottom?!0:e.bottom<t.top?!1:uf(t.bottom-e.top,e,t),jb=(e,t,o)=>t>=e.left&&t<=e.right&&o>=e.top&&o<=e.bottom,eg=e=>uo(e,(t,o)=>t.fold(()=>H.some(o),r=>{const a=Math.min(o.left,r.left),c=Math.min(o.top,r.top),d=Math.max(o.right,r.right),g=Math.max(o.bottom,r.bottom);return H.some({top:c,right:d,bottom:g,left:a,width:d-a,height:g-c})}),H.none()),Ub=(e,t,o)=>{const r=Math.max(Math.min(t,e.left+e.width),e.left),a=Math.max(Math.min(o,e.top+e.height),e.top);return Math.sqrt((t-r)*(t-r)+(o-a)*(o-a))},_1=(e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)),tg=e=>{const t=e.startContainer,o=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===o+1?t.childNodes[o]:null},Ea=(e,t)=>{if(jt(e)&&e.hasChildNodes()){const o=e.childNodes,r=nh(t,0,o.length-1);return o[r]}else return e},C1=(e,t)=>{if(!(t<0&&jt(e)&&e.hasChildNodes()))return Ea(e,t)},$v=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),S1=e=>mt(e)&&e.charCodeAt(0)>=768&&$v.test(e),E1=(...e)=>t=>{for(let o=0;o<e.length;o++)if(e[o](t))return!0;return!1},mf=(...e)=>t=>{for(let o=0;o<e.length;o++)if(!e[o](t))return!1;return!0},Zb=Zl,bh=zo,A1=Zr,Pw=pt,pf=Ba(["script","style","textarea"]),yh=Ba(["img","input","textarea","hr","iframe","video","audio","object","embed"]),Vv=Ba(["table"]),jv=Gl,vd=e=>jv(e)?!1:Pw(e)?!pf(e.parentNode):yh(e)||A1(e)||Vv(e)||Wb(e),z1=e=>jt(e)&&e.getAttribute("unselectable")==="true",Wb=e=>!z1(e)&&bh(e),Uv=(e,t)=>{for(let o=e.parentNode;o&&o!==t;o=o.parentNode){if(Wb(o))return!1;if(Zb(o))return!0}return!0},pp=e=>Wb(e)?!uo(Vo(e.getElementsByTagName("*")),(t,o)=>t||Zb(o),!1):!1,og=e=>yh(e)||pp(e),vh=(e,t)=>vd(e)&&Uv(e,t),Zv=jt,xd=vd,lm=jl("display","block table"),xh=jl("float","left right"),kh=mf(Zv,xd,nt(xh)),qb=nt(jl("white-space","pre pre-line pre-wrap")),wh=pt,mi=Zr,Gb=zr.nodeIndex,cm=C1,dm=e=>e?e.createRange():zr.DOM.createRng(),_h=e=>mt(e)&&/[\r\n\t ]/.test(e),Kb=e=>!!e.setStart&&!!e.setEnd,gp=e=>{const t=e.startContainer,o=e.startOffset;if(_h(e.toString())&&qb(t.parentNode)&&pt(t)){const r=t.data;if(_h(r[o-1])||_h(r[o+1]))return!0}return!1},gf=e=>{const t=e.ownerDocument,o=dm(t),r=t.createTextNode(Ca),a=e.parentNode;a.insertBefore(r,e),o.setStart(r,0),o.setEnd(r,1);const c=cf(o.getBoundingClientRect());return a.removeChild(r),c},T1=e=>{const t=e.startContainer,o=e.endContainer,r=e.startOffset,a=e.endOffset;if(t===o&&pt(o)&&r===0&&a===1){const c=e.cloneRange();return c.setEndAfter(o),tl(c)}else return null},Yb=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,tl=e=>{var t;let o;const r=e.getClientRects();return r.length>0?o=cf(r[0]):o=cf(e.getBoundingClientRect()),!Kb(e)&&mi(e)&&Yb(o)?gf(e):Yb(o)&&Kb(e)&&(t=T1(e))!==null&&t!==void 0?t:o},hf=(e,t)=>{const o=hh(e,t);return o.width=1,o.right=o.left+1,o},O1=e=>{const t=[],o=d=>{d.height!==0&&(t.length>0&&df(d,t[t.length-1])||t.push(d))},r=(d,g)=>{const v=dm(d.ownerDocument);if(g<d.data.length){if(S1(d.data[g]))return;if(S1(d.data[g-1])&&(v.setStart(d,g),v.setEnd(d,g+1),!gp(v))){o(hf(tl(v),!1));return}}g>0&&(v.setStart(d,g-1),v.setEnd(d,g),gp(v)||o(hf(tl(v),!1))),g<d.data.length&&(v.setStart(d,g),v.setEnd(d,g+1),gp(v)||o(hf(tl(v),!0)))},a=e.container(),c=e.offset();if(wh(a))return r(a,c),t;if(Zv(a))if(e.isAtEnd()){const d=cm(a,c);wh(d)&&r(d,d.data.length),kh(d)&&!mi(d)&&o(hf(tl(d),!1))}else{const d=cm(a,c);if(wh(d)&&r(d,0),kh(d)&&e.isAtEnd())return o(hf(tl(d),!1)),t;const g=cm(e.container(),e.offset()-1);kh(g)&&!mi(g)&&(lm(g)||lm(d)||!kh(d))&&o(hf(tl(g),!1)),kh(d)&&o(hf(tl(d),!0))}return t},Le=(e,t,o)=>{const r=()=>(wh(e),t===0),a=()=>wh(e)?t>=e.data.length:t>=e.childNodes.length,c=()=>{const M=dm(e.ownerDocument);return M.setStart(e,t),M.setEnd(e,t),M},d=()=>(o||(o=O1(Le(e,t))),o),g=()=>d().length>0,v=M=>M&&e===M.container()&&t===M.offset(),A=M=>cm(e,M?t-1:t);return{container:we(e),offset:we(t),toRange:c,getClientRects:d,isVisible:g,isAtStart:r,isAtEnd:a,isEqual:v,getNode:A}};Le.fromRangeStart=e=>Le(e.startContainer,e.startOffset),Le.fromRangeEnd=e=>Le(e.endContainer,e.endOffset),Le.after=e=>Le(e.parentNode,Gb(e)+1),Le.before=e=>Le(e.parentNode,Gb(e)),Le.isAbove=(e,t)=>ia(dt(t.getClientRects()),no(e.getClientRects()),ff).getOr(!1),Le.isBelow=(e,t)=>ia(no(t.getClientRects()),dt(e.getClientRects()),mp).getOr(!1),Le.isAtStart=e=>e?e.isAtStart():!1,Le.isAtEnd=e=>e?e.isAtEnd():!1,Le.isTextPosition=e=>e?pt(e.container()):!1,Le.isElementPosition=e=>!Le.isTextPosition(e);const ng=(e,t)=>{pt(t)&&t.data.length===0&&e.remove(t)},Lw=(e,t,o)=>{t.insertNode(o),ng(e,o.previousSibling),ng(e,o.nextSibling)},Wv=(e,t,o)=>{const r=H.from(o.firstChild),a=H.from(o.lastChild);t.insertNode(o),r.each(c=>ng(e,c.previousSibling)),a.each(c=>ng(e,c.nextSibling))},Xb=(e,t,o)=>{jd(o)?Wv(e,t,o):Lw(e,t,o)},kd=pt,Jb=$d,Ch=zr.nodeIndex,D1=e=>{const t=e.parentNode;return Jb(t)?D1(t):t},R1=e=>e?ja(e.childNodes,(t,o)=>(Jb(o)&&o.nodeName!=="BR"?t=t.concat(R1(o)):t.push(o),t),[]):[],Fw=(e,t)=>{let o=e;for(;(o=o.previousSibling)&&kd(o);)t+=o.data.length;return t},m=e=>t=>e===t,h=e=>{let t,o;t=R1(D1(e)),o=fr(t,m(e),e),t=t.slice(0,o+1);const r=ja(t,(a,c,d)=>(kd(c)&&kd(t[d-1])&&a++,a),0);return t=ba(t,Ba([e.nodeName])),o=fr(t,m(e),e),o-r},x=e=>(kd(e)?"text()":e.nodeName.toLowerCase())+"["+h(e)+"]",S=(e,t,o)=>{const r=[];for(let a=t.parentNode;a&&a!==e;a=a.parentNode)r.push(a);return r},D=(e,t)=>{let o=[],r=t.container(),a=t.offset(),c;if(kd(r))c=Fw(r,a);else{const g=r.childNodes;a>=g.length?(c="after",a=g.length-1):c="before",r=g[a]}o.push(x(r));let d=S(e,r);return d=ba(d,nt($d)),o=o.concat(Oc(d,g=>x(g))),o.reverse().join("/")+","+c},R=(e,t,o)=>{let r=R1(e);return r=ba(r,(a,c)=>!kd(a)||!kd(r[c-1])),r=ba(r,Ba([t])),r[o]},$=(e,t)=>{let o=e,r=0;for(;kd(o);){const a=o.data.length;if(t>=r&&t<=r+a){e=o,t=t-r;break}if(!kd(o.nextSibling)){e=o,t=a;break}r+=a,o=o.nextSibling}return kd(e)&&t>e.data.length&&(t=e.data.length),Le(e,t)},U=(e,t)=>{if(!t)return null;const o=t.split(","),r=o[0].split("/"),a=o.length>1?o[1]:"before",c=ja(r,(d,g)=>{const v=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(g);return v?(v[1]==="text()"&&(v[1]="#text"),R(d,v[1],parseInt(v[2],10))):null},e);if(!c)return null;if(!kd(c)&&c.parentNode){let d;return a==="after"?d=Ch(c)+1:d=Ch(c),Le(c.parentNode,d)}return $(c,parseInt(a,10))},te=zo,ue=(e,t,o)=>{let r=e(t.data.slice(0,o)).length;for(let a=t.previousSibling;a&&pt(a);a=a.previousSibling)r+=e(a.data).length;return r},ke=(e,t,o,r,a)=>{const c=a?r.startContainer:r.endContainer;let d=a?r.startOffset:r.endOffset;const g=[],v=e.getRoot();if(pt(c))g.push(o?ue(t,c,d):d);else{let A=0;const M=c.childNodes;d>=M.length&&M.length&&(A=1,d=Math.max(0,M.length-1)),g.push(e.nodeIndex(M[d],o)+A)}for(let A=c;A&&A!==v;A=A.parentNode)g.push(e.nodeIndex(A,o));return g},ie=(e,t,o,r)=>{const a=t.dom,c=ke(a,e,o,r,!0),d=t.isForward(),g=fp(r)?{isFakeCaret:!0}:{};if(t.isCollapsed())return{start:c,forward:d,...g};{const v=ke(a,e,o,r,!1);return{start:c,end:v,forward:d,...g}}},fe=(e,t,o)=>{let r=0;return ut.each(e.select(t),a=>{if(a.getAttribute("data-mce-bogus")!=="all"){if(a===o)return!1;r++;return}}),r},ge=(e,t)=>{let o=t?e.startContainer:e.endContainer,r=t?e.startOffset:e.endOffset;if(jt(o)&&o.nodeName==="TR"){const a=o.childNodes;o=a[Math.min(t?r:r-1,a.length-1)],o&&(r=t?0:o.childNodes.length,t?e.setStart(o,r):e.setEnd(o,r))}},ze=e=>(ge(e,!0),ge(e,!1),e),Te=(e,t)=>{if(jt(e)&&(e=Ea(e,t),te(e)))return e;if(Gl(e)){pt(e)&&Qp(e)&&(e=e.parentNode);let o=e.previousSibling;if(te(o)||(o=e.nextSibling,te(o)))return o}},Xe=e=>Te(e.startContainer,e.startOffset)||Te(e.endContainer,e.endOffset),Je=(e,t,o)=>{const r=o.getNode(),a=o.getRng();if(r.nodeName==="IMG"||te(r)){const d=r.nodeName;return{name:d,index:fe(o.dom,d,r)}}const c=Xe(a);if(c){const d=c.tagName;return{name:d,index:fe(o.dom,d,c)}}return ie(e,o,t,a)},Ye=e=>{const t=e.getRng();return{start:D(e.dom.getRoot(),Le.fromRangeStart(t)),end:D(e.dom.getRoot(),Le.fromRangeEnd(t)),forward:e.isForward()}},tt=e=>({rng:e.getRng(),forward:e.isForward()}),yt=(e,t,o)=>{const r={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return o?e.create("span",r,"&#xFEFF;"):e.create("span",r)},_t=(e,t)=>{const o=e.dom;let r=e.getRng();const a=o.uniqueId(),c=e.isCollapsed(),d=e.getNode(),g=d.nodeName,v=e.isForward();if(g==="IMG")return{name:g,index:fe(o,g,d)};const A=ze(r.cloneRange());if(!c){A.collapse(!1);const I=yt(o,a+"_end",t);Xb(o,A,I)}r=ze(r),r.collapse(!0);const M=yt(o,a+"_start",t);return Xb(o,r,M),e.moveToBookmark({id:a,keep:!0,forward:v}),{id:a,forward:v}},De=(e,t,o=!1)=>t===2?Je(gl,o,e):t===3?Ye(e):t?tt(e):_t(e,!1),It=kt(Je,At,!0),go=e=>{const t=c=>c(e),o=we(e),r=()=>a,a={tag:!0,inner:e,fold:(c,d)=>d(e),isValue:Co,isError:yn,map:c=>ho.value(c(e)),mapError:r,bind:t,exists:t,forall:t,getOr:o,or:r,getOrThunk:o,orThunk:r,getOrDie:o,each:c=>{c(e)},toOptional:()=>H.some(e)};return a},$o=e=>{const t=()=>o,o={tag:!1,inner:e,fold:(r,a)=>r(e),isValue:yn,isError:Co,map:t,mapError:r=>ho.error(r(e)),bind:t,exists:yn,forall:Co,getOr:At,or:At,getOrThunk:Wr,orThunk:Wr,getOrDie:Dt(String(e)),each:Yt,toOptional:H.none};return o},ho={value:go,error:$o,fromOption:(e,t)=>e.fold(()=>$o(t),go)},xn={generate:e=>{if(!ve(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const t=[],o={};return Re(e,(r,a)=>{const c=st(r);if(c.length!==1)throw new Error("one and only one name per case");const d=c[0],g=r[d];if(o[d]!==void 0)throw new Error("duplicate key detected:"+d);if(d==="cata")throw new Error("cannot have a case named cata (sorry)");if(!ve(g))throw new Error("case arguments must be an array");t.push(d),o[d]=(...v)=>{const A=v.length;if(A!==g.length)throw new Error("Wrong number of arguments to case "+d+". Expected "+g.length+" ("+g+"), got "+A);return{fold:(...I)=>{if(I.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+I.length);return I[a].apply(null,v)},match:I=>{const L=st(I);if(t.length!==L.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+`
Actual: `+L.join(","));if(!Nr(t,re=>on(L,re)))throw new Error("Not all branches were specified when using match. Specified: "+L.join(", ")+`
Required: `+t.join(", "));return I[d].apply(null,v)},log:I=>{console.log(I,{constructors:t,constructor:d,params:v})}}}}),o}};xn.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Ks=e=>{const t=[],o=[];return Re(e,r=>{r.fold(a=>{t.push(a)},a=>{o.push(a)})}),{errors:t,values:o}},zi=e=>e.type==="inline-command"||e.type==="inline-format",Xa=e=>e.type==="block-command"||e.type==="block-format",yc=(e,t)=>(e.type==="block-command"||e.type==="block-format")&&e.trigger===t,um=e=>{var t;const o=a=>ho.error({message:a,pattern:e}),r=(a,c,d)=>{if(e.format!==void 0){let g;if(ve(e.format)){if(!Nr(e.format,mt))return o(a+" pattern has non-string items in the `format` array");g=e.format}else if(mt(e.format))g=[e.format];else return o(a+" pattern has non-string `format` parameter");return ho.value(c(g))}else return e.cmd!==void 0?mt(e.cmd)?ho.value(d(e.cmd,e.value)):o(a+" pattern has non-string `cmd` parameter"):o(a+" pattern is missing both `format` and `cmd` parameters")};if(!ce(e))return o("Raw pattern is not an object");if(!mt(e.start))return o("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!mt(e.end))return o("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return o("Inline pattern has empty `start` and `end` parameters");let a=e.start,c=e.end;return c.length===0&&(c=a,a=""),r("Inline",d=>({type:"inline-format",start:a,end:c,format:d}),(d,g)=>({type:"inline-command",start:a,end:c,cmd:d,value:g}))}else{if(e.replacement!==void 0)return mt(e.replacement)?e.start.length===0?o("Replacement pattern has empty `start` parameter"):ho.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):o("Replacement pattern has non-string `replacement` parameter");{const a=(t=e.trigger)!==null&&t!==void 0?t:"space";return e.start.length===0?o("Block pattern has empty `start` parameter"):r("Block",c=>({type:"block-format",start:e.start,format:c[0],trigger:a}),(c,d)=>({type:"block-command",start:e.start,cmd:c,value:d,trigger:a}))}}},Ti=e=>et(e,Xa),Gd=e=>et(e,zi),rg=(e,t)=>({inlinePatterns:Gd(e),blockPatterns:Ti(e),dynamicPatternsLookup:t}),bf=(e,t)=>({...e,blockPatterns:et(e.blockPatterns,o=>yc(o,t))}),sg=e=>{const t=Ks(Jo(e,um));return Re(t.errors,o=>console.error(o.message,o.pattern)),t.values},Qb=e=>t=>{const o=e(t);return sg(o)},yf=lt().deviceType,qv=yf.isTouch(),V5=zr.DOM,j5=e=>{const t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return uo(t,(o,r)=>{const a=r.split("="),c=a[0],d=a.length>1?a[1]:c;return o[rs(c)]=rs(d),o},{})},q4=e=>it(e,RegExp),Ft=e=>t=>t.options.get(e),N1=e=>mt(e)||ce(e),Hw=(e,t="")=>o=>{const r=mt(o);if(r)if(o.indexOf("=")!==-1){const a=j5(o);return{value:Mn(a,e.id).getOr(t),valid:r}}else return{value:o,valid:r};else return{valid:!1,message:"Must be a string."}},Gv=e=>{const t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("language_load",{processor:"boolean",default:!0}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.documentBaseUrl}),t("body_id",{processor:Hw(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:Hw(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:o=>{const r=mt(o)&&pn(o);return r?{value:o,valid:r}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("newline_behavior",{processor:o=>{const r=on(["block","linebreak","invert","default"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:o=>$r(o)?{valid:!0,value:o}:mt(o)?{valid:!0,value:o}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:o=>{const r=o===!1||mt(o)||_o(o,mt);return r?mt(o)?{value:Jo(o.split(","),rs),valid:r}:ve(o)?{value:o,valid:r}:o===!1?{value:[],valid:r}:{value:o,valid:r}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:Sh(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:o=>{const r=mt(o)||_o(o,mt);return r?{value:ve(o)?o:Jo(o.split(","),rs),valid:r}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),t("object_resizing",{processor:o=>{const r=$r(o)||mt(o);return r?o===!1||yf.isiPhone()||yf.isiPad()?{value:"",valid:r}:{value:o===!0?"table,img,figure.image,div,video,iframe":o,valid:r}:{valid:!1,message:"Must be boolean or a string"}},default:!qv}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"string"}),t("service_message",{processor:"string"}),t("theme",{processor:o=>o===!1||mt(o)||Pt(o),default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("format_noneditable_selector",{processor:"string",default:""}),t("preview_styles",{processor:o=>{const r=o===!1||mt(o);return r?{value:o===!1?"":o,valid:r}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("readonly",{processor:"boolean",default:!1}),t("editable_root",{processor:"boolean",default:!0}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean",default:!0}),t("pad_empty_with_br",{processor:"boolean",default:!1}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:N1}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:N1}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:N1}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:N1}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:o=>mt(o)||o===!0}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("license_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:o=>_o(o,ce)||o===!1?{value:sg(o===!1?[]:o),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),t("text_patterns_lookup",{processor:o=>Pt(o)?{value:Qb(o),valid:!0}:{valid:!1,message:"Must be a single function"},default:o=>[]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:o=>_o(o,q4)?{value:o,valid:!0}:q4(o)?{value:[o],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),t("highlight_on_focus",{processor:"boolean",default:!0}),t("xss_sanitization",{processor:"boolean",default:!0}),t("details_initial_state",{processor:o=>{const r=on(["inherited","collapsed","expanded"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("details_serialized_state",{processor:o=>{const r=on(["inherited","collapsed","expanded"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("init_content_sync",{processor:"boolean",default:!1}),t("newdocument_content",{processor:"string",default:""}),t("sandbox_iframes",{processor:"boolean",default:!0}),t("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),t("convert_unsafe_embeds",{processor:"boolean",default:!0}),e.on("ScriptsLoaded",()=>{t("directionality",{processor:"string",default:Gc.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:V5.getAttrib(e.getElement(),"placeholder")})})},hl=Ft("iframe_attrs"),Ru=Ft("doctype"),wd=Ft("document_base_url"),Kv=Ft("body_id"),$w=Ft("body_class"),G4=Ft("content_security_policy"),Vw=Ft("br_in_pre"),ol=Ft("forced_root_block"),M1=Ft("forced_root_block_attrs"),jw=Ft("newline_behavior"),K4=Ft("br_newline_selector"),Y4=Ft("no_newline_selector"),Uw=Ft("keep_styles"),Zw=Ft("end_container_on_empty_block"),Tr=Ft("automatic_uploads"),hp=Ft("images_reuse_filename"),X4=Ft("images_replace_blob_uris"),Ww=Ft("icons"),J4=Ft("icons_url"),qw=Ft("images_upload_url"),Q4=Ft("images_upload_base_path"),Gw=Ft("images_upload_credentials"),U5=Ft("images_upload_handler"),e3=Ft("content_css_cors"),B1=Ft("referrer_policy"),Kw=Ft("language"),Z5=Ft("language_url"),t3=Ft("indent_use_margin"),_d=Ft("indentation"),Dl=Ft("content_css"),ey=Ft("content_style"),o3=Ft("font_css"),W5=Ft("directionality"),On=Ft("inline_boundaries_selector"),n3=Ft("object_resizing"),r3=Ft("resize_img_proportional"),Yw=Ft("placeholder"),s3=Ft("event_root"),q5=Ft("service_message"),ty=Ft("theme"),G5=Ft("theme_url"),I1=Ft("model"),Xw=Ft("model_url"),oy=Ft("inline_boundaries"),K5=Ft("formats"),Y5=Ft("preview_styles"),X5=Ft("format_empty_lines"),Eo=Ft("format_noneditable_selector"),a3=Ft("custom_ui_selector"),Sh=Ft("inline"),Jw=Ft("hidden_input"),i3=Ft("submit_patch"),l3=Ft("add_form_submit_trigger"),c3=Ft("add_unload_trigger"),d3=Ft("custom_undo_redo_levels"),J5=Ft("disable_nodechange"),u3=Ft("readonly"),tr=Ft("editable_root"),f3=Ft("content_css_cors"),Nu=Ft("plugins"),fm=Ft("external_plugins"),Yv=Ft("block_unsupported_drop"),Jc=Ft("visual"),Xv=Ft("visual_table_class"),ny=Ft("visual_anchor_class"),P1=Ft("iframe_aria_text"),ry=Ft("setup"),Q5=Ft("init_instance_callback"),eR=Ft("urlconverter_callback"),tR=Ft("auto_focus"),oR=Ft("browser_spellcheck"),In=Ft("protect"),vf=Ft("paste_block_drop"),mm=Ft("paste_data_images"),nR=Ft("paste_preprocess"),L1=Ft("paste_postprocess"),jn=Ft("newdocument_content"),m3=Ft("paste_webkit_styles"),Qw=Ft("paste_remove_styles_if_webkit"),rR=Ft("paste_merge_formats"),Eh=Ft("smart_paste"),Ah=Ft("paste_as_text"),p3=Ft("paste_tab_spaces"),sR=Ft("allow_html_data_urls"),aR=Ft("text_patterns"),F1=Ft("text_patterns_lookup"),zh=Ft("noneditable_class"),iR=Ft("editable_class"),g3=Ft("noneditable_regexp"),lR=Ft("preserve_cdata"),h3=Ft("highlight_on_focus"),b3=Ft("xss_sanitization"),y3=Ft("init_content_sync"),e_=e=>e.options.isSet("text_patterns_lookup"),t_=e=>ut.explode(e.options.get("font_size_style_values")),o_=e=>ut.explode(e.options.get("font_size_classes")),v3=e=>e.options.get("encoding")==="xml",n_=e=>ut.explode(e.options.get("images_file_types")),x3=Ft("table_tab_navigation"),Jv=Ft("details_initial_state"),k3=Ft("details_serialized_state"),r_=Ft("sandbox_iframes"),Qv=e=>e.options.get("sandbox_iframes_exclusions"),w3=Ft("convert_unsafe_embeds"),_3=Ft("license_key"),C3=Ft("api_key"),cR=jt,S3=pt,H1=e=>{const t=e.parentNode;t&&t.removeChild(e)},s_=e=>{const t=gl(e);return{count:e.length-t.length,text:t}},a_=e=>{let t;for(;(t=e.data.lastIndexOf(Sa))!==-1;)e.deleteData(t,1)},i_=(e,t)=>(ag(e),t),dR=(e,t)=>{const o=s_(e.data.substr(0,t.offset())),r=s_(e.data.substr(t.offset()));return(o.text+r.text).length>0?(a_(e),Le(e,t.offset()-o.count)):t},uR=(e,t)=>{const o=t.container(),r=kl(Vo(o.childNodes),e).map(a=>a<t.offset()?Le(o,t.offset()-1):t).getOr(t);return ag(e),r},fR=(e,t)=>S3(e)&&t.container()===e?dR(e,t):i_(e,t),mR=(e,t)=>t.container()===e.parentNode?uR(e,t):i_(e,t),pR=(e,t)=>Le.isTextPosition(t)?fR(e,t):mR(e,t),ag=e=>{cR(e)&&Gl(e)&&(Hb(e)?e.removeAttribute("data-mce-caret"):H1(e)),S3(e)&&(a_(e),e.data.length===0&&H1(e))},E3=zo,ex=je,gR=Ju,l_="*[contentEditable=false],video,audio,embed,object",A3=(e,t,o)=>{const r=hh(t.getBoundingClientRect(),o);let a,c;if(e.tagName==="BODY"){const g=e.ownerDocument.documentElement;a=e.scrollLeft||g.scrollLeft,c=e.scrollTop||g.scrollTop}else{const g=e.getBoundingClientRect();a=e.scrollLeft-g.left,c=e.scrollTop-g.top}r.left+=a,r.right+=a,r.top+=c,r.bottom+=c,r.width=1;let d=t.offsetWidth-t.clientWidth;return d>0&&(o&&(d*=-1),r.left+=d,r.right+=d),r},z3=e=>{var t,o;const r=qs(me.fromDom(e),l_);for(let a=0;a<r.length;a++){const c=r[a].dom;let d=c.previousSibling;if(Du(d)){const g=d.data;g.length===1?(t=d.parentNode)===null||t===void 0||t.removeChild(d):d.deleteData(g.length-1,1)}d=c.nextSibling,ph(d)&&(d.data.length===1?(o=d.parentNode)===null||o===void 0||o.removeChild(d):d.deleteData(0,1))}},T3=(e,t,o,r)=>{const a=da();let c,d;const g=ol(e),v=e.dom,A=(X,ae)=>{let ye;if(M(),gR(ae))return null;if(o(ae)){const Se=Hv(g,ae,X),_e=A3(t,ae,X);v.setStyle(Se,"top",_e.top),v.setStyle(Se,"caret-color","transparent"),d=Se;const Ne=v.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});v.setStyles(Ne,{..._e}),v.add(t,Ne),a.set({caret:Ne,element:ae,before:X}),X&&v.addClass(Ne,"mce-visual-caret-before"),I(),ye=ae.ownerDocument.createRange(),ye.setStart(Se,0),ye.setEnd(Se,0)}else return d=$b(ae,X),ye=ae.ownerDocument.createRange(),$1(d.nextSibling)?(ye.setStart(d,0),ye.setEnd(d,0)):(ye.setStart(d,1),ye.setEnd(d,1)),ye;return ye},M=()=>{z3(t),d&&(ag(d),d=null),a.on(X=>{v.remove(X.caret),a.clear()}),c&&(clearInterval(c),c=void 0)},I=()=>{c=setInterval(()=>{a.on(X=>{r()?v.toggleClass(X.caret,"mce-visual-caret-hidden"):v.addClass(X.caret,"mce-visual-caret-hidden")})},500)};return{show:A,hide:M,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{a.on(X=>{const ae=A3(t,X.element,X.before);v.setStyles(X.caret,{...ae})})},destroy:()=>clearInterval(c)}},c_=()=>Fo.browser.isFirefox(),$1=e=>E3(e)||ex(e),V1=e=>($1(e)||pc(e)&&c_())&&Id(me.fromDom(e)).exists(qr),tx=Zl,ox=zo,O3=je,d_=jl("display","block table table-cell table-caption list-item"),u_=Gl,D3=Qp,hR=jt,nx=pt,R3=vd,Th=e=>e>0,Oh=e=>e<0,rx=(e,t)=>{let o;for(;o=e(t);)if(!D3(o))return o;return null},j1=(e,t,o,r,a)=>{const c=new Ka(e,r),d=ox(e)||D3(e);let g;if(Oh(t)){if(d&&(g=rx(c.prev.bind(c),!0),o(g)))return g;for(;g=rx(c.prev.bind(c),a);)if(o(g))return g}if(Th(t)){if(d&&(g=rx(c.next.bind(c),!0),o(g)))return g;for(;g=rx(c.next.bind(c),a);)if(o(g))return g}return null},bR=(e,t)=>{const o=a=>tx(a.dom),r=a=>a.dom===t;return _i(me.fromDom(e),o,r).map(a=>a.dom).getOr(t)},ig=(e,t)=>{for(;e&&e!==t;){if(d_(e))return e;e=e.parentNode}return null},pm=(e,t,o)=>ig(e.container(),o)===ig(t.container(),o),sx=(e,t)=>{if(!t)return H.none();const o=t.container(),r=t.offset();return hR(o)?H.from(o.childNodes[r+e]):H.none()},N3=(e,t)=>{var o;const a=((o=t.ownerDocument)!==null&&o!==void 0?o:document).createRange();return e?(a.setStartBefore(t),a.setEndBefore(t)):(a.setStartAfter(t),a.setEndAfter(t)),a},M3=(e,t,o)=>ig(t,e)===ig(o,e),f_=(e,t,o)=>{const r=e?"previousSibling":"nextSibling";let a=o;for(;a&&a!==t;){let c=a[r];if(c&&u_(c)&&(c=c[r]),ox(c)||O3(c)){if(M3(t,c,a))return c;break}if(R3(c))break;a=a.parentNode}return null},U1=kt(N3,!0),Z1=kt(N3,!1),m_=(e,t,o)=>{let r;const a=kt(f_,!0,t),c=kt(f_,!1,t),d=o.startContainer,g=o.startOffset;if(Qp(d)){const v=nx(d)?d.parentNode:d,A=v.getAttribute("data-mce-caret");if(A==="before"&&(r=v.nextSibling,V1(r)))return U1(r);if(A==="after"&&(r=v.previousSibling,V1(r)))return Z1(r)}if(!o.collapsed)return o;if(pt(d)){if(u_(d)){if(e===1){if(r=c(d),r)return U1(r);if(r=a(d),r)return Z1(r)}if(e===-1){if(r=a(d),r)return Z1(r);if(r=c(d),r)return U1(r)}return o}if(Du(d)&&g>=d.data.length-1)return e===1&&(r=c(d),r)?U1(r):o;if(ph(d)&&g<=1)return e===-1&&(r=a(d),r)?Z1(r):o;if(g===d.data.length)return r=c(d),r?U1(r):o;if(g===0)return r=a(d),r?Z1(r):o}return o},B3=(e,t)=>sx(e?0:-1,t).filter(ox),W1=(e,t,o)=>{const r=m_(e,t,o);return e===-1?Le.fromRangeStart(r):Le.fromRangeEnd(r)},ax=e=>H.from(e.getNode()).map(me.fromDom),yR=e=>H.from(e.getNode(!0)).map(me.fromDom),p_=(e,t)=>{let o=t;for(;o=e(o);)if(o.isVisible())return o;return o},ix=(e,t)=>{const o=pm(e,t);return!o&&Zr(e.getNode())?!0:o};var $i;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})($i||($i={}));const vR=zo,gm=pt,I3=jt,Jt=Zr,Dh=vd,g_=og,lx=vh,h_=(e,t)=>{const o=[];let r=e;for(;r&&r!==t;)o.push(r),r=r.parentNode;return o},P3=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,q1=(e,t)=>{if(Th(e)){if(Dh(t.previousSibling)&&!gm(t.previousSibling))return Le.before(t);if(gm(t))return Le(t,0)}if(Oh(e)){if(Dh(t.nextSibling)&&!gm(t.nextSibling))return Le.after(t);if(gm(t))return Le(t,t.data.length)}return Oh(e)?Jt(t)?Le.before(t):Le.after(t):Le.before(t)},L3=(e,t)=>{const o=t.nextSibling;return o&&Dh(o)?gm(o)?Le(o,0):Le.before(o):b_($i.Forwards,Le.after(t),e)},b_=(e,t,o)=>{let r,a,c,d;if(!I3(o)||!t)return null;if(t.isEqual(Le.after(o))&&o.lastChild){if(d=Le.after(o.lastChild),Oh(e)&&Dh(o.lastChild)&&I3(o.lastChild))return Jt(o.lastChild)?Le.before(o.lastChild):d}else d=t;const g=d.container();let v=d.offset();if(gm(g)){if(Oh(e)&&v>0)return Le(g,--v);if(Th(e)&&v<g.length)return Le(g,++v);r=g}else{if(Oh(e)&&v>0&&(a=P3(g,v-1),Dh(a)))return!g_(a)&&(c=j1(a,e,lx,a),c)?gm(c)?Le(c,c.data.length):Le.after(c):gm(a)?Le(a,a.data.length):Le.before(a);if(Th(e)&&v<g.childNodes.length&&(a=P3(g,v),Dh(a)))return Jt(a)?L3(o,a):!g_(a)&&(c=j1(a,e,lx,a),c)?gm(c)?Le(c,0):Le.before(c):gm(a)?Le(a,0):Le.after(a);r=a||d.getNode()}if(r&&(Th(e)&&d.isAtEnd()||Oh(e)&&d.isAtStart())&&(r=j1(r,e,Co,o,!0),lx(r,o)))return q1(e,r);a=r&&j1(r,e,lx,o);const A=Ss(et(h_(g,o),vR));return A&&(!a||!A.contains(a))?(Th(e)?d=Le.after(A):d=Le.before(A),d):a?q1(e,a):null},fo=e=>({next:t=>b_($i.Forwards,t,e),prev:t=>b_($i.Backwards,t,e)}),Zo=(e,t,o)=>{const r=e?Le.before(o):Le.after(o);return Cd(e,t,r)},F3=e=>Zr(e)?Le.before(e):Le.after(e),H3=e=>Le.isTextPosition(e)?e.offset()===0:vd(e.getNode()),$3=e=>{if(Le.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}else return vd(e.getNode(!0))},V3=(e,t)=>!Le.isTextPosition(e)&&!Le.isTextPosition(t)&&e.getNode()===t.getNode(!0),wo=e=>!Le.isTextPosition(e)&&Zr(e.getNode()),G1=(e,t,o)=>e?!V3(t,o)&&!wo(t)&&$3(t)&&H3(o):!V3(o,t)&&H3(t)&&$3(o),Cd=(e,t,o)=>{const r=fo(t);return H.from(e?r.next(o):r.prev(o))},Rh=(e,t,o)=>Cd(e,t,o).bind(r=>pm(o,r,t)&&G1(e,o,r)?Cd(e,t,r):H.some(r)),j3=(e,t,o,r)=>Rh(e,t,o).bind(a=>r(a)?j3(e,t,a,r):H.some(a)),sy=(e,t)=>{const o=e?t.firstChild:t.lastChild;return pt(o)?H.some(Le(o,e?0:o.data.length)):o?vd(o)?H.some(e?Le.before(o):F3(o)):Zo(e,t,o):H.none()},Kl=kt(Cd,!0),Qc=kt(Cd,!1),yo=kt(sy,!0),Kd=kt(sy,!1),ay="_mce_caret",Sd=e=>jt(e)&&e.id===ay,lg=(e,t)=>{let o=t;for(;o&&o!==e;){if(Sd(o))return o;o=o.parentNode}return null},U3=e=>mt(e.start),Z3=e=>po(e,"rng"),W3=e=>po(e,"id"),y_=e=>po(e,"name"),q3=e=>ut.isArray(e.start),cx=e=>!y_(e)&&$r(e.forward)?e.forward:!0,G3=(e,t)=>(jt(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),xR=(e,t)=>{const o=H.from(U(e.getRoot(),t.start)),r=H.from(U(e.getRoot(),t.end));return ia(o,r,(a,c)=>{const d=e.createRng();return d.setStart(a.container(),a.offset()),d.setEnd(c.container(),c.offset()),{range:d,forward:cx(t)}})},kR=(e,t)=>{var o;const a=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(Sa);e.appendChild(a),t.setStart(a,0),t.setEnd(a,0)},v_=e=>!e.hasChildNodes(),x_=(e,t)=>Kd(e).fold(yn,o=>(t.setStart(o.container(),o.offset()),t.setEnd(o.container(),o.offset()),!0)),K3=(e,t,o)=>v_(t)&&lg(e,t)?(kR(t,o),!0):!1,Y3=(e,t,o,r)=>{const a=o[t?"start":"end"],c=e.getRoot();if(a){let d=c,g=a[0];for(let v=a.length-1;d&&v>=1;v--){const A=d.childNodes;if(K3(c,d,r))return!0;if(a[v]>A.length-1)return K3(c,d,r)?!0:x_(d,r);d=A[a[v]]}pt(d)&&(g=Math.min(a[0],d.data.length)),jt(d)&&(g=Math.min(a[0],d.childNodes.length)),t?r.setStart(d,g):r.setEnd(d,g)}return!0},k_=e=>pt(e)&&e.data.length>0,X3=(e,t,o)=>{const r=e.get(o.id+"_"+t),a=r==null?void 0:r.parentNode,c=o.keep;if(r&&a){let d,g;if(t==="start"?c?r.hasChildNodes()?(d=r.firstChild,g=1):k_(r.nextSibling)?(d=r.nextSibling,g=0):k_(r.previousSibling)?(d=r.previousSibling,g=r.previousSibling.data.length):(d=a,g=e.nodeIndex(r)+1):(d=a,g=e.nodeIndex(r)):c?r.hasChildNodes()?(d=r.firstChild,g=1):k_(r.previousSibling)?(d=r.previousSibling,g=r.previousSibling.data.length):(d=a,g=e.nodeIndex(r)):(d=a,g=e.nodeIndex(r)),!c){const v=r.previousSibling,A=r.nextSibling;ut.each(ut.grep(r.childNodes),I=>{pt(I)&&(I.data=I.data.replace(/\uFEFF/g,""))});let M;for(;M=e.get(o.id+"_"+t);)e.remove(M,!0);if(pt(A)&&pt(v)&&!Fo.browser.isOpera()){const I=v.data.length;v.appendData(A.data),e.remove(A),d=v,g=I}}return H.some(Le(d,g))}else return H.none()},J3=(e,t)=>{const o=e.createRng();return Y3(e,!0,t,o)&&Y3(e,!1,t,o)?H.some({range:o,forward:cx(t)}):H.none()},Nh=(e,t)=>{const o=X3(e,"start",t),r=X3(e,"end",t);return ia(o,r.or(o),(a,c)=>{const d=e.createRng();return d.setStart(G3(e,a.container()),a.offset()),d.setEnd(G3(e,c.container()),c.offset()),{range:d,forward:cx(t)}})},Q3=(e,t)=>H.from(e.select(t.name)[t.index]).map(o=>{const r=e.createRng();return r.selectNode(o),{range:r,forward:!0}}),eE=(e,t)=>{const o=e.dom;if(t){if(q3(t))return J3(o,t);if(U3(t))return xR(o,t);if(W3(t))return Nh(o,t);if(y_(t))return Q3(o,t);if(Z3(t))return H.some({range:t.rng,forward:cx(t)})}return H.none()},wR=(e,t,o)=>De(e,t,o),_R=(e,t)=>{eE(e,t).each(({range:o,forward:r})=>{e.setRng(o,r)})},Ed=e=>jt(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",nl=(e=>t=>e===t)(Ca),Mh=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,bp=e=>!Mh(e)&&!nl(e)&&!md(e),ss=e=>{const t=[];if(e)for(let o=0;o<e.rangeCount;o++)t.push(e.getRangeAt(o));return t},Yd=e=>vn(e,t=>{const o=tg(t);return o?[me.fromDom(o)]:[]}),K1=e=>ss(e).length>1,dx=e=>et(Yd(e),Kc),iy=e=>qs(e,"td[data-mce-selected],th[data-mce-selected]"),tE=(e,t)=>{const o=iy(t);return o.length>0?o:dx(e)},xf=e=>tE(ss(e.selection.getSel()),me.fromDom(e.getBody())),dr=(e,t)=>Ll(e,"table",t),Y1=e=>{const t=e.startContainer,o=e.startOffset;return pt(t)?o===0?H.some(me.fromDom(t)):H.none():H.from(t.childNodes[o]).map(me.fromDom)},oE=e=>{const t=e.endContainer,o=e.endOffset;return pt(t)?o===t.data.length?H.some(me.fromDom(t)):H.none():H.from(t.childNodes[o-1]).map(me.fromDom)},w_=e=>Xi(e).fold(we([e]),t=>[e].concat(w_(t))),X1=e=>Pc(e).fold(we([e]),t=>gn(t)==="br"?ea(t).map(o=>[e].concat(X1(o))).getOr([]):[e].concat(X1(t))),J1=(e,t)=>ia(Y1(t),oE(t),(o,r)=>{const a=Tn(w_(e),kt(fn,o)),c=Tn(X1(e),kt(fn,r));return a.isSome()&&c.isSome()}).getOr(!1),Q1=(e,t,o,r)=>{const a=o,c=new Ka(o,a),d=ti(e.schema.getMoveCaretBeforeOnEnterElements(),(v,A)=>!on(["td","th","table"],A.toLowerCase()));let g=o;do{if(pt(g)&&ut.trim(g.data).length!==0){r?t.setStart(g,0):t.setEnd(g,g.data.length);return}if(d[g.nodeName]){r?t.setStartBefore(g):g.nodeName==="BR"?t.setEndBefore(g):t.setEndAfter(g);return}}while(g=r?c.next():c.prev());a.nodeName==="BODY"&&(r?t.setStart(a,0):t.setEnd(a,a.childNodes.length))},ly=e=>{const t=e.selection.getSel();return $e(t)&&t.rangeCount>0},cy=(e,t)=>{const o=xf(e);o.length>0?Re(o,r=>{const a=r.dom,c=e.dom.createRng();c.setStartBefore(a),c.setEndAfter(a),t(c,!0)}):t(e.selection.getRng(),!1)},ux=(e,t,o)=>{const r=_t(e,t);o(r),e.moveToBookmark(r)},dy=e=>T(e==null?void 0:e.nodeType),fx=e=>jt(e)&&!Ed(e)&&!Sd(e)&&!$d(e),nE=(e,t)=>{if(fx(t)&&!/^(TD|TH)$/.test(t.nodeName)){const o=e.getAttrib(t,"data-mce-selected"),r=parseInt(o,10);return!isNaN(r)&&r>0}else return!1},__=(e,t,o)=>{const{selection:r,dom:a}=e,c=r.getNode(),d=zo(c);ux(r,!0,()=>{t()}),d&&zo(c)&&a.isChildOf(c,e.getBody())?e.selection.select(c):o(r.getStart())&&rE(a,r)},rE=(e,t)=>{var o,r;const a=t.getRng(),{startContainer:c,startOffset:d}=a,g=t.getNode();if(!nE(e,g)&&jt(c)){const v=c.childNodes,A=e.getRoot();let M;if(d<v.length){const I=v[d];M=new Ka(I,(o=e.getParent(I,e.isBlock))!==null&&o!==void 0?o:A)}else{const I=v[v.length-1];M=new Ka(I,(r=e.getParent(I,e.isBlock))!==null&&r!==void 0?r:A),M.next(!0)}for(let I=M.current();I;I=M.next()){if(e.getContentEditable(I)==="false")return;if(pt(I)&&!C_(I)){a.setStart(I,0),t.setRng(a);return}}}},Bh=(e,t,o)=>{if(e){const r=t?"nextSibling":"previousSibling";for(e=e[r];e;e=e[r])if(jt(e)||!C_(e))return e}},mx=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||Uc(e,t),cg=(e,t,o)=>e.schema.isValidChild(t,o),C_=(e,t=!1)=>{if($e(e)&&pt(e)){const o=t?e.data.replace(/ /g," "):e.data;return Ji(o)}else return!1},SR=e=>$e(e)&&pt(e)&&e.length===0,sE=(e,t)=>{const o="[data-mce-cef-wrappable]",r=Eo(e),a=xi(r)?o:`${o},${r}`;return nr(me.fromDom(t),a)},S_=(e,t)=>{const o=e.dom;return fx(t)&&o.getContentEditable(t)==="false"&&sE(e,t)&&o.select('[contenteditable="true"]',t).length===0},yp=(e,t)=>Pt(e)?e(t):($e(t)&&(e=e.replace(/%(\w+)/g,(o,r)=>t[r]||o)),e),uy=(e,t)=>(e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),px=(e,t)=>{if(Io(e))return null;{let o=String(e);return(t==="color"||t==="backgroundColor")&&(o=Jg(o)),t==="fontWeight"&&e===700&&(o="bold"),t==="fontFamily"&&(o=o.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),o}},e0=(e,t,o)=>{const r=e.getStyle(t,o);return px(r,o)},E_=(e,t)=>{let o;return e.getParent(t,r=>jt(r)?(o=e.getStyle(r,"text-decoration"),!!o&&o!=="none"):!1),o},t0=(e,t,o)=>e.getParents(t,o,e.getRoot()),gx=(e,t,o)=>{const r=e.formatter.get(t);return $e(r)&&zn(r,o)},aE=(e,t)=>gx(e,t,r=>{const a=c=>Pt(c)||c.length>1&&c.charAt(0)==="%";return zn(["styles","attributes"],c=>Mn(r,c).exists(d=>{const g=ve(d)?d:qi(d);return zn(g,a)}))}),iE=(e,t,o)=>{const r=["inline","block","selector","attributes","styles","classes"],a=c=>ti(c,(d,g)=>zn(r,v=>v===g));return gx(e,t,c=>{const d=a(c);return gx(e,o,g=>{const v=a(g);return ps(d,v)})})},kf=e=>ha(e,"block"),lE=e=>kf(e)&&e.wrapper===!0,cE=e=>kf(e)&&e.wrapper!==!0,ed=e=>ha(e,"selector"),pi=e=>ha(e,"inline"),dE=e=>ed(e)&&pi(e)&&Bi(Mn(e,"mixed"),!0),hx=e=>ed(e)&&e.expand!==!1&&!pi(e),uE=e=>{const t=[];let o=e;for(;o;){if(pt(o)&&o.data!==Sa||o.childNodes.length>1)return[];jt(o)&&t.push(o),o=o.firstChild}return t},A_=e=>uE(e).length>0,bx=e=>Sd(e.dom)&&A_(e.dom),dg=Ed,o0=t0,yx=C_,vx=mx,fE=e=>Zr(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,n0=(e,t)=>{let o=t;for(;o;){if(jt(o)&&e.getContentEditable(o))return e.getContentEditable(o)==="false"?o:t;o=o.parentNode}return t},xx=(e,t,o,r)=>{const a=t.data;if(e){for(let c=o;c>0;c--)if(r(a.charAt(c-1)))return c}else for(let c=o;c<a.length;c++)if(r(a.charAt(c)))return c;return-1},r0=(e,t,o)=>xx(e,t,o,r=>nl(r)||Mh(r)),z_=(e,t,o)=>xx(e,t,o,bp),T_=(e,t,o,r,a,c)=>{let d;const g=e.getParent(o,e.isBlock)||t,v=(M,I,L)=>{const Y=Au(e),re=a?Y.backwards:Y.forwards;return H.from(re(M,I,(X,ae)=>dg(X.parentNode)?-1:(d=X,L(a,X,ae)),g))};return v(o,r,r0).bind(M=>c?v(M.container,M.offset+(a?-1:0),z_):H.some(M)).orThunk(()=>d?H.some({container:d,offset:a?0:d.length}):H.none())},Ih=(e,t,o,r,a)=>{const c=r[a];pt(r)&&xi(r.data)&&c&&(r=c);const d=o0(e,r);for(let g=0;g<d.length;g++)for(let v=0;v<t.length;v++){const A=t[v];if(!($e(A.collapsed)&&A.collapsed!==o.collapsed)&&ed(A)&&e.is(d[g],A.selector))return d[g]}return r},kx=(e,t,o,r)=>{var a;let c=o;const d=e.getRoot(),g=t[0];if(kf(g)&&(c=g.wrapper?null:e.getParent(o,g.block,d)),!c){const v=(a=e.getParent(o,"LI,TD,TH,SUMMARY"))!==null&&a!==void 0?a:d;c=e.getParent(pt(o)?o.parentNode:o,A=>A!==d&&vx(e.schema,A),v)}if(c&&kf(g)&&g.wrapper&&(c=o0(e,c,"ul,ol").reverse()[0]||c),!c)for(c=o;c&&c[r]&&!e.isBlock(c[r])&&(c=c[r],!uy(c,"br")););return c||o},wx=(e,t,o,r)=>{const a=o.parentNode;return $e(o[r])?!1:a===t||Io(a)||e.isBlock(a)?!0:wx(e,t,a,r)},vp=(e,t,o,r,a)=>{let c=o;const d=a?"previousSibling":"nextSibling",g=e.getRoot();if(pt(o)&&!yx(o)&&(a?r>0:r<o.data.length))return o;for(;c;){if(!t[0].block_expand&&e.isBlock(c))return c;for(let v=c[d];v;v=v[d]){const A=pt(v)&&!wx(e,g,v,d);if(!dg(v)&&!fE(v)&&!yx(v,A))return c}if(c===g||c.parentNode===g){o=c;break}c=c.parentNode}return o},xp=e=>dg(e.parentNode)||dg(e),ug=(e,t,o,r=!1)=>{let{startContainer:a,startOffset:c,endContainer:d,endOffset:g}=t;const v=o[0];return jt(a)&&a.hasChildNodes()&&(a=Ea(a,c),pt(a)&&(c=0)),jt(d)&&d.hasChildNodes()&&(d=Ea(d,t.collapsed?g:g-1),pt(d)&&(g=d.data.length)),a=n0(e,a),d=n0(e,d),xp(a)&&(a=dg(a)?a:a.parentNode,t.collapsed?a=a.previousSibling||a:a=a.nextSibling||a,pt(a)&&(c=t.collapsed?a.length:0)),xp(d)&&(d=dg(d)?d:d.parentNode,t.collapsed?d=d.nextSibling||d:d=d.previousSibling||d,pt(d)&&(g=t.collapsed?0:d.length)),t.collapsed&&(T_(e,e.getRoot(),a,c,!0,r).each(({container:I,offset:L})=>{a=I,c=L}),T_(e,e.getRoot(),d,g,!1,r).each(({container:I,offset:L})=>{d=I,g=L})),(pi(v)||v.block_expand)&&((!pi(v)||!pt(a)||c===0)&&(a=vp(e,o,a,c,!0)),(!pi(v)||!pt(d)||g===d.data.length)&&(d=vp(e,o,d,g,!1))),hx(v)&&(a=Ih(e,o,t,a,"previousSibling"),d=Ih(e,o,t,d,"nextSibling")),(kf(v)||ed(v))&&(a=kx(e,o,a,"previousSibling"),d=kx(e,o,d,"nextSibling"),kf(v)&&(e.isBlock(a)||(a=vp(e,o,a,c,!0),pt(a)&&(c=0)),e.isBlock(d)||(d=vp(e,o,d,g,!1),pt(d)&&(g=d.data.length)))),jt(a)&&a.parentNode&&(c=e.nodeIndex(a),a=a.parentNode),jt(d)&&d.parentNode&&(g=e.nodeIndex(d)+1,d=d.parentNode),{startContainer:a,startOffset:c,endContainer:d,endOffset:g}},s0=(e,t,o)=>{var r;const a=t.startOffset,c=Ea(t.startContainer,a),d=t.endOffset,g=Ea(t.endContainer,d-1),v=ae=>{const ye=ae[0];pt(ye)&&ye===c&&a>=ye.data.length&&ae.splice(0,1);const Se=ae[ae.length-1];return d===0&&ae.length>0&&Se===g&&pt(Se)&&ae.splice(ae.length-1,1),ae},A=(ae,ye,Se)=>{const _e=[];for(;ae&&ae!==Se;ae=ae[ye])_e.push(ae);return _e},M=(ae,ye)=>e.getParent(ae,Se=>Se.parentNode===ye,ye),I=(ae,ye,Se)=>{const _e=Se?"nextSibling":"previousSibling";for(let Ne=ae,ot=Ne.parentNode;Ne&&Ne!==ye;Ne=ot){ot=Ne.parentNode;const xt=A(Ne===ae?Ne:Ne[_e],_e);xt.length&&(Se||xt.reverse(),o(v(xt)))}};if(c===g)return o(v([c]));const L=(r=e.findCommonAncestor(c,g))!==null&&r!==void 0?r:e.getRoot();if(e.isChildOf(c,g))return I(c,L,!0);if(e.isChildOf(g,c))return I(g,L);const Y=M(c,L)||c,re=M(g,L)||g;I(c,Y,!0);const X=A(Y===c?Y:Y.nextSibling,"nextSibling",re===g?re.nextSibling:re);X.length&&o(v(X)),I(g,re)},ER=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],mE=e=>Br(e)&&sm(e)===Sa,pE=(e,t,o,r)=>ka(t).fold(()=>"skipping",a=>r==="br"||mE(t)?"valid":g1(t)?"existing":Sd(t.dom)?"caret":zn(ER,c=>nr(t,c))?"valid-block":!cg(e,o,r)||!cg(e,gn(a),o)?"invalid-child":"valid"),fg=(e,t)=>{const o=ug(e.dom,t,[{inline:"span"}]);t.setStart(o.startContainer,o.startOffset),t.setEnd(o.endContainer,o.endOffset),e.selection.setRng(t)},mg=(e,t,o,r,a,c)=>{const{uid:d=t,...g}=o;ic(e,xs()),Ws(e,`${Gs()}`,d),Ws(e,`${ks()}`,r);const{attributes:v={},classes:A=[]}=a(d,g);if(ni(e,v),rh(e,A),c){A.length>0&&Ws(e,`${fs()}`,A.join(","));const M=st(v);M.length>0&&Ws(e,`${Bs()}`,M.join(","))}},Vi=e=>{Ga(e,xs()),Go(e,`${Gs()}`),Go(e,`${ks()}`),Go(e,`${cr()}`);const t=Ns(e,`${Bs()}`).map(r=>r.split(",")).getOr([]),o=Ns(e,`${fs()}`).map(r=>r.split(",")).getOr([]);Re(t,r=>Go(e,r)),cp(e,o),Go(e,`${fs()}`),Go(e,`${Bs()}`)},hm=(e,t,o,r,a)=>{const c=me.fromTag("span",e);return mg(c,t,o,r,a,!1),c},Jn=(e,t,o,r,a,c)=>{const d=[],g=hm(e.getDoc(),o,c,r,a),v=da(),A=()=>{v.clear()},M=()=>v.get().getOrThunk(()=>{const re=Is(g);return d.push(re),v.set(re),re}),I=re=>{Re(re,L)},L=re=>{switch(pE(e,re,"span",gn(re))){case"invalid-child":{A();const ae=Na(re);I(ae),A();break}case"valid-block":{A(),mg(re,o,c,r,a,!0);break}case"valid":{const ae=M();Pi(re,ae);break}}},Y=re=>{const X=Jo(re,me.fromDom);I(X)};return s0(e.dom,t,re=>{A(),Y(re)}),d},AR=(e,t,o,r)=>{e.undoManager.transact(()=>{const a=e.selection,c=a.getRng(),d=xf(e).length>0,g=Fi("mce-annotation");if(c.collapsed&&!d&&fg(e,c),a.getRng().collapsed&&!d){const v=hm(e.getDoc(),g,r,t,o.decorate);fc(v,Ca),a.getRng().insertNode(v.dom),a.select(v.dom)}else ux(a,!1,()=>{cy(e,v=>{Jn(e,v,g,t,o.decorate,r)})})})},gE=e=>{const t=b1();Pb(e,t);const o=Ib(e,t),r=Nd("span"),a=c=>{Re(c,d=>{r(d)?Ma(d):Vi(d)})};return{register:(c,d)=>{t.register(c,d)},annotate:(c,d)=>{t.lookup(c).each(g=>{AR(e,c,g,d)})},annotationChanged:(c,d)=>{o.addListener(c,d)},remove:c=>{Bb(e,H.some(c)).each(({elements:d})=>{const g=e.selection.getBookmark();a(d),e.selection.moveToBookmark(g)})},removeAll:c=>{const d=e.selection.getBookmark();Bo(lp(e,c),(g,v)=>{a(g)}),e.selection.moveToBookmark(d)},getAll:c=>{const d=lp(e,c);return vi(d,g=>Jo(g,v=>v.dom))}}},wr=e=>({getBookmark:kt(wR,e),moveToBookmark:kt(_R,e)});wr.isBookmarkNode=Ed;const O_=(e,t,o)=>o.collapsed?!1:zn(o.getClientRects(),r=>jb(r,e,t)),a0=(e,t)=>e.dispatch("PreProcess",t),i0=(e,t)=>e.dispatch("PostProcess",t),l0=e=>{e.dispatch("remove")},c0=e=>{e.dispatch("detach")},hE=(e,t)=>{e.dispatch("SwitchMode",{mode:t})},zR=(e,t,o,r,a)=>{e.dispatch("ObjectResizeStart",{target:t,width:o,height:r,origin:a})},TR=(e,t,o,r,a)=>{e.dispatch("ObjectResized",{target:t,width:o,height:r,origin:a})},OR=e=>{e.dispatch("PreInit")},DR=e=>{e.dispatch("PostRender")},Ys=e=>{e.dispatch("Init")},bE=(e,t)=>{e.dispatch("PlaceholderToggle",{state:t})},D_=(e,t,o)=>{e.dispatch(t,o)},yE=(e,t,o,r)=>{e.dispatch("FormatApply",{format:t,node:o,vars:r})},vE=(e,t,o,r)=>{e.dispatch("FormatRemove",{format:t,node:o,vars:r})},RR=(e,t)=>e.dispatch("BeforeSetContent",t),vc=(e,t)=>e.dispatch("SetContent",t),wf=(e,t)=>e.dispatch("BeforeGetContent",t),xE=(e,t)=>e.dispatch("GetContent",t),R_=(e,t)=>{e.dispatch("AutocompleterStart",t)},N_=(e,t)=>{e.dispatch("AutocompleterUpdate",t)},M_=(e,t)=>{e.dispatch("AutocompleterUpdateActiveRange",t)},NR=e=>{e.dispatch("AutocompleterEnd")},d0=(e,t,o)=>e.dispatch("PastePreProcess",{content:t,internal:o}),_x=(e,t,o)=>e.dispatch("PastePostProcess",{node:t,internal:o}),Cx=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),MR=(e,t)=>e.dispatch("EditableRootStateChange",{state:t}),Ot={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||Ot.metaKeyPressed(e),metaKeyPressed:e=>Fo.os.isMacOS()||Fo.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},Ph="data-mce-selected",BR="table,img,figure.image,hr,video,span.mce-preview-object,details",Ad=Math.abs,pg=Math.round,Sx={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},Mu=e=>e.type==="longpress"||e.type.indexOf("touch")===0,mr=(e,t)=>{const o=t.dom,r=t.getDoc(),a=document,c=t.getBody();let d,g,v,A,M,I,L,Y,re,X,ae,ye,Se,_e,Ne,ot,xt;const Mt=Nt=>$e(Nt)&&(Ul(Nt)||o.is(Nt,"figure.image")),Ze=Nt=>je(Nt)||o.hasClass(Nt,"mce-preview-object"),Ie=(Nt,rn)=>{if(Mu(Nt)){const hn=Nt.touches[0];return Mt(Nt.target)&&!O_(hn.clientX,hn.clientY,rn)}else return Mt(Nt.target)&&!O_(Nt.clientX,Nt.clientY,rn)},Qe=Nt=>{const rn=Nt.target;Ie(Nt,t.selection.getRng())&&!Nt.isDefaultPrevented()&&t.selection.select(rn)},Vt=Nt=>o.hasClass(Nt,"mce-preview-object")&&$e(Nt.firstElementChild)?[Nt,Nt.firstElementChild]:o.is(Nt,"figure.image")?[Nt.querySelector("img")]:[Nt],oo=Nt=>{const rn=n3(t);return!rn||Nt.getAttribute("data-mce-resize")==="false"||Nt===t.getBody()?!1:o.hasClass(Nt,"mce-preview-object")&&$e(Nt.firstElementChild)?nr(me.fromDom(Nt.firstElementChild),rn):nr(me.fromDom(Nt),rn)},nn=(Nt,rn)=>{if(Ze(rn))return Nt.create("img",{src:Fo.transparentSrc});if(pc(rn)){const Di=lr(A.name,"n")?dt:no,pr=rn.cloneNode(!0);return Di(Nt.select("tr",pr)).each(bi=>{const Tf=Nt.select("td,th",bi);Nt.setStyle(bi,"height",null),Re(Tf,Fp=>Nt.setStyle(Fp,"height",null))}),pr}else return rn.cloneNode(!0)},mn=(Nt,rn,hn)=>{if($e(hn)){const Di=Vt(Nt);Re(Di,pr=>{pr.style[rn]||!t.schema.isValid(pr.nodeName.toLowerCase(),rn)?o.setStyle(pr,rn,hn):o.setAttrib(pr,rn,""+hn)})}},ir=(Nt,rn,hn)=>{mn(Nt,"width",rn),mn(Nt,"height",hn)},gr=Nt=>{let rn,hn,Di,pr,bi;rn=Nt.screenX-I,hn=Nt.screenY-L,_e=rn*A[2]+X,Ne=hn*A[3]+ae,_e=_e<5?5:_e,Ne=Ne<5?5:Ne,(Mt(d)||Ze(d))&&r3(t)!==!1?Di=!Ot.modifierPressed(Nt):Di=Ot.modifierPressed(Nt),Di&&(Ad(rn)>Ad(hn)?(Ne=pg(_e*ye),_e=pg(Ne/ye)):(_e=pg(Ne/ye),Ne=pg(_e*ye))),ir(g,_e,Ne),pr=A.startPos.x+rn,bi=A.startPos.y+hn,pr=pr>0?pr:0,bi=bi>0?bi:0,o.setStyles(v,{left:pr,top:bi,display:"block"}),v.innerHTML=_e+" &times; "+Ne,A[2]<0&&g.clientWidth<=_e&&o.setStyle(g,"left",Y+(X-_e)),A[3]<0&&g.clientHeight<=Ne&&o.setStyle(g,"top",re+(ae-Ne)),rn=c.scrollWidth-ot,hn=c.scrollHeight-xt,rn+hn!==0&&o.setStyles(v,{left:pr-rn,top:bi-hn}),Se||(zR(t,d,X,ae,"corner-"+A.name),Se=!0)},na=()=>{const Nt=Se;Se=!1,Nt&&(mn(d,"width",_e),mn(d,"height",Ne)),o.unbind(r,"mousemove",gr),o.unbind(r,"mouseup",na),a!==r&&(o.unbind(a,"mousemove",gr),o.unbind(a,"mouseup",na)),o.remove(g),o.remove(v),o.remove(M),xl(d),Nt&&(TR(t,d,_e,Ne,"corner-"+A.name),o.setAttrib(d,"style",o.getAttrib(d,"style"))),t.nodeChanged()},xl=Nt=>{zt();const rn=o.getPos(Nt,c),hn=rn.x,Di=rn.y,pr=Nt.getBoundingClientRect(),bi=pr.width||pr.right-pr.left,Tf=pr.height||pr.bottom-pr.top;d!==Nt&&(St(),d=Nt,_e=Ne=0);const Fp=t.dispatch("ObjectSelected",{target:Nt});oo(Nt)&&!Fp.isDefaultPrevented()?Bo(Sx,(Sc,cu)=>{const Of=Df=>{const ao=Vt(d)[0];I=Df.screenX,L=Df.screenY,X=ao.clientWidth,ae=ao.clientHeight,ye=ae/X,A=Sc,A.name=cu,A.startPos={x:bi*Sc[0]+hn,y:Tf*Sc[1]+Di},ot=c.scrollWidth,xt=c.scrollHeight,M=o.add(c,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),o.setStyles(M,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),g=nn(o,d),o.addClass(g,"mce-clonedresizable"),o.setAttrib(g,"data-mce-bogus","all"),g.contentEditable="false",o.setStyles(g,{left:hn,top:Di,margin:0}),ir(g,bi,Tf),g.removeAttribute(Ph),c.appendChild(g),o.bind(r,"mousemove",gr),o.bind(r,"mouseup",na),a!==r&&(o.bind(a,"mousemove",gr),o.bind(a,"mouseup",na)),v=o.add(c,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},X+" &times; "+ae)};let du=o.get("mceResizeHandle"+cu);du&&o.remove(du),du=o.add(c,"div",{id:"mceResizeHandle"+cu,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+cu+"-resize; margin:0; padding:0"}),o.bind(du,"mousedown",Df=>{Df.stopImmediatePropagation(),Df.preventDefault(),Of(Df)}),Sc.elm=du,o.setStyles(du,{left:bi*Sc[0]+hn-du.offsetWidth/2,top:Tf*Sc[1]+Di-du.offsetHeight/2})}):St(!1)},Or=ip(xl,0),St=(Nt=!0)=>{Or.cancel(),zt(),d&&Nt&&d.removeAttribute(Ph),Bo(Sx,(rn,hn)=>{const Di=o.get("mceResizeHandle"+hn);Di&&(o.unbind(Di),o.remove(Di))})},Qt=(Nt,rn)=>o.isChildOf(Nt,rn),Kn=Nt=>{if(Se||t.removed||t.composing)return;const rn=Nt.type==="mousedown"?Nt.target:e.getNode(),hn=ca(me.fromDom(rn),BR).map(pr=>pr.dom).filter(pr=>o.isEditable(pr.parentElement)||pr.nodeName==="IMG"&&o.isEditable(pr)).getOrUndefined(),Di=$e(hn)?o.getAttrib(hn,Ph,"1"):"1";if(Re(o.select(`img[${Ph}],hr[${Ph}]`),pr=>{pr.removeAttribute(Ph)}),$e(hn)&&Qt(hn,c)&&t.hasFocus()){mo();const pr=e.getStart(!0);if(Qt(pr,hn)&&Qt(e.getEnd(!0),hn)){o.setAttrib(hn,Ph,Di),Or.throttle(hn);return}}St()},zt=()=>{Bo(Sx,Nt=>{Nt.elm&&(o.unbind(Nt.elm),delete Nt.elm)})},mo=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return t.on("init",()=>{mo(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Kn),t.on("keyup compositionend",Nt=>{d&&d.nodeName==="TABLE"&&Kn(Nt)}),t.on("hide blur",St),t.on("contextmenu longpress",Qe,!0)}),t.on("remove",zt),{isResizable:oo,showResizeRect:xl,hideResizeRect:St,updateResizeRect:Kn,destroy:()=>{Or.cancel(),d=g=M=null}}},fy=(e,t)=>{t.fold(o=>{e.setStartBefore(o.dom)},(o,r)=>{e.setStart(o.dom,r)},o=>{e.setStartAfter(o.dom)})},Ex=(e,t)=>{t.fold(o=>{e.setEndBefore(o.dom)},(o,r)=>{e.setEnd(o.dom,r)},o=>{e.setEndAfter(o.dom)})},B_=(e,t,o)=>{const r=e.document.createRange();return fy(r,t),Ex(r,o),r},u0=(e,t,o,r,a)=>{const c=e.document.createRange();return c.setStart(t.dom,o),c.setEnd(r.dom,a),c},Lh=xn.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),kE=(e,t,o)=>t(me.fromDom(o.startContainer),o.startOffset,me.fromDom(o.endContainer),o.endOffset),I_=(e,t)=>t.match({domRange:o=>({ltr:we(o),rtl:H.none}),relative:(o,r)=>({ltr:Oa(()=>B_(e,o,r)),rtl:Oa(()=>H.some(B_(e,r,o)))}),exact:(o,r,a,c)=>({ltr:Oa(()=>u0(e,o,r,a,c)),rtl:Oa(()=>H.some(u0(e,a,c,o,r)))})}),IR=(e,t)=>{const o=t.ltr();return o.collapsed?t.rtl().filter(a=>a.collapsed===!1).map(a=>Lh.rtl(me.fromDom(a.endContainer),a.endOffset,me.fromDom(a.startContainer),a.startOffset)).getOrThunk(()=>kE(e,Lh.ltr,o)):kE(e,Lh.ltr,o)},wE=(e,t)=>{const o=I_(e,t);return IR(e,o)};Lh.ltr,Lh.rtl;const Ax={create:(e,t,o,r)=>({start:e,soffset:t,finish:o,foffset:r})},_E=(e,t,o)=>{var r;return H.from((r=e.caretPositionFromPoint)===null||r===void 0?void 0:r.call(e,t,o)).bind(a=>{if(a.offsetNode===null)return H.none();const c=e.createRange();return c.setStart(a.offsetNode,a.offset),c.collapse(),H.some(c)})},zx=(e,t,o)=>{var r;return H.from((r=e.caretRangeFromPoint)===null||r===void 0?void 0:r.call(e,t,o))},LR=(e,t,o)=>e.caretPositionFromPoint?_E(e,t,o):e.caretRangeFromPoint?zx(e,t,o):H.none(),FR=(e,t,o)=>{const r=e.document;return LR(r,t,o).map(a=>Ax.create(me.fromDom(a.startContainer),a.startOffset,me.fromDom(a.endContainer),a.endOffset))},P_=xn.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),HR=(e,t,o,r)=>e.fold(t,o,r),$R=e=>e.fold(At,At,At),CE=P_.before,VR=P_.on,jR=P_.after,bm={before:CE,on:VR,after:jR,cata:HR,getStart:$R},f0=xn.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),UR=e=>f0.exact(e.start,e.soffset,e.finish,e.foffset),ZR=e=>e.match({domRange:t=>me.fromDom(t.startContainer),relative:(t,o)=>bm.getStart(t),exact:(t,o,r,a)=>t}),SE=f0.domRange,Xd=f0.relative,WR=f0.exact,EE=e=>{const t=ZR(e);return Mc(t)},L_=Ax.create,gg={domRange:SE,relative:Xd,exact:WR,exactFromRange:UR,getWin:EE,range:L_},m0=(e,t)=>{const o=gn(e);return o==="input"?bm.after(e):on(["br","img"],o)?t===0?bm.before(e):bm.after(e):bm.on(e,t)},AE=(e,t)=>{const o=e.fold(bm.before,m0,bm.after),r=t.fold(bm.before,m0,bm.after);return gg.relative(o,r)},Tx=(e,t,o,r)=>{const a=m0(e,t),c=m0(o,r);return gg.relative(a,c)},zE=e=>e.match({domRange:t=>{const o=me.fromDom(t.startContainer),r=me.fromDom(t.endContainer);return Tx(o,t.startOffset,r,t.endOffset)},relative:AE,exact:Tx}),td=(e,t)=>{const r=document.createDocumentFragment();return Re(e,a=>{r.appendChild(a.dom)}),me.fromDom(r)},qR=e=>{const t=gg.getWin(e).dom,o=(a,c,d,g)=>u0(t,a,c,d,g),r=zE(e);return wE(t,r).match({ltr:o,rtl:o})},F_=(e,t,o)=>FR(e,t,o),TE=(e,t,o)=>{const r=Mc(me.fromDom(o));return F_(r.dom,e,t).map(a=>{const c=o.createRange();return c.setStart(a.start.dom,a.soffset),c.setEnd(a.finish.dom,a.foffset),c}).getOrUndefined()},p0=(e,t)=>$e(e)&&$e(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,_f=(e,t,o)=>{let r=e;for(;r&&r!==t;){if(o(r))return r;r=r.parentNode}return null},Ox=(e,t,o)=>_f(e,t,o)!==null,Dx=(e,t,o)=>Ox(e,t,r=>r.nodeName===o),OE=(e,t)=>Gl(e)&&!Ox(e,t,Sd),DE=(e,t,o)=>{const r=t.parentNode;if(r){const a=new Ka(t,e.getParent(r,e.isBlock)||e.getRoot());let c;for(;c=a[o?"prev":"next"]();)if(Zr(c))return!0}return!1},RE=(e,t)=>{var o;return((o=e.previousSibling)===null||o===void 0?void 0:o.nodeName)===t},NE=(e,t)=>{let o=t;for(;o&&o!==e;){if(zo(o))return!0;o=o.parentNode}return!1},g0=(e,t,o,r,a)=>{const c=e.getRoot(),d=e.schema.getNonEmptyElements(),g=a.parentNode;let v,A;if(!g)return H.none();const M=e.getParent(g,e.isBlock)||c;if(r&&Zr(a)&&t&&e.isEmpty(M))return H.some(Le(g,e.nodeIndex(a)));const I=new Ka(a,M);for(;A=I[r?"prev":"next"]();){if(e.getContentEditableParent(A)==="false"||OE(A,c))return H.none();if(pt(A)&&A.data.length>0)return Dx(A,c,"A")?H.none():H.some(Le(A,r?A.data.length:0));if(e.isBlock(A)||d[A.nodeName.toLowerCase()])return H.none();v=A}return Uo(v)?H.none():o&&v?H.some(Le(v,0)):H.none()},H_=(e,t,o,r)=>{const a=e.getRoot();let c,d=!1,g=o?r.startContainer:r.endContainer,v=o?r.startOffset:r.endOffset;const A=jt(g)&&v===g.childNodes.length,M=e.schema.getNonEmptyElements();let I=o;if(Gl(g))return H.none();if(jt(g)&&v>g.childNodes.length-1&&(I=!1),qt(g)&&(g=a,v=0),g===a){if(I&&(c=g.childNodes[v>0?v-1:0],c&&(Gl(c)||M[c.nodeName]||pc(c))))return H.none();if(g.hasChildNodes()){if(v=Math.min(!I&&v>0?v-1:v,g.childNodes.length-1),g=g.childNodes[v],v=pt(g)&&A?g.data.length:0,!t&&g===a.lastChild&&pc(g)||NE(a,g)||Gl(g)||Wf(g))return H.none();if(g.hasChildNodes()&&!pc(g)){c=g;const L=new Ka(g,a);do{if(zo(c)||Gl(c)){d=!1;break}if(pt(c)&&c.data.length>0){v=I?0:c.data.length,g=c,d=!0;break}if(M[c.nodeName.toLowerCase()]&&!vb(c)){v=e.nodeIndex(c),g=c.parentNode,I||v++,d=!0;break}}while(c=I?L.next():L.prev())}}}return t&&(pt(g)&&v===0&&g0(e,A,t,!0,g).each(L=>{g=L.container(),v=L.offset(),d=!0}),jt(g)&&(c=g.childNodes[v],c||(c=g.childNodes[v-1]),c&&Zr(c)&&!RE(c,"A")&&!DE(e,c,!1)&&!DE(e,c,!0)&&g0(e,A,t,!0,c).each(L=>{g=L.container(),v=L.offset(),d=!0}))),I&&!t&&pt(g)&&v===g.data.length&&g0(e,A,t,!1,g).each(L=>{g=L.container(),v=L.offset(),d=!0}),d&&g?H.some(Le(g,v)):H.none()},ym=(e,t)=>{const o=t.collapsed,r=t.cloneRange(),a=Le.fromRangeStart(t);return H_(e,o,!0,r).each(c=>{(!o||!Le.isAbove(a,c))&&r.setStart(c.container(),c.offset())}),o||H_(e,o,!1,r).each(c=>{r.setEnd(c.container(),c.offset())}),o&&r.collapse(!0),p0(t,r)?H.none():H.some(r)},h0=(e,t)=>e.splitText(t),b0=e=>{let t=e.startContainer,o=e.startOffset,r=e.endContainer,a=e.endOffset;if(t===r&&pt(t)){if(o>0&&o<t.data.length)if(r=h0(t,o),t=r.previousSibling,a>o){a=a-o;const c=h0(r,a).previousSibling;t=r=c,a=c.data.length,o=0}else a=0}else if(pt(t)&&o>0&&o<t.data.length&&(t=h0(t,o),o=0),pt(r)&&a>0&&a<r.data.length){const c=h0(r,a).previousSibling;r=c,a=c.data.length}return{startContainer:t,startOffset:o,endContainer:r,endOffset:a}},hg=e=>({walk:(c,d)=>s0(e,c,d),split:b0,expand:(c,d={type:"word"})=>{if(d.type==="word"){const g=ug(e,c,[{inline:"span"}]),v=e.createRng();return v.setStart(g.startContainer,g.startOffset),v.setEnd(g.endContainer,g.endOffset),v}return c},normalize:c=>ym(e,c).fold(yn,d=>(c.setStart(d.startContainer,d.startOffset),c.setEnd(d.endContainer,d.endOffset),!0))});hg.compareRanges=p0,hg.getCaretRangeFromPoint=TE,hg.getSelectedNode=tg,hg.getNode=Ea;const $_=((e,t)=>{const o=(g,v)=>{if(!T(v)&&!v.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+v);const A=g.dom;ii(A)&&(A.style[e]=v+"px")},r=g=>{const v=t(g);if(v<=0||v===null){const A=ys(g,e);return parseFloat(A)||0}return v},a=r,c=(g,v)=>uo(v,(A,M)=>{const I=ys(g,M),L=I===void 0?0:parseInt(I,10);return isNaN(L)?A:A+L},0);return{set:o,get:r,getOuter:a,aggregate:c,max:(g,v,A)=>{const M=c(g,A);return v>M?v-M:0}}})("height",e=>{const t=e.dom;return ai(e)?t.getBoundingClientRect().height:t.offsetHeight}),Fh=e=>$_.get(e),ME=()=>me.fromDom(document),BE=(e,t)=>e.view(t).fold(we([]),r=>{const a=e.owner(r),c=BE(e,a);return[r].concat(c)}),Rx=(e,t)=>{const o=t.owner(e);return BE(t,o)};var YR=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?H.none():H.from((t=e.dom.defaultView)===null||t===void 0?void 0:t.frameElement)).map(me.fromDom)},owner:e=>zl(e)});const IE=e=>{const t=ME(),o=xo(t),r=Rx(e,YR),a=Ro(e),c=Gt(r,(d,g)=>{const v=Ro(g);return{left:d.left+v.left,top:d.top+v.top}},{left:0,top:0});return de(c.left+a.left+o.left,c.top+a.top+o.top)},kp=e=>gn(e)==="textarea",PE=(e,t)=>e.dispatch("ScrollIntoView",t).isDefaultPrevented(),LE=(e,t)=>{e.dispatch("AfterScrollIntoView",t)},FE=(e,t)=>{const o=Na(e);if(o.length===0||kp(e))return{element:e,offset:t};if(t<o.length&&!kp(o[t]))return{element:o[t],offset:0};{const r=o[o.length-1];return kp(r)?{element:e,offset:t}:gn(r)==="img"?{element:r,offset:1}:Br(r)?{element:r,offset:sm(r).length}:{element:r,offset:Na(r).length}}},y0=(e,t)=>{const o=io(e),r=Fh(e);return{element:e,bottom:o.top+r,height:r,pos:o,cleanup:t}},HE=(e,t)=>{const o=FE(e,t),r=me.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+Sa+"</span>");return Kr(o.element,r),y0(r,()=>Wn(r))},$E=e=>y0(me.fromDom(e),Yt),VE=(e,t,o,r)=>{UE(e,(a,c)=>jE(e,t,o,r),o)},v0=(e,t,o,r,a)=>{const c={elm:r.element.dom,alignToTop:a};if(PE(e,c))return;const d=xo(t).top;o(e,t,d,r,a),LE(e,c)},jE=(e,t,o,r)=>{const a=me.fromDom(e.getBody()),c=me.fromDom(e.getDoc());Um(a);const d=HE(me.fromDom(o.startContainer),o.startOffset);v0(e,c,t,d,r),d.cleanup()},Nx=(e,t,o,r)=>{const a=me.fromDom(e.getDoc());v0(e,a,o,$E(t),r)},UE=(e,t,o)=>{const r=o.startContainer,a=o.startOffset,c=o.endContainer,d=o.endOffset;t(me.fromDom(r),me.fromDom(c));const g=e.dom.createRng();g.setStart(r,a),g.setEnd(c,d),e.selection.setRng(o)},x0=(e,t,o,r,a)=>{const c=t.pos;if(r)Wt(c.left,c.top,a);else{const d=c.top-o+t.height;Wt(-e.getBody().getBoundingClientRect().left,d,a)}},V_=(e,t,o,r,a,c)=>{const d=r+o,g=a.pos.top,v=a.bottom,A=v-g>=r;g<o?x0(e,a,r,c!==!1,t):g>d?x0(e,a,r,A?c!==!1:c===!0,t):v>d&&!A&&x0(e,a,r,c===!0,t)},k0=(e,t,o,r,a)=>{const c=Mc(t).dom.innerHeight;V_(e,t,o,c,r,a)},vm=(e,t,o,r,a)=>{const c=Mc(t).dom.innerHeight;V_(e,t,o,c,r,a);const d=IE(r.element),g=Vl(window);d.top<g.y?Fn(r.element,a!==!1):d.top>g.bottom&&Fn(r.element,a===!0)},XR=(e,t,o)=>VE(e,k0,t,o),j_=(e,t,o)=>Nx(e,t,k0,o),pa=(e,t,o)=>VE(e,vm,t,o),U_=(e,t,o)=>Nx(e,t,vm,o),Z_=(e,t,o)=>{(e.inline?j_:U_)(e,t,o)},Jd=(e,t,o)=>{(e.inline?XR:pa)(e,t,o)},W_=(e,t=!1)=>e.dom.focus({preventScroll:t}),q_=e=>{const t=dc(e).dom;return e.dom===t.activeElement},Hh=(e=ME())=>H.from(e.dom.activeElement).map(me.fromDom),JR=e=>Hh(dc(e)).filter(t=>e.dom.contains(t.dom)),ZE=(e,t)=>{const o=Br(t)?sm(t).length:Na(t).length+1;return e>o?o:e<0?0:e},my=e=>gg.range(e.start,ZE(e.soffset,e.start),e.finish,ZE(e.foffset,e.finish)),WE=(e,t)=>!Fd(t.dom)&&(Ra(e,t)||fn(e,t)),bg=e=>t=>WE(e,t.start)&&WE(e,t.finish),QR=e=>e.inline||Fo.browser.isFirefox(),yg=e=>gg.range(me.fromDom(e.startContainer),e.startOffset,me.fromDom(e.endContainer),e.endOffset),eN=e=>{const t=e.getSelection();return(!t||t.rangeCount===0?H.none():H.from(t.getRangeAt(0))).map(yg)},Qd=e=>{const t=Mc(e);return eN(t.dom).filter(bg(e))},w0=(e,t)=>H.from(t).filter(bg(e)).map(my),G_=e=>{const t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),H.some(t)}catch{return H.none()}},py=e=>{const t=QR(e)?Qd(me.fromDom(e.getBody())):H.none();e.bookmark=t.isSome()?t:e.bookmark},K_=e=>(e.bookmark?e.bookmark:H.none()).bind(o=>w0(me.fromDom(e.getBody()),o)).bind(G_),Mx=e=>{K_(e).each(t=>e.selection.setRng(t))},eu={isEditorUIElement:e=>{const t=e.className.toString();return t.indexOf("tox-")!==-1||t.indexOf("mce-")!==-1}},Bx=(e,t)=>(T(t)||(t=0),setTimeout(e,t)),qE=(e,t)=>(T(t)||(t=0),setInterval(e,t)),od={setEditorTimeout:(e,t,o)=>Bx(()=>{e.removed||t()},o),setEditorInterval:(e,t,o)=>{const r=qE(()=>{e.removed?clearInterval(r):t()},o);return r}},Y_=e=>e.type==="nodechange"&&e.selectionChange,$h=(e,t)=>{const o=()=>{t.throttle()};zr.DOM.bind(document,"mouseup",o),e.on("remove",()=>{zr.DOM.unbind(document,"mouseup",o)})},X_=(e,t)=>{e.on("mouseup touchend",o=>{t.throttle()})},GE=(e,t)=>{X_(e,t),e.on("keyup NodeChange AfterSetSelectionRange",o=>{Y_(o)||py(e)})},tN=e=>{const t=ip(()=>{py(e)},0);e.on("init",()=>{e.inline&&$h(e,t),GE(e,t)}),e.on("remove",()=>{t.cancel()})};let xm;const J_=zr.DOM,KE=e=>jt(e)&&eu.isEditorUIElement(e),_0=e=>{const t=e.classList;return t!==void 0?t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"):!1},Ix=(e,t)=>{const o=a3(e);return J_.getParent(t,a=>KE(a)||(o?e.dom.is(a,o):!1))!==null},Px=e=>{try{const t=dc(me.fromDom(e.getElement()));return Hh(t).fold(()=>document.body,o=>o.dom)}catch{return document.body}},YE=(e,t)=>{const o=t.editor;tN(o);const r=(a,c)=>{if(h3(a)&&a.inline!==!0){const d=me.fromDom(a.getContainer());c(d,"tox-edit-focus")}};o.on("focusin",()=>{const a=e.focusedEditor;_0(Px(o))&&r(o,ic),a!==o&&(a&&a.dispatch("blur",{focusedEditor:o}),e.setActive(o),e.focusedEditor=o,o.dispatch("focus",{blurredEditor:a}),o.focus(!0))}),o.on("focusout",()=>{od.setEditorTimeout(o,()=>{const a=e.focusedEditor;(!_0(Px(o))||a!==o)&&r(o,Ga),!Ix(o,Px(o))&&a===o&&(o.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),xm||(xm=a=>{const c=e.activeEditor;c&&Ku(a).each(d=>{const g=d;g.ownerDocument===document&&g!==document.body&&!Ix(c,g)&&e.focusedEditor===c&&(c.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},J_.bind(document,"focusin",xm))},oN=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&xm&&(J_.unbind(document,"focusin",xm),xm=null)},nN=e=>{e.on("AddEditor",kt(YE,e)),e.on("RemoveEditor",kt(oN,e))},rN=(e,t)=>e.dom.getParent(t,o=>e.dom.getContentEditable(o)==="true"),sN=(e,t)=>e.dom.getParent(t,o=>e.dom.getContentEditable(o)==="false")!==null,aN=e=>e.collapsed?H.from(Ea(e.startContainer,e.startOffset)).map(me.fromDom):H.none(),iN=(e,t)=>aN(t).bind(o=>dp(o)?H.some(o):Ra(e,o)?H.none():H.some(e)),XE=(e,t)=>{iN(me.fromDom(e.getBody()),t).bind(o=>yo(o.dom)).fold(()=>{e.selection.normalize()},o=>e.selection.setRng(o.toRange()))},Lx=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},lN=e=>q_(e)||JR(e).isSome(),cN=e=>$e(e.iframeElement)&&q_(me.fromDom(e.iframeElement)),dN=e=>{const t=e.getBody();return t&&lN(me.fromDom(t))},JE=e=>{const t=dc(me.fromDom(e.getElement()));return Hh(t).filter(o=>!_0(o.dom)&&Ix(e,o.dom)).isSome()},gy=e=>e.inline?dN(e):cN(e),Vh=e=>gy(e)||JE(e),uN=e=>{const t=e.selection,o=e.getBody();let r=t.getRng();e.quirks.refreshContentEditable();const a=d=>{K_(d).each(g=>{d.selection.setRng(g),r=g})};!gy(e)&&e.hasEditableRoot()&&a(e);const c=rN(e,t.getNode());if(c&&e.dom.isChildOf(c,o)){sN(e,c)||Lx(o),Lx(c),e.hasEditableRoot()||a(e),XE(e,r),Q_(e);return}e.inline||(Fo.browser.isOpera()||Lx(o),e.getWin().focus()),(Fo.browser.isFirefox()||e.inline)&&(Lx(o),XE(e,r)),Q_(e)},Q_=e=>e.editorManager.setActive(e),QE=(e,t)=>{e.removed||(t?Q_(e):uN(e))},eA=(e,t)=>t.collapsed?e.isEditable(t.startContainer):e.isEditable(t.startContainer)&&e.isEditable(t.endContainer),tA=(e,t,o,r,a)=>{const c=o?t.startContainer:t.endContainer,d=o?t.startOffset:t.endOffset;return H.from(c).map(me.fromDom).map(g=>!r||!t.collapsed?Ic(g,a(g,d)).getOr(g):g).bind(g=>hs(g)?H.some(g):ka(g).filter(hs)).map(g=>g.dom).getOr(e)},oA=(e,t,o=!1)=>tA(e,t,!0,o,(r,a)=>Math.min(ud(r),a)),nA=(e,t,o=!1)=>tA(e,t,!1,o,(r,a)=>a>0?a-1:a),rA=(e,t)=>{const o=e;for(;e&&pt(e)&&e.length===0;)e=t?e.nextSibling:e.previousSibling;return e||o},fN=(e,t)=>{if(!t)return e;let o=t.startContainer,r=t.endContainer;const a=t.startOffset,c=t.endOffset;let d=t.commonAncestorContainer;t.collapsed||(o===r&&c-a<2&&o.hasChildNodes()&&(d=o.childNodes[a]),pt(o)&&pt(r)&&(o.length===a?o=rA(o.nextSibling,!0):o=o.parentNode,c===0?r=rA(r.previousSibling,!1):r=r.parentNode,o&&o===r&&(d=o)));const g=pt(d)?d.parentNode:d;return mc(g)?g:e},e2=(e,t,o,r)=>{const a=[],c=e.getRoot(),d=e.getParent(o||oA(c,t,t.collapsed),e.isBlock),g=e.getParent(r||nA(c,t,t.collapsed),e.isBlock);if(d&&d!==c&&a.push(d),d&&g&&d!==g){let v;const A=new Ka(d,c);for(;(v=A.next())&&v!==g;)e.isBlock(v)&&a.push(v)}return g&&d!==g&&g!==c&&a.push(g),a},C0=(e,t,o)=>H.from(t).bind(r=>H.from(r.parentNode).map(a=>{const c=e.nodeIndex(r),d=e.createRng();return d.setStart(a,c),d.setEnd(a,c+1),o&&(Q1(e,d,r,!0),Q1(e,d,r,!1)),d})),Fx=(e,t)=>Jo(t,o=>{const r=e.dispatch("GetSelectionRange",{range:o});return r.range!==o?r.range:o}),mN={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},jh=(e,t,o)=>{const r=o?"lastChild":"firstChild",a=o?"prev":"next";if(e[r])return e[r];if(e!==t){let c=e[a];if(c)return c;for(let d=e.parent;d&&d!==t;d=d.parent)if(c=d[a],c)return c}},sA=e=>{var t;const o=(t=e.value)!==null&&t!==void 0?t:"";if(!Ji(o))return!1;const r=e.parent;return!(r&&(r.name!=="span"||r.attr("style"))&&/^[ ]+$/.test(o))},Ia=e=>{const t=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class Oi{static create(t,o){const r=new Oi(t,mN[t]||1);return o&&Bo(o,(a,c)=>{r.attr(c,a)}),r}constructor(t,o){this.name=t,this.type=o,o===1&&(this.attributes=[],this.attributes.map={})}replace(t){const o=this;return t.parent&&t.remove(),o.insert(t,o),o.remove(),o}attr(t,o){const r=this;if(!mt(t))return $e(t)&&Bo(t,(c,d)=>{r.attr(d,c)}),r;const a=r.attributes;if(a){if(o!==void 0){if(o===null){if(t in a.map){delete a.map[t];let c=a.length;for(;c--;)if(a[c].name===t)return a.splice(c,1),r}return r}if(t in a.map){let c=a.length;for(;c--;)if(a[c].name===t){a[c].value=o;break}}else a.push({name:t,value:o});return a.map[t]=o,r}return a.map[t]}}clone(){const t=this,o=new Oi(t.name,t.type),r=t.attributes;if(r){const a=[];a.map={};for(let c=0,d=r.length;c<d;c++){const g=r[c];g.name!=="id"&&(a[a.length]={name:g.name,value:g.value},a.map[g.name]=g.value)}o.attributes=a}return o.value=t.value,o}wrap(t){const o=this;return o.parent&&(o.parent.insert(t,o),t.append(o)),o}unwrap(){const t=this;for(let o=t.firstChild;o;){const r=o.next;t.insert(o,t,!0),o=r}t.remove()}remove(){const t=this,o=t.parent,r=t.next,a=t.prev;return o&&(o.firstChild===t?(o.firstChild=r,r&&(r.prev=null)):a&&(a.next=r),o.lastChild===t?(o.lastChild=a,a&&(a.next=null)):r&&(r.prev=a),t.parent=t.next=t.prev=null),t}append(t){const o=this;t.parent&&t.remove();const r=o.lastChild;return r?(r.next=t,t.prev=r,o.lastChild=t):o.lastChild=o.firstChild=t,t.parent=o,t}insert(t,o,r){t.parent&&t.remove();const a=o.parent||this;return r?(o===a.firstChild?a.firstChild=t:o.prev&&(o.prev.next=t),t.prev=o.prev,t.next=o,o.prev=t):(o===a.lastChild?a.lastChild=t:o.next&&(o.next.prev=t),t.next=o.next,t.prev=o,o.next=t),t.parent=a,t}getAll(t){const o=this,r=[];for(let a=o.firstChild;a;a=jh(a,o))a.name===t&&r.push(a);return r}children(){const t=this,o=[];for(let r=t.firstChild;r;r=r.next)o.push(r);return o}empty(){const t=this;if(t.firstChild){const o=[];for(let a=t.firstChild;a;a=jh(a,t))o.push(a);let r=o.length;for(;r--;){const a=o[r];a.parent=a.firstChild=a.lastChild=a.next=a.prev=null}}return t.firstChild=t.lastChild=null,t}isEmpty(t,o={},r){var a;const c=this;let d=c.firstChild;if(Ia(c))return!1;if(d)do{if(d.type===1){if(d.attr("data-mce-bogus"))continue;if(t[d.name]||Ia(d))return!1}if(d.type===8||d.type===3&&!sA(d)||d.type===3&&d.parent&&o[d.parent.name]&&Ji((a=d.value)!==null&&a!==void 0?a:"")||r&&r(d))return!1}while(d=jh(d,c));return!0}walk(t){return jh(this,null,t)}}const aA=ut.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),Hx=e=>mt(e.nodeValue)&&e.nodeValue.includes(Sa),S0=e=>`${e.length===0?"":`${Jo(e,t=>`[${t}]`).join(",")},`}[data-mce-bogus="all"]`,vg=(e,t)=>t.querySelectorAll(S0(e)),wp=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,t=>Hx(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),iA=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,t=>{if(Hx(t)){const o=t.parentNode;return o&&po(aA,o.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),pN=e=>wp(e).nextNode()!==null,hy=e=>iA(e).nextNode()!==null,by=(e,t)=>t.querySelector(S0(e))!==null,yy=(e,t)=>{Re(vg(e,t),o=>{const r=me.fromDom(o);qa(r,"data-mce-bogus")==="all"?Wn(r):Re(e,a=>{dd(r,a)&&Go(r,a)})})},$x=e=>{let t=e.nextNode();for(;t!==null;)t.nodeValue=null,t=e.nextNode()},t2=Lo($x,wp),lA=Lo($x,iA),o2=(e,t)=>{const o=[{condition:kt(by,t),action:kt(yy,t)},{condition:pN,action:t2},{condition:hy,action:lA}];let r=e,a=!1;return Re(o,({condition:c,action:d})=>{c(r)&&(a||(r=e.cloneNode(!0),a=!0),d(r))}),r},cA=e=>{const t=qs(e,"[data-mce-bogus]");Re(t,o=>{qa(o,"data-mce-bogus")==="all"?Wn(o):qd(o)?(Kr(o,me.fromText(ds)),Wn(o)):Ma(o)})},dA=e=>{const t=qs(e,"input");Re(t,o=>{Go(o,"name")})},uA=(e,t)=>{const o=ol(e),r=new RegExp(`^(<${o}[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/${o}>[\r
]*|<br \\/>[\r
]*)$`);return t.replace(r,"")},fA=(e,t)=>{const o=e.getDoc(),r=dc(me.fromDom(e.getBody())),a=me.fromTag("div",o);Ws(a,"data-mce-bogus","all"),sn(a,{position:"fixed",left:"-9999999px",top:"0"}),fc(a,t.innerHTML),cA(a),dA(a);const c=$p(r);vs(c,a);const d=gl(a.dom.innerText);return Wn(a),d},E0=(e,t,o)=>{let r;return t.format==="raw"?r=ut.trim(gl(o2(o,e.serializer.getTempAttrs()).innerHTML)):t.format==="text"?r=fA(e,o):t.format==="tree"?r=e.serializer.serialize(o,t):r=uA(e,e.serializer.serialize(o,t)),t.format!=="text"&&!fh(me.fromDom(o))&&mt(r)?ut.trim(r):r},mA=(e,t)=>H.from(e.getBody()).fold(we(t.format==="tree"?new Oi("body",11):""),o=>E0(e,t,o)),n2=ut.makeMap,r2=e=>{const t=[];e=e||{};const o=e.indent,r=n2(e.indent_before||""),a=n2(e.indent_after||""),c=Jm.getEncodeFunc(e.entity_encoding||"raw",e.entities),d=e.element_format!=="xhtml";return{start:(g,v,A)=>{if(o&&r[g]&&t.length>0){const M=t[t.length-1];M.length>0&&M!==`
`&&t.push(`
`)}if(t.push("<",g),v)for(let M=0,I=v.length;M<I;M++){const L=v[M];t.push(" ",L.name,'="',c(L.value,!0),'"')}if(!A||d?t[t.length]=">":t[t.length]=" />",A&&o&&a[g]&&t.length>0){const M=t[t.length-1];M.length>0&&M!==`
`&&t.push(`
`)}},end:g=>{let v;t.push("</",g,">"),o&&a[g]&&t.length>0&&(v=t[t.length-1],v.length>0&&v!==`
`&&t.push(`
`))},text:(g,v)=>{g.length>0&&(t[t.length]=v?g:c(g))},cdata:g=>{t.push("<![CDATA[",g,"]]>")},comment:g=>{t.push("<!--",g,"-->")},pi:(g,v)=>{v?t.push("<?",g," ",c(v),"?>"):t.push("<?",g,"?>"),o&&t.push(`
`)},doctype:g=>{t.push("<!DOCTYPE",g,">",o?`
`:"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},_p=(e={},t=qc())=>{const o=r2(e);return e.validate="validate"in e?e.validate:!0,{serialize:a=>{const c=e.validate,d={3:v=>{var A;o.text((A=v.value)!==null&&A!==void 0?A:"",v.raw)},8:v=>{var A;o.comment((A=v.value)!==null&&A!==void 0?A:"")},7:v=>{o.pi(v.name,v.value)},10:v=>{var A;o.doctype((A=v.value)!==null&&A!==void 0?A:"")},4:v=>{var A;o.cdata((A=v.value)!==null&&A!==void 0?A:"")},11:v=>{let A=v;if(A=A.firstChild)do g(A);while(A=A.next)}};o.reset();const g=v=>{var A;const M=d[v.type];if(M)M(v);else{const I=v.name,L=I in t.getVoidElements();let Y=v.attributes;if(c&&Y&&Y.length>1){const re=[];re.map={};const X=t.getElementRule(v.name);if(X){for(let ae=0,ye=X.attributesOrder.length;ae<ye;ae++){const Se=X.attributesOrder[ae];if(Se in Y.map){const _e=Y.map[Se];re.map[Se]=_e,re.push({name:Se,value:_e})}}for(let ae=0,ye=Y.length;ae<ye;ae++){const Se=Y[ae].name;if(!(Se in re.map)){const _e=Y.map[Se];re.map[Se]=_e,re.push({name:Se,value:_e})}}Y=re}}if(o.start(I,Y,L),ku(I))mt(v.value)&&o.text(v.value,!0),o.end(I);else if(!L){let re=v.firstChild;if(re){(I==="pre"||I==="textarea")&&re.type===3&&((A=re.value)===null||A===void 0?void 0:A[0])===`
`&&o.text(`
`,!0);do g(re);while(re=re.next)}o.end(I)}}};return a.type===1&&!e.inner?g(a):a.type===3?d[3](a):d[11](a),o.getContent()}}},s2=new Set;Re(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],t=>{s2.add(t)});const a2=new Set;Re(["background-color"],t=>{a2.add(t)});const i2=["font","text-decoration","text-emphasis"],pA=(e,t)=>e.parseStyle(e.getAttrib(t,"style")),Uh=(e,t)=>st(pA(e,t)),l2=e=>s2.has(e),A0=e=>a2.has(e),c2=(e,t)=>zn(Uh(e,t),o=>l2(o)),gA=(e,t)=>c2(e,t)&&zn(Uh(e,t),o=>A0(o)),Vx=e=>et(e,t=>zn(i2,o=>lr(t,o))),gN=(e,t,o)=>{const r=Uh(e,t),a=Uh(e,o),c=d=>{var g,v;const A=(g=e.getStyle(t,d))!==null&&g!==void 0?g:"",M=(v=e.getStyle(o,d))!==null&&v!==void 0?v:"";return pn(A)&&pn(M)&&A!==M};return zn(r,d=>{const g=v=>zn(v,A=>A===d);if(!g(a)&&g(i2)){const v=Vx(a);return zn(v,c)}else return c(d)})},hA=(e,t,o)=>H.from(o.container()).filter(pt).exists(r=>{const a=e?0:-1;return t(r.data.charAt(o.offset()+a))}),Cp=kt(hA,!0,Mh),z0=kt(hA,!1,Mh),bA=e=>{const t=e.container();return pt(t)&&(t.data.length===0||Xc(t.data)&&wr.isBookmarkNode(t.parentNode))},Bu=(e,t)=>o=>sx(e?0:-1,o).filter(t).isSome(),d2=e=>Ul(e)&&ys(me.fromDom(e),"display")==="block",jx=e=>zo(e)&&!jp(e),yA=Bu(!0,d2),vA=Bu(!1,d2),Zh=Bu(!0,je),vy=Bu(!1,je),xA=Bu(!0,pc),xy=Bu(!1,pc),Pa=Bu(!0,jx),Cf=Bu(!1,jx),Wh=e=>e.slice(0,-1),kA=(e,t,o)=>Ra(t,e)?Wh(Gu(e,r=>o(r)||fn(r,t))):[],xc=(e,t)=>kA(e,t,yn),nd=(e,t)=>[e].concat(xc(e,t)),Ux=(e,t,o)=>j3(e,t,o,bA),wA=e=>t=>e.isBlock(gn(t)),u2=(e,t,o)=>Tn(nd(me.fromDom(t.container()),e),wA(o)),ky=(e,t,o,r)=>Ux(e,t.dom,o).forall(a=>u2(t,o,r).fold(()=>!pm(a,o,t.dom),c=>!pm(a,o,t.dom)&&Ra(c,me.fromDom(a.container())))),Zx=(e,t,o,r)=>u2(t,o,r).fold(()=>Ux(e,t.dom,o).forall(a=>!pm(a,o,t.dom)),a=>Ux(e,a.dom,o).isNone()),Wx=kt(Zx,!1),_A=kt(Zx,!0),f2=kt(ky,!1),m2=kt(ky,!0),hN=e=>ax(e).exists(qd),tu=(e,t,o,r)=>{const a=et(nd(me.fromDom(o.container()),t),d=>r.isBlock(gn(d))),c=dt(a).getOr(t);return Cd(e,c.dom,o).filter(hN)},T0=(e,t,o)=>ax(t).exists(qd)||tu(!0,e,t,o).isSome(),qh=(e,t,o)=>yR(t).exists(qd)||tu(!1,e,t,o).isSome(),qx=kt(tu,!1),CA=kt(tu,!0),p2=e=>Le.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),g2=(e,t,o)=>{const r=et(nd(me.fromDom(t.container()),e),a=>o.isBlock(gn(a)));return dt(r).getOr(e)},SA=(e,t,o)=>p2(t)?z0(t):z0(t)||Qc(g2(e,t,o).dom,t).exists(z0),EA=(e,t,o)=>p2(t)?Cp(t):Cp(t)||Kl(g2(e,t,o).dom,t).exists(Cp),AA=e=>on(["pre","pre-wrap"],e),Gx=e=>ax(e).bind(t=>zs(t,hs)).exists(t=>AA(ys(t,"white-space"))),h2=(e,t)=>Qc(e.dom,t).isNone(),b2=(e,t)=>Kl(e.dom,t).isNone(),zA=(e,t,o)=>h2(e,t)||b2(e,t)||Wx(e,t,o)||_A(e,t,o)||qh(e,t,o)||T0(e,t,o),y2=e=>$e(e)&&zo(e)&&d_(e),v2=(e,t)=>o=>y2(new Ka(o,e)[t]()),TA=(e,t)=>{const o=Kl(e.dom,t).getOr(t),r=v2(e.dom,"next");return t.isAtEnd()&&(r(t.container())||r(o.container()))},x2=(e,t)=>{const o=Qc(e.dom,t).getOr(t),r=v2(e.dom,"prev");return t.isAtStart()&&(r(t.container())||r(o.container()))},k2=(e,t,o)=>Gx(t)?!1:zA(e,t,o)||SA(e,t,o)||EA(e,t,o),wy=(e,t,o)=>Gx(t)?!1:Wx(e,t,o)||f2(e,t,o)||qh(e,t,o)||SA(e,t,o)||x2(e,t),OA=e=>{const t=e.container(),o=e.offset();return pt(t)&&o<t.data.length?Le(t,o+1):e},Gh=(e,t,o)=>Gx(t)?!1:_A(e,t,o)||m2(e,t,o)||T0(e,t,o)||EA(e,t,o)||TA(e,t),w2=(e,t,o)=>wy(e,t,o)||Gh(e,OA(t),o),O0=(e,t)=>nl(e.charAt(t)),_2=(e,t)=>Mh(e.charAt(t)),DA=e=>{const t=e.container();return pt(t)&&Bn(t.data,Ca)},bN=e=>{const t=e.split("");return Jo(t,(o,r)=>nl(o)&&r>0&&r<t.length-1&&bp(t[r-1])&&bp(t[r+1])?" ":o).join("")},RA=(e,t,o,r)=>{const a=t.data,c=Le(t,0);return!o&&O0(a,0)&&!w2(e,c,r)?(t.data=" "+a.slice(1),!0):o&&_2(a,0)&&wy(e,c,r)?(t.data=Ca+a.slice(1),!0):!1},NA=e=>{const t=e.data,o=bN(t);return o!==t?(e.data=o,!0):!1},MA=(e,t,o,r)=>{const a=t.data,c=Le(t,a.length-1);return!o&&O0(a,a.length-1)&&!w2(e,c,r)?(t.data=a.slice(0,-1)+" ",!0):o&&_2(a,a.length-1)&&Gh(e,c,r)?(t.data=a.slice(0,-1)+Ca,!0):!1},BA=(e,t,o)=>{const r=t.container();if(!pt(r))return H.none();if(DA(t)){const a=RA(e,r,!1,o)||NA(r)||MA(e,r,!1,o);return ld(a,t)}else if(w2(e,t,o)){const a=RA(e,r,!0,o)||MA(e,r,!0,o);return ld(a,t)}else return H.none()},yN=e=>{const t=me.fromDom(e.getBody());e.selection.isCollapsed()&&BA(t,Le.fromRangeStart(e.selection.getRng()),e.schema).each(o=>{e.selection.setRng(o.toRange())})},IA=(e,t,o,r)=>{if(o===0)return;const a=me.fromDom(e),c=_i(a,A=>r.isBlock(gn(A))).getOr(a),d=e.data.slice(t,t+o),g=t+o>=e.data.length&&Gh(c,Le(e,e.data.length),r),v=t===0&&wy(c,Le(e,0),r);e.replaceData(t,o,Wm(d,4,v,g))},Kx=(e,t,o)=>{const r=e.data.slice(t),a=r.length-al(r).length;IA(e,t,a,o)},Ds=(e,t,o)=>{const r=e.data.slice(0,t),a=r.length-Mr(r).length;IA(e,t-a,a,o)},D0=(e,t,o,r,a=!0)=>{const c=Mr(e.data).length,d=a?e:t,g=a?t:e;return a?d.appendData(g.data):d.insertData(0,g.data),Wn(me.fromDom(g)),r&&Kx(d,c,o),d},vN=(e,t)=>{const o=e.container(),r=e.offset();return!Le.isTextPosition(e)&&o===t.parentNode&&r>Le.before(t).offset()},xN=(e,t)=>vN(t,e)?Le(t.container(),t.offset()-1):t,_y=e=>pt(e)?Le(e,0):Le.before(e),xg=e=>pt(e)?Le(e,e.data.length):Le.after(e),km=e=>vd(e.previousSibling)?H.some(xg(e.previousSibling)):e.previousSibling?Kd(e.previousSibling):H.none(),C2=e=>vd(e.nextSibling)?H.some(_y(e.nextSibling)):e.nextSibling?yo(e.nextSibling):H.none(),PA=(e,t)=>H.from(t.previousSibling?t.previousSibling:t.parentNode).bind(o=>Qc(e,Le.before(o))).orThunk(()=>Kl(e,Le.after(t))),LA=(e,t)=>Kl(e,Le.after(t)).orThunk(()=>Qc(e,Le.before(t))),Yx=(e,t)=>km(t).orThunk(()=>C2(t)).orThunk(()=>PA(e,t)),kN=(e,t)=>C2(t).orThunk(()=>km(t)).orThunk(()=>LA(e,t)),S2=(e,t,o)=>e?kN(t,o):Yx(t,o),FA=(e,t,o)=>S2(e,t,o).map(kt(xN,o)),E2=(e,t,o)=>{o.fold(()=>{e.focus()},r=>{e.selection.setRng(r.toRange(),t)})},A2=e=>t=>t.dom===e,HA=(e,t)=>t&&po(e.schema.getBlockElements(),gn(t)),z2=(e,t,o)=>{if(us(e,t)){const r=me.fromHtml('<br data-mce-bogus="1">');return o?Re(Na(t),a=>{bx(a)||Wn(a)}):kr(t),vs(t,r),H.some(Le.before(r.dom))}else return H.none()},wN=(e,t,o,r)=>{const a=ea(e).filter(Br),c=to(e).filter(Br);return Wn(e),Rc(a,c,t,(d,g,v)=>{const A=d.dom,M=g.dom,I=A.data.length;return D0(A,M,o,r),v.container()===M?Le(A,I):v}).orThunk(()=>(r&&(a.each(d=>Ds(d.dom,d.dom.length,o)),c.each(d=>Kx(d.dom,0,o))),t))},_N=(e,t)=>po(e.schema.getTextInlineElements(),gn(t)),bl=(e,t,o,r=!0,a=!1)=>{const c=FA(t,e.getBody(),o.dom),d=_i(o,kt(HA,e),A2(e.getBody())),g=wN(o,c,e.schema,_N(e,o));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):d.bind(v=>z2(e.schema,v,a)).fold(()=>{r&&E2(e,t,g)},v=>{r&&E2(e,t,H.some(v))})},$A=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,CN=e=>$A.test(e),Kh=(e,t)=>nr(me.fromDom(t),On(e))&&!Uc(e.schema,t)&&e.dom.isEditable(t),R0=e=>{var t;return zr.DOM.getStyle(e,"direction",!0)==="rtl"||CN((t=e.textContent)!==null&&t!==void 0?t:"")},SN=(e,t,o)=>et(zr.DOM.getParents(o.container(),"*",t),e),kg=(e,t,o)=>{const r=SN(e,t,o);return H.from(r[r.length-1])},VA=(e,t,o)=>{const r=ig(t,e),a=ig(o,e);return $e(r)&&r===a},T2=e=>mh(e)||Vb(e),ou=(e,t)=>{const o=t.container(),r=t.offset();return e?im(o)?pt(o.nextSibling)?Le(o.nextSibling,0):Le.after(o):mh(t)?Le(o,r+1):t:im(o)?pt(o.previousSibling)?Le(o.previousSibling,o.previousSibling.data.length):Le.before(o):Vb(t)?Le(o,r-1):t},jA=kt(ou,!0),Cy=kt(ou,!1),O2=(e,t)=>{const o=r=>r.stopImmediatePropagation();e.on("beforeinput input",o,!0),e.getDoc().execCommand(t),e.off("beforeinput input",o)},UA=e=>{e.execCommand("delete")},Xx=e=>O2(e,"Delete"),D2=e=>O2(e,"ForwardDelete"),N0=e=>t=>Bi(ka(t),e,fn),ZA=e=>dh(e)||am(e),M0=(e,t)=>Ra(e,t)?zs(t,ZA,N0(e)):H.none(),Jx=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},WA=(e,t,o)=>ia(yo(o),Kd(o),(r,a)=>{const c=ou(!0,r),d=ou(!1,a),g=ou(!1,t);return e?Kl(o,g).exists(v=>v.isEqual(d)&&t.isEqual(c)):Qc(o,g).exists(v=>v.isEqual(c)&&t.isEqual(d))}).getOr(!0),Iu=e=>(Zu(e)?ea(e):Pc(e)).bind(Iu).orThunk(()=>H.some(e)),Qx=(e,t,o,r=!0)=>{var a;t.deleteContents();const c=Iu(o).getOr(o),d=me.fromDom((a=e.dom.getParent(c.dom,e.dom.isBlock))!==null&&a!==void 0?a:o.dom);if(d.dom===e.getBody()?Jx(e,r):us(e.schema,d,{checkRootAsContent:!1})&&(Yc(d),r&&e.selection.setCursorLocation(d.dom,0)),!fn(o,d)){const g=Bi(ka(d),o)?[]:If(d);Re(g.concat(Na(o)),v=>{!fn(v,d)&&!Ra(v,d)&&us(e.schema,v)&&Wn(v)})}},EN=e=>t=>fn(e,t),R2=e=>qs(e,"td,th"),rr=(e,t)=>dr(me.fromDom(e),t),AN=e=>ia(e.startTable,e.endTable,(t,o)=>{const r=Vp(t,c=>fn(c,o)),a=Vp(o,c=>fn(c,t));return!r&&!a?e:{...e,startTable:r?H.none():e.startTable,endTable:a?H.none():e.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(e),B0=e=>AN(e),zN=(e,t)=>{const o=rr(e.startContainer,t),r=rr(e.endContainer,t),a=o.isSome(),c=r.isSome(),d=ia(o,r,fn).getOr(!1);return B0({startTable:o,endTable:r,isStartInTable:a,isEndInTable:c,isSameTable:d,isMultiTable:!d&&a&&c})},ek=(e,t)=>({start:e,end:t}),wg=(e,t,o)=>({rng:e,table:t,cells:o}),rl=xn.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),_g=(e,t)=>ca(me.fromDom(e),"td,th",t),Sp=e=>!fn(e.start,e.end),Sf=(e,t)=>dr(e.start,t).bind(o=>dr(e.end,t).bind(r=>ld(fn(o,r),o))),I0=(e,t)=>!Sp(e)&&Sf(e,t).exists(o=>{const r=o.dom.rows;return r.length===1&&r[0].cells.length===1}),N2=(e,t)=>{const o=_g(e.startContainer,t),r=_g(e.endContainer,t);return ia(o,r,ek)},M2=e=>t=>dr(t,e).bind(o=>no(R2(o)).map(r=>ek(t,r))),qA=e=>t=>dr(t,e).bind(o=>dt(R2(o)).map(r=>ek(r,t))),tk=e=>t=>Sf(t,e).map(o=>wg(t,o,R2(o))),GA=(e,t,o,r)=>{if(o.collapsed||!e.forall(Sp))return H.none();if(t.isSameTable){const a=e.bind(tk(r));return H.some({start:a,end:a})}else{const a=_g(o.startContainer,r),c=_g(o.endContainer,r),d=a.bind(M2(r)).bind(tk(r)),g=c.bind(qA(r)).bind(tk(r));return H.some({start:d,end:g})}},KA=(e,t)=>or(e,o=>fn(o,t)),ok=e=>ia(KA(e.cells,e.rng.start),KA(e.cells,e.rng.end),(t,o)=>e.cells.slice(t,o+1)),YA=(e,t,o)=>e.exists(r=>I0(r,o)&&J1(r.start,t)),B2=(e,t)=>{const{startTable:o,endTable:r}=t,a=e.cloneRange();return o.each(c=>a.setStartAfter(c.dom)),r.each(c=>a.setEndBefore(c.dom)),a},XA=(e,t,o,r)=>GA(e,t,o,r).bind(({start:a,end:c})=>a.or(c)).bind(a=>{const{isSameTable:c}=t,d=ok(a).getOr([]);if(c&&a.cells.length===d.length)return H.some(rl.fullTable(a.table));if(d.length>0){if(c)return H.some(rl.partialTable(d,H.none()));{const g=B2(o,t);return H.some(rl.partialTable(d,H.some({...t,rng:g})))}}else return H.none()}),I2=(e,t,o,r)=>GA(e,t,o,r).bind(({start:a,end:c})=>{const d=a.bind(ok).getOr([]),g=c.bind(ok).getOr([]);if(d.length>0&&g.length>0){const v=B2(o,t);return H.some(rl.multiTable(d,g,v))}else return H.none()}),TN=(e,t)=>{const o=EN(e),r=N2(t,o),a=zN(t,o);return YA(r,t,o)?r.map(c=>rl.singleCellTable(t,c.start)):a.isMultiTable?I2(r,a,t,o):XA(r,a,t,o)},JA=e=>Re(e,t=>{Go(t,"contenteditable"),Yc(t)}),ON=(e,t)=>H.from(e.dom.getParent(t,e.dom.isBlock)).map(me.fromDom),wm=(e,t,o)=>{o.each(r=>{t?Wn(r):(Yc(r),e.selection.setCursorLocation(r.dom,0))})},Yh=(e,t,o,r)=>{const a=o.cloneRange();r?(a.setStart(o.startContainer,o.startOffset),a.setEndAfter(t.dom.lastChild)):(a.setStartBefore(t.dom.firstChild),a.setEnd(o.endContainer,o.endOffset)),F2(e,a,t,!1).each(c=>c())},P2=e=>{const t=xf(e),o=me.fromDom(e.selection.getNode());Ju(o.dom)&&us(e.schema,o)?e.selection.setCursorLocation(o.dom,0):e.selection.collapse(!0),t.length>1&&zn(t,r=>fn(r,o))&&Ws(o,"data-mce-selected","1")},L2=(e,t,o)=>H.some(()=>{const r=e.selection.getRng(),a=o.bind(({rng:c,isStartInTable:d})=>{const g=ON(e,d?c.endContainer:c.startContainer);c.deleteContents(),wm(e,d,g.filter(kt(us,e.schema)));const v=d?t[0]:t[t.length-1];return Yh(e,v,r,d),us(e.schema,v)?H.none():H.some(d?t.slice(1):t.slice(0,-1))}).getOr(t);JA(a),P2(e)}),QA=(e,t,o,r)=>H.some(()=>{const a=e.selection.getRng(),c=t[0],d=o[o.length-1];Yh(e,c,a,!0),Yh(e,d,a,!1);const g=us(e.schema,c)?t:t.slice(1),v=us(e.schema,d)?o:o.slice(0,-1);JA(g.concat(v)),r.deleteContents(),P2(e)}),F2=(e,t,o,r=!0)=>H.some(()=>{Qx(e,t,o,r)}),Cg=(e,t)=>H.some(()=>bl(e,!1,t)),DN=(e,t,o)=>TN(t,o).bind(r=>r.fold(kt(F2,e),kt(Cg,e),kt(L2,e),kt(QA,e))),RN=(e,t)=>nk(e,t),NN=(e,t,o,r)=>H2(t,r).fold(()=>DN(e,t,o),a=>RN(e,a)),MN=(e,t,o)=>{const r=me.fromDom(e.getBody()),a=e.selection.getRng();return o.length!==0?L2(e,o,H.none()):NN(e,r,a,t)},ez=(e,t)=>Tn(nd(t,e),Kc),H2=(e,t)=>Tn(nd(t,e),Nd("caption")),BN=(e,t,o,r,a)=>Rh(o,e.getBody(),a).bind(c=>ez(t,me.fromDom(c.getNode())).bind(d=>fn(d,r)?H.none():H.some(Yt))),nk=(e,t)=>H.some(()=>{Yc(t),e.selection.setCursorLocation(t.dom,0)}),IN=(e,t,o,r)=>yo(e.dom).bind(a=>Kd(e.dom).map(c=>t?o.isEqual(a)&&r.isEqual(c):o.isEqual(c)&&r.isEqual(a))).getOr(!0),rk=(e,t)=>nk(e,t),PN=(e,t,o)=>H2(e,me.fromDom(o.getNode())).fold(()=>H.some(Yt),r=>ld(!fn(r,t),Yt)),P0=(e,t,o,r,a)=>Rh(o,e.getBody(),a).fold(()=>H.some(Yt),c=>IN(r,o,a,c)?rk(e,r):PN(t,r,c)),$2=(e,t,o,r)=>{const a=Le.fromRangeStart(e.selection.getRng());return ez(o,r).bind(c=>us(e.schema,c,{checkRootAsContent:!1})?nk(e,c):BN(e,o,t,c,a))},Xh=(e,t,o,r)=>{const a=Le.fromRangeStart(e.selection.getRng());return us(e.schema,r)?nk(e,r):P0(e,o,t,r,a)},Sg=(e,t)=>e?xA(t):xy(t),sk=(e,t)=>{const o=Le.fromRangeStart(e.selection.getRng());return Sg(t,o)||Cd(t,e.getBody(),o).exists(r=>Sg(t,r))},ak=(e,t,o)=>{const r=me.fromDom(e.getBody());return H2(r,o).fold(()=>$2(e,t,r,o).orThunk(()=>ld(sk(e,t),Yt)),a=>Xh(e,t,r,a))},Ep=(e,t)=>{const o=me.fromDom(e.selection.getStart(!0)),r=xf(e);return e.selection.isCollapsed()&&r.length===0?ak(e,t,o):MN(e,o,r)},nu=(e,t)=>{let o=t;for(;o&&o!==e;){if(Zl(o)||zo(o))return o;o=o.parentNode}return null},ik=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],lk=ut.each,ck=e=>{const t=e.dom,o=new Set(e.serializer.getTempAttrs()),r=(c,d)=>{if(c.nodeName!==d.nodeName||c.nodeType!==d.nodeType)return!1;const g=A=>{const M={};return lk(t.getAttribs(A),I=>{const L=I.nodeName.toLowerCase();L!=="style"&&!a(L)&&(M[L]=t.getAttrib(A,L))}),M},v=(A,M)=>{for(const I in A)if(po(A,I)){const L=M[I];if(er(L)||A[I]!==L)return!1;delete M[I]}for(const I in M)if(po(M,I))return!1;return!0};return jt(c)&&jt(d)&&(!v(g(c),g(d))||!v(t.parseStyle(t.getAttrib(c,"style")),t.parseStyle(t.getAttrib(d,"style"))))?!1:!Ed(c)&&!Ed(d)},a=c=>zn(ik,d=>lr(c,d))||o.has(c);return{compare:r,isAttributeInternal:a}},dk=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),V2=e=>e.name==="summary",tz=(e,t)=>{let o=e;for(;o=o.walk();)t(o)},j2=(e,t,o,r)=>{const a=o.name;for(let c=0,d=e.length;c<d;c++){const g=e[c];if(g.name===a){const v=r.nodes[a];v?v.nodes.push(o):r.nodes[a]={filter:g,nodes:[o]}}}if(o.attributes)for(let c=0,d=t.length;c<d;c++){const g=t[c],v=g.name;if(v in o.attributes.map){const A=r.attributes[v];A?A.nodes.push(o):r.attributes[v]={filter:g,nodes:[o]}}}},Sy=(e,t,o)=>{const r={nodes:{},attributes:{}};return o.firstChild&&tz(o,a=>{j2(e,t,a,r)}),r},U2=(e,t)=>{const o=(r,a)=>{Bo(r,c=>{const d=Vo(c.nodes);Re(c.filter.callbacks,g=>{for(let v=d.length-1;v>=0;v--){const A=d[v];(!(a?A.attr(c.filter.name)!==void 0:A.name===c.filter.name)||Io(A.parent))&&d.splice(v,1)}d.length>0&&g(d,c.filter.name,t)})})};o(e.nodes,!1),o(e.attributes,!0)},Z2=(e,t,o,r={})=>{const a=Sy(e,t,o);U2(a,r)},uk=(e,t,o,r)=>{if((e.pad_empty_with_br||t.insert)&&o(r)){const c=new Oi("br",1);t.insert&&c.attr("data-mce-bogus","1"),r.empty().append(c)}else r.empty().append(new Oi("#text",3)).value=Ca},fk=e=>{var t;return W2(e,"#text")&&((t=e==null?void 0:e.firstChild)===null||t===void 0?void 0:t.value)===Ca},W2=(e,t)=>{const o=e==null?void 0:e.firstChild;return $e(o)&&o===e.lastChild&&o.name===t},oz=(e,t)=>{const o=e.getElementRule(t.name);return(o==null?void 0:o.paddEmpty)===!0},Ey=(e,t,o,r)=>r.isEmpty(t,o,a=>oz(e,a)),nz=(e,t)=>$e(e)&&(t(e)||e.name==="br"),Ap=e=>{let t;for(let o=e;o;o=o.parent){const r=o.attr("contenteditable");if(r==="false")break;r==="true"&&(t=o)}return H.from(t)},_m=(e,t,o=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{const r=e.children();for(const a of r)o&&!t.isValidChild(o.name,a.name)&&_m(a,t,o);e.unwrap()}},zd=(e,t,o,r=Yt)=>{const a=t.getTextBlockElements(),c=t.getNonEmptyElements(),d=t.getWhitespaceElements(),g=ut.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),v=new Set,A=M=>M!==o&&!g[M.name];for(let M=0;M<e.length;M++){const I=e[M];let L,Y,re;if(!I.parent||v.has(I))continue;if(a[I.name]&&I.parent.name==="li"){let ae=I.next;for(;ae&&a[ae.name];){ae.name="li",v.add(ae),I.parent.insert(ae,I.parent);ae=ae.next}I.unwrap();continue}const X=[I];for(L=I.parent;L&&!t.isValidChild(L.name,I.name)&&A(L);L=L.parent)X.push(L);if(L&&X.length>1)if(L0(t,I,L))_m(I,t);else{X.reverse(),Y=X[0].clone(),r(Y);let ae=Y;for(let ye=0;ye<X.length-1;ye++){t.isValidChild(ae.name,X[ye].name)&&ye>0?(re=X[ye].clone(),r(re),ae.append(re)):re=ae;for(let Se=X[ye].firstChild;Se&&Se!==X[ye+1];){const _e=Se.next;re.append(Se),Se=_e}ae=re}Ey(t,c,d,Y)?L.insert(I,X[0],!0):(L.insert(Y,X[0],!0),L.insert(I,Y)),L=X[0],(Ey(t,c,d,L)||W2(L,"br"))&&L.empty().remove()}else if(I.parent){if(I.name==="li"){let ae=I.prev;if(ae&&(ae.name==="ul"||ae.name==="ol")){ae.append(I);continue}if(ae=I.next,ae&&(ae.name==="ul"||ae.name==="ol")&&ae.firstChild){ae.insert(I,ae.firstChild,!0);continue}const ye=new Oi("ul",1);r(ye),I.wrap(ye);continue}if(t.isValidChild(I.parent.name,"div")&&t.isValidChild("div",I.name)){const ae=new Oi("div",1);r(ae),I.wrap(ae)}else _m(I,t)}}},q2=(e,t)=>{let o=e;for(;o;){if(o.name===t)return!0;o=o.parent}return!1},L0=(e,t,o=t.parent)=>o?e.children[t.name]&&!e.isValidChild(o.name,t.name)||t.name==="a"&&q2(o,"a")?!0:V2(o)&&dk(t)?!((o==null?void 0:o.firstChild)===t&&(o==null?void 0:o.lastChild)===t):!1:!1,rz=(e,t,o,r)=>{const a=document.createRange();return a.setStart(e,t),a.setEnd(o,r),a},sz=e=>{const t=Le.fromRangeStart(e),o=Le.fromRangeEnd(e),r=e.commonAncestorContainer;return Cd(!1,r,o).map(a=>!pm(t,o,r)&&pm(t,a,r)?rz(t.container(),t.offset(),a.container(),a.offset()):e).getOr(e)},mk=e=>e.collapsed?e:sz(e),G2=e=>$e(e.firstChild)&&e.firstChild===e.lastChild,az=e=>e.name==="br"||e.value===Ca,iz=(e,t)=>e.getBlockElements()[t.name]&&G2(t)&&az(t.firstChild),K2=(e,t)=>{const o=e.getNonEmptyElements();return $e(t)&&(t.isEmpty(o)||iz(e,t))},Cm=(e,t)=>{let o=t.firstChild,r=t.lastChild;return o&&o.name==="meta"&&(o=o.next),r&&r.attr("id")==="mce_marker"&&(r=r.prev),K2(e,r)&&(r=r==null?void 0:r.prev),!o||o!==r?!1:o.name==="ul"||o.name==="ol"},Pu=e=>{var t,o;const r=e.firstChild,a=e.lastChild;return r&&r.nodeName==="META"&&((t=r.parentNode)===null||t===void 0||t.removeChild(r)),a&&a.id==="mce_marker"&&((o=a.parentNode)===null||o===void 0||o.removeChild(a)),e},pk=(e,t,o)=>{const r=t.serialize(o),a=e.createFragment(r);return Pu(a)},lz=e=>{var t;return et((t=e==null?void 0:e.childNodes)!==null&&t!==void 0?t:[],o=>o.nodeName==="LI")},gk=e=>e.data===Ca||Zr(e),cz=e=>$e(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&gk(e.firstChild),dz=e=>!e.firstChild||cz(e),uz=e=>e.length>0&&dz(e[e.length-1])?e.slice(0,-1):e,hk=(e,t)=>{const o=e.getParent(t,e.isBlock);return o&&o.nodeName==="LI"?o:null},fz=(e,t)=>!!hk(e,t),mz=(e,t)=>{const o=t.cloneRange(),r=t.cloneRange();return o.setStartBefore(e),r.setEndAfter(e),[o.cloneContents(),r.cloneContents()]},bk=(e,t)=>{const o=Le.before(e),a=fo(t).next(o);return a?a.toRange():null},yk=(e,t)=>{const o=Le.after(e),a=fo(t).prev(o);return a?a.toRange():null},pz=(e,t,o,r)=>{const a=mz(e,r),c=e.parentNode;return c&&(c.insertBefore(a[0],e),ut.each(t,d=>{c.insertBefore(d,e)}),c.insertBefore(a[1],e),c.removeChild(e)),yk(t[t.length-1],o)},Y2=(e,t,o)=>{const r=e.parentNode;return r&&ut.each(t,a=>{r.insertBefore(a,e)}),bk(e,o)},LN=(e,t,o,r)=>(r.insertAfter(t.reverse(),e),yk(t[0],o)),FN=(e,t,o,r)=>{const a=pk(t,e,r),c=hk(t,o.startContainer),d=uz(lz(a.firstChild)),g=1,v=2,A=t.getRoot(),M=I=>{const L=Le.fromRangeStart(o),Y=fo(t.getRoot()),re=I===g?Y.prev(L):Y.next(L),X=re==null?void 0:re.getNode();return X?hk(t,X)!==c:!0};return c?M(g)?Y2(c,d,A):M(v)?LN(c,d,A,t):pz(c,d,A,o):null},HN=["pre"],$N=(e,t,o,r)=>{var a;const c=t.firstChild,d=t.lastChild,g=d.attr("data-mce-type")==="bookmark"?d.prev:d,v=c===g,A=on(HN,c.name);if(v&&A){const M=c.attr("contenteditable")!=="false",I=((a=e.getParent(o,e.isBlock))===null||a===void 0?void 0:a.nodeName.toLowerCase())===c.name,L=H.from(nu(r,o)).forall(Zl);return M&&I&&L}else return!1},X2=Ju,VN=(e,t,o)=>{if($e(o)){const r=e.getParent(t.endContainer,X2);return o===r&&J1(me.fromDom(o),t)}else return!1},vk=(e,t,o)=>{var r;if(o.getAttribute("data-mce-bogus")==="all")(r=o.parentNode)===null||r===void 0||r.insertBefore(e.dom.createFragment(t),o);else{const a=o.firstChild,c=o.lastChild;!a||a===c&&a.nodeName==="BR"?e.dom.setHTML(o,t):e.selection.setContent(t,{no_events:!0})}},J2=(e,t,o)=>{H.from(e.getParent(t,"td,th")).map(me.fromDom).each(r=>w1(r,o))},gz=(e,t)=>{const o=e.schema.getTextInlineElements(),r=e.dom;if(t){const a=e.getBody(),c=ck(e),d="*[data-mce-fragment]",g=r.select(d);ut.each(g,v=>{const A=L=>$e(o[L.nodeName.toLowerCase()]),M=L=>L.childNodes.length===1;if((L=>!(c2(r,L)||gA(r,L)))(v)&&A(v)&&M(v)){const L=Uh(r,v),Y=(ye,Se)=>Nr(ye,_e=>on(Se,_e)),re=ye=>M(v)&&r.is(ye,d)&&A(ye)&&(ye.nodeName===v.nodeName&&Y(L,Uh(r,ye))||re(ye.children[0])),X=ye=>$e(ye)&&ye!==a&&(c.compare(v,ye)||X(ye.parentElement)),ae=ye=>$e(ye)&&ye!==a&&r.is(ye,d)&&(gN(r,v,ye)||ae(ye.parentElement));(re(v.children[0])||X(v.parentElement)&&!ae(v.parentElement))&&r.remove(v,!0)}})}},Q2=e=>{let t=e;for(;t=t.walk();)t.type===1&&t.attr("data-mce-fragment","1")},jN=e=>{ut.each(e.getElementsByTagName("*"),t=>{t.removeAttribute("data-mce-fragment")})},UN=e=>!!e.getAttribute("data-mce-fragment"),ZN=(e,t)=>$e(t)&&!e.schema.getVoidElements()[t.nodeName],WN=(e,t)=>{var o,r,a;let c;const d=e.dom,g=e.selection;if(!t)return;g.scrollIntoView(t);const v=nu(e.getBody(),t);if(v&&d.getContentEditable(v)==="false"){d.remove(t),g.select(v);return}let A=d.createRng();const M=t.previousSibling;if(pt(M)){A.setStart(M,(r=(o=M.nodeValue)===null||o===void 0?void 0:o.length)!==null&&r!==void 0?r:0);const Y=t.nextSibling;pt(Y)&&(M.appendData(Y.data),(a=Y.parentNode)===null||a===void 0||a.removeChild(Y))}else A.setStartBefore(t),A.setEndBefore(t);const I=Y=>{let re=Le.fromRangeStart(Y);return re=fo(e.getBody()).next(re),re==null?void 0:re.toRange()},L=d.getParent(t,d.isBlock);if(d.remove(t),L&&d.isEmpty(L)){const Y=X2(L);kr(me.fromDom(L)),A.setStart(L,0),A.setEnd(L,0),!Y&&!UN(L)&&(c=I(A))?(A=c,d.remove(L)):d.add(L,d.create("br",Y?{}:{"data-mce-bogus":"1"}))}g.setRng(A)},qN=e=>{const t=e.dom,o=mk(e.selection.getRng());e.selection.setRng(o);const r=t.getParent(o.startContainer,X2);VN(t,o,r)?F2(e,o,me.fromDom(r)):o.startContainer===o.endContainer&&o.endOffset-o.startOffset===1&&pt(o.startContainer.childNodes[o.startOffset])?o.deleteContents():e.getDoc().execCommand("Delete",!1)},GN=e=>{for(let t=e;t;t=t.walk())if(t.attr("id")==="mce_marker")return H.some(t);return H.none()},xk=(e,t,o)=>{var r;return zn(o.children(),dk)&&((r=e.getParent(t,e.isBlock))===null||r===void 0?void 0:r.nodeName)==="SUMMARY"},kk=(e,t,o)=>{var r,a;const c=e.selection,d=e.dom,g=e.parser,v=o.merge,A=_p({validate:!0},e.schema),M='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';o.preserve_zwsp||(t=gl(t)),t.indexOf("{$caret}")===-1&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,M);let I=c.getRng();const L=I.startContainer,Y=e.getBody();L===Y&&c.isCollapsed()&&d.isBlock(Y.firstChild)&&ZN(e,Y.firstChild)&&d.isEmpty(Y.firstChild)&&(I=d.createRng(),I.setStart(Y.firstChild,0),I.setEnd(Y.firstChild,0),c.setRng(I)),c.isCollapsed()||qN(e);const re=c.getNode(),X={context:re.nodeName.toLowerCase(),data:o.data,insert:!0},ae=g.parse(t,X);if(o.paste===!0&&Cm(e.schema,ae)&&fz(d,re))return I=FN(A,d,c.getRng(),ae),I&&c.setRng(I),t;o.paste===!0&&$N(d,ae,re,e.getBody())&&((r=ae.firstChild)===null||r===void 0||r.unwrap()),Q2(ae);let ye=ae.lastChild;if(ye&&ye.attr("id")==="mce_marker"){const Se=ye;for(ye=ye.prev;ye;ye=ye.walk(!0))if(ye.type===3||!d.isBlock(ye.name)){ye.parent&&e.schema.isValidChild(ye.parent.name,"span")&&ye.parent.insert(Se,ye,ye.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(re),!X.invalid&&!xk(d,re,ae))t=A.serialize(ae),vk(e,t,re);else{e.selection.setContent(M);let Se=c.getNode(),_e;const Ne=e.getBody();for(qt(Se)?Se=_e=Ne:_e=Se;_e&&_e!==Ne;)Se=_e,_e=_e.parentNode;t=Se===Ne?Ne.innerHTML:d.getOuterHTML(Se);const ot=g.parse(t),xt=GN(ot),Mt=xt.bind(Ap).getOr(ot);xt.each(Vt=>Vt.replace(ae));const Ze=ae.children(),Ie=(a=ae.parent)!==null&&a!==void 0?a:ot;ae.unwrap();const Qe=et(Ze,Vt=>L0(e.schema,Vt,Ie));zd(Qe,e.schema,Mt),Z2(g.getNodeFilters(),g.getAttributeFilters(),ot),t=A.serialize(ot),Se===Ne?d.setHTML(Ne,t):d.setOuterHTML(Se,t)}return gz(e,v),WN(e,d.get("mce_marker")),jN(e.getBody()),J2(d,c.getStart(),e.schema),fa(e.schema,e.getBody(),c.getStart()),t},Jh=e=>e instanceof Oi,KN=e=>{gy(e)&&yo(e.getBody()).each(t=>{const o=t.getNode(),r=pc(o)?yo(o).getOr(t):t;e.selection.setRng(r.toRange())})},eC=(e,t,o)=>{e.dom.setHTML(e.getBody(),t),o!==!0&&KN(e)},YN=(e,t,o,r)=>{if(o=gl(o),o.length===0||/^\s+$/.test(o)){const a='<br data-mce-bogus="1">';t.nodeName==="TABLE"?o="<tr><td>"+a+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(o="<li>"+a+"</li>");const c=ol(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),c.toLowerCase())?(o=a,o=e.dom.createHTML(c,M1(e),o)):o||(o=a),eC(e,o,r.no_selection),{content:o,html:o}}else{r.format!=="raw"&&(o=_p({validate:!1},e.schema).serialize(e.parser.parse(o,{isRootContent:!0,insert:!0})));const a=fh(me.fromDom(t))?o:ut.trim(o);return eC(e,a,r.no_selection),{content:a,html:a}}},XN=(e,t,o,r)=>{Z2(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),o);const a=_p({validate:!1},e.schema).serialize(o),c=gl(fh(me.fromDom(t))?a:ut.trim(a));return eC(e,c,r.no_selection),{content:o,html:c}},JN=(e,t,o)=>H.from(e.getBody()).map(r=>Jh(t)?XN(e,r,t,o):YN(e,r,t,o)).getOr({content:t,html:Jh(o.content)?"":o.content}),hz=e=>Pt(e)?e:yn,Lu=(e,t,o)=>{let r=e.dom;const a=hz(o);for(;r.parentNode;){r=r.parentNode;const c=me.fromDom(r),d=t(c);if(d.isSome())return d;if(a(c))break}return H.none()},F0=(e,t,o)=>{const r=t(e),a=hz(o);return r.orThunk(()=>a(e)?H.none():Lu(e,t,a))},wk=uy,tC=(e,t,o)=>{const r=e.formatter.get(o);if(r)for(let a=0;a<r.length;a++){const c=r[a];if(ed(c)&&c.inherit===!1&&e.dom.is(t,c.selector))return!0}return!1},_k=(e,t,o,r,a)=>{const c=e.dom.getRoot();if(t===c)return!1;const d=e.dom.getParent(t,g=>tC(e,g,o)?!0:g.parentNode===c||!!Sm(e,g,o,r,!0));return!!Sm(e,d,o,r,a)},Ck=(e,t,o)=>pi(o)&&wk(t,o.inline)||kf(o)&&wk(t,o.block)?!0:ed(o)?jt(t)&&e.is(t,o.selector):!1,oC=(e,t,o,r,a,c)=>{const d=o[r],g=r==="attributes";if(Pt(o.onmatch))return o.onmatch(t,o,r);if(d){if(Et(d)){for(let v=0;v<d.length;v++)if(g?e.getAttrib(t,d[v]):e0(e,t,d[v]))return!0}else for(const v in d)if(po(d,v)){const A=g?e.getAttrib(t,v):e0(e,t,v),M=yp(d[v],c),I=Io(A)||xi(A);if(I&&Io(M))continue;if(a&&I&&!o.exact||(!a||o.exact)&&!wk(A,px(M,v)))return!1}}return!0},Sm=(e,t,o,r,a)=>{const c=e.formatter.get(o),d=e.dom;if(c&&jt(t))for(let g=0;g<c.length;g++){const v=c[g];if(Ck(e.dom,t,v)&&oC(d,t,v,"attributes",a,r)&&oC(d,t,v,"styles",a,r)){const A=v.classes;if(A){for(let M=0;M<A.length;M++)if(!e.dom.hasClass(t,yp(A[M],r)))return}return v}}},Eg=(e,t,o,r,a)=>{if(r)return _k(e,r,t,o,a);if(r=e.selection.getNode(),_k(e,r,t,o,a))return!0;const c=e.selection.getStart();return!!(c!==r&&_k(e,c,t,o,a))},bz=(e,t,o)=>{const r=[],a={},c=e.selection.getStart();return e.dom.getParent(c,d=>{for(let g=0;g<t.length;g++){const v=t[g];!a[v]&&Sm(e,d,v,o)&&(a[v]=!0,r.push(v))}},e.dom.getRoot()),r},yz=(e,t)=>{const o=a=>fn(a,me.fromDom(e.getBody())),r=(a,c)=>Sm(e,a.dom,c)?H.some(c):H.none();return H.from(e.selection.getStart(!0)).bind(a=>F0(me.fromDom(a),c=>Rs(t,d=>r(c,d)),o)).getOrNull()},vz=(e,t)=>{const o=e.formatter.get(t),r=e.dom;if(o&&e.selection.isEditable()){const a=e.selection.getStart(),c=t0(r,a);for(let d=o.length-1;d>=0;d--){const g=o[d];if(!ed(g))return!0;for(let v=c.length-1;v>=0;v--)if(r.is(c[v],g.selector))return!0}}return!1},nC=(e,t,o)=>uo(o,(r,a)=>{const c=aE(e,a);return e.formatter.matchNode(t,a,{},c)?r.concat([a]):r},[]),H0=Sa,QN=(e,t)=>e.importNode(t,!0),xz=e=>{if(e){const t=new Ka(e,e);for(let o=t.current();o;o=t.next())if(pt(o))return o}return null},Em=e=>{const t=me.fromTag("span");return ni(t,{id:ay,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&vs(t,me.fromText(H0)),t},rC=e=>{const t=xz(e);return t&&t.data.charAt(0)===H0&&t.deleteData(0,1),t},sC=(e,t,o)=>{const r=e.dom,a=e.selection;if(A_(t))bl(e,!1,me.fromDom(t),o,!0);else{const c=a.getRng(),d=r.getParent(t,r.isBlock),g=c.startContainer,v=c.startOffset,A=c.endContainer,M=c.endOffset,I=rC(t);r.remove(t,!0),g===I&&v>0&&c.setStart(I,v-1),A===I&&M>0&&c.setEnd(I,M-1),d&&r.isEmpty(d)&&Yc(me.fromDom(d)),a.setRng(c)}},aC=(e,t,o)=>{const r=e.dom,a=e.selection;if(t)sC(e,t,o);else if(t=lg(e.getBody(),a.getStart()),!t)for(;t=r.get(ay);)sC(e,t,o)},Qh=(e,t,o)=>{var r,a;const c=e.dom,d=c.getParent(o,kt(mx,e.schema));d&&c.isEmpty(d)?(r=o.parentNode)===null||r===void 0||r.replaceChild(t,o):(bc(me.fromDom(o)),c.isEmpty(o)?(a=o.parentNode)===null||a===void 0||a.replaceChild(t,o):c.insertAfter(t,o))},iC=(e,t)=>(e.appendChild(t),t),$0=(e,t)=>{var o;const r=Gt(e,(c,d)=>iC(c,d.cloneNode(!1)),t),a=(o=r.ownerDocument)!==null&&o!==void 0?o:document;return iC(r,a.createTextNode(H0))},e6=(e,t,o,r,a,c)=>{const d=e.formatter,g=e.dom,v=et(st(d.get()),I=>I!==r&&!Bn(I,"removeformat")),A=nC(e,o,v);if(et(A,I=>!iE(e,I,r)).length>0){const I=o.cloneNode(!1);return g.add(t,I),d.remove(r,a,I,c),g.remove(I),H.some(I)}else return H.none()},kz=e=>ih(e,sm(e).replace(new RegExp(`${Ca}$`)," ")),lC=(e,t)=>{const o=()=>{t!==null&&!e.dom.isEmpty(t)&&ea(me.fromDom(t)).each(r=>{Br(r)?kz(r):_a(r,a=>Br(a)).each(a=>{Br(a)&&kz(a)})})};e.once("input",r=>{r.data&&!Mh(r.data)&&(r.isComposing?e.once("compositionend",()=>{o()}):o())})},zp=(e,t,o)=>{let r;const a=e.selection,c=e.formatter.get(t);if(!c)return;const d=a.getRng();let g=d.startOffset;const A=d.startContainer.nodeValue;r=lg(e.getBody(),a.getStart());const M=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(A&&g>0&&g<A.length&&M.test(A.charAt(g))&&M.test(A.charAt(g-1))){const I=a.getBookmark();d.collapse(!0);let L=ug(e.dom,d,c);L=b0(L),e.formatter.apply(t,o,L),a.moveToBookmark(I)}else{let I=r?xz(r):null;(!r||(I==null?void 0:I.data)!==H0)&&(r=QN(e.getDoc(),Em(!0).dom),I=r.firstChild,d.insertNode(r),g=1,lC(e,r)),e.formatter.apply(t,o,r),a.setCursorLocation(I,g)}},cC=(e,t,o,r)=>{const a=e.dom,c=e.selection;let d=!1;const g=e.formatter.get(t);if(!g)return;const v=c.getRng(),A=v.startContainer,M=v.startOffset;let I=A;pt(A)&&(M!==A.data.length&&(d=!0),I=I.parentNode);const L=[];let Y;for(;I;){if(Sm(e,I,t,o,r)){Y=I;break}I.nextSibling&&(d=!0),L.push(I),I=I.parentNode}if(Y)if(d){const re=c.getBookmark();v.collapse(!0);let X=ug(a,v,g,!0);X=b0(X),e.formatter.remove(t,o,X,r),c.moveToBookmark(re)}else{const re=lg(e.getBody(),Y),X=$e(re)?a.getParents(Y.parentNode,Co,re):[],ae=Em(!1).dom;Qh(e,ae,re??Y);const ye=e6(e,ae,Y,t,o,r),Se=$0([...L,...ye.toArray(),...X],ae);re&&sC(e,re,$e(re)),c.setCursorLocation(Se,1),lC(e,ae),a.isEmpty(Y)&&a.remove(Y)}},dC=(e,t,o)=>{const r=e.selection,a=e.getBody();aC(e,null,o),(t===8||t===46)&&r.isCollapsed()&&r.getStart().innerHTML===H0&&aC(e,lg(a,r.getStart()),!0),(t===37||t===39)&&aC(e,lg(a,r.getStart()),!0)},uC=e=>pt(e)&&Mi(e.data,Ca),wz=e=>{e.on("mouseup keydown",t=>{dC(e,t.keyCode,uC(e.selection.getRng().endContainer))})},fC=e=>{const t=Em(!1),o=$0(e,t.dom);return{caretContainer:t,caretPosition:Le(o,0)}},mC=(e,t)=>{const{caretContainer:o,caretPosition:r}=fC(t);return Kr(me.fromDom(e),o),Wn(me.fromDom(e)),r},t6=(e,t)=>{const{caretContainer:o,caretPosition:r}=fC(t);return e.insertNode(o.dom),r},Ay=(e,t)=>{if(Sd(t.dom))return!1;const o=e.schema.getTextInlineElements();return po(o,gn(t))&&!Sd(t.dom)&&!$d(t.dom)},Ag={},pC=Ba(["pre"]),_z=(e,t)=>{Ag[e]||(Ag[e]=[]),Ag[e].push(t)},Cz=(e,t)=>{po(Ag,e)&&Re(Ag[e],o=>{o(t)})};_z("pre",e=>{const t=e.selection.getRng(),o=a=>c=>{const d=c.previousSibling;return pC(d)&&on(a,d)},r=(a,c)=>{const d=me.fromDom(c),g=zl(d).dom;Wn(d),Ts(me.fromDom(a),[me.fromTag("br",g),me.fromTag("br",g),...Na(d)])};if(!t.collapsed){const a=e.selection.getSelectedBlocks(),c=et(et(a,pC),o(a));Re(c,d=>{r(d.previousSibling,d)})}});const gC=["fontWeight","fontStyle","color","fontSize","fontFamily"],Sk=e=>ce(e.styles)&&zn(st(e.styles),t=>on(gC,t)),hC=e=>Tn(e,t=>pi(t)&&t.inline==="span"&&Sk(t)),zy=(e,t)=>{const o=e.get(t);return ve(o)?hC(o):H.none()},Sz=(e,t)=>Qc(t,Le.fromRangeStart(e)).isNone(),bC=(e,t)=>Kl(t,Le.fromRangeEnd(e)).exists(o=>!Zr(o.getNode())||Kl(t,o).isSome())===!1,Ez=e=>t=>Zp(t)&&e.isEditable(t),o6=e=>{const t=e.getSelectedBlocks(),o=e.getRng();if(e.isCollapsed())return[];if(t.length===1)return Sz(o,t[0])&&bC(o,t[0])?t:[];{const r=dt(t).filter(d=>Sz(o,d)).toArray(),a=no(t).filter(d=>bC(o,d)).toArray(),c=t.slice(1,-1);return r.concat(c).concat(a)}},Az=e=>et(o6(e),Ez(e.dom)),yC=e=>et(e.getSelectedBlocks(),Ez(e.dom)),vC=ut.each,Ek=e=>jt(e)&&!Ed(e)&&!Sd(e)&&!$d(e),zg=(e,t)=>{for(let o=e;o;o=o[t]){if(pt(o)&&pn(o.data))return e;if(jt(o)&&!Ed(o))return o}return e},xC=(e,t,o)=>{const r=ck(e),a=mc(t)&&e.dom.isEditable(t),c=mc(o)&&e.dom.isEditable(o);if(a&&c){const d=zg(t,"previousSibling"),g=zg(o,"nextSibling");if(r.compare(d,g)){for(let v=d.nextSibling;v&&v!==g;){const A=v;v=v.nextSibling,d.appendChild(A)}return e.dom.remove(g),ut.each(ut.grep(g.childNodes),v=>{d.appendChild(v)}),d}}return o},Ak=(e,t,o,r)=>{var a;if(r&&t.merge_siblings!==!1){const c=(a=xC(e,Bh(r),r))!==null&&a!==void 0?a:r;xC(e,c,Bh(c,!0))}},zz=(e,t,o)=>{if(t.clear_child_styles){const r=t.links?"*:not(a)":"*";vC(e.select(r,o),a=>{Ek(a)&&e.isEditable(a)&&vC(t.styles,(c,d)=>{e.setStyle(a,d,"")})})}},V0=(e,t,o)=>{vC(e.childNodes,r=>{Ek(r)&&(t(r)&&o(r),r.hasChildNodes()&&V0(r,t,o))})},Tg=(e,t)=>{t.nodeName==="SPAN"&&e.getAttribs(t).length===0&&e.remove(t,!0)},kC=(e,t)=>o=>!!(o&&e0(e,o,t)),Td=(e,t,o)=>r=>{e.setStyle(r,t,o),r.getAttribute("style")===""&&r.removeAttribute("style"),Tg(e,r)},ru=xn.generate([{keep:[]},{rename:["name"]},{removed:[]}]),wC=/^(src|href|style)$/,zk=ut.each,Tk=uy,Tz=e=>/^(TR|TH|TD)$/.test(e.nodeName),eb=(e,t,o)=>e.isChildOf(t,o)&&t!==o&&!e.isBlock(o),j0=(e,t,o)=>{let r=t[o?"startContainer":"endContainer"],a=t[o?"startOffset":"endOffset"];if(jt(r)){const c=r.childNodes.length-1;!o&&a&&a--,r=r.childNodes[a>c?c:a]}return pt(r)&&o&&a>=r.data.length&&(r=new Ka(r,e.getBody()).next()||r),pt(r)&&!o&&a===0&&(r=new Ka(r,e.getBody()).prev()||r),r},_C=(e,t)=>{const o=t?"firstChild":"lastChild",r=e[o];return Tz(e)&&r?e.nodeName==="TR"&&r[o]||r:e},Ok=(e,t,o,r)=>{var a;const c=e.create(o,r);return(a=t.parentNode)===null||a===void 0||a.insertBefore(c,t),c.appendChild(t),c},Dk=(e,t,o,r,a)=>{const c=me.fromDom(t),d=me.fromDom(e.create(r,a)),g=o?mu(c):Bc(c);return Ts(d,g),o?(Kr(c,d),li(d,c)):(Ae(c,d),vs(d,c)),d.dom},n6=(e,t)=>t.links&&e.nodeName==="A",Oz=(e,t,o)=>{const r=t.parentNode;let a;const c=e.dom,d=ol(e);kf(o)&&r===c.getRoot()&&(!o.list_block||!Tk(t,o.list_block))&&Re(Vo(t.childNodes),g=>{cg(e,d,g.nodeName.toLowerCase())?a?a.appendChild(g):(a=Ok(c,g,d),c.setAttribs(a,M1(e))):a=null}),!(dE(o)&&!Tk(o.inline,t))&&c.remove(t,!0)},CC=(e,t,o)=>T(e)?{name:t,value:null}:{name:e,value:yp(t,o)},Dz=(e,t)=>{e.getAttrib(t,"style")===""&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},rd=(e,t,o,r,a)=>{let c=!1;zk(o.styles,(d,g)=>{const{name:v,value:A}=CC(g,d,r),M=px(A,v);(o.remove_similar||ct(A)||!jt(a)||Tk(e0(e,a,v),M))&&e.setStyle(t,v,""),c=!0}),c&&Dz(e,t)},SC=(e,t,o)=>{t==="removeformat"?Re(yC(e.selection),r=>{Re(gC,a=>e.dom.setStyle(r,a,"")),Dz(e.dom,r)}):zy(e.formatter,t).each(r=>{Re(yC(e.selection),a=>rd(e.dom,a,r,o,null))})},EC=(e,t,o,r,a)=>{const c=e.dom,d=ck(e),g=e.schema;if(pi(t)&&gc(g,t.inline)&&Uc(g,r)&&r.parentElement===e.getBody())return Oz(e,r,t),ru.removed();if(!t.ceFalseOverride&&r&&c.getContentEditableParent(r)==="false"||r&&!Ck(c,r,t)&&!n6(r,t))return ru.keep();const v=r,A=t.preserve_attributes;if(pi(t)&&t.remove==="all"&&ve(A)){const M=et(c.getAttribs(v),I=>on(A,I.name.toLowerCase()));if(c.removeAllAttribs(v),Re(M,I=>c.setAttrib(v,I.name,I.value)),M.length>0)return ru.rename("span")}if(t.remove!=="all"){rd(c,v,t,o,a),zk(t.attributes,(I,L)=>{const{name:Y,value:re}=CC(L,I,o);if(t.remove_similar||ct(re)||!jt(a)||Tk(c.getAttrib(a,Y),re)){if(Y==="class"){const X=c.getAttrib(v,Y);if(X){let ae="";if(Re(X.split(/\s+/),ye=>{/mce\-\w+/.test(ye)&&(ae+=(ae?" ":"")+ye)}),ae){c.setAttrib(v,Y,ae);return}}}if(wC.test(Y)&&v.removeAttribute("data-mce-"+Y),Y==="style"&&Ba(["li"])(v)&&c.getStyle(v,"list-style-type")==="none"){v.removeAttribute(Y),c.setStyle(v,"list-style-type","none");return}Y==="class"&&v.removeAttribute("className"),v.removeAttribute(Y)}}),zk(t.classes,I=>{I=yp(I,o),(!jt(a)||c.hasClass(a,I))&&c.removeClass(v,I)});const M=c.getAttribs(v);for(let I=0;I<M.length;I++){const L=M[I].nodeName;if(!d.isAttributeInternal(L))return ru.keep()}}return t.remove!=="none"?(Oz(e,v,t),ru.removed()):ru.keep()},AC=(e,t,o,r,a)=>{let c;return t.parentNode&&Re(t0(e.dom,t.parentNode).reverse(),d=>{if(!c&&jt(d)&&d.id!=="_start"&&d.id!=="_end"){const g=Sm(e,d,o,r,a);g&&g.split!==!1&&(c=d)}}),c},Rz=(e,t,o,r)=>EC(e,t,o,r,r).fold(we(r),a=>(e.dom.createFragment().appendChild(r),e.dom.rename(r,a)),we(null)),U0=(e,t,o,r,a,c,d,g)=>{var v,A;let M,I;const L=e.dom;if(o){const Y=o.parentNode;for(let re=r.parentNode;re&&re!==Y;re=re.parentNode){let X=L.clone(re,!1);for(let ae=0;ae<t.length&&(X=Rz(e,t[ae],g,X),X!==null);ae++);X&&(M&&X.appendChild(M),I||(I=X),M=X)}(!d.mixed||!L.isBlock(o))&&(r=(v=L.split(o,r))!==null&&v!==void 0?v:r),M&&I&&((A=a.parentNode)===null||A===void 0||A.insertBefore(M,a),I.appendChild(a),pi(d)&&Ak(e,d,g,M))}return r},Tp=(e,t,o,r,a)=>{const c=e.formatter.get(t),d=c[0],g=e.dom,v=e.selection,A=X=>{const ae=AC(e,X,t,o,a);return U0(e,c,ae,X,X,!0,d,o)},M=X=>Ed(X)&&jt(X)&&(X.id==="_start"||X.id==="_end"),I=X=>zn(c,ae=>Dg(e,ae,o,X,X)),L=X=>{const ae=Vo(X.childNodes),Se=I(X)||zn(c,ot=>Ck(g,X,ot)),_e=X.parentNode;if(!Se&&$e(_e)&&hx(d)&&I(_e),d.deep&&ae.length)for(let ot=0;ot<ae.length;ot++)L(ae[ot]);Re(["underline","line-through","overline"],ot=>{jt(X)&&e.dom.getStyle(X,"text-decoration")===ot&&X.parentNode&&E_(g,X.parentNode)===ot&&Dg(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:ot}},void 0,X)})},Y=X=>{const ae=g.get(X?"_start":"_end");if(ae){let ye=ae[X?"firstChild":"lastChild"];return M(ye)&&(ye=ye[X?"firstChild":"lastChild"]),pt(ye)&&ye.data.length===0&&(ye=X?ae.previousSibling||ae.nextSibling:ae.nextSibling||ae.previousSibling),g.remove(ae,!0),ye}else return null},re=X=>{let ae,ye,Se=ug(g,X,c,X.collapsed);if(d.split){if(Se=b0(Se),ae=j0(e,Se,!0),ye=j0(e,Se),ae!==ye){if(ae=_C(ae,!0),ye=_C(ye,!1),eb(g,ae,ye)){const Ne=H.from(ae.firstChild).getOr(ae);A(Dk(g,Ne,!0,"span",{id:"_start","data-mce-type":"bookmark"})),Y(!0);return}if(eb(g,ye,ae)){const Ne=H.from(ye.lastChild).getOr(ye);A(Dk(g,Ne,!1,"span",{id:"_end","data-mce-type":"bookmark"})),Y(!1);return}ae=Ok(g,ae,"span",{id:"_start","data-mce-type":"bookmark"}),ye=Ok(g,ye,"span",{id:"_end","data-mce-type":"bookmark"});const _e=g.createRng();_e.setStartAfter(ae),_e.setEndBefore(ye),s0(g,_e,Ne=>{Re(Ne,ot=>{!Ed(ot)&&!Ed(ot.parentNode)&&A(ot)})}),A(ae),A(ye),ae=Y(!0),ye=Y()}else ae=ye=A(ae);Se.startContainer=ae.parentNode?ae.parentNode:ae,Se.startOffset=g.nodeIndex(ae),Se.endContainer=ye.parentNode?ye.parentNode:ye,Se.endOffset=g.nodeIndex(ye)+1}s0(g,Se,_e=>{Re(_e,L)})};if(r){if(dy(r)){const X=g.createRng();X.setStartBefore(r),X.setEndAfter(r),re(X)}else re(r);vE(e,t,r,o);return}!v.isCollapsed()||!pi(d)||xf(e).length?(__(e,()=>cy(e,re),X=>pi(d)&&Eg(e,t,o,X)),e.nodeChanged()):cC(e,t,o,a),SC(e,t,o),vE(e,t,r,o)},Og=(e,t,o,r,a)=>{(r||e.selection.isEditable())&&Tp(e,t,o,r,a)},Dg=(e,t,o,r,a)=>EC(e,t,o,r,a).fold(yn,c=>(e.dom.rename(r,c),!0),Co),Rk=ut.each,zC=(e,t,o,r)=>{const a=c=>{if(mc(c)&&jt(c.parentNode)&&e.isEditable(c)){const d=E_(e,c.parentNode);e.getStyle(c,"color")&&d?e.setStyle(c,"text-decoration",d):e.getStyle(c,"text-decoration")===d&&e.setStyle(c,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(ut.walk(r,a,"childNodes"),a(r))},Nz=(e,t,o,r)=>{if(t.styles&&t.styles.backgroundColor){const a=kC(e,"fontSize");V0(r,c=>a(c)&&e.isEditable(c),Td(e,"backgroundColor",yp(t.styles.backgroundColor,o)))}},r6=(e,t,o,r)=>{if(pi(t)&&(t.inline==="sub"||t.inline==="sup")){const a=kC(e,"fontSize");V0(r,d=>a(d)&&e.isEditable(d),Td(e,"fontSize",""));const c=et(e.select(t.inline==="sup"?"sub":"sup",r),e.isEditable);e.remove(c,!0)}},Mz=(e,t,o,r)=>{Rk(t,a=>{pi(a)&&Rk(e.dom.select(a.inline,r),c=>{Ek(c)&&Dg(e,a,o,c,a.exact?c:null)}),zz(e.dom,a,r)})},Bz=(e,t,o,r,a)=>{const c=a.parentNode;Sm(e,c,o,r)&&Dg(e,t,r,a)||t.merge_with_parents&&c&&e.dom.getParent(c,d=>Sm(e,d,o,r)?(Dg(e,t,r,a),!0):!1)},Z0=ut.each,Iz=(e,t,o,r)=>{if(X5(e)&&pi(t)&&o.parentNode){const a=Sb(e.schema),c=Zm(me.fromDom(o),d=>Sd(d.dom));return ha(a,r)&&Ol(e.schema,o.parentNode,{skipBogus:!1,includeZwsp:!0})&&!c}else return!1},Pz=(e,t,o,r)=>{if(Z0(o.styles,(a,c)=>{e.setStyle(t,c,yp(a,r))}),o.styles){const a=e.getAttrib(t,"style");a&&e.setAttrib(t,"data-mce-style",a)}},s6=(e,t,o,r)=>{const a=e.formatter.get(t),c=a[0],d=!r&&e.selection.isCollapsed(),g=e.dom,v=e.selection,A=(re,X=c)=>{Pt(X.onformat)&&X.onformat(re,X,o,r),Pz(g,re,X,o),Z0(X.attributes,(ae,ye)=>{g.setAttrib(re,ye,yp(ae,o))}),Z0(X.classes,ae=>{const ye=yp(ae,o);g.hasClass(re,ye)||g.addClass(re,ye)})},M=(re,X)=>{let ae=!1;return Z0(re,ye=>ed(ye)?g.getContentEditable(X)==="false"&&!ye.ceFalseOverride||$e(ye.collapsed)&&ye.collapsed!==d?!0:g.is(X,ye.selector)&&!Sd(X)?(A(X,ye),ae=!0,!1):!0:!1),ae},I=re=>{if(mt(re)){const X=g.create(re);return A(X),X}else return null},L=(re,X,ae)=>{const ye=[];let Se=!0;const _e=c.inline||c.block,Ne=I(_e),ot=Ze=>lE(c)&&Sm(e,Ze,t,o),xt=(Ze,Ie,Qe)=>{const Vt=cE(c)&&mx(e.schema,Ze)&&cg(e,Ie,_e);return Qe&&Vt},Mt=(Ze,Ie,Qe,Vt)=>{const oo=Ze.nodeName.toLowerCase(),nn=cg(e,_e,oo)&&cg(e,Ie,_e),mn=!ae&&pt(Ze)&&Xc(Ze.data),ir=Sd(Ze),gr=!pi(c)||!re.isBlock(Ze);return(Qe||Vt)&&nn&&!mn&&!ir&&gr};s0(re,X,Ze=>{let Ie;const Qe=Vt=>{let oo=!1,nn=Se,mn=!1;const ir=Vt.parentNode,gr=ir.nodeName.toLowerCase(),na=re.getContentEditable(Vt);$e(na)&&(nn=Se,Se=na==="true",oo=!0,mn=S_(e,Vt));const xl=Se&&!oo;if(Zr(Vt)&&!Iz(e,c,Vt,gr)){Ie=null,kf(c)&&re.remove(Vt);return}if(ot(Vt)){Ie=null;return}if(xt(Vt,gr,xl)){const Or=re.rename(Vt,_e);A(Or),ye.push(Or),Ie=null;return}if(ed(c)){let Or=M(a,Vt);if(!Or&&$e(ir)&&hx(c)&&(Or=M(a,ir)),!pi(c)||Or){Ie=null;return}}$e(Ne)&&Mt(Vt,gr,xl,mn)?(Ie||(Ie=re.clone(Ne,!1),ir.insertBefore(Ie,Vt),ye.push(Ie)),mn&&oo&&(Se=nn),Ie.appendChild(Vt)):(Ie=null,Re(Vo(Vt.childNodes),Qe),oo&&(Se=nn),Ie=null)};Re(Ze,Qe)}),c.links===!0&&Re(ye,Ze=>{const Ie=Qe=>{Qe.nodeName==="A"&&A(Qe,c),Re(Vo(Qe.childNodes),Ie)};Ie(Ze)}),Re(ye,Ze=>{const Ie=oo=>{let nn=0;return Re(oo.childNodes,mn=>{!SR(mn)&&!Ed(mn)&&nn++}),nn},Qe=oo=>Tn(oo.childNodes,fx).filter(mn=>re.getContentEditable(mn)!=="false"&&Ck(re,mn,c)).map(mn=>{const ir=re.clone(mn,!1);return A(ir),re.replace(ir,oo,!0),re.remove(mn,!0),ir}).getOr(oo),Vt=Ie(Ze);if((ye.length>1||!re.isBlock(Ze))&&Vt===0){re.remove(Ze,!0);return}(pi(c)||kf(c)&&c.wrapper)&&(!c.exact&&Vt===1&&(Ze=Qe(Ze)),Mz(e,a,o,Ze),Bz(e,c,t,o,Ze),Nz(re,c,o,Ze),zC(re,c,o,Ze),r6(re,c,o,Ze),Ak(e,c,o,Ze))})},Y=dy(r)?r:v.getNode();if(g.getContentEditable(Y)==="false"&&!S_(e,Y)){r=Y,M(a,r),yE(e,t,r,o);return}if(c){if(r)if(dy(r)){if(!M(a,r)){const re=g.createRng();re.setStartBefore(r),re.setEndAfter(r),L(g,ug(g,re,a),!0)}}else L(g,r,!0);else!d||!pi(c)||xf(e).length?(v.setRng(mk(v.getRng())),__(e,()=>{cy(e,(re,X)=>{const ae=X?re:ug(g,re,a);L(g,ae,!1)})},Co),e.nodeChanged()):zp(e,t,o),zy(e.formatter,t).each(re=>{Re(Az(e.selection),X=>Pz(g,X,re,o))});Cz(t,e)}yE(e,t,r,o)},Lz=(e,t,o,r)=>{(r||e.selection.isEditable())&&s6(e,t,o,r)},Yl=e=>po(e,"vars"),Fz=(e,t)=>{e.set({}),t.on("NodeChange",o=>{OC(t,o.element,e.get())}),t.on("FormatApply FormatRemove",o=>{const r=H.from(o.node).map(a=>dy(a)?a:a.startContainer).bind(a=>jt(a)?H.some(a):H.from(a.parentElement)).getOrThunk(()=>Ty(t));OC(t,r,e.get())})},Ty=e=>e.selection.getStart(),Hz=(e,t,o,r,a)=>qo(t,g=>{const v=e.formatter.matchNode(g,o,a??{},r);return!er(v)},g=>tC(e,g,o)?!0:r?!1:$e(e.formatter.matchNode(g,o,a,!0))),TC=(e,t)=>{const o=t??Ty(e);return et(t0(e.dom,o),r=>jt(r)&&!$d(r))},OC=(e,t,o)=>{const r=TC(e,t);Bo(o,(a,c)=>{const d=g=>{const v=Hz(e,r,c,g.similar,Yl(g)?g.vars:void 0),A=v.isSome();if(g.state.get()!==A){g.state.set(A);const M=v.getOr(t);Yl(g)?g.callback(A,{node:M,format:c,parents:r}):Re(g.callbacks,I=>I(A,{node:M,format:c,parents:r}))}};Re([a.withSimilar,a.withoutSimilar],d),Re(a.withVars,d)})},DC=(e,t,o,r,a,c)=>{const d=t.get();Re(o.split(","),g=>{const v=Mn(d,g).getOrThunk(()=>{const M={withSimilar:{state:Ms(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Ms(!1),similar:!1,callbacks:[]},withVars:[]};return d[g]=M,M}),A=()=>{const M=TC(e);return Hz(e,M,g,a,c).isSome()};if(er(c)){const M=a?v.withSimilar:v.withoutSimilar;M.callbacks.push(r),M.callbacks.length===1&&M.state.set(A())}else v.withVars.push({state:Ms(A()),similar:a,vars:c,callback:r})}),t.set(d)},$z=(e,t,o)=>{const r=e.get();Re(t.split(","),a=>Mn(r,a).each(c=>{r[a]={withSimilar:{...c.withSimilar,callbacks:et(c.withSimilar.callbacks,d=>d!==o)},withoutSimilar:{...c.withoutSimilar,callbacks:et(c.withoutSimilar.callbacks,d=>d!==o)},withVars:et(c.withVars,d=>d.callback!==o)}})),e.set(r)},a6=(e,t,o,r,a,c)=>(DC(e,t,o,r,a,c),{unbind:()=>$z(t,o,r)}),i6=(e,t,o,r)=>{const a=e.formatter.get(t);a&&(Eg(e,t,o,r)&&(!("toggle"in a[0])||a[0].toggle)?Og(e,t,o,r):Lz(e,t,o,r))},Vz=ut.explode,Nk=()=>{const e={};return{addFilter:(a,c)=>{Re(Vz(a),d=>{po(e,d)||(e[d]={name:d,callbacks:[]}),e[d].callbacks.push(c)})},getFilters:()=>qi(e),removeFilter:(a,c)=>{Re(Vz(a),d=>{if(po(e,d))if($e(c)){const g=e[d],v=et(g.callbacks,A=>A!==c);v.length>0?g.callbacks=v:delete e[d]}else delete e[d]})}}},l6=(e,t)=>{Re(t,o=>{e.attr(o,null)})},c6=(e,t,o)=>{e.addNodeFilter("font",r=>{Re(r,a=>{const c=t.parse(a.attr("style")),d=a.attr("color"),g=a.attr("face"),v=a.attr("size");d&&(c.color=d),g&&(c["font-family"]=g),v&&Us(v).each(A=>{c["font-size"]=o[A-1]}),a.name="span",a.attr("style",t.serialize(c)),l6(a,["color","face","size"])})})},jz=(e,t,o)=>{e.addNodeFilter("strike",r=>{const a=t.type!=="html4";Re(r,c=>{if(a)c.name="s";else{const d=o.parse(c.attr("style"));d["text-decoration"]="line-through",c.name="span",c.attr("style",o.serialize(d))}})})},d6=(e,t,o)=>{var r;const a=c1();t.convert_fonts_to_spans&&c6(e,a,ut.explode((r=t.font_size_legacy_values)!==null&&r!==void 0?r:"")),jz(e,o,a)},u6=(e,t,o)=>{t.inline_styles&&d6(e,t,o)},RC=e=>fetch(e).then(t=>t.ok?t.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),Mk=e=>{const t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""},Bk=e=>{const[t,...o]=e.split(","),r=o.join(","),a=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(a){const c=a[2]===";base64",d=c?Mk(r):decodeURIComponent(r);return H.some({type:a[1],data:d,base64Encoded:c})}else return H.none()},NC=(e,t,o=!0)=>{let r=t;if(o)try{r=atob(t)}catch{return H.none()}const a=new Uint8Array(r.length);for(let c=0;c<a.length;c++)a[c]=r.charCodeAt(c);return H.some(new Blob([a],{type:e}))},MC=e=>new Promise((t,o)=>{Bk(e).bind(({type:r,data:a,base64Encoded:c})=>NC(r,a,c)).fold(()=>o("Invalid data URI"),t)}),f6=e=>lr(e,"blob:")?RC(e):lr(e,"data:")?MC(e):Promise.reject("Unknown URI format"),Uz=e=>new Promise((t,o)=>{const r=new FileReader;r.onloadend=()=>{t(r.result)},r.onerror=()=>{var a;o((a=r.error)===null||a===void 0?void 0:a.message)},r.readAsDataURL(e)});let m6=0;const tb=e=>"blobid"+m6++,Zz=(e,t,o)=>Bk(e).bind(({data:r,type:a,base64Encoded:c})=>{if(t&&!c)return H.none();{const d=c?r:btoa(r);return o(d,a)}}),W0=(e,t,o)=>{const r=e.create(tb(),t,o);return e.add(r),r},Wz=(e,t,o=!1)=>Zz(t,o,(r,a)=>H.from(e.getByData(r,a)).orThunk(()=>NC(a,r).map(c=>W0(e,c,r)))),BC=(e,t)=>{const o=()=>Promise.reject("Invalid data URI");if(lr(t,"blob:")){const r=e.getByUri(t);return $e(r)?Promise.resolve(r):f6(t).then(a=>Uz(a).then(c=>Zz(c,!1,d=>H.some(W0(e,a,d))).getOrThunk(o)))}else return lr(t,"data:")?Wz(e,t).fold(o,r=>Promise.resolve(r)):Promise.reject("Unknown image data format")},qz=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,Gz=e=>H.from(e.match(qz)).bind(t=>$s(t,1)).map(t=>lr(t,"www.")?t.substring(4):t),IC=(e,t)=>{H.from(e.attr("src")).bind(Gz).forall(o=>!on(t,o))&&e.attr("sandbox","")},Oy=(e,t)=>lr(e,`${t}/`),p6=e=>er(e)?"iframe":Oy(e,"image")?"img":Oy(e,"video")?"video":Oy(e,"audio")?"audio":"iframe",g6=({type:e,src:t,width:o,height:r}={},a,c)=>{const d=p6(e),g=new Oi(d,1);return g.attr(d==="audio"?{src:t}:{src:t,width:o,height:r}),(d==="audio"||d==="video")&&g.attr("controls",""),d==="iframe"&&a&&IC(g,c),g},PC=e=>$e(e.attr("data-mce-bogus")),Kz=e=>e.attr("src")===Fo.transparentSrc||$e(e.attr("data-mce-placeholder")),h6=(e,t)=>{const{blob_cache:o}=t;if(o){const r=a=>{const c=a.attr("src");Kz(a)||PC(a)||Io(c)||Wz(o,c,!0).each(d=>{a.attr("src",d.blobUri())})};e.addAttributeFilter("src",a=>Re(a,r))}},b6=(e,t)=>{var o,r;const a=e.schema;e.addAttributeFilter("href",v=>{let A=v.length;const M=L=>L.split(" ").filter(re=>re.length>0).concat(["noopener"]).sort().join(" "),I=L=>{const Y=L?ut.trim(L):"";return/\b(noopener)\b/g.test(Y)?Y:M(Y)};if(!t.allow_unsafe_link_target)for(;A--;){const L=v[A];L.name==="a"&&L.attr("target")==="_blank"&&L.attr("rel",I(L.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",v=>{let A=v.length,M,I,L,Y;for(;A--;)if(Y=v[A],Y.name==="a"&&Y.firstChild&&!Y.attr("href"))for(L=Y.parent,M=Y.lastChild;M&&L;)I=M.prev,L.insert(M,Y),M=I}),t.fix_list_elements&&e.addNodeFilter("ul,ol",v=>{let A=v.length,M,I;for(;A--;)if(M=v[A],I=M.parent,I&&(I.name==="ul"||I.name==="ol"))if(M.prev&&M.prev.name==="li")M.prev.append(M);else{const L=new Oi("li",1);L.attr("style","list-style-type: none"),M.wrap(L)}});const c=a.getValidClasses();t.validate&&c&&e.addAttributeFilter("class",v=>{var A;let M=v.length;for(;M--;){const I=v[M],L=(A=I.attr("class"))!==null&&A!==void 0?A:"",Y=ut.explode(L," ");let re="";for(let X=0;X<Y.length;X++){const ae=Y[X];let ye=!1,Se=c["*"];Se&&Se[ae]&&(ye=!0),Se=c[I.name],!ye&&Se&&Se[ae]&&(ye=!0),ye&&(re&&(re+=" "),re+=ae)}re.length||(re=null),I.attr("class",re)}}),h6(e,t);const d=(o=t.sandbox_iframes)!==null&&o!==void 0?o:!1,g=$a((r=t.sandbox_iframes_exclusions)!==null&&r!==void 0?r:[]);t.convert_unsafe_embeds&&e.addNodeFilter("object,embed",v=>Re(v,A=>{A.replace(g6({type:A.attr("type"),src:A.name==="object"?A.attr("data"):A.attr("src"),width:A.attr("width"),height:A.attr("height")},d,g))})),d&&e.addNodeFilter("iframe",v=>Re(v,A=>IC(A,g)))},{entries:Yz,setPrototypeOf:Xz,isFrozen:LC,getPrototypeOf:Jz,getOwnPropertyDescriptor:y6}=Object;let{freeze:sd,seal:as,create:v6}=Object,{apply:FC,construct:Ik}=typeof Reflect<"u"&&Reflect;FC||(FC=function(t,o,r){return t.apply(o,r)}),sd||(sd=function(t){return t}),as||(as=function(t){return t}),Ik||(Ik=function(t,o){return new t(...o)});const HC=wc(Array.prototype.forEach),Qz=wc(Array.prototype.pop),Fu=wc(Array.prototype.push),Dy=wc(String.prototype.toLowerCase),Pk=wc(String.prototype.toString),$C=wc(String.prototype.match),su=wc(String.prototype.replace),VC=wc(String.prototype.indexOf),eT=wc(String.prototype.trim),kc=wc(RegExp.prototype.test),Rg=q0(TypeError);function wc(e){return function(t){for(var o=arguments.length,r=new Array(o>1?o-1:0),a=1;a<o;a++)r[a-1]=arguments[a];return FC(e,t,r)}}function q0(e){return function(){for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return Ik(e,o)}}function Dn(e,t,o){var r;o=(r=o)!==null&&r!==void 0?r:Dy,Xz&&Xz(e,null);let a=t.length;for(;a--;){let c=t[a];if(typeof c=="string"){const d=o(c);d!==c&&(LC(t)||(t[a]=d),c=d)}e[c]=!0}return e}function Am(e){const t=v6(null);for(const[o,r]of Yz(e))t[o]=r;return t}function G0(e,t){for(;e!==null;){const r=y6(e,t);if(r){if(r.get)return wc(r.get);if(typeof r.value=="function")return wc(r.value)}e=Jz(e)}function o(r){return console.warn("fallback value for",r),null}return o}const jC=sd(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),UC=sd(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Lk=sd(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),x6=sd(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ZC=sd(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),K0=sd(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),tT=sd(["#text"]),oT=sd(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),WC=sd(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),nT=sd(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Fk=sd(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),k6=as(/\{\{[\w\W]*|[\w\W]*\}\}/gm),w6=as(/<%[\w\W]*|[\w\W]*%>/gm),_6=as(/\${[\w\W]*}/gm),C6=as(/^data-[\-\w.\u00B7-\uFFFF]/),S6=as(/^aria-[\-\w]+$/),rT=as(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),sT=as(/^(?:\w+script|data):/i),aT=as(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),qC=as(/^html$/i);var GC=Object.freeze({__proto__:null,MUSTACHE_EXPR:k6,ERB_EXPR:w6,TMPLIT_EXPR:_6,DATA_ATTR:C6,ARIA_ATTR:S6,IS_ALLOWED_URI:rT,IS_SCRIPT_OR_DATA:sT,ATTR_WHITESPACE:aT,DOCTYPE_NAME:qC});const iT=()=>typeof window>"u"?null:window,lT=function(t,o){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let r=null;const a="data-tt-policy-suffix";o&&o.hasAttribute(a)&&(r=o.getAttribute(a));const c="dompurify"+(r?"#"+r:"");try{return t.createPolicy(c,{createHTML(d){return d},createScriptURL(d){return d}})}catch{return console.warn("TrustedTypes policy "+c+" could not be created."),null}};function KC(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:iT();const t=bn=>KC(bn);if(t.version="3.0.5",t.removed=[],!e||!e.document||e.document.nodeType!==9)return t.isSupported=!1,t;const o=e.document,r=o.currentScript;let{document:a}=e;const{DocumentFragment:c,HTMLTemplateElement:d,Node:g,Element:v,NodeFilter:A,NamedNodeMap:M=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:I,DOMParser:L,trustedTypes:Y}=e,re=v.prototype,X=G0(re,"cloneNode"),ae=G0(re,"nextSibling"),ye=G0(re,"childNodes"),Se=G0(re,"parentNode");if(typeof d=="function"){const bn=a.createElement("template");bn.content&&bn.content.ownerDocument&&(a=bn.content.ownerDocument)}let _e,Ne="";const{implementation:ot,createNodeIterator:xt,createDocumentFragment:Mt,getElementsByTagName:Ze}=a,{importNode:Ie}=o;let Qe={};t.isSupported=typeof Yz=="function"&&typeof Se=="function"&&ot&&ot.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Vt,ERB_EXPR:oo,TMPLIT_EXPR:nn,DATA_ATTR:mn,ARIA_ATTR:ir,IS_SCRIPT_OR_DATA:gr,ATTR_WHITESPACE:na}=GC;let{IS_ALLOWED_URI:xl}=GC,Or=null;const St=Dn({},[...jC,...UC,...Lk,...ZC,...tT]);let Qt=null;const Kn=Dn({},[...oT,...WC,...nT,...Fk]);let zt=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),mo=null,cn=null,Nt=!0,rn=!0,hn=!1,Di=!0,pr=!1,bi=!1,Tf=!1,Fp=!1,Sc=!1,cu=!1,Of=!1,du=!0,Df=!1;const ao="user-content-";let Pn=!0,Ls=!1,ga={},ei=null;const sl=Dn({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Fa=null;const Ha=Dn({},["audio","video","img","source","image","track"]);let Ec=null;const Bm=Dn({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Im="http://www.w3.org/1998/Math/MathML",Pm="http://www.w3.org/2000/svg",Rf="http://www.w3.org/1999/xhtml";let Xy=Rf,Ew=!1,Aw=null;const X7=Dn({},[Im,Pm,Rf],Pk);let hb;const F5=["application/xhtml+xml","text/html"],GP="text/html";let Jl,Tv=null;const KP=a.createElement("form"),J7=function(He){return He instanceof RegExp||He instanceof Function},$g=function(He){if(!(Tv&&Tv===He)){if((!He||typeof He!="object")&&(He={}),He=Am(He),hb=F5.indexOf(He.PARSER_MEDIA_TYPE)===-1?hb=GP:hb=He.PARSER_MEDIA_TYPE,Jl=hb==="application/xhtml+xml"?Pk:Dy,Or="ALLOWED_TAGS"in He?Dn({},He.ALLOWED_TAGS,Jl):St,Qt="ALLOWED_ATTR"in He?Dn({},He.ALLOWED_ATTR,Jl):Kn,Aw="ALLOWED_NAMESPACES"in He?Dn({},He.ALLOWED_NAMESPACES,Pk):X7,Ec="ADD_URI_SAFE_ATTR"in He?Dn(Am(Bm),He.ADD_URI_SAFE_ATTR,Jl):Bm,Fa="ADD_DATA_URI_TAGS"in He?Dn(Am(Ha),He.ADD_DATA_URI_TAGS,Jl):Ha,ei="FORBID_CONTENTS"in He?Dn({},He.FORBID_CONTENTS,Jl):sl,mo="FORBID_TAGS"in He?Dn({},He.FORBID_TAGS,Jl):{},cn="FORBID_ATTR"in He?Dn({},He.FORBID_ATTR,Jl):{},ga="USE_PROFILES"in He?He.USE_PROFILES:!1,Nt=He.ALLOW_ARIA_ATTR!==!1,rn=He.ALLOW_DATA_ATTR!==!1,hn=He.ALLOW_UNKNOWN_PROTOCOLS||!1,Di=He.ALLOW_SELF_CLOSE_IN_ATTR!==!1,pr=He.SAFE_FOR_TEMPLATES||!1,bi=He.WHOLE_DOCUMENT||!1,Sc=He.RETURN_DOM||!1,cu=He.RETURN_DOM_FRAGMENT||!1,Of=He.RETURN_TRUSTED_TYPE||!1,Fp=He.FORCE_BODY||!1,du=He.SANITIZE_DOM!==!1,Df=He.SANITIZE_NAMED_PROPS||!1,Pn=He.KEEP_CONTENT!==!1,Ls=He.IN_PLACE||!1,xl=He.ALLOWED_URI_REGEXP||rT,Xy=He.NAMESPACE||Rf,zt=He.CUSTOM_ELEMENT_HANDLING||{},He.CUSTOM_ELEMENT_HANDLING&&J7(He.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(zt.tagNameCheck=He.CUSTOM_ELEMENT_HANDLING.tagNameCheck),He.CUSTOM_ELEMENT_HANDLING&&J7(He.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(zt.attributeNameCheck=He.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),He.CUSTOM_ELEMENT_HANDLING&&typeof He.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(zt.allowCustomizedBuiltInElements=He.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),pr&&(rn=!1),cu&&(Sc=!0),ga&&(Or=Dn({},[...tT]),Qt=[],ga.html===!0&&(Dn(Or,jC),Dn(Qt,oT)),ga.svg===!0&&(Dn(Or,UC),Dn(Qt,WC),Dn(Qt,Fk)),ga.svgFilters===!0&&(Dn(Or,Lk),Dn(Qt,WC),Dn(Qt,Fk)),ga.mathMl===!0&&(Dn(Or,ZC),Dn(Qt,nT),Dn(Qt,Fk))),He.ADD_TAGS&&(Or===St&&(Or=Am(Or)),Dn(Or,He.ADD_TAGS,Jl)),He.ADD_ATTR&&(Qt===Kn&&(Qt=Am(Qt)),Dn(Qt,He.ADD_ATTR,Jl)),He.ADD_URI_SAFE_ATTR&&Dn(Ec,He.ADD_URI_SAFE_ATTR,Jl),He.FORBID_CONTENTS&&(ei===sl&&(ei=Am(ei)),Dn(ei,He.FORBID_CONTENTS,Jl)),Pn&&(Or["#text"]=!0),bi&&Dn(Or,["html","head","body"]),Or.table&&(Dn(Or,["tbody"]),delete mo.tbody),He.TRUSTED_TYPES_POLICY){if(typeof He.TRUSTED_TYPES_POLICY.createHTML!="function")throw Rg('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof He.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Rg('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');_e=He.TRUSTED_TYPES_POLICY,Ne=_e.createHTML("")}else _e===void 0&&(_e=lT(Y,r)),_e!==null&&typeof Ne=="string"&&(Ne=_e.createHTML(""));sd&&sd(He),Tv=He}},W4=Dn({},["mi","mo","mn","ms","mtext"]),Be=Dn({},["foreignobject","desc","title","annotation-xml"]),Pe=Dn({},["title","style","font","a","script"]),Ct=Dn({},UC);Dn(Ct,Lk),Dn(Ct,x6);const vt=Dn({},ZC);Dn(vt,K0);const vo=function(He){let Xt=Se(He);(!Xt||!Xt.tagName)&&(Xt={namespaceURI:Xy,tagName:"template"});const Mo=Dy(He.tagName),za=Dy(Xt.tagName);return Aw[He.namespaceURI]?He.namespaceURI===Pm?Xt.namespaceURI===Rf?Mo==="svg":Xt.namespaceURI===Im?Mo==="svg"&&(za==="annotation-xml"||W4[za]):!!Ct[Mo]:He.namespaceURI===Im?Xt.namespaceURI===Rf?Mo==="math":Xt.namespaceURI===Pm?Mo==="math"&&Be[za]:!!vt[Mo]:He.namespaceURI===Rf?Xt.namespaceURI===Pm&&!Be[za]||Xt.namespaceURI===Im&&!W4[za]?!1:!vt[Mo]&&(Pe[Mo]||!Ct[Mo]):!!(hb==="application/xhtml+xml"&&Aw[He.namespaceURI]):!1},An=function(He){Fu(t.removed,{element:He});try{He.parentNode.removeChild(He)}catch{He.remove()}},Fs=function(He,Xt){try{Fu(t.removed,{attribute:Xt.getAttributeNode(He),from:Xt})}catch{Fu(t.removed,{attribute:null,from:Xt})}if(Xt.removeAttribute(He),He==="is"&&!Qt[He])if(Sc||cu)try{An(Xt)}catch{}else try{Xt.setAttribute(He,"")}catch{}},Lm=function(He){let Xt,Mo;if(Fp)He="<remove></remove>"+He;else{const Fm=$C(He,/^[\r\n\t ]+/);Mo=Fm&&Fm[0]}hb==="application/xhtml+xml"&&Xy===Rf&&(He='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+He+"</body></html>");const za=_e?_e.createHTML(He):He;if(Xy===Rf)try{Xt=new L().parseFromString(za,hb)}catch{}if(!Xt||!Xt.documentElement){Xt=ot.createDocument(Xy,"template",null);try{Xt.documentElement.innerHTML=Ew?Ne:za}catch{}}const Ac=Xt.body||Xt.documentElement;return He&&Mo&&Ac.insertBefore(a.createTextNode(Mo),Ac.childNodes[0]||null),Xy===Rf?Ze.call(Xt,bi?"html":"body")[0]:bi?Xt.documentElement:Ac},H5=function(He){return xt.call(He.ownerDocument||He,He,A.SHOW_ELEMENT|A.SHOW_COMMENT|A.SHOW_TEXT,null,!1)},jZ=function(He){return He instanceof I&&(typeof He.nodeName!="string"||typeof He.textContent!="string"||typeof He.removeChild!="function"||!(He.attributes instanceof M)||typeof He.removeAttribute!="function"||typeof He.setAttribute!="function"||typeof He.namespaceURI!="string"||typeof He.insertBefore!="function"||typeof He.hasChildNodes!="function")},$5=function(He){return typeof g=="object"?He instanceof g:He&&typeof He=="object"&&typeof He.nodeType=="number"&&typeof He.nodeName=="string"},bb=function(He,Xt,Mo){Qe[He]&&HC(Qe[He],za=>{za.call(t,Xt,Mo,Tv)})},YP=function(He){let Xt;if(bb("beforeSanitizeElements",He,null),jZ(He))return An(He),!0;const Mo=Jl(He.nodeName);if(bb("uponSanitizeElement",He,{tagName:Mo,allowedTags:Or}),He.hasChildNodes()&&!$5(He.firstElementChild)&&(!$5(He.content)||!$5(He.content.firstElementChild))&&kc(/<[/\w]/g,He.innerHTML)&&kc(/<[/\w]/g,He.textContent))return An(He),!0;if(!Or[Mo]||mo[Mo]){if(!mo[Mo]&&JP(Mo)&&(zt.tagNameCheck instanceof RegExp&&kc(zt.tagNameCheck,Mo)||zt.tagNameCheck instanceof Function&&zt.tagNameCheck(Mo)))return!1;if(Pn&&!ei[Mo]){const za=Se(He)||He.parentNode,Ac=ye(He)||He.childNodes;if(Ac&&za){const Fm=Ac.length;for(let Zi=Fm-1;Zi>=0;--Zi)za.insertBefore(X(Ac[Zi],!0),ae(He))}}return An(He),!0}return He instanceof v&&!vo(He)||(Mo==="noscript"||Mo==="noembed"||Mo==="noframes")&&kc(/<\/no(script|embed|frames)/i,He.innerHTML)?(An(He),!0):(pr&&He.nodeType===3&&(Xt=He.textContent,Xt=su(Xt,Vt," "),Xt=su(Xt,oo," "),Xt=su(Xt,nn," "),He.textContent!==Xt&&(Fu(t.removed,{element:He.cloneNode()}),He.textContent=Xt)),bb("afterSanitizeElements",He,null),!1)},XP=function(He,Xt,Mo){if(du&&(Xt==="id"||Xt==="name")&&(Mo in a||Mo in KP))return!1;if(!(rn&&!cn[Xt]&&kc(mn,Xt))){if(!(Nt&&kc(ir,Xt))){if(!Qt[Xt]||cn[Xt]){if(!(JP(He)&&(zt.tagNameCheck instanceof RegExp&&kc(zt.tagNameCheck,He)||zt.tagNameCheck instanceof Function&&zt.tagNameCheck(He))&&(zt.attributeNameCheck instanceof RegExp&&kc(zt.attributeNameCheck,Xt)||zt.attributeNameCheck instanceof Function&&zt.attributeNameCheck(Xt))||Xt==="is"&&zt.allowCustomizedBuiltInElements&&(zt.tagNameCheck instanceof RegExp&&kc(zt.tagNameCheck,Mo)||zt.tagNameCheck instanceof Function&&zt.tagNameCheck(Mo))))return!1}else if(!Ec[Xt]){if(!kc(xl,su(Mo,na,""))){if(!((Xt==="src"||Xt==="xlink:href"||Xt==="href")&&He!=="script"&&VC(Mo,"data:")===0&&Fa[He])){if(!(hn&&!kc(gr,su(Mo,na,"")))){if(Mo)return!1}}}}}}return!0},JP=function(He){return He.indexOf("-")>0},QP=function(He){let Xt,Mo,za,Ac;bb("beforeSanitizeAttributes",He,null);const{attributes:Fm}=He;if(!Fm)return;const Zi={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Qt};for(Ac=Fm.length;Ac--;){Xt=Fm[Ac];const{name:Hm,namespaceURI:Q7}=Xt;Mo=Hm==="value"?Xt.value:eT(Xt.value);const ZZ=Mo;if(za=Jl(Hm),Zi.attrName=za,Zi.attrValue=Mo,Zi.keepAttr=!0,Zi.forceKeepAttr=void 0,bb("uponSanitizeAttribute",He,Zi),Mo=Zi.attrValue,Zi.forceKeepAttr)continue;if(!Zi.keepAttr){Fs(Hm,He);continue}if(!Di&&kc(/\/>/i,Mo)){Fs(Hm,He);continue}pr&&(Mo=su(Mo,Vt," "),Mo=su(Mo,oo," "),Mo=su(Mo,nn," "));const eL=Jl(He.nodeName);if(!XP(eL,za,Mo)){Fs(Hm,He);continue}if(Df&&(za==="id"||za==="name")&&(Fs(Hm,He),Mo=ao+Mo),_e&&typeof Y=="object"&&typeof Y.getAttributeType=="function"&&!Q7)switch(Y.getAttributeType(eL,za)){case"TrustedHTML":{Mo=_e.createHTML(Mo);break}case"TrustedScriptURL":{Mo=_e.createScriptURL(Mo);break}}if(Mo!==ZZ)try{Q7?He.setAttributeNS(Q7,Hm,Mo):He.setAttribute(Hm,Mo)}catch{Fs(Hm,He)}}bb("afterSanitizeAttributes",He,null)},UZ=function bn(He){let Xt;const Mo=H5(He);for(bb("beforeSanitizeShadowDOM",He,null);Xt=Mo.nextNode();)bb("uponSanitizeShadowNode",Xt,null),!YP(Xt)&&(Xt.content instanceof c&&bn(Xt.content),QP(Xt));bb("afterSanitizeShadowDOM",He,null)};return t.sanitize=function(bn){let He=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Xt,Mo,za,Ac;if(Ew=!bn,Ew&&(bn="<!-->"),typeof bn!="string"&&!$5(bn))if(typeof bn.toString=="function"){if(bn=bn.toString(),typeof bn!="string")throw Rg("dirty is not a string, aborting")}else throw Rg("toString is not a function");if(!t.isSupported)return bn;if(Tf||$g(He),t.removed=[],typeof bn=="string"&&(Ls=!1),Ls){if(bn.nodeName){const Hm=Jl(bn.nodeName);if(!Or[Hm]||mo[Hm])throw Rg("root node is forbidden and cannot be sanitized in-place")}}else if(bn instanceof g)Xt=Lm("<!---->"),Mo=Xt.ownerDocument.importNode(bn,!0),Mo.nodeType===1&&Mo.nodeName==="BODY"||Mo.nodeName==="HTML"?Xt=Mo:Xt.appendChild(Mo);else{if(!Sc&&!pr&&!bi&&bn.indexOf("<")===-1)return _e&&Of?_e.createHTML(bn):bn;if(Xt=Lm(bn),!Xt)return Sc?null:Of?Ne:""}Xt&&Fp&&An(Xt.firstChild);const Fm=H5(Ls?bn:Xt);for(;za=Fm.nextNode();)YP(za)||(za.content instanceof c&&UZ(za.content),QP(za));if(Ls)return bn;if(Sc){if(cu)for(Ac=Mt.call(Xt.ownerDocument);Xt.firstChild;)Ac.appendChild(Xt.firstChild);else Ac=Xt;return(Qt.shadowroot||Qt.shadowrootmode)&&(Ac=Ie.call(o,Ac,!0)),Ac}let Zi=bi?Xt.outerHTML:Xt.innerHTML;return bi&&Or["!doctype"]&&Xt.ownerDocument&&Xt.ownerDocument.doctype&&Xt.ownerDocument.doctype.name&&kc(qC,Xt.ownerDocument.doctype.name)&&(Zi="<!DOCTYPE "+Xt.ownerDocument.doctype.name+`>
`+Zi),pr&&(Zi=su(Zi,Vt," "),Zi=su(Zi,oo," "),Zi=su(Zi,nn," ")),_e&&Of?_e.createHTML(Zi):Zi},t.setConfig=function(bn){$g(bn),Tf=!0},t.clearConfig=function(){Tv=null,Tf=!1},t.isValidAttribute=function(bn,He,Xt){Tv||$g({});const Mo=Jl(bn),za=Jl(He);return XP(Mo,za,Xt)},t.addHook=function(bn,He){typeof He=="function"&&(Qe[bn]=Qe[bn]||[],Fu(Qe[bn],He))},t.removeHook=function(bn){if(Qe[bn])return Qz(Qe[bn])},t.removeHooks=function(bn){Qe[bn]&&(Qe[bn]=[])},t.removeAllHooks=function(){Qe={}},t}var YC=KC();const cT=ut.each,dT=ut.trim,E6=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],A6={ftp:21,http:80,https:443,mailto:25},uT=["img","video"],fT=(e,t)=>$e(e)?!e:$e(t)?!on(uT,t):!0,z6=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},XC=(e,t,o)=>{const r=z6(t).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(r)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(r)?fT(e.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(r):/^data:/i.test(r)};class au{static parseDataUri(t){let o;const r=decodeURIComponent(t).split(","),a=/data:([^;]+)/.exec(r[0]);return a&&(o=a[1]),{type:o,data:r[1]}}static isDomSafe(t,o,r={}){if(r.allow_script_urls)return!0;{const a=Jm.decode(t).replace(/[\s\u0000-\u001F]+/g,"");return!XC(r,a,o)}}static getDocumentBaseUrl(t){var o;let r;return t.protocol.indexOf("http")!==0&&t.protocol!=="file:"?r=(o=t.href)!==null&&o!==void 0?o:"":r=t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/")),r}constructor(t,o={}){this.path="",this.directory="",t=dT(t),this.settings=o;const r=o.base_uri,a=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)){a.source=t;return}const c=t.indexOf("//")===0;if(t.indexOf("/")===0&&!c&&(t=(r&&r.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){const g=r?r.path:new au(document.location.href).directory;if((r==null?void 0:r.protocol)==="")t="//mce_host"+a.toAbsPath(g,t);else{const v=/([^#?]*)([#?]?.*)/.exec(t);v&&(t=(r&&r.protocol||"http")+"://mce_host"+a.toAbsPath(g,v[1])+v[2])}}t=t.replace(/@@/g,"(mce_at)");const d=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);d&&cT(E6,(g,v)=>{let A=d[v];A&&(A=A.replace(/\(mce_at\)/g,"@@")),a[g]=A}),r&&(a.protocol||(a.protocol=r.protocol),a.userInfo||(a.userInfo=r.userInfo),!a.port&&a.host==="mce_host"&&(a.port=r.port),(!a.host||a.host==="mce_host")&&(a.host=r.host),a.source=""),c&&(a.protocol="")}setPath(t){const o=/^(.*?)\/?(\w+)?$/.exec(t);o&&(this.path=o[0],this.directory=o[1],this.file=o[2]),this.source="",this.getURI()}toRelative(t){if(t==="./")return t;const o=new au(t,{base_uri:this});if(o.host!=="mce_host"&&this.host!==o.host&&o.host||this.port!==o.port||this.protocol!==o.protocol&&o.protocol!=="")return o.getURI();const r=this.getURI(),a=o.getURI();if(r===a||r.charAt(r.length-1)==="/"&&r.substr(0,r.length-1)===a)return r;let c=this.toRelPath(this.path,o.path);return o.query&&(c+="?"+o.query),o.anchor&&(c+="#"+o.anchor),c}toAbsolute(t,o){const r=new au(t,{base_uri:this});return r.getURI(o&&this.isSameOrigin(r))}isSameOrigin(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;const o=this.protocol?A6[this.protocol]:null;if(o&&(this.port||o)==(t.port||o))return!0}return!1}toRelPath(t,o){let r=0,a="",c,d;const g=t.substring(0,t.lastIndexOf("/")).split("/"),v=o.split("/");if(g.length>=v.length){for(c=0,d=g.length;c<d;c++)if(c>=v.length||g[c]!==v[c]){r=c+1;break}}if(g.length<v.length){for(c=0,d=v.length;c<d;c++)if(c>=g.length||g[c]!==v[c]){r=c+1;break}}if(r===1)return o;for(c=0,d=g.length-(r-1);c<d;c++)a+="../";for(c=r-1,d=v.length;c<d;c++)c!==r-1?a+="/"+v[c]:a+=v[c];return a}toAbsPath(t,o){let r=0;const a=/\/$/.test(o)?"/":"",c=t.split("/"),d=o.split("/"),g=[];cT(c,I=>{I&&g.push(I)});const v=[];for(let I=d.length-1;I>=0;I--)if(!(d[I].length===0||d[I]===".")){if(d[I]===".."){r++;continue}if(r>0){r--;continue}v.push(d[I])}const A=g.length-r;let M;return A<=0?M=Js(v).join("/"):M=g.slice(0,A).join("/")+"/"+Js(v).join("/"),M.indexOf("/")!==0&&(M="/"+M),a&&M.lastIndexOf("/")!==M.length-1&&(M+=a),M}getURI(t=!1){let o;return(!this.source||t)&&(o="",t||(this.protocol?o+=this.protocol+"://":o+="//",this.userInfo&&(o+=this.userInfo+"@"),this.host&&(o+=this.host),this.port&&(o+=":"+this.port)),this.path&&(o+=this.path),this.query&&(o+="?"+this.query),this.anchor&&(o+="#"+this.anchor),this.source=o),this.source}}const T6=ut.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),JC="data-mce-type";let mT=0;const pT=(e,t,o,r,a)=>{var c,d,g,v;const A=t.validate,M=o.getSpecialElements();e.nodeType===cd&&!t.allow_conditional_comments&&/^\[if/i.test((c=e.nodeValue)!==null&&c!==void 0?c:"")&&(e.nodeValue=" "+e.nodeValue);const I=(d=a==null?void 0:a.tagName)!==null&&d!==void 0?d:e.nodeName.toLowerCase();if(r!=="html"&&o.isValid(r)){$e(a)&&(a.allowedTags[I]=!0);return}if(e.nodeType!==Ii||I==="body")return;const L=me.fromDom(e),Y=dd(L,JC),re=qa(L,"data-mce-bogus");if(!Y&&mt(re)){re==="all"?Wn(L):Ma(L);return}const X=o.getElementRule(I);if(A&&!X){po(M,I)?Wn(L):Ma(L);return}else $e(a)&&(a.allowedTags[I]=!0);if(A&&X&&!Y){if(Re((g=X.attributesForced)!==null&&g!==void 0?g:[],ae=>{Ws(L,ae.name,ae.value==="{$uid}"?`mce_${mT++}`:ae.value)}),Re((v=X.attributesDefault)!==null&&v!==void 0?v:[],ae=>{dd(L,ae.name)||Ws(L,ae.name,ae.value==="{$uid}"?`mce_${mT++}`:ae.value)}),X.attributesRequired&&!zn(X.attributesRequired,ae=>dd(L,ae))){Ma(L);return}if(X.removeEmptyAttrs&&As(L)){Ma(L);return}X.outputName&&X.outputName!==I&&x1(L,X.outputName)}},O6=(e,t,o,r,a)=>{const c=e.tagName.toLowerCase(),{attrName:d,attrValue:g}=a;a.keepAttr=Y0(t,o,r,c,d,g),a.keepAttr?(a.allowedAttributes[d]=!0,eS(d,o)&&(a.attrValue=d),t.allow_svg_data_urls&&lr(g,"data:image/svg+xml")&&(a.forceKeepAttr=!0)):QC(e,d)&&(a.forceKeepAttr=!0)},Y0=(e,t,o,r,a,c)=>o!=="html"&&!ku(r)?!0:!(a in T6&&XC(e,c,r))&&(!e.validate||t.isValid(r,a)||lr(a,"data-")||lr(a,"aria-")),QC=(e,t)=>e.hasAttribute(JC)&&(t==="id"||t==="class"||t==="style"),eS=(e,t)=>e in t.getBoolAttrs(),gT=(e,t,o,r)=>{const{attributes:a}=e;for(let c=a.length-1;c>=0;c--){const d=a[c],g=d.name,v=d.value;!Y0(t,o,r,e.tagName.toLowerCase(),g,v)&&!QC(e,g)?e.removeAttribute(g):eS(g,o)&&e.setAttribute(g,g)}},D6=(e,t,o)=>{const r=YC();return r.addHook("uponSanitizeElement",(a,c)=>{pT(a,e,t,o.track(a),c)}),r.addHook("uponSanitizeAttribute",(a,c)=>{O6(a,e,t,o.current(),c)}),r},R6=(e,t)=>{const r={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]}};return r.PARSER_MEDIA_TYPE=t,e.allow_script_urls?r.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(r.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),r},hT=e=>{const t=kb(e);if(t==="svg"){const o=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(a=>`xlink:${a}`),r={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:o};YC().sanitize(e,r)}else if(t==="math"){const o={IN_PLACE:!0,USE_PROFILES:{mathMl:!0}};YC().sanitize(e,o)}else throw new Error("Not a namespace element")},N6=(e,t)=>{const o=z();if(e.sanitize){const r=D6(e,t,o);return{sanitizeHtmlElement:(c,d)=>{r.sanitize(c,R6(e,d)),r.removed=[],o.reset()},sanitizeNamespaceElement:hT}}else return{sanitizeHtmlElement:(c,d)=>{const g=document.createNodeIterator(c,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let v;for(;v=g.nextNode();){const A=o.track(v);pT(v,e,t,A),jt(v)&&gT(v,e,t,A)}o.reset()},sanitizeNamespaceElement:Yt}},Hk=ut.makeMap,tS=ut.extend,bT=(e,t,o,r)=>{const a=e.name,c=a in o&&a!=="title"&&a!=="textarea"&&a!=="noscript",d=t.childNodes;for(let g=0,v=d.length;g<v;g++){const A=d[g],M=new Oi(A.nodeName.toLowerCase(),A.nodeType);if(jt(A)){const I=A.attributes;for(let L=0,Y=I.length;L<Y;L++){const re=I[L];M.attr(re.name,re.value)}ku(M.name)&&(r(A),M.value=A.innerHTML)}else pt(A)?(M.value=A.data,c&&(M.raw=!0)):(Uo(A)||Up(A)||Vd(A))&&(M.value=A.data);ku(M.name)||bT(M,A,o,r),e.append(M)}},gi=(e,t,o)=>{const r=[];for(let a=e,c=a;a;c=a,a=a.walk()){const d=a;Re(t,g=>g(d)),Io(d.parent)&&d!==e?a=c:r.push(d)}for(let a=r.length-1;a>=0;a--){const c=r[a];Re(o,d=>d(c))}},zm=(e,t,o,r)=>{const a=o.validate,c=t.getNonEmptyElements(),d=t.getWhitespaceElements(),g=tS(Hk("script,style,head,html,body,title,meta,param"),t.getBlockElements()),v=Sb(t),A=/[ \t\r\n]+/g,M=/^[ \t\r\n]+/,I=/[ \t\r\n]+$/,L=Se=>{let _e=Se.parent;for(;$e(_e);){if(_e.name in d)return!0;_e=_e.parent}return!1},Y=Se=>{let _e=Se;for(;$e(_e);){if(_e.name in v)return Ey(t,c,d,_e);_e=_e.parent}return!1},re=Se=>Se.name in g||gd(t,Se)||ku(Se.name)&&Se.parent===e,X=(Se,_e)=>{const Ne=_e?Se.prev:Se.next;return $e(Ne)||Io(Se.parent)?!1:re(Se.parent)&&(Se.parent!==e||r.isRootContent===!0)};return[Se=>{var _e;if(Se.type===3&&!L(Se)){let Ne=(_e=Se.value)!==null&&_e!==void 0?_e:"";Ne=Ne.replace(A," "),(nz(Se.prev,re)||X(Se,!0))&&(Ne=Ne.replace(M,"")),Ne.length===0||Ne===" "&&Se.prev&&Se.prev.type===cd&&Se.next&&Se.next.type===cd?Se.remove():Se.value=Ne}},Se=>{var _e;if(Se.type===1){const Ne=t.getElementRule(Se.name);if(a&&Ne){const ot=Ey(t,c,d,Se);Ne.paddInEmptyBlock&&ot&&Y(Se)?uk(o,r,re,Se):Ne.removeEmpty&&ot?re(Se)?Se.remove():Se.unwrap():Ne.paddEmpty&&(ot||fk(Se))&&uk(o,r,re,Se)}}else if(Se.type===3&&!L(Se)){let Ne=(_e=Se.value)!==null&&_e!==void 0?_e:"";(Se.next&&re(Se.next)||X(Se,!1))&&(Ne=Ne.replace(I,"")),Ne.length===0?Se.remove():Se.value=Ne}}]},M6=(e,t)=>{var o;const r=(o=t.forced_root_block)!==null&&o!==void 0?o:e.forced_root_block;return r===!1?"":r===!0?"p":r},Ry=(e={},t=qc())=>{const o=Nk(),r=Nk(),a={validate:!0,root_name:"body",sanitize:!0,...e},c=new DOMParser,d=N6(a,t),g=(_e,Ne,ot="html")=>{const xt=ot==="xhtml"?"application/xhtml+xml":"text/html",Mt=po(t.getSpecialElements(),Ne.toLowerCase()),Ze=Mt?`<${Ne}>${_e}</${Ne}>`:_e,Ie=()=>ot==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${Ze}</body></html>`:/^[\s]*<head/i.test(_e)||/^[\s]*<html/i.test(_e)||/^[\s]*<!DOCTYPE/i.test(_e)?`<html>${Ze}</html>`:`<body>${Ze}</body>`,Qe=c.parseFromString(Ie(),xt).body;return d.sanitizeHtmlElement(Qe,xt),Mt?Qe.firstChild:Qe},v=o.addFilter,A=o.getFilters,M=o.removeFilter,I=r.addFilter,L=r.getFilters,Y=r.removeFilter,re=(_e,Ne)=>{L0(t,_e)&&Ne.push(_e)},X=(_e,Ne)=>{const ot=mt(Ne.attr(JC)),xt=Ne.type===1&&!po(_e,Ne.name)&&!gd(t,Ne)&&!ku(Ne.name);return Ne.type===3||xt&&!ot},ae=(_e,Ne)=>{const ot=tS(Hk("script,style,head,html,body,title,meta,param"),t.getBlockElements()),xt=/^[ \t\r\n]+/,Mt=/[ \t\r\n]+$/;let Ze=_e.firstChild,Ie=null;const Qe=Vt=>{var oo,nn;Vt&&(Ze=Vt.firstChild,Ze&&Ze.type===3&&(Ze.value=(oo=Ze.value)===null||oo===void 0?void 0:oo.replace(xt,"")),Ze=Vt.lastChild,Ze&&Ze.type===3&&(Ze.value=(nn=Ze.value)===null||nn===void 0?void 0:nn.replace(Mt,"")))};if(t.isValidChild(_e.name,Ne.toLowerCase())){for(;Ze;){const Vt=Ze.next;X(ot,Ze)?(Ie||(Ie=new Oi(Ne,1),Ie.attr(a.forced_root_block_attrs),_e.insert(Ie,Ze)),Ie.append(Ze)):(Qe(Ie),Ie=null),Ze=Vt}Qe(Ie)}},Se={schema:t,addAttributeFilter:I,getAttributeFilters:L,removeAttributeFilter:Y,addNodeFilter:v,getNodeFilters:A,removeNodeFilter:M,parse:(_e,Ne={})=>{var ot;const xt=a.validate,Mt=(ot=Ne.context)!==null&&ot!==void 0?ot:a.root_name,Ze=g(_e,Mt,Ne.format);Po(t,Ze);const Ie=new Oi(Mt,11);bT(Ie,Ze,t.getSpecialElements(),d.sanitizeNamespaceElement),Ze.innerHTML="";const[Qe,Vt]=zm(Ie,t,a,Ne),oo=[],nn=xt?na=>re(na,oo):Yt,mn={nodes:{},attributes:{}},ir=na=>j2(A(),L(),na,mn);if(gi(Ie,[Qe,ir],[Vt,nn]),oo.reverse(),xt&&oo.length>0)if(Ne.context){const{pass:na,fail:xl}=rt(oo,Or=>Or.parent===Ie);zd(xl,t,Ie,ir),Ne.invalid=na.length>0}else zd(oo,t,Ie,ir);const gr=M6(a,Ne);return gr&&(Ie.name==="body"||Ne.isRootContent)&&ae(Ie,gr),Ne.invalid||U2(mn,Ne),Ie}};return b6(Se,a),u6(Se,a,t),Se},B6=e=>Jh(e)?_p({validate:!1}).serialize(e):e,oS=(e,t,o)=>{const r=B6(e),a=t(r);if(a.isDefaultPrevented())return a;if(Jh(e))if(a.content!==r){const c=Ry({validate:!1,forced_root_block:!1,...o}).parse(a.content,{context:e.name});return{...a,content:c}}else return{...a,content:e};else return a},ob=e=>({sanitize:b3(e),sandbox_iframes:r_(e),sandbox_iframes_exclusions:Qv(e)}),yT=(e,t)=>{if(t.no_events)return ho.value(t);{const o=wf(e,t);return o.isDefaultPrevented()?ho.error(xE(e,{content:"",...o}).content):ho.value(o)}},Hu=(e,t,o)=>o.no_events?t:oS(t,a=>xE(e,{...o,content:a}),ob(e)).content,nS=(e,t)=>{if(t.no_events)return ho.value(t);{const o=oS(t.content,r=>RR(e,{...t,content:r}),ob(e));return o.isDefaultPrevented()?(vc(e,o),ho.error(void 0)):ho.value(o)}},rS=(e,t,o)=>{o.no_events||vc(e,{...o,content:t})},$k=(e,t,o)=>({element:e,width:t,rows:o}),sS=(e,t)=>({element:e,cells:t}),I6=(e,t)=>({x:e,y:t}),Vk=(e,t)=>Ns(e,t).bind(Us).getOr(1),Tm=(e,t,o,r,a)=>{const c=Vk(a,"rowspan"),d=Vk(a,"colspan"),g=e.rows;for(let v=o;v<o+c;v++){g[v]||(g[v]=sS(rm(r),[]));for(let A=t;A<t+d;A++){const M=g[v].cells;M[A]=v===o&&A===t?a:Is(a)}}},vT=(e,t,o)=>{const r=e.rows;return!!(r[o]?r[o].cells:[])[t]},xT=(e,t,o)=>{for(;vT(e,t,o);)t++;return t},X0=e=>uo(e,(t,o)=>o.cells.length>t?o.cells.length:t,0),jk=(e,t)=>{const o=e.rows;for(let r=0;r<o.length;r++){const a=o[r].cells;for(let c=0;c<a.length;c++)if(fn(a[c],t))return H.some(I6(c,r))}return H.none()},aS=(e,t,o,r,a)=>{const c=[],d=e.rows;for(let g=o;g<=a;g++){const v=d[g].cells,A=t<r?v.slice(t,r+1):v.slice(r,t+1);c.push(sS(d[g].element,A))}return c},kT=(e,t,o)=>{const r=t.x,a=t.y,c=o.x,d=o.y,g=a<d?aS(e,r,a,c,d):aS(e,r,d,c,a);return $k(e.element,X0(g),g)},wT=(e,t)=>{const o=Is(e.element),r=me.fromTag("tbody");return Ts(r,t),vs(o,r),o},P6=e=>Jo(e.rows,t=>{const o=Jo(t.cells,a=>{const c=rm(a);return Go(c,"colspan"),Go(c,"rowspan"),c}),r=Is(t.element);return Ts(r,o),r}),L6=e=>{const t=$k(Is(e),0,[]);return Re(qs(e,"tr"),(o,r)=>{Re(qs(o,"td,th"),(a,c)=>{Tm(t,xT(t,c,r),r,o,a)})}),$k(t.element,X0(t.rows),t.rows)},F6=e=>wT(e,P6(e)),_T=(e,t,o)=>jk(e,t).bind(r=>jk(e,o).map(a=>kT(e,r,a))),CT=e=>Tn(e,t=>gn(t)==="ul"||gn(t)==="ol"),H6=(e,t)=>Tn(e,o=>gn(o)==="li"&&J1(o,t)).fold(we([]),o=>CT(e).map(r=>{const a=me.fromTag(gn(r)),c=ti(Yu(r),(d,g)=>lr(g,"list-style"));return sn(a,c),[me.fromTag("li"),a]}).getOr([])),iS=(e,t)=>{const o=uo(t,(r,a)=>(vs(a,r),a),e);return t.length>0?td([o]):o},ST=e=>am(e)?ka(e).filter(uh).fold(we([]),t=>[e,t]):uh(e)?[e]:[],$6=(e,t,o)=>{const r=me.fromDom(t.commonAncestorContainer),a=nd(r,e),c=et(a,v=>o.isWrapper(gn(v))),d=H6(a,t),g=c.concat(d.length?d:ST(r));return Jo(g,Is)},lS=()=>td([]),V6=(e,t,o)=>iS(me.fromDom(t.cloneContents()),$6(e,t,o)),j6=(e,t)=>Ll(t,"table",kt(fn,e)),yl=(e,t)=>j6(e,t[0]).bind(o=>{const r=t[0],a=t[t.length-1],c=L6(o);return _T(c,r,a).map(d=>td([F6(d)]))}).getOrThunk(lS),U6=(e,t,o)=>t.length>0&&t[0].collapsed?lS():V6(e,t[0],o),Z6=(e,t,o)=>{const r=tE(t,e);return r.length>0?yl(e,r):U6(e,t,o)},Uk=(e,t)=>t>=0&&t<e.length&&Mh(e.charAt(t)),ET=e=>gl(e.innerText),Zk=e=>e.map(t=>t.nodeName).getOr("div").toLowerCase(),W6=e=>H.from(e.selection.getRng()).map(t=>{var o;const r=H.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),a=e.getBody(),c=Zk(r),d=me.fromDom(t.cloneContents());cA(d),dA(d);const g=e.dom.add(a,c,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},d.dom),v=ET(g),A=gl((o=g.textContent)!==null&&o!==void 0?o:"");if(e.dom.remove(g),Uk(A,0)||Uk(A,A.length-1)){const M=r.getOr(a),I=ET(M),L=I.indexOf(v);if(L===-1)return v;{const Y=Uk(I,L-1),re=Uk(I,L+v.length);return(Y?" ":"")+v+(re?" ":"")}}else return v}).getOr(""),cS=(e,t)=>{const o=e.selection.getRng(),r=e.dom.create("body"),a=e.selection.getSel(),c=Fx(e,ss(a)),d=t.contextual?Z6(me.fromDom(e.getBody()),c,e.schema).dom:o.cloneContents();return d&&r.appendChild(d),e.selection.serializer.serialize(r,t)},dS=(e,t)=>{if(t.format==="text")return W6(e);{const o=cS(e,t);return t.format==="tree"?o:e.selection.isCollapsed()?"":o}},q6=(e,t)=>({...e,format:t,get:!0,selection:!0,getInner:!0}),G6=(e,t,o={})=>{const r=q6(o,t);return yT(e,r).fold(At,a=>{const c=dS(e,a);return Hu(e,c,a)})},iu=0,uS=1,AT=2,fS=(e,t)=>{const o=e.length+t.length+2,r=new Array(o),a=new Array(o),c=(M,I,L)=>({start:M,end:I,diag:L}),d=(M,I,L,Y,re)=>{const X=v(M,I,L,Y);if(X===null||X.start===I&&X.diag===I-Y||X.end===M&&X.diag===M-L){let ae=M,ye=L;for(;ae<I||ye<Y;)ae<I&&ye<Y&&e[ae]===t[ye]?(re.push([iu,e[ae]]),++ae,++ye):I-M>Y-L?(re.push([AT,e[ae]]),++ae):(re.push([uS,t[ye]]),++ye)}else{d(M,X.start,L,X.start-X.diag,re);for(let ae=X.start;ae<X.end;++ae)re.push([iu,e[ae]]);d(X.end,I,X.end-X.diag,Y,re)}},g=(M,I,L,Y)=>{let re=M;for(;re-I<Y&&re<L&&e[re]===t[re-I];)++re;return c(M,re,I)},v=(M,I,L,Y)=>{const re=I-M,X=Y-L;if(re===0||X===0)return null;const ae=re-X,ye=X+re,Se=(ye%2===0?ye:ye+1)/2;r[1+Se]=M,a[1+Se]=I+1;let _e,Ne,ot,xt,Mt;for(_e=0;_e<=Se;++_e){for(Ne=-_e;Ne<=_e;Ne+=2){for(ot=Ne+Se,Ne===-_e||Ne!==_e&&r[ot-1]<r[ot+1]?r[ot]=r[ot+1]:r[ot]=r[ot-1]+1,xt=r[ot],Mt=xt-M+L-Ne;xt<I&&Mt<Y&&e[xt]===t[Mt];)r[ot]=++xt,++Mt;if(ae%2!==0&&ae-_e<=Ne&&Ne<=ae+_e&&a[ot-ae]<=r[ot])return g(a[ot-ae],Ne+M-L,I,Y)}for(Ne=ae-_e;Ne<=ae+_e;Ne+=2){for(ot=Ne+Se-ae,Ne===ae-_e||Ne!==ae+_e&&a[ot+1]<=a[ot-1]?a[ot]=a[ot+1]-1:a[ot]=a[ot-1],xt=a[ot]-1,Mt=xt-M+L-Ne;xt>=M&&Mt>=L&&e[xt]===t[Mt];)a[ot]=xt--,Mt--;if(ae%2===0&&-_e<=Ne&&Ne<=_e&&a[ot]<=r[ot+ae])return g(a[ot],Ne+M-L,I,Y)}}return null},A=[];return d(0,e.length,0,t.length,A),A},mS=e=>jt(e)?e.outerHTML:pt(e)?Jm.encodeRaw(e.data,!1):Uo(e)?"<!--"+e.data+"-->":"",Wk=e=>{let t;const o=document.createElement("div"),r=document.createDocumentFragment();for(e&&(o.innerHTML=e);t=o.firstChild;)r.appendChild(t);return r},zT=(e,t,o)=>{const r=Wk(t);if(e.hasChildNodes()&&o<e.childNodes.length){const a=e.childNodes[o];e.insertBefore(r,a)}else e.appendChild(r)},TT=(e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){const o=e.childNodes[t];e.removeChild(o)}},OT=(e,t)=>{let o=0;Re(e,r=>{r[0]===iu?o++:r[0]===uS?(zT(t,r[1],o),o++):r[0]===AT&&TT(t,o)})},K6=(e,t)=>et(Jo(Vo(e.childNodes),Lo(gl,mS)),o=>o.length>0),Y6=(e,t)=>{const o=Jo(Vo(t.childNodes),mS);return OT(fS(o,e),t),t},pS=Oa(()=>document.implementation.createHTMLDocument("undo")),X6=e=>e.querySelector("iframe")!==null,J6=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),qk=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),Ny=e=>{const t=e.serializer.getTempAttrs(),o=o2(e.getBody(),t);return X6(o)?J6(K6(o)):qk(gl(o.innerHTML))},J0=(e,t,o)=>{const r=o?t.beforeBookmark:t.bookmark;t.type==="fragmented"?Y6(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:$e(r)&&q3(r)?!r.isFakeCaret:!0}),r&&(e.selection.moveToBookmark(r),e.selection.scrollIntoView())},Gk=e=>e.type==="fragmented"?e.fragments.join(""):e.content,Op=e=>{const t=me.fromTag("body",pS());return fc(t,Gk(e)),Re(qs(t,"*[data-mce-bogus]"),Ma),dl(t)},Q6=(e,t)=>Gk(e)===Gk(t),eM=(e,t)=>Op(e)===Op(t),My=(e,t)=>!e||!t?!1:Q6(e,t)?!0:eM(e,t),Kk=e=>e.get()===0,Q0=(e,t,o)=>{Kk(o)&&(e.typing=t)},gS=(e,t)=>{e.typing&&(Q0(e,!1,t),e.add())},tM=e=>{e.typing&&(e.typing=!1,e.add())},oM=(e,t,o)=>{Kk(t)&&o.set(It(e.selection))},hS=(e,t,o,r,a,c,d)=>{const g=Ny(e),v=ut.extend(c||{},g);if(!Kk(r)||e.removed)return null;const A=t.data[o.get()];if(e.dispatch("BeforeAddUndo",{level:v,lastLevel:A,originalEvent:d}).isDefaultPrevented()||A&&My(A,v))return null;t.data[o.get()]&&a.get().each(L=>{t.data[o.get()].beforeBookmark=L});const M=d3(e);if(M&&t.data.length>M){for(let L=0;L<t.data.length-1;L++)t.data[L]=t.data[L+1];t.data.length--,o.set(t.data.length)}v.bookmark=It(e.selection),o.get()<t.data.length-1&&(t.data.length=o.get()+1),t.data.push(v),o.set(t.data.length-1);const I={level:v,lastLevel:A,originalEvent:d};return o.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",I),e.dispatch("change",I)):e.dispatch("AddUndo",I),v},bS=(e,t,o)=>{t.data=[],o.set(0),t.typing=!1,e.dispatch("ClearUndos")},yS=(e,t,o,r,a)=>{if(t.transact(r)){const c=t.data[o.get()].bookmark,d=t.data[o.get()-1];J0(e,d,!0),t.transact(a)&&(t.data[o.get()-1].beforeBookmark=c)}},DT=(e,t,o)=>{let r;return t.get()<o.length-1&&(t.set(t.get()+1),r=o[t.get()],J0(e,r,!1),e.setDirty(!0),e.dispatch("Redo",{level:r})),r},Yk=(e,t,o,r)=>{let a;return t.typing&&(t.add(),t.typing=!1,Q0(t,!1,o)),r.get()>0&&(r.set(r.get()-1),a=t.data[r.get()],J0(e,a,!0),e.setDirty(!0),e.dispatch("Undo",{level:a})),a},RT=e=>{e.clear(),e.add()},NT=(e,t,o)=>o.get()>0||t.typing&&t.data[0]&&!My(Ny(e),t.data[0]),nM=(e,t)=>t.get()<e.data.length-1&&!e.typing,rM=(e,t,o)=>(gS(e,t),e.beforeChange(),e.ignore(o),e.add()),vS=(e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},MT=(e,t)=>{const o=e.dom,r=$e(t)?t:e.getBody();Re(o.select("table,a",r),a=>{switch(a.nodeName){case"TABLE":const c=Xv(e),d=o.getAttrib(a,"border");(!d||d==="0")&&e.hasVisual?o.addClass(a,c):o.removeClass(a,c);break;case"A":if(!o.getAttrib(a,"href")){const g=o.getAttrib(a,"name")||a.id,v=ny(e);g&&e.hasVisual?o.addClass(a,v):o.removeClass(a,v)}break}}),e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})},xS=e=>({init:{bindEvents:Yt},undoManager:{beforeChange:(t,o)=>oM(e,t,o),add:(t,o,r,a,c,d)=>hS(e,t,o,r,a,c,d),undo:(t,o,r)=>Yk(e,t,o,r),redo:(t,o)=>DT(e,t,o),clear:(t,o)=>bS(e,t,o),reset:t=>RT(t),hasUndo:(t,o)=>NT(e,t,o),hasRedo:(t,o)=>nM(t,o),transact:(t,o,r)=>rM(t,o,r),ignore:(t,o)=>vS(t,o),extra:(t,o,r,a)=>yS(e,t,o,r,a)},formatter:{match:(t,o,r,a)=>Eg(e,t,o,r,a),matchAll:(t,o)=>bz(e,t,o),matchNode:(t,o,r,a)=>Sm(e,t,o,r,a),canApply:t=>vz(e,t),closest:t=>yz(e,t),apply:(t,o,r)=>Lz(e,t,o,r),remove:(t,o,r,a)=>Og(e,t,o,r,a),toggle:(t,o,r)=>i6(e,t,o,r),formatChanged:(t,o,r,a,c)=>a6(e,t,o,r,a,c)},editor:{getContent:t=>mA(e,t),setContent:(t,o)=>JN(e,t,o),insertContent:(t,o)=>kk(e,t,o),addVisual:t=>MT(e,t)},selection:{getContent:(t,o)=>G6(e,t,o)},autocompleter:{addDecoration:Yt,removeDecoration:Yt},raw:{getModel:()=>H.none()}}),sM=e=>{const t=A=>ce(A)?A:{},{init:o,undoManager:r,formatter:a,editor:c,selection:d,autocompleter:g,raw:v}=e;return{init:{bindEvents:o.bindEvents},undoManager:{beforeChange:r.beforeChange,add:r.add,undo:r.undo,redo:r.redo,clear:r.clear,reset:r.reset,hasUndo:r.hasUndo,hasRedo:r.hasRedo,transact:(A,M,I)=>r.transact(I),ignore:(A,M)=>r.ignore(M),extra:(A,M,I,L)=>r.extra(I,L)},formatter:{match:(A,M,I,L)=>a.match(A,t(M),L),matchAll:a.matchAll,matchNode:a.matchNode,canApply:A=>a.canApply(A),closest:A=>a.closest(A),apply:(A,M,I)=>a.apply(A,t(M)),remove:(A,M,I,L)=>a.remove(A,t(M)),toggle:(A,M,I)=>a.toggle(A,t(M)),formatChanged:(A,M,I,L,Y)=>a.formatChanged(M,I,L,Y)},editor:{getContent:A=>c.getContent(A),setContent:(A,M)=>({content:c.setContent(A,M),html:""}),insertContent:(A,M)=>(c.insertContent(A),""),addVisual:c.addVisual},selection:{getContent:(A,M)=>d.getContent(M)},autocompleter:{addDecoration:g.addDecoration,removeDecoration:g.removeDecoration},raw:{getModel:()=>H.some(v.getRawModel())}}},aM=()=>{const e=we(null),t=we("");return{init:{bindEvents:Yt},undoManager:{beforeChange:Yt,add:e,undo:e,redo:e,clear:Yt,reset:Yt,hasUndo:yn,hasRedo:yn,transact:e,ignore:Yt,extra:Yt},formatter:{match:yn,matchAll:we([]),matchNode:we(void 0),canApply:yn,closest:t,apply:Yt,remove:Yt,toggle:Yt,formatChanged:we({unbind:Yt})},editor:{getContent:t,setContent:we({content:"",html:""}),insertContent:we(""),addVisual:Yt},selection:{getContent:t},autocompleter:{addDecoration:Yt,removeDecoration:Yt},raw:{getModel:we(H.none())}}},Om=e=>po(e.plugins,"rtc"),BT=e=>Mn(e.plugins,"rtc").bind(t=>H.from(t.setup)),IT=e=>{const t=e;return BT(e).fold(()=>(t.rtcInstance=xS(e),H.none()),o=>(t.rtcInstance=aM(),H.some(()=>o().then(r=>(t.rtcInstance=sM(r),r.rtc.isRemote)))))},kS=e=>e.rtcInstance?e.rtcInstance:xS(e),hi=e=>{const t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},By=(e,t,o)=>{hi(e).undoManager.beforeChange(t,o)},iM=(e,t,o,r,a,c,d)=>hi(e).undoManager.add(t,o,r,a,c,d),lM=(e,t,o,r)=>hi(e).undoManager.undo(t,o,r),PT=(e,t,o)=>hi(e).undoManager.redo(t,o),LT=(e,t,o)=>{hi(e).undoManager.clear(t,o)},Xk=(e,t)=>{hi(e).undoManager.reset(t)},cM=(e,t,o)=>hi(e).undoManager.hasUndo(t,o),dM=(e,t,o)=>hi(e).undoManager.hasRedo(t,o),uM=(e,t,o,r)=>hi(e).undoManager.transact(t,o,r),fM=(e,t,o)=>{hi(e).undoManager.ignore(t,o)},mM=(e,t,o,r,a)=>{hi(e).undoManager.extra(t,o,r,a)},pM=(e,t,o,r,a)=>hi(e).formatter.match(t,o,r,a),gM=(e,t,o)=>hi(e).formatter.matchAll(t,o),hM=(e,t,o,r,a)=>hi(e).formatter.matchNode(t,o,r,a),bM=(e,t)=>hi(e).formatter.canApply(t),yM=(e,t)=>hi(e).formatter.closest(t),Pr=(e,t,o,r)=>{hi(e).formatter.apply(t,o,r)},FT=(e,t,o,r,a)=>{hi(e).formatter.remove(t,o,r,a)},wS=(e,t,o,r)=>{hi(e).formatter.toggle(t,o,r)},HT=(e,t,o,r,a,c)=>hi(e).formatter.formatChanged(t,o,r,a,c),$T=(e,t)=>kS(e).editor.getContent(t),_S=(e,t,o)=>kS(e).editor.setContent(t,o),vM=(e,t,o)=>kS(e).editor.insertContent(t,o),xM=(e,t,o)=>hi(e).selection.getContent(t,o),VT=(e,t)=>hi(e).editor.addVisual(t),jT=e=>hi(e).init.bindEvents(),kM=(e,t={})=>{const o=t.format?t.format:"html";return xM(e,o,t)},nb=e=>e.dom.length===0?(Wn(e),H.none()):H.some(e),wM=(e,t)=>e.filter(o=>wr.isBookmarkNode(o.dom)).bind(t?to:ea),Iy=(e,t,o,r,a)=>{const c=e.dom,d=t.dom,g=r?c.length:d.length;r?(D0(c,d,a,!1,!r),o.setStart(d,g)):(D0(d,c,a,!1,!r),o.setEnd(d,g))},ev=(e,t,o)=>{ka(e).each(r=>{const a=e.dom;t&&wy(r,Le(a,0),o)?Kx(a,0,o):!t&&Gh(r,Le(a,a.length),o)&&Ds(a,a.length,o)})},rb=(e,t,o,r,a)=>{e.bind(c=>((r?Ds:Kx)(c.dom,r?c.dom.length:0,a),t.filter(Br).map(g=>Iy(c,g,o,r,a)))).orThunk(()=>wM(t,r).or(t).filter(Br).map(d=>ev(d,r,a)))},CS=(e,t,o)=>{const r=H.from(t.firstChild).map(me.fromDom),a=H.from(t.lastChild).map(me.fromDom);e.deleteContents(),e.insertNode(t);const c=r.bind(ea).filter(Br).bind(nb),d=a.bind(to).filter(Br).bind(nb);rb(c,r,e,!0,o),rb(d,a,e,!1,o),e.collapse(!1)},UT=(e,t)=>({format:"html",...e,set:!0,selection:!0,content:t}),ZT=(e,t)=>{if(t.format!=="raw"){const o=e.selection.getRng(),r=e.dom.getParent(o.commonAncestorContainer,e.dom.isBlock),a=r?{context:r.nodeName.toLowerCase()}:{},c=e.parser.parse(t.content,{forced_root_block:!1,...a,...t});return _p({validate:!1},e.schema).serialize(c)}else return t.content},SS=(e,t,o={})=>{const r=UT(o,t);nS(e,r).each(a=>{const c=ZT(e,a),d=e.selection.getRng();CS(d,d.createContextualFragment(c),e.schema),e.selection.setRng(d),Jd(e,d),rS(e,c,a)})},ES=(e,t,o)=>{if(po(e,t)){const r=et(e[t],a=>a!==o);r.length===0?delete e[t]:e[t]=r}};var WT=(e,t)=>{let o,r;const a=(g,v)=>Tn(v,A=>e.is(A,g)),c=g=>e.getParents(g,void 0,e.getRoot()),d=()=>{o={},r={},t.on("NodeChange",g=>{const v=g.element,A=c(v),M={};Bo(o,(I,L)=>{a(L,A).each(Y=>{r[L]||(Re(I,re=>{re(!0,{node:Y,selector:L,parents:A})}),r[L]=I),M[L]=I})}),Bo(r,(I,L)=>{M[L]||(delete r[L],Re(I,Y=>{Y(!1,{node:v,selector:L,parents:A})}))})})};return{selectorChangedWithUnbind:(g,v)=>(o||d(),o[g]||(o[g]=[]),o[g].push(v),a(g,c(t.selection.getStart())).each(()=>{r[g]=o[g]}),{unbind:()=>{ES(o,g,v),ES(r,g,v)}})}};const AS=e=>!!(e&&e.ownerDocument)&&Ra(me.fromDom(e.ownerDocument),me.fromDom(e)),zS=e=>e?AS(e.startContainer)&&AS(e.endContainer):!1,TS=(e,t,o,r)=>{let a,c;const{selectorChangedWithUnbind:d}=WT(e,r),g=(St,Qt)=>{const Kn=e.createRng();$e(St)&&$e(Qt)?(Kn.setStart(St,Qt),Kn.setEnd(St,Qt),Ne(Kn),ye(!1)):(Q1(e,Kn,r.getBody(),!0),Ne(Kn))},v=St=>kM(r,St),A=(St,Qt)=>SS(r,St,Qt),M=St=>oA(r.getBody(),_e(),St),I=St=>nA(r.getBody(),_e(),St),L=(St,Qt)=>xl.getBookmark(St,Qt),Y=St=>xl.moveToBookmark(St),re=(St,Qt)=>(C0(e,St,Qt).each(Ne),St),X=()=>{const St=_e(),Qt=Se();return!St||St.item?!1:St.compareEndPoints?St.compareEndPoints("StartToEnd",St)===0:!Qt||St.collapsed},ae=()=>{const St=_e(),Qt=r.getBody().querySelectorAll('[data-mce-selected="1"]');return Qt.length>0?Nr(Qt,Kn=>e.isEditable(Kn.parentElement)):eA(e,St)},ye=St=>{const Qt=_e();Qt.collapse(!!St),Ne(Qt)},Se=()=>t.getSelection?t.getSelection():t.document.selection,_e=()=>{let St;const Qt=(zt,mo,cn)=>{try{return mo.compareBoundaryPoints(zt,cn)}catch{return-1}},Kn=t.document;if($e(r.bookmark)&&!gy(r)){const zt=K_(r);if(zt.isSome())return zt.map(mo=>Fx(r,[mo])[0]).getOr(Kn.createRange())}try{const zt=Se();zt&&!Fd(zt.anchorNode)&&(zt.rangeCount>0?St=zt.getRangeAt(0):St=Kn.createRange(),St=Fx(r,[St])[0])}catch{}if(St||(St=Kn.createRange()),qt(St.startContainer)&&St.collapsed){const zt=e.getRoot();St.setStart(zt,0),St.setEnd(zt,0)}return a&&c&&(Qt(St.START_TO_START,St,a)===0&&Qt(St.END_TO_END,St,a)===0?St=c:(a=null,c=null)),St},Ne=(St,Qt)=>{if(!zS(St))return;const Kn=Se();if(St=r.dispatch("SetSelectionRange",{range:St,forward:Qt}).range,Kn){c=St;try{Kn.removeAllRanges(),Kn.addRange(St)}catch{}Qt===!1&&Kn.extend&&(Kn.collapse(St.endContainer,St.endOffset),Kn.extend(St.startContainer,St.startOffset)),a=Kn.rangeCount>0?Kn.getRangeAt(0):null}if(!St.collapsed&&St.startContainer===St.endContainer&&(Kn!=null&&Kn.setBaseAndExtent)&&St.endOffset-St.startOffset<2&&St.startContainer.hasChildNodes()){const mo=St.startContainer.childNodes[St.startOffset];mo&&mo.nodeName==="IMG"&&(Kn.setBaseAndExtent(St.startContainer,St.startOffset,St.endContainer,St.endOffset),(Kn.anchorNode!==St.startContainer||Kn.focusNode!==St.endContainer)&&Kn.setBaseAndExtent(mo,0,mo,1))}r.dispatch("AfterSetSelectionRange",{range:St,forward:Qt})},ot=St=>(A(e.getOuterHTML(St)),St),xt=()=>fN(r.getBody(),_e()),Mt=(St,Qt)=>e2(e,_e(),St,Qt),Ze=()=>{const St=Se(),Qt=St==null?void 0:St.anchorNode,Kn=St==null?void 0:St.focusNode;if(!St||!Qt||!Kn||Fd(Qt)||Fd(Kn))return!0;const zt=e.createRng(),mo=e.createRng();try{zt.setStart(Qt,St.anchorOffset),zt.collapse(!0),mo.setStart(Kn,St.focusOffset),mo.collapse(!0)}catch{return!0}return zt.compareBoundaryPoints(zt.START_TO_START,mo)<=0},na={dom:e,win:t,serializer:o,editor:r,expand:(St={type:"word"})=>Ne(hg(e).expand(_e(),St)),collapse:ye,setCursorLocation:g,getContent:v,setContent:A,getBookmark:L,moveToBookmark:Y,select:re,isCollapsed:X,isEditable:ae,isForward:Ze,setNode:ot,getNode:xt,getSel:Se,setRng:Ne,getRng:_e,getStart:M,getEnd:I,getSelectedBlocks:Mt,normalize:()=>{const St=_e(),Qt=Se();if(!K1(Qt)&&ly(r)){const Kn=ym(e,St);return Kn.each(zt=>{Ne(zt,Ze())}),Kn.getOr(St)}return St},selectorChanged:(St,Qt)=>(d(St,Qt),na),selectorChangedWithUnbind:d,getScrollContainer:()=>{let St,Qt=e.getRoot();for(;Qt&&Qt.nodeName!=="BODY";){if(Qt.scrollHeight>Qt.clientHeight){St=Qt;break}Qt=Qt.parentNode}return St},scrollIntoView:(St,Qt)=>{$e(St)?Z_(r,St,Qt):Jd(r,_e(),Qt)},placeCaretAt:(St,Qt)=>Ne(TE(St,Qt,r.getDoc())),getBoundingClientRect:()=>{const St=_e();return St.collapsed?Le.fromRangeStart(St).getClientRects()[0]:St.getBoundingClientRect()},destroy:()=>{t=a=c=null,Or.destroy()}},xl=wr(na),Or=mr(na,r);return na.bookmarkManager=xl,na.controlSelection=Or,na},qT=(e,t,o)=>{t.addNodeFilter("br",(r,a,c)=>{const d=ut.extend({},o.getBlockElements()),g=o.getNonEmptyElements(),v=o.getWhitespaceElements();d.body=1;const A=M=>M.name in d||gd(o,M);for(let M=0,I=r.length;M<I;M++){let L=r[M],Y=L.parent;if(Y&&A(Y)&&L===Y.lastChild){let re=L.prev;for(;re;){const X=re.name;if(X!=="span"||re.attr("data-mce-type")!=="bookmark"){X==="br"&&(L=null);break}re=re.prev}if(L&&(L.remove(),Ey(o,g,v,Y))){const X=o.getElementRule(Y.name);X&&(X.removeEmpty?Y.remove():X.paddEmpty&&uk(e,c,A,Y))}}else{let re=L;for(;Y&&Y.firstChild===re&&Y.lastChild===re&&(re=Y,!d[Y.name]);)Y=Y.parent;if(re===Y){const X=new Oi("#text",3);X.value=Ca,L.replace(X)}}}})},OS=(e,t,o)=>{e.addAttributeFilter("data-mce-tabindex",(r,a)=>{let c=r.length;for(;c--;){const d=r[c];d.attr("tabindex",d.attr("data-mce-tabindex")),d.attr(a,null)}}),e.addAttributeFilter("src,href,style",(r,a)=>{const c="data-mce-"+a,d=t.url_converter,g=t.url_converter_scope;let v=r.length;for(;v--;){const A=r[v];let M=A.attr(c);M!==void 0?(A.attr(a,M.length>0?M:null),A.attr(c,null)):(M=A.attr(a),a==="style"?M=o.serializeStyle(o.parseStyle(M),A.name):d&&(M=d.call(g,M,a,A.name)),A.attr(a,M.length>0?M:null))}}),e.addAttributeFilter("class",r=>{let a=r.length;for(;a--;){const c=r[a];let d=c.attr("class");d&&(d=d.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),c.attr("class",d.length>0?d:null))}}),e.addAttributeFilter("data-mce-type",(r,a,c)=>{let d=r.length;for(;d--;){const g=r[d];g.attr("data-mce-type")==="bookmark"&&!c.cleanup&&(H.from(g.firstChild).exists(A=>{var M;return!Xc((M=A.value)!==null&&M!==void 0?M:"")})?g.unwrap():g.remove())}}),e.addNodeFilter("script,style",(r,a)=>{var c;const d=v=>v.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let g=r.length;for(;g--;){const v=r[g],A=v.firstChild,M=(c=A==null?void 0:A.value)!==null&&c!==void 0?c:"";if(a==="script"){const I=v.attr("type");I&&v.attr("type",I==="mce-no/type"?null:I.replace(/^mce\-/,"")),t.element_format==="xhtml"&&A&&M.length>0&&(A.value=`// <![CDATA[
`+d(M)+`
// ]]>`)}else t.element_format==="xhtml"&&A&&M.length>0&&(A.value=`<!--
`+d(M)+`
-->`)}}),e.addNodeFilter("#comment",r=>{let a=r.length;for(;a--;){const c=r[a],d=c.value;t.preserve_cdata&&(d==null?void 0:d.indexOf("[CDATA["))===0?(c.name="#cdata",c.type=4,c.value=o.decode(d.replace(/^\[CDATA\[|\]\]$/g,""))):(d==null?void 0:d.indexOf("mce:protected "))===0&&(c.name="#text",c.type=3,c.raw=!0,c.value=unescape(d).substr(14))}}),e.addNodeFilter("xml:namespace,input",(r,a)=>{let c=r.length;for(;c--;){const d=r[c];d.type===7?d.remove():d.type===1&&a==="input"&&!d.attr("type")&&d.attr("type","text")}}),e.addAttributeFilter("data-mce-type",r=>{Re(r,a=>{a.attr("data-mce-type")==="format-caret"&&(a.isEmpty(e.schema.getNonEmptyElements())?a.remove():a.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(r,a)=>{let c=r.length;for(;c--;)r[c].attr(a,null)}),t.remove_trailing_brs&&qT(t,e,e.schema)},_M=e=>{const t=r=>(r==null?void 0:r.name)==="br",o=e.lastChild;if(t(o)){const r=o.prev;t(r)&&(o.remove(),r.remove())}},GT=(e,t,o)=>{let r;const a=e.dom;let c=t.cloneNode(!0);const d=document.implementation;if(d.createHTMLDocument){const g=d.createHTMLDocument("");ut.each(c.nodeName==="BODY"?c.childNodes:[c],v=>{g.body.appendChild(g.importNode(v,!0))}),c.nodeName!=="BODY"?c=g.body.firstChild:c=g.body,r=a.doc,a.doc=g}return a0(e,{...o,node:c}),r&&(a.doc=r),c},KT=(e,t)=>$e(e)&&e.hasEventListeners("PreProcess")&&!t.no_events,YT=(e,t,o)=>KT(e,o)?GT(e,t,o):t,CM=(e,t,o)=>{ut.inArray(t,o)===-1&&(e.addAttributeFilter(o,(r,a)=>{let c=r.length;for(;c--;)r[c].attr(a,null)}),t.push(o))},SM=(e,t,o)=>!t.no_events&&e?i0(e,{...t,content:o}).content:o,Jk=(e,t,o)=>{const r=gl(o.getInner?t.innerHTML:e.getOuterHTML(t));return o.selection||fh(me.fromDom(t))?r:ut.trim(r)},XT=(e,t,o)=>{const r=o.selection?{forced_root_block:!1,...o}:o,a=e.parse(t,r);return _M(a),a},JT=(e,t,o)=>_p(e,t).serialize(o),QT=(e,t,o,r,a)=>{const c=JT(t,o,r);return SM(e,a,c)},EM=(e,t)=>{const o=["data-mce-selected"],r={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},a=t&&t.dom?t.dom:zr.DOM,c=t&&t.schema?t.schema:qc(r),d=Ry(r,c);OS(d,r,a);const g=(v,A={})=>{const M={format:"html",...A},I=YT(t,v,M),L=Jk(a,I,M),Y=XT(d,L,M);return M.format==="tree"?Y:QT(t,r,c,Y,M)};return{schema:c,addNodeFilter:d.addNodeFilter,addAttributeFilter:d.addAttributeFilter,serialize:g,addRules:c.addValidElements,setRules:c.setValidElements,addTempAttr:kt(CM,d,o),getTempAttrs:we(o),getNodeFilters:d.getNodeFilters,getAttributeFilters:d.getAttributeFilters,removeNodeFilter:d.removeNodeFilter,removeAttributeFilter:d.removeAttributeFilter}},eO=(e,t)=>{const o=EM(e,t);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}},AM="html",zM=(e,t)=>({...e,format:t,get:!0,getInner:!0}),tO=(e,t={})=>{const o=t.format?t.format:AM,r=zM(t,o);return yT(e,r).fold(At,a=>{const c=$T(e,a);return Hu(e,c,a)})},oO="html",nO=(e,t)=>({format:oO,...e,set:!0,content:t}),DS=(e,t,o={})=>{const r=nO(o,t);return nS(e,r).map(a=>{const c=_S(e,a.content,a);return rS(e,c.html,a),c.content}).getOr(t)},TM="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),OM=[],DM="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),tv=[],RS=(e,t)=>{const o=et(t,r=>po(e,r));return Qo(o)},RM=e=>{const t=RS(e,TM),o=e.forced_root_block;return(o===!1||o==="")&&t.push("forced_root_block (false only)"),Qo(t)},rO=e=>RS(e,OM),NS=(e,t)=>{const o=ut.makeMap(e.plugins," "),a=et(t,c=>po(o,c));return Qo(a)},MS=e=>NS(e,DM),sO=e=>NS(e,tv.map(t=>t.name)),aO=(e,t)=>{const o=RM(e),r=MS(t),a=r.length>0,c=o.length>0,d=t.theme==="mobile";if(a||c||d){const g=`
- `,v=d?`

Themes:${g}mobile`:"",A=a?`

Plugins:${g}${r.join(g)}`:"",M=c?`

Options:${g}${o.join(g)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 7.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/7/migration-from-6x/ for more information."+v+A+M)}},iO=e=>Tn(tv,t=>t.name===e).fold(()=>e,t=>t.replacedWith?`${e}, replaced by ${t.replacedWith}`:e),NM=(e,t)=>{const o=rO(e),r=sO(t),a=r.length>0,c=o.length>0;if(a||c){const d=`
- `,g=a?`

Plugins:${d}${r.map(iO).join(d)}`:"",v=c?`

Options:${d}${o.join(d)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+g+v)}},MM=(e,t)=>{aO(e,t),NM(e,t)},Ng=zr.DOM,BM=e=>{Ng.setStyle(e.id,"display",e.orgDisplay)},ov=e=>H.from(e).each(t=>t.destroy()),Qk=e=>{const t=e;t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null;const o=e.selection;if(o){const r=o.dom;t.selection=o.win=o.dom=r.doc=null}},lO=e=>{const t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,delete t._mceOldSubmit),Ng.unbind(t,"submit reset",e.formEventDelegate))},cO=e=>{if(!e.removed){const{_selectionOverrides:t,editorUpload:o}=e,r=e.getBody(),a=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&$e(a==null?void 0:a.nextSibling)&&Ng.remove(a.nextSibling),l0(e),e.editorManager.remove(e),!e.inline&&r&&BM(e),c0(e),Ng.remove(e.getContainer()),ov(t),ov(o),e.destroy()}},IM=(e,t)=>{const{selection:o,dom:r}=e;if(!e.destroyed){if(!t&&!e.removed){e.remove();return}t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),ov(o),ov(r)),lO(e),Qk(e),e.destroyed=!0}},nv=(()=>{const e={};return{add:(a,c)=>{e[a]=c},get:a=>e[a]?e[a]:{icons:{}},has:a=>po(e,a)}})(),Mg=el.ModelManager,rv=(e,t)=>t.dom[e],BS=(e,t)=>parseInt(ys(t,e),10),IS=kt(rv,"clientWidth"),dO=kt(rv,"clientHeight"),PM=kt(BS,"margin-top"),uO=kt(BS,"margin-left"),LM=e=>e.dom.getBoundingClientRect(),fO=(e,t,o)=>{const r=IS(e),a=dO(e);return t>=0&&o>=0&&t<=r&&o<=a},mO=(e,t,o,r)=>{const a=LM(t),c=e?a.left+t.dom.clientLeft+uO(t):0,d=e?a.top+t.dom.clientTop+PM(t):0,g=o-c,v=r-d;return{x:g,y:v}},FM=(e,t,o)=>{const r=me.fromDom(e.getBody()),a=e.inline?r:cc(r),c=mO(e.inline,a,t,o);return fO(a,c.x,c.y)},pO=e=>H.from(e).map(me.fromDom),PS=e=>{const t=e.inline?e.getBody():e.getContentAreaContainer();return pO(t).map(ai).getOr(!1)};var gO=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const LS=e=>{const t=[],o=()=>{const L=e.theme;return L&&L.getNotificationManagerImpl?L.getNotificationManagerImpl():gO()},r=()=>H.from(t[0]),a=(L,Y)=>L.type===Y.type&&L.text===Y.text&&!L.progressBar&&!L.timeout&&!Y.progressBar&&!Y.timeout,c=()=>{r().each(L=>{L.reposition()})},d=L=>{t.push(L)},g=L=>{or(t,Y=>Y===L).each(Y=>{t.splice(Y,1)})},v=(L,Y=!0)=>e.removed||!PS(e)?{}:(Y&&e.dispatch("BeforeOpenNotification",{notification:L}),Tn(t,re=>a(o().getArgs(re),L)).getOrThunk(()=>{e.editorManager.setActive(e);const re=o().open(L,()=>{g(re)},()=>Vh(e));return d(re),c(),e.dispatch("OpenNotification",{notification:{...re}}),re})),A=()=>{r().each(L=>{o().close(L),g(L),c()})},M=we(t);return(L=>{L.on("SkinLoaded",()=>{const Y=q5(L);Y&&v({text:Y,type:"warning",timeout:0},!1),c()}),L.on("show ResizeEditor ResizeWindow NodeChange ToggleView FullscreenStateChanged",()=>{requestAnimationFrame(c)}),L.on("remove",()=>{Re(t.slice(),Y=>{o().close(Y)})}),L.addShortcut("alt+F12","Focus to notification",()=>r().map(Y=>me.fromDom(Y.getEl())).each(Y=>W_(Y)))})(e),{open:v,close:A,getNotifications:M}},sb=el.PluginManager,Bg=el.ThemeManager;var HM=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const hO=e=>{let t=[];const o=()=>{const X=e.theme;return X&&X.getWindowManagerImpl?X.getWindowManagerImpl():HM()},r=(X,ae)=>(...ye)=>ae?ae.apply(X,ye):void 0,a=X=>{e.dispatch("OpenWindow",{dialog:X})},c=X=>{e.dispatch("CloseWindow",{dialog:X})},d=X=>{t.push(X),a(X)},g=X=>{c(X),t=et(t,ae=>ae!==X),t.length===0&&e.focus()},v=()=>H.from(t[t.length-1]),A=X=>{e.editorManager.setActive(e),py(e),e.ui.show();const ae=X();return d(ae),ae},M=(X,ae)=>A(()=>o().open(X,ae,g)),I=X=>A(()=>o().openUrl(X,g)),L=(X,ae,ye)=>{const Se=o();Se.alert(X,r(ye||Se,ae))},Y=(X,ae,ye)=>{const Se=o();Se.confirm(X,r(ye||Se,ae))},re=()=>{v().each(X=>{o().close(X),g(X)})};return e.on("remove",()=>{Re(t,X=>{o().close(X)})}),{open:M,openUrl:I,alert:L,confirm:Y,close:re}},ew=(e,t)=>{e.notificationManager.open({type:"error",text:t})},tw=(e,t)=>{e._skinLoaded?ew(e,t):e.on("SkinLoaded",()=>{ew(e,t)})},bO=(e,t)=>{tw(e,Gc.translate(["Failed to upload image: {0}",t]))},Py=(e,t,o)=>{D_(e,t,{message:o}),console.error(o)},ab=(e,t,o)=>o?`Failed to load ${e}: ${o} from url ${t}`:`Failed to load ${e} url: ${t}`,FS=(e,t,o)=>{Py(e,"PluginLoadError",ab("plugin",t,o))},HS=(e,t,o)=>{Py(e,"IconsLoadError",ab("icons",t,o))},$M=(e,t,o)=>{Py(e,"LanguageLoadError",ab("language",t,o))},yO=(e,t,o)=>{Py(e,"ThemeLoadError",ab("theme",t,o))},VM=(e,t,o)=>{Py(e,"ModelLoadError",ab("model",t,o))},jM=(e,t,o)=>{const r=Gc.translate(["Failed to initialize plugin: {0}",t]);D_(e,"PluginLoadError",{message:r}),sv(r,o),tw(e,r)},sv=(e,...t)=>{const o=window.console;o&&(o.error?o.error(e,...t):o.log(e,...t))},$S=e=>/^[a-z0-9\-]+$/i.test(e),VS=e=>"content/"+e+"/content.css",ow=e=>tinymce.Resource.has(VS(e)),UM=e=>vO(e,Dl(e)),ZM=e=>vO(e,o3(e)),vO=(e,t)=>{const o=e.editorManager.baseURL+"/skins/content",a=`content${e.editorManager.suffix}.css`;return Jo(t,c=>ow(c)?c:$S(c)&&!e.inline?`${o}/${c}/${a}`:e.documentBaseURI.toAbsolute(c))},xO=e=>{e.contentCSS=e.contentCSS.concat(UM(e),ZM(e))},kO=e=>e?Vo(e.getElementsByTagName("img")):[],WM=(e,t)=>{const o={};return{findAll:(a,c=Co)=>{const d=et(kO(a),v=>{const A=v.src;return v.hasAttribute("data-mce-bogus")||v.hasAttribute("data-mce-placeholder")||!A||A===Fo.transparentSrc?!1:lr(A,"blob:")?!e.isUploaded(A)&&c(v):lr(A,"data:")?c(v):!1}),g=Jo(d,v=>{const A=v.src;if(po(o,A))return o[A].then(M=>mt(M)?M:{image:v,blobInfo:M.blobInfo});{const M=BC(t,A).then(I=>(delete o[A],{image:v,blobInfo:I})).catch(I=>(delete o[A],I));return o[A]=M,M}});return Promise.all(g)}}},jS=()=>{let o={};const r=(L,Y)=>({status:L,resultUri:Y}),a=L=>L in o;return{hasBlobUri:a,getResultUri:L=>{const Y=o[L];return Y?Y.resultUri:null},isPending:L=>a(L)?o[L].status===1:!1,isUploaded:L=>a(L)?o[L].status===2:!1,markPending:L=>{o[L]=r(1,null)},markUploaded:(L,Y)=>{o[L]=r(2,Y)},removeFailed:L=>{delete o[L]},destroy:()=>{o={}}}};let av=0;const wO=()=>{const e=()=>Math.round(pl()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},qM=e=>e+av+++wO(),_O=()=>{let e=[];const t=I=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[I.toLowerCase()]||"dat",o=(I,L,Y,re,X)=>{if(mt(I))return r({id:I,name:re,filename:X,blob:L,base64:Y});if(ce(I))return r(I);throw new Error("Unknown input type")},r=I=>{if(!I.blob||!I.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const L=I.id||qM("blobid"),Y=I.name||L,re=I.blob;return{id:we(L),name:we(Y),filename:we(I.filename||Y+"."+t(re.type)),blob:we(re),base64:we(I.base64),blobUri:we(I.blobUri||URL.createObjectURL(re)),uri:we(I.uri)}},a=I=>{d(I.id())||e.push(I)},c=I=>Tn(e,I).getOrUndefined(),d=I=>c(L=>L.id()===I);return{create:o,add:a,get:d,getByUri:I=>c(L=>L.blobUri()===I),getByData:(I,L)=>c(Y=>Y.base64()===I&&Y.blob().type===L),findFirst:c,removeByUri:I=>{e=et(e,L=>L.blobUri()===I?(URL.revokeObjectURL(L.blobUri()),!1):!0)},destroy:()=>{Re(e,I=>{URL.revokeObjectURL(I.blobUri())}),e=[]}}},CO=(e,t)=>{const o={},r=(X,ae)=>X?X.replace(/\/$/,"")+"/"+ae.replace(/^\//,""):ae,a=(X,ae)=>new Promise((ye,Se)=>{const _e=new XMLHttpRequest;_e.open("POST",t.url),_e.withCredentials=t.credentials,_e.upload.onprogress=ot=>{ae(ot.loaded/ot.total*100)},_e.onerror=()=>{Se("Image upload failed due to a XHR Transport error. Code: "+_e.status)},_e.onload=()=>{if(_e.status<200||_e.status>=300){Se("HTTP Error: "+_e.status);return}const ot=JSON.parse(_e.responseText);if(!ot||!mt(ot.location)){Se("Invalid JSON: "+_e.responseText);return}ye(r(t.basePath,ot.location))};const Ne=new FormData;Ne.append("file",X.blob(),X.filename()),_e.send(Ne)}),c=Pt(t.handler)?t.handler:a,d=()=>new Promise(X=>{X([])}),g=(X,ae)=>({url:ae,blobInfo:X,status:!0}),v=(X,ae)=>({url:"",blobInfo:X,status:!1,error:ae}),A=(X,ae)=>{ut.each(o[X],ye=>{ye(ae)}),delete o[X]},M=(X,ae,ye)=>(e.markPending(X.blobUri()),new Promise(Se=>{let _e,Ne;try{const ot=()=>{_e&&(_e.close(),Ne=Yt)},xt=Ze=>{ot(),e.markUploaded(X.blobUri(),Ze),A(X.blobUri(),g(X,Ze)),Se(g(X,Ze))},Mt=Ze=>{ot(),e.removeFailed(X.blobUri()),A(X.blobUri(),v(X,Ze)),Se(v(X,Ze))};Ne=Ze=>{Ze<0||Ze>100||H.from(_e).orThunk(()=>H.from(ye).map(Wr)).each(Ie=>{_e=Ie,Ie.progressBar.value(Ze)})},ae(X,Ne).then(xt,Ze=>{Mt(mt(Ze)?{message:Ze}:Ze)})}catch(ot){Se(v(X,ot))}})),I=X=>X===a,L=X=>{const ae=X.blobUri();return new Promise(ye=>{o[ae]=o[ae]||[],o[ae].push(ye)})},Y=(X,ae)=>(X=ut.grep(X,ye=>!e.isUploaded(ye.blobUri())),Promise.all(ut.map(X,ye=>e.isPending(ye.blobUri())?L(ye):M(ye,c,ae))));return{upload:(X,ae)=>!t.url&&I(c)?d():Y(X,ae)}},SO=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),EO=(e,t)=>CO(t,{url:qw(e),basePath:Q4(e),credentials:Gw(e),handler:U5(e)}),GM=e=>{const t=jS(),o=EO(e,t);return{upload:(r,a=!0)=>o.upload(r,a?SO(e):void 0)}},KM=(e,t)=>e.dom.isEmpty(t.dom)&&$e(e.schema.getTextBlockElements()[gn(t)]),AO=e=>t=>{KM(e,t)&&vs(t,me.fromHtml('<br data-mce-bogus="1" />'))},US=e=>{const t=_O();let o,r;const a=jS(),c=[],d=_e=>Ne=>e.selection?_e(Ne):[],g=_e=>_e+(_e.indexOf("?")===-1?"?":"&")+new Date().getTime(),v=(_e,Ne,ot)=>{let xt=0;do xt=_e.indexOf(Ne,xt),xt!==-1&&(_e=_e.substring(0,xt)+ot+_e.substr(xt+Ne.length),xt+=ot.length-Ne.length+1);while(xt!==-1);return _e},A=(_e,Ne,ot)=>{const xt=`src="${ot}"${ot===Fo.transparentSrc?' data-mce-placeholder="1"':""}`;return _e=v(_e,`src="${Ne}"`,xt),_e=v(_e,'data-mce-src="'+Ne+'"','data-mce-src="'+ot+'"'),_e},M=(_e,Ne)=>{Re(e.undoManager.data,ot=>{ot.type==="fragmented"?ot.fragments=Jo(ot.fragments,xt=>A(xt,_e,Ne)):ot.content=A(ot.content,_e,Ne)})},I=(_e,Ne)=>{const ot=e.convertURL(Ne,"src");M(_e.src,Ne),ni(me.fromDom(_e),{src:hp(e)?g(Ne):Ne,"data-mce-src":ot})},L=()=>(o||(o=EO(e,a)),ae().then(d(_e=>{const Ne=Jo(_e,ot=>ot.blobInfo);return o.upload(Ne,SO(e)).then(d(ot=>{const xt=[];let Mt=!1;const Ze=Jo(ot,(Ie,Qe)=>{const{blobInfo:Vt,image:oo}=_e[Qe];let nn=!1;return Ie.status&&X4(e)?(Ie.url&&!Bn(oo.src,Ie.url)&&(Mt=!0),t.removeByUri(oo.src),Om(e)||I(oo,Ie.url)):Ie.error&&(Ie.error.remove&&(M(oo.src,Fo.transparentSrc),xt.push(oo),nn=!0),bO(e,Ie.error.message)),{element:oo,status:Ie.status,uploadUri:Ie.url,blobInfo:Vt,removed:nn}});return xt.length>0&&!Om(e)?e.undoManager.transact(()=>{Re(Si(xt),Ie=>{const Qe=ka(Ie);Wn(Ie),Qe.each(AO(e)),t.removeByUri(Ie.dom.src)})}):Mt&&e.undoManager.dispatchChange(),Ze}))}))),Y=()=>Tr(e)?L():Promise.resolve([]),re=_e=>Nr(c,Ne=>Ne(_e)),X=_e=>{c.push(_e)},ae=()=>(r||(r=WM(a,t)),r.findAll(e.getBody(),re).then(d(_e=>{const Ne=et(_e,ot=>mt(ot)?(tw(e,ot),!1):ot.uriType!=="blob");return Om(e)||Re(Ne,ot=>{M(ot.image.src,ot.blobInfo.blobUri()),ot.image.src=ot.blobInfo.blobUri(),ot.image.removeAttribute("data-mce-src")}),Ne}))),ye=()=>{t.destroy(),a.destroy(),r=o=null},Se=_e=>_e.replace(/src="(blob:[^"]+)"/g,(Ne,ot)=>{const xt=a.getResultUri(ot);if(xt)return'src="'+xt+'"';let Mt=t.getByUri(ot);return Mt||(Mt=uo(e.editorManager.get(),(Ze,Ie)=>Ze||Ie.editorUpload&&Ie.editorUpload.blobCache.getByUri(ot),void 0)),Mt?'src="data:'+Mt.blob().type+";base64,"+Mt.base64()+'"':Ne});return e.on("SetContent",()=>{Tr(e)?Y():ae()}),e.on("RawSaveContent",_e=>{_e.content=Se(_e.content)}),e.on("GetContent",_e=>{_e.source_view||_e.format==="raw"||_e.format==="tree"||(_e.content=Se(_e.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",_e=>{Re(_e,Ne=>{const ot=Ne.attr("src");if(!ot||t.getByUri(ot))return;const xt=a.getResultUri(ot);xt&&Ne.attr("src",xt)})})}),{blobCache:t,addFilter:X,uploadImages:L,uploadImagesAuto:Y,scanForImages:ae,destroy:ye}},zO=e=>{const t=e.dom,o=e.schema.type,r={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:a=>{t.setStyle(a,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:a=>{t.setStyle(a,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const a={inline:"span",styles:{textDecoration:"line-through"},exact:!0},c={inline:"strike",remove:"all",preserve_attributes:["class","style"]},d={inline:"s",remove:"all",preserve_attributes:["class","style"]};return o!=="html4"?[d,a,c]:[a,d,c]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(a,c,d)=>jt(a)&&a.hasAttribute("href"),onformat:(a,c,d)=>{ut.each(d,(g,v)=>{t.setAttrib(a,v,g)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":a=>{var c;return(c=a==null?void 0:a.customValue)!==null&&c!==void 0?c:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return ut.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),a=>{r[a]={block:a,remove:"all"}}),r},ZS={remove_similar:!0,inherit:!1},ib={selector:"td,th",...ZS},TO={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...ib},tablecellverticalalign:{styles:{"vertical-align":"%value"},...ib},tablecellbordercolor:{styles:{borderColor:"%value"},...ib},tablecellclass:{classes:["%value"],...ib},tableclass:{selector:"table",classes:["%value"],...ZS},tablecellborderstyle:{styles:{borderStyle:"%value"},...ib},tablecellborderwidth:{styles:{borderWidth:"%value"},...ib}},YM=we(TO),WS=e=>{const t={},o=d=>$e(d)?t[d]:t,r=d=>po(t,d),a=(d,g)=>{d&&(mt(d)?(ve(g)||(g=[g]),Re(g,v=>{er(v.deep)&&(v.deep=!ed(v)),er(v.split)&&(v.split=!ed(v)||pi(v)),er(v.remove)&&ed(v)&&!pi(v)&&(v.remove="none"),ed(v)&&pi(v)&&(v.mixed=!0,v.block_expand=!0),mt(v.classes)&&(v.classes=v.classes.split(/\s+/))}),t[d]=g):Bo(d,(v,A)=>{a(A,v)}))},c=d=>(d&&t[d]&&delete t[d],t);return a(zO(e)),a(YM()),a(K5(e)),{get:o,has:r,register:a,unregister:c}},lb=ut.each,_c=zr.DOM,Ef=e=>$e(e)&&ce(e),iv=(e,t)=>{const o=t&&t.schema||qc({}),r=(v,A)=>{A.classes.length>0&&_c.addClass(v,A.classes.join(" ")),_c.setAttribs(v,A.attrs)},a=v=>{const A=mt(v)?{name:v,classes:[],attrs:{}}:v,M=_c.create(A.name);return r(M,A),M},c=(v,A)=>{const M=o.getElementRule(v.nodeName.toLowerCase()),I=M==null?void 0:M.parentsRequired;return I&&I.length?A&&on(I,A)?A:I[0]:!1},d=(v,A,M)=>{let I;const L=A[0],Y=Ef(L)?L.name:void 0,re=c(v,Y);if(re)Y===re?(I=L,A=A.slice(1)):I=re;else if(L)I=L,A=A.slice(1);else if(!M)return v;const X=I?a(I):_c.create("div");X.appendChild(v),M&&ut.each(M,ye=>{const Se=a(ye);X.insertBefore(Se,v)});const ae=Ef(I)?I.siblings:void 0;return d(X,A,ae)},g=_c.create("div");if(e.length>0){const v=e[0],A=a(v),M=Ef(v)?v.siblings:void 0;g.appendChild(d(A,e.slice(1),M))}return g},Ly=e=>{e=ut.trim(e);let t="div";const o={name:t,classes:[],attrs:{},selector:e};return e!=="*"&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(r,a,c,d,g)=>{switch(a){case"#":o.attrs.id=c;break;case".":o.classes.push(c);break;case":":ut.inArray("checked disabled enabled read-only required".split(" "),c)!==-1&&(o.attrs[c]=c);break}if(d==="["){const v=g.match(/([\w\-]+)(?:\=\"([^\"]+))?/);v&&(o.attrs[v[1]]=v[2])}return""})),o.name=t||"div",o},OO=e=>mt(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),ut.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),t=>{const o=ut.map(t.split(/(?:~\+|~|\+)/),Ly),r=o.pop();return o.length&&(r.siblings=o),r}).reverse()):[],DO=(e,t)=>{let o="",r=Y5(e);if(r==="")return"";const a=L=>mt(L)?L.replace(/%(\w+)/g,""):"",c=(L,Y)=>_c.getStyle(Y??e.getBody(),L,!0);if(mt(t)){const L=e.formatter.get(t);if(!L)return"";t=L[0]}if("preview"in t){const L=t.preview;if(L===!1)return"";r=L||r}let d=t.block||t.inline||"span",g;const v=OO(t.selector);v.length>0?(v[0].name||(v[0].name=d),d=t.selector,g=iv(v,e)):g=iv([d],e);const A=_c.select(d,g)[0]||g.firstChild;lb(t.styles,(L,Y)=>{const re=a(L);re&&_c.setStyle(A,Y,re)}),lb(t.attributes,(L,Y)=>{const re=a(L);re&&_c.setAttrib(A,Y,re)}),lb(t.classes,L=>{const Y=a(L);_c.hasClass(A,Y)||_c.addClass(A,Y)}),e.dispatch("PreviewFormats"),_c.setStyles(g,{position:"absolute",left:-65535}),e.getBody().appendChild(g);const M=c("fontSize"),I=/px$/.test(M)?parseInt(M,10):0;return lb(r.split(" "),L=>{let Y=c(L,A);if(!(L==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(Y)&&(Y=c(L),Jg(Y).toLowerCase()==="#ffffff"))&&!(L==="color"&&Jg(Y).toLowerCase()==="#000000")){if(L==="font-size"&&/em|%$/.test(Y)){if(I===0)return;Y=parseFloat(Y)/(/%$/.test(Y)?100:1)*I+"px"}L==="border"&&Y&&(o+="padding:0 2px;"),o+=L+":"+Y+";"}}),e.dispatch("AfterPreviewFormats"),_c.remove(g),o},qS=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},lv=e=>{const t=WS(e),o=Ms({});return qS(e),wz(e),Om(e)||Fz(o,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(r,a,c)=>{Pr(e,r,a,c)},remove:(r,a,c,d)=>{FT(e,r,a,c,d)},toggle:(r,a,c)=>{wS(e,r,a,c)},match:(r,a,c,d)=>pM(e,r,a,c,d),closest:r=>yM(e,r),matchAll:(r,a)=>gM(e,r,a),matchNode:(r,a,c,d)=>hM(e,r,a,c,d),canApply:r=>bM(e,r),formatChanged:(r,a,c,d)=>HT(e,o,r,a,c,d),getCssText:kt(DO,e)}},Dp=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},cb=(e,t,o)=>{const r=Ms(!1),a=v=>{Q0(t,!1,o),t.add({},v)};e.on("init",()=>{t.add()}),e.on("BeforeExecCommand",v=>{const A=v.command;Dp(A)||(gS(t,o),t.beforeChange())}),e.on("ExecCommand",v=>{const A=v.command;Dp(A)||a(v)}),e.on("ObjectResizeStart cut",()=>{t.beforeChange()}),e.on("SaveContent ObjectResized blur",a),e.on("dragend",a),e.on("keyup",v=>{const A=v.keyCode;if(v.isDefaultPrevented())return;const M=Fo.os.isMacOS()&&v.key==="Meta";(A>=33&&A<=36||A>=37&&A<=40||A===45||v.ctrlKey||M)&&(a(),e.nodeChanged()),(A===46||A===8)&&e.nodeChanged(),r.get()&&t.typing&&!My(Ny(e),t.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),r.set(!1),e.nodeChanged())}),e.on("keydown",v=>{const A=v.keyCode;if(v.isDefaultPrevented())return;if(A>=33&&A<=36||A>=37&&A<=40||A===45){t.typing&&a(v);return}const M=v.ctrlKey&&!v.altKey||v.metaKey;if((A<16||A>20)&&A!==224&&A!==91&&!t.typing&&!M){t.beforeChange(),Q0(t,!0,o),t.add({},v),r.set(!0);return}(Fo.os.isMacOS()?v.metaKey:v.ctrlKey&&!v.altKey)&&t.beforeChange()}),e.on("mousedown",v=>{t.typing&&a(v)});const c=v=>v.inputType==="insertReplacementText",d=v=>v.inputType==="insertText"&&v.data===null,g=v=>v.inputType==="insertFromPaste"||v.inputType==="insertFromDrop";e.on("input",v=>{v.inputType&&(c(v)||d(v)||g(v))&&a(v)}),e.on("AddUndo Undo Redo ClearUndos",v=>{v.isDefaultPrevented()||e.nodeChanged()})},RO=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},NO=e=>{const t=da(),o=Ms(0),r=Ms(0),a={data:[],typing:!1,beforeChange:()=>{By(e,o,t)},add:(c,d)=>iM(e,a,r,o,t,c,d),dispatchChange:()=>{e.setDirty(!0);const c=Ny(e);c.bookmark=It(e.selection),e.dispatch("change",{level:c,lastLevel:$s(a.data,r.get()).getOrUndefined()})},undo:()=>lM(e,a,o,r),redo:()=>PT(e,r,a.data),clear:()=>{LT(e,a,r)},reset:()=>{Xk(e,a)},hasUndo:()=>cM(e,a,r),hasRedo:()=>dM(e,a,r),transact:c=>uM(e,a,o,c),ignore:c=>{fM(e,o,c)},extra:(c,d)=>{mM(e,a,r,c,d)}};return Om(e)||cb(e,a,o),RO(e),a},MO=[9,27,Ot.HOME,Ot.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Ot.DOWN,Ot.UP,Ot.LEFT,Ot.RIGHT].concat(Fo.browser.isFirefox()?[224]:[]),BO="data-mce-placeholder",IO=e=>e.type==="keydown"||e.type==="keyup",PO=e=>{const t=e.keyCode;return t===Ot.BACKSPACE||t===Ot.DELETE},GS=e=>{if(IO(e)){const t=e.keyCode;return!PO(e)&&(Ot.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||on(MO,t))}else return!1},LO=e=>IO(e)&&!(PO(e)||e.type==="keyup"&&e.keyCode===229),XM=(e,t,o)=>{if(e.isEmpty(t,void 0,{skipBogus:!1,includeZwsp:!0})){const r=t.firstElementChild;return r?e.getStyle(t.firstElementChild,"padding-left")||e.getStyle(t.firstElementChild,"padding-right")?!1:o===r.nodeName.toLowerCase():!0}else return!1},FO=e=>{var t;const o=e.dom,r=ol(e),a=(t=Yw(e))!==null&&t!==void 0?t:"",c=(d,g)=>{if(GS(d))return;const v=e.getBody(),A=LO(d)?!1:XM(o,v,r);(o.getAttrib(v,BO)!==""!==A||g)&&(o.setAttrib(v,BO,A?a:null),bE(e,A),e.on(A?"keydown":"keyup",c),e.off(A?"keyup":"keydown",c))};pn(a)&&e.on("init",d=>{c(d,!0),e.on("change SetContent ExecCommand",c),e.on("paste",g=>od.setEditorTimeout(e,()=>c(g)))})},JM=(e,t)=>({block:e,position:t}),KS=(e,t)=>({from:e,to:t}),YS=(e,t)=>{const o=me.fromDom(e),r=me.fromDom(t.container());return M0(o,r).map(a=>JM(a,t))},HO=e=>!(Ra(e.to.block,e.from.block)||Ra(e.from.block,e.to.block)),XS=e=>!fn(e.from.block,e.to.block),JS=(e,t)=>zs(t,a=>Kc(a)||Zl(a.dom),a=>fn(a,e)).filter(hs).getOr(e),QS=(e,t)=>{const o=me.fromDom(e);return fn(JS(o,t.from.block),JS(o,t.to.block))},QM=e=>zo(e.from.block.dom)===!1&&zo(e.to.block.dom)===!1,$O=e=>{const t=o=>dh(o)||Xr(o.dom)||am(o);return t(e.from.block)&&t(e.to.block)},eB=(e,t,o,r)=>Zr(r.position.getNode())&&!us(e,r.block)?sy(!1,r.block.dom).bind(a=>a.isEqual(r.position)?Cd(o,t,a).bind(c=>YS(t,c)):H.some(r)).getOr(r):r,VO=(e,t,o,r)=>{const a=YS(t,Le.fromRangeStart(r)),c=a.bind(d=>Cd(o,t,d.position).bind(g=>YS(t,g).map(v=>eB(e,t,o,v))));return ia(a,c,KS).filter(d=>XS(d)&&QS(t,d)&&QM(d)&&$O(d)&&HO(d))},jO=(e,t,o,r)=>r.collapsed?VO(e,t,o,r):H.none(),tB=(e,t)=>{const o=Na(e);return or(o,r=>t.isBlock(gn(r))).fold(we(o),r=>o.slice(0,r))},UO=(e,t)=>{const o=tB(e,t);return Re(o,Wn),o},ZO=(e,t,o)=>{const r=nd(o,t);return Tn(r.reverse(),a=>us(e,a)).each(Wn)},oB=(e,t)=>et(Bc(t),o=>!us(e,o)).length===0,nB=(e,t,o,r,a)=>{if(us(r,o))return Yc(o),yo(o.dom);oB(r,a)&&us(r,t)&&Kr(a,me.fromTag("br"));const c=Qc(o.dom,Le.before(a.dom));return Re(UO(t,r),d=>{Kr(a,d)}),ZO(r,e,t),c},db=(e,t)=>e.isInline(gn(t)),WO=(e,t,o,r)=>{if(us(r,o)){if(us(r,t)){const d=Gt((g=>{const v=(A,M)=>Xi(A).fold(()=>M,I=>db(r,I)?v(I,M.concat(Is(I))):M);return v(g,[])})(o),(g,v)=>(Pi(g,v),v),Tu());kr(t),vs(t,d)}return Wn(o),yo(t.dom)}const a=Kd(o.dom);return Re(UO(t,r),c=>{vs(o,c)}),ZO(r,e,t),a},qO=(e,t)=>{const o=nd(t,e);return H.from(o[o.length-1])},GO=(e,t)=>Ra(t,e)?qO(t,e):H.none(),KO=(e,t)=>{sy(e,t.dom).bind(o=>H.from(o.getNode())).map(me.fromDom).filter(qd).each(Wn)},YO=(e,t,o,r)=>(KO(!0,t),KO(!1,o),GO(t,o).fold(kt(WO,e,t,o,r),kt(nB,e,t,o,r))),Rp=(e,t,o,r,a)=>t?YO(e,r,o,a):YO(e,o,r,a),nw=(e,t)=>{const o=me.fromDom(e.getBody());return jO(e.schema,o.dom,t,e.selection.getRng()).map(a=>()=>{Rp(o,t,a.from.block,a.to.block,e.schema).each(c=>{e.selection.setRng(c.toRange())})})},rw=(e,t,o)=>{const r=t.getRng();return ia(M0(e,me.fromDom(r.startContainer)),M0(e,me.fromDom(r.endContainer)),(a,c)=>fn(a,c)?H.none():H.some(()=>{r.deleteContents(),Rp(e,!0,a,c,o).each(d=>{t.setRng(d.toRange())})})).getOr(H.none())},XO=(e,t)=>{const o=me.fromDom(t),r=kt(fn,e);return _i(o,Kc,r).isSome()},JO=(e,t)=>XO(e,t.startContainer)||XO(e,t.endContainer),rB=(e,t)=>{const o=Qc(e.dom,Le.fromRangeStart(t)).isNone(),r=Kl(e.dom,Le.fromRangeEnd(t)).isNone();return!JO(e,t)&&o&&r},sB=e=>H.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),e4=e=>{const t=me.fromDom(e.getBody()),o=e.selection.getRng();return rB(t,o)?sB(e):rw(t,e.selection,e.schema)},t4=(e,t)=>e.selection.isCollapsed()?H.none():e4(e),ws=(e,t,o,r,a)=>H.from(t._selectionOverrides.showCaret(e,o,r,a)),aB=e=>{const t=e.ownerDocument.createRange();return t.selectNode(e),t},cv=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?H.none():H.some(aB(t)),o4=(e,t,o)=>{const r=m_(1,e.getBody(),t),a=Le.fromRangeStart(r),c=a.getNode();if($1(c))return ws(1,e,c,!a.isAtEnd(),!1);const d=a.getNode(!0);if($1(d))return ws(1,e,d,!1,!1);const g=nu(e.dom.getRoot(),a.getNode());return $1(g)?ws(1,e,g,!1,o):H.none()},sw=(e,t,o)=>t.collapsed?o4(e,t,o).getOr(t):t,n4=e=>Pa(e)||Zh(e),iB=e=>Cf(e)||vy(e),lB=(e,t)=>{pt(t)&&t.data.length===0&&e.remove(t)},QO=(e,t,o,r,a,c)=>{ws(r,e,c.getNode(!a),a,!0).each(d=>{if(t.collapsed){const g=t.cloneRange();a?g.setEnd(d.startContainer,d.startOffset):g.setStart(d.endContainer,d.endOffset),g.deleteContents()}else t.deleteContents();e.selection.setRng(d)}),lB(e.dom,o)},cB=(e,t)=>{const o=e.selection.getRng();if(!pt(o.commonAncestorContainer))return H.none();const r=t?$i.Forwards:$i.Backwards,a=fo(e.getBody()),c=kt(p_,t?a.next:a.prev),d=t?n4:iB,g=W1(r,e.getBody(),o),v=c(g),A=v&&ou(t,v);if(!A||!ix(g,A))return H.none();if(d(A))return H.some(()=>QO(e,o,g.getNode(),r,t,A));const M=c(A);return M&&d(M)&&ix(A,M)?H.some(()=>QO(e,o,g.getNode(),r,t,M)):H.none()},r4=(e,t)=>cB(e,t),s4=(e,t)=>{const o=e.getBody();return t?yo(o).filter(Pa):Kd(o).filter(Cf)},a4=e=>{const t=e.selection.getRng();return!t.collapsed&&(s4(e,!0).exists(o=>o.isEqual(Le.fromRangeStart(t)))||s4(e,!1).exists(o=>o.isEqual(Le.fromRangeEnd(t))))},Fy=e=>$e(e)&&(Kc(me.fromDom(e))||am(me.fromDom(e))),Ja=xn.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),dB=(e,t)=>{const o=t.getNode(!e),r=e?"after":"before";return jt(o)&&o.getAttribute("data-mce-caret")===r},uB=(e,t,o,r,a)=>{const c=d=>a.isInline(d.nodeName.toLowerCase())&&!pm(o,r,e);return B3(!t,o).fold(()=>B3(t,r).fold(yn,c),c)},eD=(e,t,o,r,a)=>{const c=a.getNode(!o);return M0(me.fromDom(t),me.fromDom(r.getNode())).map(d=>us(e,d)?Ja.remove(d.dom):Ja.moveToElement(c)).orThunk(()=>H.some(Ja.moveToElement(c)))},tD=(e,t,o,r)=>Cd(t,e,o).bind(a=>Fy(a.getNode())||uB(e,t,o,a,r)?H.none():t&&zo(a.getNode())||!t&&zo(a.getNode(!0))?eD(r,e,t,o,a):t&&Cf(o)||!t&&Pa(o)?H.some(Ja.moveToPosition(a)):H.none()),fB=(e,t)=>Io(t)?H.none():e&&zo(t.nextSibling)?H.some(Ja.moveToElement(t.nextSibling)):!e&&zo(t.previousSibling)?H.some(Ja.moveToElement(t.previousSibling)):H.none(),mB=(e,t,o)=>o.fold(r=>H.some(Ja.remove(r)),r=>H.some(Ja.moveToElement(r)),r=>pm(t,r,e)?H.none():H.some(Ja.moveToPosition(r))),pB=(e,t,o,r)=>dB(t,o)?fB(t,o.getNode(!t)).orThunk(()=>tD(e,t,o,r)):tD(e,t,o,r).bind(a=>mB(e,o,a)),gB=(e,t,o,r)=>{const a=m_(t?1:-1,e,o),c=Le.fromRangeStart(a),d=me.fromDom(e);return!t&&Cf(c)?H.some(Ja.remove(c.getNode(!0))):t&&Pa(c)?H.some(Ja.remove(c.getNode())):!t&&Pa(c)&&qh(d,c,r)?qx(d,c,r).map(g=>Ja.remove(g.getNode())):t&&Cf(c)&&T0(d,c,r)?CA(d,c,r).map(g=>Ja.remove(g.getNode())):pB(e,t,c,r)},hB=(e,t)=>o=>(e._selectionOverrides.hideFakeCaret(),bl(e,t,me.fromDom(o)),!0),bB=(e,t)=>o=>{const r=t?Le.before(o):Le.after(o);return e.selection.setRng(r.toRange()),!0},yB=e=>t=>(e.selection.setRng(t.toRange()),!0),oD=(e,t)=>H.from(nu(e.getBody(),t)),vB=(e,t)=>{const o=e.selection.getNode();return oD(e,o).filter(zo).fold(()=>gB(e.getBody(),t,e.selection.getRng(),e.schema).map(r=>()=>r.fold(hB(e,t),bB(e,t),yB(e))),()=>H.some(Yt))},xB=e=>{Re(qs(e,".mce-offscreen-selection"),Wn)},kB=(e,t)=>{const o=e.selection.getNode();return zo(o)&&!Ju(o)?oD(e,o.parentNode).filter(zo).fold(()=>H.some(()=>{xB(me.fromDom(e.getBody())),bl(e,t,me.fromDom(e.selection.getNode())),Jx(e)}),()=>H.some(Yt)):a4(e)?H.some(()=>{Qx(e,e.selection.getRng(),me.fromDom(e.getBody()))}):H.none()},nD=e=>{const t=e.dom,o=e.selection,r=nu(e.getBody(),o.getNode());if(Zl(r)&&t.isBlock(r)&&t.isEmpty(r)){const a=t.create("br",{"data-mce-bogus":"1"});t.setHTML(r,""),r.appendChild(a),o.setRng(Le.before(a).toRange())}return!0},i4=(e,t)=>e.selection.isCollapsed()?vB(e,t):kB(e,t),rD=e=>e.hasOwnProperty("text"),sD=e=>e.hasOwnProperty("marker"),aD=(e,t)=>{const o=(c,d)=>{if(pt(c))return{text:c,offset:d};{const g=t(),v=c.childNodes;return d<v.length?(c.insertBefore(g,v[d]),{marker:g,before:!0}):(c.appendChild(g),{marker:g,before:!1})}},r=o(e.endContainer,e.endOffset);return{start:o(e.startContainer,e.startOffset),end:r}},iD=e=>{var t,o;const{start:r,end:a}=e,c=new window.Range;return rD(r)?c.setStart(r.text,r.offset):sD(r)&&(r.before?c.setStartBefore(r.marker):c.setStartAfter(r.marker),(t=r.marker.parentNode)===null||t===void 0||t.removeChild(r.marker)),rD(a)?c.setEnd(a.text,a.offset):sD(a)&&(a.before?c.setEndBefore(a.marker):c.setEndAfter(a.marker),(o=a.marker.parentNode)===null||o===void 0||o.removeChild(a.marker)),c},l4=(e,t)=>{var o;const r=e.dom,a=r.getParent(e.selection.getStart(),r.isBlock),c=r.getParent(e.selection.getEnd(),r.isBlock),d=e.getBody();if(((o=a==null?void 0:a.nodeName)===null||o===void 0?void 0:o.toLowerCase())==="div"&&a&&c&&a===d.firstChild&&c===d.lastChild&&!r.isEmpty(d)){const v=a.cloneNode(!1),A=()=>{if(t?D2(e):Xx(e),d.firstChild!==a){const M=aD(e.selection.getRng(),()=>document.createElement("span"));Array.from(d.childNodes).forEach(I=>v.appendChild(I)),d.appendChild(v),e.selection.setRng(iD(M))}};return H.some(A)}return H.none()},wB=(e,t)=>{const o=Le.fromRangeStart(e.selection.getRng());return Cd(t,e.getBody(),o).filter(r=>t?yA(r):vA(r)).bind(r=>sx(t?0:-1,r)).map(r=>()=>e.selection.select(r))},c4=(e,t)=>e.selection.isCollapsed()?wB(e,t):H.none(),Hy=pt,lD=e=>Hy(e)&&e.data[0]===Sa,cD=e=>Hy(e)&&e.data[e.data.length-1]===Sa,dD=e=>{var t;return((t=e.ownerDocument)!==null&&t!==void 0?t:document).createTextNode(Sa)},_B=e=>{var t;if(Hy(e.previousSibling))return cD(e.previousSibling)||e.previousSibling.appendData(Sa),e.previousSibling;if(Hy(e))return lD(e)||e.insertData(0,Sa),e;{const o=dD(e);return(t=e.parentNode)===null||t===void 0||t.insertBefore(o,e),o}},CB=e=>{var t,o;if(Hy(e.nextSibling))return lD(e.nextSibling)||e.nextSibling.insertData(0,Sa),e.nextSibling;if(Hy(e))return cD(e)||e.appendData(Sa),e;{const r=dD(e);return e.nextSibling?(t=e.parentNode)===null||t===void 0||t.insertBefore(r,e.nextSibling):(o=e.parentNode)===null||o===void 0||o.appendChild(r),r}},aw=(e,t)=>e?_B(t):CB(t),uD=kt(aw,!0),SB=kt(aw,!1),fD=(e,t)=>pt(e.container())?aw(t,e.container()):aw(t,e.getNode()),mD=(e,t)=>{const o=t.get();return o&&e.container()===o&&im(o)},d4=(e,t)=>t.fold(o=>{ag(e.get());const r=uD(o);return e.set(r),H.some(Le(r,r.length-1))},o=>yo(o).map(r=>{if(mD(r,e)){const a=e.get();return Le(a,1)}else{ag(e.get());const a=fD(r,!0);return e.set(a),Le(a,1)}}),o=>Kd(o).map(r=>{if(mD(r,e)){const a=e.get();return Le(a,a.length-1)}else{ag(e.get());const a=fD(r,!1);return e.set(a),Le(a,a.length-1)}}),o=>{ag(e.get());const r=SB(o);return e.set(r),H.some(Le(r,1))}),pD=(e,t)=>{for(let o=0;o<e.length;o++){const r=e[o].apply(null,t);if(r.isSome())return r}return H.none()},Xl=xn.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),gD=(e,t)=>{const o=ig(t,e);return o||e},EB=(e,t,o)=>{const r=jA(o),a=gD(t,r.container());return kg(e,a,r).fold(()=>Kl(a,r).bind(kt(kg,e,a)).map(c=>Xl.before(c)),H.none)},hD=(e,t)=>lg(e,t)===null,bD=(e,t,o)=>kg(e,t,o).filter(kt(hD,t)),AB=(e,t,o)=>{const r=Cy(o);return bD(e,t,r).bind(a=>Qc(a,r).isNone()?H.some(Xl.start(a)):H.none())},zB=(e,t,o)=>{const r=jA(o);return bD(e,t,r).bind(a=>Kl(a,r).isNone()?H.some(Xl.end(a)):H.none())},TB=(e,t,o)=>{const r=Cy(o),a=gD(t,r.container());return kg(e,a,r).fold(()=>Qc(a,r).bind(kt(kg,e,a)).map(c=>Xl.after(c)),H.none)},yD=e=>!R0(u4(e)),Dm=(e,t,o)=>pD([EB,AB,zB,TB],[e,t,o]).filter(yD),u4=e=>e.fold(At,At,At,At),vD=e=>e.fold(we("before"),we("start"),we("end"),we("after")),dv=e=>e.fold(Xl.before,Xl.before,Xl.after,Xl.after),iw=e=>e.fold(Xl.start,Xl.start,Xl.end,Xl.end),OB=(e,t)=>vD(e)===vD(t)&&u4(e)===u4(t),xD=(e,t,o,r,a,c)=>ia(kg(t,o,r),kg(t,o,a),(d,g)=>d!==g&&VA(o,d,g)?Xl.after(e?d:g):c).getOr(c),DB=(e,t)=>e.fold(Co,o=>!OB(o,t)),RB=(e,t,o,r,a)=>{const c=ou(e,a);return Cd(e,o,c).map(kt(ou,e)).fold(()=>r.map(dv),v=>Dm(t,o,v).map(kt(xD,e,t,o,c,v)).filter(kt(DB,r))).filter(yD)},NB=(e,t)=>e?t.fold(Lo(H.some,Xl.start),H.none,Lo(H.some,Xl.after),H.none):t.fold(H.none,Lo(H.some,Xl.before),H.none,Lo(H.some,Xl.end)),MB=(e,t,o,r)=>{const a=ou(e,r),c=Dm(t,o,a);return Dm(t,o,a).bind(kt(NB,e)).orThunk(()=>RB(e,t,o,c,r))},BB=e=>Pt(e.selection.getSel().modify),kD=(e,t,o)=>{const r=e?1:-1;return t.setRng(Le(o.container(),o.offset()+r).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},f4=(e,t)=>{const o=t.selection.getRng(),r=e?Le.fromRangeEnd(o):Le.fromRangeStart(o);return BB(t)?e&&mh(r)?kD(!0,t.selection,r):!e&&Vb(r)?kD(!1,t.selection,r):!1:!1};var $u;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})($u||($u={}));const lw=(e,t)=>e===$i.Backwards?Js(t):t,wD=(e,t,o)=>e===$i.Forwards?t.next(o):t.prev(o),IB=(e,t,o,r)=>Zr(r.getNode(t===$i.Forwards))?$u.Br:pm(o,r)===!1?$u.Block:$u.Wrap,_D=(e,t,o,r)=>{const a=fo(o);let c=r;const d=[];for(;c;){const g=wD(t,a,c);if(!g)break;if(Zr(g.getNode(!1)))return t===$i.Forwards?{positions:lw(t,d).concat([g]),breakType:$u.Br,breakAt:H.some(g)}:{positions:lw(t,d),breakType:$u.Br,breakAt:H.some(g)};if(!g.isVisible()){c=g;continue}if(e(c,g)){const v=IB(o,t,c,g);return{positions:lw(t,d),breakType:v,breakAt:H.some(g)}}d.push(g),c=g}return{positions:lw(t,d),breakType:$u.Eol,breakAt:H.none()}},CD=(e,t,o,r)=>t(o,r).breakAt.map(a=>{const c=t(o,a).positions;return e===$i.Backwards?c.concat(a):[a].concat(c)}).getOr([]),m4=(e,t)=>uo(e,(o,r)=>o.fold(()=>H.some(r),a=>ia(dt(a.getClientRects()),dt(r.getClientRects()),(c,d)=>{const g=Math.abs(t-c.left);return Math.abs(t-d.left)<=g?r:a}).or(o)),H.none()),cw=(e,t)=>dt(t.getClientRects()).bind(o=>m4(e,o.left)),uv=kt(_D,Le.isAbove,-1),fv=kt(_D,Le.isBelow,1),SD=kt(CD,-1,uv),dw=kt(CD,1,fv),ED=(e,t)=>uv(e,t).breakAt.isNone(),AD=(e,t)=>fv(e,t).breakAt.isNone(),PB=e=>yo(e).map(t=>[t].concat(fv(e,t).positions)).getOr([]),zD=e=>Kd(e).map(t=>uv(e,t).positions.concat(t)).getOr([]),ub=(e,t)=>cw(SD(e,t),t),LB=(e,t)=>cw(dw(e,t),t),FB=zo,TD=(e,t)=>Math.abs(e.left-t),Cc=(e,t)=>Math.abs(e.right-t),OD=e=>ha(e,"node"),DD=(e,t)=>ja(e,(o,r)=>{const a=Math.min(TD(o,t),Cc(o,t)),c=Math.min(TD(r,t),Cc(r,t));return c===a&&OD(r)&&FB(r.node)||c<a?r:o}),HB=e=>{const t=o=>Jo(o,r=>{const a=cf(r);return a.node=e,a});if(jt(e))return t(e.getClientRects());if(pt(e)){const o=e.ownerDocument.createRange();return o.setStart(e,0),o.setEnd(e,e.data.length),t(o.getClientRects())}else return[]},RD=e=>vn(e,HB);var mv;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(mv||(mv={}));const $B=(e,t,o,r)=>{let a=r;for(;a=j1(a,e,vh,t);)if(o(a))return},p4=(e,t,o,r,a,c)=>{let d=0;const g=[],v=I=>{let L=RD([I]);e===-1&&(L=L.reverse());for(let Y=0;Y<L.length;Y++){const re=L[Y];if(!o(re,A)){if(g.length>0&&t(re,Ss(g))&&d++,re.line=d,a(re))return!0;g.push(re)}}return!1},A=Ss(c.getClientRects());if(!A)return g;const M=c.getNode();return M&&(v(M),$B(e,r,v,M)),g},VB=(e,t)=>t.line>e,jB=(e,t)=>t.line===e,UB=kt(p4,mv.Up,ff,mp),ZB=kt(p4,mv.Down,mp,ff),ND=e=>Ss(e.getClientRects()),$y=(e,t,o,r)=>{const a=fo(t);let c,d,g,v;const A=[];let M=0;e===1?(c=a.next,d=mp,g=ff,v=Le.after(r)):(c=a.prev,d=ff,g=mp,v=Le.before(r));const I=ND(v);do{if(!v.isVisible())continue;const L=ND(v);if(g(L,I))continue;A.length>0&&d(L,Ss(A))&&M++;const Y=cf(L);if(Y.position=v,Y.line=M,o(Y))return A;A.push(Y)}while(v=c(v));return A},g4=e=>t=>VB(e,t),Vy=e=>t=>jB(e,t),Af=(e,t)=>{e.selection.setRng(t),Jd(e,e.selection.getRng())},uw=(e,t,o)=>H.some(sw(e,t,o)),h4=(e,t,o,r,a,c)=>{const d=t===$i.Forwards,g=fo(e.getBody()),v=kt(p_,d?g.next:g.prev),A=d?r:a;if(!o.collapsed){const re=tg(o);if(c(re))return ws(t,e,re,t===$i.Backwards,!1);if(a4(e)){const X=o.cloneRange();return X.collapse(t===$i.Backwards),H.from(X)}}const M=W1(t,e.getBody(),o);if(A(M))return cv(e,M.getNode(!d));let I=v(M);const L=fp(o);if(I)I=ou(d,I);else return L?H.some(o):H.none();if(A(I))return ws(t,e,I.getNode(!d),d,!1);const Y=v(I);return Y&&A(Y)&&ix(I,Y)?ws(t,e,Y.getNode(!d),d,!1):L?uw(e,I.toRange(),!1):H.none()},MD=(e,t,o,r,a,c)=>{const d=W1(t,e.getBody(),o),g=Ss(d.getClientRects()),v=t===mv.Down,A=e.getBody();if(!g)return H.none();if(a4(e)){const ae=v?Le.fromRangeEnd(o):Le.fromRangeStart(o);return(v?LB:ub)(A,ae).orThunk(()=>H.from(ae)).map(Se=>Se.toRange())}const I=(v?ZB:UB)(A,g4(1),d),L=et(I,Vy(1)),Y=g.left,re=DD(L,Y);if(re&&c(re.node)){const ae=Math.abs(Y-re.left),ye=Math.abs(Y-re.right);return ws(t,e,re.node,ae<ye,!1)}let X;if(r(d)?X=d.getNode():a(d)?X=d.getNode(!0):X=tg(o),X){const ae=$y(t,A,g4(1),X);let ye=DD(et(ae,Vy(1)),Y);if(ye||(ye=Ss(et(ae,Vy(0))),ye))return uw(e,ye.position.toRange(),!1)}return L.length===0?fw(e,v).filter(v?a:r).map(ae=>sw(e,ae.toRange(),!1)):H.none()},fw=(e,t)=>{const o=e.selection.getRng(),r=t?Le.fromRangeEnd(o):Le.fromRangeStart(o),a=bR(r.container(),e.getBody());if(t){const c=fv(a,r);return no(c.positions)}else{const c=uv(a,r);return dt(c.positions)}},BD=(e,t,o)=>fw(e,t).filter(o).exists(r=>(e.selection.setRng(r.toRange()),!0)),pv=(e,t)=>{const o=e.dom.createRng();o.setStart(t.container(),t.offset()),o.setEnd(t.container(),t.offset()),e.selection.setRng(o)},b4=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},y4=(e,t,o)=>d4(t,o).map(r=>(pv(e,r),o)),ID=(e,t,o)=>{const r=Le.fromRangeStart(e);if(e.collapsed)return r;{const a=Le.fromRangeEnd(e);return o?Qc(t,a).getOr(a):Kl(t,r).getOr(r)}},PD=(e,t,o)=>{const r=e.getBody(),a=ID(e.selection.getRng(),r,o),c=kt(Kh,e);return MB(o,c,r,a).bind(g=>y4(e,t,g))},LD=(e,t,o)=>{const r=Jo(qs(me.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),d=>d.dom),a=et(r,e),c=et(o,e);Re(Vn(a,c),kt(b4,!1)),Re(Vn(c,a),kt(b4,!0))},v4=(e,t)=>{const o=t.get();if(e.selection.isCollapsed()&&!e.composing&&o){const r=Le.fromRangeStart(e.selection.getRng());Le.isTextPosition(r)&&!T2(r)&&(pv(e,pR(o,r)),t.set(null))}},FD=(e,t,o,r)=>{if(t.selection.isCollapsed()){const a=et(r,e);Re(a,c=>{const d=Le.fromRangeStart(t.selection.getRng());Dm(e,t.getBody(),d).bind(g=>y4(t,o,g))})}},x4=(e,t,o)=>oy(e)?PD(e,t,o).isSome():!1,k4=(e,t,o)=>oy(t)?f4(e,t):!1,HD=e=>{const t=Ms(null),o=kt(Kh,e);return e.on("NodeChange",r=>{oy(e)&&(LD(o,e.dom,r.parents),v4(e,t),FD(o,e,t,r.parents))}),t},$D=kt(k4,!0),VD=kt(k4,!1),gv=(e,t,o)=>{if(oy(e)){const r=fw(e,t).getOrThunk(()=>{const a=e.selection.getRng();return t?Le.fromRangeEnd(a):Le.fromRangeStart(a)});return Dm(kt(Kh,e),e.getBody(),r).exists(a=>{const c=dv(a);return d4(o,c).exists(d=>(pv(e,d),!0))})}else return!1},w4=(e,t)=>{const o=document.createRange();return o.setStart(e.container(),e.offset()),o.setEnd(t.container(),t.offset()),o},_4=e=>ia(yo(e),Kd(e),(t,o)=>{const r=ou(!0,t),a=ou(!1,o);return Kl(e,r).forall(c=>c.isEqual(a))}).getOr(!0),hv=(e,t)=>o=>d4(t,o).map(r=>()=>pv(e,r)),C4=(e,t,o,r)=>{const a=e.getBody(),c=kt(Kh,e);e.undoManager.ignore(()=>{e.selection.setRng(w4(o,r)),Xx(e),Dm(c,a,Le.fromRangeStart(e.selection.getRng())).map(iw).bind(hv(e,t)).each(Nn)}),e.nodeChanged()},jD=(e,t)=>{const o=ig(t,e);return o||e},UD=(e,t,o,r)=>{const a=jD(e.getBody(),r.container()),c=kt(Kh,e),d=Dm(c,a,r);return d.bind(v=>o?v.fold(we(H.some(iw(v))),H.none,we(H.some(dv(v))),H.none):v.fold(H.none,we(H.some(dv(v))),H.none,we(H.some(iw(v))))).map(hv(e,t)).getOrThunk(()=>{const v=Rh(o,a,r),A=v.bind(M=>Dm(c,a,M));return ia(d,A,()=>kg(c,a,r).bind(M=>_4(M)?H.some(()=>{bl(e,o,me.fromDom(M))}):H.none())).getOrThunk(()=>A.bind(()=>v.map(M=>()=>{o?C4(e,t,r,M):C4(e,t,M,r)})))})},bv=(e,t,o)=>{if(e.selection.isCollapsed()&&oy(e)){const r=Le.fromRangeStart(e.selection.getRng());return UD(e,t,o,r)}return H.none()},ZD=e=>ud(e)>1,S4=(e,t)=>{const o=me.fromDom(e.getBody()),r=me.fromDom(e.selection.getStart()),a=nd(r,o);return or(a,t).fold(we(a),c=>a.slice(0,c))},WD=e=>ud(e)===1,WB=e=>S4(e,t=>e.schema.isBlock(gn(t))||ZD(t)),qD=e=>S4(e,t=>e.schema.isBlock(gn(t))),E4=(e,t)=>{const o=kt(Ay,e);return vn(t,r=>o(r)?[r.dom]:[])},yv=e=>{const t=qD(e);return E4(e,t)},GD=(e,t,o,r)=>{const a=E4(t,r);if(a.length===0)bl(t,e,o);else{const c=mC(o.dom,a);t.selection.setRng(c.toRange())}},KD=(e,t)=>{const o=et(WB(e),WD);return no(o).bind(r=>{const a=Le.fromRangeStart(e.selection.getRng());return WA(t,a,r.dom)&&!bx(r)?H.some(()=>GD(t,e,r,o)):H.none()})},A4=(e,t)=>{const o=t.parentElement;return Zr(t)&&!ct(o)&&e.dom.isEmpty(o)},qB=e=>bx(me.fromDom(e)),z4=(e,t)=>{const o=e.selection.getStart(),r=A4(e,o)||qB(o)?mC(o,t):t6(e.selection.getRng(),t);e.selection.setRng(r.toRange())},GB=(e,t)=>{const o=Vn(t,yv(e));o.length>0&&z4(e,o)},T4=e=>pt(e.startContainer),YD=e=>e.startOffset===0&&T4(e),KB=(e,t)=>{const o=t.startContainer.parentElement;return!ct(o)&&Ay(e,me.fromDom(o))},YB=e=>{const t=e.startContainer.parentNode,o=e.endContainer.parentNode;return!ct(t)&&!ct(o)&&t.isEqualNode(o)},n=e=>{const t=e.endContainer;return e.endOffset===(pt(t)?t.length:t.childNodes.length)},s=e=>YB(e)&&n(e),i=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),l=e=>s(e)||i(e),u=e=>{const t=e.selection.getRng();return YD(t)&&KB(e,t)&&l(t)},f=e=>{if(u(e)){const t=yv(e);return H.some(()=>{Xx(e),GB(e,t)})}else return H.none()},p=(e,t)=>e.selection.isCollapsed()?KD(e,t):f(e),b=(e,t)=>jg(e,o=>Sd(o.dom),o=>t.isBlock(gn(o))),y=e=>b(me.fromDom(e.selection.getStart()),e.schema),w=e=>{const t=e.selection.getRng();return t.collapsed&&(T4(t)||e.dom.isEmpty(t.startContainer))&&!y(e)},E=e=>(w(e)&&z4(e,[]),!0),C=(e,t,o)=>$e(o)?H.some(()=>{e._selectionOverrides.hideFakeCaret(),bl(e,t,me.fromDom(o))}):H.none(),O=(e,t)=>{const o=t?Zh:vy,r=t?$i.Forwards:$i.Backwards,a=W1(r,e.getBody(),e.selection.getRng());return o(a)?C(e,t,a.getNode(!t)):H.from(ou(t,a)).filter(c=>o(c)&&ix(a,c)).bind(c=>C(e,t,c.getNode(!t)))},B=(e,t)=>{const o=e.selection.getNode();return je(o)?C(e,t,o):H.none()},P=(e,t)=>e.selection.isCollapsed()?O(e,t):B(e,t),Z=e=>zs(e,t=>Zl(t.dom)||zo(t.dom)).exists(t=>Zl(t.dom)),K=e=>Us(e??"").getOr(0),oe=(e,t)=>{const o=e||ch(t)?"margin":"padding",r=ys(t,"direction")==="rtl"?"-right":"-left";return o+r},q=(e,t,o,r,a,c)=>{const d=oe(o,me.fromDom(c)),g=K(e.getStyle(c,d));if(t==="outdent"){const v=Math.max(0,g-r);e.setStyle(c,d,v?v+a:"")}else{const v=g+r+a;e.setStyle(c,d,v)}},W=(e,t)=>Nr(t,o=>{const r=oe(t3(e),o),a=Gr(o,r).map(K).getOr(0);return e.dom.getContentEditable(o.dom)!=="false"&&a>0}),J=e=>{const t=be(e);return!e.mode.isReadOnly()&&(t.length>1||W(e,t))},ne=e=>uh(e)||am(e),se=e=>ka(e).exists(ne),be=e=>et(Si(e.selection.getSelectedBlocks()),t=>!ne(t)&&!se(t)&&Z(t)),Ee=(e,t)=>{var o,r;const{dom:a}=e,c=_d(e),d=(r=(o=/[a-z%]+$/i.exec(c))===null||o===void 0?void 0:o[0])!==null&&r!==void 0?r:"px",g=K(c),v=t3(e);Re(be(e),A=>{q(a,t,v,g,d,A.dom)})},qe=e=>Ee(e,"indent"),Ue=e=>Ee(e,"outdent"),Fe=e=>{if(e.selection.isCollapsed()&&J(e)){const t=e.dom,o=e.selection.getRng(),r=Le.fromRangeStart(o),a=t.getParent(o.startContainer,t.isBlock);if(a!==null&&Wx(me.fromDom(a),r,e.schema))return H.some(()=>Ue(e))}return H.none()},gt=(e,t,o)=>Rs([Fe,i4,r4,(r,a)=>bv(r,t,a),nw,Ep,c4,P,t4,p,l4],r=>r(e,o)).filter(r=>e.selection.isEditable()),Rt=(e,t)=>{gt(e,t,!1).fold(()=>{e.selection.isEditable()&&(Xx(e),Jx(e))},Nn)},Zt=(e,t)=>{gt(e,t,!0).fold(()=>{e.selection.isEditable()&&D2(e)},Nn)},ro=(e,t)=>{e.addCommand("delete",()=>{Rt(e,t)}),e.addCommand("forwardDelete",()=>{Zt(e,t)})},Ao=5,ln=400,Lr=e=>e.touches===void 0||e.touches.length!==1?H.none():H.some(e.touches[0]),ts=(e,t)=>{const o=Math.abs(e.clientX-t.x),r=Math.abs(e.clientY-t.y);return o>Ao||r>Ao},Wo=e=>{const t=da(),o=Ms(!1),r=Xp(a=>{e.dispatch("longpress",{...a,type:"longpress"}),o.set(!0)},ln);e.on("touchstart",a=>{Lr(a).each(c=>{r.cancel();const d={x:c.clientX,y:c.clientY,target:a.target};r.throttle(a),o.set(!1),t.set(d)})},!0),e.on("touchmove",a=>{r.cancel(),Lr(a).each(c=>{t.on(d=>{ts(c,d)&&(t.clear(),o.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",a=>{r.cancel(),a.type!=="touchcancel"&&t.get().filter(c=>c.target.isEqualNode(a.target)).each(()=>{o.get()?a.preventDefault():e.dispatch("tap",{...a,type:"tap"})})},!0)},En=(e,t)=>po(e,t.nodeName),co=(e,t)=>pt(t)?!0:jt(t)?!En(e.getBlockElements(),t)&&!Ed(t)&&!Uc(e,t)&&!ua(t):!1,os=(e,t,o)=>zn(xc(me.fromDom(o),me.fromDom(t)),r=>En(e,r.dom)),ur=(e,t)=>{if(pt(t)){if(t.data.length===0)return!0;if(/^\s+$/.test(t.data))return!t.nextSibling||En(e,t.nextSibling)||ua(t.nextSibling)}return!1},ji=e=>e.dom.create(ol(e),M1(e)),Ui=e=>{const t=e.dom,o=e.selection,r=e.schema,a=r.getBlockElements(),c=o.getStart(),d=e.getBody();let g,v,A=null;const M=ol(e);if(!c||!jt(c))return;const I=d.nodeName.toLowerCase();if(!r.isValidChild(I,M.toLowerCase())||os(a,d,c))return;if(d.firstChild===d.lastChild&&Zr(d.firstChild)){g=ji(e),g.appendChild(Tu().dom),d.replaceChild(g,d.firstChild),e.selection.setCursorLocation(g,0),e.nodeChanged();return}let L=d.firstChild;for(;L;)if(jt(L)&&qn(r,L),co(r,L)){if(ur(a,L)){v=L,L=L.nextSibling,t.remove(v);continue}if(!g){if(!A&&e.hasFocus()&&(A=aD(e.selection.getRng(),()=>document.createElement("span"))),!L.parentNode){L=null;break}g=ji(e),d.insertBefore(g,L)}v=L,L=L.nextSibling,g.appendChild(v)}else g=null,L=L.nextSibling;A&&(e.selection.setRng(iD(A)),e.nodeChanged())},Qa=(e,t,o)=>{const r=me.fromDom(ji(e)),a=Tu();vs(r,a),o(t,r);const c=document.createRange();return c.setStartBefore(a.dom),c.setEndBefore(a.dom),c},La=e=>{e.on("NodeChange",()=>Ui(e))},Np=e=>t=>(" "+t.attr("class")+" ").indexOf(e)!==-1,jy=(e,t,o)=>function(r){const a=arguments,c=a[a.length-2],d=c>0?t.charAt(c-1):"";if(d==='"')return r;if(d===">"){const g=t.lastIndexOf("<",c);if(g!==-1&&t.substring(g,c).indexOf('contenteditable="false"')!==-1)return r}return'<span class="'+o+'" data-mce-content="'+e.dom.encode(a[0])+'">'+e.dom.encode(typeof a[1]=="string"?a[1]:a[0])+"</span>"},Ig=(e,t,o)=>{let r=t.length,a=o.content;if(o.format!=="raw"){for(;r--;)a=a.replace(t[r],jy(e,a,zh(e)));o.content=a}},Mp=(e,t)=>Nr(e,o=>{const r=t.match(o);return r!==null&&r[0].length===t.length}),vv=e=>{const t="contenteditable",o=" "+ut.trim(iR(e))+" ",r=" "+ut.trim(zh(e))+" ",a=Np(o),c=Np(r),d=g3(e);d.length>0&&e.on("BeforeSetContent",g=>{Ig(e,d,g)}),e.parser.addAttributeFilter("class",g=>{let v=g.length;for(;v--;){const A=g[v];a(A)?A.attr(t,"true"):c(A)&&A.attr(t,"false")}}),e.serializer.addAttributeFilter(t,g=>{let v=g.length;for(;v--;){const A=g[v];if(!a(A)&&!c(A))continue;const M=A.attr("data-mce-content");d.length>0&&M?Mp(d,M)?(A.name="#text",A.type=3,A.raw=!0,A.value=M):A.remove():A.attr(t,null)}})},Pg=e=>Ge(me.fromDom(e.getBody()),"*[data-mce-caret]").map(t=>t.dom).getOrNull(),Rm=(e,t)=>{t.hasAttribute("data-mce-caret")&&(up(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},fb=(e,t)=>{const o=Pg(e);if(o){if(t.type==="compositionstart"){t.preventDefault(),t.stopPropagation(),Rm(e,o);return}Hb(o)&&(Rm(e,o),e.undoManager.add())}},mb=e=>{e.on("keyup compositionstart",kt(fb,e))},Uy=zo,mw=(e,t,o)=>h4(t,e,o,Pa,Cf,Uy),xv=(e,t,o)=>MD(t,e,o,c=>Pa(c)||xA(c),c=>Cf(c)||xy(c),Uy),Lg=e=>{const t=e.dom.create(ol(e));return t.innerHTML='<br data-mce-bogus="1">',t},Nm=(e,t,o)=>{const r=fo(e.getBody()),a=kt(p_,t===1?r.next:r.prev);if(o.collapsed){const c=e.dom.getParent(o.startContainer,"PRE");if(!c)return;if(!a(Le.fromRangeStart(o))){const g=me.fromDom(Lg(e));t===1?Ae(me.fromDom(c),g):Kr(me.fromDom(c),g),e.selection.select(g.dom,!0),e.selection.collapse()}}},Bp=(e,t)=>{const o=t?$i.Forwards:$i.Backwards,r=e.selection.getRng();return mw(o,e,r).orThunk(()=>(Nm(e,o,r),H.none()))},kv=(e,t)=>{const o=t?1:-1,r=e.selection.getRng();return xv(o,e,r).orThunk(()=>(Nm(e,o,r),H.none()))},wv=(e,t)=>{const o=t?e.getEnd(!0):e.getStart(!0);return R0(o)?!t:t},Un=(e,t)=>Bp(e,wv(e.selection,t)).exists(o=>(Af(e,o),!0)),Mm=(e,t)=>kv(e,t).exists(o=>(Af(e,o),!0)),Vu=(e,t)=>BD(e,t,t?Cf:Pa),pb=(e,t)=>s4(e,!t).map(o=>{const r=o.toRange(),a=e.selection.getRng();return t?r.setStart(a.startContainer,a.startOffset):r.setEnd(a.endContainer,a.endOffset),r}).exists(o=>(Af(e,o),!0)),pw=e=>on(["figcaption"],gn(e)),Ip=(e,t,o)=>{const r=kt(fn,t);return zs(me.fromDom(e.container()),a=>o.isBlock(gn(a)),r).filter(pw)},Zy=(e,t,o)=>t?AD(e.dom,o):ED(e.dom,o),O4=(e,t)=>{const o=me.fromDom(e.getBody()),r=Le.fromRangeStart(e.selection.getRng());return Ip(r,o,e.schema).exists(()=>{if(Zy(o,t,r)){const c=Qa(e,o,t?vs:li);return e.selection.setRng(c),!0}else return!1})},gw=(e,t)=>e.selection.isCollapsed()?O4(e,t):!1,XB=(e,t,o)=>{const r=e.selection.getRng(),a=Le.fromRangeStart(r);return e.getBody().firstChild===t&&ED(o,a)?(e.execCommand("InsertNewBlockBefore"),!0):!1},Wy=(e,t)=>{const o=e.selection.getRng(),r=Le.fromRangeStart(o);return e.getBody().lastChild===t&&AD(t,r)?(e.execCommand("InsertNewBlockAfter"),!0):!1},JB=(e,t)=>t?H.from(e.dom.getParent(e.selection.getNode(),"details")).map(o=>Wy(e,o)).getOr(!1):H.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(o=>H.from(e.dom.getParent(o,"details")).map(r=>XB(e,r,o))).getOr(!1),vl=(e,t)=>JB(e,t),gb={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},QB=e=>Jo(e,t=>({...gb,...t})),XD=e=>Jo(e,t=>({...gb,...t})),hw=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,JD=(e,t)=>vn(QB(e),o=>hw(o,t)?[o]:[]),QD=(e,t)=>vn(XD(e),o=>hw(o,t)?[o]:[]),Oo=(e,...t)=>()=>e.apply(null,t),Fg=(e,t)=>Tn(JD(e,t),o=>o.action()),bw=(e,t)=>Rs(QD(e,t),o=>o.action()),Hg=(e,t)=>{const o=t?$i.Forwards:$i.Backwards,r=e.selection.getRng();return h4(e,o,r,Zh,vy,je).exists(a=>(Af(e,a),!0))},qy=(e,t)=>{const o=t?1:-1,r=e.selection.getRng();return MD(e,o,r,Zh,vy,je).exists(a=>(Af(e,a),!0))},D4=(e,t)=>BD(e,t,t?vy:Zh),R4=xn.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),lu={...R4,none:e=>R4.none(e)},e5=(e,t)=>M4(e,t,Co),M4=(e,t,o)=>vn(Na(e),r=>nr(r,t)?o(r)?[r]:[]:M4(r,t,o)),t5=(e,t,o=yn)=>{if(o(t))return H.none();if(on(e,gn(t)))return H.some(t);const r=a=>nr(a,"table")||o(a);return Ll(t,e.join(","),r)},o5=(e,t)=>t5(["td","th"],e,t),e7=e=>e5(e,"th,td"),Me=(e,t)=>ca(e,"table",t),so=(e,t,o,r,a=Co)=>{const c=r===1;if(!c&&o<=0)return lu.first(e[0]);if(c&&o>=e.length-1)return lu.last(e[e.length-1]);{const d=o+r,g=e[d];return a(g)?lu.middle(t,g):so(e,t,d,r,a)}},No=(e,t)=>Me(e,t).bind(o=>{const r=e7(o);return or(r,c=>fn(e,c)).map(c=>({index:c,all:r}))}),Fr=(e,t,o)=>No(e,o).fold(()=>lu.none(e),a=>so(a.all,e,a.index,1,t)),Ps=(e,t,o)=>No(e,o).fold(()=>lu.none(),a=>so(a.all,e,a.index,-1,t)),oa=e=>Fv(e).filter(t=>t.trim().length!==0||t.indexOf(Ca)>-1).isSome(),Xs=e=>wi(e)&&qa(e,"contenteditable")==="false",Aa=["img","br"],Gy=e=>oa(e)||on(Aa,gn(e))||Xs(e),t7=e=>_a(e,Gy),n5=(e,t)=>({left:e.left-t,top:e.top-t,right:e.right+t*2,bottom:e.bottom+t*2,width:e.width+t,height:e.height+t}),n8=(e,t)=>vn(t,o=>{const r=n5(cf(o.getBoundingClientRect()),-1);return[{x:r.left,y:e(r),cell:o},{x:r.right,y:e(r),cell:o}]}),nL=(e,t,o)=>uo(e,(r,a)=>r.fold(()=>H.some(a),c=>{const d=Math.sqrt(Math.abs(c.x-t)+Math.abs(c.y-o)),g=Math.sqrt(Math.abs(a.x-t)+Math.abs(a.y-o));return H.some(g<d?a:c)}),H.none()),r8=(e,t,o,r,a)=>{const c=qs(me.fromDom(o),"td,th,caption").map(g=>g.dom),d=et(n8(e,c),g=>t(g,a));return nL(d,r,a).map(g=>g.cell)},rL=e=>e.bottom,sL=e=>e.top,aL=(e,t)=>e.y<t,iL=(e,t)=>e.y>t,lL=kt(r8,rL,aL),cL=kt(r8,sL,iL),dL=(e,t)=>dt(t.getClientRects()).bind(o=>lL(e,o.left,o.top)).bind(o=>cw(zD(o),t)),uL=(e,t)=>no(t.getClientRects()).bind(o=>cL(e,o.left,o.top)).bind(o=>cw(PB(o),t)),fL=(e,t,o)=>o.breakAt.exists(r=>e(t,r).breakAt.isSome()),mL=e=>e.breakType===$u.Wrap&&e.positions.length===0,pL=e=>e.breakType===$u.Br&&e.positions.length===1,s8=(e,t,o)=>{const r=e(t,o);return mL(r)||!Zr(o.getNode())&&pL(r)?!fL(e,t,r):r.breakAt.isNone()},gL=kt(s8,uv),hL=kt(s8,fv),bL=(e,t,o)=>{const r=Le.fromRangeStart(t);return sy(!e,o).exists(a=>a.isEqual(r))},yL=(e,t,o,r)=>{const a=e.selection.getRng(),c=t?1:-1;return c_()&&bL(t,a,o)?(ws(c,e,o,!t,!1).each(d=>{Af(e,d)}),!0):!1},vL=(e,t,o)=>dL(t,o).orThunk(()=>dt(o.getClientRects()).bind(r=>m4(SD(e,Le.before(t)),r.left))).getOr(Le.before(t)),xL=(e,t,o)=>uL(t,o).orThunk(()=>dt(o.getClientRects()).bind(r=>m4(dw(e,Le.after(t)),r.left))).getOr(Le.after(t)),a8=(e,t)=>{const o=t.getNode(e);return pc(o)?H.some(o):H.none()},kL=(e,t,o)=>{t.undoManager.transact(()=>{const r=e?Ae:Kr,a=Qa(t,me.fromDom(o),r);Af(t,a)})},i8=(e,t,o)=>{const r=a8(!!t,o),a=t===!1;r.fold(()=>Af(e,o.toRange()),c=>sy(a,e.getBody()).filter(d=>d.isEqual(o)).fold(()=>Af(e,o.toRange()),d=>kL(t,e,c)))},wL=(e,t,o,r)=>{const a=e.selection.getRng(),c=Le.fromRangeStart(a),d=e.getBody();if(!t&&gL(r,c)){const g=vL(d,o,c);return i8(e,t,g),!0}else if(t&&hL(r,c)){const g=xL(d,o,c);return i8(e,t,g),!0}else return!1},l8=(e,t,o)=>H.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(r=>H.from(e.dom.getParent(r,"table")).map(a=>o(e,t,a,r))).getOr(!1),c8=(e,t)=>l8(e,t,yL),o7=(e,t)=>l8(e,t,wL),_L=e=>{const t=gg.exact(e,0,e,0);return qR(t)},d8=(e,t,o)=>o.fold(H.none,H.none,(r,a)=>t7(a).map(c=>_L(c)),r=>(e.execCommand("mceTableInsertRowAfter"),u8(e,t,r))),u8=(e,t,o)=>d8(e,t,Fr(o,qr)),CL=(e,t,o)=>d8(e,t,Ps(o,qr)),f8=(e,t)=>{const o=["table","li","dl"],r=me.fromDom(e.getBody()),a=g=>{const v=gn(g);return fn(g,r)||on(o,v)},c=e.selection.getRng(),d=me.fromDom(t?c.endContainer:c.startContainer);return o5(d,a).map(g=>(Me(g,a).each(M=>{e.model.table.clearSelectedCells(M.dom)}),e.selection.collapse(!t),(t?u8:CL)(e,a,g).each(M=>{e.selection.setRng(M)}),!0)).getOr(!1)},SL=(e,t,o)=>{const r=Fo.os.isMacOS()||Fo.os.isiOS();Fg([{keyCode:Ot.RIGHT,action:Oo(Un,e,!0)},{keyCode:Ot.LEFT,action:Oo(Un,e,!1)},{keyCode:Ot.UP,action:Oo(Mm,e,!1)},{keyCode:Ot.DOWN,action:Oo(Mm,e,!0)},...r?[{keyCode:Ot.UP,action:Oo(pb,e,!1),metaKey:!0,shiftKey:!0},{keyCode:Ot.DOWN,action:Oo(pb,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:Ot.RIGHT,action:Oo(c8,e,!0)},{keyCode:Ot.LEFT,action:Oo(c8,e,!1)},{keyCode:Ot.UP,action:Oo(o7,e,!1)},{keyCode:Ot.DOWN,action:Oo(o7,e,!0)},{keyCode:Ot.UP,action:Oo(o7,e,!1)},{keyCode:Ot.UP,action:Oo(vl,e,!1)},{keyCode:Ot.DOWN,action:Oo(vl,e,!0)},{keyCode:Ot.RIGHT,action:Oo(Hg,e,!0)},{keyCode:Ot.LEFT,action:Oo(Hg,e,!1)},{keyCode:Ot.UP,action:Oo(qy,e,!1)},{keyCode:Ot.DOWN,action:Oo(qy,e,!0)},{keyCode:Ot.RIGHT,action:Oo(x4,e,t,!0)},{keyCode:Ot.LEFT,action:Oo(x4,e,t,!1)},{keyCode:Ot.RIGHT,ctrlKey:!r,altKey:r,action:Oo($D,e,t)},{keyCode:Ot.LEFT,ctrlKey:!r,altKey:r,action:Oo(VD,e,t)},{keyCode:Ot.UP,action:Oo(gw,e,!1)},{keyCode:Ot.DOWN,action:Oo(gw,e,!0)}],o).each(a=>{o.preventDefault()})},EL=(e,t)=>{e.on("keydown",o=>{o.isDefaultPrevented()||SL(e,t,o)})},Pp=(e,t)=>({container:e,offset:t}),r5=zr.DOM,s5=e=>t=>e===t?-1:0,AL=e=>t=>e.isBlock(t)||on(["BR","IMG","HR","INPUT"],t.nodeName)||e.getContentEditable(t)==="false",n7=(e,t,o)=>{if(pt(e)&&t>=0)return H.some(Pp(e,t));{const r=Au(r5);return H.from(r.backwards(e,t,s5(e),o)).map(a=>Pp(a.container,a.container.data.length))}},zL=(e,t,o)=>{if(pt(e)&&t>=e.length)return H.some(Pp(e,t));{const r=Au(r5);return H.from(r.forwards(e,t,s5(e),o)).map(a=>Pp(a.container,0))}},r7=(e,t,o)=>{if(!pt(e))return H.none();const r=e.data;if(t>=0&&t<=r.length)return H.some(Pp(e,t));{const a=Au(r5);return H.from(a.backwards(e,t,s5(e),o)).bind(c=>{const d=c.container.data;return r7(c.container,t+d.length,o)})}},m8=(e,t,o)=>{if(!pt(e))return H.none();const r=e.data;if(t<=r.length)return H.some(Pp(e,t));{const a=Au(r5);return H.from(a.forwards(e,t,s5(e),o)).bind(c=>m8(c.container,t-r.length,o))}},s7=(e,t,o,r,a)=>{const c=Au(e,AL(e));return H.from(c.backwards(t,o,r,a))},TL=e=>e.collapsed&&pt(e.startContainer),OL=e=>gl(e.toString().replace(/\u00A0/g," ")),p8=e=>e!==""&&`  \f
\r	\v`.indexOf(e)!==-1,DL=(e,t)=>e.substring(t.length),RL=(e,t,o,r=!1)=>{let a;const c=o.charAt(0);for(a=t-1;a>=0;a--){const d=e.charAt(a);if(!r&&p8(d))return H.none();if(c===d&&Bn(e,o,a,t))break}return H.some(a)},a7=(e,t,o,r=!1)=>{if(!TL(t))return H.none();const a={text:"",offset:0},c=(g,v,A)=>(a.text=A+a.text,a.offset+=v,RL(a.text,a.offset,o,r).getOr(v)),d=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return s7(e,t.startContainer,t.startOffset,c,d).bind(g=>{const v=t.cloneRange();if(v.setStart(g.container,g.offset),v.setEnd(t.endContainer,t.endOffset),v.collapsed)return H.none();const A=OL(v);return A.lastIndexOf(o)!==0?H.none():H.some({text:DL(A,o),range:v,trigger:o})})},NL=e=>e.nodeType===Rd,ML=e=>e.nodeType===Ii,g8=e=>{if(NL(e))return Pp(e,e.data.length);{const t=e.childNodes;return t.length>0?g8(t[t.length-1]):Pp(e,t.length)}},h8=(e,t)=>{const o=e.childNodes;return o.length>0&&t<o.length?h8(o[t],0):o.length>0&&ML(e)&&o.length===t?g8(o[o.length-1]):Pp(e,t)},BL=(e,t)=>{var o;const r=(o=e.getParent(t.container,e.isBlock))!==null&&o!==void 0?o:e.getRoot();return s7(e,t.container,t.offset,(a,c)=>c===0?-1:c,r).filter(a=>{const c=a.container.data.charAt(a.offset-1);return!p8(c)}).isSome()},IL=e=>t=>{const o=h8(t.startContainer,t.startOffset);return!BL(e,o)},PL=(e,t,o)=>Rs(o.triggers,r=>a7(e,t,r)),LL=(e,t)=>{const o=t(),r=e.selection.getRng();return PL(e.dom,r,o).bind(a=>b8(e,t,a))},b8=(e,t,o,r={})=>{var a;const c=t(),g=(a=e.selection.getRng().startContainer.nodeValue)!==null&&a!==void 0?a:"",v=et(c.lookupByTrigger(o.trigger),M=>o.text.length>=M.minChars&&M.matches.getOrThunk(()=>IL(e.dom))(o.range,g,o.text));if(v.length===0)return H.none();const A=Promise.all(Jo(v,M=>M.fetch(o.text,M.maxResults,r).then(L=>({matchText:o.text,items:L,columns:M.columns,onAction:M.onAction,highlightOn:M.highlightOn}))));return H.some({lookupData:A,context:o})};var Lp;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(Lp||(Lp={}));const i7=(e,t,o)=>e.stype===Lp.Error?t(e.serror):o(e.svalue),FL=e=>{const t=[],o=[];return Re(e,r=>{i7(r,a=>o.push(a),a=>t.push(a))}),{values:t,errors:o}},HL=(e,t)=>e.stype===Lp.Error?{stype:Lp.Error,serror:t(e.serror)}:e,$L=(e,t)=>e.stype===Lp.Value?{stype:Lp.Value,svalue:t(e.svalue)}:e,VL=(e,t)=>e.stype===Lp.Value?t(e.svalue):e,jL=(e,t)=>e.stype===Lp.Error?t(e.serror):e,y8=e=>({stype:Lp.Value,svalue:e}),v8=e=>({stype:Lp.Error,serror:e}),Rl={fromResult:e=>e.fold(v8,y8),toResult:e=>i7(e,ho.error,ho.value),svalue:y8,partition:FL,serror:v8,bind:VL,bindError:jL,map:$L,mapError:HL,fold:i7},l7=e=>ce(e)&&st(e).length>100?" removed due to size":JSON.stringify(e,null,2),UL=e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:we("... (only showing first ten failures)")}]):e;return Jo(t,o=>"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo())},a5=(e,t)=>Rl.serror([{path:e,getErrorInfo:t}]),ZL=(e,t,o)=>a5(e,()=>'Could not find valid *required* value for "'+t+'" in '+l7(o)),WL=(e,t)=>a5(e,()=>'Choice schema did not contain choice key: "'+t+'"'),qL=(e,t,o)=>a5(e,()=>'The chosen schema: "'+o+'" did not exist in branches: '+l7(t)),GL=(e,t)=>a5(e,we(t)),KL=(e,t,o,r)=>Mn(o,r).fold(()=>qL(e,o,r),c=>c.extract(e.concat(["branch: "+r]),t)),YL=(e,t)=>({extract:(a,c)=>Mn(c,e).fold(()=>WL(a,e),g=>KL(a,c,t,g)),toString:()=>"chooseOn("+e+"). Possible values: "+st(t)}),XL=(e,t)=>t,JL=(e,t)=>Tt(e)&&Tt(t)?i5(e,t):t,x8=e=>(...t)=>{if(t.length===0)throw new Error("Can't merge zero objects");const o={};for(let r=0;r<t.length;r++){const a=t[r];for(const c in a)po(a,c)&&(o[c]=e(o[c],a[c]))}return o},i5=x8(JL),k8=x8(XL),w8=()=>({tag:"required",process:{}}),QL=e=>({tag:"defaultedThunk",process:e}),_8=e=>QL(we(e)),eF=()=>({tag:"option",process:{}}),tF=(e,t)=>e.length>0?Rl.svalue(i5(t,k8.apply(void 0,e))):Rl.svalue(t),C8=e=>Lo(Rl.serror,$n)(e),oF={consolidateObj:(e,t)=>{const o=Rl.partition(e);return o.errors.length>0?C8(o.errors):tF(o.values,t)},consolidateArr:e=>{const t=Rl.partition(e);return t.errors.length>0?C8(t.errors):Rl.svalue(t.values)}},nF=(e,t,o,r)=>({tag:"field",key:e,newKey:t,presence:o,prop:r}),rF=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),S8=(e,t,o)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}},c7=e=>{const t=(r,a)=>Rl.bindError(e(a),c=>GL(r,c)),o=we("val");return{extract:t,toString:o}},sF=c7(Rl.svalue),aF=(e,t,o,r)=>Mn(t,o).fold(()=>ZL(e,o,t),r),E8=(e,t,o,r)=>{const a=Mn(e,t).getOrThunk(()=>o(e));return r(a)},iF=(e,t,o)=>o(Mn(e,t)),lF=(e,t,o,r)=>{const a=Mn(e,t).map(c=>c===!0?o(e):c);return r(a)},cF=(e,t,o,r,a)=>{const c=g=>a.extract(t.concat([r]),g),d=g=>g.fold(()=>Rl.svalue(H.none()),v=>{const A=a.extract(t.concat([r]),v);return Rl.map(A,H.some)});switch(e.tag){case"required":return aF(t,o,r,c);case"defaultedThunk":return E8(o,r,e.process,c);case"option":return iF(o,r,d);case"defaultedOptionThunk":return lF(o,r,e.process,d);case"mergeWithThunk":return E8(o,r,we({}),g=>{const v=i5(e.process(o),g);return c(v)})}},dF=(e,t,o)=>{const r={},a=[];for(const c of o)S8(c,(d,g,v,A)=>{const M=cF(v,e,t,d,A);Rl.fold(M,I=>{a.push(...I)},I=>{r[g]=I})},(d,g)=>{r[d]=g(t)});return a.length>0?Rl.serror(a):Rl.svalue(r)},d7=e=>({extract:(r,a)=>dF(r,a,e),toString:()=>`obj{
`+Jo(e,a=>S8(a,(c,d,g,v)=>c+" -> "+v.toString(),(c,d)=>"state("+c+")")).join(`
`)+"}"}),A8=e=>({extract:(r,a)=>{const c=Jo(a,(d,g)=>e.extract(r.concat(["["+g+"]"]),d));return oF.consolidateArr(c)},toString:()=>"array("+e.toString()+")"}),uF=e=>c7(t=>e(t).fold(Rl.serror,Rl.svalue)),fF=(e,t,o)=>{const r=t.extract([e],o);return Rl.mapError(r,a=>({input:o,errors:a}))},mF=(e,t,o)=>Rl.toResult(fF(e,t,o)),pF=e=>`Errors: 
`+UL(e.errors).join(`
`)+`

Input object: `+l7(e.input),z8=(e,t)=>YL(e,vi(t,d7)),gF=we(sF),l5=(e,t)=>c7(o=>{const r=typeof o;return e(o)?Rl.svalue(o):Rl.serror(`Expected type: ${t} but got: ${r}`)}),hF=l5(T,"number"),c5=l5(mt,"string"),bF=l5($r,"boolean"),u7=l5(Pt,"function"),B4=nF,T8=rF,yF=e=>uF(t=>on(e,t)?ho.value(t):ho.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`)),O8=(e,t)=>B4(e,e,w8(),t),D8=e=>O8(e,c5),R8=e=>O8(e,u7),vF=(e,t)=>B4(e,e,w8(),A8(t)),f7=(e,t)=>B4(e,e,eF(),t),d5=e=>f7(e,c5),xF=e=>f7(e,u7),kF=(e,t)=>B4(e,e,_8(t),gF()),yw=(e,t,o)=>B4(e,e,_8(t),o),N8=(e,t)=>yw(e,t,hF),wF=(e,t)=>yw(e,t,c5),M8=(e,t,o)=>yw(e,t,yF(o)),m7=(e,t)=>yw(e,t,bF),p7=(e,t)=>yw(e,t,u7),_F=(e,t,o)=>yw(e,t,A8(o)),CF=D8("type"),SF=R8("fetch"),g7=R8("onAction"),EF=p7("onSetup",()=>Yt),AF=d5("text"),zF=d5("icon"),TF=d5("tooltip"),OF=d5("label"),DF=m7("active",!1),RF=m7("enabled",!0),B8=m7("primary",!1),NF=e=>kF("columns",e),I4=e=>wF("type",e),MF=d7([CF,D8("trigger"),N8("minChars",1),NF(1),N8("maxResults",10),xF("matches"),SF,g7,_F("highlightOn",[],c5)]),BF=e=>mF("Autocompleter",MF,e),h7=[RF,TF,zF,AF,EF],I8=[DF].concat(h7),IF=[p7("predicate",yn),M8("scope","node",["node","editor"]),M8("position","selection",["node","selection","line"])],PF=h7.concat([I4("contextformbutton"),B8,g7,T8("original",At)]),LF=I8.concat([I4("contextformbutton"),B8,g7,T8("original",At)]),FF=h7.concat([I4("contextformbutton")]),HF=I8.concat([I4("contextformtogglebutton")]),$F=z8("type",{contextformbutton:PF,contextformtogglebutton:LF});d7([I4("contextform"),p7("initValue",we("")),OF,vF("commands",$F),f7("launch",z8("type",{contextformbutton:FF,contextformtogglebutton:HF}))].concat(IF));const VF=e=>{const t=e.ui.registry.getAll().popups,o=vi(t,d=>BF(d).fold(g=>{throw new Error(pF(g))},At)),r=zc(Va(o,d=>d.trigger)),a=qi(o);return{dataset:o,triggers:r,lookupByTrigger:d=>et(a,g=>g.trigger===d)}},jF=(e,t)=>{const o=Xp(t.load,50);e.on("input",r=>{r.inputType==="insertCompositionText"&&!e.composing||o.throttle()}),e.on("keydown",r=>{const a=r.which;a===8?o.throttle():a===27?(o.cancel(),t.cancelIfNecessary()):(a===38||a===40)&&o.cancel()},!0),e.on("remove",o.cancel)},UF=e=>{const t=da(),o=Ms(!1),r=t.isSet,a=()=>{r()&&(NR(e),o.set(!1),t.clear())},c=I=>{r()||t.set({trigger:I.trigger,matchLength:I.text.length})},d=Oa(()=>VF(e)),g=I=>t.get().map(L=>a7(e.dom,e.selection.getRng(),L.trigger,!0).bind(Y=>b8(e,d,Y,I))).getOrThunk(()=>LL(e,d)),v=I=>{g(I).fold(a,L=>{c(L.context),L.lookupData.then(Y=>{t.get().map(re=>{const X=L.context;re.trigger===X.trigger&&(t.set({...re,matchLength:X.text.length}),o.get()?(M_(e,{range:X.range}),N_(e,{lookupData:Y})):(o.set(!0),M_(e,{range:X.range}),R_(e,{lookupData:Y})))})})})},A=(I,L)=>{const Y=I.compareBoundaryPoints(window.Range.START_TO_START,L),re=I.compareBoundaryPoints(window.Range.END_TO_END,L);return Y>=0&&re<=0},M=()=>t.get().bind(({trigger:I})=>{const L=e.selection.getRng();return a7(e.dom,L,I,o.get()).filter(({range:Y})=>A(L,Y)).map(({range:Y})=>Y)});e.addCommand("mceAutocompleterReload",(I,L)=>{const Y=ce(L)?L.fetchOptions:{};v(Y)}),e.addCommand("mceAutocompleterClose",a),e.addCommand("mceAutocompleterRefreshActiveRange",()=>{M().each(I=>{M_(e,{range:I})})}),e.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>M().isSome()),jF(e,{cancelIfNecessary:a,load:v})},ZF=lt().browser.isSafari(),P8=e=>Yc(me.fromDom(e)),L8=(e,t)=>{var o;return e.startOffset===0&&e.endOffset===((o=t.textContent)===null||o===void 0?void 0:o.length)},u5=(e,t)=>H.from(e.getParent(t.container(),"details")),F8=(e,t)=>u5(e,t).isSome(),WF=(e,t)=>{const o=H.from(e.getParent(t.startContainer,"details")),r=H.from(e.getParent(t.endContainer,"details"));if(o.isSome()||r.isSome()){const a=o.bind(c=>H.from(e.select("summary",c)[0]));return H.some({startSummary:a,startDetails:o,endDetails:r})}else return H.none()},qF=(e,t)=>yo(t).exists(o=>o.isEqual(e)),GF=(e,t)=>Kd(t).exists(o=>Zr(o.getNode())&&Qc(t,o).exists(r=>r.isEqual(e))||o.isEqual(e)),KF=(e,t)=>t.startSummary.exists(o=>qF(e,o)),YF=(e,t)=>t.startSummary.exists(o=>GF(e,o)),XF=(e,t)=>t.startDetails.exists(o=>Qc(o,e).forall(r=>t.startSummary.exists(a=>!a.contains(e.container())&&a.contains(r.container())))),JF=(e,t,o)=>o.startDetails.exists(r=>Kl(e,t).forall(a=>!r.contains(a.container()))),H8=(e,t)=>{const o=t.getNode();er(o)||e.selection.setCursorLocation(o,t.offset())},$8=(e,t,o)=>{const r=e.dom.getParent(t.container(),"details");if(r&&!r.open){const a=e.dom.select("summary",r)[0];a&&(o?yo(a):Kd(a)).each(d=>H8(e,d))}else H8(e,t)},QF=(e,t)=>{const o=v=>v.contains(e.startContainer),r=v=>v.contains(e.endContainer),a=t.startSummary.exists(o),c=t.startSummary.exists(r),d=t.startDetails.forall(v=>t.endDetails.forall(A=>v!==A));return(a||c)&&!(a&&c)||d},V8=(e,t,o)=>{const{dom:r,selection:a}=e,c=e.getBody();if(o==="character"){const d=Le.fromRangeStart(a.getRng()),g=r.getParent(d.container(),r.isBlock),v=u5(r,d),A=g&&r.isEmpty(g),M=ct(g==null?void 0:g.previousSibling),I=ct(g==null?void 0:g.nextSibling);return A&&(t?I:M)&&Rh(!t,c,d).exists(re=>F8(r,re)&&!Da(v,u5(r,re)))?!0:Rh(t,c,d).fold(yn,L=>{const Y=u5(r,L);if(F8(r,L)&&!Da(v,Y)){if(t||$8(e,L,!1),g&&A){if(t&&M)return!0;if(!t&&I)return!0;$8(e,L,t),e.dom.remove(g)}return!0}else return!1})}else return!1},eH=(e,t,o,r)=>{const c=e.selection.getRng(),d=Le.fromRangeStart(c),g=e.getBody();return r==="selection"?QF(c,t):o?YF(d,t)||JF(g,d,t):KF(d,t)||XF(d,t)},tH=(e,t,o)=>WF(e.dom,e.selection.getRng()).fold(()=>V8(e,t,o),r=>eH(e,r,t,o)||V8(e,t,o)),oH=(e,t,o)=>{const r=e.selection,a=r.getNode(),c=r.getRng(),d=Le.fromRangeStart(c);return qf(a)?(o==="selection"&&L8(c,a)||WA(t,d,a)?P8(a):e.undoManager.transact(()=>{const g=r.getSel();let{anchorNode:v,anchorOffset:A,focusNode:M,focusOffset:I}=g??{};const L=()=>{$e(v)&&$e(A)&&$e(M)&&$e(I)&&(g==null||g.setBaseAndExtent(v,A,M,I))},Y=()=>{v=g==null?void 0:g.anchorNode,A=g==null?void 0:g.anchorOffset,M=g==null?void 0:g.focusNode,I=g==null?void 0:g.focusOffset},re=(ae,ye)=>{Re(ae.childNodes,Se=>{dy(Se)&&ye.appendChild(Se)})},X=e.dom.create("span",{"data-mce-bogus":"1"});re(a,X),a.appendChild(X),L(),(o==="word"||o==="line")&&(g==null||g.modify("extend",t?"right":"left",o)),!r.isCollapsed()&&L8(r.getRng(),X)?P8(a):(e.execCommand(t?"ForwardDelete":"Delete"),Y(),re(X,a),L()),e.dom.remove(X)}),!0):!1},_v=(e,t,o)=>tH(e,t,o)||ZF&&oH(e,t,o)?H.some(Yt):H.none(),j8=e=>(t,o,r={})=>{const a=t.getBody(),c={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:a,currentTarget:a,eventPhase:Event.AT_TARGET,originalTarget:a,explicitOriginalTarget:a,isTrusted:!1,srcElement:a,cancelable:!1,preventDefault:Yt,inputType:o},d=Qf(new InputEvent(e));return t.dispatch(e,{...d,...c,...r})},P4=j8("input"),f5=j8("beforeinput"),U8=lt(),Z8=U8.os,W8=Z8.isMacOS()||Z8.isiOS(),nH=U8.browser.isFirefox(),rH=(e,t,o)=>{const r=o.keyCode===Ot.BACKSPACE?"deleteContentBackward":"deleteContentForward",a=e.selection.isCollapsed(),c=a?"character":"selection",d=g=>a?g?"word":"line":"selection";bw([{keyCode:Ot.BACKSPACE,action:Oo(Fe,e)},{keyCode:Ot.BACKSPACE,action:Oo(i4,e,!1)},{keyCode:Ot.DELETE,action:Oo(i4,e,!0)},{keyCode:Ot.BACKSPACE,action:Oo(r4,e,!1)},{keyCode:Ot.DELETE,action:Oo(r4,e,!0)},{keyCode:Ot.BACKSPACE,action:Oo(bv,e,t,!1)},{keyCode:Ot.DELETE,action:Oo(bv,e,t,!0)},{keyCode:Ot.BACKSPACE,action:Oo(Ep,e,!1)},{keyCode:Ot.DELETE,action:Oo(Ep,e,!0)},{keyCode:Ot.BACKSPACE,action:Oo(_v,e,!1,c)},{keyCode:Ot.DELETE,action:Oo(_v,e,!0,c)},...W8?[{keyCode:Ot.BACKSPACE,altKey:!0,action:Oo(_v,e,!1,d(!0))},{keyCode:Ot.DELETE,altKey:!0,action:Oo(_v,e,!0,d(!0))},{keyCode:Ot.BACKSPACE,metaKey:!0,action:Oo(_v,e,!1,d(!1))}]:[{keyCode:Ot.BACKSPACE,ctrlKey:!0,action:Oo(_v,e,!1,d(!0))},{keyCode:Ot.DELETE,ctrlKey:!0,action:Oo(_v,e,!0,d(!0))}],{keyCode:Ot.BACKSPACE,action:Oo(c4,e,!1)},{keyCode:Ot.DELETE,action:Oo(c4,e,!0)},{keyCode:Ot.BACKSPACE,action:Oo(P,e,!1)},{keyCode:Ot.DELETE,action:Oo(P,e,!0)},{keyCode:Ot.BACKSPACE,action:Oo(t4,e,!1)},{keyCode:Ot.DELETE,action:Oo(t4,e,!0)},{keyCode:Ot.BACKSPACE,action:Oo(nw,e,!1)},{keyCode:Ot.DELETE,action:Oo(nw,e,!0)},{keyCode:Ot.BACKSPACE,action:Oo(p,e,!1)},{keyCode:Ot.DELETE,action:Oo(p,e,!0)},{keyCode:Ot.BACKSPACE,action:Oo(l4,e,!1)},{keyCode:Ot.DELETE,action:Oo(l4,e,!0)}],o).filter(g=>e.selection.isEditable()).each(g=>{o.preventDefault(),f5(e,r).isDefaultPrevented()||(g(),P4(e,r))})},sH=(e,t,o)=>Fg([{keyCode:Ot.BACKSPACE,action:Oo(nD,e)},{keyCode:Ot.DELETE,action:Oo(nD,e)},...W8?[{keyCode:Ot.BACKSPACE,altKey:!0,action:Oo(E,e)},{keyCode:Ot.DELETE,altKey:!0,action:Oo(E,e)},...o?[{keyCode:nH?224:91,action:Oo(E,e)}]:[]]:[{keyCode:Ot.BACKSPACE,ctrlKey:!0,action:Oo(E,e)},{keyCode:Ot.DELETE,ctrlKey:!0,action:Oo(E,e)}]],t),aH=(e,t)=>{let o=!1;e.on("keydown",r=>{o=r.keyCode===Ot.BACKSPACE,r.isDefaultPrevented()||rH(e,t,r)}),e.on("keyup",r=>{r.isDefaultPrevented()||sH(e,r,o),o=!1})},iH=e=>{for(;e;){if(jt(e)||pt(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},vw=(e,t)=>{const o=e.dom,r=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){const c=iH(t.firstChild);c&&/^(UL|OL|DL)$/.test(c.nodeName)&&t.insertBefore(o.doc.createTextNode(Ca),t.firstChild)}const a=o.createRng();if(t.normalize(),t.hasChildNodes()){const c=new Ka(t,t);let d=t,g;for(;g=c.current();){if(pt(g)){a.setStart(g,0),a.setEnd(g,0);break}if(r[g.nodeName.toLowerCase()]){a.setStartBefore(g),a.setEndBefore(g);break}d=g,g=c.next()}g||(a.setStart(d,0),a.setEnd(d,0))}else Zr(t)?t.nextSibling&&o.isBlock(t.nextSibling)?(a.setStartBefore(t),a.setEndBefore(t)):(a.setStartAfter(t),a.setEndAfter(t)):(a.setStart(t,0),a.setEnd(t,0));e.selection.setRng(a),Jd(e,a)},L4=(e,t)=>{const o=e.getRoot();let r,a=t;for(;a!==o&&a&&e.getContentEditable(a)!=="false";){if(e.getContentEditable(a)==="true"){r=a;break}a=a.parentNode}return a!==o?r:o},b7=e=>H.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),lH=e=>b7(e).fold(we(""),t=>t.nodeName.toUpperCase()),cH=e=>b7(e).filter(t=>am(me.fromDom(t))).isSome(),y7=e=>{e.innerHTML='<br data-mce-bogus="1">'},dH=(e,t,o)=>{const r=e.dom;H.from(o.style).map(r.parseStyle).each(v=>{const M={...Yu(me.fromDom(t)),...v};r.setStyles(t,M)});const a=H.from(o.class).map(v=>v.split(/\s+/)),c=H.from(t.className).map(v=>et(v.split(/\s+/),A=>A!==""));ia(a,c,(v,A)=>{const M=et(A,L=>!on(v,L)),I=[...v,...M];r.setAttrib(t,"class",I.join(" "))});const d=["style","class"],g=ti(o,(v,A)=>!on(d,A));r.setAttribs(t,g)},F4=(e,t)=>{if(ol(e).toLowerCase()===t.tagName.toLowerCase()){const r=M1(e);dH(e,t,r)}},q8=(e,t,o,r,a=!0,c,d)=>{const g=e.dom,v=e.schema,A=ol(e),M=o?o.nodeName.toUpperCase():"";let I=t;const L=v.getTextInlineElements();let Y;c||M==="TABLE"||M==="HR"?Y=g.create(c||A,d||{}):Y=o.cloneNode(!1);let re=Y;if(!a)g.setAttrib(Y,"style",null),g.setAttrib(Y,"class",null);else do if(L[I.nodeName]){if(Sd(I)||Ed(I))continue;const X=I.cloneNode(!1);g.setAttrib(X,"id",""),Y.hasChildNodes()?(X.appendChild(Y.firstChild),Y.appendChild(X)):(re=X,Y.appendChild(X))}while((I=I.parentNode)&&I!==r);return F4(e,Y),y7(re),Y},uH=(e,t)=>e.dom.getParent(t,Wf),fH=(e,t,o)=>{let r=t;for(;r&&r!==e&&ct(r.nextSibling);){const a=r.parentElement;if(!a||!o(a))return Wf(a);r=a}return!1},mH=(e,t,o)=>!t&&o.nodeName.toLowerCase()===ol(e)&&e.dom.isEmpty(o)&&fH(e.getBody(),o,r=>po(e.schema.getTextBlockElements(),r.nodeName.toLowerCase())),pH=(e,t,o)=>{var r,a,c;const d=t(ol(e)),g=uH(e,o);g&&(e.dom.insertAfter(d,g),vw(e,d),((c=(a=(r=o.parentElement)===null||r===void 0?void 0:r.childNodes)===null||a===void 0?void 0:a.length)!==null&&c!==void 0?c:0)>1&&e.dom.remove(o))},gH=(e,t)=>e.firstChild&&e.firstChild.nodeName===t,hH=e=>{var t;return((t=e.parentNode)===null||t===void 0?void 0:t.firstChild)===e},G8=(e,t)=>{const o=e==null?void 0:e.parentNode;return $e(o)&&o.nodeName===t},K8=e=>$e(e)&&/^(OL|UL|LI)$/.test(e.nodeName),v7=e=>$e(e)&&/^(LI|DT|DD)$/.test(e.nodeName),bH=e=>K8(e)&&K8(e.parentNode),m5=e=>{const t=e.parentNode;return v7(t)?t:e},p5=(e,t,o)=>{let r=e[o?"firstChild":"lastChild"];for(;r&&!jt(r);)r=r[o?"nextSibling":"previousSibling"];return r===t},Y8=e=>uo(Va(Yu(me.fromDom(e)),(t,o)=>`${o}: ${t};`),(t,o)=>t+o,""),yH=(e,t,o,r,a)=>{const c=e.dom,d=e.selection.getRng(),g=o.parentNode;if(o===e.getBody()||!g)return;bH(o)&&(a="LI");const v=v7(r)?Y8(r):void 0;let A=v7(r)&&v?t(a,{style:Y8(r)}):t(a);if(p5(o,r,!0)&&p5(o,r,!1))if(G8(o,"LI")){const M=m5(o);c.insertAfter(A,M),hH(o)?c.remove(M):c.remove(o)}else c.replace(A,o);else if(p5(o,r,!0))G8(o,"LI")?(c.insertAfter(A,m5(o)),A.appendChild(c.doc.createTextNode(" ")),A.appendChild(o)):g.insertBefore(A,o),c.remove(r);else if(p5(o,r,!1))c.insertAfter(A,m5(o)),c.remove(r);else{o=m5(o);const M=d.cloneRange();M.setStartAfter(r),M.setEndAfter(o);const I=M.extractContents();if(a==="LI"&&gH(I,"LI")){const L=et(Jo(A.children,me.fromDom),nt(Nd("br")));A=I.firstChild,c.insertAfter(I,o),Re(L,Y=>li(me.fromDom(A),Y)),v&&A.setAttribute("style",v)}else c.insertAfter(I,o),c.insertAfter(A,o);c.remove(r)}vw(e,A)},vH=e=>{Re(Ld(me.fromDom(e),Br),t=>{const o=t.dom;o.nodeValue=gl(o.data)})},xH=(e,t)=>{const o=e.dom.getParent(t,"ol,ul,dl");return o!==null&&e.dom.getContentEditableParent(o)==="false"},kH=(e,t)=>t&&t.nodeName==="A"&&e.isEmpty(t),x7=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,k7=(e,t)=>$e(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&e.getContentEditable(t)!=="false",wH=(e,t,o)=>{var r;const a=[];if(!o)return;let c=o;for(;c=c.firstChild;){if(e.isBlock(c))return;jt(c)&&!t[c.nodeName.toLowerCase()]&&a.push(c)}let d=a.length;for(;d--;)c=a[d],(!c.hasChildNodes()||c.firstChild===c.lastChild&&((r=c.firstChild)===null||r===void 0?void 0:r.nodeValue)===""||kH(e,c))&&e.remove(c)},w7=(e,t,o)=>pt(t)?e?o===1&&t.data.charAt(o-1)===Sa?0:o:o===t.data.length-1&&t.data.charAt(o)===Sa?t.data.length:o:o,_H=e=>{const t=e.cloneRange();return t.setStart(e.startContainer,w7(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,w7(!1,e.endContainer,e.endOffset)),t},CH=e=>{let t=e;do pt(t)&&(t.data=t.data.replace(/^[\r\n]+/,"")),t=t.firstChild;while(t)},SH=(e,t,o,r,a)=>{var c,d;const g=e.dom,v=(c=L4(g,r))!==null&&c!==void 0?c:g.getRoot();let A=g.getParent(r,g.isBlock);if(!A||!k7(g,A)){if(A=A||v,!A.hasChildNodes()){const Y=g.create(t);return F4(e,Y),A.appendChild(Y),o.setStart(Y,0),o.setEnd(Y,0),Y}let M=r;for(;M&&M.parentNode!==A;)M=M.parentNode;let I;for(;M&&!g.isBlock(M);)I=M,M=M.previousSibling;const L=(d=I==null?void 0:I.parentElement)===null||d===void 0?void 0:d.nodeName;if(I&&L&&e.schema.isValidChild(L,t.toLowerCase())){const Y=I.parentNode,re=g.create(t);for(F4(e,re),Y.insertBefore(re,I),M=I;M&&!g.isBlock(M);){const X=M.nextSibling;re.appendChild(M),M=X}o.setStart(r,a),o.setEnd(r,a)}}return r},EH=(e,t)=>{t.normalize();const o=t.lastChild;(!o||jt(o)&&/^(left|right)$/gi.test(e.getStyle(o,"float",!0)))&&e.add(t,"br")},AH=(e,t)=>{const o=Zw(e);return Io(t)?!1:mt(o)?on(ut.explode(o),t.nodeName.toLowerCase()):o},X8={insert:(e,t)=>{let o,r,a,c,d=!1;const g=e.dom,v=e.schema,A=v.getNonEmptyElements(),M=e.selection.getRng(),I=ol(e),L=me.fromDom(M.startContainer),Y=Ic(L,M.startOffset),re=Y.exists(Qe=>wi(Qe)&&!qr(Qe)),X=M.collapsed&&re,ae=(Qe,Vt)=>q8(e,o,xt,ot,Uw(e),Qe,Vt),ye=Qe=>{const Vt=w7(Qe,o,r);if(pt(o)&&(Qe?Vt>0:Vt<o.data.length))return!1;if((o.parentNode===xt||o===xt)&&d&&!Qe||Qe&&jt(o)&&o===xt.firstChild)return!0;if(x7(o,"TABLE")||x7(o,"HR"))return d&&!Qe||!d&&Qe;const oo=new Ka(o,xt);pt(o)&&(Qe&&Vt===0?oo.prev():!Qe&&Vt===o.data.length&&oo.next());let nn;for(;nn=oo.current();){if(jt(nn)){if(!nn.getAttribute("data-mce-bogus")){const mn=nn.nodeName.toLowerCase();if(A[mn]&&mn!=="br")return!1}}else if(pt(nn)&&!Ji(nn.data))return!1;Qe?oo.prev():oo.next()}return!0},Se=()=>{let Qe;return/^(H[1-6]|PRE|FIGURE)$/.test(a)&&Mt!=="HGROUP"?Qe=ae(I):Qe=ae(),AH(e,c)&&k7(g,c)&&g.isEmpty(xt,void 0,{includeZwsp:!0})?Qe=g.split(c,xt):g.insertAfter(Qe,xt),vw(e,Qe),Qe};ym(g,M).each(Qe=>{M.setStart(Qe.startContainer,Qe.startOffset),M.setEnd(Qe.endContainer,Qe.endOffset)}),o=M.startContainer,r=M.startOffset;const _e=!!(t&&t.shiftKey),Ne=!!(t&&t.ctrlKey);jt(o)&&o.hasChildNodes()&&!X&&(d=r>o.childNodes.length-1,o=o.childNodes[Math.min(r,o.childNodes.length-1)]||o,d&&pt(o)?r=o.data.length:r=0);const ot=L4(g,o);if(!ot||xH(e,o))return;_e||(o=SH(e,I,M,o,r));let xt=g.getParent(o,g.isBlock)||g.getRoot();c=$e(xt==null?void 0:xt.parentNode)?g.getParent(xt.parentNode,g.isBlock):null,a=xt?xt.nodeName.toUpperCase():"";const Mt=c?c.nodeName.toUpperCase():"";if(Mt==="LI"&&!Ne){const Qe=c;xt=Qe,c=Qe.parentNode,a=Mt}if(jt(c)&&mH(e,_e,xt))return pH(e,ae,xt);if(/^(LI|DT|DD)$/.test(a)&&jt(c)&&g.isEmpty(xt)){yH(e,ae,c,xt,I);return}if(!X&&(xt===e.getBody()||!k7(g,xt)))return;const Ze=xt.parentNode;let Ie;if(X)Ie=ae(I),Y.fold(()=>{vs(L,me.fromDom(Ie))},Qe=>{Kr(Qe,me.fromDom(Ie))}),e.selection.setCursorLocation(Ie,0);else if(Qp(xt))Ie=up(xt),g.isEmpty(xt)&&y7(xt),F4(e,Ie),vw(e,Ie);else if(ye(!1))Ie=Se();else if(ye(!0)&&Ze){const Qe=Le.fromRangeStart(M),Vt=xy(Qe),oo=me.fromDom(xt),mn=qh(oo,Qe,e.schema)?qx(oo,Qe,e.schema).bind(gr=>H.from(gr.getNode())):H.none();Ie=Ze.insertBefore(ae(),xt);const ir=x7(xt,"HR")||Vt?Ie:mn.getOr(xt);vw(e,ir)}else{const Qe=_H(M).cloneRange();Qe.setEndAfter(xt);const Vt=Qe.extractContents();vH(Vt),CH(Vt),Ie=Vt.firstChild,g.insertAfter(Vt,xt),wH(g,A,Ie),EH(g,xt),g.isEmpty(xt)&&y7(xt),Ie.normalize(),g.isEmpty(Ie)?(g.remove(Ie),Se()):(F4(e,Ie),vw(e,Ie))}g.setAttrib(Ie,"id",""),e.dispatch("NewBlock",{newBlock:Ie})},fakeEventName:"insertParagraph"},zH=(e,t,o)=>{const r=new Ka(t,o);let a;const c=e.getNonEmptyElements();for(;a=r.next();)if(c[a.nodeName.toLowerCase()]||pt(a)&&a.length>0)return!0;return!1},J8=(e,t,o)=>{const r=e.dom.createRng();o?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)),e.selection.setRng(r),Jd(e,r)},TH=(e,t)=>{const o=e.selection,r=e.dom,a=o.getRng();let c,d=!1;ym(r,a).each(Y=>{a.setStart(Y.startContainer,Y.startOffset),a.setEnd(Y.endContainer,Y.endOffset)});let g=a.startOffset,v=a.startContainer;if(jt(v)&&v.hasChildNodes()){const Y=g>v.childNodes.length-1;v=v.childNodes[Math.min(g,v.childNodes.length-1)]||v,Y&&pt(v)?g=v.data.length:g=0}let A=r.getParent(v,r.isBlock);const M=A&&A.parentNode?r.getParent(A.parentNode,r.isBlock):null,I=M?M.nodeName.toUpperCase():"",L=!!(t&&t.ctrlKey);I==="LI"&&!L&&(A=M),pt(v)&&g>=v.data.length&&(zH(e.schema,v,A||r.getRoot())||(c=r.create("br"),a.insertNode(c),a.setStartAfter(c),a.setEndAfter(c),d=!0)),c=r.create("br"),Xb(r,a,c),J8(e,c,d),e.undoManager.add()},OH=(e,t)=>{const o=me.fromTag("br");Kr(me.fromDom(t),o),e.undoManager.add()},DH=(e,t)=>{NH(e.getBody(),t)||Ae(me.fromDom(t),me.fromTag("br"));const o=me.fromTag("br");Ae(me.fromDom(t),o),J8(e,o.dom,!1),e.undoManager.add()},RH=e=>Zr(e.getNode()),NH=(e,t)=>RH(Le.after(t))?!0:Kl(e,Le.after(t)).map(o=>Zr(o.getNode())).getOr(!1),Q8=e=>e&&e.nodeName==="A"&&"href"in e,MH=e=>e.fold(yn,Q8,Q8,yn),BH=e=>{const t=kt(Kh,e),o=Le.fromRangeStart(e.selection.getRng());return Dm(t,e.getBody(),o).filter(MH)},IH=(e,t)=>{t.fold(Yt,kt(OH,e),kt(DH,e),Yt)},eI={insert:(e,t)=>{const o=BH(e);o.isSome()?o.each(kt(IH,e)):TH(e,t)},fakeEventName:"insertLineBreak"},tI=(e,t)=>b7(e).filter(o=>t.length>0&&nr(me.fromDom(o),t)).isSome(),PH=e=>tI(e,K4(e)),LH=e=>tI(e,Y4(e)),ju=xn.generate([{br:[]},{block:[]},{none:[]}]),FH=(e,t)=>LH(e),oI=e=>(t,o)=>cH(t)===e,nI=(e,t)=>(o,r)=>lH(o)===e.toUpperCase()===t,HH=e=>{const t=L4(e.dom,e.selection.getStart());return Io(t)},H4=e=>nI("pre",e),$H=()=>nI("summary",!0),g5=e=>(t,o)=>Vw(t)===e,VH=(e,t)=>PH(e),h5=(e,t)=>t,jH=e=>{const t=ol(e),o=L4(e.dom,e.selection.getStart());return $e(o)&&e.schema.isValidChild(o.nodeName,t)},UH=e=>{const t=e.selection.getRng(),o=me.fromDom(t.startContainer),a=Ic(o,t.startOffset).map(c=>wi(c)&&!qr(c));return t.collapsed&&a.getOr(!0)},zf=(e,t)=>(o,r)=>uo(e,(c,d)=>c&&d(o,r),!0)?H.some(t):H.none(),ZH=(e,t)=>pD([zf([FH],ju.none()),zf([H4(!0),HH],ju.none()),zf([$H()],ju.br()),zf([H4(!0),g5(!1),h5],ju.br()),zf([H4(!0),g5(!1)],ju.block()),zf([H4(!0),g5(!0),h5],ju.block()),zf([H4(!0),g5(!0)],ju.br()),zf([oI(!0),h5],ju.br()),zf([oI(!0)],ju.block()),zf([VH],ju.br()),zf([h5],ju.br()),zf([jH],ju.block()),zf([UH],ju.block())],[e,!!(t&&t.shiftKey)]).getOr(ju.none()),b5=(e,t,o)=>{t.selection.isCollapsed()||UA(t),!($e(o)&&f5(t,e.fakeEventName).isDefaultPrevented())&&(e.insert(t,o),$e(o)&&P4(t,e.fakeEventName))},rI=(e,t)=>{const o=()=>b5(eI,e,t),r=()=>b5(X8,e,t),a=ZH(e,t);switch(jw(e)){case"linebreak":a.fold(o,o,Yt);break;case"block":a.fold(r,r,Yt);break;case"invert":a.fold(r,o,Yt);break;default:a.fold(o,r,Yt);break}},sI=lt(),WH=sI.os.isiOS()&&sI.browser.isSafari(),aI=(e,t)=>{t.isDefaultPrevented()||(t.preventDefault(),tM(e.undoManager),e.undoManager.transact(()=>{rI(e,t)}))},qH=e=>{if(!e.collapsed)return!1;const t=e.startContainer;if(pt(t)){const o=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,r=t.data.charAt(e.startOffset-1);return o.test(r)}else return!1},GH=e=>{let t=H.none();const o=a=>{t=H.some(a.selection.getBookmark()),a.undoManager.add()},r=(a,c)=>{a.undoManager.undo(),t.fold(Yt,d=>a.selection.moveToBookmark(d)),aI(a,c),t=H.none()};e.on("keydown",a=>{a.keyCode===Ot.ENTER&&(WH&&qH(e.selection.getRng())?o(e):aI(e,a))}),e.on("keyup",a=>{a.keyCode===Ot.ENTER&&t.each(()=>r(e,a))})},KH=(e,t,o)=>{const r=Fo.os.isMacOS()||Fo.os.isiOS();Fg([{keyCode:Ot.END,action:Oo(Vu,e,!0)},{keyCode:Ot.HOME,action:Oo(Vu,e,!1)},...r?[]:[{keyCode:Ot.HOME,action:Oo(pb,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:Ot.END,action:Oo(pb,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:Ot.END,action:Oo(D4,e,!0)},{keyCode:Ot.HOME,action:Oo(D4,e,!1)},{keyCode:Ot.END,action:Oo(gv,e,!0,t)},{keyCode:Ot.HOME,action:Oo(gv,e,!1,t)}],o).each(a=>{o.preventDefault()})},YH=(e,t)=>{e.on("keydown",o=>{o.isDefaultPrevented()||KH(e,t,o)})},XH=e=>{e.on("input",t=>{t.isComposing||yN(e)})},JH=lt(),QH=(e,t,o)=>{Fg([{keyCode:Ot.PAGE_UP,action:Oo(gv,e,!1,t)},{keyCode:Ot.PAGE_DOWN,action:Oo(gv,e,!0,t)}],o)},iI=e=>e.stopImmediatePropagation(),lI=e=>e.keyCode===Ot.PAGE_UP||e.keyCode===Ot.PAGE_DOWN,cI=(e,t,o)=>{o&&!e.get()?t.on("NodeChange",iI,!0):!o&&e.get()&&t.off("NodeChange",iI),e.set(o)},e9=(e,t)=>{if(JH.os.isMacOS())return;const o=Ms(!1);e.on("keydown",r=>{lI(r)&&cI(o,e,!0)}),e.on("keyup",r=>{r.isDefaultPrevented()||QH(e,t,r),lI(r)&&o.get()&&(cI(o,e,!1),e.nodeChanged())})},t9=e=>{e.on("beforeinput",t=>{(!e.selection.isEditable()||zn(t.getTargetRanges(),o=>!eA(e.dom,o)))&&t.preventDefault()})},dI=(e,t)=>{const o=t.container(),r=t.offset();return pt(o)?(o.insertData(r,e),H.some(Le(o,r+e.length))):ax(t).map(a=>{const c=me.fromText(e);return t.isAtEnd()?Ae(a,c):Kr(a,c),Le(c.dom,e.length)})},uI=kt(dI,Ca),fI=kt(dI," "),o9=(e,t,o)=>k2(e,t,o)?uI(t):fI(t),n9=e=>t=>t.fold(o=>Qc(e.dom,Le.before(o)),o=>yo(o),o=>Kd(o),o=>Kl(e.dom,Le.after(o))),r9=(e,t,o)=>r=>k2(e,r,o)?uI(t):fI(t),mI=e=>t=>{e.selection.setRng(t.toRange()),e.nodeChanged()},s9=(e,t)=>e.isEditable(e.getParent(t,"summary")),a9=e=>{const t=Le.fromRangeStart(e.selection.getRng()),o=me.fromDom(e.getBody());if(e.selection.isCollapsed()){const r=kt(Kh,e),a=Le.fromRangeStart(e.selection.getRng());return Dm(r,e.getBody(),a).bind(n9(o)).map(c=>()=>r9(o,t,e.schema)(c).each(mI(e)))}else return H.none()},i9=e=>{const t=()=>{const o=me.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const r=Le.fromRangeStart(e.selection.getRng());o9(o,r,e.schema).each(mI(e))};return ld(Fo.browser.isFirefox()&&e.selection.isEditable()&&s9(e.dom,e.selection.getRng().startContainer),t)},l9=(e,t)=>{bw([{keyCode:Ot.SPACEBAR,action:Oo(a9,e)},{keyCode:Ot.SPACEBAR,action:Oo(i9,e)}],t).each(o=>{t.preventDefault(),f5(e,"insertText",{data:" "}).isDefaultPrevented()||(o(),P4(e,"insertText",{data:" "}))})},c9=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||l9(e,t)})},d9=e=>x3(e)?[{keyCode:Ot.TAB,action:Oo(f8,e,!0)},{keyCode:Ot.TAB,shiftKey:!0,action:Oo(f8,e,!1)}]:[],u9=(e,t)=>{Fg([...d9(e)],t).each(o=>{t.preventDefault()})},f9=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||u9(e,t)})},m9=e=>{if(e.addShortcut("Meta+P","","mcePrint"),UF(e),Om(e))return Ms(null);{const t=HD(e);return t9(e),mb(e),EL(e,t),aH(e,t),GH(e),c9(e),XH(e),f9(e),YH(e,t),e9(e,t),t}};class p9{constructor(t){this.lastPath=[],this.editor=t;let o;const r=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",a=>{const c=t.selection.getRng(),d={startContainer:c.startContainer,startOffset:c.startOffset,endContainer:c.endContainer,endOffset:c.endOffset};(a.type==="nodechange"||!p0(d,o))&&t.dispatch("SelectionChange"),o=d}),t.on("contextmenu",()=>{py(t),t.dispatch("SelectionChange")}),t.on("SelectionChange",()=>{const a=t.selection.getStart(!0);a&&ly(t)&&!r.isSameElementPath(a)&&t.dom.isChildOf(a,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("mouseup",a=>{!a.isDefaultPrevented()&&ly(t)&&(t.selection.getNode().nodeName==="IMG"?od.setEditorTimeout(t,()=>{t.nodeChanged()}):t.nodeChanged())})}nodeChanged(t={}){const o=this.editor.selection;let r;if(this.editor.initialized&&o&&!J5(this.editor)&&!this.editor.mode.isReadOnly()){const a=this.editor.getBody();r=o.getStart(!0)||a,(r.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(r,a))&&(r=a);const c=[];this.editor.dom.getParent(r,d=>d===a?!0:(c.push(d),!1)),this.editor.dispatch("NodeChange",{...t,element:r,parents:c})}}isSameElementPath(t){let o;const r=this.editor,a=Js(r.dom.getParents(t,Co,r.getBody()));if(a.length===this.lastPath.length){for(o=a.length;o>=0&&a[o]===this.lastPath[o];o--);if(o===-1)return this.lastPath=a,!0}return this.lastPath=a,!1}}const pI=Fi("image"),g9=e=>{const t=e;return H.from(t[pI])},h9=(e,t)=>{const o=e;o[pI]=t},_7=Fi("event"),b9=e=>{const t=e;return H.from(t[_7])},y5=e=>t=>{const o=t;o[_7]=e},y9=(e,t)=>y5(t)(e),gI=y5(0),v9=y5(2),x9=y5(1),k9=(e=>t=>{const o=t;return H.from(o[_7]).exists(r=>r===e)})(0),w9=()=>Object.freeze({length:0,item:e=>null}),C7=Fi("mode"),_9=e=>{const t=e;return H.from(t[C7])},v5=e=>t=>{const o=t;o[C7]=e},hI=(e,t)=>v5(t)(e),bI=v5(0),S7=v5(2),C9=v5(1),yI=e=>t=>{const o=t;return H.from(o[C7]).exists(r=>r===e)},xw=yI(0),vI=yI(1),S9=(e,t)=>({...t,get length(){return t.length},add:(o,r)=>{if(xw(e))if(mt(o)){if(!er(r))return t.add(o,r)}else return t.add(o);return null},remove:o=>{xw(e)&&t.remove(o)},clear:()=>{xw(e)&&t.clear()}}),E9=["none","copy","link","move"],A9=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],E7=()=>{const e=new window.DataTransfer;let t="move",o="all";const r={get dropEffect(){return t},set dropEffect(a){on(E9,a)&&(t=a)},get effectAllowed(){return o},set effectAllowed(a){k9(r)&&on(A9,a)&&(o=a)},get items(){return S9(r,e.items)},get files(){return vI(r)?w9():e.files},get types(){return e.types},setDragImage:(a,c,d)=>{xw(r)&&(h9(r,{image:a,x:c,y:d}),e.setDragImage(a,c,d))},getData:a=>vI(r)?"":e.getData(a),setData:(a,c)=>{xw(r)&&e.setData(a,c)},clearData:a=>{xw(r)&&e.clearData(a)}};return bI(r),r},z9=e=>{const t=E7(),o=_9(e);return S7(e),gI(t),t.dropEffect=e.dropEffect,t.effectAllowed=e.effectAllowed,g9(e).each(r=>t.setDragImage(r.image,r.x,r.y)),Re(e.types,r=>{r!=="Files"&&t.setData(r,e.getData(r))}),Re(e.files,r=>t.items.add(r)),b9(e).each(r=>{y9(t,r)}),o.each(r=>{hI(e,r),hI(t,r)}),t},T9=e=>{const t=e.getData("text/html");return t===""?H.none():H.some(t)},xI=(e,t)=>e.setData("text/html",t),kI="x-tinymce/html",x5=we(kI),A7="<!-- "+kI+" -->",O9=e=>A7+e,D9=e=>e.replace(A7,""),wI=e=>e.indexOf(A7)!==-1,R9=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),N9=(e,t)=>{let o="<"+e;const r=Va(t,(a,c)=>c+'="'+Jm.encodeAllRaw(a)+'"');return r.length&&(o+=" "+r.join(" ")),o+">"},M9=(e,t,o)=>{const r=e.split(/\n\n/),a=N9(t,o),c="</"+t+">",d=Jo(r,v=>v.split(/\n/).join("<br />")),g=v=>a+v+c;return d.length===1?d[0]:Jo(d,g).join("")},_I="%MCEPASTEBIN%",B9=(e,t)=>{const{dom:o,selection:r}=e,a=e.getBody();t.set(r.getRng());const c=o.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},_I);Fo.browser.isFirefox()&&o.setStyle(c,"left",o.getStyle(a,"direction",!0)==="rtl"?65535:-65535),o.bind(c,"beforedeactivate focusin focusout",d=>{d.stopPropagation()}),c.focus(),r.select(c,!0)},I9=(e,t)=>{const o=e.dom;if(z7(e)){let r;const a=t.get();for(;r=z7(e);)o.remove(r),o.unbind(r);a&&e.selection.setRng(a)}t.set(null)},z7=e=>e.dom.get("mcepastebin"),P9=e=>$e(e)&&e.id==="mcepastebin",L9=e=>{const t=e.dom,o=(d,g)=>{d.appendChild(g),t.remove(g,!0)},[r,...a]=et(e.getBody().childNodes,P9);Re(a,d=>{o(r,d)});const c=t.select("div[id=mcepastebin]",r);for(let d=c.length-1;d>=0;d--){const g=t.create("div");r.insertBefore(g,c[d]),o(g,c[d])}return r?r.innerHTML:""},CI=e=>e===_I,F9=e=>{const t=Ms(null);return{create:()=>B9(e,t),remove:()=>I9(e,t),getEl:()=>z7(e),getHtml:()=>L9(e),getLastRng:t.get}},SI=(e,t)=>(ut.each(t,o=>{it(o,RegExp)?e=e.replace(o,""):e=e.replace(o[0],o[1])}),e),H9=e=>{const t=qc(),o=Ry({},t);let r="";const a=t.getVoidElements(),c=ut.makeMap("script noscript style textarea video audio iframe object"," "),d=t.getBlockElements(),g=v=>{const A=v.name,M=v;if(A==="br"){r+=`
`;return}if(A!=="wbr"){if(a[A]&&(r+=" "),c[A]){r+=" ";return}if(v.type===3&&(r+=v.value),!(v.name in t.getVoidElements())){let I=v.firstChild;if(I)do g(I);while(I=I.next)}d[A]&&M.next&&(r+=`
`,A==="p"&&(r+=`
`))}};return e=SI(e,[/<!\[[^\]]+\]>/g]),g(o.parse(e)),r},EI=e=>(e=SI(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(o,r,a)=>!r&&!a?" ":Ca],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),$9=e=>{let t=0;return()=>e+t++},V9=e=>{const t=e.toLowerCase(),o={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return ut.hasOwn(o,t)?"image/"+o[t]:"image/"+t},j9=(e,t)=>{const o=Ry({sanitize:b3(e),sandbox_iframes:r_(e),sandbox_iframes_exclusions:Qv(e),convert_unsafe_embeds:w3(e)},e.schema);o.addNodeFilter("meta",a=>{ut.each(a,c=>{c.remove()})});const r=o.parse(t,{forced_root_block:!1,isRootContent:!0});return _p({validate:!0},e.schema).serialize(r)},AI=(e,t)=>({content:e,cancelled:t}),U9=(e,t,o)=>{const r=e.dom.create("div",{style:"display:none"},t),a=_x(e,r,o);return AI(a.node.innerHTML,a.isDefaultPrevented())},Z9=(e,t,o)=>{const r=d0(e,t,o),a=j9(e,r.content);return e.hasEventListeners("PastePostProcess")&&!r.isDefaultPrevented()?U9(e,a,o):AI(a,r.isDefaultPrevented())},W9=(e,t,o)=>Z9(e,t,o),T7=(e,t)=>(e.insertContent(t,{merge:rR(e),paste:!0}),!0),O7=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),q9=(e,t)=>O7(t)&&zn(n_(e),o=>Mi(t.toLowerCase(),`.${o.toLowerCase()}`)),G9=(e,t,o)=>(e.undoManager.extra(()=>{o(e,t)},()=>{e.insertContent('<img src="'+t+'">')}),!0),K9=(e,t,o)=>(e.undoManager.extra(()=>{o(e,t)},()=>{e.execCommand("mceInsertLink",!1,t)}),!0),Y9=(e,t,o)=>!e.selection.isCollapsed()&&O7(t)?K9(e,t,o):!1,X9=(e,t,o)=>q9(e,t)?G9(e,t,o):!1,J9=(e,t)=>{ut.each([Y9,X9,T7],o=>!o(e,t,T7))},Q9=(e,t,o)=>{o||!Eh(e)?T7(e,t):J9(e,t)},e$=$9("mceclip"),t$=e=>{const t=E7();return xI(t,e),S7(t),t},zI=(e,t,o,r,a)=>{const c=W9(e,t,o);if(!c.cancelled){const d=c.content,g=()=>Q9(e,d,r);a?f5(e,"insertFromPaste",{dataTransfer:t$(d)}).isDefaultPrevented()||(g(),P4(e,"insertFromPaste")):g()}},k5=(e,t,o,r)=>{const a=o||wI(t);zI(e,D9(t),a,!1,r)},D7=(e,t,o)=>{const r=e.dom.encode(t).replace(/\r\n/g,`
`),a=Wm(r,p3(e)),c=M9(a,ol(e),M1(e));zI(e,c,!1,!0,o)},TI=e=>{const t={};if(e&&e.types)for(let o=0;o<e.types.length;o++){const r=e.types[o];try{t[r]=e.getData(r)}catch{t[r]=""}}return t},Ky=(e,t)=>t in e&&e[t].length>0,OI=e=>Ky(e,"text/html")||Ky(e,"text/plain"),o$=(e,t)=>{const o=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return $e(o)?e.dom.encode(o[1]):void 0},n$=(e,t,o,r)=>{const a=e$(),c=hp(e)&&$e(o.name),d=c?o$(e,o.name):a,g=c?o.name:void 0,v=t.create(a,o,r,d,g);return t.add(v),v},r$=(e,t)=>{Bk(t.uri).each(({data:o,type:r,base64Encoded:a})=>{const c=a?o:btoa(o),d=t.file,g=e.editorUpload.blobCache,v=g.getByData(c,r),A=v??n$(e,g,d,c);k5(e,`<img src="${A.blobUri()}">`,!1,!0)})},s$=e=>e.type==="paste",a$=e=>Promise.all(Jo(e,t=>Uz(t).then(o=>({file:t,uri:o})))),i$=e=>{const t=n_(e);return o=>lr(o.type,"image/")&&zn(t,r=>V9(r)===o.type)},l$=(e,t)=>{const o=t.items?vn(Vo(t.items),a=>a.kind==="file"?[a.getAsFile()]:[]):[],r=t.files?Vo(t.files):[];return et(o.length>0?o:r,i$(e))},DI=(e,t,o)=>{const r=s$(t)?t.clipboardData:t.dataTransfer;if(mm(e)&&r){const a=l$(e,r);if(a.length>0)return t.preventDefault(),a$(a).then(c=>{o&&e.selection.setRng(o),Re(c,d=>{r$(e,d)})}),!0}return!1},c$=e=>{var t,o;return Fo.os.isAndroid()&&((o=(t=e.clipboardData)===null||t===void 0?void 0:t.items)===null||o===void 0?void 0:o.length)===0},d$=e=>Ot.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,R7=(e,t,o,r,a)=>{let c=EI(o);const d=Ky(t,x5())||wI(o),g=!d&&R9(c),v=O7(c);(CI(c)||!c.length||g&&!v)&&(r=!0),(r||v)&&(Ky(t,"text/plain")&&g?c=t["text/plain"]:c=H9(c)),!CI(c)&&(r?D7(e,c,a):k5(e,c,d,a))},u$=(e,t,o)=>{let r;const a=()=>t.getLastRng()||e.selection.getRng();e.on("keydown",c=>{d$(c)&&!c.isDefaultPrevented()&&(r=c.shiftKey&&c.keyCode===86)}),e.on("paste",c=>{if(c.isDefaultPrevented()||c$(c))return;const d=o.get()==="text"||r;r=!1;const g=TI(c.clipboardData);!OI(g)&&DI(e,c,a())||(Ky(g,"text/html")?(c.preventDefault(),R7(e,g,g["text/html"],d,!0)):Ky(g,"text/plain")&&Ky(g,"text/uri-list")?(c.preventDefault(),R7(e,g,g["text/plain"],d,!0)):(t.create(),od.setEditorTimeout(e,()=>{const v=t.getHtml();t.remove(),R7(e,g,v,d,!1)},0)))})},f$=e=>{const t=a=>lr(a,"webkit-fake-url"),o=a=>lr(a,"data:"),r=a=>{var c;return((c=a.data)===null||c===void 0?void 0:c.paste)===!0};e.parser.addNodeFilter("img",(a,c,d)=>{if(!mm(e)&&r(d))for(const g of a){const v=g.attr("src");mt(v)&&!g.attr("data-mce-object")&&v!==Fo.transparentSrc&&(t(v)||!sR(e)&&o(v))&&g.remove()}})},m$=(e,t,o)=>{u$(e,t,o),f$(e)},p$=(e,t)=>{t.get()==="text"?(t.set("html"),Cx(e,!1)):(t.set("text"),Cx(e,!0)),e.focus()},g$=(e,t)=>{e.addCommand("mceTogglePlainTextPaste",()=>{p$(e,t)}),e.addCommand("mceInsertClipboardContent",(o,r)=>{r.html&&k5(e,r.html,r.internal,!1),r.text&&D7(e,r.text,!1)})},h$=(e,t,o)=>{if(e)try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",o),e.setData(x5(),t),!0}catch{return!1}else return!1},RI=(e,t,o,r)=>{h$(e.clipboardData,t.html,t.text)?(e.preventDefault(),r()):o(t.html,r)},NI=e=>(t,o)=>{const{dom:r,selection:a}=e,c=r.create("div",{contenteditable:"false","data-mce-bogus":"all"}),d=r.create("div",{contenteditable:"true"},t);r.setStyles(c,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),c.appendChild(d),r.add(e.getBody(),c);const g=a.getRng();d.focus();const v=r.createRng();v.selectNodeContents(d),a.setRng(v),od.setEditorTimeout(e,()=>{a.setRng(g),r.remove(c),o()},0)},MI=e=>({html:O9(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),b$=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),BI=e=>!e.selection.isCollapsed()||b$(e),y$=e=>t=>{!t.isDefaultPrevented()&&BI(e)&&e.selection.isEditable()&&RI(t,MI(e),NI(e),()=>{if(Fo.browser.isChromium()||Fo.browser.isFirefox()){const o=e.selection.getRng();od.setEditorTimeout(e,()=>{e.selection.setRng(o),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},v$=e=>t=>{!t.isDefaultPrevented()&&BI(e)&&RI(t,MI(e),NI(e),Yt)},x$=e=>{e.on("cut",y$(e)),e.on("copy",v$(e))},II=(e,t)=>{var o,r;return hg.getCaretRangeFromPoint((o=t.clientX)!==null&&o!==void 0?o:0,(r=t.clientY)!==null&&r!==void 0?r:0,e.getDoc())},k$=e=>{const t=e["text/plain"];return t?t.indexOf("file://")===0:!1},PI=(e,t)=>{e.focus(),t&&e.selection.setRng(t)},w$=e=>zn(e.files,t=>/^image\//.test(t.type)),_$=(e,t,o,r)=>{const a=e.getParent(o,d=>Uc(t,d));if(!ct(e.getParent(o,"summary")))return!0;if(a&&po(r,"text/html")){const d=new DOMParser().parseFromString(r["text/html"],"text/html").body;return!ct(d.querySelector(a.nodeName.toLowerCase()))}else return!1},C$=e=>{e.on("input",t=>{const o=r=>ct(r.querySelector("summary"));if(t.inputType==="deleteByDrag"){const r=et(e.dom.select("details"),o);Re(r,a=>{Zr(a.firstChild)&&a.firstChild.remove();const c=e.dom.create("summary");c.appendChild(Tu().dom),a.prepend(c)})}})},S$=(e,t)=>{vf(e)&&e.on("dragend dragover draggesture dragdrop drop drag",o=>{o.preventDefault(),o.stopPropagation()}),mm(e)||e.on("drop",o=>{const r=o.dataTransfer;r&&w$(r)&&o.preventDefault()}),e.on("drop",o=>{if(o.isDefaultPrevented())return;const r=II(e,o);if(Io(r))return;const a=TI(o.dataTransfer),c=Ky(a,x5());if((!OI(a)||k$(a))&&DI(e,o,r))return;const d=a[x5()],g=d||a["text/html"]||a["text/plain"],v=_$(e.dom,e.schema,r.startContainer,a),A=t.get();A&&!v||g&&(o.preventDefault(),od.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(d||A&&v)&&e.execCommand("Delete"),PI(e,r);const M=EI(g);a["text/html"]?k5(e,M,c,!0):D7(e,M,!0)})}))}),e.on("dragstart",o=>{t.set(!0)}),e.on("dragover dragend",o=>{mm(e)&&!t.get()&&(o.preventDefault(),PI(e,II(e,o))),o.type==="dragend"&&t.set(!1)}),C$(e)},E$=e=>{const t=a=>c=>{a(e,c)},o=nR(e);Pt(o)&&e.on("PastePreProcess",t(o));const r=L1(e);Pt(r)&&e.on("PastePostProcess",t(r))},A$=(e,t)=>{e.on("PastePreProcess",o=>{o.content=t(e,o.content,o.internal)})},z$=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,LI=e=>ut.trim(e).replace(z$,Jg).toLowerCase(),T$=(e,t,o)=>{const r=m3(e);if(o||r==="all"||!Qw(e))return t;const a=r?r.split(/[, ]/):[];if(a&&r!=="none"){const c=e.dom,d=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(g,v,A,M)=>{const I=c.parseStyle(c.decode(A)),L={};for(let re=0;re<a.length;re++){const X=I[a[re]];let ae=X,ye=c.getStyle(d,a[re],!0);/color/.test(a[re])&&(ae=LI(ae),ye=LI(ye)),ye!==ae&&(L[a[re]]=X)}const Y=c.serializeStyle(L,"span");return Y?v+' style="'+Y+'"'+M:v+M})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(c,d,g,v)=>d+' style="'+g+'"'+v),t},O$=e=>{(Fo.browser.isChromium()||Fo.browser.isSafari())&&A$(e,T$)},D$=e=>{const t=Ms(!1),o=Ms(Ah(e)?"text":"html"),r=F9(e);O$(e),g$(e,o),E$(e),e.addQueryStateHandler("mceTogglePlainTextPaste",()=>o.get()==="text"),e.on("PreInit",()=>{x$(e),S$(e,t),m$(e,r,o)})},R$=e=>{e.on("click",t=>{e.dom.getParent(t.target,"details")&&t.preventDefault()})},N$=e=>{e.parser.addNodeFilter("details",t=>{const o=Jv(e);Re(t,r=>{o==="expanded"?r.attr("open","open"):o==="collapsed"&&r.attr("open",null)})}),e.serializer.addNodeFilter("details",t=>{const o=k3(e);Re(t,r=>{o==="expanded"?r.attr("open","open"):o==="collapsed"&&r.attr("open",null)})})},M$=e=>{R$(e),N$(e)},B$=Zr,FI=pt,I$=e=>zo(e.dom),P$=e=>Zl(e.dom),HI=e=>t=>fn(me.fromDom(e),t),L$=(e,t,o)=>zs(me.fromDom(e),r=>P$(r)||o.isBlock(gn(r)),HI(t)).getOr(me.fromDom(t)).dom,$I=(e,t)=>zs(me.fromDom(e),I$,HI(t)),VI=(e,t,o)=>{const r=new Ka(e,t),a=o?r.next.bind(r):r.prev.bind(r);let c=e;for(let d=o?e:a();d&&!B$(d);d=a())vd(d)&&(c=d);return c},F$=(e,t,o)=>{const a=Le.fromRangeStart(e).getNode(),c=L$(a,t,o),d=VI(a,c,!1),g=VI(a,c,!0),v=document.createRange();return $I(d,c).fold(()=>{FI(d)?v.setStart(d,0):v.setStartBefore(d)},A=>v.setStartBefore(A.dom)),$I(g,c).fold(()=>{FI(g)?v.setEnd(g,g.data.length):v.setEndAfter(g)},A=>v.setEndAfter(A.dom)),v},H$=e=>{const t=F$(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(mk(t))},$$=e=>{e.on("mousedown",t=>{t.detail>=3&&(t.preventDefault(),H$(e))})};var kw;(function(e){e.Before="before",e.After="after"})(kw||(kw={}));const V$=(e,t)=>Math.abs(e.left-t),j$=(e,t)=>Math.abs(e.right-t),U$=(e,t)=>e>=t.top&&e<=t.bottom,Z$=(e,t)=>e.top<t.bottom&&e.bottom>t.top,W$=(e,t)=>{const o=_1(e,t)/Math.min(e.height,t.height);return Z$(e,t)&&o>.5},q$=(e,t)=>{const o=et(e,r=>U$(t,r));return eg(o).fold(()=>[[],e],r=>{const{pass:a,fail:c}=rt(e,d=>W$(d,r));return[a,c]})},G$=(e,t)=>({node:e.node,position:V$(e,t)<j$(e,t)?kw.Before:kw.After}),K$=(e,t,o)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),N7=(e,t,o,r)=>{const a=I=>vd(I.node)?H.some(I):jt(I.node)?N7(Vo(I.node.childNodes),t,o,!1):H.none(),c=(I,L,Y)=>a(L).filter(re=>Math.abs(Y(I,t,o)-Y(re,t,o))<2&&pt(re.node)),d=(I,L)=>{const Y=Qo(I,(re,X)=>L(re,t,o)-L(X,t,o));return Rs(Y,a).map(re=>r&&!pt(re.node)&&Y.length>1?c(re,Y[1],L).getOr(re):re)},[g,v]=q$(RD(e),o),{pass:A,fail:M}=rt(v,I=>I.top<o);return d(g,K$).orThunk(()=>d(M,Ub)).orThunk(()=>d(A,Ub))},Y$=(e,t,o,r)=>{const a=(c,d)=>{const g=A=>jt(A)&&A.classList.contains("mce-drag-container"),v=et(c.dom.childNodes,nt(g));return d.fold(()=>N7(v,o,r,!0),A=>{const M=et(v,I=>I!==A.dom);return N7(M,o,r,!0)}).orThunk(()=>(fn(c,e)?H.none():Id(c)).bind(M=>a(M,H.some(c))))};return a(t,H.none())},X$=(e,t,o)=>{const r=me.fromDom(e),a=zl(r),d=me.fromPoint(a,t,o).filter(g=>Ra(r,g)).getOr(r);return Y$(r,d,t,o)},jI=(e,t,o)=>X$(e,t,o).filter(r=>V1(r.node)).map(r=>G$(r,t)),UI=e=>{var t,o;const r=e.getBoundingClientRect(),a=e.ownerDocument,c=a.documentElement,d=a.defaultView;return{top:r.top+((t=d==null?void 0:d.scrollY)!==null&&t!==void 0?t:0)-c.clientTop,left:r.left+((o=d==null?void 0:d.scrollX)!==null&&o!==void 0?o:0)-c.clientLeft}},J$=e=>e.inline?UI(e.getBody()):{left:0,top:0},Q$=e=>{const t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},eV=e=>{const t=e.getBody(),o=e.getDoc().documentElement,r={left:t.scrollLeft,top:t.scrollTop},a={left:t.scrollLeft||o.scrollLeft,top:t.scrollTop||o.scrollTop};return e.inline?r:a},tV=(e,t)=>{if(t.target.ownerDocument!==e.getDoc()){const o=UI(e.getContentAreaContainer()),r=eV(e);return{left:t.pageX-o.left+r.left,top:t.pageY-o.top+r.top}}return{left:t.pageX,top:t.pageY}},oV=(e,t,o)=>({pageX:o.left-e.left+t.left,pageY:o.top-e.top+t.top}),nV=(e,t)=>oV(J$(e),Q$(e),tV(e,t)),ZI=e=>({target:e,srcElement:e}),rV=(e,t,o,r)=>({...t,dataTransfer:r,type:e,...ZI(o)}),sV=(e,t,o)=>{const r=Dt("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:r,initEvent:r,preventDefault:Yt,stopImmediatePropagation:Yt,stopPropagation:Yt,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:r,initMouseEvent:r,getModifierState:r,dataTransfer:o,...ZI(t)}},aV=(e,t)=>{const o=z9(e);return t==="dragstart"?(gI(o),bI(o)):t==="drop"?(v9(o),S7(o)):(x9(o),C9(o)),o},iV=(e,t,o,r)=>{const a=aV(o,e);return er(r)?sV(e,t,a):rV(e,r,t,a)},w5=32,lV=100,_5=8,C5=16,WI=zo,cV=E1(WI,Zl),dV=(e,t,o)=>WI(o)&&o!==t&&e.isEditable(o.parentElement),uV=(e,t,o)=>Io(t)||t===o||e.dom.isChildOf(t,o)?!1:e.dom.isEditable(t),fV=(e,t,o,r)=>{const a=e.dom,c=t.cloneNode(!0);a.setStyles(c,{width:o,height:r}),a.setAttrib(c,"data-mce-selected",null);const d=a.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return a.setStyles(d,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:r}),a.setStyles(c,{margin:0,boxSizing:"border-box"}),d.appendChild(c),d},mV=(e,t)=>{e.parentNode!==t&&t.appendChild(e)},S5=(e,t)=>o=>()=>{const r=e==="left"?o.scrollX:o.scrollY;o.scroll({[e]:r+t,behavior:"smooth"})},qI=S5("left",-w5),GI=S5("left",w5),KI=S5("top",-w5),YI=S5("top",w5),pV=(e,t,o,r,a,c,d,g,v,A,M,I)=>{let L=0,Y=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+o>a&&(L=t.pageX+o-a),t.pageY+r>c&&(Y=t.pageY+r-c),e.style.width=o-L+"px",e.style.height=r-Y+"px";const re=v.clientHeight,X=v.clientWidth,ae=d+v.getBoundingClientRect().top,ye=g+v.getBoundingClientRect().left;M.on(Se=>{Se.intervalId.clear(),Se.dragging&&I&&(d+_5>=re?Se.intervalId.set(YI(A)):d-_5<=0?Se.intervalId.set(KI(A)):g+_5>=X?Se.intervalId.set(GI(A)):g-_5<=0?Se.intervalId.set(qI(A)):ae+C5>=window.innerHeight?Se.intervalId.set(YI(window)):ae-C5<=0?Se.intervalId.set(KI(window)):ye+C5>=window.innerWidth?Se.intervalId.set(GI(window)):ye-C5<=0&&Se.intervalId.set(qI(window)))})},XI=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},gV=(e,t)=>{const o=e.getParent(t.parentNode,e.isBlock);XI(t),o&&o!==e.getRoot()&&e.isEmpty(o)&&Yc(me.fromDom(o))},hV=e=>e.button===0,bV=(e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}),yV=(e,t)=>o=>{if(hV(o)){const r=Tn(t.dom.getParents(o.target),cV).getOr(null);if($e(r)&&dV(t.dom,t.getBody(),r)){const a=t.dom.getPos(r),c=t.getBody(),d=t.getDoc().documentElement;e.set({element:r,dataTransfer:E7(),dragging:!1,screenX:o.screenX,screenY:o.screenY,maxX:(t.inline?c.scrollWidth:d.offsetWidth)-2,maxY:(t.inline?c.scrollHeight:d.offsetHeight)-2,relX:o.pageX-a.x,relY:o.pageY-a.y,width:r.offsetWidth,height:r.offsetHeight,ghost:fV(t,r,r.offsetWidth,r.offsetHeight),intervalId:ql(lV)})}}},vV=(e,t,o)=>{e._selectionOverrides.hideFakeCaret(),jI(e.getBody(),t,o).fold(()=>e.selection.placeCaretAt(t,o),r=>{const a=e._selectionOverrides.showCaret(1,r.node,r.position===kw.Before,!1);a?e.selection.setRng(a):e.selection.placeCaretAt(t,o)})},$4=(e,t,o,r,a)=>{t==="dragstart"&&xI(r,e.dom.getOuterHTML(o));const c=iV(t,o,r,a);return e.dispatch(t,c)},xV=(e,t)=>{const o=ip((a,c)=>vV(t,a,c),0);t.on("remove",o.cancel);const r=e;return a=>e.on(c=>{const d=Math.max(Math.abs(a.screenX-c.screenX),Math.abs(a.screenY-c.screenY));if(!c.dragging&&d>10){const g=$4(t,"dragstart",c.element,c.dataTransfer,a);if($e(g.dataTransfer)&&(c.dataTransfer=g.dataTransfer),g.isDefaultPrevented())return;c.dragging=!0,t.focus()}if(c.dragging){const g=a.currentTarget===t.getDoc().documentElement,v=bV(c,nV(t,a));mV(c.ghost,t.getBody()),pV(c.ghost,v,c.width,c.height,c.maxX,c.maxY,a.clientY,a.clientX,t.getContentAreaContainer(),t.getWin(),r,g),o.throttle(a.clientX,a.clientY)}})},kV=e=>{const t=e.getSel();if($e(t)){const r=t.getRangeAt(0).startContainer;return pt(r)?r.parentNode:r}else return null},wV=(e,t)=>o=>{e.on(r=>{var a;if(r.intervalId.clear(),r.dragging){if(uV(t,kV(t.selection),r.element)){const c=(a=t.getDoc().elementFromPoint(o.clientX,o.clientY))!==null&&a!==void 0?a:t.getBody();$4(t,"drop",c,r.dataTransfer,o).isDefaultPrevented()||t.undoManager.transact(()=>{gV(t.dom,r.element),T9(r.dataTransfer).each(g=>t.insertContent(g)),t._selectionOverrides.hideFakeCaret()})}$4(t,"dragend",t.getBody(),r.dataTransfer,o)}}),QI(e)},JI=(e,t,o)=>{e.on(r=>{r.intervalId.clear(),r.dragging&&o.fold(()=>$4(t,"dragend",r.element,r.dataTransfer),a=>$4(t,"dragend",r.element,r.dataTransfer,a))}),QI(e)},_V=(e,t)=>o=>JI(e,t,H.some(o)),QI=e=>{e.on(t=>{t.intervalId.clear(),XI(t.ghost)}),e.clear()},CV=e=>{const t=da(),o=zr.DOM,r=document,a=yV(t,e),c=xV(t,e),d=wV(t,e),g=_V(t,e);e.on("mousedown",a),e.on("mousemove",c),e.on("mouseup",d),o.bind(r,"mousemove",c),o.bind(r,"mouseup",g),e.on("remove",()=>{o.unbind(r,"mousemove",c),o.unbind(r,"mouseup",g)}),e.on("keydown",v=>{v.keyCode===Ot.ESC&&JI(t,e,H.none())})},SV=e=>{const t=a=>{if(!a.isDefaultPrevented()){const c=a.dataTransfer;c&&(on(c.types,"Files")||c.files.length>0)&&(a.preventDefault(),a.type==="drop"&&tw(e,"Dropped file type is not supported"))}},o=a=>{Ix(e,a.target)&&t(a)},r=()=>{const a=zr.DOM,c=e.dom,d=document,g=e.inline?e.getBody():e.getDoc(),v=["drop","dragover"];Re(v,A=>{a.bind(d,A,o),c.bind(g,A,t)}),e.on("remove",()=>{Re(v,A=>{a.unbind(d,A,o),c.unbind(g,A,t)})})};e.on("init",()=>{od.setEditorTimeout(e,r,0)})},EV=e=>{CV(e),Yv(e)&&SV(e)},AV=e=>{const t=ip(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const o=e.selection.getRng();if(o.collapsed){const r=sw(e,o,!1);e.selection.setRng(r)}}},0);e.on("focus",()=>{t.throttle()}),e.on("blur",()=>{t.cancel()})},zV=e=>{e.on("init",()=>{e.on("focusin",t=>{const o=t.target;if(je(o)){const r=nu(e.getBody(),o),a=zo(r)?r:o;e.selection.getNode()!==a&&cv(e,a).each(c=>e.selection.setRng(c))}})})},V4=zo,eP=(e,t)=>nu(e.getBody(),t),TV=e=>{const t=e.selection,o=e.dom,r=e.getBody(),a=T3(e,r,o.isBlock,()=>gy(e)),c="sel-"+o.uniqueId(),d="data-mce-selected";let g;const v=Mt=>$e(Mt)&&o.hasClass(Mt,"mce-offscreen-selection"),A=Mt=>Mt!==r&&(V4(Mt)||je(Mt))&&o.isChildOf(Mt,r)&&o.isEditable(Mt.parentNode),M=Mt=>{Mt&&t.setRng(Mt)},I=(Mt,Ze,Ie,Qe=!0)=>e.dispatch("ShowCaret",{target:Ze,direction:Mt,before:Ie}).isDefaultPrevented()?null:(Qe&&t.scrollIntoView(Ze,Mt===-1),a.show(Ie,Ze)),L=Mt=>{Mt.hasAttribute("data-mce-caret")&&(up(Mt),t.scrollIntoView(Mt))},Y=()=>{e.on("click",Ze=>{o.isEditable(Ze.target)||(Ze.preventDefault(),e.focus())}),e.on("blur NewBlock",Ne),e.on("ResizeWindow FullscreenStateChanged",a.reposition),e.on("tap",Ze=>{const Ie=Ze.target,Qe=eP(e,Ie);V4(Qe)?(Ze.preventDefault(),cv(e,Qe).each(_e)):A(Ie)&&cv(e,Ie).each(_e)},!0),e.on("mousedown",Ze=>{const Ie=Ze.target;if(Ie!==r&&Ie.nodeName!=="HTML"&&!o.isChildOf(Ie,r)||!FM(e,Ze.clientX,Ze.clientY))return;Ne(),xt();const Qe=eP(e,Ie);V4(Qe)?(Ze.preventDefault(),cv(e,Qe).each(_e)):jI(r,Ze.clientX,Ze.clientY).each(Vt=>{Ze.preventDefault();const oo=I(1,Vt.node,Vt.position===kw.Before,!1);M(oo),mc(Qe)?Qe.focus():e.getBody().focus()})}),e.on("keypress",Ze=>{Ot.modifierPressed(Ze)||V4(t.getNode())&&Ze.preventDefault()}),e.on("GetSelectionRange",Ze=>{let Ie=Ze.range;if(g){if(!g.parentNode){g=null;return}Ie=Ie.cloneRange(),Ie.selectNode(g),Ze.range=Ie}}),e.on("SetSelectionRange",Ze=>{Ze.range=ae(Ze.range);const Ie=_e(Ze.range,Ze.forward);Ie&&(Ze.range=Ie)});const Mt=Ze=>jt(Ze)&&Ze.id==="mcepastebin";e.on("AfterSetSelectionRange",Ze=>{const Ie=Ze.range,Qe=Ie.startContainer.parentElement;!X(Ie)&&!Mt(Qe)&&xt(),v(Qe)||Ne()}),EV(e),AV(e),zV(e)},re=Mt=>Gl(Mt)||ph(Mt)||Du(Mt),X=Mt=>re(Mt.startContainer)||re(Mt.endContainer),ae=Mt=>{const Ze=e.schema.getVoidElements(),Ie=o.createRng(),Qe=Mt.startContainer,Vt=Mt.startOffset,oo=Mt.endContainer,nn=Mt.endOffset;return po(Ze,Qe.nodeName.toLowerCase())?Vt===0?Ie.setStartBefore(Qe):Ie.setStartAfter(Qe):Ie.setStart(Qe,Vt),po(Ze,oo.nodeName.toLowerCase())?nn===0?Ie.setEndBefore(oo):Ie.setEndAfter(oo):Ie.setEnd(oo,nn),Ie},ye=(Mt,Ze)=>{const Ie=me.fromDom(e.getBody()),Qe=e.getDoc(),Vt=Ge(Ie,"#"+c).getOrThunk(()=>{const mn=me.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',Qe);return Ws(mn,"id",c),vs(Ie,mn),mn}),oo=o.createRng();kr(Vt),Ts(Vt,[me.fromText(Ca,Qe),me.fromDom(Ze),me.fromText(Ca,Qe)]),oo.setStart(Vt.dom.firstChild,1),oo.setEnd(Vt.dom.lastChild,0),sn(Vt,{top:o.getPos(Mt,e.getBody()).y+"px"}),W_(Vt);const nn=t.getSel();return nn&&(nn.removeAllRanges(),nn.addRange(oo)),oo},Se=Mt=>{const Ze=Mt.cloneNode(!0),Ie=e.dispatch("ObjectSelected",{target:Mt,targetClone:Ze});if(Ie.isDefaultPrevented())return null;const Qe=ye(Mt,Ie.targetClone),Vt=me.fromDom(Mt);return Re(qs(me.fromDom(e.getBody()),`*[${d}]`),oo=>{fn(Vt,oo)||Go(oo,d)}),o.getAttrib(Mt,d)||Mt.setAttribute(d,"1"),g=Mt,xt(),Qe},_e=(Mt,Ze)=>{if(!Mt)return null;if(Mt.collapsed){if(!X(Mt)){const oo=Ze?1:-1,nn=W1(oo,r,Mt),mn=nn.getNode(!Ze);if($e(mn)){if(V1(mn))return I(oo,mn,Ze?!nn.isAtEnd():!1,!1);if(im(mn)&&zo(mn.nextSibling)){const gr=o.createRng();return gr.setStart(mn,0),gr.setEnd(mn,0),gr}}const ir=nn.getNode(Ze);if($e(ir)){if(V1(ir))return I(oo,ir,Ze?!1:!nn.isAtEnd(),!1);if(im(ir)&&zo(ir.previousSibling)){const gr=o.createRng();return gr.setStart(ir,1),gr.setEnd(ir,1),gr}}}return null}let Ie=Mt.startContainer,Qe=Mt.startOffset;const Vt=Mt.endOffset;if(pt(Ie)&&Qe===0&&V4(Ie.parentNode)&&(Ie=Ie.parentNode,Qe=o.nodeIndex(Ie),Ie=Ie.parentNode),!jt(Ie))return null;if(Vt===Qe+1&&Ie===Mt.endContainer){const oo=Ie.childNodes[Qe];if(A(oo))return Se(oo)}return null},Ne=()=>{g&&g.removeAttribute(d),Ge(me.fromDom(e.getBody()),"#"+c).each(Wn),g=null},ot=()=>{a.destroy(),g=null},xt=()=>{a.hide()};return Om(e)||Y(),{showCaret:I,showBlockCaretContainer:L,hideFakeCaret:xt,destroy:ot}},OV=(e,t)=>{let o=t;for(let r=e.previousSibling;pt(r);r=r.previousSibling)o+=r.data.length;return o},tP=(e,t,o,r,a)=>{if(pt(o)&&(r<0||r>o.data.length))return[];const c=a&&pt(o)?[OV(o,r)]:[r];let d=o;for(;d!==t&&d.parentNode;)c.push(e.nodeIndex(d,a)),d=d.parentNode;return d===t?c.reverse():[]},M7=(e,t,o,r,a,c,d=!1)=>{const g=tP(e,t,o,r,d),v=tP(e,t,a,c,d);return{start:g,end:v}},oP=(e,t)=>{const o=t.slice(),r=o.pop();return T(r)?uo(o,(c,d)=>c.bind(g=>H.from(g.childNodes[d])),H.some(e)).bind(c=>pt(c)&&(r<0||r>c.data.length)?H.none():H.some({node:c,offset:r})):H.none()},nP=(e,t)=>oP(e,t.start).bind(({node:o,offset:r})=>oP(e,t.end).map(({node:a,offset:c})=>{const d=document.createRange();return d.setStart(o,r),d.setEnd(a,c),d})),DV=(e,t,o,r=!1)=>M7(e,t,o.startContainer,o.startOffset,o.endContainer,o.endOffset,r),ww=(e,t,o)=>{if(t&&e.isEmpty(t)&&!o(t)){const r=t.parentNode;e.remove(t,pt(t.firstChild)&&Ji(t.firstChild.data)),ww(e,r,o)}},E5=(e,t,o,r=!0)=>{const a=t.startContainer.parentNode,c=t.endContainer.parentNode;t.deleteContents(),r&&!o(t.startContainer)&&(pt(t.startContainer)&&t.startContainer.data.length===0&&e.remove(t.startContainer),pt(t.endContainer)&&t.endContainer.data.length===0&&e.remove(t.endContainer),ww(e,a,o),a!==c&&ww(e,c,o))},A5=(e,t)=>H.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),B7=(e,t,o)=>{const r=e.dynamicPatternsLookup({text:o,block:t});return{...e,blockPatterns:Ti(r).concat(e.blockPatterns),inlinePatterns:Gd(r).concat(e.inlinePatterns)}},I7=(e,t,o,r)=>{const a=e.createRng();return a.setStart(t,0),a.setEnd(o,r),a.toString()},rP=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),z5=(e,t)=>{const o=e.createRng();return o.setStartAfter(t.start),o.setEndBefore(t.end),o},sP=(e,t,o)=>{const r=nP(e.getRoot(),o).getOrDie("Unable to resolve path range"),a=r.startContainer,c=r.endContainer,d=r.endOffset===0?c:c.splitText(r.endOffset),g=r.startOffset===0?a:a.splitText(r.startOffset),v=g.parentNode,A=d.parentNode;return{prefix:t,end:A.insertBefore(rP(e,t+"-end"),d),start:v.insertBefore(rP(e,t+"-start"),g)}},aP=(e,t,o)=>{ww(e,e.get(t.prefix+"-end"),o),ww(e,e.get(t.prefix+"-start"),o)},P7=e=>e.start.length===0,RV=e=>(t,o)=>{const a=t.data.substring(0,o),c=a.lastIndexOf(e.charAt(e.length-1)),d=a.lastIndexOf(e);return d!==-1?d+e.length:c!==-1?c+1:-1},iP=(e,t,o,r)=>{const a=t.start;return s7(e,r.container,r.offset,RV(a),o).bind(d=>{var g,v;const A=(v=(g=o.textContent)===null||g===void 0?void 0:g.indexOf(a))!==null&&v!==void 0?v:-1;if(A!==-1&&d.offset>=A+a.length){const I=e.createRng();return I.setStart(d.container,d.offset-a.length),I.setEnd(d.container,d.offset),H.some(I)}else{const I=d.offset-a.length;return r7(d.container,I,o).map(L=>{const Y=e.createRng();return Y.setStart(L.container,L.offset),Y.setEnd(d.container,d.offset),Y}).filter(L=>L.toString()===a).orThunk(()=>iP(e,t,o,Pp(d.container,0)))}})},NV=(e,t,o,r,a,c=!1)=>{if(t.start.length===0&&!c){const d=e.createRng();return d.setStart(o,r),d.setEnd(o,r),H.some(d)}return n7(o,r,a).bind(d=>iP(e,t,a,d).bind(v=>{var A;if(c){if(v.endContainer===d.container&&v.endOffset===d.offset)return H.none();if(d.offset===0&&((A=v.endContainer.textContent)===null||A===void 0?void 0:A.length)===v.endOffset)return H.none()}return H.some(v)}))},MV=(e,t,o,r)=>{const a=e.dom,c=a.getRoot(),d=o.pattern,g=o.position.container,v=o.position.offset;return r7(g,v-o.pattern.end.length,t).bind(A=>{const M=M7(a,c,A.container,A.offset,g,v,r);if(P7(d))return H.some({matches:[{pattern:d,startRng:M,endRng:M}],position:A});{const I=T5(e,o.remainingPatterns,A.container,A.offset,t,r),L=I.getOr({matches:[],position:A}),Y=L.position;return NV(a,d,Y.container,Y.offset,t,I.isNone()).map(X=>{const ae=DV(a,c,X,r);return{matches:L.matches.concat([{pattern:d,startRng:ae,endRng:M}]),position:Pp(X.startContainer,X.startOffset)}})}})},T5=(e,t,o,r,a,c)=>{const d=e.dom;return n7(o,r,d.getRoot()).bind(g=>{const v=I7(d,a,o,r);for(let A=0;A<t.length;A++){const M=t[A];if(!Mi(v,M.end))continue;const I=t.slice();I.splice(A,1);const L=MV(e,a,{pattern:M,remainingPatterns:I,position:g},c);if(L.isNone()&&r>0)return T5(e,t,o,r-1,a,c);if(L.isSome())return L}return H.none()})},lP=(e,t,o)=>{e.selection.setRng(o),t.type==="inline-format"?Re(t.format,r=>{e.formatter.apply(r)}):e.execCommand(t.cmd,!1,t.value)},BV=(e,t,o,r)=>{const a=z5(e.dom,o);E5(e.dom,a,r),lP(e,t,a)},IV=(e,t,o,r,a)=>{const c=e.dom,d=z5(c,r),g=z5(c,o);E5(c,g,a),E5(c,d,a);const v={prefix:o.prefix,start:o.end,end:r.start},A=z5(c,v);lP(e,t,A)},PV=(e,t)=>{const o=Fi("mce_textpattern"),r=Gt(t,(a,c)=>{const d=sP(e,o+`_end${a.length}`,c.endRng);return a.concat([{...c,endMarker:d}])},[]);return Gt(r,(a,c)=>{const d=r.length-a.length-1,g=P7(c.pattern)?c.endMarker:sP(e,o+`_start${d}`,c.startRng);return a.concat([{...c,startMarker:g}])},[])},LV=e=>Qo(e,(t,o)=>o.end.length-t.end.length),FV=(e,t)=>{const o=Nr(e,r=>zn(t,a=>r.pattern.start===a.pattern.start&&r.pattern.end===a.pattern.end));return e.length===t.length?o?e:t:e.length>t.length?e:t},cP=(e,t,o,r,a,c)=>{const d=T5(e,a.inlinePatterns,o,r,t,c).fold(()=>[],v=>v.matches),g=T5(e,LV(a.inlinePatterns),o,r,t,c).fold(()=>[],v=>v.matches);return FV(d,g)},dP=(e,t)=>{if(t.length===0)return;const o=e.dom,r=e.selection.getBookmark(),a=PV(o,t);Re(a,c=>{const d=o.getParent(c.startMarker.start,o.isBlock),g=v=>v===d;P7(c.pattern)?BV(e,c.pattern,c.endMarker,g):IV(e,c.pattern,c.startMarker,c.endMarker,g),aP(o,c.endMarker,g),aP(o,c.startMarker,g)}),e.selection.moveToBookmark(r)},uP=(e,t,o)=>zL(t,0,t).map(r=>{const a=r.container;return m8(a,o.start.length,t).each(c=>{const d=e.createRng();d.setStart(a,0),d.setEnd(c.container,c.offset),E5(e,d,g=>g===t)}),a}),fP=e=>(t,o)=>{const r=t.dom,a=o.pattern,c=nP(r.getRoot(),o.range).getOrDie("Unable to resolve path range"),d=(g,v)=>{const A=v.get(g);return ve(A)&&dt(A).exists(M=>po(M,"block"))};return A5(t,c).each(g=>{a.type==="block-format"?d(a.format,t.formatter)&&t.undoManager.transact(()=>{e(t.dom,g,a),t.formatter.apply(a.format)}):a.type==="block-command"&&t.undoManager.transact(()=>{e(t.dom,g,a),t.execCommand(a.cmd,!1,a.value)})}),!0},HV=e=>Qo(e,(t,o)=>o.start.length-t.start.length),mP=e=>(t,o)=>{const r=HV(t),a=o.replace(Ca," ");return Tn(r,c=>e(c,o,a))},pP=(e,t)=>(o,r,a,c,d)=>{var g;d===void 0&&(d=(g=r.textContent)!==null&&g!==void 0?g:"");const v=o.dom,A=ol(o);return v.is(r,A)?e(a.blockPatterns,d).map(M=>t&&ut.trim(d).length===M.start.length?[]:[{pattern:M,range:M7(v,v.getRoot(),r,0,r,0,c)}]).getOr([]):[]},$V=e=>/^\s[^\s]/.test(e),VV=fP((e,t,o)=>{uP(e,t,o).each(r=>{const a=me.fromDom(r),c=sm(a);$V(c)&&ih(a,c.slice(1))})}),jV=mP((e,t,o)=>t.indexOf(e.start)===0||o.indexOf(e.start)===0),UV=pP(jV,!0),ZV=(e,t)=>{const o=e.selection.getRng();return A5(e,o).map(r=>{var a;const c=Math.max(0,o.startOffset),d=B7(t,r,(a=r.textContent)!==null&&a!==void 0?a:""),g=cP(e,r,o.startContainer,c,d,!0),v=UV(e,r,d,!0);return{inlineMatches:g,blockMatches:v}}).filter(({inlineMatches:r,blockMatches:a})=>a.length>0||r.length>0)},WV=(e,t)=>{if(t.length===0)return;const o=e.selection.getBookmark();Re(t,r=>VV(e,r)),e.selection.moveToBookmark(o)},qV=fP(uP),GV=mP((e,t,o)=>t===e.start||o===e.start),KV=pP(GV,!1),YV=(e,t)=>{const o=e.selection.getRng();return A5(e,o).map(r=>{const a=Math.max(0,o.startOffset),c=I7(e.dom,r,o.startContainer,a),d=B7(t,r,c);return KV(e,r,d,!1,c)}).filter(r=>r.length>0)},XV=(e,t)=>{Re(t,o=>qV(e,o))},JV=(e,t)=>ZV(e,t).fold(yn,({inlineMatches:o,blockMatches:r})=>(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{Iw(e),dP(e,o),WV(e,r);const a=e.selection.getRng(),c=n7(a.startContainer,a.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),c.each(d=>{const g=d.container;g.data.charAt(d.offset-1)===ds&&(g.deleteData(d.offset-1,1),ww(e.dom,g.parentNode,v=>v===e.dom.getRoot()))})}),!0)),QV=(e,t)=>{const o=e.selection.getRng();A5(e,o).map(r=>{const a=Math.max(0,o.startOffset-1),c=I7(e.dom,r,o.startContainer,a),d=B7(t,r,c),g=cP(e,r,o.startContainer,a,d,!1);g.length>0&&e.undoManager.transact(()=>{dP(e,g)})})},ej=(e,t)=>YV(e,t).fold(yn,o=>(e.undoManager.transact(()=>{XV(e,o)}),!0)),gP=(e,t,o)=>{for(let r=0;r<e.length;r++)if(o(e[r],t))return!0;return!1},tj=(e,t)=>gP(e,t,(o,r)=>o===r.keyCode&&!Ot.modifierPressed(r)),oj=(e,t)=>gP(e,t,(o,r)=>o.charCodeAt(0)===r.charCode),nj=e=>{const t=[",",".",";",":","!","?"],o=[32],r=()=>rg(aR(e).filter(d=>d.type==="inline-command"||d.type==="block-command"?e.queryCommandSupported(d.cmd):!0),F1(e)),a=()=>e_(e);e.on("keydown",d=>{if(d.keyCode===13&&!Ot.modifierPressed(d)&&e.selection.isCollapsed()){const g=bf(r(),"enter");(g.inlinePatterns.length>0||g.blockPatterns.length>0||a())&&JV(e,g)&&d.preventDefault()}},!0),e.on("keydown",d=>{if(d.keyCode===32&&e.selection.isCollapsed()){const g=bf(r(),"space");(g.blockPatterns.length>0||a())&&ej(e,g)&&d.preventDefault()}},!0);const c=()=>{if(e.selection.isCollapsed()){const d=bf(r(),"space");(d.inlinePatterns.length>0||a())&&QV(e,d)}};e.on("keyup",d=>{tj(o,d)&&c()}),e.on("keypress",d=>{oj(t,d)&&od.setEditorTimeout(e,c)})},rj=e=>{nj(e)},sj=e=>{const t=ut.each,o=Ot.BACKSPACE,r=Ot.DELETE,a=e.dom,c=e.selection,d=e.parser,g=Fo.browser,v=g.isFirefox(),A=g.isChromium()||g.isSafari(),M=Fo.deviceType.isiPhone()||Fo.deviceType.isiPad(),I=Fo.os.isMacOS()||Fo.os.isiOS(),L=(zt,mo)=>{try{e.getDoc().execCommand(zt,!1,String(mo))}catch{}},Y=zt=>zt.isDefaultPrevented(),re=()=>{const zt=cn=>{const Nt=a.create("body"),rn=cn.cloneContents();return Nt.appendChild(rn),c.serializer.serialize(Nt,{format:"html"})},mo=cn=>{const Nt=zt(cn),rn=a.createRng();rn.selectNode(e.getBody());const hn=zt(rn);return Nt===hn};e.on("keydown",cn=>{const Nt=cn.keyCode;if(!Y(cn)&&(Nt===r||Nt===o)&&e.selection.isEditable()){const rn=e.selection.isCollapsed(),hn=e.getBody();if(rn&&!Ol(e.schema,hn)||!rn&&!mo(e.selection.getRng()))return;cn.preventDefault(),e.setContent(""),hn.firstChild&&a.isBlock(hn.firstChild)?e.selection.setCursorLocation(hn.firstChild,0):e.selection.setCursorLocation(hn,0),e.nodeChanged()}})},X=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},ae=()=>{e.inline||a.bind(e.getDoc(),"mousedown mouseup",zt=>{let mo;if(zt.target===e.getDoc().documentElement)if(mo=c.getRng(),e.getBody().focus(),zt.type==="mousedown"){if(Gl(mo.startContainer))return;c.placeCaretAt(zt.clientX,zt.clientY)}else c.setRng(mo)})},ye=()=>{e.on("keydown",zt=>{if(!Y(zt)&&zt.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length)return;if(c.isCollapsed()&&c.getRng().startOffset===0){const mo=c.getNode(),cn=mo.previousSibling;if(mo.nodeName==="HR"){a.remove(mo),zt.preventDefault();return}cn&&cn.nodeName&&cn.nodeName.toLowerCase()==="hr"&&(a.remove(cn),zt.preventDefault())}}})},Se=()=>{Range.prototype.getClientRects||e.on("mousedown",zt=>{if(!Y(zt)&&zt.target.nodeName==="HTML"){const mo=e.getBody();mo.blur(),od.setEditorTimeout(e,()=>{mo.focus()})}})},_e=()=>{const zt=ny(e);e.on("click",mo=>{const cn=mo.target;/^(IMG|HR)$/.test(cn.nodeName)&&a.isEditable(cn)&&(mo.preventDefault(),e.selection.select(cn),e.nodeChanged()),cn.nodeName==="A"&&a.hasClass(cn,zt)&&cn.childNodes.length===0&&a.isEditable(cn.parentNode)&&(mo.preventDefault(),c.select(cn))})},Ne=()=>{const zt=()=>{const cn=a.getAttribs(c.getStart().cloneNode(!1));return()=>{const Nt=c.getStart();Nt!==e.getBody()&&(a.setAttrib(Nt,"style",null),t(cn,rn=>{Nt.setAttributeNode(rn.cloneNode(!0))}))}},mo=()=>!c.isCollapsed()&&a.getParent(c.getStart(),a.isBlock)!==a.getParent(c.getEnd(),a.isBlock);e.on("keypress",cn=>{let Nt;return!Y(cn)&&(cn.keyCode===8||cn.keyCode===46)&&mo()?(Nt=zt(),e.getDoc().execCommand("delete",!1),Nt(),cn.preventDefault(),!1):!0}),a.bind(e.getDoc(),"cut",cn=>{if(!Y(cn)&&mo()){const Nt=zt();od.setEditorTimeout(e,()=>{Nt()})}})},ot=()=>{e.on("keydown",zt=>{if(!Y(zt)&&zt.keyCode===o&&c.isCollapsed()&&c.getRng().startOffset===0){const mo=c.getNode().previousSibling;if(mo&&mo.nodeName&&mo.nodeName.toLowerCase()==="table")return zt.preventDefault(),!1}return!0})},xt=()=>{e.on("keydown",zt=>{if(Y(zt)||zt.keyCode!==Ot.BACKSPACE)return;let mo=c.getRng();const cn=mo.startContainer,Nt=mo.startOffset,rn=a.getRoot();let hn=cn;if(!(!mo.collapsed||Nt!==0)){for(;hn.parentNode&&hn.parentNode.firstChild===hn&&hn.parentNode!==rn;)hn=hn.parentNode;hn.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,hn),mo=a.createRng(),mo.setStart(cn,0),mo.setEnd(cn,0),c.setRng(mo))}})},Mt=()=>{const zt=()=>{L("StyleWithCSS",!1),L("enableInlineTableEditing",!1),n3(e)||L("enableObjectResizing",!1)};u3(e)||e.on("BeforeExecCommand mousedown",zt)},Ze=()=>{const zt=()=>{t(a.select("a:not([data-mce-block])"),mo=>{var cn;let Nt=mo.parentNode;const rn=a.getRoot();if((Nt==null?void 0:Nt.lastChild)===mo){for(;Nt&&!a.isBlock(Nt);){if(((cn=Nt.parentNode)===null||cn===void 0?void 0:cn.lastChild)!==Nt||Nt===rn)return;Nt=Nt.parentNode}a.add(Nt,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",mo=>{(mo.type==="setcontent"||mo.command==="mceInsertLink")&&zt()})},Ie=()=>{e.on("init",()=>{L("DefaultParagraphSeparator",ol(e))})},Qe=zt=>{const mo=zt.getBody(),cn=zt.selection.getRng();return cn.startContainer===cn.endContainer&&cn.startContainer===mo&&cn.startOffset===0&&cn.endOffset===mo.childNodes.length},Vt=()=>{e.on("keyup focusin mouseup",zt=>{!Ot.modifierPressed(zt)&&!Qe(e)&&c.normalize()},!0)},oo=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},nn=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},mn=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",zt=>{let mo;zt.target.nodeName==="HTML"&&(mo=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(mo),e.selection.normalize(),e.nodeChanged())}))},ir=()=>{I&&e.on("keydown",zt=>{Ot.metaKeyPressed(zt)&&!zt.shiftKey&&(zt.keyCode===37||zt.keyCode===39)&&(zt.preventDefault(),e.selection.getSel().modify("move",zt.keyCode===37?"backward":"forward","lineboundary"))})},gr=()=>{e.on("click",zt=>{let mo=zt.target;do if(mo.tagName==="A"){zt.preventDefault();return}while(mo=mo.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},na=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",zt=>{zt.preventDefault()})})},xl=()=>{d.addNodeFilter("br",zt=>{let mo=zt.length;for(;mo--;)zt[mo].attr("class")==="Apple-interchange-newline"&&zt[mo].remove()})},Or=Yt,St=()=>{if(!v||e.removed)return!1;const zt=e.selection.getSel();return!zt||!zt.rangeCount||zt.rangeCount===0},Qt=()=>{A&&(ae(),_e(),na(),X(),M&&(nn(),mn(),gr())),v&&(Se(),Mt(),oo(),ir())},Kn=()=>{xt(),re(),Fo.windowsPhone||Vt(),A&&(ae(),_e(),Ie(),na(),ot(),xl(),M?(nn(),mn(),gr()):X()),v&&(ye(),Se(),Ne(),Mt(),Ze(),oo(),ir(),ot())};return Om(e)?Qt():Kn(),{refreshContentEditable:Or,isHidden:St}},aj=e=>e.toLowerCase()==="gpl",ij=e=>e.length>=64&&e.length<=255,lj=e=>aj(e)||ij(e)?"VALID":"INVALID",cj=e=>{const t=_3(e);!mt(C3(e))&&(er(t)||lj(t)==="INVALID")&&console.warn("TinyMCE is running in evaluation mode. Provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms. Read more at https://www.tiny.cloud/license-key/")},L7=zr.DOM,dj=(e,t)=>{const o=me.fromDom(e.getBody()),r=pu(dc(o)),a=me.fromTag("style");Ws(a,"type","text/css"),vs(a,me.fromText(t)),vs(r,a),e.on("remove",()=>{Wn(a)})},uj=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,F7=e=>ti(e,t=>er(t)===!1),hP=e=>{const t=e.options.get,o=e.editorUpload.blobCache;return F7({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_unsafe_embeds:t("convert_unsafe_embeds"),convert_fonts_to_spans:t("convert_fonts_to_spans"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),inline_styles:t("inline_styles"),root_name:uj(e),sandbox_iframes:t("sandbox_iframes"),sandbox_iframes_exclusions:Qv(e),sanitize:t("xss_sanitization"),validate:!0,blob_cache:o,document:e.getDoc()})},bP=e=>{const t=e.options.get;return F7({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},fj=e=>{const t=e.options.get;return{...hP(e),...bP(e),...F7({remove_trailing_brs:t("remove_trailing_brs"),pad_empty_with_br:t("pad_empty_with_br"),url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")})}},mj=e=>{const t=Ry(hP(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",(o,r)=>{const a=e.dom,c="data-mce-"+r;let d=o.length;for(;d--;){const g=o[d];let v=g.attr(r);if(v&&!g.attr(c)){if(v.indexOf("data:")===0||v.indexOf("blob:")===0)continue;r==="style"?(v=a.serializeStyle(a.parseStyle(v),g.name),v.length||(v=null),g.attr(c,v),g.attr(r,v)):r==="tabindex"?(g.attr(c,v),g.attr(r,null)):g.attr(c,e.convertURL(v,r,g.name))}}}),t.addNodeFilter("script",o=>{let r=o.length;for(;r--;){const a=o[r],c=a.attr("type")||"no/type";c.indexOf("mce-")!==0&&a.attr("type","mce-"+c)}}),lR(e)&&t.addNodeFilter("#cdata",o=>{var r;let a=o.length;for(;a--;){const c=o[a];c.type=8,c.name="#comment",c.value="[CDATA["+e.dom.encode((r=c.value)!==null&&r!==void 0?r:"")+"]]"}}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",o=>{let r=o.length;const a=e.schema.getNonEmptyElements();for(;r--;){const c=o[r];c.isEmpty(a)&&c.getAll("br").length===0&&c.append(new Oi("br",1))}}),t},pj=e=>{const t=tR(e);t&&od.setEditorTimeout(e,()=>{let o;t===!0?o=e:o=e.editorManager.get(t),o&&!o.destroyed&&(o.focus(),o.selection.scrollIntoView())},100)},gj=e=>{const t=e.dom.getRoot();!e.inline&&(!ly(e)||e.selection.getStart(!0)===t)&&yo(t).each(o=>{const r=o.getNode(),a=pc(r)?yo(r).getOr(o):o;e.selection.setRng(a.toRange())})},hj=e=>{e.bindPendingEventDelegates(),e.initialized=!0,Ys(e),e.focus(!0),gj(e),e.nodeChanged({initial:!0});const t=Q5(e);Pt(t)&&t.call(e,e),pj(e)},H7=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,bj=(e,t,o)=>{const{pass:r,fail:a}=rt(t,g=>tinymce.Resource.has(VS(g))),d=[...r.map(g=>{const v=tinymce.Resource.get(VS(g));return mt(v)?Promise.resolve(H7(e).loadRawCss(g,v)):Promise.resolve()}),H7(e).loadAll(a)];return e.inline?d:d.concat([e.ui.styleSheetLoader.loadAll(o)])},yP=e=>{const t=H7(e),o=o3(e),r=e.contentCSS,a=()=>{t.unloadAll(r),e.inline||e.ui.styleSheetLoader.unloadAll(o)},c=()=>{e.removed?a():e.on("remove",a)};if(e.contentStyles.length>0){let v="";ut.each(e.contentStyles,A=>{v+=A+`\r
`}),e.dom.addStyle(v)}const d=Promise.all(bj(e,r,o)).then(c).catch(c),g=ey(e);return g&&dj(e,g),d},yj=e=>{const t=e.getDoc(),o=e.getBody();OR(e),oR(e)||(t.body.spellcheck=!1,L7.setAttrib(o,"spellcheck","false")),e.quirks=sj(e),DR(e);const r=W5(e);r!==void 0&&(o.dir=r);const a=In(e);a&&e.on("BeforeSetContent",c=>{ut.each(a,d=>{c.content=c.content.replace(d,g=>"<!--mce:protected "+escape(g)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",c=>{e.composing=c.type==="compositionstart"})},vj=e=>{Om(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},$7=e=>{e.removed!==!0&&(vj(e),hj(e))},xj=e=>{let t=!1;const o=setTimeout(()=>{t||e.setProgressState(!0)},500);return()=>{clearTimeout(o),t=!0,e.setProgressState(!1)}},vP=e=>{const t=e.getElement();let o=e.getDoc();e.inline&&(L7.addClass(t,"mce-content-body"),e.contentDocument=o=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);const r=e.getBody();r.disabled=!0,e.readonly=u3(e),e._editableRoot=tr(e),!e.readonly&&e.hasEditableRoot()&&(e.inline&&L7.getStyle(r,"position",!0)==="static"&&(r.style.position="relative"),r.contentEditable="true"),r.disabled=!1,e.editorUpload=US(e),e.schema=qc(bP(e)),e.dom=zr(o,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:e3(e),referrerPolicy:B1(e),onSetAttrib:d=>{e.dispatch("SetAttrib",d)}}),e.parser=mj(e),e.serializer=eO(fj(e),e),e.selection=TS(e.dom,e.getWin(),e.serializer,e),e.annotator=gE(e),e.formatter=lv(e),e.undoManager=NO(e),e._nodeChangeDispatcher=new p9(e),e._selectionOverrides=TV(e),Wo(e),M$(e),vv(e),Om(e)||($$(e),rj(e));const a=m9(e);ro(e,a),La(e),FO(e),D$(e);const c=IT(e);yj(e),cj(e),c.fold(()=>{const d=xj(e);yP(e).then(()=>{$7(e),d()})},d=>{e.setProgressState(!0),yP(e).then(()=>{d().then(g=>{e.setProgressState(!1),$7(e),jT(e)},g=>{e.notificationManager.open({type:"error",text:String(g)}),$7(e),jT(e)})})})},kj=Co,wj=(e,t,o)=>_(e,t,kj,o),V7=zr.DOM,_j=(e,t,o,r)=>{const a=me.fromTag("iframe");return r.each(c=>Ws(a,"tabindex",c)),ni(a,o),ni(a,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),ic(a,"tox-edit-area__iframe"),a},Cj=e=>{let t=Ru(e)+"<html><head>";wd(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const o=Kv(e),r=$w(e),a=e.translate(P1(e));return G4(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+G4(e)+'" />'),t+=`</head><body id="${o}" class="mce-content-body ${r}" data-id="${e.id}" aria-label="${a}"><br></body></html>`,t},Sj=(e,t)=>{const o=Fo.browser.isFirefox()?P1(e):"Rich Text Area",r=e.translate(o),a=Ns(me.fromDom(e.getElement()),"tabindex").bind(Us),c=_j(e.id,r,hl(e),a).dom;c.onload=()=>{c.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=c,e.iframeHTML=Cj(e),V7.add(t.iframeContainer,c)},Ej=e=>{const t=e.iframeElement,o=()=>{e.contentDocument=t.contentDocument,vP(e)};if(y3(e)||Fo.browser.isFirefox()){const r=e.getDoc();r.open(),r.write(e.iframeHTML),r.close(),o()}else{const r=wj(me.fromDom(t),"load",()=>{r.unbind(),o()});t.srcdoc=e.iframeHTML}},Aj=(e,t)=>{Sj(e,t),t.editorContainer&&(t.editorContainer.style.display=e.orgDisplay,e.hidden=V7.isHidden(t.editorContainer)),e.getElement().style.display="none",V7.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,Ej(e)},xP=zr.DOM,zj=(e,t,o)=>{const r=sb.get(o),a=sb.urls[o]||e.documentBaseUrl.replace(/\/$/,"");if(o=ut.trim(o),r&&ut.inArray(t,o)===-1){if(e.plugins[o])return;try{const c=r(e,a)||{};e.plugins[o]=c,Pt(c.init)&&(c.init(e,a),t.push(o))}catch(c){jM(e,o,c)}}},Tj=e=>e.replace(/^\-/,""),Oj=e=>{const t=[];Re(Nu(e),o=>{zj(e,t,Tj(o))})},Dj=e=>{const t=ut.trim(Ww(e)),o=e.ui.registry.getAll().icons,r={...nv.get("default").icons,...nv.get(t).icons};Bo(r,(a,c)=>{po(o,c)||e.ui.registry.addIcon(c,a)})},Rj=e=>{const t=ty(e);if(mt(t)){const o=Bg.get(t);e.theme=o(e,Bg.urls[t])||{},Pt(e.theme.init)&&e.theme.init(e,Bg.urls[t]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},Nj=e=>{const t=I1(e),o=Mg.get(t);e.model=o(e,Mg.urls[t])},Mj=e=>{const t=e.theme.renderUI;return t?t():wP(e)},Bj=e=>{const t=e.getElement(),r=ty(e)(e,t);return r.editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||e.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||e.id+"_iframecontainer"),r.height=r.iframeHeight?r.iframeHeight:t.offsetHeight,r},kP=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),Ij=e=>{const t=xP.create("div");return xP.insertAfter(t,e),kP(t,t)},wP=e=>{const t=e.getElement();return e.inline?kP(null):Ij(t)},Pj=e=>{const t=e.getElement();return e.orgDisplay=t.style.display,mt(ty(e))?Mj(e):Pt(ty(e))?Bj(e):wP(e)},Lj=(e,t)=>{const o={show:H.from(t.show).getOr(Yt),hide:H.from(t.hide).getOr(Yt),isEnabled:H.from(t.isEnabled).getOr(Co),setEnabled:r=>{e.mode.isReadOnly()||H.from(t.setEnabled).each(a=>a(r))}};e.ui={...e.ui,...o}},Fj=async e=>{e.dispatch("ScriptsLoaded"),Dj(e),Rj(e),Nj(e),Oj(e);const t=await Pj(e);Lj(e,H.from(t.api).getOr({})),e.editorContainer=t.editorContainer,xO(e),e.inline?vP(e):Aj(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})},Cv=zr.DOM,_P=e=>e.charAt(0)==="-",Hj=(e,t)=>{const o=Kw(t),r=Z5(t);if(!Gc.hasCode(o)&&o!=="en"){const a=pn(r)?r:`${t.editorManager.baseURL}/langs/${o}.js`;e.add(a).catch(()=>{$M(t,a,o)})}},$j=(e,t)=>{const o=ty(e);if(mt(o)&&!_P(o)&&!po(Bg.urls,o)){const r=G5(e),a=r?e.documentBaseURI.toAbsolute(r):`themes/${o}/theme${t}.js`;Bg.load(o,a).catch(()=>{yO(e,a,o)})}},Vj=(e,t)=>{const o=I1(e);if(o!=="plugin"&&!po(Mg.urls,o)){const r=Xw(e),a=mt(r)?e.documentBaseURI.toAbsolute(r):`models/${o}/model${t}.js`;Mg.load(o,a).catch(()=>{VM(e,a,o)})}},jj=e=>H.from(J4(e)).filter(pn).map(t=>({url:t,name:H.none()})),CP=(e,t,o)=>H.from(t).filter(r=>pn(r)&&!nv.has(r)).map(r=>({url:`${e.editorManager.baseURL}/icons/${r}/icons${o}.js`,name:H.some(r)})),Uj=(e,t,o)=>{const r=CP(t,"default",o),a=jj(t).orThunk(()=>CP(t,Ww(t),""));Re(nc([r,a]),c=>{e.add(c.url).catch(()=>{HS(t,c.url,c.name.getOrUndefined())})})},Zj=(e,t)=>{const o=(r,a)=>{sb.load(r,a).catch(()=>{FS(e,a,r)})};Bo(fm(e),(r,a)=>{o(a,r),e.options.set("plugins",Nu(e).concat(a))}),Re(Nu(e),r=>{r=ut.trim(r),r&&!sb.urls[r]&&!_P(r)&&o(r,`plugins/${r}/plugin${t}.js`)})},Wj=e=>{const t=ty(e);return!mt(t)||$e(Bg.get(t))},qj=e=>{const t=I1(e);return $e(Mg.get(t))},Gj=(e,t)=>{const o=ml.ScriptLoader,r=()=>{!e.removed&&Wj(e)&&qj(e)&&Fj(e)};$j(e,t),Vj(e,t),Hj(o,e),Uj(o,e,t),Zj(e,t),o.loadQueue().then(r,r)},Kj=(e,t)=>Jr.forElement(e,{contentCssCors:f3(t),referrerPolicy:B1(t)}),Yj=e=>{const t=e.id;Gc.setCode(Kw(e));const o=()=>{Cv.unbind(window,"ready",o),e.render()};if(!rf.Event.domLoaded){Cv.bind(window,"ready",o);return}if(!e.getElement())return;const r=me.fromDom(e.getElement()),a=ri(r);e.on("remove",()=>{wt(r.dom.attributes,d=>Go(r,d.name)),ni(r,a)}),e.ui.styleSheetLoader=Kj(r,e),Sh(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const c=e.getElement().form||Cv.getParent(t,"form");c&&(e.formElement=c,Jw(e)&&!Zf(e.getElement())&&(Cv.insertAfter(Cv.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=d=>{e.dispatch(d.type,d)},Cv.bind(c,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),i3(e)&&!c.submit.nodeType&&!c.submit.length&&!c._mceOldSubmit&&(c._mceOldSubmit=c.submit,c.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),c._mceOldSubmit(c)))),e.windowManager=hO(e),e.notificationManager=LS(e),v3(e)&&e.on("GetContent",d=>{d.save&&(d.content=Cv.encode(d.content))}),l3(e)&&e.on("submit",()=>{e.initialized&&e.save()}),c3(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),Gj(e,e.suffix)},Xj=(e,t)=>{e._editableRoot!==t&&(e._editableRoot=t,e.readonly||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),MR(e,t))},Jj=e=>e._editableRoot,Qj=(e,t)=>({sections:we(e),options:we(t)}),SP=lt().deviceType,EP=SP.isPhone(),eU=SP.isTablet(),j4=e=>{if(Io(e))return[];{const t=ve(e)?e:e.split(/[ ,]/),o=Jo(t,rs);return et(o,pn)}},tU=(e,t)=>{const o=Ri(t,(r,a)=>on(e,a));return Qj(o.t,o.f)},oU=(e,t,o={})=>{const r=e.sections(),a=Mn(r,t).getOr({});return ut.extend({},o,a)},j7=(e,t)=>po(e.sections(),t),nU=(e,t)=>j7(e,t)?e.sections()[t]:{},rU=(e,t)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Mn(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...t?{menubar:!1}:{}}),sU=(e,t)=>{var o;const r=(o=t.external_plugins)!==null&&o!==void 0?o:{};return e&&e.external_plugins?ut.extend({},e.external_plugins,r):r},aU=(e,t)=>[...j4(e),...j4(t)],iU=(e,t,o,r)=>e&&j7(t,"mobile")?r:o,lU=(e,t,o,r)=>{const a=j4(o.forced_plugins),c=j4(r.plugins),d=nU(t,"mobile"),g=d.plugins?j4(d.plugins):c,v=iU(e,t,c,g),A=aU(a,v);return ut.extend(r,{forced_plugins:a,plugins:A})},cU=(e,t)=>e&&j7(t,"mobile"),dU=(e,t,o,r,a)=>{var c;const d=e?{mobile:rU((c=a.mobile)!==null&&c!==void 0?c:{},t)}:{},g=tU(["mobile"],i5(d,a)),v=ut.extend(o,r,g.options(),cU(e,g)?oU(g,"mobile"):{},{external_plugins:sU(r,g.options())});return lU(e,g,r,v)},uU=(e,t)=>{const o=k8(t);return dU(EP||eU,EP,o,e,o)},fU=(e,t)=>VT(e,t),mU=e=>{const t=(r,a)=>{e.formatter.toggle(r,a),e.nodeChanged()},o=r=>()=>{Re("left,center,right,justify".split(","),a=>{r!==a&&e.formatter.remove("align"+a)}),r!=="none"&&t("align"+r)};e.editorCommands.addCommands({JustifyLeft:o("left"),JustifyCenter:o("center"),JustifyRight:o("right"),JustifyFull:o("justify"),JustifyNone:o("none")})},pU=e=>{const t=o=>()=>{const r=e.selection,a=r.isCollapsed()?[e.dom.getParent(r.getNode(),e.dom.isBlock)]:r.getSelectedBlocks();return zn(a,c=>$e(e.formatter.matchNode(c,o)))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")},gU=e=>{mU(e),pU(e)},hU=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{const o=e.getDoc();let r;try{o.execCommand(t)}catch{r=!0}if(t==="paste"&&!o.queryCommandEnabled(t)&&(r=!0),r||!o.queryCommandSupported(t)){let a=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Fo.os.isMacOS()||Fo.os.isiOS())&&(a=a.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:a,type:"error"})}}})},bU=(e,t,o,r)=>{const a=me.fromDom(e.getRoot());return wy(a,Le.fromRangeStart(t),r)?o=o.replace(/^ /,"&nbsp;"):o=o.replace(/^&nbsp;/," "),Gh(a,Le.fromRangeEnd(t),r)?o=o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):o=o.replace(/&nbsp;(<br( \/)?>)?$/," "),o},yU=e=>{if(typeof e!="string"){const t=ut.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}},vU=(e,t)=>{const o=e.selection,r=e.dom;return/^ | $/.test(t)?bU(r,o.getRng(),t,e.schema):t},O5=(e,t)=>{if(e.selection.isEditable()){const{content:o,details:r}=yU(t);nS(e,{...r,content:vU(e,o),format:"html",set:!1,selection:!0}).each(a=>{const c=vM(e,a.content,r);rS(e,c,a),e.addVisual()})}},xU=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,o,r)=>{O5(e,e.dom.createHTML("img",{src:r}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(t,o,r)=>{O5(e,e.dom.encode(r))},insertHTML:(t,o,r)=>{O5(e,r)},mceInsertContent:(t,o,r)=>{O5(e,r)},mceSetContent:(t,o,r)=>{e.setContent(r)},mceReplaceContent:(t,o,r)=>{e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(jn(e))}})},kU={"font-size":"size","font-family":"face"},wU=Nd("font"),_U=(e,t,o)=>{const r=c=>Gr(c,e).orThunk(()=>wU(c)?Mn(kU,e).bind(d=>Ns(c,d)):H.none()),a=c=>fn(me.fromDom(t),c);return F0(me.fromDom(o),c=>r(c),a)},CU=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),SU=(e,t)=>H.from(zr.DOM.getStyle(t,e,!0)),AP=e=>(t,o)=>H.from(o).map(me.fromDom).filter(hs).bind(r=>_U(e,t,r.dom).or(SU(e,r.dom))).getOr(""),EU=AP("font-size"),AU=Lo(CU,AP("font-family")),zU=e=>yo(e.getBody()).bind(t=>{const o=t.container();return H.from(pt(o)?o.parentNode:o)}),TU=e=>H.from(e.selection.getRng()).bind(t=>{const o=e.getBody();return t.startContainer===o&&t.startOffset===0?H.none():H.from(e.selection.getStart(!0))}),OU=(e,t)=>TU(e).orThunk(kt(zU,e)).map(me.fromDom).filter(hs).bind(t),U7=(e,t)=>OU(e,hr(H.some,t)),zP=(e,t)=>{if(/^[0-9.]+$/.test(t)){const o=parseInt(t,10);if(o>=1&&o<=7){const r=t_(e),a=o_(e);return a.length>0?a[o-1]||t:r[o-1]||t}else return t}else return t},DU=e=>{const t=e.split(/\s*,\s*/);return Jo(t,o=>o.indexOf(" ")!==-1&&!(lr(o,'"')||lr(o,"'"))?`'${o}'`:o).join(",")},RU=(e,t)=>{const o=zP(e,t);e.formatter.toggle("fontname",{value:DU(o)}),e.nodeChanged()},NU=e=>U7(e,t=>AU(e.getBody(),t.dom)).getOr(""),MU=(e,t)=>{e.formatter.toggle("fontsize",{value:zP(e,t)}),e.nodeChanged()},BU=e=>U7(e,t=>EU(e.getBody(),t.dom)).getOr(""),IU=e=>U7(e,t=>{const o=me.fromDom(e.getBody()),r=F0(t,c=>Gr(c,"line-height"),kt(fn,o)),a=()=>{const c=parseFloat(ys(t,"line-height")),d=parseFloat(ys(t,"font-size"));return String(c/d)};return r.getOrThunk(a)}).getOr(""),PU=(e,t)=>{e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()},LU=e=>{const t=(o,r)=>{e.formatter.toggle(o,r),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>{t(o)},"ForeColor,HiliteColor":(o,r,a)=>{t(o,{value:a})},BackColor:(o,r,a)=>{t("hilitecolor",{value:a})},FontName:(o,r,a)=>{RU(e,a)},FontSize:(o,r,a)=>{MU(e,a)},LineHeight:(o,r,a)=>{PU(e,a)},Lang:(o,r,a)=>{var c;t(o,{value:a.code,customValue:(c=a.customCode)!==null&&c!==void 0?c:null})},RemoveFormat:o=>{e.formatter.remove(o)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(o,r,a)=>{t(mt(a)?a:"p")},mceToggleFormat:(o,r,a)=>{t(a)}})},FU=e=>{const t=o=>e.formatter.match(o);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>t(o),mceBlockQuote:()=>t("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>NU(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>BU(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>IU(e))},HU=e=>{LU(e),FU(e)},$U=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},VU=e=>{e.editorCommands.addCommands({Indent:()=>{qe(e)},Outdent:()=>{Ue(e)}}),e.editorCommands.addCommands({Outdent:()=>J(e)},"state")},jU=e=>{const t=(o,r,a)=>{const c=mt(a)?{href:a}:a,d=e.dom.getParent(e.selection.getNode(),"a");ce(c)&&mt(c.href)&&(c.href=c.href.replace(/ /g,"%20"),(!d||!c.href)&&e.formatter.remove("link"),c.href&&e.formatter.apply("link",c,d))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const o=e.dom.getParent(e.selection.getStart(),"a");o&&e.dom.remove(o,!0);return}e.formatter.remove("link")}},mceInsertLink:t,createLink:t})},UU=(e,t,o,r)=>{const a=e.dom,c=g=>a.isBlock(g)&&g.parentElement===o,d=c(t)?t:a.getParent(r,c,o);return H.from(d).map(me.fromDom)},TP=(e,t)=>{const o=e.dom,r=e.selection.getRng(),a=t?e.selection.getStart():e.selection.getEnd(),c=t?r.startContainer:r.endContainer,d=L4(o,c);if(!d||!d.isContentEditable)return;const g=t?Kr:Ae,v=ol(e);UU(e,a,d,c).each(A=>{const M=q8(e,c,A.dom,d,!1,v);g(A,me.fromDom(M)),e.selection.setCursorLocation(M,0),e.dispatch("NewBlock",{newBlock:M}),P4(e,"insertParagraph")})},ZU=e=>TP(e,!0),WU=e=>TP(e,!1),qU=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{ZU(e)},InsertNewBlockAfter:()=>{WU(e)}})},GU=e=>{e.editorCommands.addCommands({insertParagraph:()=>{b5(X8,e)},mceInsertNewLine:(t,o,r)=>{rI(e,r)},InsertLineBreak:(t,o,r)=>{b5(eI,e)}})},KU=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,o,r)=>{let a=0;e.dom.getParent(e.selection.getNode(),c=>jt(c)&&a++===r?(e.selection.select(c),!1):!0,e.getBody())},mceSelectNode:(t,o,r)=>{e.selection.select(r)},selectAll:()=>{const t=e.dom.getParent(e.selection.getStart(),Zl);if(t){const o=e.dom.createRng();o.selectNodeContents(t),e.selection.setRng(o)}}})},YU=e=>{e.editorCommands.addCommands({mceRemoveNode:(t,o,r)=>{const a=r??e.selection.getNode();if(a!==e.getBody()){const c=e.selection.getBookmark();e.dom.remove(a,!0),e.selection.moveToBookmark(c)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,o,r)=>{QE(e,r===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},XU=e=>{gU(e),hU(e),$U(e),KU(e),xU(e),jU(e),VU(e),qU(e),GU(e),HU(e),YU(e)},JU=["toggleview"],OP=e=>on(JU,e.toLowerCase());class DP{constructor(t){this.commands={state:{},exec:{},value:{}},this.editor=t}execCommand(t,o=!1,r,a){const c=this.editor,d=t.toLowerCase(),g=a==null?void 0:a.skip_focus;if(c.removed||(d!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(d)&&!g?c.focus():Mx(c)),c.dispatch("BeforeExecCommand",{command:t,ui:o,value:r}).isDefaultPrevented()))return!1;const A=this.commands.exec[d];return Pt(A)?(A(d,o,r),c.dispatch("ExecCommand",{command:t,ui:o,value:r}),!0):!1}queryCommandState(t){if(!OP(t)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const o=t.toLowerCase(),r=this.commands.state[o];return Pt(r)?r(o):!1}queryCommandValue(t){if(!OP(t)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const o=t.toLowerCase(),r=this.commands.value[o];return Pt(r)?r(o):""}addCommands(t,o="exec"){const r=this.commands;Bo(t,(a,c)=>{Re(c.toLowerCase().split(","),d=>{r[o][d]=a})})}addCommand(t,o,r){const a=t.toLowerCase();this.commands.exec[a]=(c,d,g)=>o.call(r??this.editor,d,g)}queryCommandSupported(t){const o=t.toLowerCase();return!!this.commands.exec[o]}addQueryStateHandler(t,o,r){this.commands.state[t.toLowerCase()]=()=>o.call(r??this.editor)}addQueryValueHandler(t,o,r){this.commands.value[t.toLowerCase()]=()=>o.call(r??this.editor)}}const Sv="data-mce-contenteditable",QU=(e,t,o)=>{Nc(e,t)&&!o?Ga(e,t):o&&ic(e,t)},Z7=(e,t,o)=>{try{e.getDoc().execCommand(t,!1,String(o))}catch{}},D5=(e,t)=>{e.dom.contentEditable=t?"true":"false"},eZ=e=>{Re(qs(e,'*[contenteditable="true"]'),t=>{Ws(t,Sv,"true"),D5(t,!1)})},tZ=e=>{Re(qs(e,`*[${Sv}="true"]`),t=>{Go(t,Sv),D5(t,!0)})},oZ=e=>{H.from(e.selection.getNode()).each(t=>{t.removeAttribute("data-mce-selected")})},nZ=e=>{e.selection.setRng(e.selection.getRng())},rZ=(e,t)=>{const o=me.fromDom(e.getBody());QU(o,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),oZ(e),e.readonly=!0,D5(o,!1),eZ(o)):(e.readonly=!1,e.hasEditableRoot()&&D5(o,!0),tZ(o),Z7(e,"StyleWithCSS",!1),Z7(e,"enableInlineTableEditing",!1),Z7(e,"enableObjectResizing",!1),Vh(e)&&e.focus(),nZ(e),e.nodeChanged())},Ev=e=>e.readonly,RP=e=>{e.parser.addAttributeFilter("contenteditable",t=>{Ev(e)&&Re(t,o=>{o.attr(Sv,o.attr("contenteditable")),o.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(Sv,t=>{Ev(e)&&Re(t,o=>{o.attr("contenteditable",o.attr(Sv))})}),e.serializer.addTempAttr(Sv)},sZ=e=>{e.serializer?RP(e):e.on("PreInit",()=>{RP(e)})},aZ=e=>e.type==="click",iZ=["copy"],lZ=e=>on(iZ,e.type),cZ=(e,t)=>ca(t,"a",r=>fn(r,me.fromDom(e.getBody()))).bind(r=>Ns(r,"href")),dZ=(e,t)=>{if(aZ(t)&&!Ot.metaKeyPressed(t)){const o=me.fromDom(t.target);cZ(e,o).each(r=>{if(t.preventDefault(),/^#/.test(r)){const a=e.dom.select(`${r},[name="${oi(r,"#")}"]`);a.length&&e.selection.scrollIntoView(a[0],!0)}else window.open(r,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else lZ(t)&&e.dispatch(t.type,t)},uZ=e=>{e.on("ShowCaret",t=>{Ev(e)&&t.preventDefault()}),e.on("ObjectSelected",t=>{Ev(e)&&t.preventDefault()})},fZ=ut.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class W7{static isNative(t){return!!fZ[t.toLowerCase()]}constructor(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||yn}fire(t,o){return this.dispatch(t,o)}dispatch(t,o){const r=t.toLowerCase(),a=Tb(r,o??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(a);const c=this.bindings[r];if(c)for(let d=0,g=c.length;d<g;d++){const v=c[d];if(!v.removed){if(v.once&&this.off(r,v.func),a.isImmediatePropagationStopped())return a;if(v.func.call(this.scope,a)===!1)return a.preventDefault(),a}}return a}on(t,o,r,a){if(o===!1&&(o=yn),o){const c={func:o,removed:!1};a&&ut.extend(c,a);const d=t.toLowerCase().split(" ");let g=d.length;for(;g--;){const v=d[g];let A=this.bindings[v];A||(A=[],this.toggleEvent(v,!0)),r?A=[c,...A]:A=[...A,c],this.bindings[v]=A}}return this}off(t,o){if(t){const r=t.toLowerCase().split(" ");let a=r.length;for(;a--;){const c=r[a];let d=this.bindings[c];if(!c)return Bo(this.bindings,(g,v)=>{this.toggleEvent(v,!1),delete this.bindings[v]}),this;if(d){if(!o)d.length=0;else{const g=rt(d,v=>v.func===o);d=g.fail,this.bindings[c]=d,Re(g.pass,v=>{v.removed=!0})}d.length||(this.toggleEvent(t,!1),delete this.bindings[c])}}}else Bo(this.bindings,(r,a)=>{this.toggleEvent(a,!1)}),this.bindings={};return this}once(t,o,r){return this.on(t,o,r,{once:!0})}has(t){t=t.toLowerCase();const o=this.bindings[t];return!(!o||o.length===0)}}const U4=e=>(e._eventDispatcher||(e._eventDispatcher=new W7({scope:e,toggleEvent:(t,o)=>{W7.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,o)}})),e._eventDispatcher),q7={fire(e,t,o){return this.dispatch(e,t,o)},dispatch(e,t,o){const r=this;if(r.removed&&e!=="remove"&&e!=="detach")return Tb(e.toLowerCase(),t??{},r);const a=U4(r).dispatch(e,t);if(o!==!1&&r.parent){let c=r.parent();for(;c&&!a.isPropagationStopped();)c.dispatch(e,a,!1),c=c.parent?c.parent():void 0}return a},on(e,t,o){return U4(this).on(e,t,o)},off(e,t){return U4(this).off(e,t)},once(e,t){return U4(this).once(e,t)},hasEventListeners(e){return U4(this).has(e)}},R5=zr.DOM;let Av;const N5=(e,t)=>{if(t==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t))return e.getDoc().documentElement;const o=s3(e);return o?(e.eventRoot||(e.eventRoot=R5.select(o)[0]),e.eventRoot):e.getBody()},mZ=e=>!e.hidden&&!Ev(e),NP=(e,t,o)=>{mZ(e)?e.dispatch(t,o):Ev(e)&&dZ(e,o)},MP=(e,t)=>{if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;const o=N5(e,t);if(s3(e)){if(Av||(Av={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||Av&&(Bo(Av,(a,c)=>{e.dom.unbind(N5(e,c))}),Av=null)})),Av[t])return;const r=a=>{const c=a.target,d=e.editorManager.get();let g=d.length;for(;g--;){const v=d[g].getBody();(v===c||R5.isChildOf(c,v))&&NP(d[g],t,a)}};Av[t]=r,R5.bind(o,t,r)}else{const r=a=>{NP(e,t,a)};R5.bind(o,t,r),e.delegates[t]=r}},BP={...q7,bindPendingEventDelegates(){const e=this;ut.each(e._pendingNativeEvents,t=>{MP(e,t)})},toggleNativeEvent(e,t){const o=this;e==="focus"||e==="blur"||o.removed||(t?o.initialized?MP(o,e):o._pendingNativeEvents?o._pendingNativeEvents.push(e):o._pendingNativeEvents=[e]:o.initialized&&o.delegates&&(o.dom.unbind(N5(o,e),e,o.delegates[e]),delete o.delegates[e]))},unbindAllNativeEvents(){const e=this,t=e.getBody(),o=e.dom;e.delegates&&(Bo(e.delegates,(r,a)=>{e.dom.unbind(N5(e,a),a,r)}),delete e.delegates),!e.inline&&t&&o&&(t.onload=null,o.unbind(e.getWin()),o.unbind(e.getDoc())),o&&(o.unbind(t),o.unbind(e.getContainer()))}},pZ=e=>mt(e)?{value:e.split(/[ ,]/),valid:!0}:_o(e,mt)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},gZ=e=>{const t=(()=>{switch(e){case"array":return ve;case"boolean":return $r;case"function":return Pt;case"number":return T;case"object":return ce;case"string":return mt;case"string[]":return pZ;case"object[]":return o=>_o(o,ce);case"regexp":return o=>it(o,RegExp);default:return Co}})();return o=>G7(o,t,`The value must be a ${e}.`)},hZ=e=>mt(e.processor),IP=(e,t)=>{const o=xi(t.message)?"":`. ${t.message}`;return e+o},PP=e=>e.valid,G7=(e,t,o="")=>{const r=t(e);return $r(r)?r?{value:e,valid:!0}:{valid:!1,message:o}:r},bZ=(e,t,o)=>{if(!er(t)){const r=G7(t,o);if(PP(r))return r.value;console.error(IP(`Invalid default value passed for the "${e}" option`,r))}},yZ=(e,t,o=t)=>{const r={},a={},c=(Y,re,X)=>{const ae=G7(re,X);return PP(ae)?(a[Y]=ae.value,!0):(console.warn(IP(`Invalid value passed for the ${Y} option`,ae)),!1)},d=(Y,re)=>{const X=hZ(re)?gZ(re.processor):re.processor,ae=bZ(Y,re.default,X);r[Y]={...re,default:ae,processor:X},Mn(a,Y).orThunk(()=>Mn(t,Y)).each(Se=>c(Y,Se,X))},g=Y=>po(r,Y);return{register:d,isRegistered:g,get:Y=>Mn(a,Y).orThunk(()=>Mn(r,Y).map(re=>re.default)).getOrUndefined(),set:(Y,re)=>{if(g(Y)){const X=r[Y];return X.immutable?(console.error(`"${Y}" is an immutable option and cannot be updated`),!1):c(Y,re,X.processor)}else return console.warn(`"${Y}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:Y=>{const re=g(Y);return re&&delete a[Y],re},isSet:Y=>po(a,Y),debug:()=>{try{console.log(JSON.parse(JSON.stringify(o,(Y,re)=>$r(re)||T(re)||mt(re)||ct(re)||ve(re)||Tt(re)?re:Object.prototype.toString.call(re))))}catch(Y){console.error(Y)}}}},vZ=["design","readonly"],LP=(e,t,o,r)=>{const a=o[t.get()],c=o[r];try{c.activate()}catch(d){console.error(`problem while activating editor mode ${r}:`,d);return}a.deactivate(),a.editorReadOnly!==c.editorReadOnly&&rZ(e,c.editorReadOnly),t.set(r),hE(e,r)},xZ=(e,t,o,r)=>{if(r!==o.get()){if(!po(t,r))throw new Error(`Editor mode '${r}' is invalid`);e.initialized?LP(e,o,t,r):e.on("init",()=>LP(e,o,t,r))}},kZ=(e,t,o)=>{if(on(vZ,t))throw new Error(`Cannot override default mode ${t}`);return{...e,[t]:{...o,deactivate:()=>{try{o.deactivate()}catch(r){console.error(`problem while deactivating editor mode ${t}:`,r)}}}}},wZ=e=>{const t=Ms("design"),o=Ms({design:{activate:Yt,deactivate:Yt,editorReadOnly:!1},readonly:{activate:Yt,deactivate:Yt,editorReadOnly:!0}});return sZ(e),uZ(e),{isReadOnly:()=>Ev(e),set:r=>xZ(e,o.get(),t,r),get:()=>t.get(),register:(r,a)=>{o.set(kZ(o.get(),r,a))}}},K7=ut.each,Y7=ut.explode,_Z={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},FP=ut.makeMap("alt,ctrl,shift,meta,access"),CZ=e=>e in FP,SZ=e=>{const t={},o=Fo.os.isMacOS()||Fo.os.isiOS();K7(Y7(e.toLowerCase(),"+"),c=>{CZ(c)?t[c]=!0:/^[0-9]{2,}$/.test(c)?t.keyCode=parseInt(c,10):(t.charCode=c.charCodeAt(0),t.keyCode=_Z[c]||c.toUpperCase().charCodeAt(0))});const r=[t.keyCode];let a;for(a in FP)t[a]?r.push(a):t[a]=!1;return t.id=r.join(","),t.access&&(t.alt=!0,o?t.ctrl=!0:t.shift=!0),t.meta&&(o?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class HP{constructor(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;const o=this;t.on("keyup keypress keydown",r=>{(o.hasModifier(r)||o.isFunctionKey(r))&&!r.isDefaultPrevented()&&(K7(o.shortcuts,a=>{o.matchShortcut(r,a)&&(o.pendingPatterns=a.subpatterns.slice(0),r.type==="keydown"&&o.executeShortcutAction(a))}),o.matchShortcut(r,o.pendingPatterns[0])&&(o.pendingPatterns.length===1&&r.type==="keydown"&&o.executeShortcutAction(o.pendingPatterns[0]),o.pendingPatterns.shift()))})}add(t,o,r,a){const c=this,d=c.normalizeCommandFunc(r);return K7(Y7(ut.trim(t)),g=>{const v=c.createShortcut(g,o,d,a);c.shortcuts[v.id]=v}),!0}remove(t){const o=this.createShortcut(t);return this.shortcuts[o.id]?(delete this.shortcuts[o.id],!0):!1}normalizeCommandFunc(t){const o=this,r=t;return typeof r=="string"?()=>{o.editor.execCommand(r,!1,null)}:ut.isArray(r)?()=>{o.editor.execCommand(r[0],r[1],r[2])}:r}createShortcut(t,o,r,a){const c=ut.map(Y7(t,">"),SZ);return c[c.length-1]=ut.extend(c[c.length-1],{func:r,scope:a||this.editor}),ut.extend(c[0],{desc:this.editor.translate(o),subpatterns:c.slice(1)})}hasModifier(t){return t.altKey||t.ctrlKey||t.metaKey}isFunctionKey(t){return t.type==="keydown"&&t.keyCode>=112&&t.keyCode<=123}matchShortcut(t,o){return!o||o.ctrl!==t.ctrlKey||o.meta!==t.metaKey||o.alt!==t.altKey||o.shift!==t.shiftKey?!1:t.keyCode===o.keyCode||t.charCode&&t.charCode===o.charCode?(t.preventDefault(),!0):!1}executeShortcutAction(t){return t.func?t.func.call(t.scope):null}}const EZ=()=>{const e={},t={},o={},r={},a={},c={},d={},g={},v=(M,I)=>(L,Y)=>{M[L.toLowerCase()]={...Y,type:I}},A=(M,I)=>r[M.toLowerCase()]=I;return{addButton:v(e,"button"),addGroupToolbarButton:v(e,"grouptoolbarbutton"),addToggleButton:v(e,"togglebutton"),addMenuButton:v(e,"menubutton"),addSplitButton:v(e,"splitbutton"),addMenuItem:v(t,"menuitem"),addNestedMenuItem:v(t,"nestedmenuitem"),addToggleMenuItem:v(t,"togglemenuitem"),addAutocompleter:v(o,"autocompleter"),addContextMenu:v(a,"contextmenu"),addContextToolbar:v(c,"contexttoolbar"),addContextForm:v(c,"contextform"),addSidebar:v(d,"sidebar"),addView:v(g,"views"),addIcon:A,getAll:()=>({buttons:e,menuItems:t,icons:r,popups:o,contextMenus:a,contextToolbars:c,sidebars:d,views:g})}},AZ=()=>{const e=EZ();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},zv=zr.DOM,$P=ut.extend,zZ=ut.each;class M5{constructor(t,o,r){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=r,this.documentBaseUrl=r.documentBaseURL,$P(this,BP);const a=this;this.id=t,this.hidden=!1;const c=uU(r.defaultOptions,o);this.options=yZ(a,c,o),Gv(a);const d=this.options.get;d("deprecation_warnings")&&MM(o,c);const g=d("suffix");g&&(r.suffix=g),this.suffix=r.suffix;const v=d("base_url");v&&r._setBaseUrl(v),this.baseUri=r.baseURI;const A=B1(a);A&&(ml.ScriptLoader._setReferrerPolicy(A),zr.DOM.styleSheetLoader._setReferrerPolicy(A));const M=f3(a);$e(M)&&zr.DOM.styleSheetLoader._setContentCssCors(M),el.languageLoad=d("language_load"),el.baseURL=r.baseURL,this.setDirty(!1),this.documentBaseURI=new au(wd(a),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=Sh(a),this.hasVisual=Jc(a),this.shortcuts=new HP(this),this.editorCommands=new DP(this),XU(this);const I=d("cache_suffix");I&&(Fo.cacheSuffix=I.replace(/^[\?\&]+/,"")),this.ui={registry:AZ(),styleSheetLoader:void 0,show:Yt,hide:Yt,setEnabled:Yt,isEnabled:Co},this.mode=wZ(a),r.dispatch("SetupEditor",{editor:this});const L=ry(a);Pt(L)&&L.call(a,a)}render(){Yj(this)}focus(t){this.execCommand("mceFocus",!1,t)}hasFocus(){return gy(this)}translate(t){return Gc.translate(t)}getParam(t,o,r){const a=this.options;return a.isRegistered(t)||($e(r)?a.register(t,{processor:r,default:o}):a.register(t,{processor:Co,default:o})),!a.isSet(t)&&!er(o)?o:a.get(t)}hasPlugin(t,o){return on(Nu(this),t)?o?sb.get(t)!==void 0:!0:!1}nodeChanged(t){this._nodeChangeDispatcher.nodeChanged(t)}addCommand(t,o,r){this.editorCommands.addCommand(t,o,r)}addQueryStateHandler(t,o,r){this.editorCommands.addQueryStateHandler(t,o,r)}addQueryValueHandler(t,o,r){this.editorCommands.addQueryValueHandler(t,o,r)}addShortcut(t,o,r,a){this.shortcuts.add(t,o,r,a)}execCommand(t,o,r,a){return this.editorCommands.execCommand(t,o,r,a)}queryCommandState(t){return this.editorCommands.queryCommandState(t)}queryCommandValue(t){return this.editorCommands.queryCommandValue(t)}queryCommandSupported(t){return this.editorCommands.queryCommandSupported(t)}show(){const t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable="true":(zv.show(t.getContainer()),zv.hide(t.id)),t.load(),t.dispatch("show"))}hide(){const t=this;t.hidden||(t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(zv.hide(t.getContainer()),zv.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(t,o){this.dispatch("ProgressState",{state:t,time:o})}load(t={}){const o=this,r=o.getElement();if(o.removed)return"";if(r){const a={...t,load:!0},c=Zf(r)?r.value:r.innerHTML,d=o.setContent(c,a);return a.no_events||o.dispatch("LoadContent",{...a,element:r}),d}else return""}save(t={}){const o=this;let r=o.getElement();if(!r||!o.initialized||o.removed)return"";const a={...t,save:!0,element:r};let c=o.getContent(a);const d={...a,content:c};if(d.no_events||o.dispatch("SaveContent",d),d.format==="raw"&&o.dispatch("RawSaveContent",d),c=d.content,Zf(r))r.value=c;else{(t.is_removing||!o.inline)&&(r.innerHTML=c);const g=zv.getParent(o.id,"form");g&&zZ(g.elements,v=>v.name===o.id?(v.value=c,!1):!0)}return d.element=a.element=r=null,d.set_dirty!==!1&&o.setDirty(!1),c}setContent(t,o){return DS(this,t,o)}getContent(t){return tO(this,t)}insertContent(t,o){o&&(t=$P({content:t},o)),this.execCommand("mceInsertContent",!1,t)}resetContent(t){t===void 0?DS(this,this.startContent,{format:"raw"}):DS(this,t),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(t){const o=!this.isNotDirty;this.isNotDirty=!t,t&&t!==o&&this.dispatch("dirty")}getContainer(){const t=this;return t.container||(t.container=t.editorContainer||zv.get(t.id+"_parent")),t.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=zv.get(this.id)),this.targetElm}getWin(){const t=this;if(!t.contentWindow){const o=t.iframeElement;o&&(t.contentWindow=o.contentWindow)}return t.contentWindow}getDoc(){const t=this;if(!t.contentDocument){const o=t.getWin();o&&(t.contentDocument=o.document)}return t.contentDocument}getBody(){var t,o;const r=this.getDoc();return(o=(t=this.bodyElement)!==null&&t!==void 0?t:r==null?void 0:r.body)!==null&&o!==void 0?o:null}convertURL(t,o,r){const a=this,c=a.options.get,d=eR(a);if(Pt(d))return d.call(a,t,r,!0,o);if(!c("convert_urls")||r==="link"||ce(r)&&r.nodeName==="LINK"||t.indexOf("file:")===0||t.length===0)return t;const g=new au(t);return g.protocol!=="http"&&g.protocol!=="https"&&g.protocol!==""?t:c("relative_urls")?a.documentBaseURI.toRelative(t):(t=a.documentBaseURI.toAbsolute(t,c("remove_script_host")),t)}addVisual(t){fU(this,t)}setEditableRoot(t){Xj(this,t)}hasEditableRoot(){return Jj(this)}remove(){cO(this)}destroy(t){IM(this,t)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const _w=zr.DOM,B5=ut.each;let VP=!1,I5,Od=[];const P5=e=>{const t=e.type;B5(Yy.get(),o=>{switch(t){case"scroll":o.dispatch("ScrollWindow",e);break;case"resize":o.dispatch("ResizeWindow",e);break}})},jP=e=>{if(e!==VP){const t=zr.DOM;e?(t.bind(window,"resize",P5),t.bind(window,"scroll",P5)):(t.unbind(window,"resize",P5),t.unbind(window,"scroll",P5)),VP=e}},UP=e=>{const t=Od;return Od=et(Od,o=>e!==o),Yy.activeEditor===e&&(Yy.activeEditor=Od.length>0?Od[0]:null),Yy.focusedEditor===e&&(Yy.focusedEditor=null),t.length!==Od.length},TZ=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(UP(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},OZ=document.compatMode!=="CSS1Compat",Yy={...q7,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"7",minorVersion:"3.0",releaseDate:"2024-08-07",i18n:Gc,activeEditor:null,focusedEditor:null,setup(){const e=this;let t="",o="",r=au.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/"));const a=window.tinymce||window.tinyMCEPreInit;if(a)t=a.base||a.baseURL,o=a.suffix;else{const c=document.getElementsByTagName("script");for(let d=0;d<c.length;d++){const g=c[d].src||"";if(g==="")continue;const v=g.substring(g.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(g)){v.indexOf(".min")!==-1&&(o=".min"),t=g.substring(0,g.lastIndexOf("/"));break}}if(!t&&document.currentScript){const d=document.currentScript.src;d.indexOf(".min")!==-1&&(o=".min"),t=d.substring(0,d.lastIndexOf("/"))}}e.baseURL=new au(r).toAbsolute(t),e.documentBaseURL=r,e.baseURI=new au(e.baseURL),e.suffix=o,nN(e)},overrideDefaults(e){const t=e.base_url;t&&this._setBaseUrl(t);const o=e.suffix;o&&(this.suffix=o),this.defaultOptions=e;const r=e.plugin_base_urls;r!==void 0&&Bo(r,(a,c)=>{el.PluginManager.urls[c]=a})},init(e){const t=this;let o;const r=ut.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),a=(M,I)=>M.inline&&I.tagName.toLowerCase()in r,c=M=>{let I=M.id;return I||(I=Mn(M,"name").filter(L=>!_w.get(L)).getOrThunk(_w.uniqueId),M.setAttribute("id",I)),I},d=M=>{const I=e[M];if(I)return I.apply(t,[])},g=M=>Fo.browser.isIE()||Fo.browser.isEdge()?(sv("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/7/support/#supportedwebbrowsers"),[]):OZ?(sv("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):mt(M.selector)?_w.select(M.selector):$e(M.target)?[M.target]:[];let v=M=>{o=M};const A=()=>{let M=0;const I=[];let L;const Y=(re,X,ae)=>{const ye=new M5(re,X,t);I.push(ye),ye.on("init",()=>{++M===L.length&&v(I)}),ye.targetElm=ye.targetElm||ae,ye.render()};_w.unbind(window,"ready",A),d("onpageload"),L=$a(g(e)),ut.each(L,re=>{TZ(t.get(re.id))}),L=ut.grep(L,re=>!t.get(re.id)),L.length===0?v([]):B5(L,re=>{a(e,re)?sv("Could not initialize inline editor on invalid inline target element",re):Y(c(re),e,re)})};return _w.bind(window,"ready",A),new Promise(M=>{o?M(o):v=I=>{M(I)}})},get(e){return arguments.length===0?Od.slice(0):mt(e)?Tn(Od,t=>t.id===e).getOr(null):T(e)&&Od[e]?Od[e]:null},add(e){const t=this,o=t.get(e.id);return o===e||(o===null&&Od.push(e),jP(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),I5||(I5=r=>{const a=t.dispatch("BeforeUnload");if(a.returnValue)return r.preventDefault(),r.returnValue=a.returnValue,a.returnValue},window.addEventListener("beforeunload",I5))),e},createEditor(e,t){return this.add(new M5(e,t,this))},remove(e){const t=this;let o;if(!e){for(let r=Od.length-1;r>=0;r--)t.remove(Od[r]);return}if(mt(e)){B5(_w.select(e),r=>{o=t.get(r.id),o&&t.remove(o)});return}return o=e,ct(t.get(o.id))?null:(UP(o)&&t.dispatch("RemoveEditor",{editor:o}),Od.length===0&&window.removeEventListener("beforeunload",I5),o.remove(),jP(Od.length>0),o)},execCommand(e,t,o){var r;const a=this,c=ce(o)?(r=o.id)!==null&&r!==void 0?r:o.index:o;switch(e){case"mceAddEditor":{if(!a.get(c)){const d=o.options;new M5(c,d,a).render()}return!0}case"mceRemoveEditor":{const d=a.get(c);return d&&d.remove(),!0}case"mceToggleEditor":{const d=a.get(c);return d?(d.isHidden()?d.show():d.hide(),!0):(a.execCommand("mceAddEditor",!1,o),!0)}}return a.activeEditor?a.activeEditor.execCommand(e,t,o):!1},triggerSave:()=>{B5(Od,e=>{e.save()})},addI18n:(e,t)=>{Gc.add(e,t)},translate:e=>Gc.translate(e),setActive(e){const t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new au(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new au(this.baseURL)}};Yy.setup();const DZ=(()=>{const e=da(),t=c=>({items:c,types:st(c),getType:d=>Mn(c,d).getOrUndefined()}),o=c=>{e.set(c)},r=()=>e.get().getOrUndefined(),a=e.clear;return{FakeClipboardItem:t,write:o,read:r,clear:a}})(),ZP=Math.min,Cw=Math.max,L5=Math.round,WP=(e,t,o)=>{let r=t.x,a=t.y;const c=e.w,d=e.h,g=t.w,v=t.h,A=(o||"").split("");return A[0]==="b"&&(a+=v),A[1]==="r"&&(r+=g),A[0]==="c"&&(a+=L5(v/2)),A[1]==="c"&&(r+=L5(g/2)),A[3]==="b"&&(a-=d),A[4]==="r"&&(r-=c),A[3]==="c"&&(a-=L5(d/2)),A[4]==="c"&&(r-=L5(c/2)),Sw(r,a,c,d)},RZ=(e,t,o,r)=>{for(let a=0;a<r.length;a++){const c=WP(e,t,r[a]);if(c.x>=o.x&&c.x+c.w<=o.w+o.x&&c.y>=o.y&&c.y+c.h<=o.h+o.y)return r[a]}return null},NZ=(e,t,o)=>Sw(e.x-t,e.y-o,e.w+t*2,e.h+o*2),MZ=(e,t)=>{const o=Cw(e.x,t.x),r=Cw(e.y,t.y),a=ZP(e.x+e.w,t.x+t.w),c=ZP(e.y+e.h,t.y+t.h);return a-o<0||c-r<0?null:Sw(o,r,a-o,c-r)},BZ=(e,t,o)=>{let r=e.x,a=e.y,c=e.x+e.w,d=e.y+e.h;const g=t.x+t.w,v=t.y+t.h,A=Cw(0,t.x-r),M=Cw(0,t.y-a),I=Cw(0,c-g),L=Cw(0,d-v);return r+=A,a+=M,o&&(c+=A,d+=M,r-=I,a-=L),c-=I,d-=L,Sw(r,a,c-r,d-a)},Sw=(e,t,o,r)=>({x:e,y:t,w:o,h:r}),IZ={inflate:NZ,relativePosition:WP,findBestRelativePosition:RZ,intersect:MZ,clamp:BZ,create:Sw,fromClientRect:e=>Sw(e.left,e.top,e.width,e.height)},PZ=(e,t,o=1e3)=>{let r=!1,a=null;const c=A=>(...M)=>{r||(r=!0,a!==null&&(clearTimeout(a),a=null),A.apply(null,M))},d=c(e),g=c(t);return{start:(...A)=>{!r&&a===null&&(a=setTimeout(()=>g.apply(null,A),o))},resolve:d,reject:g}},LZ=(()=>{const e={},t={},o={};return{load:(v,A)=>{const M=`Script at URL "${A}" failed to load`,I=`Script at URL "${A}" did not call \`tinymce.Resource.add('${v}', data)\` within 1 second`;if(e[v]!==void 0)return e[v];{const L=new Promise((Y,re)=>{const X=PZ(Y,re);t[v]=X.resolve,ml.ScriptLoader.loadScript(A).then(()=>X.start(I),()=>X.reject(M))});return e[v]=L,L}},add:(v,A)=>{t[v]!==void 0&&(t[v](A),delete t[v]),e[v]=Promise.resolve(A),o[v]=A},has:v=>v in o,get:v=>o[v],unload:v=>{delete e[v],delete o[v]}}})(),FZ=()=>(()=>{let e={},t=[];const o={getItem:r=>{const a=e[r];return a||null},setItem:(r,a)=>{t.push(r),e[r]=String(a)},key:r=>t[r],removeItem:r=>{t=t.filter(a=>a===r),delete e[r]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(o,"length",{get:()=>t.length,configurable:!1,enumerable:!1}),o})();let Z4;try{const e="__storage_test__";Z4=window.localStorage,Z4.setItem(e,e),Z4.removeItem(e)}catch{Z4=FZ()}var HZ=Z4;const $Z={geom:{Rect:IZ},util:{Delay:od,Tools:ut,VK:Ot,URI:au,EventDispatcher:W7,Observable:q7,I18n:Gc,LocalStorage:HZ,ImageUploader:GM},dom:{EventUtils:rf,TreeWalker:Ka,TextSeeker:Au,DOMUtils:zr,ScriptLoader:ml,RangeUtils:hg,Serializer:eO,StyleSheetLoader:_u,ControlSelection:mr,BookmarkManager:wr,Selection:TS,Event:rf.Event},html:{Styles:c1,Entities:Jm,Node:Oi,Schema:qc,DomParser:Ry,Writer:r2,Serializer:_p},Env:Fo,AddOnManager:el,Annotator:gE,Formatter:lv,UndoManager:NO,EditorCommands:DP,WindowManager:hO,NotificationManager:LS,EditorObservable:BP,Shortcuts:HP,Editor:M5,FocusManager:eu,EditorManager:Yy,DOM:zr.DOM,ScriptLoader:ml.ScriptLoader,PluginManager:sb,ThemeManager:Bg,ModelManager:Mg,IconManager:nv,Resource:LZ,FakeClipboard:DZ,trim:ut.trim,isArray:ut.isArray,is:ut.is,toArray:ut.toArray,makeMap:ut.makeMap,each:ut.each,map:ut.map,grep:ut.grep,inArray:ut.inArray,extend:ut.extend,walk:ut.walk,resolve:ut.resolve,explode:ut.explode,_addCacheSuffix:ut._addCacheSuffix},qP=ut.extend(Yy,$Z),VZ=e=>{try{Hr.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(qP),VZ(qP)})()})(oL);var qZ=oL.exports;const tL=WZ(qZ);tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-code":'<svg width="24" height="24"><path d="m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"math-equation":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){const Hr=Object.getPrototypeOf,Hs=(n,s,i)=>{var l;return!!i(n,s.prototype)||((l=n.constructor)===null||l===void 0?void 0:l.name)===s.name},is=n=>s=>(i=>{const l=typeof i;return i===null?"null":l==="object"&&Array.isArray(i)?"array":l==="object"&&Hs(i,String,(u,f)=>f.isPrototypeOf(u))?"string":l})(s)===n,ms=n=>s=>typeof s===n,Dr=n=>s=>n===s,Do=is("string"),sr=is("object"),Qn=n=>((s,i)=>sr(s)&&Hs(s,i,(l,u)=>Hr(l)===u))(n,Object),Ko=is("array"),Rn=Dr(null),tn=ms("boolean"),Yn=Dr(void 0),Rr=n=>n==null,Lt=n=>!Rr(n),eo=ms("function"),Yo=ms("number"),ar=(n,s)=>{if(Ko(n)){for(let i=0,l=n.length;i<l;++i)if(!s(n[i]))return!1;return!0}return!1},at=()=>{},it=n=>()=>n(),mt=(n,s)=>(...i)=>n(s.apply(null,i)),ce=n=>()=>n,Tt=n=>n,ve=(n,s)=>n===s;function ct(n,...s){return(...i)=>{const l=s.concat(i);return n.apply(null,l)}}const $r=n=>s=>!n(s),er=n=>()=>{throw new Error(n)},Io=n=>n(),$e=ce(!1),Pt=ce(!0);class T{constructor(s,i){this.tag=s,this.value=i}static some(s){return new T(!0,s)}static none(){return T.singletonNone}fold(s,i){return this.tag?i(this.value):s()}isSome(){return this.tag}isNone(){return!this.tag}map(s){return this.tag?T.some(s(this.value)):T.none()}bind(s){return this.tag?s(this.value):T.none()}exists(s){return this.tag&&s(this.value)}forall(s){return!this.tag||s(this.value)}filter(s){return!this.tag||s(this.value)?this:T.none()}getOr(s){return this.tag?this.value:s}or(s){return this.tag?this:s}getOrThunk(s){return this.tag?this.value:s()}orThunk(s){return this.tag?this:s()}getOrDie(s){if(this.tag)return this.value;throw new Error(s??"Called getOrDie on None")}static from(s){return Lt(s)?T.some(s):T.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(s){this.tag&&s(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}T.singletonNone=new T(!1);const _o=Array.prototype.slice,Yt=Array.prototype.indexOf,Lo=Array.prototype.push,hr=(n,s)=>Yt.call(n,s),we=(n,s)=>hr(n,s)>-1,At=(n,s)=>{for(let i=0,l=n.length;i<l;i++)if(s(n[i],i))return!0;return!1},dn=(n,s)=>{const i=[];for(let l=0;l<n;l++)i.push(s(l));return i},kt=(n,s)=>{const i=[];for(let l=0;l<n.length;l+=s){const u=_o.call(n,l,l+s);i.push(u)}return i},nt=(n,s)=>{const i=n.length,l=new Array(i);for(let u=0;u<i;u++){const f=n[u];l[u]=s(f,u)}return l},Dt=(n,s)=>{for(let i=0,l=n.length;i<l;i++)s(n[i],i)},Wr=(n,s)=>{const i=[],l=[];for(let u=0,f=n.length;u<f;u++){const p=n[u];(s(p,u)?i:l).push(p)}return{pass:i,fail:l}},Nn=(n,s)=>{const i=[];for(let l=0,u=n.length;l<u;l++){const f=n[l];s(f,l)&&i.push(f)}return i},yn=(n,s,i)=>(((l,u)=>{for(let f=l.length-1;f>=0;f--)u(l[f],f)})(n,(l,u)=>{i=s(i,l,u)}),i),Co=(n,s,i)=>(Dt(n,(l,u)=>{i=s(i,l,u)}),i),H=(n,s)=>((i,l,u)=>{for(let f=0,p=i.length;f<p;f++){const b=i[f];if(l(b,f))return T.some(b);if(u(b,f))break}return T.none()})(n,s,$e),ra=(n,s)=>{for(let i=0,l=n.length;i<l;i++)if(s(n[i],i))return T.some(i);return T.none()},Hn=n=>{const s=[];for(let i=0,l=n.length;i<l;++i){if(!Ko(n[i]))throw new Error("Arr.flatten item "+i+" was not an array, input: "+n);Lo.apply(s,n[i])}return s},kn=(n,s)=>Hn(nt(n,s)),yi=(n,s)=>{for(let i=0,l=n.length;i<l;++i)if(s(n[i],i)!==!0)return!1;return!0},kl=n=>{const s=_o.call(n,0);return s.reverse(),s},on=(n,s)=>Nn(n,i=>!we(s,i)),zn=(n,s)=>{const i={};for(let l=0,u=n.length;l<u;l++){const f=n[l];i[String(f)]=s(f,l)}return i},Jo=n=>[n],Re=(n,s)=>{const i=_o.call(n,0);return i.sort(s),i},wt=(n,s)=>s>=0&&s<n.length?T.some(n[s]):T.none(),rt=n=>wt(n,0),et=n=>wt(n,n.length-1),Gt=eo(Array.from)?Array.from:n=>_o.call(n),uo=(n,s)=>{for(let i=0;i<n.length;i++){const l=s(n[i],i);if(l.isSome())return l}return T.none()},qo=Object.keys,Tn=Object.hasOwnProperty,or=(n,s)=>{const i=qo(n);for(let l=0,u=i.length;l<u;l++){const f=i[l];s(n[f],f)}},$n=(n,s)=>vn(n,(i,l)=>({k:l,v:s(i,l)})),vn=(n,s)=>{const i={};return or(n,(l,u)=>{const f=s(l,u);i[f.k]=f.v}),i},Nr=n=>(s,i)=>{n[i]=s},Js=(n,s,i,l)=>{or(n,(u,f)=>{(s(u,f)?i:l)(u,f)})},Vn=(n,s)=>{const i={};return Js(n,s,Nr(i),at),i},_r=(n,s)=>{const i=[];return or(n,(l,u)=>{i.push(s(l,u))}),i},Qo=(n,s)=>{const i=qo(n);for(let l=0,u=i.length;l<u;l++){const f=i[l],p=n[f];if(s(p,f,n))return T.some(p)}return T.none()},$s=n=>_r(n,Tt),dt=(n,s)=>no(n,s)?T.from(n[s]):T.none(),no=(n,s)=>Tn.call(n,s),Vo=(n,s)=>no(n,s)&&n[s]!==void 0&&n[s]!==null,Rs=(n,s,i=ve)=>n.exists(l=>i(l,s)),$a=n=>{const s=[],i=l=>{s.push(l)};for(let l=0;l<n.length;l++)n[l].each(i);return s},st=(n,s,i)=>n.isSome()&&s.isSome()?T.some(i(n.getOrDie(),s.getOrDie())):T.none(),Ta=(n,s)=>n!=null?T.some(s(n)):T.none(),Bo=(n,s)=>n?T.some(s):T.none(),vi=(n,s,i)=>s===""||n.length>=s.length&&n.substr(i,i+s.length)===s,Xn=(n,s)=>Wi(n,s)?((i,l)=>i.substring(l))(n,s.length):n,ls=(n,s,i=0,l)=>{const u=n.indexOf(s,i);return u!==-1&&(!!Yn(l)||u+s.length<=l)},Wi=(n,s)=>vi(n,s,0),Ri=(n,s)=>vi(n,s,n.length-s.length),ti=(cd=/^\s+|\s+$/g,n=>n.replace(cd,"")),Va=n=>n.length>0,qi=n=>!Va(n),Mn=n=>n.style!==void 0&&eo(n.style.getPropertyValue),po=n=>{if(n==null)throw new Error("Node cannot be null or undefined");return{dom:n}},ha=(n,s)=>{const i=document.createElement("div");if(i.innerHTML=n,!i.hasChildNodes()||i.childNodes.length>1){const l="HTML does not have a single root node";throw console.error(l,n),new Error(l)}return po(i.childNodes[0])},ps=(n,s)=>{const i=document.createElement(n);return po(i)},zc=(n,s)=>{const i=document.createTextNode(n);return po(i)},Et=po,_s=typeof window<"u"?window:Function("return this;")(),Tc=(n,s)=>((i,l)=>{let u=l??_s;for(let f=0;f<i.length&&u!=null;++f)u=u[i[f]];return u})(n.split("."),s),br=Object.getPrototypeOf,Oc=n=>{const s=Tc("ownerDocument.defaultView",n);return sr(n)&&((i=>((l,u)=>{const f=((p,b)=>Tc(p,b))(l,u);if(f==null)throw new Error(l+" not available on this browser");return f})("HTMLElement",i))(s).prototype.isPrototypeOf(n)||/^HTML\w*Element$/.test(br(n).constructor.name))},ba=n=>n.dom.nodeName.toLowerCase(),Cs=n=>s=>(i=>i.dom.nodeType)(s)===n,ja=n=>fr(n)&&Oc(n.dom),fr=Cs(1),Ss=Cs(3),Oa=Cs(9),wl=Cs(11),Gi=n=>s=>fr(s)&&ba(s)===n,Ua=(n,s)=>{const i=n.dom;if(i.nodeType!==1)return!1;{const l=i;if(l.matches!==void 0)return l.matches(s);if(l.msMatchesSelector!==void 0)return l.msMatchesSelector(s);if(l.webkitMatchesSelector!==void 0)return l.webkitMatchesSelector(s);if(l.mozMatchesSelector!==void 0)return l.mozMatchesSelector(s);throw new Error("Browser lacks native selectors")}},ad=n=>n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11||n.childElementCount===0,Ql=(n,s)=>{const i=s===void 0?document:s.dom;return ad(i)?T.none():T.from(i.querySelector(n)).map(Et)},wn=(n,s)=>n.dom===s.dom,ns=(n,s)=>{const i=n.dom,l=s.dom;return i!==l&&i.contains(l)},sa=n=>Et(n.dom.ownerDocument),Dd=n=>Oa(n)?n:sa(n),Ni=n=>Et(Dd(n).dom.documentElement),id=n=>Et(Dd(n).dom.defaultView),Vs=n=>T.from(n.dom.parentNode).map(Et),js=n=>T.from(n.dom.parentElement).map(Et),oi=n=>T.from(n.dom.offsetParent).map(Et),Bn=n=>nt(n.dom.childNodes,Et),lr=(n,s)=>{const i=n.dom.childNodes;return T.from(i[s]).map(Et)},Mi=n=>lr(n,0),_l=(n,s)=>({element:n,offset:s}),rs=(n,s)=>{const i=Bn(n);return i.length>0&&s<i.length?_l(i[s],0):_l(n,s)},al=n=>wl(n)&&Lt(n.dom.host),Mr=n=>Et(n.dom.getRootNode()),pn=n=>al(n)?n:Et(Dd(n).dom.body),xi=n=>{const s=Mr(n);return al(s)?T.some(s):T.none()},Es=n=>Et(n.dom.host),Us=n=>{const s=Ss(n)?n.dom.parentNode:n.dom;if(s==null||s.ownerDocument===null)return!1;const i=s.ownerDocument;return xi(Et(s)).fold(()=>i.body.contains(s),(l=Us,u=Es,f=>l(u(f))));var l,u},ya=()=>Vr(Et(document)),Vr=n=>{const s=n.dom.body;if(s==null)throw new Error("Body is not available yet");return Et(s)},ec=(n,s,i)=>{if(!(Do(i)||tn(i)||Yo(i)))throw console.error("Invalid call to Attribute.set. Key ",s,":: Value ",i,":: Element ",n),new Error("Attribute value was not simple");n.setAttribute(s,i+"")},lo=(n,s,i)=>{ec(n.dom,s,i)},Ki=(n,s)=>{const i=n.dom;or(s,(l,u)=>{ec(i,u,l)})},gs=(n,s)=>{const i=n.dom.getAttribute(s);return i===null?void 0:i},Cr=(n,s)=>T.from(gs(n,s)),tc=(n,s)=>{const i=n.dom;return!(!i||!i.hasAttribute)&&i.hasAttribute(s)},Xo=(n,s)=>{n.dom.removeAttribute(s)},il=(n,s,i)=>{if(!Do(i))throw console.error("Invalid call to CSS.set. Property ",s,":: Value ",i,":: Element ",n),new Error("CSS value must be a string: "+i);Mn(n)&&n.style.setProperty(s,i)},aa=(n,s)=>{Mn(n)&&n.style.removeProperty(s)},bo=(n,s,i)=>{const l=n.dom;il(l,s,i)},ki=(n,s)=>{const i=n.dom;or(s,(l,u)=>{il(i,u,l)})},Za=(n,s)=>{const i=n.dom;or(s,(l,u)=>{l.fold(()=>{aa(i,u)},f=>{il(i,u,f)})})},yr=(n,s)=>{const i=n.dom,l=window.getComputedStyle(i).getPropertyValue(s);return l!==""||Us(n)?l:Cl(i,s)},Cl=(n,s)=>Mn(n)?n.style.getPropertyValue(s):"",Sr=(n,s)=>{const i=n.dom,l=Cl(i,s);return T.from(l).filter(u=>u.length>0)},Nl=n=>{const s={},i=n.dom;if(Mn(i))for(let l=0;l<i.style.length;l++){const u=i.style.item(l);s[u]=i.style[u]}return s},Zs=(n,s,i)=>{const l=ps(n);return bo(l,s,i),Sr(l,s).isSome()},_n=(n,s)=>{const i=n.dom;aa(i,s),Rs(Cr(n,"style").map(ti),"")&&Xo(n,"style")},ll=n=>n.dom.offsetWidth,oc=(n,s)=>{const i=u=>{const f=s(u);if(f<=0||f===null){const p=yr(u,n);return parseFloat(p)||0}return f},l=(u,f)=>Co(f,(p,b)=>{const y=yr(u,b),w=y===void 0?0:parseInt(y,10);return isNaN(w)?p:p+w},0);return{set:(u,f)=>{if(!Yo(f)&&!f.match(/^[0-9]+$/))throw new Error(n+".set accepts only positive integer values. Value was "+f);const p=u.dom;Mn(p)&&(p.style[n]=f+"px")},get:i,getOuter:i,aggregate:l,max:(u,f,p)=>{const b=l(u,p);return f>b?f-b:0}}},Dc=oc("height",n=>{const s=n.dom;return Us(n)?s.getBoundingClientRect().height:s.offsetHeight}),vr=n=>Dc.get(n),va=n=>Dc.getOuter(n),G=(n,s)=>({left:n,top:s,translate:(i,l)=>G(n+i,s+l)}),le=G,Ce=(n,s)=>n!==void 0?n:s!==void 0?s:0,Ve=n=>{const s=n.dom.ownerDocument,i=s.body,l=s.defaultView,u=s.documentElement;if(i===n.dom)return le(i.offsetLeft,i.offsetTop);const f=Ce(l==null?void 0:l.pageYOffset,u.scrollTop),p=Ce(l==null?void 0:l.pageXOffset,u.scrollLeft),b=Ce(u.clientTop,i.clientTop),y=Ce(u.clientLeft,i.clientLeft);return lt(n).translate(p-y,f-b)},lt=n=>{const s=n.dom,i=s.ownerDocument.body;return i===s?le(i.offsetLeft,i.offsetTop):Us(n)?(l=>{const u=l.getBoundingClientRect();return le(u.left,u.top)})(s):le(0,0)},$t=oc("width",n=>n.dom.offsetWidth),To=n=>$t.get(n),Ln=n=>$t.getOuter(n),jo=n=>{let s,i=!1;return(...l)=>(i||(i=!0,s=n.apply(null,l)),s)},Zn=()=>jr(0,0),jr=(n,s)=>({major:n,minor:s}),Fo={nu:jr,detect:(n,s)=>{const i=String(s).toLowerCase();return n.length===0?Zn():((l,u)=>{const f=((b,y)=>{for(let w=0;w<b.length;w++){const E=b[w];if(E.test(y))return E}})(l,u);if(!f)return{major:0,minor:0};const p=b=>Number(u.replace(f,"$"+b));return jr(p(1),p(2))})(n,i)},unknown:Zn},Yi=(n,s)=>{const i=String(s).toLowerCase();return H(n,l=>l.search(i))},Sl=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,F=n=>s=>ls(s,n),ee=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:n=>ls(n,"edge/")&&ls(n,"chrome")&&ls(n,"safari")&&ls(n,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Sl],search:n=>ls(n,"chrome")&&!ls(n,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:n=>ls(n,"msie")||ls(n,"trident")},{name:"Opera",versionRegexes:[Sl,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:F("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:F("firefox")},{name:"Safari",versionRegexes:[Sl,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:n=>(ls(n,"safari")||ls(n,"mobile/"))&&ls(n,"applewebkit")}],pe=[{name:"Windows",search:F("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:n=>ls(n,"iphone")||ls(n,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:F("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:F("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:F("linux"),versionRegexes:[]},{name:"Solaris",search:F("sunos"),versionRegexes:[]},{name:"FreeBSD",search:F("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:F("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Oe={browsers:ce(ee),oses:ce(pe)},Ht="Edge",un="Chromium",Ur="Opera",Wa="Firefox",ut="Safari",Bi=n=>{const s=n.current,i=n.version,l=u=>()=>s===u;return{current:s,version:i,isEdge:l(Ht),isChromium:l(un),isIE:l("IE"),isOpera:l(Ur),isFirefox:l(Wa),isSafari:l(ut)}},Da=()=>Bi({current:void 0,version:Fo.unknown()}),nc=Bi,ia="Windows",Rc="Android",ld="Linux",$m="macOS",El="Solaris",Nf="FreeBSD",Hp="ChromeOS",Vg=n=>{const s=n.current,i=n.version,l=u=>()=>s===u;return{current:s,version:i,isWindows:l(ia),isiOS:l("iOS"),isAndroid:l(Rc),isMacOS:l($m),isLinux:l(ld),isSolaris:l(El),isFreeBSD:l(Nf),isChromeOS:l(Hp)}},yb=()=>Vg({current:void 0,version:Fo.unknown()}),Mf=Vg,rc=n=>window.matchMedia(n).matches;var cd;let sc=jo(()=>((n,s,i)=>{const l=Oe.browsers(),u=Oe.oses(),f=s.bind(y=>((w,E)=>uo(E.brands,C=>{const O=C.brand.toLowerCase();return H(w,B=>{var P;return O===((P=B.brand)===null||P===void 0?void 0:P.toLowerCase())}).map(B=>({current:B.name,version:Fo.nu(parseInt(C.version,10),0)}))}))(l,y)).orThunk(()=>((y,w)=>Yi(y,w).map(E=>{const C=Fo.detect(E.versionRegexes,w);return{current:E.name,version:C}}))(l,n)).fold(Da,nc),p=((y,w)=>Yi(y,w).map(E=>{const C=Fo.detect(E.versionRegexes,w);return{current:E.name,version:C}}))(u,n).fold(yb,Mf),b=((y,w,E,C)=>{const O=y.isiOS()&&/ipad/i.test(E)===!0,B=y.isiOS()&&!O,P=y.isiOS()||y.isAndroid(),Z=P||C("(pointer:coarse)"),K=O||!B&&P&&C("(min-device-width:768px)"),oe=B||P&&!K,q=w.isSafari()&&y.isiOS()&&/safari/i.test(E)===!1,W=!oe&&!K&&!q;return{isiPad:ce(O),isiPhone:ce(B),isTablet:ce(K),isPhone:ce(oe),isTouch:ce(Z),isAndroid:y.isAndroid,isiOS:y.isiOS,isWebView:ce(q),isDesktop:ce(W)}})(p,f,n,i);return{browser:f,os:p,deviceType:b}})(window.navigator.userAgent,T.from(window.navigator.userAgentData),rc));const la=()=>sc(),Ii=n=>{const s=Et((f=>{if(Lt(f.target)){const p=Et(f.target);if(fr(p)&&(b=>Lt(b.dom.shadowRoot))(p)&&f.composed&&f.composedPath){const b=f.composedPath();if(b)return rt(b)}}return T.from(f.target)})(n).getOr(n.target)),i=()=>n.stopPropagation(),l=()=>n.preventDefault(),u=mt(l,i);return((f,p,b,y,w,E,C)=>({target:f,x:p,y:b,stop:y,prevent:w,kill:E,raw:C}))(s,n.clientX,n.clientY,i,l,u,n)},Rd=(n,s,i,l,u)=>{const f=((p,b)=>y=>{p(y)&&b(Ii(y))})(i,l);return n.dom.addEventListener(s,f,u),{unbind:ct(gn,n,s,f,u)}},gn=(n,s,i,l)=>{n.dom.removeEventListener(s,i,l)},Ml=(n,s)=>{Vs(n).each(i=>{i.dom.insertBefore(s.dom,n.dom)})},Uu=(n,s)=>{(l=>T.from(l.dom.nextSibling).map(Et))(n).fold(()=>{Vs(n).each(l=>{wi(l,s)})},l=>{Ml(l,s)})},Zu=(n,s)=>{Mi(n).fold(()=>{wi(n,s)},i=>{n.dom.insertBefore(s.dom,i.dom)})},wi=(n,s)=>{n.dom.appendChild(s.dom)},hs=(n,s)=>{Dt(s,i=>{wi(n,i)})},Br=n=>{n.dom.textContent="",Dt(Bn(n),s=>{xa(s)})},xa=n=>{const s=n.dom;s.parentNode!==null&&s.parentNode.removeChild(s)},xr=n=>{const s=n!==void 0?n.dom:document,i=s.body.scrollLeft||s.documentElement.scrollLeft,l=s.body.scrollTop||s.documentElement.scrollTop;return le(i,l)},Nd=(n,s,i)=>{const l=(i!==void 0?i.dom:document).defaultView;l&&l.scrollTo(n,s)},Md=(n,s,i,l)=>({x:n,y:s,width:i,height:l,right:n+i,bottom:s+l}),Ws=n=>{const s=n===void 0?window:n,i=s.document,l=xr(Et(i));return(u=>{const f=u===void 0?window:u;return la().browser.isFirefox()?T.none():T.from(f.visualViewport)})(s).fold(()=>{const u=s.document.documentElement,f=u.clientWidth,p=u.clientHeight;return Md(l.left,l.top,f,p)},u=>Md(Math.max(u.pageLeft,l.left),Math.max(u.pageTop,l.top),u.width,u.height))},ni=()=>Et(document),qa=(n,s)=>n.view(s).fold(ce([]),i=>{const l=n.owner(i),u=qa(n,l);return[i].concat(u)});var Ns=Object.freeze({__proto__:null,view:n=>{var s;return(n.dom===document?T.none():T.from((s=n.dom.defaultView)===null||s===void 0?void 0:s.frameElement)).map(Et)},owner:n=>sa(n)});const dd=n=>{const s=ni(),i=xr(s);return((u,f)=>{const p=f.owner(u),b=qa(f,p);return T.some(b)})(n,Ns).fold(ct(Ve,n),u=>{const f=lt(n),p=yn(u,(b,y)=>{const w=lt(y);return{left:b.left+w.left,top:b.top+w.top}},{left:0,top:0});return le(p.left+f.left+i.left,p.top+f.top+i.top)})},Go=(n,s,i,l)=>({x:n,y:s,width:i,height:l,right:n+i,bottom:s+l}),As=n=>{const s=Ve(n),i=Ln(n),l=va(n);return Go(s.left,s.top,i,l)},ri=n=>{const s=dd(n),i=Ln(n),l=va(n);return Go(s.left,s.top,i,l)},ac=(n,s)=>{const i=Math.max(n.x,s.x),l=Math.max(n.y,s.y),u=Math.min(n.right,s.right),f=Math.min(n.bottom,s.bottom);return Go(i,l,u-i,f-l)},Qs=()=>Ws(window),Ut=n=>{let s=n;return{get:()=>s,set:i=>{s=i}}},Bl=n=>{const s=Ut(T.none()),i=()=>s.get().each(n);return{clear:()=>{i(),s.set(T.none())},isSet:()=>s.get().isSome(),get:()=>s.get(),set:l=>{i(),s.set(T.some(l))}}},Il=()=>Bl(n=>n.unbind()),Cn=()=>{const n=Bl(at);return{...n,on:s=>n.get().each(s)}};var uu=tinymce.util.Tools.resolve("tinymce.ThemeManager");const Vm=n=>{const s=f=>f(n),i=ce(n),l=()=>u,u={tag:!0,inner:n,fold:(f,p)=>p(n),isValue:Pt,isError:$e,map:f=>en.value(f(n)),mapError:l,bind:s,exists:s,forall:s,getOr:i,or:l,getOrThunk:i,orThunk:l,getOrDie:i,each:f=>{f(n)},toOptional:()=>T.some(n)};return u},ic=n=>{const s=()=>i,i={tag:!1,inner:n,fold:(l,u)=>l(n),isValue:$e,isError:Pt,map:s,mapError:l=>en.error(l(n)),bind:s,exists:$e,forall:Pt,getOr:Tt,or:Tt,getOrThunk:Io,orThunk:Io,getOrDie:er(String(n)),each:at,toOptional:T.none};return i},en={value:Vm,error:ic,fromOption:(n,s)=>n.fold(()=>ic(s),Vm)};var Ga;(function(n){n[n.Error=0]="Error",n[n.Value=1]="Value"})(Ga||(Ga={}));const Wu=(n,s,i)=>n.stype===Ga.Error?s(n.serror):i(n.svalue),Nc=n=>({stype:Ga.Value,svalue:n}),Bf=n=>({stype:Ga.Error,serror:n}),Pl=Nc,si=Bf,lc=Wu,Bd=(n,s,i,l)=>({tag:"field",key:n,newKey:s,presence:i,prop:l}),me=(n,s,i)=>{switch(n.tag){case"field":return s(n.key,n.newKey,n.presence,n.prop);case"custom":return i(n.newKey,n.instantiator)}},fu=n=>(...s)=>{if(s.length===0)throw new Error("Can't merge zero objects");const i={};for(let l=0;l<s.length;l++){const u=s[l];for(const f in u)no(u,f)&&(i[f]=n(i[f],u[f]))}return i},nr=fu((n,s)=>Qn(n)&&Qn(s)?nr(n,s):s),jm=fu((n,s)=>s),qu=n=>({tag:"defaultedThunk",process:n}),Al=n=>qu(ce(n)),fn=n=>({tag:"mergeWithThunk",process:n}),Ra=n=>{const s=(l=>{const u=[],f=[];return Dt(l,p=>{Wu(p,b=>f.push(b),b=>u.push(b))}),{values:u,errors:f}})(n);return s.errors.length>0?(i=s.errors,mt(si,Hn)(i)):Pl(s.values);var i},cl=n=>sr(n)&&qo(n).length>100?" removed due to size":JSON.stringify(n,null,2),zl=(n,s)=>si([{path:n,getErrorInfo:s}]),cc=n=>({extract:(s,i)=>((l,u)=>l.stype===Ga.Error?u(l.serror):l)(n(i),l=>((u,f)=>zl(u,ce(f)))(s,l)),toString:ce("val")}),Mc=cc(Pl),ka=(n,s,i,l)=>l(dt(n,s).getOrThunk(()=>i(n))),Id=(n,s,i,l,u)=>{const f=b=>u.extract(s.concat([l]),b),p=b=>b.fold(()=>Pl(T.none()),y=>((w,E)=>w.stype===Ga.Value?{stype:Ga.Value,svalue:E(w.svalue)}:w)(u.extract(s.concat([l]),y),T.some));switch(n.tag){case"required":return((b,y,w,E)=>dt(y,w).fold(()=>((C,O,B)=>zl(C,()=>'Could not find valid *required* value for "'+O+'" in '+cl(B)))(b,w,y),E))(s,i,l,f);case"defaultedThunk":return ka(i,l,n.process,f);case"option":return((b,y,w)=>w(dt(b,y)))(i,l,p);case"defaultedOptionThunk":return((b,y,w,E)=>E(dt(b,y).map(C=>C===!0?w(b):C)))(i,l,n.process,p);case"mergeWithThunk":return ka(i,l,ce({}),b=>{const y=nr(n.process(i),b);return f(y)})}},Gu=n=>({extract:(s,i)=>n().extract(s,i),toString:()=>n().toString()}),If=n=>qo(Vn(n,Lt)),ea=n=>{const s=to(n),i=yn(n,(l,u)=>me(u,f=>nr(l,{[f]:!0}),ce(l)),{});return{extract:(l,u)=>{const f=tn(u)?[]:If(u),p=Nn(f,b=>!Vo(i,b));return p.length===0?s.extract(l,u):((b,y)=>zl(b,()=>"There are unsupported fields: ["+y.join(", ")+"] specified"))(l,p)},toString:s.toString}},to=n=>({extract:(s,i)=>((l,u,f)=>{const p={},b=[];for(const y of f)me(y,(w,E,C,O)=>{const B=Id(C,l,u,w,O);lc(B,P=>{b.push(...P)},P=>{p[E]=P})},(w,E)=>{p[w]=E(u)});return b.length>0?si(b):Pl(p)})(s,i,n),toString:()=>`obj{
`+nt(n,i=>me(i,(l,u,f,p)=>l+" -> "+p.toString(),(l,u)=>"state("+l+")")).join(`
`)+"}"}),Bc=n=>({extract:(s,i)=>{const l=nt(i,(u,f)=>n.extract(s.concat(["["+f+"]"]),u));return Ra(l)},toString:()=>"array("+n.toString()+")"}),mu=(n,s)=>{const i=s!==void 0?s:Tt;return{extract:(l,u)=>{const f=[];for(const p of n){const b=p.extract(l,u);if(b.stype===Ga.Value)return{stype:Ga.Value,svalue:i(b.svalue)};f.push(b)}return Ra(f)},toString:()=>"oneOf("+nt(n,l=>l.toString()).join(", ")+")"}},Na=(n,s)=>({extract:(i,l)=>{const u=qo(l),f=((p,b)=>Bc(cc(n)).extract(p,b))(i,u);return((p,b)=>p.stype===Ga.Value?b(p.svalue):p)(f,p=>{const b=nt(p,y=>Bd(y,y,{tag:"required",process:{}},s));return to(b).extract(i,l)})},toString:()=>"setOf("+s.toString()+")"}),Ic=mt(Bc,to),Xi=ce(Mc),Pc=(n,s)=>cc(i=>{const l=typeof i;return n(i)?Pl(i):si(`Expected type: ${s} but got: ${l}`)}),ud=Pc(Yo,"number"),ta=Pc(Do,"string"),Tl=Pc(tn,"boolean"),dc=Pc(eo,"function"),pu=n=>{if(Object(n)!==n)return!0;switch({}.toString.call(n).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(n).every(s=>pu(n[s]));default:return!1}},$p=cc(n=>pu(n)?Pl(n):si("Expected value to be acceptable for sending via postMessage")),Lc=(n,s)=>({extract:(i,l)=>dt(l,n).fold(()=>((u,f)=>zl(u,()=>'Choice schema did not contain choice key: "'+f+'"'))(i,n),u=>((f,p,b,y)=>dt(b,y).fold(()=>((w,E,C)=>zl(w,()=>'The chosen schema: "'+C+'" did not exist in branches: '+cl(E)))(f,b,y),w=>w.extract(f.concat(["branch: "+y]),p)))(i,l,s,u)),toString:()=>"chooseOn("+n+"). Possible values: "+qo(s)}),Pd=n=>cc(s=>n(s).fold(si,Pl)),Ku=(n,s)=>Na(i=>n(i).fold(Bf,Nc),s),Ir=(n,s,i)=>{return l=((u,f,p)=>((b,y)=>b.stype===Ga.Error?{stype:Ga.Error,serror:y(b.serror)}:b)(f.extract([u],p),b=>({input:p,errors:b})))(n,s,i),Wu(l,en.error,en.value);var l},ai=n=>n.fold(s=>{throw new Error(_i(s))},Tt),wa=(n,s,i)=>ai(Ir(n,s,i)),_i=n=>`Errors: 
`+(s=>{const i=s.length>10?s.slice(0,10).concat([{path:[],getErrorInfo:ce("... (only showing first ten failures)")}]):s;return nt(i,l=>"Failed path: ("+l.path.join(" > ")+`)
`+l.getErrorInfo())})(n.errors).join(`
`)+`

Input object: `+cl(n.input),zs=(n,s)=>Lc(n,$n(s,to)),Pf=(n,s)=>((i,l)=>{const u=jo(l);return{extract:(f,p)=>u().extract(f,p),toString:()=>u().toString()}})(0,s),bs=Bd,_a=(n,s)=>({tag:"custom",newKey:n,instantiator:s}),Ll=n=>Pd(s=>we(n,s)?en.value(s):en.error(`Unsupported value: "${s}", choose one of "${n.join(", ")}".`)),Ge=n=>bs(n,n,{tag:"required",process:{}},Xi()),ca=(n,s)=>bs(n,n,{tag:"required",process:{}},s),gu=n=>ca(n,ud),qr=n=>ca(n,ta),Fl=(n,s)=>bs(n,n,{tag:"required",process:{}},Ll(s)),ii=n=>ca(n,dc),Hl=(n,s)=>bs(n,n,{tag:"required",process:{}},to(s)),hu=(n,s)=>bs(n,n,{tag:"required",process:{}},Ic(s)),Ci=(n,s)=>bs(n,n,{tag:"required",process:{}},Bc(s)),sn=n=>bs(n,n,{tag:"option",process:{}},Xi()),ys=(n,s)=>bs(n,n,{tag:"option",process:{}},s),Fc=n=>ys(n,ud),Gr=n=>ys(n,ta),Yu=(n,s)=>ys(n,Ll(s)),uc=n=>ys(n,dc),Um=(n,s)=>ys(n,Bc(s)),Kr=(n,s)=>ys(n,to(s)),Ae=(n,s)=>bs(n,n,Al(s),Xi()),li=(n,s,i)=>bs(n,n,Al(s),i),vs=(n,s)=>li(n,s,ud),Pi=(n,s)=>li(n,s,ta),$l=(n,s,i)=>li(n,s,Ll(i)),Ts=(n,s)=>li(n,s,Tl),kr=(n,s)=>li(n,s,dc),Wn=(n,s,i)=>li(n,s,Bc(i)),Ma=(n,s,i)=>li(n,s,to(i)),Li=n=>{if(!Ko(n))throw new Error("cases must be an array");if(n.length===0)throw new Error("there must be at least one case");const s=[],i={};return Dt(n,(l,u)=>{const f=qo(l);if(f.length!==1)throw new Error("one and only one name per case");const p=f[0],b=l[p];if(i[p]!==void 0)throw new Error("duplicate key detected:"+p);if(p==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Ko(b))throw new Error("case arguments must be an array");s.push(p),i[p]=(...y)=>{const w=y.length;if(w!==b.length)throw new Error("Wrong number of arguments to case "+p+". Expected "+b.length+" ("+b+"), got "+w);return{fold:(...E)=>{if(E.length!==n.length)throw new Error("Wrong number of arguments to fold. Expected "+n.length+", got "+E.length);return E[u].apply(null,y)},match:E=>{const C=qo(E);if(s.length!==C.length)throw new Error("Wrong number of arguments to match. Expected: "+s.join(",")+`
Actual: `+C.join(","));if(!yi(s,O=>we(C,O)))throw new Error("Not all branches were specified when using match. Specified: "+C.join(", ")+`
Required: `+s.join(", "));return E[p].apply(null,y)},log:E=>{console.log(E,{constructors:s,constructor:p,params:y})}}}}),i};Li([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Si=(n,s)=>((i,l)=>({[i]:l}))(n,s),dl=n=>(s=>{const i={};return Dt(s,l=>{i[l.key]=l.value}),i})(n),fc=n=>eo(n)?n:$e,Hc=(n,s,i)=>{let l=n.dom;const u=fc(i);for(;l.parentNode;){l=l.parentNode;const f=Et(l),p=s(f);if(p.isSome())return p;if(u(f))break}return T.none()},fd=(n,s,i)=>{const l=s(n),u=fc(i);return l.orThunk(()=>u(n)?T.none():Hc(n,s,u))},Lf=(n,s)=>wn(n.element,s.event.target),Ff={can:Pt,abort:$e,run:at},$c=n=>{if(!Vo(n,"can")&&!Vo(n,"abort")&&!Vo(n,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(n,null,2)+" does not have can, abort, or run!");return{...Ff,...n}},_=ce,N=_("touchstart"),j=_("touchmove"),de=_("touchend"),he=_("touchcancel"),Ke=_("mousedown"),io=_("mousemove"),Ro=_("mouseout"),xo=_("mouseup"),Wt=_("mouseover"),Fn=_("focusin"),cs=_("focusout"),Yr=_("keydown"),Vl=_("keyup"),bu=_("input"),Ld=_("change"),qs=_("click"),jg=_("transitioncancel"),Zm=_("transitionend"),Vp=_("transitionstart"),Ka=_("selectstart"),ds=n=>ce("alloy."+n),Ca={tap:ds("tap")},md=ds("focus"),Hf=ds("blur.post"),$f=ds("paste.post"),Ji=ds("receive"),Ei=ds("execute"),Vf=ds("focus.item"),Vc=Ca.tap,Jy=ds("longpress"),Wm=ds("sandbox.close"),pd=ds("typeahead.cancel"),Fd=ds("system.init"),jt=ds("system.touchmove"),mc=ds("system.touchend"),jf=ds("system.scroll"),Hd=ds("system.resize"),Ba=ds("system.attached"),jl=ds("system.detached"),Xu=ds("system.dismissRequested"),$d=ds("system.repositionRequested"),jp=ds("focusmanager.shifted"),pc=ds("slotcontainer.visibility"),Uf=ds("system.external.element.scroll"),Zf=ds("change.tab"),pt=ds("dismiss.tab"),Up=ds("highlight"),Vd=ds("dehighlight"),Uo=(n,s)=>{Ul(n,n.element,s,{})},qt=(n,s,i)=>{Ul(n,n.element,s,i)},jd=n=>{Uo(n,Ei())},Zr=(n,s,i)=>{Ul(n,s,i,{})},Ul=(n,s,i,l)=>{const u={target:s,...l};n.getSystem().triggerEvent(i,s,u)},Zl=(n,s,i,l)=>{n.getSystem().triggerEvent(i,s,l.event)},zo=n=>dl(n),Ju=(n,s)=>({key:n,value:$c({abort:s})}),vb=n=>({key:n,value:$c({run:(s,i)=>{i.event.prevent()}})}),je=(n,s)=>({key:n,value:$c({run:s})}),Zp=(n,s,i)=>({key:n,value:$c({run:(l,u)=>{s.apply(void 0,[l,u].concat(i))}})}),Wf=n=>s=>({key:n,value:$c({run:(i,l)=>{Lf(i,l)&&s(i,l)}})}),qf=(n,s,i)=>((l,u)=>je(l,(f,p)=>{f.getSystem().getByUid(u).each(b=>{Zl(b,b.element,l,p)})}))(n,s.partUids[i]),Qu=(n,s)=>je(n,(i,l)=>{const u=l.event,f=i.getSystem().getByDom(u.target).getOrThunk(()=>fd(u.target,p=>i.getSystem().getByDom(p).toOptional(),$e).getOr(i));s(i,f,l)}),yu=n=>je(n,(s,i)=>{i.cut()}),xb=n=>je(n,(s,i)=>{i.stop()}),Ud=(n,s)=>Wf(n)(s),Er=Wf(Ba()),jc=Wf(jl()),Wp=Wf(Fd()),Wl=(Xf=Ei(),n=>je(Xf,n)),vu=n=>nt(n,s=>Ri(s,"/*")?s.substring(0,s.length-2):s),Ol=(n,s)=>{const i=n.toString(),l=i.indexOf(")")+1,u=i.indexOf("("),f=i.substring(u+1,l-1).split(/,\s*/);return n.toFunctionAnnotation=()=>({name:s,parameters:vu(f)}),n},us=n=>({classes:Yn(n.classes)?[]:n.classes,attributes:Yn(n.attributes)?{}:n.attributes,styles:Yn(n.styles)?{}:n.styles}),xu=(n,s,i)=>Wp((l,u)=>{i(l,n,s)}),Ms=n=>({key:n,value:void 0}),qm=(n,s,i,l,u,f,p)=>{const b=E=>Vo(E,i)?E[i]():T.none(),y=$n(u,(E,C)=>((O,B,P)=>((Z,K,oe)=>{const q=oe.toString(),W=q.indexOf(")")+1,J=q.indexOf("("),ne=q.substring(J+1,W-1).split(/,\s*/);return Z.toFunctionAnnotation=()=>({name:K,parameters:vu(ne.slice(0,1).concat(ne.slice(3)))}),Z})((Z,...K)=>{const oe=[Z].concat(K);return Z.config({name:ce(O)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+O+". Using API: "+P)},q=>{const W=Array.prototype.slice.call(oe,1);return B.apply(void 0,[Z,q.config,q.state].concat(W))})},P,B))(i,E,C)),w={...$n(f,(E,C)=>Ol(E,C)),...y,revoke:ct(Ms,i),config:E=>{const C=wa(i+"-config",n,E);return{key:i,value:{config:C,me:w,configAsRaw:jo(()=>wa(i+"-config",n,E)),initialConfig:E,state:p}}},schema:ce(s),exhibit:(E,C)=>st(b(E),dt(l,"exhibit"),(O,B)=>B(C,O.config,O.state)).getOrThunk(()=>us({})),name:ce(i),handlers:E=>b(E).map(C=>dt(l,"events").getOr(()=>({}))(C.config,C.state)).getOr({})};return w},ql={init:()=>da({readState:ce("No State required")})},da=n=>n,ft=n=>dl(n),ku=ea([Ge("fields"),Ge("name"),Ae("active",{}),Ae("apis",{}),Ae("state",ql),Ae("extra",{})]),ua=n=>{const s=wa("Creating behaviour: "+n.name,ku,n);return((i,l,u,f,p,b)=>{const y=ea(i),w=Kr(l,[(E=i,ys("config",ea(E)))]);var E;return qm(y,w,l,u,f,p,b)})(s.fields,s.name,s.active,s.apis,s.extra,s.state)},kb=ea([Ge("branchKey"),Ge("branches"),Ge("name"),Ae("active",{}),Ae("apis",{}),Ae("state",ql),Ae("extra",{})]),k=n=>{const s=wa("Creating behaviour: "+n.name,kb,n);return((i,l,u,f,p,b)=>{const y=i,w=Kr(l,[ys("config",i)]);return qm(y,w,l,u,f,p,b)})(zs(s.branchKey,s.branches),s.name,s.active,s.apis,s.extra,s.state)},z=ce(void 0),V=(n,s)=>{const i=gs(n,s);return i===void 0||i===""?[]:i.split(" ")},Q=n=>n.dom.classList!==void 0,xe=n=>V(n,"class"),We=(n,s)=>((i,l,u)=>{const f=V(i,l).concat([u]);return lo(i,l,f.join(" ")),!0})(n,"class",s),ht=(n,s)=>((i,l,u)=>{const f=Nn(V(i,l),p=>p!==u);return f.length>0?lo(i,l,f.join(" ")):Xo(i,l),!1})(n,"class",s),bt=(n,s)=>{Q(n)?n.dom.classList.add(s):We(n,s)},ko=n=>{(Q(n)?n.dom.classList:xe(n)).length===0&&Xo(n,"class")},Kt=(n,s)=>{Q(n)?n.dom.classList.remove(s):ht(n,s),ko(n)},an=(n,s)=>Q(n)&&n.dom.classList.contains(s),Po=(n,s)=>{Dt(s,i=>{bt(n,i)})},qn=(n,s)=>{Dt(s,i=>{Kt(n,i)})},fa=n=>Q(n)?(s=>{const i=s.dom.classList,l=new Array(i.length);for(let u=0;u<i.length;u++){const f=i.item(u);f!==null&&(l[u]=f)}return l})(n):xe(n),Xr=(n,s,i,l,u)=>{const f=p=>p+"px";return{position:n,left:s.map(f),top:i.map(f),right:l.map(f),bottom:u.map(f)}},gc=(n,s)=>{Za(n,(i=>({...i,position:T.some(i.position)}))(s))},hc=n=>(Rs(Sr(n,"position"),"fixed")?T.none():oi(n)).orThunk(()=>{const s=ps("span");return Vs(n).bind(i=>{wi(i,s);const l=oi(s);return xa(s),l})}),Uc=n=>hc(n).map(Ve).getOrThunk(()=>le(0,0)),Gm=(n,s)=>{const i=n.element;bt(i,s.transitionClass),Kt(i,s.fadeOutClass),bt(i,s.fadeInClass),s.onShow(n)},gd=(n,s)=>{const i=n.element;bt(i,s.transitionClass),Kt(i,s.fadeInClass),bt(i,s.fadeOutClass),s.onHide(n)},ef=(n,s)=>n.y>=s.y,Gf=(n,s)=>n.bottom<=s.bottom,wu=(n,s,i)=>({location:"top",leftX:s,topY:i.bounds.y-n.y}),tf=(n,s,i)=>({location:"bottom",leftX:s,bottomY:n.bottom-i.bounds.bottom}),Ug=n=>n.box.x-n.win.x,_u=(n,s,i)=>i.getInitialPos().map(l=>{const u=((f,p)=>{const b=p.optScrollEnv.fold(ce(f.bounds.y),y=>y.scrollElmTop+(f.bounds.y-y.currentScrollTop));return le(f.bounds.x,b)})(l,s);return{box:Go(u.left,u.top,To(n),vr(n)),location:l.location}}),Gn=(n,s,i,l,u)=>{const f=((b,y)=>{const w=y.optScrollEnv.fold(ce(b.y),E=>b.y+E.currentScrollTop-E.scrollElmTop);return le(b.x,w)})(s,i),p=Go(f.left,f.top,s.width,s.height);l.setInitialPos({style:Nl(n),position:yr(n,"position")||"static",bounds:p,location:u.location})},Jr=(n,s,i)=>i.getInitialPos().bind(l=>{var u;switch(i.clearInitialPos(),l.position){case"static":return T.some({morph:"static"});case"absolute":const f=hc(n).getOr(ya()),p=As(f),b=(u=f.dom.scrollTop)!==null&&u!==void 0?u:0;return T.some({morph:"absolute",positionCss:Xr("absolute",dt(l.style,"left").map(y=>s.x-p.x),dt(l.style,"top").map(y=>s.y-p.y+b),dt(l.style,"right").map(y=>p.right-s.right),dt(l.style,"bottom").map(y=>p.bottom-s.bottom))});default:return T.none()}}),ci=n=>{switch(n.location){case"top":return T.some({morph:"fixed",positionCss:Xr("fixed",T.some(n.leftX),T.some(n.topY),T.none(),T.none())});case"bottom":return T.some({morph:"fixed",positionCss:Xr("fixed",T.some(n.leftX),T.none(),T.none(),T.some(n.bottomY))});default:return T.none()}},ul=(n,s,i)=>{const l=n.element;return Rs(Sr(l,"position"),"fixed")?((u,f,p)=>((b,y,w)=>_u(b,y,w).filter(({box:E})=>((C,O,B)=>yi(C,P=>{switch(P){case"bottom":return Gf(O,B.bounds);case"top":return ef(O,B.bounds)}}))(w.getModes(),E,y)).bind(({box:E})=>Jr(b,E,w)))(u,f,p).orThunk(()=>f.optScrollEnv.bind(b=>_u(u,f,p)).bind(({box:b,location:y})=>{const w=Qs(),E=Ug({win:w,box:b}),C=y==="top"?wu(w,E,f):tf(w,E,f);return ci(C)})))(l,s,i):((u,f,p)=>{const b=As(u),y=Qs(),w=((E,C,O)=>{const B=C.win,P=C.box,Z=Ug(C);return uo(E,K=>{switch(K){case"bottom":return Gf(P,O.bounds)?T.none():T.some(tf(B,Z,O));case"top":return ef(P,O.bounds)?T.none():T.some(wu(B,Z,O));default:return T.none()}}).getOr({location:"no-dock"})})(p.getModes(),{win:y,box:b},f);return w.location==="top"||w.location==="bottom"?(Gn(u,b,f,p,w),ci(w)):T.none()})(l,s,i)},Zg=(n,s,i)=>{i.setDocked(!1),Dt(["left","right","top","bottom","position"],l=>_n(n.element,l)),s.onUndocked(n)},Km=(n,s,i,l)=>{const u=l.position==="fixed";i.setDocked(u),gc(n.element,l),(u?s.onDocked:s.onUndocked)(n)},Kf=(n,s,i,l,u=!1)=>{s.contextual.each(f=>{f.lazyContext(n).each(p=>{const b=((y,w)=>y.y<w.bottom&&y.bottom>w.y)(p,l.bounds);b!==i.isVisible()&&(i.setVisible(b),u&&!b?(Po(n.element,[f.fadeOutClass]),f.onHide(n)):(b?Gm:gd)(n,f))})})},Yf=(n,s,i,l,u)=>{Kf(n,s,i,l,!0),Km(n,s,i,u.positionCss)},Wg=(n,s,i)=>{n.getSystem().isConnected()&&((l,u,f)=>{const p=u.lazyViewport(l);Kf(l,u,f,p),ul(l,p,f).each(b=>{((y,w,E,C,O)=>{switch(O.morph){case"static":return Zg(y,w,E);case"absolute":return Km(y,w,E,O.positionCss);case"fixed":Yf(y,w,E,C,O)}})(l,u,f,p,b)})})(n,s,i)},qp=(n,s,i)=>{i.isDocked()&&((l,u,f)=>{const p=l.element;f.setDocked(!1);const b=u.lazyViewport(l);((y,w,E)=>{const C=y.element;return _u(C,w,E).bind(({box:O})=>Jr(C,O,E))})(l,b,f).each(y=>{switch(y.morph){case"static":Zg(l,u,f);break;case"absolute":Km(l,u,f,y.positionCss)}}),f.setVisible(!0),u.contextual.each(y=>{qn(p,[y.fadeInClass,y.fadeOutClass,y.transitionClass]),y.onShow(l)}),Wg(l,u,f)})(n,s,i)},Qy=n=>(s,i,l)=>{const u=i.lazyViewport(s);((f,p,b,y)=>{const w=As(f),E=Qs(),C=y(E,Ug({win:E,box:w}),p);return C.location==="bottom"||C.location==="top"?(((O,B,P,Z,K)=>{Z.getInitialPos().fold(()=>Gn(O,B,P,Z,K),()=>at)})(f,w,p,b,C),ci(C)):T.none()})(s.element,u,l,n).each(f=>{Yf(s,i,l,u,f)})},qg=Qy(wu),Gg=Qy(tf);var Xf,Gp=Object.freeze({__proto__:null,refresh:Wg,reset:qp,isDocked:(n,s,i)=>i.isDocked(),getModes:(n,s,i)=>i.getModes(),setModes:(n,s,i,l)=>i.setModes(l),forceDockToTop:qg,forceDockToBottom:Gg}),e1=Object.freeze({__proto__:null,events:(n,s)=>zo([Ud(Zm(),(i,l)=>{n.contextual.each(u=>{an(i.element,u.transitionClass)&&(qn(i.element,[u.transitionClass,u.fadeInClass]),(s.isVisible()?u.onShown:u.onHidden)(i)),l.stop()})}),je(jf(),(i,l)=>{Wg(i,n,s)}),je(Uf(),(i,l)=>{Wg(i,n,s)}),je(Hd(),(i,l)=>{qp(i,n,s)})])});const Cu=n=>n.dom.innerHTML,Ym=(n,s)=>{const i=sa(n).dom,l=Et(i.createDocumentFragment()),u=((f,p)=>{const b=(p||document).createElement("div");return b.innerHTML=f,Bn(Et(b))})(s,i);hs(l,u),Br(n),wi(n,l)},Xm=(n,s)=>Et(n.dom.cloneNode(s)),Su=n=>(s=>{if(al(s))return"#shadow-root";{const i=(l=>Xm(l,!1))(s);return(l=>{const u=ps("div"),f=Et(l.dom.cloneNode(!0));return wi(u,f),Cu(u)})(i)}})(n);var of;(function(n){n[n.STOP=0]="STOP",n[n.NORMAL=1]="NORMAL",n[n.LOGGING=2]="LOGGING"})(of||(of={}));const Kg=Ut({}),zw=["alloy/data/Fields","alloy/debugging/Debugging"],Yg=(n,s,i)=>((l,u,f)=>{switch(dt(Kg.get(),l).orThunk(()=>{const p=qo(Kg.get());return uo(p,b=>l.indexOf(b)>-1?T.some(Kg.get()[b]):T.none())}).getOr(of.NORMAL)){case of.NORMAL:return f(Zc());case of.LOGGING:{const p=((y,w)=>{const E=[],C=new Date().getTime();return{logEventCut:(O,B,P)=>{E.push({outcome:"cut",target:B,purpose:P})},logEventStopped:(O,B,P)=>{E.push({outcome:"stopped",target:B,purpose:P})},logNoParent:(O,B,P)=>{E.push({outcome:"no-parent",target:B,purpose:P})},logEventNoHandlers:(O,B)=>{E.push({outcome:"no-handlers-left",target:B})},logEventResponse:(O,B,P)=>{E.push({outcome:"response",purpose:P,target:B})},write:()=>{const O=new Date().getTime();we(["mousemove","mouseover","mouseout",Fd()],y)||console.log(y,{event:y,time:O-C,target:w.dom,sequence:nt(E,B=>we(["cut","stopped","response"],B.outcome)?"{"+B.purpose+"} "+B.outcome+" at ("+Su(B.target)+")":B.outcome)})}}})(l,u),b=f(p);return p.write(),b}case of.STOP:return!0}})(n,s,i),Zc=ce({logEventCut:at,logEventStopped:at,logNoParent:at,logEventNoHandlers:at,logEventResponse:at,write:at}),Ov=ce([Ge("menu"),Ge("selectedMenu")]),t1=ce([Ge("item"),Ge("selectedItem")]);ce(to(t1().concat(Ov())));const Jm=ce(to(t1())),di=Hl("initSize",[Ge("numColumns"),Ge("numRows")]),Qm=()=>Hl("markers",[Ge("backgroundMenu")].concat(Ov()).concat(t1())),ep=n=>Hl("markers",nt(n,Ge)),wb=(n,s,i)=>((()=>{const l=new Error;if(l.stack!==void 0){const u=l.stack.split(`
`);H(u,f=>f.indexOf("alloy")>0&&!At(zw,p=>f.indexOf(p)>-1)).getOr("unknown")}})(),bs(s,s,i,Pd(l=>en.value((...u)=>l.apply(void 0,u))))),Sn=n=>wb(0,n,Al(at)),fl=n=>wb(0,n,Al(T.none)),Zd=n=>wb(0,n,{tag:"required",process:{}}),Ai=n=>wb(0,n,{tag:"required",process:{}}),Ar=(n,s)=>_a(n,ce(s)),Xg=n=>_a(n,Tt),Dv=ce(di);var Tw=[Kr("contextual",[qr("fadeInClass"),qr("fadeOutClass"),qr("transitionClass"),ii("lazyContext"),Sn("onShow"),Sn("onShown"),Sn("onHide"),Sn("onHidden")]),kr("lazyViewport",()=>({bounds:Qs(),optScrollEnv:T.none()})),Wn("modes",["top","bottom"],ta),Sn("onDocked"),Sn("onUndocked")];const Qr=ua({fields:Tw,name:"docking",active:e1,apis:Gp,state:Object.freeze({__proto__:null,init:n=>{const s=Ut(!1),i=Ut(!0),l=Cn(),u=Ut(n.modes);return da({isDocked:s.get,setDocked:s.set,getInitialPos:l.get,setInitialPos:l.set,clearInitialPos:l.clear,isVisible:i.get,setVisible:i.set,getModes:u.get,setModes:u.set,readState:()=>`docked:  ${s.get()}, visible: ${i.get()}, modes: ${u.get().join(",")}`})}})}),_b=zo([((n,s)=>({key:n,value:$c({can:(i,l)=>{const u=l.event,f=u.originator,p=u.target;return!((b,y,w)=>wn(y,b.element)&&!wn(y,w))(i,f,p)||(console.warn(md()+` did not get interpreted by the desired target. 
Originator: `+Su(f)+`
Target: `+Su(p)+`
Check the `+md()+" event handlers"),!1)}})}))(md())]);var o1=Object.freeze({__proto__:null,events:_b});const Jf=(n,s,i,l)=>{const u=n+s;return u>l?i:u<i?l:u},Wc=(n,s,i)=>Math.min(Math.max(n,s),i);let Kp=0;const Bt=n=>{const s=new Date().getTime(),i=Math.floor(window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295*1e9);return Kp++,n+"_"+i+Kp+String(s)},hd=ce("alloy-id-"),n1=ce("data-alloy-id"),Cb=hd(),Yp=n1(),Sb=(n,s)=>{Object.defineProperty(n.dom,Yp,{value:s,writable:!0})},tp=n=>{const s=fr(n)?n.dom[Yp]:null;return T.from(s)},qc=n=>Bt(n),Ow=Tt,Eb=n=>{const s=u=>`The component must be in a context to execute: ${u}`+(n?`
`+Su(n().element)+" is not in context.":""),i=u=>()=>{throw new Error(s(u))},l=u=>()=>{console.warn(s(u))};return{debugInfo:ce("fake"),triggerEvent:l("triggerEvent"),triggerFocus:l("triggerFocus"),triggerEscape:l("triggerEscape"),broadcast:l("broadcast"),broadcastOn:l("broadcastOn"),broadcastEvent:l("broadcastEvent"),build:i("build"),buildOrPatch:i("buildOrPatch"),addToWorld:i("addToWorld"),removeFromWorld:i("removeFromWorld"),addToGui:i("addToGui"),removeFromGui:i("removeFromGui"),getByUid:i("getByUid"),getByDom:i("getByDom"),isConnected:$e}},r1=Eb(),Ab=Bt("alloy-premade"),s1=n=>(Object.defineProperty(n.element.dom,Ab,{value:n.uid,writable:!0}),Si(Ab,n)),a1=n=>dt(n,Ab),zb=n=>((s,i)=>{const l=i.toString(),u=l.indexOf(")")+1,f=l.indexOf("("),p=l.substring(f+1,u-1).split(/,\s*/);return s.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:vu(p.slice(1))}),s})((s,...i)=>n(s.getApis(),s,...i),n),i1=(n,s)=>{const i={};return or(n,(l,u)=>{or(l,(f,p)=>{const b=dt(i,p).getOr([]);i[p]=b.concat([s(u,f)])})}),i},l1=n=>n.cHandler,Rv=(n,s)=>({name:n,handler:s}),Dw=(n,s)=>{const i={};return Dt(n,l=>{i[l.name()]=l.handlers(s)}),i},Jg=(n,s,i)=>{const l=s[i];return l?((u,f,p,b)=>{try{const y=Re(p,(w,E)=>{const C=w[f],O=E[f],B=b.indexOf(C),P=b.indexOf(O);if(B===-1)throw new Error("The ordering for "+u+" does not have an entry for "+C+`.
Order specified: `+JSON.stringify(b,null,2));if(P===-1)throw new Error("The ordering for "+u+" does not have an entry for "+O+`.
Order specified: `+JSON.stringify(b,null,2));return B<P?-1:P<B?1:0});return en.value(y)}catch(y){return en.error([y])}})("Event: "+i,"name",n,l).map(u=>(f=>({can:((y,w)=>(...E)=>Co(y,(C,O)=>C&&(B=>B.can)(O).apply(void 0,E),!0))(f),abort:((y,w)=>(...E)=>Co(y,(C,O)=>C||(B=>B.abort)(O).apply(void 0,E),!1))(f),run:(...y)=>{Dt(f,w=>{w.run.apply(void 0,y)})}}))(nt(u,f=>f.handler))):((u,f)=>en.error(["The event ("+u+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(nt(f,p=>p.name),null,2)]))(i,n)},c1=(n,s)=>((i,l)=>{const u=(p=>{const b=[],y=[];return Dt(p,w=>{w.fold(E=>{b.push(E)},E=>{y.push(E)})}),{errors:b,values:y}})(i);return u.errors.length>0?(f=u.errors,en.error(Hn(f))):((p,b)=>p.length===0?en.value(b):en.value(nr(b,jm.apply(void 0,p))))(u.values,l);var f})(_r(n,(i,l)=>(i.length===1?en.value(i[0].handler):Jg(i,s,l)).map(u=>{const f=(b=>{const y=(w=>eo(w)?{can:Pt,abort:$e,run:w}:w)(b);return(w,E,...C)=>{const O=[w,E].concat(C);y.abort.apply(void 0,O)?E.stop():y.can.apply(void 0,O)&&y.run.apply(void 0,O)}})(u),p=i.length>1?Nn(s[l],b=>At(i,y=>y.name===b)).join(" > "):i[0].name;return Si(l,((b,y)=>({handler:b,purpose:y}))(f,p))})),{}),op="alloy.base.behaviour",Rw=to([bs("dom","dom",{tag:"required",process:{}},to([Ge("tag"),Ae("styles",{}),Ae("classes",[]),Ae("attributes",{}),sn("value"),sn("innerHtml")])),Ge("components"),Ge("uid"),Ae("events",{}),Ae("apis",{}),bs("eventOrder","eventOrder",(np={[Ei()]:["disabling",op,"toggling","typeaheadevents"],[md()]:[op,"focusing","keying"],[Fd()]:[op,"disabling","toggling","representing","tooltipping"],[bu()]:[op,"representing","streaming","invalidating"],[jl()]:[op,"representing","item-events","toolbar-button-events","tooltipping"],[Ke()]:["focusing",op,"item-type-events"],[N()]:["focusing",op,"item-type-events"],[Wt()]:["item-type-events","tooltipping"],[Ji()]:["receiving","reflecting","tooltipping"]},fn(ce(np))),Xi()),sn("domModification")]),Nw=n=>n.events,nf=n=>n.dom.value,Qf=(n,s)=>{if(s===void 0)throw new Error("Value.set was undefined");n.dom.value=s},Tb=(n,s,i)=>{i.fold(()=>wi(n,s),l=>{wn(l,s)||(Ml(l,s),xa(l))})},Nv=(n,s,i)=>{const l=nt(s,i),u=Bn(n);return Dt(u.slice(l.length),xa),l},d1=(n,s,i,l)=>{const u=lr(n,s),f=l(i,u),p=((b,y,w)=>lr(b,y).map(E=>{if(w.exists(C=>!wn(C,E))){const C=w.map(ba).getOr("span"),O=ps(C);return Ml(E,O),O}return E}))(n,s,u);return Tb(n,f.element,p),f},Qg=(n,s)=>{const i=qo(n),l=qo(s),u=on(l,i),f=((p,b)=>{const y={},w={};return Js(p,(E,C)=>!no(s,C)||E!==s[C],Nr(y),Nr(w)),{t:y,f:w}})(n).t;return{toRemove:u,toSet:f}},Eu=(n,s)=>{const i=s.filter(l=>ba(l)===n.tag&&!(u=>u.innerHtml.isSome()&&u.domChildren.length>0)(n)&&!(u=>no(u.dom,Ab))(l)).bind(l=>((u,f)=>{try{const p=((b,y)=>{const{class:w,style:E,...C}=(J=>Co(J.dom.attributes,(ne,se)=>(ne[se.name]=se.value,ne),{}))(y),{toSet:O,toRemove:B}=Qg(b.attributes,C),P=Nl(y),{toSet:Z,toRemove:K}=Qg(b.styles,P),oe=fa(y),q=on(oe,b.classes),W=on(b.classes,oe);return Dt(B,J=>Xo(y,J)),Ki(y,O),Po(y,W),qn(y,q),Dt(K,J=>_n(y,J)),ki(y,Z),b.innerHtml.fold(()=>{const J=b.domChildren;((ne,se)=>{Nv(ne,se,(be,Ee)=>{const qe=lr(ne,Ee);return Tb(ne,be,qe),be})})(y,J)},J=>{Ym(y,J)}),(()=>{const J=y,ne=b.value.getOrUndefined();ne!==nf(J)&&Qf(J,ne??"")})(),y})(u,f);return T.some(p)}catch{return T.none()}})(n,l)).getOrThunk(()=>(l=>{const u=ps(l.tag);Ki(u,l.attributes),Po(u,l.classes),ki(u,l.styles),l.innerHtml.each(p=>Ym(u,p));const f=l.domChildren;return hs(u,f),l.value.each(p=>{Qf(u,p)}),u})(n));return Sb(i,n.uid),i},Ob=n=>{const s=(i=>{const l=dt(i,"behaviours").getOr({});return kn(qo(l),u=>{const f=l[u];return Lt(f)?[f.me]:[]})})(n);return((i,l)=>((u,f)=>{const p=nt(f,y=>Kr(y.name(),[Ge("config"),Ae("state",ql)])),b=Ir("component.behaviours",to(p),u.behaviours).fold(y=>{throw new Error(_i(y)+`
Complete spec:
`+JSON.stringify(u,null,2))},Tt);return{list:f,data:$n(b,y=>{const w=y.map(E=>({config:E.config,state:E.state.init(E.config)}));return ce(w)})}})(i,l))(n,s)},ma=(n,s)=>{const i=()=>O,l=Ut(r1),u=ai((B=>Ir("custom.definition",Rw,B))(n)),f=Ob(n),p=(B=>B.list)(f),b=(B=>B.data)(f),y=((B,P,Z)=>{const K={...(oe=B).dom,uid:oe.uid,domChildren:nt(oe.components,be=>be.element)};var oe;const q=(be=>be.domModification.fold(()=>us({}),us))(B),W={"alloy.base.modification":q},J=P.length>0?((be,Ee,qe,Ue)=>{const Fe={...Ee};Dt(qe,ln=>{Fe[ln.name()]=ln.exhibit(be,Ue)});const gt=i1(Fe,(ln,Lr)=>({name:ln,modification:Lr})),Rt=ln=>yn(ln,(Lr,ts)=>({...ts.modification,...Lr}),{}),Zt=yn(gt.classes,(ln,Lr)=>Lr.modification.concat(ln),[]),ro=Rt(gt.attributes),Ao=Rt(gt.styles);return us({classes:Zt,attributes:ro,styles:Ao})})(Z,W,P,K):q;return ne=K,se=J,{...ne,attributes:{...ne.attributes,...se.attributes},styles:{...ne.styles,...se.styles},classes:ne.classes.concat(se.classes)};var ne,se})(u,p,b),w=Eu(y,s),E=((B,P,Z)=>{const K={"alloy.base.behaviour":Nw(B)};return((oe,q,W,J)=>{const ne=((se,be,Ee)=>{const qe={...Ee,...Dw(be,se)};return i1(qe,Rv)})(oe,W,J);return c1(ne,q)})(Z,B.eventOrder,P,K).getOrDie()})(u,p,b),C=Ut(u.components),O={uid:n.uid,getSystem:l.get,config:B=>{const P=b;return(eo(P[B.name()])?P[B.name()]:()=>{throw new Error("Could not find "+B.name()+" in "+JSON.stringify(n,null,2))})()},hasConfigured:B=>eo(b[B.name()]),spec:n,readState:B=>b[B]().map(P=>P.state.readState()).getOr("not enabled"),getApis:()=>u.apis,connect:B=>{l.set(B)},disconnect:()=>{l.set(Eb(i))},element:w,syncComponents:()=>{const B=Bn(w),P=kn(B,Z=>l.get().getByDom(Z).fold(()=>[],Jo));C.set(P)},components:C.get,events:E};return O},Os=n=>{const s=zc(n);return rf({element:s})},rf=n=>{const s=wa("external.component",ea([Ge("element"),sn("uid")]),n),i=Ut(Eb()),l=s.uid.getOrThunk(()=>qc("external"));Sb(s.element,l);const u={uid:l,getSystem:i.get,config:T.none,hasConfigured:$e,connect:f=>{i.set(f)},disconnect:()=>{i.set(Eb(()=>u))},getApis:()=>({}),element:s.element,spec:n,readState:ce("No state"),syncComponents:at,components:ce([]),events:{}};return s1(u)},u1=qc,Db=(n,s)=>a1(n).getOrThunk(()=>((i,l)=>{const{events:u,...f}=Ow(i),p=((y,w)=>{const E=dt(y,"components").getOr([]);return w.fold(()=>nt(E,Ya),C=>nt(E,(O,B)=>Db(O,lr(C,B))))})(f,l),b={...f,events:{...o1,...u},components:p};return en.value(ma(b,l))})((i=>no(i,"uid"))(n)?n:{uid:u1(""),...n},s).getOrDie()),Ya=n=>Db(n,T.none()),Qi=s1;var np,sf=(n,s,i,l,u)=>n(i,l)?T.some(i):eo(u)&&u(i)?T.none():s(i,l,u);const em=(n,s,i)=>{let l=n.dom;const u=eo(i)?i:$e;for(;l.parentNode;){l=l.parentNode;const f=Et(l);if(s(f))return T.some(f);if(u(f))break}return T.none()},Rb=(n,s,i)=>sf((l,u)=>u(l),em,n,s,i),Mv=(n,s)=>H(n.dom.childNodes,i=>s(Et(i))).map(Et),f1=(n,s,i)=>Rb(n,s,i).isSome(),tm=(n,s,i)=>em(n,l=>Ua(l,s),i),zr=(n,s)=>((i,l)=>{const u=i.dom;return u.parentNode?Mv(Et(u.parentNode),f=>!wn(i,f)&&Ua(f,s)):T.none()})(n),Nb=(n,s)=>Mv(n,i=>Ua(i,s)),es=(n,s)=>Ql(s,n),Wd=(n,s,i)=>sf((l,u)=>Ua(l,u),tm,n,s,i),bd="aria-controls",rp=()=>{const n=Bt(bd);return{id:n,link:s=>{lo(s,bd,n)},unlink:s=>{Xo(s,bd)}}},ml=(n,s)=>f1(s,i=>wn(i,n.element),$e)||((i,l)=>(u=>Rb(u,f=>{if(!fr(f))return!1;const p=gs(f,"id");return p!==void 0&&p.indexOf(bd)>-1}).bind(f=>{const p=gs(f,"id"),b=Mr(f);return es(b,`[${bd}="${p}"]`)}))(l).exists(u=>ml(i,u)))(n,s),ui=(n,s,i,l,u,f,p,b=!1)=>({x:n,y:s,bubble:i,direction:l,placement:u,restriction:f,label:`${p}-${u}`,alwaysFit:b}),om=Li([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),eh=om.southeast,sp=om.southwest,th=om.northeast,ap=om.northwest,Bv=om.south,m1=om.north,p1=om.east,Iv=om.west,fi=(n,s)=>zn(["left","right","top","bottom"],i=>dt(s,i).map(l=>((u,f)=>{switch(f){case 1:return u.x;case 0:return u.x+u.width;case 2:return u.y;case 3:return u.y+u.height}})(n,l))),nm="layout",Pv=n=>n.x,Gc=(n,s)=>n.x+n.width/2-s.width/2,el=(n,s)=>n.x+n.width-s.width,ip=(n,s)=>n.y-s.height,Xp=n=>n.y+n.height,Lv=(n,s)=>n.y+n.height/2-s.height/2,xs=(n,s,i)=>ui(Pv(n),Xp(n),i.southeast(),eh(),"southeast",fi(n,{left:1,top:3}),nm),ks=(n,s,i)=>ui(el(n,s),Xp(n),i.southwest(),sp(),"southwest",fi(n,{right:0,top:3}),nm),Gs=(n,s,i)=>ui(Pv(n),ip(n,s),i.northeast(),th(),"northeast",fi(n,{left:1,bottom:2}),nm),cr=(n,s,i)=>ui(el(n,s),ip(n,s),i.northwest(),ap(),"northwest",fi(n,{right:0,bottom:2}),nm),fs=(n,s,i)=>ui(Gc(n,s),ip(n,s),i.north(),m1(),"north",fi(n,{bottom:2}),nm),Bs=(n,s,i)=>ui(Gc(n,s),Xp(n),i.south(),Bv(),"south",fi(n,{top:3}),nm),Mb=(n,s,i)=>ui((l=>l.x+l.width)(n),Lv(n,s),i.east(),p1(),"east",fi(n,{left:0}),nm),Bb=(n,s,i)=>ui(((l,u)=>l.x-u.width)(n,s),Lv(n,s),i.west(),Iv(),"west",fi(n,{right:1}),nm),g1=()=>[xs,ks,Gs,cr,Bs,fs,Mb,Bb],oh=()=>[ks,xs,cr,Gs,Bs,fs,Mb,Bb],h1=()=>[Gs,cr,xs,ks,fs,Bs],lp=()=>[cr,Gs,ks,xs,fs,Bs],Ib=()=>[xs,ks,Gs,cr,Bs,fs],Pb=()=>[ks,xs,cr,Gs,Bs,fs];var b1=Object.freeze({__proto__:null,events:n=>zo([je(Ji(),(s,i)=>{const l=n.channels,u=qo(l),f=i,p=((b,y)=>y.universal?b:Nn(b,w=>we(y.channels,w)))(u,f);Dt(p,b=>{const y=l[b],w=y.schema,E=wa("channel["+b+`] data
Receiver: `+Su(s.element),w,f.data);y.onReceive(s,E)})})])}),nh=[ca("channels",Ku(en.value,ea([Zd("onReceive"),Ae("schema",Xi())])))];const pl=ua({fields:nh,name:"receiving",active:b1});var y1=Object.freeze({__proto__:null,exhibit:(n,s)=>us({classes:[],styles:s.useFixed()?{}:{position:"relative"}})});const Fi=(n,s=!1)=>n.dom.focus({preventScroll:s}),rh=n=>n.dom.blur(),cp=n=>{const s=Mr(n).dom;return n.dom===s.activeElement},yd=(n=ni())=>T.from(n.dom.activeElement).map(Et),Is=n=>yd(Mr(n)).filter(s=>n.dom.contains(s.dom)),rm=(n,s)=>{const i=Mr(s),l=yd(i).bind(f=>{const p=b=>wn(f,b);return p(s)?T.some(s):((b,y)=>{const w=E=>{for(let C=0;C<E.childNodes.length;C++){const O=Et(E.childNodes[C]);if(y(O))return T.some(O);const B=w(E.childNodes[C]);if(B.isSome())return B}return T.none()};return w(b.dom)})(s,p)}),u=n(s);return l.each(f=>{yd(i).filter(p=>wn(p,f)).fold(()=>{Fi(f)},at)}),u},v1=Li([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),x1=(n,s,i,l,u,f)=>{const p=s.rect,b=p.x-i,y=p.y-l,w=u-(b+p.width),E=f-(y+p.height),C=T.some(b),O=T.some(y),B=T.some(w),P=T.some(E),Z=T.none();return s.direction.fold(()=>Xr(n,C,O,Z,Z),()=>Xr(n,Z,O,B,Z),()=>Xr(n,C,Z,Z,P),()=>Xr(n,Z,Z,B,P),()=>Xr(n,C,O,Z,Z),()=>Xr(n,C,Z,Z,P),()=>Xr(n,C,O,Z,Z),()=>Xr(n,Z,O,B,Z))},sh=(n,s)=>n.fold(()=>{const i=s.rect;return Xr("absolute",T.some(i.x),T.some(i.y),T.none(),T.none())},(i,l,u,f)=>x1("absolute",s,i,l,u,f),(i,l,u,f)=>x1("fixed",s,i,l,u,f)),Au=(n,s)=>{const i=ct(dd,s),l=n.fold(i,i,()=>{const p=xr();return dd(s).translate(-p.left,-p.top)}),u=Ln(s),f=va(s);return Go(l.left,l.top,u,f)},Mw=(n,s)=>s.fold(()=>n.fold(Qs,Qs,Go),i=>n.fold(ce(i),ce(i),()=>{const l=ah(n,i.x,i.y);return Go(l.left,l.top,i.width,i.height)})),ah=(n,s,i)=>{const l=le(s,i);return n.fold(ce(l),ce(l),()=>{const u=xr();return l.translate(-u.left,-u.top)})};v1.none;const sm=v1.relative,Fv=v1.fixed,ih="data-alloy-placement",lh=n=>Cr(n,ih),Lb=Li([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),Jp=(n,s,i,l)=>{const u=n.bubble,f=u.offset,p=((J,ne,se)=>{const be=(gt,Rt)=>ne[gt].map(Zt=>{const ro=gt==="top"||gt==="bottom",Ao=ro?se.top:se.left,ln=(gt==="left"||gt==="top"?Math.max:Math.min)(Zt,Rt)+Ao;return ro?Wc(ln,J.y,J.bottom):Wc(ln,J.x,J.right)}).getOr(Rt),Ee=be("left",J.x),qe=be("top",J.y),Ue=be("right",J.right),Fe=be("bottom",J.bottom);return Go(Ee,qe,Ue-Ee,Fe-qe)})(l,n.restriction,f),b=n.x+f.left,y=n.y+f.top,w=Go(b,y,s,i),{originInBounds:E,sizeInBounds:C,visibleW:O,visibleH:B}=((J,ne)=>{const{x:se,y:be,right:Ee,bottom:qe}=ne,{x:Ue,y:Fe,right:gt,bottom:Rt,width:Zt,height:ro}=J;return{originInBounds:Ue>=se&&Ue<=Ee&&Fe>=be&&Fe<=qe,sizeInBounds:gt<=Ee&&gt>=se&&Rt<=qe&&Rt>=be,visibleW:Math.min(Zt,Ue>=se?Ee-Ue:gt-se),visibleH:Math.min(ro,Fe>=be?qe-Fe:Rt-be)}})(w,p),P=E&&C,Z=P?w:((J,ne)=>{const{x:se,y:be,right:Ee,bottom:qe}=ne,{x:Ue,y:Fe,width:gt,height:Rt}=J,Zt=Math.max(se,Ee-gt),ro=Math.max(be,qe-Rt),Ao=Wc(Ue,se,Zt),ln=Wc(Fe,be,ro),Lr=Math.min(Ao+gt,Ee)-Ao,ts=Math.min(ln+Rt,qe)-ln;return Go(Ao,ln,Lr,ts)})(w,p),K=Z.width>0&&Z.height>0,{maxWidth:oe,maxHeight:q}=((J,ne,se)=>{const be=ce(ne.bottom-se.y),Ee=ce(se.bottom-ne.y),qe=((Rt,Zt,ro,Ao)=>Rt.fold(Zt,Zt,Ao,Ao,Zt,Ao,ro,ro))(J,Ee,Ee,be),Ue=ce(ne.right-se.x),Fe=ce(se.right-ne.x);return{maxWidth:((Rt,Zt,ro,Ao)=>Rt.fold(Zt,Ao,Zt,Ao,ro,ro,Zt,Ao))(J,Fe,Fe,Ue),maxHeight:qe}})(n.direction,Z,l),W={rect:Z,maxHeight:q,maxWidth:oe,direction:n.direction,placement:n.placement,classes:{on:u.classesOn,off:u.classesOff},layout:n.label,testY:y};return P||n.alwaysFit?Lb.fit(W):Lb.nofit(W,O,B,K)},Fb=Pt,Hi=(n,s,i)=>((l,u,f,p)=>Rd(l,u,f,p,!1))(n,s,Fb,i),k1=(n,s,i)=>((l,u,f,p)=>Rd(l,u,f,p,!0))(n,s,Fb,i),zu=Ii,ch=["top","bottom","right","left"],qd="data-alloy-transition-timer",dh=(n,s,i,l,u,f)=>{const p=((b,y,w)=>w.exists(E=>{const C=b.mode;return C==="all"||E[C]!==y[C]}))(l,u,f);if(p||((b,y)=>((w,E)=>yi(E,C=>an(w,C)))(b,y.classes))(n,l)){bo(n,"position",i.position);const b=Au(s,n),y=sh(s,{...u,rect:b}),w=zn(ch,E=>y[E]);((E,C)=>{const O=B=>parseFloat(B).toFixed(3);return Qo(C,(B,P)=>!((Z,K,oe=ve)=>st(Z,K,oe).getOr(Z.isNone()&&K.isNone()))(E[P].map(O),B.map(O))).isSome()})(i,w)&&(Za(n,w),p&&((E,C)=>{Po(E,C.classes),Cr(E,qd).each(O=>{clearTimeout(parseInt(O,10)),Xo(E,qd)}),((O,B)=>{const P=Il(),Z=Il();let K;const oe=ne=>{var se;const be=(se=ne.raw.pseudoElement)!==null&&se!==void 0?se:"";return wn(ne.target,O)&&qi(be)&&we(ch,ne.raw.propertyName)},q=ne=>{if(Rr(ne)||oe(ne)){P.clear(),Z.clear();const se=ne==null?void 0:ne.raw.type;(Rr(se)||se===Zm())&&(clearTimeout(K),Xo(O,qd),qn(O,B.classes))}},W=Hi(O,Vp(),ne=>{oe(ne)&&(W.unbind(),P.set(Hi(O,Zm(),q)),Z.set(Hi(O,jg(),q)))}),J=(ne=>{const se=Ue=>{const Fe=yr(ne,Ue).split(/\s*,\s*/);return Nn(Fe,Va)},be=Ue=>{if(Do(Ue)&&/^[\d.]+/.test(Ue)){const Fe=parseFloat(Ue);return Ri(Ue,"ms")?Fe:1e3*Fe}return 0},Ee=se("transition-delay"),qe=se("transition-duration");return Co(qe,(Ue,Fe,gt)=>{const Rt=be(Ee[gt])+be(Fe);return Math.max(Ue,Rt)},0)})(O);requestAnimationFrame(()=>{K=setTimeout(q,J+17),lo(O,qd,K)})})(E,C)})(n,l),ll(n))}else qn(n,l.classes)},uh=(n,s)=>{((i,l)=>{const u=Dc.max(i,l,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);bo(i,"max-height",u+"px")})(n,Math.floor(s))},am=ce((n,s)=>{uh(n,s),ki(n,{"overflow-x":"hidden","overflow-y":"auto"})}),dp=ce((n,s)=>{uh(n,s)}),Kc=(n,s,i)=>n[s]===void 0?i:n[s],fh=(n,s,i,l)=>{const u=((f,p,b,y)=>{_n(p,"max-height"),_n(p,"max-width");const w={width:Ln(E=p),height:va(E)};var E;return((C,O,B,P,Z,K)=>{const oe=P.width,q=P.height,W=(J,ne,se,be,Ee)=>{const qe=J(B,P,Z,C,K),Ue=Jp(qe,oe,q,K);return Ue.fold(ce(Ue),(Fe,gt,Rt,Zt)=>(Ee===Zt?Rt>be||gt>se:!Ee&&Zt)?Ue:Lb.nofit(ne,se,be,Ee))};return Co(O,(J,ne)=>{const se=ct(W,ne);return J.fold(ce(J),se)},Lb.nofit({rect:B,maxHeight:P.height,maxWidth:P.width,direction:eh(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:B.y},-1,-1,!1)).fold(Tt,Tt)})(p,y.preference,f,w,b,y.bounds)})(n,s,i,l);return((f,p,b)=>{const y=sh(b.origin,p);b.transition.each(w=>{dh(f,b.origin,y,w,p,b.lastPlacement)}),gc(f,y)})(s,u,l),((f,p)=>{((b,y)=>{lo(b,ih,y)})(f,p.placement)})(s,u),((f,p)=>{const b=p.classes;qn(f,b.off),Po(f,b.on)})(s,u),((f,p,b)=>{(0,b.maxHeightFunction)(f,p.maxHeight)})(s,u,l),((f,p,b)=>{(0,b.maxWidthFunction)(f,p.maxWidth)})(s,u,l),{layout:u.layout,placement:u.placement}},Bw=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],bc=(n,s,i,l=1)=>{const u=n*l,f=s*l,p=y=>dt(i,y).getOr([]),b=(y,w,E)=>{const C=on(Bw,E);return{offset:le(y,w),classesOn:kn(E,p),classesOff:kn(C,p)}};return{southeast:()=>b(-n,s,["top","alignLeft"]),southwest:()=>b(n,s,["top","alignRight"]),south:()=>b(-n/2,s,["top","alignCentre"]),northeast:()=>b(-n,-s,["bottom","alignLeft"]),northwest:()=>b(n,-s,["bottom","alignRight"]),north:()=>b(-n/2,-s,["bottom","alignCentre"]),east:()=>b(n,-s/2,["valignCentre","left"]),west:()=>b(-n,-s/2,["valignCentre","right"]),insetNortheast:()=>b(u,f,["top","alignLeft","inset"]),insetNorthwest:()=>b(-u,f,["top","alignRight","inset"]),insetNorth:()=>b(-u/2,f,["top","alignCentre","inset"]),insetSoutheast:()=>b(u,-f,["bottom","alignLeft","inset"]),insetSouthwest:()=>b(-u,-f,["bottom","alignRight","inset"]),insetSouth:()=>b(-u/2,-f,["bottom","alignCentre","inset"]),insetEast:()=>b(-u,-f/2,["valignCentre","right","inset"]),insetWest:()=>b(u,-f/2,["valignCentre","left","inset"])}},Tu=()=>bc(0,0,{}),Yc=Tt,w1=(n,s)=>i=>Sa(i)==="rtl"?s:n,Sa=n=>yr(n,"direction")==="rtl"?"rtl":"ltr";var Xc;(function(n){n.TopToBottom="toptobottom",n.BottomToTop="bottomtotop"})(Xc||(Xc={}));const gl="data-alloy-vertical-dir",Iw=n=>f1(n,s=>fr(s)&&gs(s,"data-alloy-vertical-dir")===Xc.BottomToTop),af=()=>Kr("layouts",[Ge("onLtr"),Ge("onRtl"),sn("onBottomLtr"),sn("onBottomRtl")]),Ou=(n,s,i,l,u,f,p)=>{const b=p.map(Iw).getOr(!1),y=s.layouts.map(O=>O.onLtr(n)),w=s.layouts.map(O=>O.onRtl(n)),E=b?s.layouts.bind(O=>O.onBottomLtr.map(B=>B(n))).or(y).getOr(u):y.getOr(i),C=b?s.layouts.bind(O=>O.onBottomRtl.map(B=>B(n))).or(w).getOr(f):w.getOr(l);return w1(E,C)(n)};var Qp=[Ge("hotspot"),sn("bubble"),Ae("overrides",{}),af(),Ar("placement",(n,s,i)=>{const l=s.hotspot,u=Au(i,l.element),f=Ou(n.element,s,Ib(),Pb(),h1(),lp(),T.some(s.hotspot.element));return T.some(Yc({anchorBox:u,bubble:s.bubble.getOr(Tu()),overrides:s.overrides,layouts:f}))})],im=[Ge("x"),Ge("y"),Ae("height",0),Ae("width",0),Ae("bubble",Tu()),Ae("overrides",{}),af(),Ar("placement",(n,s,i)=>{const l=ah(i,s.x,s.y),u=Go(l.left,l.top,s.width,s.height),f=Ou(n.element,s,g1(),oh(),g1(),oh(),T.none());return T.some(Yc({anchorBox:u,bubble:s.bubble,overrides:s.overrides,layouts:f}))})];const Gl=Li([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),Hb=n=>n.fold(Tt,(s,i,l)=>s.translate(-i,-l)),$b=n=>n.fold(Tt,Tt),mh=n=>Co(n,(s,i)=>s.translate(i.left,i.top),le(0,0)),Vb=n=>{const s=nt(n,$b);return mh(s)},Hv=Gl.screen,ph=Gl.absolute,Du=(n,s,i)=>{const l=sa(n.element),u=xr(l),f=((p,b,y)=>{const w=id(y.root).dom;return T.from(w.frameElement).map(Et).filter(E=>{const C=sa(E),O=sa(p.element);return wn(C,O)}).map(Ve)})(n,0,i).getOr(u);return ph(f,u.left,u.top)},gh=(n,s,i,l)=>{const u=Hv(le(n,s));return T.some(((f,p,b)=>({point:f,width:p,height:b}))(u,i,l))},up=(n,s,i,l,u)=>n.map(f=>{const p=[s,f.point],b=(y=()=>Vb(p),w=()=>Vb(p),E=()=>(W=>{const J=nt(W,Hb);return mh(J)})(p),l.fold(y,w,E));var y,w,E;const C=(Z=b.left,K=b.top,oe=f.width,q=f.height,{x:Z,y:K,width:oe,height:q}),O=i.showAbove?h1():Ib(),B=i.showAbove?lp():Pb(),P=Ou(u,i,O,B,O,B,T.none());var Z,K,oe,q;return Yc({anchorBox:C,bubble:i.bubble.getOr(Tu()),overrides:i.overrides,layouts:P})});var fp=[Ge("node"),Ge("root"),sn("bubble"),af(),Ae("overrides",{}),Ae("showAbove",!1),Ar("placement",(n,s,i)=>{const l=Du(n,0,s);return s.node.filter(Us).bind(u=>{const f=u.dom.getBoundingClientRect(),p=gh(f.left,f.top,f.width,f.height),b=s.node.getOr(n.element);return up(p,l,s,i,b)})})];const lf=(n,s,i,l)=>({start:n,soffset:s,finish:i,foffset:l}),cf=Li([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),hh=(cf.before,cf.on,cf.after,n=>n.fold(Tt,Tt,Tt)),df=Li([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),uf={domRange:df.domRange,relative:df.relative,exact:df.exact,exactFromRange:n=>df.exact(n.start,n.soffset,n.finish,n.foffset),getWin:n=>{const s=(i=>i.match({domRange:l=>Et(l.startContainer),relative:(l,u)=>hh(l),exact:(l,u,f,p)=>l}))(n);return id(s)},range:lf},ff=(n,s,i)=>{const l=n.document.createRange();var u;return u=l,s.fold(f=>{u.setStartBefore(f.dom)},(f,p)=>{u.setStart(f.dom,p)},f=>{u.setStartAfter(f.dom)}),((f,p)=>{p.fold(b=>{f.setEndBefore(b.dom)},(b,y)=>{f.setEnd(b.dom,y)},b=>{f.setEndAfter(b.dom)})})(l,i),l},mp=(n,s,i,l,u)=>{const f=n.document.createRange();return f.setStart(s.dom,i),f.setEnd(l.dom,u),f},jb=n=>({left:n.left,top:n.top,right:n.right,bottom:n.bottom,width:n.width,height:n.height}),eg=Li([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Ub=(n,s,i)=>s(Et(i.startContainer),i.startOffset,Et(i.endContainer),i.endOffset),_1=(n,s)=>((i,l)=>{const u=((f,p)=>p.match({domRange:b=>({ltr:ce(b),rtl:T.none}),relative:(b,y)=>({ltr:jo(()=>ff(f,b,y)),rtl:jo(()=>T.some(ff(f,y,b)))}),exact:(b,y,w,E)=>({ltr:jo(()=>mp(f,b,y,w,E)),rtl:jo(()=>T.some(mp(f,w,E,b,y)))})}))(i,l);return((f,p)=>{const b=p.ltr();return b.collapsed?p.rtl().filter(y=>y.collapsed===!1).map(y=>eg.rtl(Et(y.endContainer),y.endOffset,Et(y.startContainer),y.startOffset)).getOrThunk(()=>Ub(0,eg.ltr,b)):Ub(0,eg.ltr,b)})(0,u)})(n,s).match({ltr:(i,l,u,f)=>{const p=n.document.createRange();return p.setStart(i.dom,l),p.setEnd(u.dom,f),p},rtl:(i,l,u,f)=>{const p=n.document.createRange();return p.setStart(u.dom,f),p.setEnd(i.dom,l),p}});eg.ltr,eg.rtl;const tg=(n,s,i)=>Nn(((l,u)=>{const f=eo(u)?u:$e;let p=l.dom;const b=[];for(;p.parentNode!==null&&p.parentNode!==void 0;){const y=p.parentNode,w=Et(y);if(b.push(w),f(w)===!0)break;p=y}return b})(n,i),s),Ea=(n,s)=>((i,l)=>{const u=l===void 0?document:l.dom;return ad(u)?[]:nt(u.querySelectorAll(i),Et)})(s,n),C1=n=>{if(n.rangeCount>0){const s=n.getRangeAt(0),i=n.getRangeAt(n.rangeCount-1);return T.some(lf(Et(s.startContainer),s.startOffset,Et(i.endContainer),i.endOffset))}return T.none()},$v=n=>{if(n.anchorNode===null||n.focusNode===null)return C1(n);{const s=Et(n.anchorNode),i=Et(n.focusNode);return((l,u,f,p)=>{const b=((w,E,C,O)=>{const B=sa(w).dom.createRange();return B.setStart(w.dom,E),B.setEnd(C.dom,O),B})(l,u,f,p),y=wn(l,f)&&u===p;return b.collapsed&&!y})(s,n.anchorOffset,i,n.focusOffset)?T.some(lf(s,n.anchorOffset,i,n.focusOffset)):C1(n)}},S1=(n,s)=>(i=>{const l=i.getClientRects(),u=l.length>0?l[0]:i.getBoundingClientRect();return u.width>0||u.height>0?T.some(u).map(jb):T.none()})(_1(n,s)),E1=((n,s)=>{const i=l=>n(l)?T.from(l.dom.nodeValue):T.none();return{get:l=>{if(!n(l))throw new Error("Can only get text value of a text node");return i(l).getOr("")},getOption:i,set:(l,u)=>{if(!n(l))throw new Error("Can only set raw text value of a text node");l.dom.nodeValue=u}}})(Ss),mf=(n,s)=>({element:n,offset:s}),Zb=(n,s)=>Ss(n)?mf(n,s):((i,l)=>{const u=Bn(i);if(u.length===0)return mf(i,l);if(l<u.length)return mf(u[l],0);{const f=u[u.length-1],p=Ss(f)?(b=>E1.get(b))(f).length:Bn(f).length;return mf(f,p)}})(n,s),bh=n=>n.foffset!==void 0,A1=(n,s)=>s.getSelection.getOrThunk(()=>()=>(i=>(l=>T.from(l.getSelection()))(i).filter(l=>l.rangeCount>0).bind($v))(n))().map(i=>{if(bh(i)){const l=Zb(i.start,i.soffset),u=Zb(i.finish,i.foffset);return uf.range(l.element,l.offset,u.element,u.offset)}return i});var Pw=[sn("getSelection"),Ge("root"),sn("bubble"),af(),Ae("overrides",{}),Ae("showAbove",!1),Ar("placement",(n,s,i)=>{const l=id(s.root).dom,u=Du(n,0,s),f=A1(l,s).bind(b=>{if(bh(b))return((w,E)=>(C=>{const O=C.getBoundingClientRect();return O.width>0||O.height>0?T.some(O).map(jb):T.none()})(_1(w,E)))(l,uf.exactFromRange(b)).orThunk(()=>{const w=zc("\uFEFF");Ml(b.start,w);const E=S1(l,uf.exact(w,0,w,1));return xa(w),E}).bind(w=>gh(w.left,w.top,w.width,w.height));{const y=$n(b,E=>E.dom.getBoundingClientRect()),w={left:Math.min(y.firstCell.left,y.lastCell.left),right:Math.max(y.firstCell.right,y.lastCell.right),top:Math.min(y.firstCell.top,y.lastCell.top),bottom:Math.max(y.firstCell.bottom,y.lastCell.bottom)};return gh(w.left,w.top,w.right-w.left,w.bottom-w.top)}}),p=A1(l,s).bind(b=>bh(b)?fr(b.start)?T.some(b.start):js(b.start):T.some(b.firstCell)).getOr(n.element);return up(f,u,s,i,p)})];const pf="link-layout",yh=n=>n.x+n.width,Vv=(n,s)=>n.x-s.width,jv=(n,s)=>n.y-s.height+n.height,vd=n=>n.y,z1=(n,s,i)=>ui(yh(n),vd(n),i.southeast(),eh(),"southeast",fi(n,{left:0,top:2}),pf),Wb=(n,s,i)=>ui(Vv(n,s),vd(n),i.southwest(),sp(),"southwest",fi(n,{right:1,top:2}),pf),Uv=(n,s,i)=>ui(yh(n),jv(n,s),i.northeast(),th(),"northeast",fi(n,{left:0,bottom:3}),pf),pp=(n,s,i)=>ui(Vv(n,s),jv(n,s),i.northwest(),ap(),"northwest",fi(n,{right:1,bottom:3}),pf),og=()=>[z1,Wb,Uv,pp],vh=()=>[Wb,z1,pp,Uv];var Zv=[Ge("item"),af(),Ae("overrides",{}),Ar("placement",(n,s,i)=>{const l=Au(i,s.item.element),u=Ou(n.element,s,og(),vh(),og(),vh(),T.none());return T.some(Yc({anchorBox:l,bubble:Tu(),overrides:s.overrides,layouts:u}))})],xd=zs("type",{selection:Pw,node:fp,hotspot:Qp,submenu:Zv,makeshift:im});const lm=[Ci("classes",ta),$l("mode","all",["all","layout","placement"])],xh=[Ae("useFixed",$e),sn("getBounds")],kh=[ca("anchor",xd),Kr("transition",lm)],qb=(n,s,i,l,u,f)=>{const p=wa("placement.info",to(kh),u),b=p.anchor,y=l.element,w=i.get(l.uid);rm(()=>{bo(y,"position","fixed");const E=Sr(y,"visibility");bo(y,"visibility","hidden");const C=s.useFixed()?(()=>{const O=document.documentElement;return Fv(0,0,O.clientWidth,O.clientHeight)})():(O=>{const B=Ve(O.element),P=O.element.dom.getBoundingClientRect();return sm(B.left,B.top,P.width,P.height)})(n);b.placement(n,b,C).each(O=>{const B=f.orThunk(()=>s.getBounds.map(Io)),P=((Z,K,oe,q,W,J)=>((ne,se,be,Ee,qe,Ue,Fe,gt)=>{const Rt=Kc(Fe,"maxHeightFunction",am()),Zt=Kc(Fe,"maxWidthFunction",at),ro=ne.anchorBox,Ao=ne.origin,ln={bounds:Mw(Ao,Ue),origin:Ao,preference:Ee,maxHeightFunction:Rt,maxWidthFunction:Zt,lastPlacement:qe,transition:gt};return fh(ro,se,be,ln)})(((ne,se)=>((be,Ee)=>({anchorBox:be,origin:Ee}))(ne,se))(K.anchorBox,Z),q.element,K.bubble,K.layouts,W,oe,K.overrides,J))(C,O,B,l,w,p.transition);i.set(l.uid,P)}),E.fold(()=>{_n(y,"visibility")},O=>{bo(y,"visibility",O)}),Sr(y,"left").isNone()&&Sr(y,"top").isNone()&&Sr(y,"right").isNone()&&Sr(y,"bottom").isNone()&&Rs(Sr(y,"position"),"fixed")&&_n(y,"position")},y)};var wh=Object.freeze({__proto__:null,position:(n,s,i,l,u)=>{const f=T.none();qb(n,s,i,l,u,f)},positionWithinBounds:qb,getMode:(n,s,i)=>s.useFixed()?"fixed":"absolute",reset:(n,s,i,l)=>{const u=l.element;Dt(["position","left","right","top","bottom"],f=>_n(u,f)),(f=>{Xo(f,ih)})(u),i.clear(l.uid)}});const mi=ua({fields:xh,name:"positioning",active:y1,apis:wh,state:Object.freeze({__proto__:null,init:()=>{let n={};return da({readState:()=>n,clear:s=>{Lt(s)?delete n[s]:n={}},set:(s,i)=>{n[s]=i},get:s=>dt(n,s)})}})}),Gb=n=>n.getSystem().isConnected(),cm=n=>{Uo(n,jl());const s=n.components();Dt(s,cm)},dm=n=>{const s=n.components();Dt(s,dm),Uo(n,Ba())},_h=(n,s)=>{n.getSystem().addToWorld(s),Us(n.element)&&dm(s)},Kb=n=>{cm(n),n.getSystem().removeFromWorld(n)},gp=(n,s)=>{wi(n.element,s.element)},gf=(n,s)=>{T1(n,s,wi)},T1=(n,s,i)=>{n.getSystem().addToWorld(s),i(n.element,s.element),Us(n.element)&&dm(s),n.syncComponents()},Yb=n=>{cm(n),xa(n.element),n.getSystem().removeFromWorld(n)},tl=n=>{const s=Vs(n.element).bind(i=>n.getSystem().getByDom(i).toOptional());Yb(n),s.each(i=>{i.syncComponents()})},hf=n=>{const s=n.components();Dt(s,Yb),Br(n.element),n.syncComponents()},O1=(n,s)=>{ng(n,s,wi)},Le=(n,s)=>{ng(n,s,Uu)},ng=(n,s,i)=>{i(n,s.element);const l=Bn(s.element);Dt(l,u=>{s.getByDom(u).each(dm)})},Lw=n=>{const s=Bn(n.element);Dt(s,i=>{n.getByDom(i).each(cm)}),xa(n.element)},Wv=(n,s,i,l)=>{i.get().each(p=>{hf(n)});const u=s.getAttachPoint(n);gf(u,n);const f=n.getSystem().build(l);return gf(n,f),i.set(f),f},Xb=(n,s,i,l)=>{const u=Wv(n,s,i,l);return s.onOpen(n,u),u},kd=(n,s,i)=>{i.get().each(l=>{hf(n),tl(n),s.onClose(n,l),i.clear()})},Jb=(n,s,i)=>i.isOpen(),Ch=(n,s,i)=>{const l=s.getAttachPoint(n);bo(n.element,"position",mi.getMode(l)),((u,f,p,b)=>{Sr(u.element,f).fold(()=>{Xo(u.element,p)},y=>{lo(u.element,p,y)}),bo(u.element,f,"hidden")})(n,"visibility",s.cloakVisibilityAttr)},D1=(n,s,i)=>{(l=>At(["top","left","right","bottom"],u=>Sr(l,u).isSome()))(n.element)||_n(n.element,"position"),((l,u,f)=>{Cr(l.element,f).fold(()=>_n(l.element,u),p=>bo(l.element,u,p))})(n,"visibility",s.cloakVisibilityAttr)};var R1=Object.freeze({__proto__:null,cloak:Ch,decloak:D1,open:Xb,openWhileCloaked:(n,s,i,l,u)=>{Ch(n,s),Xb(n,s,i,l),u(),D1(n,s)},close:kd,isOpen:Jb,isPartOf:(n,s,i,l)=>Jb(0,0,i)&&i.get().exists(u=>s.isPartOf(n,u,l)),getState:(n,s,i)=>i.get(),setContent:(n,s,i,l)=>i.get().map(()=>Wv(n,s,i,l))}),Fw=Object.freeze({__proto__:null,events:(n,s)=>zo([je(Wm(),(i,l)=>{kd(i,n,s)})])}),m=[Sn("onOpen"),Sn("onClose"),Ge("isPartOf"),Ge("getAttachPoint"),Ae("cloakVisibilityAttr","data-precloak-visibility")],h=Object.freeze({__proto__:null,init:()=>{const n=Cn(),s=ce("not-implemented");return da({readState:s,isOpen:n.isSet,clear:n.clear,set:n.set,get:n.get})}});const x=ua({fields:m,name:"sandboxing",active:Fw,apis:R1,state:h}),S=ce("dismiss.popups"),D=ce("reposition.popups"),R=ce("mouse.released"),$=ea([Ae("isExtraPart",$e),Kr("fireEventInstead",[Ae("event",Xu())])]),U=n=>{const s=wa("Dismissal",$,n);return{[S()]:{schema:ea([Ge("target")]),onReceive:(i,l)=>{x.isOpen(i)&&(x.isPartOf(i,l.target)||s.isExtraPart(i,l.target)||s.fireEventInstead.fold(()=>x.close(i),u=>Uo(i,u.event)))}}}},te=ea([Kr("fireEventInstead",[Ae("event",$d())]),ii("doReposition")]),ue=n=>{const s=wa("Reposition",te,n);return{[D()]:{onReceive:i=>{x.isOpen(i)&&s.fireEventInstead.fold(()=>s.doReposition(i),l=>Uo(i,l.event))}}}},ke=(n,s,i)=>{s.store.manager.onLoad(n,s,i)},ie=(n,s,i)=>{s.store.manager.onUnload(n,s,i)};var fe=Object.freeze({__proto__:null,onLoad:ke,onUnload:ie,setValue:(n,s,i,l)=>{s.store.manager.setValue(n,s,i,l)},getValue:(n,s,i)=>s.store.manager.getValue(n,s,i),getState:(n,s,i)=>i}),ge=Object.freeze({__proto__:null,events:(n,s)=>{const i=n.resetOnDom?[Er((l,u)=>{ke(l,n,s)}),jc((l,u)=>{ie(l,n,s)})]:[xu(n,s,ke)];return zo(i)}});const ze=()=>{const n=Ut(null);return da({set:n.set,get:n.get,isNotSet:()=>n.get()===null,clear:()=>{n.set(null)},readState:()=>({mode:"memory",value:n.get()})})},Te=()=>{const n=Ut({}),s=Ut({});return da({readState:()=>({mode:"dataset",dataByValue:n.get(),dataByText:s.get()}),lookup:i=>dt(n.get(),i).orThunk(()=>dt(s.get(),i)),update:i=>{const l=n.get(),u=s.get(),f={},p={};Dt(i,b=>{f[b.value]=b,dt(b,"meta").each(y=>{dt(y,"text").each(w=>{p[w]=b})})}),n.set({...l,...f}),s.set({...u,...p})},clear:()=>{n.set({}),s.set({})}})};var Xe=Object.freeze({__proto__:null,memory:ze,dataset:Te,manual:()=>da({readState:at}),init:n=>n.store.manager.state(n)});const Je=(n,s,i,l)=>{const u=s.store;i.update([l]),u.setValue(n,l),s.onSetValue(n,l)};var Ye=[sn("initialValue"),Ge("getFallbackEntry"),Ge("getDataKey"),Ge("setValue"),Ar("manager",{setValue:Je,getValue:(n,s,i)=>{const l=s.store,u=l.getDataKey(n);return i.lookup(u).getOrThunk(()=>l.getFallbackEntry(u))},onLoad:(n,s,i)=>{s.store.initialValue.each(l=>{Je(n,s,i,l)})},onUnload:(n,s,i)=>{i.clear()},state:Te})],tt=[Ge("getValue"),Ae("setValue",at),sn("initialValue"),Ar("manager",{setValue:(n,s,i,l)=>{s.store.setValue(n,l),s.onSetValue(n,l)},getValue:(n,s,i)=>s.store.getValue(n),onLoad:(n,s,i)=>{s.store.initialValue.each(l=>{s.store.setValue(n,l)})},onUnload:at,state:ql.init})],yt=[sn("initialValue"),Ar("manager",{setValue:(n,s,i,l)=>{i.set(l),s.onSetValue(n,l)},getValue:(n,s,i)=>i.get(),onLoad:(n,s,i)=>{s.store.initialValue.each(l=>{i.isNotSet()&&i.set(l)})},onUnload:(n,s,i)=>{i.clear()},state:ze})],_t=[li("store",{mode:"memory"},zs("mode",{memory:yt,manual:tt,dataset:Ye})),Sn("onSetValue"),Ae("resetOnDom",!1)];const De=ua({fields:_t,name:"representing",active:ge,apis:fe,extra:{setValueFrom:(n,s)=>{const i=De.getValue(s);De.setValue(n,i)}},state:Xe}),It=(n,s)=>Ma(n,{},nt(s,i=>{return l=i.name(),u="Cannot configure "+i.name()+" for "+n,bs(l,l,{tag:"option",process:{}},cc(f=>si("The field: "+l+" is forbidden. "+u)));var l,u}).concat([_a("dump",Tt)])),go=n=>n.dump,$o=(n,s)=>({...ft(s),...n.dump}),So=It,ho=$o,Ho="placeholder",xn=Li([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),Ks=n=>no(n,"uiType"),zi=(n,s,i,l)=>((u,f,p,b)=>Ks(p)&&p.uiType===Ho?((y,w,E,C)=>y.exists(O=>O!==E.owner)?xn.single(!0,ce(E)):dt(C,E.name).fold(()=>{throw new Error("Unknown placeholder component: "+E.name+`
Known: [`+qo(C)+`]
Namespace: `+y.getOr("none")+`
Spec: `+JSON.stringify(E,null,2))},O=>O.replace()))(u,0,p,b):xn.single(!1,ce(p)))(n,0,i,l).fold((u,f)=>{const p=Ks(i)?f(s,i.config,i.validated):f(s),b=dt(p,"components").getOr([]),y=kn(b,w=>zi(n,s,w,l));return[{...p,components:y}]},(u,f)=>{if(Ks(i)){const p=f(s,i.config,i.validated);return i.validated.preprocess.getOr(Tt)(p)}return f(s)}),Xa=xn.single,yc=xn.multiple,um=ce(Ho),Ti=Li([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),Gd=Ae("factory",{sketch:Tt}),rg=Ae("schema",[]),bf=Ge("name"),sg=bs("pname","pname",qu(n=>"<alloy."+Bt(n.name)+">"),Xi()),Qb=_a("schema",()=>[sn("preprocess")]),yf=Ae("defaults",ce({})),qv=Ae("overrides",ce({})),V5=to([Gd,rg,bf,sg,yf,qv]),j5=to([Gd,rg,bf,yf,qv]),q4=to([Gd,rg,bf,sg,yf,qv]),Ft=to([Gd,Qb,bf,Ge("unit"),sg,yf,qv]),N1=n=>n.fold(T.some,T.none,T.some,T.some),Hw=n=>{const s=i=>i.name;return n.fold(s,s,s,s)},Gv=(n,s)=>i=>{const l=wa("Converting part type",s,i);return n(l)},hl=Gv(Ti.required,V5),Ru=Gv(Ti.external,j5),wd=Gv(Ti.optional,q4),Kv=Gv(Ti.group,Ft),$w=ce("entirety");var G4=Object.freeze({__proto__:null,required:hl,external:Ru,optional:wd,group:Kv,asNamedPart:N1,name:Hw,asCommon:n=>n.fold(Tt,Tt,Tt,Tt),original:$w});const Vw=(n,s,i,l)=>nr(s.defaults(n,i,l),i,{uid:n.partUids[s.name]},s.overrides(n,i,l)),ol=(n,s)=>{const i={};return Dt(s,l=>{N1(l).each(u=>{const f=M1(n,u.pname);i[u.name]=p=>{const b=wa("Part: "+u.name+" in "+n,to(u.schema),p);return{...f,config:p,validated:b}}})}),i},M1=(n,s)=>({uiType:um(),owner:n,name:s}),jw=(n,s,i)=>({uiType:um(),owner:n,name:s,config:i,validated:{}}),K4=n=>kn(n,s=>s.fold(T.none,T.some,T.none,T.none).map(i=>Hl(i.name,i.schema.concat([Xg($w())]))).toArray()),Y4=n=>nt(n,Hw),Uw=(n,s,i)=>((l,u,f)=>{const p={},b={};return Dt(f,y=>{y.fold(w=>{p[w.pname]=Xa(!0,(E,C,O)=>w.factory.sketch(Vw(E,w,C,O)))},w=>{const E=u.parts[w.name];b[w.name]=ce(w.factory.sketch(Vw(u,w,E[$w()]),E))},w=>{p[w.pname]=Xa(!1,(E,C,O)=>w.factory.sketch(Vw(E,w,C,O)))},w=>{p[w.pname]=yc(!0,(E,C,O)=>{const B=E[w.name];return nt(B,P=>w.factory.sketch(nr(w.defaults(E,P,O),P,w.overrides(E,P))))})})}),{internals:ce(p),externals:ce(b)}})(0,s,i),Zw=(n,s,i)=>((l,u,f,p)=>{const b=$n(p,(w,E)=>((C,O)=>{let B=!1;return{name:ce(C),required:()=>O.fold((P,Z)=>P,(P,Z)=>P),used:()=>B,replace:()=>{if(B)throw new Error("Trying to use the same placeholder more than once: "+C);return B=!0,O}}})(E,w)),y=((w,E,C,O)=>kn(C,B=>zi(w,E,B,O)))(l,u,f,b);return or(b,w=>{if(w.used()===!1&&w.required())throw new Error("Placeholder: "+w.name()+` was not found in components list
Namespace: `+l.getOr("none")+`
Components: `+JSON.stringify(u.components,null,2))}),y})(T.some(n),s,s.components,i),Tr=(n,s,i)=>{const l=s.partUids[i];return n.getSystem().getByUid(l).toOptional()},hp=(n,s,i)=>Tr(n,s,i).getOrDie("Could not find part: "+i),X4=(n,s,i)=>{const l={},u=s.partUids,f=n.getSystem();return Dt(i,p=>{l[p]=ce(f.getByUid(u[p]))}),l},Ww=(n,s)=>{const i=n.getSystem();return $n(s.partUids,(l,u)=>ce(i.getByUid(l)))},J4=n=>qo(n.partUids),qw=(n,s,i)=>{const l={},u=s.partUids,f=n.getSystem();return Dt(i,p=>{l[p]=ce(f.getByUid(u[p]).getOrDie())}),l},Q4=(n,s)=>{const i=Y4(s);return dl(nt(i,l=>({key:l,value:n+"-"+l})))},Gw=n=>bs("partUids","partUids",fn(s=>Q4(s.uid,n)),Xi());var U5=Object.freeze({__proto__:null,generate:ol,generateOne:jw,schemas:K4,names:Y4,substitutes:Uw,components:Zw,defaultUids:Q4,defaultUidsSchema:Gw,getAllParts:Ww,getAllPartNames:J4,getPart:Tr,getPartOrDie:hp,getParts:X4,getPartsOrDie:qw});const e3=(n,s,i,l,u)=>{const f=((p,b)=>(p.length>0?[Hl("parts",p)]:[]).concat([Ge("uid"),Ae("dom",{}),Ae("components",[]),Xg("originalSpec"),Ae("debug.sketcher",{})]).concat(b))(l,u);return wa(n+" [SpecSchema]",ea(f.concat(s)),i)},B1=(n,s,i,l,u)=>{const f=Kw(u),p=K4(i),b=Gw(i),y=e3(n,s,f,p,[b]),w=Uw(0,y,i);return l(y,Zw(n,y,w.internals()),f,w.externals())},Kw=n=>(s=>no(s,"uid"))(n)?n:{...n,uid:qc("uid")},Z5=ea([Ge("name"),Ge("factory"),Ge("configFields"),Ae("apis",{}),Ae("extraApis",{})]),t3=ea([Ge("name"),Ge("factory"),Ge("configFields"),Ge("partFields"),Ae("apis",{}),Ae("extraApis",{})]),_d=n=>{const s=wa("Sketcher for "+n.name,Z5,n),i=$n(s.apis,zb),l=$n(s.extraApis,(u,f)=>Ol(u,f));return{name:s.name,configFields:s.configFields,sketch:u=>((f,p,b,y)=>{const w=Kw(y);return b(e3(f,p,w,[],[]),w)})(s.name,s.configFields,s.factory,u),...i,...l}},Dl=n=>{const s=wa("Sketcher for "+n.name,t3,n),i=ol(s.name,s.partFields),l=$n(s.apis,zb),u=$n(s.extraApis,(f,p)=>Ol(f,p));return{name:s.name,partFields:s.partFields,configFields:s.configFields,sketch:f=>B1(s.name,s.configFields,s.partFields,s.factory,f),parts:i,...l,...u}},ey=n=>Gi("input")(n)&&gs(n,"type")!=="radio"||Gi("textarea")(n);var o3=Object.freeze({__proto__:null,getCurrent:(n,s,i)=>s.find(n)});const W5=[Ge("find")],On=ua({fields:W5,name:"composing",apis:o3}),n3=["input","button","textarea","select"],r3=(n,s,i)=>{(s.disabled()?I1:Xw)(n,s)},Yw=(n,s)=>s.useNative===!0&&we(n3,ba(n.element)),s3=n=>{lo(n.element,"disabled","disabled")},q5=n=>{Xo(n.element,"disabled")},ty=n=>{lo(n.element,"aria-disabled","true")},G5=n=>{lo(n.element,"aria-disabled","false")},I1=(n,s,i)=>{s.disableClass.each(l=>{bt(n.element,l)}),(Yw(n,s)?s3:ty)(n),s.onDisabled(n)},Xw=(n,s,i)=>{s.disableClass.each(l=>{Kt(n.element,l)}),(Yw(n,s)?q5:G5)(n),s.onEnabled(n)},oy=(n,s)=>Yw(n,s)?(i=>tc(i.element,"disabled"))(n):(i=>gs(i.element,"aria-disabled")==="true")(n);var K5=Object.freeze({__proto__:null,enable:Xw,disable:I1,isDisabled:oy,onLoad:r3,set:(n,s,i,l)=>{(l?I1:Xw)(n,s)}}),Y5=Object.freeze({__proto__:null,exhibit:(n,s)=>us({classes:s.disabled()?s.disableClass.toArray():[]}),events:(n,s)=>zo([Ju(Ei(),(i,l)=>oy(i,n)),xu(n,s,r3)])}),X5=[kr("disabled",$e),Ae("useNative",!0),sn("disableClass"),Sn("onDisabled"),Sn("onEnabled")];const Eo=ua({fields:X5,name:"disabling",active:Y5,apis:K5}),a3=(n,s,i,l)=>{const u=Ea(n.element,"."+s.highlightClass);Dt(u,f=>{At(l,p=>wn(p.element,f))||(Kt(f,s.highlightClass),n.getSystem().getByDom(f).each(p=>{s.onDehighlight(n,p),Uo(p,Vd())}))})},Sh=(n,s,i,l)=>{a3(n,s,0,[l]),Jw(n,s,i,l)||(bt(l.element,s.highlightClass),s.onHighlight(n,l),Uo(l,Up()))},Jw=(n,s,i,l)=>an(l.element,s.highlightClass),i3=(n,s,i)=>es(n.element,"."+s.itemClass).bind(l=>n.getSystem().getByDom(l).toOptional()),l3=(n,s,i)=>{const l=Ea(n.element,"."+s.itemClass);return(l.length>0?T.some(l[l.length-1]):T.none()).bind(u=>n.getSystem().getByDom(u).toOptional())},c3=(n,s,i,l)=>{const u=Ea(n.element,"."+s.itemClass);return ra(u,f=>an(f,s.highlightClass)).bind(f=>{const p=Jf(f,l,0,u.length-1);return n.getSystem().getByDom(u[p]).toOptional()})},d3=(n,s,i)=>{const l=Ea(n.element,"."+s.itemClass);return $a(nt(l,u=>n.getSystem().getByDom(u).toOptional()))};var J5=Object.freeze({__proto__:null,dehighlightAll:(n,s,i)=>a3(n,s,0,[]),dehighlight:(n,s,i,l)=>{Jw(n,s,i,l)&&(Kt(l.element,s.highlightClass),s.onDehighlight(n,l),Uo(l,Vd()))},highlight:Sh,highlightFirst:(n,s,i)=>{i3(n,s).each(l=>{Sh(n,s,i,l)})},highlightLast:(n,s,i)=>{l3(n,s).each(l=>{Sh(n,s,i,l)})},highlightAt:(n,s,i,l)=>{((u,f,p,b)=>{const y=Ea(u.element,"."+f.itemClass);return T.from(y[b]).fold(()=>en.error(new Error("No element found with index "+b)),u.getSystem().getByDom)})(n,s,0,l).fold(u=>{throw u},u=>{Sh(n,s,i,u)})},highlightBy:(n,s,i,l)=>{const u=d3(n,s);H(u,l).each(f=>{Sh(n,s,i,f)})},isHighlighted:Jw,getHighlighted:(n,s,i)=>es(n.element,"."+s.highlightClass).bind(l=>n.getSystem().getByDom(l).toOptional()),getFirst:i3,getLast:l3,getPrevious:(n,s,i)=>c3(n,s,0,-1),getNext:(n,s,i)=>c3(n,s,0,1),getCandidates:d3}),u3=[Ge("highlightClass"),Ge("itemClass"),Sn("onHighlight"),Sn("onDehighlight")];const tr=ua({fields:u3,name:"highlighting",apis:J5}),f3=[8],Nu=[9],fm=[13],Yv=[27],Jc=[32],Xv=[37],ny=[38],P1=[39],ry=[40],Q5=(n,s,i)=>{const l=kl(n.slice(0,s)),u=kl(n.slice(s+1));return H(l.concat(u),i)},eR=(n,s,i)=>{const l=kl(n.slice(0,s));return H(l,i)},tR=(n,s,i)=>{const l=n.slice(0,s),u=n.slice(s+1);return H(u.concat(l),i)},oR=(n,s,i)=>{const l=n.slice(s+1);return H(l,i)},In=n=>s=>{const i=s.raw;return we(n,i.which)},vf=n=>s=>yi(n,i=>i(s)),mm=n=>n.raw.shiftKey===!0,nR=n=>n.raw.ctrlKey===!0,L1=$r(mm),jn=(n,s)=>({matches:n,classification:s}),m3=(n,s,i)=>{s.exists(l=>i.exists(u=>wn(u,l)))||qt(n,jp(),{prevFocus:s,newFocus:i})},Qw=()=>{const n=s=>Is(s.element);return{get:n,set:(s,i)=>{const l=n(s);s.getSystem().triggerFocus(i,s.element);const u=n(s);m3(s,l,u)}}},rR=()=>{const n=s=>tr.getHighlighted(s).map(i=>i.element);return{get:n,set:(s,i)=>{const l=n(s);s.getSystem().getByDom(i).fold(at,f=>{tr.highlight(s,f)});const u=n(s);m3(s,l,u)}}};var Eh;(function(n){n.OnFocusMode="onFocus",n.OnEnterOrSpaceMode="onEnterOrSpace",n.OnApiMode="onApi"})(Eh||(Eh={}));const Ah=(n,s,i,l,u)=>{const f=(b,y,w,E,C)=>{return(O=w(b,y,E,C),B=y.event,H(O,P=>P.matches(B)).map(P=>P.classification)).bind(P=>P(b,y,E,C));var O,B},p={schema:()=>n.concat([Ae("focusManager",Qw()),li("focusInside","onFocus",Pd(b=>we(["onFocus","onEnterOrSpace","onApi"],b)?en.value(b):en.error("Invalid value for focusInside"))),Ar("handler",p),Ar("state",s),Ar("sendFocusIn",u)]),processKey:f,toEvents:(b,y)=>{const w=b.focusInside!==Eh.OnFocusMode?T.none():u(b).map(C=>je(md(),(O,B)=>{C(O,b,y),B.stop()})),E=[je(Yr(),(C,O)=>{f(C,O,i,b,y).fold(()=>{((B,P)=>{const Z=In(Jc.concat(fm))(P.event);b.focusInside===Eh.OnEnterOrSpaceMode&&Z&&Lf(B,P)&&u(b).each(K=>{K(B,b,y),P.stop()})})(C,O)},B=>{O.stop()})}),je(Vl(),(C,O)=>{f(C,O,l,b,y).each(B=>{O.stop()})})];return zo(w.toArray().concat(E))}};return p},p3=n=>{const s=[sn("onEscape"),sn("onEnter"),Ae("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Ae("firstTabstop",0),Ae("useTabstopAt",Pt),sn("visibilitySelector")].concat([n]),i=(E,C)=>{const O=E.visibilitySelector.bind(B=>Wd(C,B)).getOr(C);return vr(O)>0},l=(E,C)=>C.focusManager.get(E).bind(O=>Wd(O,C.selector)),u=(E,C,O)=>{((B,P)=>{const Z=Ea(B.element,P.selector),K=Nn(Z,oe=>i(P,oe));return T.from(K[P.firstTabstop])})(E,C).each(B=>{C.focusManager.set(E,B)})},f=(E,C,O,B)=>{const P=Ea(E.element,O.selector);return l(E,O).bind(Z=>ra(P,ct(wn,Z)).bind(K=>((oe,q,W,J,ne)=>ne(q,W,se=>((be,Ee)=>i(be,Ee)&&be.useTabstopAt(Ee))(J,se)).fold(()=>J.cyclic?T.some(!0):T.none(),se=>(J.focusManager.set(oe,se),T.some(!0))))(E,P,K,O,B)))},p=(E,C,O)=>{const B=O.cyclic?Q5:eR;return f(E,0,O,B)},b=(E,C,O)=>{const B=O.cyclic?tR:oR;return f(E,0,O,B)},y=ce([jn(vf([mm,In(Nu)]),p),jn(In(Nu),b),jn(vf([L1,In(fm)]),(E,C,O)=>O.onEnter.bind(B=>B(E,C)))]),w=ce([jn(In(Yv),(E,C,O)=>O.onEscape.bind(B=>B(E,C))),jn(In(Nu),(E,C,O)=>l(E,O).filter(B=>!O.useTabstopAt(B)).bind(B=>((P=>(Z=>Vs(Z))(P).bind(Mi).exists(Z=>wn(Z,P)))(B)?p:b)(E,C,O)))]);return Ah(s,ql.init,y,w,()=>T.some(u))};var sR=p3(_a("cyclic",$e)),aR=p3(_a("cyclic",Pt));const F1=(n,s,i)=>ey(i)&&In(Jc)(s.event)?T.none():((l,u,f)=>(Zr(l,f,Ei()),T.some(!0)))(n,0,i),zh=(n,s)=>T.some(!0),iR=[Ae("execute",F1),Ae("useSpace",!1),Ae("useEnter",!0),Ae("useControlEnter",!1),Ae("useDown",!1)],g3=(n,s,i)=>i.execute(n,s,n.element);var lR=Ah(iR,ql.init,(n,s,i,l)=>{const u=i.useSpace&&!ey(n.element)?Jc:[],f=i.useEnter?fm:[],p=i.useDown?ry:[],b=u.concat(f).concat(p);return[jn(In(b),g3)].concat(i.useControlEnter?[jn(vf([nR,In(fm)]),g3)]:[])},(n,s,i,l)=>i.useSpace&&!ey(n.element)?[jn(In(Jc),zh)]:[],()=>T.none());const h3=()=>{const n=Cn();return da({readState:()=>n.get().map(s=>({numRows:String(s.numRows),numColumns:String(s.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(s,i)=>{n.set({numRows:s,numColumns:i})},getNumRows:()=>n.get().map(s=>s.numRows),getNumColumns:()=>n.get().map(s=>s.numColumns)})};var b3=Object.freeze({__proto__:null,flatgrid:h3,init:n=>n.state(n)});const y3=n=>(s,i,l,u)=>{const f=n(s.element);return v3(f,s,i,l,u)},e_=(n,s)=>{const i=w1(n,s);return y3(i)},t_=(n,s)=>{const i=w1(s,n);return y3(i)},o_=n=>(s,i,l,u)=>v3(n,s,i,l,u),v3=(n,s,i,l,u)=>l.focusManager.get(s).bind(f=>n(s.element,f,l,u)).map(f=>(l.focusManager.set(s,f),!0)),n_=o_,x3=o_,Jv=o_,k3=n=>!(s=>s.offsetWidth<=0&&s.offsetHeight<=0)(n.dom),r_=(n,s,i)=>{const l=Ea(n,i);return((u,f)=>ra(u,p=>wn(p,s)).map(p=>({index:p,candidates:u})))(Nn(l,k3))},Qv=(n,s)=>ra(n,i=>wn(s,i)),w3=(n,s,i,l)=>l(Math.floor(s/i),s%i).bind(u=>{const f=u.row*i+u.column;return f>=0&&f<n.length?T.some(n[f]):T.none()}),_3=(n,s,i,l,u)=>w3(n,s,l,(f,p)=>{const b=f===i-1?n.length-f*l:l,y=Jf(p,u,0,b-1);return T.some({row:f,column:y})}),C3=(n,s,i,l,u)=>w3(n,s,l,(f,p)=>{const b=Jf(f,u,0,i-1),y=b===i-1?n.length-b*l:l,w=Wc(p,0,y-1);return T.some({row:b,column:w})}),cR=[Ge("selector"),Ae("execute",F1),fl("onEscape"),Ae("captureTab",!1),Dv()],S3=(n,s,i)=>{es(n.element,s.selector).each(l=>{s.focusManager.set(n,l)})},H1=n=>(s,i,l,u)=>r_(s,i,l.selector).bind(f=>n(f.candidates,f.index,u.getNumRows().getOr(l.initSize.numRows),u.getNumColumns().getOr(l.initSize.numColumns))),s_=(n,s,i)=>i.captureTab?T.some(!0):T.none(),a_=H1((n,s,i,l)=>_3(n,s,i,l,-1)),i_=H1((n,s,i,l)=>_3(n,s,i,l,1)),dR=H1((n,s,i,l)=>C3(n,s,i,l,-1)),uR=H1((n,s,i,l)=>C3(n,s,i,l,1)),fR=ce([jn(In(Xv),e_(a_,i_)),jn(In(P1),t_(a_,i_)),jn(In(ny),n_(dR)),jn(In(ry),x3(uR)),jn(vf([mm,In(Nu)]),s_),jn(vf([L1,In(Nu)]),s_),jn(In(Jc.concat(fm)),(n,s,i,l)=>((u,f)=>f.focusManager.get(u).bind(p=>Wd(p,f.selector)))(n,i).bind(u=>i.execute(n,s,u)))]),mR=ce([jn(In(Yv),(n,s,i)=>i.onEscape(n,s)),jn(In(Jc),zh)]);var pR=Ah(cR,h3,fR,mR,()=>T.some(S3));const ag=(n,s,i,l,u)=>{const f=(p,b,y)=>u(p,b,l,0,y.length-1,y[b],w=>{return E=y[w],ba(E)==="button"&&gs(E,"disabled")==="disabled"?f(p,w,y):T.from(y[w]);var E});return r_(n,i,s).bind(p=>{const b=p.index,y=p.candidates;return f(b,b,y)})},E3=(n,s,i,l)=>ag(n,s,i,l,(u,f,p,b,y,w,E)=>{const C=Wc(f+p,b,y);return C===u?T.from(w):E(C)}),ex=(n,s,i,l)=>ag(n,s,i,l,(u,f,p,b,y,w,E)=>{const C=Jf(f,p,b,y);return C===u?T.none():E(C)}),gR=[Ge("selector"),Ae("getInitial",T.none),Ae("execute",F1),fl("onEscape"),Ae("executeOnMove",!1),Ae("allowVertical",!0),Ae("allowHorizontal",!0),Ae("cycles",!0)],l_=(n,s,i)=>((l,u)=>u.focusManager.get(l).bind(f=>Wd(f,u.selector)))(n,i).bind(l=>i.execute(n,s,l)),A3=(n,s,i)=>{s.getInitial(n).orThunk(()=>es(n.element,s.selector)).each(l=>{s.focusManager.set(n,l)})},z3=(n,s,i)=>(i.cycles?ex:E3)(n,i.selector,s,-1),T3=(n,s,i)=>(i.cycles?ex:E3)(n,i.selector,s,1),c_=n=>(s,i,l,u)=>n(s,i,l,u).bind(()=>l.executeOnMove?l_(s,i,l):T.some(!0)),$1=ce([jn(In(Jc),zh),jn(In(Yv),(n,s,i)=>i.onEscape(n,s))]);var V1=Ah(gR,ql.init,(n,s,i,l)=>{const u=[...i.allowHorizontal?Xv:[]].concat(i.allowVertical?ny:[]),f=[...i.allowHorizontal?P1:[]].concat(i.allowVertical?ry:[]);return[jn(In(u),c_(e_(z3,T3))),jn(In(f),c_(t_(z3,T3))),jn(In(fm),l_),jn(In(Jc),l_)]},$1,()=>T.some(A3));const tx=(n,s,i)=>T.from(n[s]).bind(l=>T.from(l[i]).map(u=>({rowIndex:s,columnIndex:i,cell:u}))),ox=(n,s,i,l)=>{const u=n[s].length,f=Jf(i,l,0,u-1);return tx(n,s,f)},O3=(n,s,i,l)=>{const u=Jf(i,l,0,n.length-1),f=n[u].length,p=Wc(s,0,f-1);return tx(n,u,p)},d_=(n,s,i,l)=>{const u=n[s].length,f=Wc(i+l,0,u-1);return tx(n,s,f)},u_=(n,s,i,l)=>{const u=Wc(i+l,0,n.length-1),f=n[u].length,p=Wc(s,0,f-1);return tx(n,u,p)},D3=[Hl("selectors",[Ge("row"),Ge("cell")]),Ae("cycles",!0),Ae("previousSelector",T.none),Ae("execute",F1)],hR=(n,s,i)=>{s.previousSelector(n).orThunk(()=>{const l=s.selectors;return es(n.element,l.cell)}).each(l=>{s.focusManager.set(n,l)})},nx=(n,s)=>(i,l,u)=>{const f=u.cycles?n:s;return Wd(l,u.selectors.row).bind(p=>{const b=Ea(p,u.selectors.cell);return Qv(b,l).bind(y=>{const w=Ea(i,u.selectors.row);return Qv(w,p).bind(E=>{const C=((O,B)=>nt(O,P=>Ea(P,B.selectors.cell)))(w,u);return f(C,E,y).map(O=>O.cell)})})})},R3=nx((n,s,i)=>ox(n,s,i,-1),(n,s,i)=>d_(n,s,i,-1)),Th=nx((n,s,i)=>ox(n,s,i,1),(n,s,i)=>d_(n,s,i,1)),Oh=nx((n,s,i)=>O3(n,i,s,-1),(n,s,i)=>u_(n,i,s,-1)),rx=nx((n,s,i)=>O3(n,i,s,1),(n,s,i)=>u_(n,i,s,1)),j1=ce([jn(In(Xv),e_(R3,Th)),jn(In(P1),t_(R3,Th)),jn(In(ny),n_(Oh)),jn(In(ry),x3(rx)),jn(In(Jc.concat(fm)),(n,s,i)=>Is(n.element).bind(l=>i.execute(n,s,l)))]),bR=ce([jn(In(Jc),zh)]);var ig=Ah(D3,ql.init,j1,bR,()=>T.some(hR));const pm=[Ge("selector"),Ae("execute",F1),Ae("moveOnTab",!1)],sx=(n,s,i)=>i.focusManager.get(n).bind(l=>i.execute(n,s,l)),N3=(n,s,i)=>{es(n.element,s.selector).each(l=>{s.focusManager.set(n,l)})},M3=(n,s,i)=>ex(n,i.selector,s,-1),f_=(n,s,i)=>ex(n,i.selector,s,1),U1=ce([jn(In(ny),Jv(M3)),jn(In(ry),Jv(f_)),jn(vf([mm,In(Nu)]),(n,s,i,l)=>i.moveOnTab?Jv(M3)(n,s,i,l):T.none()),jn(vf([L1,In(Nu)]),(n,s,i,l)=>i.moveOnTab?Jv(f_)(n,s,i,l):T.none()),jn(In(fm),sx),jn(In(Jc),sx)]),Z1=ce([jn(In(Jc),zh)]);var m_=Ah(pm,ql.init,U1,Z1,()=>T.some(N3));const B3=[fl("onSpace"),fl("onEnter"),fl("onShiftEnter"),fl("onLeft"),fl("onRight"),fl("onTab"),fl("onShiftTab"),fl("onUp"),fl("onDown"),fl("onEscape"),Ae("stopSpaceKeyup",!1),sn("focusIn")];var W1=Ah(B3,ql.init,(n,s,i)=>[jn(In(Jc),i.onSpace),jn(vf([L1,In(fm)]),i.onEnter),jn(vf([mm,In(fm)]),i.onShiftEnter),jn(vf([mm,In(Nu)]),i.onShiftTab),jn(vf([L1,In(Nu)]),i.onTab),jn(In(ny),i.onUp),jn(In(ry),i.onDown),jn(In(Xv),i.onLeft),jn(In(P1),i.onRight),jn(In(Jc),i.onSpace)],(n,s,i)=>[...i.stopSpaceKeyup?[jn(In(Jc),zh)]:[],jn(In(Yv),i.onEscape)],n=>n.focusIn);const ax=sR.schema(),yR=aR.schema(),p_=V1.schema(),ix=pR.schema(),$i=ig.schema(),vR=lR.schema(),gm=m_.schema(),I3=W1.schema(),Jt=k({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:ax,cyclic:yR,flow:p_,flatgrid:ix,matrix:$i,execution:vR,menu:gm,special:I3}),name:"keying",active:{events:(n,s)=>n.handler.toEvents(n,s)},apis:{focusIn:(n,s,i)=>{s.sendFocusIn(s).fold(()=>{n.getSystem().triggerFocus(n.element,n.element)},l=>{l(n,s,i)})},setGridSize:(n,s,i,l,u)=>{(f=>Vo(f,"setGridSize"))(i)?i.setGridSize(l,u):console.error("Layout does not support setGridSize")}},state:b3}),Dh=(n,s)=>{rm(()=>{((i,l,u)=>{const f=i.components();(y=>{Dt(y.components(),w=>xa(w.element)),Br(y.element),y.syncComponents()})(i);const p=u(l),b=on(f,p);Dt(b,y=>{cm(y),i.getSystem().removeFromWorld(y)}),Dt(p,y=>{Gb(y)?gp(i,y):(i.getSystem().addToWorld(y),gp(i,y),Us(i.element)&&dm(y))}),i.syncComponents()})(n,s,()=>nt(s,n.getSystem().build))},n.element)},g_=(n,s)=>{rm(()=>{((i,l,u)=>{const f=i.components(),p=kn(l,w=>a1(w).toArray());Dt(f,w=>{we(p,w)||Kb(w)});const b=((w,E,C)=>Nv(w,E,(O,B)=>d1(w,B,O,C)))(n.element,s,n.getSystem().buildOrPatch),y=on(f,b);Dt(y,w=>{Gb(w)&&Kb(w)}),Dt(b,w=>{Gb(w)||_h(i,w)}),i.syncComponents()})(n,s)},n.element)},lx=(n,s,i,l)=>{Kb(s);const u=d1(n.element,i,l,n.getSystem().buildOrPatch);_h(n,u),n.syncComponents()},h_=(n,s,i)=>{const l=n.getSystem().build(i);T1(n,l,s)},P3=(n,s,i,l)=>{tl(s),h_(n,(u,f)=>((p,b,y)=>{lr(p,y).fold(()=>{wi(p,b)},w=>{Ml(w,b)})})(u,f,i),l)},q1=(n,s)=>n.components(),L3=(n,s,i,l,u)=>{const f=q1(n);return T.from(f[l]).map(p=>(u.fold(()=>tl(p),b=>{(s.reuseDom?lx:P3)(n,p,l,b)}),p))};var b_=Object.freeze({__proto__:null,append:(n,s,i,l)=>{h_(n,wi,l)},prepend:(n,s,i,l)=>{h_(n,Zu,l)},remove:(n,s,i,l)=>{const u=q1(n);H(u,p=>wn(l.element,p.element)).each(tl)},replaceAt:L3,replaceBy:(n,s,i,l,u)=>{const f=q1(n);return ra(f,l).bind(p=>L3(n,s,0,p,u))},set:(n,s,i,l)=>(s.reuseDom?g_:Dh)(n,l),contents:q1});const fo=ua({fields:[Ts("reuseDom",!0)],name:"replacing",apis:b_}),Zo=(n,s)=>{const i=((l,u)=>{const f=zo(u);return ua({fields:[Ge("enabled")],name:l,active:{events:ce(f)}})})(n,s);return{key:n,value:{config:{},me:i,configAsRaw:ce({}),initialConfig:{},state:ql}}},F3=(n,s)=>{s.ignore||(Fi(n.element),s.onFocus(n))};var H3=Object.freeze({__proto__:null,focus:F3,blur:(n,s)=>{s.ignore||rh(n.element)},isFocused:n=>cp(n.element)}),$3=Object.freeze({__proto__:null,exhibit:(n,s)=>{const i=s.ignore?{}:{attributes:{tabindex:"-1"}};return us(i)},events:n=>zo([je(md(),(s,i)=>{F3(s,n),i.stop()})].concat(n.stopMousedown?[je(Ke(),(s,i)=>{i.event.prevent()})]:[]))}),V3=[Sn("onFocus"),Ae("stopMousedown",!1),Ae("ignore",!1)];const wo=ua({fields:V3,name:"focusing",active:$3,apis:H3}),G1=(n,s,i,l)=>{const u=i.get();i.set(l),((f,p,b)=>{p.toggleClass.each(y=>{b.get()?bt(f.element,y):Kt(f.element,y)})})(n,s,i),((f,p,b)=>{const y=p.aria;y.update(f,y,b.get())})(n,s,i),u!==l&&s.onToggled(n,l)},Cd=(n,s,i)=>{G1(n,s,i,!i.get())},Rh=(n,s,i)=>{G1(n,s,i,s.selected)};var j3=Object.freeze({__proto__:null,onLoad:Rh,toggle:Cd,isOn:(n,s,i)=>i.get(),on:(n,s,i)=>{G1(n,s,i,!0)},off:(n,s,i)=>{G1(n,s,i,!1)},set:G1}),sy=Object.freeze({__proto__:null,exhibit:()=>us({}),events:(n,s)=>{const i=(l=n,u=s,f=Cd,Wl(b=>{f(b,l,u)}));var l,u,f;const p=xu(n,s,Rh);return zo(Hn([n.toggleOnExecute?[i]:[],[p]]))}});const Kl=(n,s,i)=>{lo(n.element,"aria-expanded",i)};var Qc=[Ae("selected",!1),sn("toggleClass"),Ae("toggleOnExecute",!0),Sn("onToggled"),li("aria",{mode:"none"},zs("mode",{pressed:[Ae("syncWithExpanded",!1),Ar("update",(n,s,i)=>{lo(n.element,"aria-pressed",i),s.syncWithExpanded&&Kl(n,0,i)})],checked:[Ar("update",(n,s,i)=>{lo(n.element,"aria-checked",i)})],expanded:[Ar("update",Kl)],selected:[Ar("update",(n,s,i)=>{lo(n.element,"aria-selected",i)})],none:[Ar("update",at)]}))];const yo=ua({fields:Qc,name:"toggling",active:sy,apis:j3,state:{init:()=>{const n=Ut(!1);return{get:()=>n.get(),set:s=>n.set(s),clear:()=>n.set(!1),readState:()=>n.get()}}}}),Kd=()=>{const n=(s,i)=>{i.stop(),jd(s)};return[je(qs(),n),je(Vc(),n),yu(N()),yu(Ke())]},ay=n=>zo(Hn([n.map(s=>Wl((i,l)=>{s(i),l.stop()})).toArray(),Kd()])),Sd="alloy.item-hover",lg="alloy.item-focus",U3="alloy.item-toggled",Z3=n=>{(Is(n.element).isNone()||wo.isFocused(n))&&(wo.isFocused(n)||wo.focus(n),qt(n,Sd,{item:n}))},W3=n=>{qt(n,lg,{item:n})},y_=ce(Sd),q3=ce(lg),cx=ce(U3),G3=n=>n.role.fold(()=>n.toggling.map(s=>s.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),Tt),xR=[Ge("data"),Ge("components"),Ge("dom"),Ae("hasSubmenu",!1),sn("toggling"),sn("role"),So("itemBehaviours",[yo,wo,Jt,De]),Ae("ignoreFocus",!1),Ae("domModification",{}),Ar("builder",n=>({dom:n.dom,domModification:{...n.domModification,attributes:{role:G3(n),...n.domModification.attributes,"aria-haspopup":n.hasSubmenu,...n.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:ho(n.itemBehaviours,[n.toggling.fold(yo.revoke,s=>yo.config(((i,l)=>({aria:{mode:l?"selected":"checked"},...Vn(i,(u,f)=>f!=="exclusive"),onToggled:(u,f)=>{eo(i.onToggled)&&i.onToggled(u,f),((p,b)=>{qt(p,U3,{item:p,state:b})})(u,f)}}))(s,n.role.exists(i=>i==="option")))),wo.config({ignore:n.ignoreFocus,stopMousedown:n.ignoreFocus,onFocus:s=>{W3(s)}}),Jt.config({mode:"execution"}),De.config({store:{mode:"memory",initialValue:n.data}}),Zo("item-type-events",[...Kd(),je(Wt(),Z3),je(Vf(),wo.focus)])]),components:n.components,eventOrder:n.eventOrder})),Ae("eventOrder",{})],kR=[Ge("dom"),Ge("components"),Ar("builder",n=>({dom:n.dom,components:n.components,events:zo([xb(Vf())])}))],v_=ce("item-widget"),x_=ce([hl({name:"widget",overrides:n=>({behaviours:ft([De.config({store:{mode:"manual",getValue:s=>n.data,setValue:at}})])})})]),K3=[Ge("uid"),Ge("data"),Ge("components"),Ge("dom"),Ae("autofocus",!1),Ae("ignoreFocus",!1),So("widgetBehaviours",[De,wo,Jt]),Ae("domModification",{}),Gw(x_()),Ar("builder",n=>{const s=Uw(v_(),n,x_()),i=Zw(v_(),n,s.internals()),l=f=>Tr(f,n,"widget").map(p=>(Jt.focusIn(p),p)),u=(f,p)=>(ey(p.event.target)||n.autofocus&&p.setSource(f.element),T.none());return{dom:n.dom,components:i,domModification:n.domModification,events:zo([Wl((f,p)=>{l(f).each(b=>{p.stop()})}),je(Wt(),Z3),je(Vf(),(f,p)=>{n.autofocus?l(f):wo.focus(f)})]),behaviours:ho(n.widgetBehaviours,[De.config({store:{mode:"memory",initialValue:n.data}}),wo.config({ignore:n.ignoreFocus,onFocus:f=>{W3(f)}}),Jt.config({mode:"special",focusIn:n.autofocus?f=>{l(f)}:z(),onLeft:u,onRight:u,onEscape:(f,p)=>wo.isFocused(f)||n.autofocus?(n.autofocus&&p.setSource(f.element),T.none()):(wo.focus(f),T.some(!0))})])}})],Y3=zs("type",{widget:K3,item:xR,separator:kR}),k_=ce([Kv({factory:{sketch:n=>{const s=wa("menu.spec item",Y3,n);return s.builder(s)}},name:"items",unit:"item",defaults:(n,s)=>no(s,"uid")?s:{...s,uid:qc("item")},overrides:(n,s)=>({type:s.type,ignoreFocus:n.fakeFocus,domModification:{classes:[n.markers.item]}})})]),X3=ce([Gr("role"),Ge("value"),Ge("items"),Ge("dom"),Ge("components"),Ae("eventOrder",{}),It("menuBehaviours",[tr,De,On,Jt]),li("movement",{mode:"menu",moveOnTab:!0},zs("mode",{grid:[Dv(),Ar("config",(n,s)=>({mode:"flatgrid",selector:"."+n.markers.item,initSize:{numColumns:s.initSize.numColumns,numRows:s.initSize.numRows},focusManager:n.focusManager}))],matrix:[Ar("config",(n,s)=>({mode:"matrix",selectors:{row:s.rowSelector,cell:"."+n.markers.item},previousSelector:s.previousSelector,focusManager:n.focusManager})),Ge("rowSelector"),Ae("previousSelector",T.none)],menu:[Ae("moveOnTab",!0),Ar("config",(n,s)=>({mode:"menu",selector:"."+n.markers.item,moveOnTab:s.moveOnTab,focusManager:n.focusManager}))]})),ca("markers",Jm()),Ae("fakeFocus",!1),Ae("focusManager",Qw()),Sn("onHighlight"),Sn("onDehighlight"),Ae("showMenuRole",!0)]),J3=ce("alloy.menu-focus"),Nh=Dl({name:"Menu",configFields:X3(),partFields:k_(),factory:(n,s,i,l)=>({uid:n.uid,dom:n.dom,markers:n.markers,behaviours:$o(n.menuBehaviours,[tr.config({highlightClass:n.markers.selectedItem,itemClass:n.markers.item,onHighlight:n.onHighlight,onDehighlight:n.onDehighlight}),De.config({store:{mode:"memory",initialValue:n.value}}),On.config({find:T.some}),Jt.config(n.movement.config(n,n.movement))]),events:zo([je(q3(),(u,f)=>{const p=f.event;u.getSystem().getByDom(p.target).each(b=>{tr.highlight(u,b),f.stop(),qt(u,J3(),{menu:u,item:b})})}),je(y_(),(u,f)=>{const p=f.event.item;tr.highlight(u,p)}),je(cx(),(u,f)=>{const{item:p,state:b}=f.event;b&&gs(p.element,"role")==="menuitemradio"&&((y,w)=>{const E=Ea(y.element,'[role="menuitemradio"][aria-checked="true"]');Dt(E,C=>{wn(C,w.element)||y.getSystem().getByDom(C).each(O=>{yo.off(O)})})})(u,p)})]),components:s,eventOrder:n.eventOrder,...n.showMenuRole?{domModification:{attributes:{role:n.role.getOr("menu")}}}:{}})}),Q3=(n,s,i,l)=>dt(i,l).bind(u=>dt(n,u).bind(f=>{const p=Q3(n,s,i,f);return T.some([f].concat(p))})).getOr([]),eE=n=>n.type==="prepared"?T.some(n.menu):T.none(),wR=()=>{const n=Ut({}),s=Ut({}),i=Ut({}),l=Cn(),u=Ut({}),f=y=>p(y).bind(eE),p=y=>dt(s.get(),y),b=y=>dt(n.get(),y);return{setMenuBuilt:(y,w)=>{s.set({...s.get(),[y]:{type:"prepared",menu:w}})},setContents:(y,w,E,C)=>{l.set(y),n.set(E),s.set(w),u.set(C);const O=((B,P)=>{const Z={};or(B,(W,J)=>{Dt(W,ne=>{Z[ne]=J})});const K=P,oe=vn(P,(W,J)=>({k:W,v:J})),q=$n(oe,(W,J)=>[J].concat(Q3(Z,K,oe,J)));return $n(Z,W=>dt(q,W).getOr([W]))})(C,E);i.set(O)},expand:y=>dt(n.get(),y).map(w=>{const E=dt(i.get(),y).getOr([]);return[w].concat(E)}),refresh:y=>dt(i.get(),y),collapse:y=>dt(i.get(),y).bind(w=>w.length>1?T.some(w.slice(1)):T.none()),lookupMenu:p,lookupItem:b,otherMenus:y=>{const w=u.get();return on(qo(w),y)},getPrimary:()=>l.get().bind(f),getMenus:()=>s.get(),clear:()=>{n.set({}),s.set({}),i.set({}),l.clear()},isClear:()=>l.get().isNone(),getTriggeringPath:(y,w)=>{const E=Nn(b(y).toArray(),C=>f(C).isSome());return dt(i.get(),y).bind(C=>{const O=kl(E.concat(C));return(B=>{const P=[];for(let Z=0;Z<B.length;Z++){const K=B[Z];if(!K.isSome())return T.none();P.push(K.getOrDie())}return T.some(P)})(kn(O,(B,P)=>((Z,K,oe)=>f(Z).bind(q=>(W=>Qo(n.get(),(J,ne)=>J===W))(Z).bind(W=>K(W).map(J=>({triggeredMenu:q,triggeringItem:J,triggeringPath:oe})))))(B,w,O.slice(0,P+1)).fold(()=>Rs(l.get(),B)?[]:[T.none()],Z=>[T.some(Z)])))})}}},_R=eE,Ed=Bt("tiered-menu-item-highlight"),CR=Bt("tiered-menu-item-dehighlight");var nl;(function(n){n[n.HighlightMenuAndItem=0]="HighlightMenuAndItem",n[n.HighlightJustMenu=1]="HighlightJustMenu",n[n.HighlightNone=2]="HighlightNone"})(nl||(nl={}));const Mh=ce("collapse-item"),bp=_d({name:"TieredMenu",configFields:[Ai("onExecute"),Ai("onEscape"),Zd("onOpenMenu"),Zd("onOpenSubmenu"),Sn("onRepositionMenu"),Sn("onCollapseMenu"),Ae("highlightOnOpen",nl.HighlightMenuAndItem),Hl("data",[Ge("primary"),Ge("menus"),Ge("expansions")]),Ae("fakeFocus",!1),Sn("onHighlightItem"),Sn("onDehighlightItem"),Sn("onHover"),Qm(),Ge("dom"),Ae("navigateOnHover",!0),Ae("stayInDom",!1),It("tmenuBehaviours",[Jt,tr,On,fo]),Ae("eventOrder",{})],apis:{collapseMenu:(n,s)=>{n.collapseMenu(s)},highlightPrimary:(n,s)=>{n.highlightPrimary(s)},repositionMenus:(n,s)=>{n.repositionMenus(s)}},factory:(n,s)=>{const i=Cn(),l=wR(),u=W=>De.getValue(W).value,f=W=>$n(n.data.menus,(J,ne)=>kn(J.items,se=>se.type==="separator"?[]:[se.data.value])),p=tr.highlight,b=(W,J)=>{p(W,J),tr.getHighlighted(J).orThunk(()=>tr.getFirst(J)).each(ne=>{n.fakeFocus?tr.highlight(J,ne):Zr(W,ne.element,Vf())})},y=(W,J)=>$a(nt(J,ne=>W.lookupMenu(ne).bind(se=>se.type==="prepared"?T.some(se.menu):T.none()))),w=(W,J,ne)=>{const se=y(J,J.otherMenus(ne));Dt(se,be=>{qn(be.element,[n.markers.backgroundMenu]),n.stayInDom||fo.remove(W,be)})},E=(W,J)=>{const ne=(se=>i.get().getOrThunk(()=>{const be={},Ee=Ea(se.element,`.${n.markers.item}`),qe=Nn(Ee,Ue=>gs(Ue,"aria-haspopup")==="true");return Dt(qe,Ue=>{se.getSystem().getByDom(Ue).each(Fe=>{const gt=u(Fe);be[gt]=Fe})}),i.set(be),be}))(W);or(ne,(se,be)=>{const Ee=we(J,be);lo(se.element,"aria-expanded",Ee)})},C=(W,J,ne)=>T.from(ne[0]).bind(se=>J.lookupMenu(se).bind(be=>{if(be.type==="notbuilt")return T.none();{const Ee=be.menu,qe=y(J,ne.slice(1));return Dt(qe,Ue=>{bt(Ue.element,n.markers.backgroundMenu)}),Us(Ee.element)||fo.append(W,Qi(Ee)),qn(Ee.element,[n.markers.backgroundMenu]),b(W,Ee),w(W,J,ne),T.some(Ee)}}));let O;(function(W){W[W.HighlightSubmenu=0]="HighlightSubmenu",W[W.HighlightParent=1]="HighlightParent"})(O||(O={}));const B=(W,J,ne=O.HighlightSubmenu)=>{if(J.hasConfigured(Eo)&&Eo.isDisabled(J))return T.some(J);{const se=u(J);return l.expand(se).bind(be=>(E(W,be),T.from(be[0]).bind(Ee=>l.lookupMenu(Ee).bind(qe=>{const Ue=((Fe,gt,Rt)=>{if(Rt.type==="notbuilt"){const Zt=Fe.getSystem().build(Rt.nbMenu());return l.setMenuBuilt(gt,Zt),Zt}return Rt.menu})(W,Ee,qe);return Us(Ue.element)||fo.append(W,Qi(Ue)),n.onOpenSubmenu(W,J,Ue,kl(be)),ne===O.HighlightSubmenu?(tr.highlightFirst(Ue),C(W,l,be)):(tr.dehighlightAll(Ue),T.some(J))}))))}},P=(W,J)=>{const ne=u(J);return l.collapse(ne).bind(se=>(E(W,se),C(W,l,se).map(be=>(n.onCollapseMenu(W,J,be),be))))},Z=W=>(J,ne)=>Wd(ne.getSource(),`.${n.markers.item}`).bind(se=>J.getSystem().getByDom(se).toOptional().bind(be=>W(J,be).map(Pt))),K=zo([je(J3(),(W,J)=>{const ne=J.event.item;l.lookupItem(u(ne)).each(()=>{const se=J.event.menu;tr.highlight(W,se);const be=u(J.event.item);l.refresh(be).each(Ee=>w(W,l,Ee))})}),Wl((W,J)=>{const ne=J.event.target;W.getSystem().getByDom(ne).each(se=>{u(se).indexOf("collapse-item")===0&&P(W,se),B(W,se,O.HighlightSubmenu).fold(()=>{n.onExecute(W,se)},at)})}),Er((W,J)=>{(ne=>{const se=((Ee,qe,Ue)=>$n(Ue,(Fe,gt)=>{const Rt=()=>Nh.sketch({...Fe,value:gt,markers:n.markers,fakeFocus:n.fakeFocus,onHighlight:(Zt,ro)=>{qt(Zt,Ed,{menuComp:Zt,itemComp:ro})},onDehighlight:(Zt,ro)=>{qt(Zt,CR,{menuComp:Zt,itemComp:ro})},focusManager:n.fakeFocus?rR():Qw()});return gt===qe?{type:"prepared",menu:Ee.getSystem().build(Rt())}:{type:"notbuilt",nbMenu:Rt}}))(ne,n.data.primary,n.data.menus),be=f();return l.setContents(n.data.primary,se,n.data.expansions,be),l.getPrimary()})(W).each(ne=>{fo.append(W,Qi(ne)),n.onOpenMenu(W,ne),n.highlightOnOpen===nl.HighlightMenuAndItem?b(W,ne):n.highlightOnOpen===nl.HighlightJustMenu&&p(W,ne)})}),je(Ed,(W,J)=>{n.onHighlightItem(W,J.event.menuComp,J.event.itemComp)}),je(CR,(W,J)=>{n.onDehighlightItem(W,J.event.menuComp,J.event.itemComp)}),...n.navigateOnHover?[je(y_(),(W,J)=>{const ne=J.event.item;((se,be)=>{const Ee=u(be);l.refresh(Ee).bind(qe=>(E(se,qe),C(se,l,qe)))})(W,ne),B(W,ne,O.HighlightParent),n.onHover(W,ne)})]:[]]),oe=W=>tr.getHighlighted(W).bind(tr.getHighlighted),q={collapseMenu:W=>{oe(W).each(J=>{P(W,J)})},highlightPrimary:W=>{l.getPrimary().each(J=>{b(W,J)})},repositionMenus:W=>{l.getPrimary().bind(ne=>oe(W).bind(se=>{const be=u(se),Ee=$s(l.getMenus()),qe=$a(nt(Ee,_R));return l.getTriggeringPath(be,Ue=>((Fe,gt,Rt)=>uo(gt,Zt=>{if(!Zt.getSystem().isConnected())return T.none();const ro=tr.getCandidates(Zt);return H(ro,Ao=>u(Ao)===Rt)}))(0,qe,Ue))}).map(se=>({primary:ne,triggeringPath:se}))).fold(()=>{(ne=>T.from(ne.components()[0]).filter(se=>gs(se.element,"role")==="menu"))(W).each(ne=>{n.onRepositionMenu(W,ne,[])})},({primary:ne,triggeringPath:se})=>{n.onRepositionMenu(W,ne,se)})}};return{uid:n.uid,dom:n.dom,markers:n.markers,behaviours:$o(n.tmenuBehaviours,[Jt.config({mode:"special",onRight:Z((W,J)=>ey(J.element)?T.none():B(W,J,O.HighlightSubmenu)),onLeft:Z((W,J)=>ey(J.element)?T.none():P(W,J)),onEscape:Z((W,J)=>P(W,J).orThunk(()=>n.onEscape(W,J).map(()=>W))),focusIn:(W,J)=>{l.getPrimary().each(ne=>{Zr(W,ne.element,Vf())})}}),tr.config({highlightClass:n.markers.selectedMenu,itemClass:n.markers.menu}),On.config({find:W=>tr.getHighlighted(W)}),fo.config({})]),eventOrder:n.eventOrder,apis:q,events:K}},extraApis:{tieredData:(n,s,i)=>({primary:n,menus:s,expansions:i}),singleData:(n,s)=>({primary:n,menus:Si(n,s),expansions:{}}),collapseItem:n=>({value:Bt(Mh()),meta:{text:n}})}}),ss=_d({name:"InlineView",configFields:[Ge("lazySink"),Sn("onShow"),Sn("onHide"),uc("onEscape"),It("inlineBehaviours",[x,De,pl]),Kr("fireDismissalEventInstead",[Ae("event",Xu())]),Kr("fireRepositionEventInstead",[Ae("event",$d())]),Ae("getRelated",T.none),Ae("isExtraPart",$e),Ae("eventOrder",T.none)],factory:(n,s)=>{const i=(p,b,y,w)=>{const E=n.lazySink(p).getOrDie();x.openWhileCloaked(p,b,()=>mi.positionWithinBounds(E,p,y,w())),De.setValue(p,T.some({mode:"position",config:y,getBounds:w}))},l=(p,b,y,w)=>{const E=((C,O,B,P,Z)=>{const K=()=>C.lazySink(O),oe=P.type==="horizontal"?{layouts:{onLtr:()=>Ib(),onRtl:()=>Pb()}}:{},q=W=>(J=>J.length===2)(W)?oe:{};return bp.sketch({dom:{tag:"div"},data:P.data,markers:P.menu.markers,highlightOnOpen:P.menu.highlightOnOpen,fakeFocus:P.menu.fakeFocus,onEscape:()=>(x.close(O),C.onEscape.map(W=>W(O)),T.some(!0)),onExecute:()=>T.some(!0),onOpenMenu:(W,J)=>{mi.positionWithinBounds(K().getOrDie(),J,B,Z())},onOpenSubmenu:(W,J,ne,se)=>{const be=K().getOrDie();mi.position(be,ne,{anchor:{type:"submenu",item:J,...q(se)}})},onRepositionMenu:(W,J,ne)=>{const se=K().getOrDie();mi.positionWithinBounds(se,J,B,Z()),Dt(ne,be=>{const Ee=q(be.triggeringPath);mi.position(se,be.triggeredMenu,{anchor:{type:"submenu",item:be.triggeringItem,...Ee}})})}})})(n,p,b,y,w);x.open(p,E),De.setValue(p,T.some({mode:"menu",menu:E}))},u=p=>{x.isOpen(p)&&De.getValue(p).each(b=>{switch(b.mode){case"menu":x.getState(p).each(bp.repositionMenus);break;case"position":const y=n.lazySink(p).getOrDie();mi.positionWithinBounds(y,p,b.config,b.getBounds())}})},f={setContent:(p,b)=>{x.setContent(p,b)},showAt:(p,b,y)=>{const w=T.none;i(p,b,y,w)},showWithinBounds:i,showMenuAt:(p,b,y)=>{l(p,b,y,T.none)},showMenuWithinBounds:l,hide:p=>{x.isOpen(p)&&(De.setValue(p,T.none()),x.close(p))},getContent:p=>x.getState(p),reposition:u,isOpen:x.isOpen};return{uid:n.uid,dom:n.dom,behaviours:$o(n.inlineBehaviours,[x.config({isPartOf:(p,b,y)=>ml(b,y)||((w,E)=>n.getRelated(w).exists(C=>ml(C,E)))(p,y),getAttachPoint:p=>n.lazySink(p).getOrDie(),onOpen:p=>{n.onShow(p)},onClose:p=>{n.onHide(p)}}),De.config({store:{mode:"memory",initialValue:T.none()}}),pl.config({channels:{...U({isExtraPart:s.isExtraPart,...n.fireDismissalEventInstead.map(p=>({fireEventInstead:{event:p.event}})).getOr({})}),...ue({...n.fireRepositionEventInstead.map(p=>({fireEventInstead:{event:p.event}})).getOr({}),doReposition:u})}})]),eventOrder:n.eventOrder,apis:f}},apis:{showAt:(n,s,i,l)=>{n.showAt(s,i,l)},showWithinBounds:(n,s,i,l,u)=>{n.showWithinBounds(s,i,l,u)},showMenuAt:(n,s,i,l)=>{n.showMenuAt(s,i,l)},showMenuWithinBounds:(n,s,i,l,u)=>{n.showMenuWithinBounds(s,i,l,u)},hide:(n,s)=>{n.hide(s)},isOpen:(n,s)=>n.isOpen(s),getContent:(n,s)=>n.getContent(s),setContent:(n,s,i)=>{n.setContent(s,i)},reposition:(n,s)=>{n.reposition(s)}}});var Yd,K1,dx=tinymce.util.Tools.resolve("tinymce.util.Delay"),iy=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),tE=tinymce.util.Tools.resolve("tinymce.EditorManager"),xf=tinymce.util.Tools.resolve("tinymce.Env");(function(n){n.default="wrap",n.floating="floating",n.sliding="sliding",n.scrolling="scrolling"})(Yd||(Yd={})),function(n){n.auto="auto",n.top="top",n.bottom="bottom"}(K1||(K1={}));const dr=n=>s=>s.options.get(n),Y1=n=>s=>T.from(n(s)),oE=n=>{const s=xf.deviceType.isPhone(),i=xf.deviceType.isTablet()||s,l=n.options.register,u=p=>Do(p)||p===!1,f=p=>Do(p)||Yo(p);l("skin",{processor:p=>Do(p)||p===!1,default:"oxide"}),l("skin_url",{processor:"string"}),l("height",{processor:f,default:Math.max(n.getElement().offsetHeight,400)}),l("width",{processor:f,default:iy.DOM.getStyle(n.getElement(),"width")}),l("min_height",{processor:"number",default:100}),l("min_width",{processor:"number"}),l("max_height",{processor:"number"}),l("max_width",{processor:"number"}),l("style_formats",{processor:"object[]"}),l("style_formats_merge",{processor:"boolean",default:!1}),l("style_formats_autohide",{processor:"boolean",default:!1}),l("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),l("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),l("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),l("font_size_input_default_unit",{processor:"string",default:"pt"}),l("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),l("content_langs",{processor:"object[]"}),l("removed_menuitems",{processor:"string",default:""}),l("menubar",{processor:p=>Do(p)||tn(p),default:!s}),l("menu",{processor:"object",default:{}}),l("toolbar",{processor:p=>tn(p)||Do(p)||Ko(p)?{value:p,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),dn(9,p=>{l("toolbar"+(p+1),{processor:"string"})}),l("toolbar_mode",{processor:"string",default:i?"scrolling":"floating"}),l("toolbar_groups",{processor:"object",default:{}}),l("toolbar_location",{processor:"string",default:K1.auto}),l("toolbar_persist",{processor:"boolean",default:!1}),l("toolbar_sticky",{processor:"boolean",default:n.inline}),l("toolbar_sticky_offset",{processor:"number",default:0}),l("fixed_toolbar_container",{processor:"string",default:""}),l("fixed_toolbar_container_target",{processor:"object"}),l("ui_mode",{processor:"string",default:"combined"}),l("file_picker_callback",{processor:"function"}),l("file_picker_validator_handler",{processor:"function"}),l("file_picker_types",{processor:"string"}),l("typeahead_urls",{processor:"boolean",default:!0}),l("anchor_top",{processor:u,default:"#top"}),l("anchor_bottom",{processor:u,default:"#bottom"}),l("draggable_modal",{processor:"boolean",default:!1}),l("statusbar",{processor:"boolean",default:!0}),l("elementpath",{processor:"boolean",default:!0}),l("branding",{processor:"boolean",default:!0}),l("promotion",{processor:"boolean",default:!0}),l("resize",{processor:p=>p==="both"||tn(p),default:!xf.deviceType.isTouch()}),l("sidebar_show",{processor:"string"}),l("help_accessibility",{processor:"boolean",default:n.hasPlugin("help")}),l("default_font_stack",{processor:"string[]",default:[]})},w_=dr("readonly"),X1=dr("height"),J1=dr("width"),Q1=Y1(dr("min_width")),ly=Y1(dr("min_height")),cy=Y1(dr("max_width")),ux=Y1(dr("max_height")),dy=Y1(dr("style_formats")),fx=dr("style_formats_merge"),nE=dr("style_formats_autohide"),__=dr("content_langs"),rE=dr("removed_menuitems"),Bh=dr("toolbar_mode"),mx=dr("toolbar_groups"),cg=dr("toolbar_location"),C_=dr("fixed_toolbar_container"),SR=dr("fixed_toolbar_container_target"),sE=dr("toolbar_persist"),S_=dr("toolbar_sticky_offset"),yp=dr("menubar"),uy=dr("toolbar"),px=dr("file_picker_callback"),e0=dr("file_picker_validator_handler"),E_=dr("font_size_input_default_unit"),t0=dr("file_picker_types"),gx=dr("typeahead_urls"),aE=dr("anchor_top"),iE=dr("anchor_bottom"),kf=dr("draggable_modal"),lE=dr("statusbar"),cE=dr("elementpath"),ed=dr("branding"),pi=dr("resize"),dE=dr("paste_as_text"),hx=dr("sidebar_show"),uE=dr("promotion"),A_=dr("help_accessibility"),bx=dr("default_font_stack"),dg=n=>n.options.get("skin")===!1,o0=n=>n.options.get("menubar")!==!1,yx=n=>{const s=n.options.get("skin_url");if(dg(n))return s;if(s)return n.documentBaseURI.toAbsolute(s);{const i=n.options.get("skin");return tE.baseURL+"/skins/ui/"+i}},vx=n=>T.from(n.options.get("skin_url")),fE=n=>n.options.get("line_height_formats").split(" "),n0=n=>{const s=uy(n),i=Do(s),l=Ko(s)&&s.length>0;return!r0(n)&&(l||i||s===!0)},xx=n=>{const s=dn(9,l=>n.options.get("toolbar"+(l+1))),i=Nn(s,Do);return Bo(i.length>0,i)},r0=n=>xx(n).fold(()=>{const s=uy(n);return ar(s,Do)&&s.length>0},Pt),z_=n=>cg(n)===K1.bottom,T_=n=>{var s;if(!n.inline)return T.none();const i=(s=C_(n))!==null&&s!==void 0?s:"";if(i.length>0)return es(ya(),i);const l=SR(n);return Lt(l)?T.some(Et(l)):T.none()},Ih=n=>n.inline&&T_(n).isSome(),kx=n=>T_(n).getOrThunk(()=>pn(Mr(Et(n.getElement())))),wx=n=>n.inline&&!o0(n)&&!n0(n)&&!r0(n),vp=n=>(n.options.get("toolbar_sticky")||n.inline)&&!Ih(n)&&!wx(n),xp=n=>!Ih(n)&&n.options.get("ui_mode")==="split",ug=n=>{const s=n.options.get("menu");return $n(s,i=>({...i,items:i.items}))};var s0=Object.freeze({__proto__:null,get ToolbarMode(){return Yd},get ToolbarLocation(){return K1},register:oE,getSkinUrl:yx,getSkinUrlOption:vx,isReadOnly:w_,isSkinDisabled:dg,getHeightOption:X1,getWidthOption:J1,getMinWidthOption:Q1,getMinHeightOption:ly,getMaxWidthOption:cy,getMaxHeightOption:ux,getUserStyleFormats:dy,shouldMergeStyleFormats:fx,shouldAutoHideStyleFormats:nE,getLineHeightFormats:fE,getContentLanguages:__,getRemovedMenuItems:rE,isMenubarEnabled:o0,isMultipleToolbars:r0,isToolbarEnabled:n0,isToolbarPersist:sE,getMultipleToolbarsOption:xx,getUiContainer:kx,useFixedContainer:Ih,isSplitUiMode:xp,getToolbarMode:Bh,isDraggableModal:kf,isDistractionFree:wx,isStickyToolbar:vp,getStickyToolbarOffset:S_,getToolbarLocation:cg,isToolbarLocationBottom:z_,getToolbarGroups:mx,getMenus:ug,getMenubar:yp,getToolbar:uy,getFilePickerCallback:px,getFilePickerTypes:t0,useTypeaheadUrls:gx,getAnchorTop:aE,getAnchorBottom:iE,getFilePickerValidatorHandler:e0,getFontSizeInputDefaultUnit:E_,useStatusBar:lE,useElementPath:cE,promotionEnabled:uE,useBranding:ed,getResize:pi,getPasteAsText:dE,getSidebarShow:hx,useHelpAccessibility:A_,getDefaultFontStack:bx});const ER=["visible","hidden","clip"],mE=n=>ti(n).length>0&&!we(ER,n),pE=n=>{if(ja(n)){const s=yr(n,"overflow-x"),i=yr(n,"overflow-y");return mE(s)||mE(i)}return!1},fg=(n,s)=>xp(n)?((i,l)=>{const u=tg(l,pE),f=u.length===0?xi(l).map(Es).map(p=>tg(p,pE)).getOr([]):u;return rt(f).map(p=>({element:p,others:f.slice(1),isFullscreen:()=>(b=>b.plugins.fullscreen&&b.plugins.fullscreen.isFullscreen())(i)}))})(n,s):T.none(),mg=n=>{const s=[...nt(n.others,As),Qs()];return n.isFullscreen()?Qs():((i,l)=>Co(l,(u,f)=>ac(u,f),i))(As(n.element),s)},Vi=_d({name:"Button",factory:n=>{const s=ay(n.action),i=n.dom.tag,l=u=>dt(n.dom,"attributes").bind(f=>dt(f,u));return{uid:n.uid,dom:n.dom,components:n.components,events:s,behaviours:ho(n.buttonBehaviours,[wo.config({}),Jt.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:i==="button"?{type:l("type").getOr("button"),...l("role").map(u=>({role:u})).getOr({})}:{role:n.role.getOr(l("role").getOr("button"))}},eventOrder:n.eventOrder}},configFields:[Ae("uid",void 0),Ge("dom"),Ae("components",[]),So("buttonBehaviours",[wo,Jt]),sn("action"),sn("role"),Ae("eventOrder",{})]}),hm=n=>{const s=ha(n),i=Bn(s),l=(p=>{const b=p.dom.attributes!==void 0?p.dom.attributes:[];return Co(b,(y,w)=>w.name==="class"?y:{...y,[w.name]:w.value},{})})(s),u=(p=>Array.prototype.slice.call(p.dom.classList,0))(s),f=i.length===0?{}:{innerHtml:Cu(s)};return{tag:ba(s),classes:u,attributes:l,...f}},Jn=n=>{const s=(i=>i.uid!==void 0)(n)&&Vo(n,"uid")?n.uid:qc("memento");return{get:i=>i.getSystem().getByUid(s).getOrDie(),getOpt:i=>i.getSystem().getByUid(s).toOptional(),asSpec:()=>({...n,uid:s})}};var AR=Object.freeze({__proto__:null,exhibit:(n,s)=>us({attributes:dl([{key:s.tabAttr,value:"true"}])})}),gE=[Ae("tabAttr","data-alloy-tabstop")];const wr=ua({fields:gE,name:"tabstopping",active:AR}),O_=Bt("tooltip.exclusive"),a0=Bt("tooltip.show"),i0=Bt("tooltip.hide"),l0=Bt("tooltip.immediateHide"),c0=Bt("tooltip.immediateShow"),hE=(n,s,i)=>{n.getSystem().broadcastOn([O_],{})};var zR=Object.freeze({__proto__:null,hideAllExclusive:hE,immediateOpenClose:(n,s,i,l)=>Uo(n,l?c0:l0),isEnabled:(n,s,i)=>i.isEnabled(),setComponents:(n,s,i,l)=>{i.getTooltip().each(u=>{u.getSystem().isConnected()&&fo.set(u,l)})},setEnabled:(n,s,i,l)=>i.setEnabled(l)}),TR=Object.freeze({__proto__:null,events:(n,s)=>{const i=f=>{s.getTooltip().each(p=>{p.getSystem().isConnected()&&(tl(p),n.onHide(f,p),s.clearTooltip())}),s.clearTimer()},l=f=>{if(!s.isShowing()&&s.isEnabled()){hE(f);const p=n.lazySink(f).getOrDie(),b=f.getSystem().build({dom:n.tooltipDom,components:n.tooltipComponents,events:zo(n.mode==="normal"?[je(Wt(),y=>{Uo(f,a0)}),je(Ro(),y=>{Uo(f,i0)})]:[]),behaviours:ft([fo.config({})])});s.setTooltip(b),gf(p,b),n.onShow(f,b),mi.position(p,b,{anchor:n.anchor(f)})}},u=f=>{s.getTooltip().each(p=>{const b=n.lazySink(f).getOrDie();mi.position(b,p,{anchor:n.anchor(f)})})};return zo(Hn([[Wp(f=>{n.onSetup(f)}),je(a0,f=>{s.resetTimer(()=>{l(f)},n.delayForShow())}),je(i0,f=>{s.resetTimer(()=>{i(f)},n.delayForHide())}),je(c0,f=>{s.resetTimer(()=>{l(f)},0)}),je(l0,f=>{s.resetTimer(()=>{i(f)},0)}),je(Ji(),(f,p)=>{const b=p;b.universal||we(b.channels,O_)&&i(f)}),jc(f=>{i(f)})],(()=>{switch(n.mode){case"normal":return[je(Fn(),f=>{Uo(f,c0)}),je(Hf(),f=>{Uo(f,l0)}),je(Wt(),f=>{Uo(f,a0)}),je(Ro(),f=>{Uo(f,i0)})];case"follow-highlight":return[je(Up(),(f,p)=>{Uo(f,a0)}),je(Vd(),f=>{Uo(f,i0)})];case"children-normal":return[je(Fn(),(f,p)=>{Is(f.element).each(b=>{Ua(p.event.target,"[data-mce-tooltip]")&&s.getTooltip().fold(()=>{Uo(f,c0)},y=>{s.isShowing()&&(n.onShow(f,y),u(f))})})}),je(Hf(),f=>{Is(f.element).fold(()=>{Uo(f,l0)},at)}),je(Wt(),f=>{es(f.element,"[data-mce-tooltip]:hover").each(p=>{s.getTooltip().fold(()=>{Uo(f,a0)},b=>{s.isShowing()&&(n.onShow(f,b),u(f))})})}),je(Ro(),f=>{es(f.element,"[data-mce-tooltip]:hover").fold(()=>{Uo(f,i0)},at)})];default:return[je(Fn(),(f,p)=>{Is(f.element).each(b=>{Ua(p.event.target,"[data-mce-tooltip]")&&s.getTooltip().fold(()=>{Uo(f,c0)},y=>{s.isShowing()&&(n.onShow(f,y),u(f))})})}),je(Hf(),f=>{Is(f.element).fold(()=>{Uo(f,l0)},at)})]}})()]))}}),OR=[Ge("lazySink"),Ge("tooltipDom"),Ae("exclusive",!0),Ae("tooltipComponents",[]),kr("delayForShow",ce(300)),kr("delayForHide",ce(300)),kr("onSetup",at),$l("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),Ae("anchor",n=>({type:"hotspot",hotspot:n,layouts:{onLtr:ce([Bs,fs,xs,Gs,ks,cr]),onRtl:ce([Bs,fs,xs,Gs,ks,cr])},bubble:bc(0,-2,{})})),Sn("onHide"),Sn("onShow")],DR=Object.freeze({__proto__:null,init:()=>{const n=Ut(!0),s=Cn(),i=Cn(),l=()=>{s.on(clearTimeout)},u=ce("not-implemented");return da({getTooltip:i.get,isShowing:i.isSet,setTooltip:i.set,clearTooltip:i.clear,clearTimer:l,resetTimer:(f,p)=>{l(),s.set(setTimeout(f,p))},readState:u,isEnabled:()=>n.get(),setEnabled:f=>n.set(f)})}});const Ys=ua({fields:OR,name:"tooltipping",active:TR,state:DR,apis:zR}),{entries:bE,setPrototypeOf:D_,isFrozen:yE,getPrototypeOf:vE,getOwnPropertyDescriptor:RR}=Object;let{freeze:vc,seal:wf,create:xE}=Object,{apply:R_,construct:N_}=typeof Reflect<"u"&&Reflect;R_||(R_=function(n,s,i){return n.apply(s,i)}),vc||(vc=function(n){return n}),wf||(wf=function(n){return n}),N_||(N_=function(n,s){return new n(...s)});const M_=Mu(Array.prototype.forEach),NR=Mu(Array.prototype.pop),d0=Mu(Array.prototype.push),_x=Mu(String.prototype.toLowerCase),Cx=Mu(String.prototype.toString),MR=Mu(String.prototype.match),Ot=Mu(String.prototype.replace),Ph=Mu(String.prototype.indexOf),BR=Mu(String.prototype.trim),Ad=Mu(RegExp.prototype.test),pg=(Sx=TypeError,function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return N_(Sx,s)});var Sx;function Mu(n){return function(s){for(var i=arguments.length,l=new Array(i>1?i-1:0),u=1;u<i;u++)l[u-1]=arguments[u];return R_(n,s,l)}}function mr(n,s,i){var l;i=(l=i)!==null&&l!==void 0?l:_x,D_&&D_(n,null);let u=s.length;for(;u--;){let f=s[u];if(typeof f=="string"){const p=i(f);p!==f&&(yE(s)||(s[u]=p),f=p)}n[f]=!0}return n}function fy(n){const s=xE(null);for(const[i,l]of bE(n))s[i]=l;return s}function Ex(n,s){for(;n!==null;){const i=RR(n,s);if(i){if(i.get)return Mu(i.get);if(typeof i.value=="function")return Mu(i.value)}n=vE(n)}return function(i){return console.warn("fallback value for",i),null}}const B_=vc(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),u0=vc(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Lh=vc(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),kE=vc(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),I_=vc(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),IR=vc(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),wE=vc(["#text"]),PR=vc(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Ax=vc(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),_E=vc(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),zx=vc(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),LR=wf(/\{\{[\w\W]*|[\w\W]*\}\}/gm),FR=wf(/<%[\w\W]*|[\w\W]*%>/gm),P_=wf(/\${[\w\W]*}/gm),HR=wf(/^data-[\-\w.\u00B7-\uFFFF]/),$R=wf(/^aria-[\-\w]+$/),CE=wf(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),VR=wf(/^(?:\w+script|data):/i),jR=wf(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),bm=wf(/^html$/i);var f0=Object.freeze({__proto__:null,MUSTACHE_EXPR:LR,ERB_EXPR:FR,TMPLIT_EXPR:P_,DATA_ATTR:HR,ARIA_ATTR:$R,IS_ALLOWED_URI:CE,IS_SCRIPT_OR_DATA:VR,ATTR_WHITESPACE:jR,DOCTYPE_NAME:bm});const UR=()=>typeof window>"u"?null:window;var ZR=function n(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:UR();const i=Me=>n(Me);if(i.version="3.0.5",i.removed=[],!s||!s.document||s.document.nodeType!==9)return i.isSupported=!1,i;const l=s.document,u=l.currentScript;let{document:f}=s;const{DocumentFragment:p,HTMLTemplateElement:b,Node:y,Element:w,NodeFilter:E,NamedNodeMap:C=s.NamedNodeMap||s.MozNamedAttrMap,HTMLFormElement:O,DOMParser:B,trustedTypes:P}=s,Z=w.prototype,K=Ex(Z,"cloneNode"),oe=Ex(Z,"nextSibling"),q=Ex(Z,"childNodes"),W=Ex(Z,"parentNode");if(typeof b=="function"){const Me=f.createElement("template");Me.content&&Me.content.ownerDocument&&(f=Me.content.ownerDocument)}let J,ne="";const{implementation:se,createNodeIterator:be,createDocumentFragment:Ee,getElementsByTagName:qe}=f,{importNode:Ue}=l;let Fe={};i.isSupported=typeof bE=="function"&&typeof W=="function"&&se&&se.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:gt,ERB_EXPR:Rt,TMPLIT_EXPR:Zt,DATA_ATTR:ro,ARIA_ATTR:Ao,IS_SCRIPT_OR_DATA:ln,ATTR_WHITESPACE:Lr}=f0;let{IS_ALLOWED_URI:ts}=f0,Wo=null;const En=mr({},[...B_,...u0,...Lh,...I_,...wE]);let co=null;const os=mr({},[...PR,...Ax,..._E,...zx]);let ur=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ji=null,Ui=null,Qa=!0,La=!0,Np=!1,jy=!0,Ig=!1,Mp=!1,vv=!1,Pg=!1,Rm=!1,fb=!1,mb=!1,Uy=!0,mw=!1,xv=!0,Lg=!1,Nm={},Bp=null;const kv=mr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let wv=null;const Un=mr({},["audio","video","img","source","image","track"]);let Mm=null;const Vu=mr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),pb="http://www.w3.org/1998/Math/MathML",pw="http://www.w3.org/2000/svg",Ip="http://www.w3.org/1999/xhtml";let Zy=Ip,O4=!1,gw=null;const XB=mr({},[pb,pw,Ip],Cx);let Wy;const JB=["application/xhtml+xml","text/html"];let vl,gb=null;const QB=f.createElement("form"),XD=function(Me){return Me instanceof RegExp||Me instanceof Function},hw=function(Me){if(!gb||gb!==Me){if(Me&&typeof Me=="object"||(Me={}),Me=fy(Me),Wy=Wy=JB.indexOf(Me.PARSER_MEDIA_TYPE)===-1?"text/html":Me.PARSER_MEDIA_TYPE,vl=Wy==="application/xhtml+xml"?Cx:_x,Wo="ALLOWED_TAGS"in Me?mr({},Me.ALLOWED_TAGS,vl):En,co="ALLOWED_ATTR"in Me?mr({},Me.ALLOWED_ATTR,vl):os,gw="ALLOWED_NAMESPACES"in Me?mr({},Me.ALLOWED_NAMESPACES,Cx):XB,Mm="ADD_URI_SAFE_ATTR"in Me?mr(fy(Vu),Me.ADD_URI_SAFE_ATTR,vl):Vu,wv="ADD_DATA_URI_TAGS"in Me?mr(fy(Un),Me.ADD_DATA_URI_TAGS,vl):Un,Bp="FORBID_CONTENTS"in Me?mr({},Me.FORBID_CONTENTS,vl):kv,ji="FORBID_TAGS"in Me?mr({},Me.FORBID_TAGS,vl):{},Ui="FORBID_ATTR"in Me?mr({},Me.FORBID_ATTR,vl):{},Nm="USE_PROFILES"in Me&&Me.USE_PROFILES,Qa=Me.ALLOW_ARIA_ATTR!==!1,La=Me.ALLOW_DATA_ATTR!==!1,Np=Me.ALLOW_UNKNOWN_PROTOCOLS||!1,jy=Me.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ig=Me.SAFE_FOR_TEMPLATES||!1,Mp=Me.WHOLE_DOCUMENT||!1,Rm=Me.RETURN_DOM||!1,fb=Me.RETURN_DOM_FRAGMENT||!1,mb=Me.RETURN_TRUSTED_TYPE||!1,Pg=Me.FORCE_BODY||!1,Uy=Me.SANITIZE_DOM!==!1,mw=Me.SANITIZE_NAMED_PROPS||!1,xv=Me.KEEP_CONTENT!==!1,Lg=Me.IN_PLACE||!1,ts=Me.ALLOWED_URI_REGEXP||CE,Zy=Me.NAMESPACE||Ip,ur=Me.CUSTOM_ELEMENT_HANDLING||{},Me.CUSTOM_ELEMENT_HANDLING&&XD(Me.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ur.tagNameCheck=Me.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Me.CUSTOM_ELEMENT_HANDLING&&XD(Me.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ur.attributeNameCheck=Me.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Me.CUSTOM_ELEMENT_HANDLING&&typeof Me.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ur.allowCustomizedBuiltInElements=Me.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ig&&(La=!1),fb&&(Rm=!0),Nm&&(Wo=mr({},[...wE]),co=[],Nm.html===!0&&(mr(Wo,B_),mr(co,PR)),Nm.svg===!0&&(mr(Wo,u0),mr(co,Ax),mr(co,zx)),Nm.svgFilters===!0&&(mr(Wo,Lh),mr(co,Ax),mr(co,zx)),Nm.mathMl===!0&&(mr(Wo,I_),mr(co,_E),mr(co,zx))),Me.ADD_TAGS&&(Wo===En&&(Wo=fy(Wo)),mr(Wo,Me.ADD_TAGS,vl)),Me.ADD_ATTR&&(co===os&&(co=fy(co)),mr(co,Me.ADD_ATTR,vl)),Me.ADD_URI_SAFE_ATTR&&mr(Mm,Me.ADD_URI_SAFE_ATTR,vl),Me.FORBID_CONTENTS&&(Bp===kv&&(Bp=fy(Bp)),mr(Bp,Me.FORBID_CONTENTS,vl)),xv&&(Wo["#text"]=!0),Mp&&mr(Wo,["html","head","body"]),Wo.table&&(mr(Wo,["tbody"]),delete ji.tbody),Me.TRUSTED_TYPES_POLICY){if(typeof Me.TRUSTED_TYPES_POLICY.createHTML!="function")throw pg('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Me.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw pg('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');J=Me.TRUSTED_TYPES_POLICY,ne=J.createHTML("")}else J===void 0&&(J=function(so,No){if(typeof so!="object"||typeof so.createPolicy!="function")return null;let Fr=null;const Ps="data-tt-policy-suffix";No&&No.hasAttribute(Ps)&&(Fr=No.getAttribute(Ps));const oa="dompurify"+(Fr?"#"+Fr:"");try{return so.createPolicy(oa,{createHTML:Xs=>Xs,createScriptURL:Xs=>Xs})}catch{return console.warn("TrustedTypes policy "+oa+" could not be created."),null}}(P,u)),J!==null&&typeof ne=="string"&&(ne=J.createHTML(""));vc&&vc(Me),gb=Me}},JD=mr({},["mi","mo","mn","ms","mtext"]),QD=mr({},["foreignobject","desc","title","annotation-xml"]),Oo=mr({},["title","style","font","a","script"]),Fg=mr({},u0);mr(Fg,Lh),mr(Fg,kE);const bw=mr({},I_);mr(bw,IR);const Hg=function(Me){d0(i.removed,{element:Me});try{Me.parentNode.removeChild(Me)}catch{Me.remove()}},qy=function(Me,so){try{d0(i.removed,{attribute:so.getAttributeNode(Me),from:so})}catch{d0(i.removed,{attribute:null,from:so})}if(so.removeAttribute(Me),Me==="is"&&!co[Me])if(Rm||fb)try{Hg(so)}catch{}else try{so.setAttribute(Me,"")}catch{}},D4=function(Me){let so,No;if(Pg)Me="<remove></remove>"+Me;else{const oa=MR(Me,/^[\r\n\t ]+/);No=oa&&oa[0]}Wy==="application/xhtml+xml"&&Zy===Ip&&(Me='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Me+"</body></html>");const Fr=J?J.createHTML(Me):Me;if(Zy===Ip)try{so=new B().parseFromString(Fr,Wy)}catch{}if(!so||!so.documentElement){so=se.createDocument(Zy,"template",null);try{so.documentElement.innerHTML=O4?ne:Fr}catch{}}const Ps=so.body||so.documentElement;return Me&&No&&Ps.insertBefore(f.createTextNode(No),Ps.childNodes[0]||null),Zy===Ip?qe.call(so,Mp?"html":"body")[0]:Mp?so.documentElement:Ps},R4=function(Me){return be.call(Me.ownerDocument||Me,Me,E.SHOW_ELEMENT|E.SHOW_COMMENT|E.SHOW_TEXT,null,!1)},N4=function(Me){return typeof y=="object"?Me instanceof y:Me&&typeof Me=="object"&&typeof Me.nodeType=="number"&&typeof Me.nodeName=="string"},lu=function(Me,so,No){Fe[Me]&&M_(Fe[Me],Fr=>{Fr.call(i,so,No,gb)})},e5=function(Me){let so;if(lu("beforeSanitizeElements",Me,null),(No=Me)instanceof O&&(typeof No.nodeName!="string"||typeof No.textContent!="string"||typeof No.removeChild!="function"||!(No.attributes instanceof C)||typeof No.removeAttribute!="function"||typeof No.setAttribute!="function"||typeof No.namespaceURI!="string"||typeof No.insertBefore!="function"||typeof No.hasChildNodes!="function"))return Hg(Me),!0;var No;const Fr=vl(Me.nodeName);if(lu("uponSanitizeElement",Me,{tagName:Fr,allowedTags:Wo}),Me.hasChildNodes()&&!N4(Me.firstElementChild)&&(!N4(Me.content)||!N4(Me.content.firstElementChild))&&Ad(/<[/\w]/g,Me.innerHTML)&&Ad(/<[/\w]/g,Me.textContent))return Hg(Me),!0;if(!Wo[Fr]||ji[Fr]){if(!ji[Fr]&&t5(Fr)&&(ur.tagNameCheck instanceof RegExp&&Ad(ur.tagNameCheck,Fr)||ur.tagNameCheck instanceof Function&&ur.tagNameCheck(Fr)))return!1;if(xv&&!Bp[Fr]){const Ps=W(Me)||Me.parentNode,oa=q(Me)||Me.childNodes;if(oa&&Ps)for(let Xs=oa.length-1;Xs>=0;--Xs)Ps.insertBefore(K(oa[Xs],!0),oe(Me))}return Hg(Me),!0}return Me instanceof w&&!function(Ps){let oa=W(Ps);oa&&oa.tagName||(oa={namespaceURI:Zy,tagName:"template"});const Xs=_x(Ps.tagName),Aa=_x(oa.tagName);return!!gw[Ps.namespaceURI]&&(Ps.namespaceURI===pw?oa.namespaceURI===Ip?Xs==="svg":oa.namespaceURI===pb?Xs==="svg"&&(Aa==="annotation-xml"||JD[Aa]):!!Fg[Xs]:Ps.namespaceURI===pb?oa.namespaceURI===Ip?Xs==="math":oa.namespaceURI===pw?Xs==="math"&&QD[Aa]:!!bw[Xs]:Ps.namespaceURI===Ip?!(oa.namespaceURI===pw&&!QD[Aa])&&!(oa.namespaceURI===pb&&!JD[Aa])&&!bw[Xs]&&(Oo[Xs]||!Fg[Xs]):!(Wy!=="application/xhtml+xml"||!gw[Ps.namespaceURI]))}(Me)?(Hg(Me),!0):Fr!=="noscript"&&Fr!=="noembed"&&Fr!=="noframes"||!Ad(/<\/no(script|embed|frames)/i,Me.innerHTML)?(Ig&&Me.nodeType===3&&(so=Me.textContent,so=Ot(so,gt," "),so=Ot(so,Rt," "),so=Ot(so,Zt," "),Me.textContent!==so&&(d0(i.removed,{element:Me.cloneNode()}),Me.textContent=so)),lu("afterSanitizeElements",Me,null),!1):(Hg(Me),!0)},M4=function(Me,so,No){if(Uy&&(so==="id"||so==="name")&&(No in f||No in QB))return!1;if(!(La&&!Ui[so]&&Ad(ro,so))){if(!(Qa&&Ad(Ao,so))){if(!co[so]||Ui[so]){if(!(t5(Me)&&(ur.tagNameCheck instanceof RegExp&&Ad(ur.tagNameCheck,Me)||ur.tagNameCheck instanceof Function&&ur.tagNameCheck(Me))&&(ur.attributeNameCheck instanceof RegExp&&Ad(ur.attributeNameCheck,so)||ur.attributeNameCheck instanceof Function&&ur.attributeNameCheck(so))||so==="is"&&ur.allowCustomizedBuiltInElements&&(ur.tagNameCheck instanceof RegExp&&Ad(ur.tagNameCheck,No)||ur.tagNameCheck instanceof Function&&ur.tagNameCheck(No))))return!1}else if(!Mm[so]){if(!Ad(ts,Ot(No,Lr,""))){if((so!=="src"&&so!=="xlink:href"&&so!=="href"||Me==="script"||Ph(No,"data:")!==0||!wv[Me])&&!(Np&&!Ad(ln,Ot(No,Lr,"")))){if(No)return!1}}}}}return!0},t5=function(Me){return Me.indexOf("-")>0},o5=function(Me){let so,No,Fr,Ps;lu("beforeSanitizeAttributes",Me,null);const{attributes:oa}=Me;if(!oa)return;const Xs={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:co};for(Ps=oa.length;Ps--;){so=oa[Ps];const{name:Aa,namespaceURI:Gy}=so;No=Aa==="value"?so.value:BR(so.value);const t7=No;if(Fr=vl(Aa),Xs.attrName=Fr,Xs.attrValue=No,Xs.keepAttr=!0,Xs.forceKeepAttr=void 0,lu("uponSanitizeAttribute",Me,Xs),No=Xs.attrValue,Xs.forceKeepAttr)continue;if(!Xs.keepAttr){qy(Aa,Me);continue}if(!jy&&Ad(/\/>/i,No)){qy(Aa,Me);continue}Ig&&(No=Ot(No,gt," "),No=Ot(No,Rt," "),No=Ot(No,Zt," "));const n5=vl(Me.nodeName);if(M4(n5,Fr,No)){if(!mw||Fr!=="id"&&Fr!=="name"||(qy(Aa,Me),No="user-content-"+No),J&&typeof P=="object"&&typeof P.getAttributeType=="function"&&!Gy)switch(P.getAttributeType(n5,Fr)){case"TrustedHTML":No=J.createHTML(No);break;case"TrustedScriptURL":No=J.createScriptURL(No)}if(No!==t7)try{Gy?Me.setAttributeNS(Gy,Aa,No):Me.setAttribute(Aa,No)}catch{qy(Aa,Me)}}else qy(Aa,Me)}lu("afterSanitizeAttributes",Me,null)},e7=function Me(so){let No;const Fr=R4(so);for(lu("beforeSanitizeShadowDOM",so,null);No=Fr.nextNode();)lu("uponSanitizeShadowNode",No,null),e5(No)||(No.content instanceof p&&Me(No.content),o5(No));lu("afterSanitizeShadowDOM",so,null)};return i.sanitize=function(Me){let so,No,Fr,Ps,oa=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(O4=!Me,O4&&(Me="<!-->"),typeof Me!="string"&&!N4(Me)){if(typeof Me.toString!="function")throw pg("toString is not a function");if(typeof(Me=Me.toString())!="string")throw pg("dirty is not a string, aborting")}if(!i.isSupported)return Me;if(vv||hw(oa),i.removed=[],typeof Me=="string"&&(Lg=!1),Lg){if(Me.nodeName){const Gy=vl(Me.nodeName);if(!Wo[Gy]||ji[Gy])throw pg("root node is forbidden and cannot be sanitized in-place")}}else if(Me instanceof y)so=D4("<!---->"),No=so.ownerDocument.importNode(Me,!0),No.nodeType===1&&No.nodeName==="BODY"||No.nodeName==="HTML"?so=No:so.appendChild(No);else{if(!Rm&&!Ig&&!Mp&&Me.indexOf("<")===-1)return J&&mb?J.createHTML(Me):Me;if(so=D4(Me),!so)return Rm?null:mb?ne:""}so&&Pg&&Hg(so.firstChild);const Xs=R4(Lg?Me:so);for(;Fr=Xs.nextNode();)e5(Fr)||(Fr.content instanceof p&&e7(Fr.content),o5(Fr));if(Lg)return Me;if(Rm){if(fb)for(Ps=Ee.call(so.ownerDocument);so.firstChild;)Ps.appendChild(so.firstChild);else Ps=so;return(co.shadowroot||co.shadowrootmode)&&(Ps=Ue.call(l,Ps,!0)),Ps}let Aa=Mp?so.outerHTML:so.innerHTML;return Mp&&Wo["!doctype"]&&so.ownerDocument&&so.ownerDocument.doctype&&so.ownerDocument.doctype.name&&Ad(bm,so.ownerDocument.doctype.name)&&(Aa="<!DOCTYPE "+so.ownerDocument.doctype.name+`>
`+Aa),Ig&&(Aa=Ot(Aa,gt," "),Aa=Ot(Aa,Rt," "),Aa=Ot(Aa,Zt," ")),J&&mb?J.createHTML(Aa):Aa},i.setConfig=function(Me){hw(Me),vv=!0},i.clearConfig=function(){gb=null,vv=!1},i.isValidAttribute=function(Me,so,No){gb||hw({});const Fr=vl(Me),Ps=vl(so);return M4(Fr,Ps,No)},i.addHook=function(Me,so){typeof so=="function"&&(Fe[Me]=Fe[Me]||[],d0(Fe[Me],so))},i.removeHook=function(Me){if(Fe[Me])return NR(Fe[Me])},i.removeHooks=function(Me){Fe[Me]&&(Fe[Me]=[])},i.removeAllHooks=function(){Fe={}},i}();const SE=n=>ZR().sanitize(n);var Xd=tinymce.util.Tools.resolve("tinymce.util.I18n");const WR={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},EE="temporary-placeholder",L_=n=>()=>dt(n,EE).getOr("!not found!"),gg=(n,s)=>{const i=n.toLowerCase();if(Xd.isRtl()){const l=((u,f)=>Ri(u,f)?u:((p,b)=>p+b)(u,f))(i,"-rtl");return no(s,l)?l:i}return i},m0=(n,s)=>dt(s,gg(n,s)),AE=(n,s)=>{const i=s();return m0(n,i).getOrThunk(L_(i))},Tx=()=>Zo("add-focusable",[Er(n=>{Nb(n.element,"svg").each(s=>lo(s,"focusable","false"))})]),zE=(n,s,i,l)=>{var u,f;const p=(y=>!!Xd.isRtl()&&no(WR,y))(s)?["tox-icon--flip"]:[],b=dt(i,gg(s,i)).or(l).getOrThunk(L_(i));return{dom:{tag:n.tag,attributes:(u=n.attributes)!==null&&u!==void 0?u:{},classes:n.classes.concat(p),innerHtml:b},behaviours:ft([...(f=n.behaviours)!==null&&f!==void 0?f:[],Tx()])}},td=(n,s,i,l=T.none())=>zE(s,n,i(),l),qR={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},F_=_d({name:"Notification",factory:n=>{const s=Bt("notification-text"),i=Jn({dom:hm(`<p id=${s}>${SE(n.backstageProvider.translate(n.text))}</p>`),behaviours:ft([fo.config({})])}),l=C=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${C}%`}}}),u=C=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${C}%`}}),f=Jn({dom:{tag:"div",classes:n.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[l(0)]},u(0)],behaviours:ft([fo.config({})])}),p={updateProgress:(C,O)=>{C.getSystem().isConnected()&&f.getOpt(C).each(B=>{fo.set(B,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[l(O)]},u(O)])})},updateText:(C,O)=>{if(C.getSystem().isConnected()){const B=i.get(C);fo.set(B,[Os(O)])}}},b=Hn([n.icon.toArray(),n.level.toArray(),n.level.bind(C=>T.from(qR[C])).toArray()]),y=Jn(Vi.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":n.backstageProvider.translate("Close")}},components:[td("close",{tag:"span",classes:["tox-icon"]},n.iconProvider)],buttonBehaviours:ft([wr.config({}),Ys.config({...n.backstageProvider.tooltips.getConfig({tooltipText:n.backstageProvider.translate("Close")})})]),action:C=>{n.onAction(C)}})),w=((C,O,B)=>{const P=B(),Z=H(C,K=>no(P,gg(K,P)));return zE({tag:"div",classes:["tox-notification__icon"]},Z.getOr(EE),P,T.none())})(b,0,n.iconProvider),E=[w,{dom:{tag:"div",classes:["tox-notification__body"]},components:[i.asSpec()],behaviours:ft([fo.config({})])}];return{uid:n.uid,dom:{tag:"div",attributes:{role:"alert","aria-labelledby":s},classes:n.level.map(C=>["tox-notification","tox-notification--in",`tox-notification--${C}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:ft([wr.config({}),wo.config({}),Jt.config({mode:"special",onEscape:C=>(n.onAction(C),T.some(!0))})]),components:E.concat(n.progress?[f.asSpec()]:[]).concat([y.asSpec()]),apis:p}},configFields:[sn("level"),Ge("progress"),sn("icon"),Ge("onAction"),Ge("text"),Ge("iconProvider"),Ge("backstageProvider")],apis:{updateProgress:(n,s,i)=>{n.updateProgress(s,i)},updateText:(n,s,i)=>{n.updateText(s,i)}}});var TE=(n,s,i,l)=>{const u=s.backstage.shared,f=()=>Et(n.queryCommandValue("ToggleView")===""?n.getContentAreaContainer():n.getContainer()),p=()=>{const y=As(f());return T.some(y)},b=y=>{p().each(w=>{Dt(y,E=>{_n(E.element,"width"),To(E.element)>w.width&&bo(E.element,"width",w.width+"px")})})};return{open:(y,w,E)=>{const C=()=>{l.on(P=>{w();const Z=E();(K=>{fo.remove(K,O),B()})(P),((K,oe)=>{Bn(K.element).length===0?((q,W)=>{ss.hide(q),l.clear(),W&&n.focus()})(K,oe):((q,W)=>{W&&Jt.focusIn(q)})(K,oe)})(P,Z)})},O=Ya(F_.sketch({text:y.text,level:we(["success","error","warning","warn","info"],y.type)?y.type:void 0,progress:y.progressBar===!0,icon:y.icon,onAction:C,iconProvider:u.providers.icons,backstageProvider:u.providers}));if(l.isSet()){const P=Qi(O);l.on(Z=>{fo.append(Z,P),ss.reposition(Z),Qr.refresh(Z),b(Z.components())})}else{const P=Ya(ss.sketch({dom:{tag:"div",classes:["tox-notifications-container"],attributes:{"aria-label":"Notifications",role:"region"}},lazySink:u.getSink,fireDismissalEventInstead:{},...u.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}},inlineBehaviours:ft([Jt.config({mode:"cyclic",selector:".tox-notification, .tox-notification a, .tox-notification button"}),fo.config({}),...vp(n)&&!u.header.isPositionedAtTop()?[]:[Qr.config({contextual:{lazyContext:()=>T.some(As(f())),fadeInClass:"tox-notification-container-dock-fadein",fadeOutClass:"tox-notification-container-dock-fadeout",transitionClass:"tox-notification-container-dock-transition"},modes:["top"],lazyViewport:q=>fg(n,q.element).map(W=>({bounds:mg(W),optScrollEnv:T.some({currentScrollTop:W.element.dom.scrollTop,scrollElmTop:Ve(W.element).top})})).getOrThunk(()=>({bounds:Qs(),optScrollEnv:T.none()}))})]])})),Z=Qi(O),K={maxHeightFunction:dp()},oe={...u.anchors.banner(),overrides:K};l.set(P),i.add(P),ss.showWithinBounds(P,Z,{anchor:oe},p)}Yo(y.timeout)&&y.timeout>0&&dx.setEditorTimeout(n,()=>{C()},y.timeout);const B=()=>{l.on(P=>{ss.reposition(P),Qr.refresh(P),b(P.components())})};return{close:C,reposition:B,text:P=>{F_.updateText(O,P)},settings:y,getEl:()=>O.element.dom,progressBar:{value:P=>{F_.updateProgress(O,P)}}}},close:y=>{y.close()},getArgs:y=>y.settings}},p0;(function(n){n[n.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",n[n.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(p0||(p0={}));var _f=p0;const Ox="tox-menu-nav__js",Dx="tox-collection__item",OE="tox-swatch",DE={normal:Ox,color:OE},RE="tox-collection__item--enabled",NE="tox-collection__item-icon",g0="tox-collection__item-label",H_="tox-collection__item-caret",ym="tox-collection__item--active",h0="tox-collection__item-container",b0="tox-collection__item-container--row",hg=n=>dt(DE,n).getOr(Ox),e8=n=>n==="color"?"tox-swatches":"tox-menu",$_=n=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:e8(n),tieredMenu:"tox-tiered-menu"}),Fh=n=>{const s=$_(n);return{backgroundMenu:s.backgroundMenu,selectedMenu:s.selectedMenu,menu:s.menu,selectedItem:s.selectedItem,item:hg(n)}},ME=(n,s,i)=>{const l=$_(i);return{tag:"div",classes:Hn([[l.menu,`tox-menu-${s}-column`],n?[l.hasIcons]:[]])}},BE=[Nh.parts.items({})],Rx=(n,s,i)=>{const l=$_(i);return{dom:{tag:"div",classes:Hn([[l.tieredMenu]])},markers:Fh(i)}},GR=ce([sn("data"),Ae("inputAttributes",{}),Ae("inputStyles",{}),Ae("tag","input"),Ae("inputClasses",[]),Sn("onSetValue"),Ae("styles",{}),Ae("eventOrder",{}),It("inputBehaviours",[De,wo]),Ae("selectOnFocus",!0)]),KR=n=>ft([wo.config({onFocus:n.selectOnFocus?s=>{const i=s.element,l=nf(i);i.dom.setSelectionRange(0,l.length)}:at})]),YR=n=>({...KR(n),...$o(n.inputBehaviours,[De.config({store:{mode:"manual",...n.data.map(s=>({initialValue:s})).getOr({}),getValue:s=>nf(s.element),setValue:(s,i)=>{nf(s.element)!==i&&Qf(s.element,i)}},onSetValue:n.onSetValue})])}),IE=n=>({tag:n.tag,attributes:{type:"text",...n.inputAttributes},styles:n.inputStyles,classes:n.inputClasses}),kp=_d({name:"Input",configFields:GR(),factory:(n,s)=>({uid:n.uid,dom:IE(n),components:[],behaviours:YR(n),eventOrder:n.eventOrder})}),PE=Bt("refetch-trigger-event"),LE=Bt("redirect-menu-item-interaction"),FE="tox-menu__searcher",y0=n=>es(n.element,`.${FE}`).bind(s=>n.getSystem().getByDom(s).toOptional()),HE=y0,$E=n=>({fetchPattern:De.getValue(n),selectionStart:n.element.dom.selectionStart,selectionEnd:n.element.dom.selectionEnd}),VE=n=>{const s=(u,f)=>(f.cut(),T.none()),i=(u,f)=>{const p={interactionEvent:f.event,eventType:f.event.raw.type};return qt(u,LE,p),T.some(!0)},l="searcher-events";return{dom:{tag:"div",classes:[Dx]},components:[kp.sketch({inputClasses:[FE,"tox-textfield"],inputAttributes:{...n.placeholder.map(u=>({placeholder:n.i18n(u)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:ft([Zo(l,[je(bu(),u=>{Uo(u,PE)}),je(Yr(),(u,f)=>{f.event.raw.key==="Escape"&&f.stop()})]),Jt.config({mode:"special",onLeft:s,onRight:s,onSpace:s,onEnter:i,onEscape:i,onUp:i,onDown:i})]),eventOrder:{keydown:[l,Jt.name()]}})]}},v0="tox-collection--results__js",jE=n=>{var s;return n.dom?{...n,dom:{...n.dom,attributes:{...(s=n.dom.attributes)!==null&&s!==void 0?s:{},id:Bt("aria-item-search-result-id"),"aria-selected":"false"}}}:n},Nx=(n,s)=>i=>{const l=kt(i,s);return nt(l,u=>({dom:n,components:u}))},UE=(n,s)=>{const i=[];let l=[];return Dt(n,(u,f)=>{s(u,f)?(l.length>0&&i.push(l),l=[],(no(u.dom,"innerHtml")||u.components&&u.components.length>0)&&l.push(u)):l.push(u)}),l.length>0&&i.push(l),nt(i,u=>({dom:{tag:"div",classes:["tox-collection__group"]},components:u}))},x0=(n,s,i)=>Nh.parts.items({preprocess:l=>{const u=nt(l,i);return n!=="auto"&&n>1?Nx({tag:"div",classes:["tox-collection__group"]},n)(u):UE(u,(f,p)=>s[p].type==="separator")}}),V_=(n,s,i=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(n===1?["tox-collection--list"]:["tox-collection--grid"])},components:[x0(n,s,Tt)]}),k0=n=>At(n,s=>"icon"in s&&s.icon!==void 0),vm=n=>(console.error(_i(n)),console.log(n),T.none()),XR=(n,s,i,l,u)=>{const f=(p=i,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Nh.parts.items({preprocess:b=>UE(b,(y,w)=>p[w].type==="separator")})]});var p;return{value:n,dom:f.dom,components:f.components,items:i}},j_=(n,s,i,l,u)=>{if(u.menuType==="color"){const f=(p=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Nh.parts.items({preprocess:p!=="auto"?Nx({tag:"div",classes:["tox-swatches__row"]},p):Tt})]}]}))(l);return{value:n,dom:f.dom,components:f.components,items:i}}if(u.menuType==="normal"&&l==="auto"){const f=V_(l,i);return{value:n,dom:f.dom,components:f.components,items:i}}if(u.menuType==="normal"||u.menuType==="searchable"){const f=u.menuType!=="searchable"?V_(l,i):u.searchMode.searchMode==="search-with-field"?((p,b,y)=>{const w=Bt("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(p===1?["tox-collection--list"]:["tox-collection--grid"])},components:[VE({i18n:Xd.translate,placeholder:y.placeholder}),{dom:{tag:"div",classes:[...p===1?["tox-collection--list"]:["tox-collection--grid"],v0],attributes:{id:w}},components:[x0(p,b,jE)]}]}})(l,i,u.searchMode):((p,b,y=!0)=>{const w=Bt("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",v0].concat(p===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:w}},components:[x0(p,b,jE)]}})(l,i);return{value:n,dom:f.dom,components:f.components,items:i}}if(u.menuType==="listpreview"&&l!=="auto"){const f=(p=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Nh.parts.items({preprocess:Nx({tag:"div",classes:["tox-collection__group"]},p)})]}))(l);return{value:n,dom:f.dom,components:f.components,items:i}}return{value:n,dom:ME(s,l,u.menuType),components:BE,items:i}},pa=qr("type"),U_=qr("name"),Z_=qr("label"),Jd=qr("text"),W_=qr("title"),q_=qr("icon"),Hh=qr("value"),JR=ii("fetch"),ZE=ii("getSubmenuItems"),my=ii("onAction"),WE=ii("onItemAction"),bg=kr("onSetup",()=>at),QR=Gr("name"),yg=Gr("text"),eN=Gr("role"),Qd=Gr("icon"),w0=Gr("tooltip"),G_=Gr("label"),py=Gr("shortcut"),K_=uc("select"),Mx=Ts("active",!1),t8=Ts("borderless",!1),eu=Ts("enabled",!0),Bx=Ts("primary",!1),qE=n=>Ae("columns",n),od=Ae("meta",{}),Y_=kr("onAction",at),$h=n=>Pi("type",n),X_=n=>bs("name","name",qu(()=>Bt(`${n}-name`)),ta),GE=to([pa,yg]),tN=to([$h("autocompleteitem"),Mx,eu,od,Hh,yg,Qd]),xm=[eu,w0,Qd,yg,bg],J_=to([pa,my,py].concat(xm)),KE=n=>Ir("toolbarbutton",J_,n),_0=[Mx].concat(xm),Ix=to(_0.concat([pa,my,py])),Px=n=>Ir("ToggleButton",Ix,n),YE=[kr("predicate",$e),$l("scope","node",["node","editor"]),$l("position","selection",["node","selection","line"])],oN=xm.concat([$h("contextformbutton"),Bx,my,_a("original",Tt)]),nN=_0.concat([$h("contextformbutton"),Bx,my,_a("original",Tt)]),rN=xm.concat([$h("contextformbutton")]),sN=_0.concat([$h("contextformtogglebutton")]),aN=zs("type",{contextformbutton:oN,contextformtogglebutton:nN}),iN=to([$h("contextform"),kr("initValue",ce("")),G_,Ci("commands",aN),ys("launch",zs("type",{contextformbutton:rN,contextformtogglebutton:sN}))].concat(YE)),XE=to([$h("contexttoolbar"),qr("items")].concat(YE)),Lx=[pa,qr("src"),Gr("alt"),Wn("classes",[],ta)],lN=to(Lx),cN=[pa,Jd,QR,Wn("classes",["tox-collection__item-label"],ta)],dN=to(cN),JE=Gu(()=>Lc("type",{cardimage:lN,cardtext:dN,cardcontainer:gy})),gy=to([pa,Pi("direction","horizontal"),Pi("align","left"),Pi("valign","middle"),Ci("items",JE)]),Vh=[eu,yg,eN,py,bs("value","value",qu(()=>Bt("menuitem-value")),Xi()),od],uN=to([pa,G_,Ci("items",JE),bg,Y_].concat(Vh)),Q_=to([pa,Mx,Qd].concat(Vh)),QE=[pa,qr("fancytype"),Y_],eA=[Ae("initData",{})].concat(QE),tA=[uc("select"),Ma("initData",{},[Ts("allowCustomColors",!0),Pi("storageKey","default"),Um("colors",Xi())])].concat(QE),oA=zs("fancytype",{inserttable:eA,colorswatch:tA}),nA=to([pa,bg,Y_,Qd].concat(Vh)),rA=to([pa,ZE,bg,Qd].concat(Vh)),fN=to([pa,Qd,Mx,bg,my].concat(Vh)),e2=(n,s,i)=>{const l=Ea(n.element,"."+i);if(l.length>0){const u=ra(l,f=>{const p=f.dom.getBoundingClientRect().top,b=l[0].dom.getBoundingClientRect().top;return Math.abs(p-b)>s}).getOr(l.length);return T.some({numColumns:u,numRows:Math.ceil(l.length/u)})}return T.none()},C0=n=>((s,i)=>ft([Zo(s,i)]))(Bt("unnamed-events"),n),Fx="silver.readonly",mN=to([ca("readonly",Tl)]),jh=(n,s)=>{const i=n.mainUi.outerContainer.element,l=[n.mainUi.mothership,...n.uiMotherships];s&&Dt(l,u=>{u.broadcastOn([S()],{target:i})}),Dt(l,u=>{u.broadcastOn([Fx],{readonly:s})})},sA=(n,s)=>{n.on("init",()=>{n.mode.isReadOnly()&&jh(s,!0)}),n.on("SwitchMode",()=>jh(s,n.mode.isReadOnly())),w_(n)&&n.mode.set("readonly")},Ia=()=>pl.config({channels:{[Fx]:{schema:mN,onReceive:(n,s)=>{Eo.set(n,s.readonly)}}}}),Oi=n=>Eo.config({disabled:n}),aA=n=>Eo.config({disabled:n,disableClass:"tox-tbtn--disabled"}),Hx=n=>Eo.config({disabled:n,disableClass:"tox-tbtn--disabled",useNative:!1}),S0=(n,s)=>{const i=n.getApi(s);return l=>{l(i)}},vg=(n,s)=>Er(i=>{S0(n,i)(l=>{const u=n.onSetup(l);eo(u)&&s.set(u)})}),wp=(n,s)=>jc(i=>S0(n,i)(s.get())),iA=(n,s)=>Wl((i,l)=>{S0(n,i)(n.onAction),n.triggersSubmenu||s!==_f.CLOSE_ON_EXECUTE||(i.getSystem().isConnected()&&Uo(i,Wm()),l.stop())}),pN={[Ei()]:["disabling","alloy.base.behaviour","toggling","item-events"]},hy=$a,by=(n,s,i,l)=>{const u=Ut(at);return{type:"item",dom:s.dom,components:hy(s.optComponents),data:n.data,eventOrder:pN,hasSubmenu:n.triggersSubmenu,itemBehaviours:ft([Zo("item-events",[iA(n,i),vg(n,u),wp(n,u)]),(f=()=>!n.enabled||l.isDisabled(),Eo.config({disabled:f,disableClass:"tox-collection__item--state-disabled"})),Ia(),fo.config({})].concat(n.itemBehaviours))};var f},yy=n=>({value:n.value,meta:{text:n.text.getOr(""),...n.meta}}),$x=n=>{const s=xf.os.isMacOS()||xf.os.isiOS(),i=s?{alt:"⌥",ctrl:"⌃",shift:"⇧",meta:"⌘",access:"⌃⌥"}:{meta:"Ctrl",access:"Shift+Alt"},l=n.split("+"),u=nt(l,f=>{const p=f.toLowerCase().trim();return no(i,p)?i[p]:f});return s?u.join(""):u.join("+")},t2=(n,s,i=[NE])=>td(n,{tag:"div",classes:i},s),lA=n=>({dom:{tag:"div",classes:[g0]},components:[Os(Xd.translate(n))]}),o2=(n,s)=>({dom:{tag:"div",classes:s,innerHtml:n}}),cA=(n,s)=>({dom:{tag:"div",classes:[g0]},components:[{dom:{tag:n.tag,styles:n.styles},components:[Os(Xd.translate(s))]}]}),dA=n=>({dom:{tag:"div",classes:["tox-collection__item-accessory"]},components:[Os($x(n))]}),uA=n=>t2("checkmark",n,["tox-collection__item-checkmark"]),fA=n=>{const s=n.map(i=>({attributes:{id:Bt("menu-item"),"aria-label":Xd.translate(i)}})).getOr({});return{tag:"div",classes:[Ox,Dx],...s}},E0=(n,s,i,l=T.none())=>n.presets==="color"?((u,f,p)=>{const b=u.value,y=u.iconContent.map(E=>((C,O,B)=>{const P=O();return m0(C,P).or(B).getOrThunk(L_(P))})(E,f.icons,p)),w=u.ariaLabel.map(E=>({"aria-label":f.translate(E),"data-mce-name":E})).getOr({});return{dom:(()=>{const E=OE,C=y.getOr(""),O={tag:"div",attributes:w,classes:[E]};return b==="custom"?{...O,tag:"button",classes:[...O.classes,"tox-swatches__picker-btn"],innerHtml:C}:b==="remove"?{...O,classes:[...O.classes,"tox-swatch--remove"],innerHtml:C}:Lt(b)?{...O,attributes:{...O.attributes,"data-mce-color":b},styles:{"background-color":b},innerHtml:C}:O})(),optComponents:[]}})(n,s,l):((u,f,p,b)=>{const y={tag:"div",classes:[NE]},w=p?u.iconContent.map(B=>td(B,y,f.icons,b)).orThunk(()=>T.some({dom:y})):T.none(),E=u.checkMark,C=T.from(u.meta).fold(()=>lA,B=>no(B,"style")?ct(cA,B.style):lA),O=u.htmlContent.fold(()=>u.textContent.map(C),B=>T.some(o2(B,[g0])));return{dom:fA(u.ariaLabel),optComponents:[w,O,u.shortcutContent.map(dA),E,u.caret]}})(n,s,i,l),mA=(n,s,i)=>dt(n,"tooltipWorker").map(l=>[Ys.config({lazySink:s.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:u=>({type:"submenu",item:u,overrides:{maxHeightFunction:dp}}),mode:"follow-highlight",onShow:(u,f)=>{l(p=>{Ys.setComponents(u,[rf({element:Et(p)})])})}})]).getOrThunk(()=>i.map(l=>[Ys.config({...s.providers.tooltips.getConfig({tooltipText:l}),mode:"follow-highlight"})]).getOr([])),n2=(n,s)=>{const i=(l=>iy.DOM.encode(l))(Xd.translate(n));if(s.length>0){const l=new RegExp((u=>u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(s),"gi");return i.replace(l,u=>`<span class="tox-autocompleter-highlight">${u}</span>`)}return i},r2=(n,s)=>nt(n,i=>{switch(i.type){case"cardcontainer":return((f,p)=>{const b=f.direction==="vertical"?"tox-collection__item-container--column":b0,y=f.align==="left"?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right";return{dom:{tag:"div",classes:[h0,b,y,(()=>{switch(f.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}})()]},components:p}})(i,r2(i.items,s));case"cardimage":return((f,p,b)=>({dom:{tag:"img",classes:p,attributes:{src:f,alt:b.getOr("")}}}))(i.src,i.classes,i.alt);case"cardtext":const l=i.name.exists(f=>we(s.cardText.highlightOn,f)),u=l?T.from(s.cardText.matchText).getOr(""):"";return o2(n2(i.text,u),i.classes)}}),_p=ol(v_(),x_()),s2=n=>({value:Uh(n)}),a2=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,i2=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,pA=n=>a2.test(n)||i2.test(n),Uh=n=>Xn(n,"#").toUpperCase(),l2=n=>{const s=n.toString(16);return(s.length===1?"0"+s:s).toUpperCase()},A0=n=>{const s=l2(n.red)+l2(n.green)+l2(n.blue);return s2(s)},c2=Math.min,gA=Math.max,Vx=Math.round,gN=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,hA=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,Cp=(n,s,i,l)=>({red:n,green:s,blue:i,alpha:l}),z0=n=>{const s=parseInt(n,10);return s.toString()===n&&s>=0&&s<=255},bA=n=>{let s,i,l;const u=(n.hue||0)%360;let f=n.saturation/100,p=n.value/100;if(f=gA(0,c2(f,1)),p=gA(0,c2(p,1)),f===0)return s=i=l=Vx(255*p),Cp(s,i,l,1);const b=u/60,y=p*f,w=y*(1-Math.abs(b%2-1)),E=p-y;switch(Math.floor(b)){case 0:s=y,i=w,l=0;break;case 1:s=w,i=y,l=0;break;case 2:s=0,i=y,l=w;break;case 3:s=0,i=w,l=y;break;case 4:s=w,i=0,l=y;break;case 5:s=y,i=0,l=w;break;default:s=i=l=0}return s=Vx(255*(s+E)),i=Vx(255*(i+E)),l=Vx(255*(l+E)),Cp(s,i,l,1)},Bu=n=>{const s=(f=>{const p=(y=>({value:y.value.replace(a2,(E,C,O,B)=>C+C+O+O+B+B)}))(f),b=i2.exec(p.value);return b===null?["FFFFFF","FF","FF","FF"]:b})(n),i=parseInt(s[1],16),l=parseInt(s[2],16),u=parseInt(s[3],16);return Cp(i,l,u,1)},d2=(n,s,i,l)=>{const u=parseInt(n,10),f=parseInt(s,10),p=parseInt(i,10),b=parseFloat(l);return Cp(u,f,p,b)},jx=n=>{const s=gN.exec(n);if(s!==null)return T.some(d2(s[1],s[2],s[3],"1"));const i=hA.exec(n);return i!==null?T.some(d2(i[1],i[2],i[3],i[4])):T.none()},yA=n=>`rgba(${n.red},${n.green},${n.blue},${n.alpha})`,vA=Cp(255,0,0,1),Zh=(n,s)=>{n.dispatch("ResizeContent",s)},vy=(n,s)=>{n.dispatch("TextColorChange",s)},xA=(n,s)=>n.dispatch("ResolveName",{name:s.nodeName.toLowerCase(),target:s}),xy=(n,s)=>()=>{n(),s()},Pa=n=>Wh(n,"NodeChange",s=>{s.setEnabled(n.selection.isEditable())}),Cf=(n,s)=>i=>{const l=Pa(n)(i),u=((f,p)=>b=>{const y=Il(),w=()=>{b.setActive(f.formatter.match(p));const E=f.formatter.formatChanged(p,b.setActive);y.set(E)};return f.initialized?w():f.once("init",w),()=>{f.off("init",w),y.clear()}})(n,s)(i);return()=>{l(),u()}},Wh=(n,s,i)=>l=>{const u=()=>i(l),f=()=>{i(l),n.on(s,u)};return n.initialized?f():n.once("init",f),()=>{n.off("init",f),n.off(s,u)}},kA=n=>s=>()=>{n.undoManager.transact(()=>{n.focus(),n.execCommand("mceToggleFormat",!1,s.format)})},xc=(n,s)=>()=>n.execCommand(s);var nd=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const Ux={},wA=n=>dt(Ux,n).getOrThunk(()=>{const s=`tinymce-custom-colors-${n}`,i=nd.getItem(s);if(Rr(i)){const u=nd.getItem("tinymce-custom-colors");nd.setItem(s,Lt(u)?u:"[]")}const l=((u,f=10)=>{const p=nd.getItem(u),b=Do(p)?JSON.parse(p):[],y=f-(w=b).length<0?w.slice(0,f):w;var w;const E=C=>{y.splice(C,1)};return{add:C=>{((O,B)=>{const P=hr(O,B);return P===-1?T.none():T.some(P)})(y,C).each(E),y.unshift(C),y.length>f&&y.pop(),nd.setItem(u,JSON.stringify(y))},state:()=>y.slice(0)}})(s,10);return Ux[n]=l,l}),u2=(n,s)=>{wA(n).add(s)},ky=(n,s,i)=>({hue:n,saturation:s,value:i}),Zx=n=>{let s=0,i=0,l=0;const u=n.red/255,f=n.green/255,p=n.blue/255,b=Math.min(u,Math.min(f,p)),y=Math.max(u,Math.max(f,p));return b===y?(l=b,ky(0,0,100*l)):(s=u===b?3:p===b?1:5,s=60*(s-(u===b?f-p:p===b?u-f:p-u)/(y-b)),i=(y-b)/y,l=y,ky(Math.round(s),Math.round(100*i),Math.round(100*l)))},Wx=n=>A0(bA(n)),_A=n=>{return(s=n,pA(s)?T.some({value:Uh(s)}):T.none()).orThunk(()=>jx(n).map(A0)).getOrThunk(()=>{const i=document.createElement("canvas");i.height=1,i.width=1;const l=i.getContext("2d");l.clearRect(0,0,i.width,i.height),l.fillStyle="#FFFFFF",l.fillStyle=n,l.fillRect(0,0,1,1);const u=l.getImageData(0,0,1,1).data,f=u[0],p=u[1],b=u[2],y=u[3];return A0(Cp(f,p,b,y))});var s},f2="forecolor",m2="hilitecolor",hN=n=>{const s=[];for(let i=0;i<n.length;i+=2)s.push({text:n[i+1],value:"#"+_A(n[i]).value,icon:"checkmark",type:"choiceitem"});return s},tu=n=>s=>s.options.get(n),T0="#000000",qh=(n,s)=>s===f2&&n.options.isSet("color_map_foreground")?tu("color_map_foreground")(n):s===m2&&n.options.isSet("color_map_background")?tu("color_map_background")(n):tu("color_map")(n),qx=(n,s="default")=>Math.max(5,Math.ceil(Math.sqrt(qh(n,s).length))),CA=(n,s)=>{const i=tu("color_cols")(n),l=qx(n,s);return i===qx(n)?l:i},p2=(n,s="default")=>Math.round(s===f2?tu("color_cols_foreground")(n):s===m2?tu("color_cols_background")(n):tu("color_cols")(n)),g2=tu("custom_colors"),SA=tu("color_default_foreground"),EA=tu("color_default_background"),AA=(n,s)=>{const i=Et(n.selection.getStart()),l=s==="hilitecolor"?fd(i,u=>{if(fr(u)){const f=yr(u,"background-color");return Bo(jx(f).exists(p=>p.alpha!==0),f)}return T.none()}).getOr("rgba(0, 0, 0, 0)"):yr(i,"color");return jx(l).map(u=>"#"+A0(u).value)},Gx=n=>{const s="choiceitem",i={type:s,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return n?[i,{type:s,text:"Custom color",icon:"color-picker",value:"custom"}]:[i]},h2=(n,s,i,l)=>{i==="custom"?OA(n)(u=>{u.each(f=>{u2(s,f),n.execCommand("mceApplyTextcolor",s,f),l(f)})},AA(n,s).getOr(T0)):i==="remove"?(l(""),n.execCommand("mceRemoveTextcolor",s)):(l(i),n.execCommand("mceApplyTextcolor",s,i))},b2=(n,s,i)=>n.concat((l=>nt(wA(l).state(),u=>({type:"choiceitem",text:u,icon:"checkmark",value:u})))(s).concat(Gx(i))),zA=(n,s,i)=>l=>{l(b2(n,s,i))},y2=(n,s,i)=>{const l=s==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";n.setIconFill(l,i)},v2=(n,s)=>{n.setTooltip(s)},TA=(n,s)=>i=>{const l=AA(n,s);return Rs(l,i.toUpperCase())},x2=(n,s,i)=>{if(qi(i))return s==="forecolor"?"Text color":"Background color";const l=s==="forecolor"?"Text color {0}":"Background color {0}",u=b2(qh(n,s),s,!1),f=H(u,p=>p.value===i).getOr({text:""}).text;return n.translate([l,n.translate(f)])},k2=(n,s,i,l)=>{n.ui.registry.addSplitButton(s,{tooltip:x2(n,i,l.get()),presets:"color",icon:s==="forecolor"?"text-color":"highlight-bg-color",select:TA(n,i),columns:p2(n,i),fetch:zA(qh(n,i),i,g2(n)),onAction:u=>{h2(n,i,l.get(),at)},onItemAction:(u,f)=>{h2(n,i,f,p=>{l.set(p),vy(n,{name:s,color:p})})},onSetup:u=>{y2(u,s,l.get());const f=p=>{p.name===s&&(y2(u,p.name,p.color),v2(u,x2(n,i,p.color)))};return n.on("TextColorChange",f),xy(Pa(n)(u),()=>{n.off("TextColorChange",f)})}})},wy=(n,s,i,l,u)=>{n.ui.registry.addNestedMenuItem(s,{text:l,icon:s==="forecolor"?"text-color":"highlight-bg-color",onSetup:f=>(v2(f,x2(n,i,u.get())),y2(f,s,u.get()),Pa(n)(f)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:TA(n,i),initData:{storageKey:i},onAction:f=>{h2(n,i,f.value,p=>{u.set(p),vy(n,{name:s,color:p})})}}]})},OA=n=>(s,i)=>{let l=!1;const u={colorpicker:i};n.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:u,onAction:(f,p)=>{p.name==="hex-valid"&&(l=p.value)},onSubmit:f=>{const p=f.getData().colorpicker;l?(s(T.from(p)),f.close()):n.windowManager.alert(n.translate(["Invalid hex color code: {0}",p]))},onClose:at,onCancel:()=>{s(T.none())}})},Gh=(n,s,i,l,u,f,p,b)=>{const y=k0(s),w=w2(s,i,l,u!=="color"?"normal":"color",f,p,b);return j_(n,y,w,l,{menuType:u})},w2=(n,s,i,l,u,f,p)=>$a(nt(n,b=>{return b.type==="choiceitem"?(y=b,Ir("choicemenuitem",Q_,y)).fold(vm,w=>T.some(((E,C,O,B,P,Z,K,oe=!0)=>{const q=E0({presets:O,textContent:C?E.text:T.none(),htmlContent:T.none(),ariaLabel:E.text,iconContent:E.icon,shortcutContent:C?E.shortcut:T.none(),checkMark:C?T.some(uA(K.icons)):T.none(),caret:T.none(),value:E.value},K,oe),W=E.text.filter(ce(!C)).map(J=>Ys.config(K.tooltips.getConfig({tooltipText:K.translate(J)})));return nr(by({data:yy(E),enabled:E.enabled,getApi:J=>({setActive:ne=>{yo.set(J,ne)},isActive:()=>yo.isOn(J),isEnabled:()=>!Eo.isDisabled(J),setEnabled:ne=>Eo.set(J,!ne)}),onAction:J=>B(E.value),onSetup:J=>(J.setActive(P),at),triggersSubmenu:!1,itemBehaviours:[...W.toArray()]},q,Z,K),{toggling:{toggleClass:RE,toggleOnExecute:!1,selected:E.active,exclusive:!0}})})(w,i===1,l,s,f(w.value),u,p,k0(n)))):T.none();var y})),O0=(n,s)=>{const i=Fh(s);return n===1?{mode:"menu",moveOnTab:!0}:n==="auto"?{mode:"grid",selector:"."+i.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(s==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:l=>s==="color"?es(l.element,"[aria-checked=true]"):T.none()}},_2=Bt("cell-over"),DA=Bt("cell-execute"),bN=(n,s,i)=>{const l=f=>qt(f,DA,{row:n,col:s}),u=(f,p)=>{p.stop(),l(f)};return Ya({dom:{tag:"div",attributes:{role:"button","aria-label":i}},behaviours:ft([Zo("insert-table-picker-cell",[je(Wt(),wo.focus),je(Ei(),l),je(qs(),u),je(Vc(),u)]),yo.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),wo.config({onFocus:f=>qt(f,_2,{row:n,col:s})})])})},RA=n=>kn(n,s=>nt(s,Qi)),NA=(n,s)=>Os(`${s}x${n}`),MA={inserttable:(n,s)=>{const i=(p=>(b,y)=>p.shared.providers.translate(["{0} columns, {1} rows",y,b]))(s),l=((p,b,y)=>{const w=[];for(let E=0;E<10;E++){const C=[];for(let O=0;O<10;O++){const B=p(E+1,O+1);C.push(bN(E,O,B))}w.push(C)}return w})(i),u=NA(0,0),f=Jn({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[u],behaviours:ft([fo.config({})])});return{type:"widget",data:{value:Bt("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[_p.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:RA(l).concat(f.asSpec()),behaviours:ft([Zo("insert-table-picker",[Er(p=>{fo.set(f.get(p),[u])}),Qu(_2,(p,b,y)=>{const{row:w,col:E}=y.event;((C,O,B,P,Z)=>{for(let K=0;K<10;K++)for(let oe=0;oe<10;oe++)yo.set(C[K][oe],K<=O&&oe<=B)})(l,w,E),fo.set(f.get(p),[NA(w+1,E+1)])}),Qu(DA,(p,b,y)=>{const{row:w,col:E}=y.event;Uo(p,Wm()),n.onAction({numRows:w+1,numColumns:E+1})})]),Jt.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:(n,s)=>{const i=((p,b)=>{const y=p.initData.allowCustomColors&&b.colorinput.hasCustomColors();return p.initData.colors.fold(()=>b2(b.colorinput.getColors(p.initData.storageKey),p.initData.storageKey,y),w=>w.concat(Gx(y)))})(n,s),l=s.colorinput.getColorCols(n.initData.storageKey),u="color",f={...Gh(Bt("menu-value"),i,p=>{n.onAction({value:p})},l,u,_f.CLOSE_ON_EXECUTE,n.select.getOr($e),s.shared.providers),markers:Fh(u),movement:O0(l,u),showMenuRole:!1};return{type:"widget",data:{value:Bt("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[_p.widget(Nh.sketch(f))]}}},BA=n=>({type:"separator",dom:{tag:"div",classes:[Dx,"tox-collection__group-heading"]},components:n.text.map(Os).toArray()});var yN=Object.freeze({__proto__:null,getCoupled:(n,s,i,l)=>i.getOrCreate(n,s,l),getExistingCoupled:(n,s,i,l)=>i.getExisting(n,s,l)}),IA=[ca("others",Ku(en.value,Xi()))],Kx=Object.freeze({__proto__:null,init:()=>{const n={},s=(l,u)=>{if(qo(l.others).length===0)throw new Error("Cannot find any known coupled components");return dt(n,u)},i=ce({});return da({readState:i,getExisting:(l,u,f)=>s(u,f).orThunk(()=>(dt(u.others,f).getOrDie("No information found for coupled component: "+f),T.none())),getOrCreate:(l,u,f)=>s(u,f).getOrThunk(()=>{const p=dt(u.others,f).getOrDie("No information found for coupled component: "+f)(l),b=l.getSystem().build(p);return n[f]=b,b})})}});const Ds=ua({fields:IA,name:"coupling",apis:yN,state:Kx}),D0=n=>{let s=T.none(),i=[];const l=p=>{u()?f(p):i.push(p)},u=()=>s.isSome(),f=p=>{s.each(b=>{setTimeout(()=>{p(b)},0)})};return n(p=>{u()||(s=T.some(p),Dt(i,f),i=[])}),{get:l,map:p=>D0(b=>{l(y=>{b(p(y))})}),isReady:u}},vN={nu:D0,pure:n=>D0(s=>{s(n)})},xN=n=>{setTimeout(()=>{throw n},0)},_y=n=>{const s=i=>{n().then(i,xN)};return{map:i=>_y(()=>n().then(i)),bind:i=>_y(()=>n().then(l=>i(l).toPromise())),anonBind:i=>_y(()=>n().then(()=>i.toPromise())),toLazy:()=>vN.nu(s),toCached:()=>{let i=null;return _y(()=>(i===null&&(i=n()),i))},toPromise:n,get:s}},xg=n=>_y(()=>new Promise(n)),km=n=>_y(()=>Promise.resolve(n)),C2=ce("sink"),PA=ce(wd({name:C2(),overrides:ce({dom:{tag:"div"},behaviours:ft([mi.config({useFixed:Pt})]),events:zo([yu(Yr()),yu(Ke()),yu(qs())])})})),LA=(n,s)=>{const i=n.getHotspot(s).getOr(s),l="hotspot",u=n.getAnchorOverrides();return n.layouts.fold(()=>({type:l,hotspot:i,overrides:u}),f=>({type:l,hotspot:i,overrides:u,layouts:f}))},Yx=(n,s,i,l,u,f,p)=>((y,w,E,C,O,B,P)=>{const Z=((oe,q,W)=>(0,oe.fetch)(W).map(q))(y,w,C),K=FA(C,y);return Z.map(oe=>oe.bind(q=>{const W=q.menus[q.primary];return T.from(W).each(J=>{y.listRole.each(ne=>{J.role=ne})}),T.from(bp.sketch({...B.menu(),uid:qc(""),data:q,highlightOnOpen:P,onOpenMenu:(J,ne)=>{const se=K().getOrDie();mi.position(se,ne,{anchor:E}),x.decloak(O)},onOpenSubmenu:(J,ne,se)=>{const be=K().getOrDie();mi.position(be,se,{anchor:{type:"submenu",item:ne}}),x.decloak(O)},onRepositionMenu:(J,ne,se)=>{const be=K().getOrDie();mi.position(be,ne,{anchor:E}),Dt(se,Ee=>{mi.position(be,Ee.triggeredMenu,{anchor:{type:"submenu",item:Ee.triggeringItem}})})},onEscape:()=>(wo.focus(C),x.close(O),T.some(!0))}))}))})(n,s,LA(n,i),i,l,u,p).map(y=>(y.fold(()=>{x.isOpen(l)&&x.close(l)},w=>{x.cloak(l),x.open(l,w),f(l)}),l)),kN=(n,s,i,l,u,f,p)=>(x.close(l),km(l)),S2=(n,s,i,l,u,f)=>{const p=Ds.getCoupled(i,"sandbox");return(x.isOpen(p)?kN:Yx)(n,s,i,p,l,u,f)},FA=(n,s)=>n.getSystem().getByUid(s.uid+"-"+C2()).map(i=>()=>en.value(i)).getOrThunk(()=>s.lazySink.fold(()=>()=>en.error(new Error("No internal sink is specified, nor could an external sink be found")),i=>()=>i(n))),E2=n=>{x.getState(n).each(s=>{bp.repositionMenus(s)})},A2=(n,s,i)=>{const l=rp(),u=FA(s,n);return{dom:{tag:"div",classes:n.sandboxClasses,attributes:{id:l.id}},behaviours:ho(n.sandboxBehaviours,[De.config({store:{mode:"memory",initialValue:s}}),x.config({onOpen:(f,p)=>{const b=LA(n,s);l.link(s.element),n.matchWidth&&((y,w,E)=>{const C=On.getCurrent(w).getOr(w),O=To(y.element);E?bo(C.element,"min-width",O+"px"):((B,P)=>{$t.set(B,P)})(C.element,O)})(b.hotspot,p,n.useMinWidth),n.onOpen(b,f,p),i!==void 0&&i.onOpen!==void 0&&i.onOpen(f,p)},onClose:(f,p)=>{l.unlink(s.element),u().getOr(p).element.dom.dispatchEvent(new window.FocusEvent("focusout")),i!==void 0&&i.onClose!==void 0&&i.onClose(f,p)},isPartOf:(f,p,b)=>ml(p,b)||ml(s,b),getAttachPoint:()=>u().getOrDie()}),On.config({find:f=>x.getState(f).bind(p=>On.getCurrent(p))}),pl.config({channels:{...U({isExtraPart:$e}),...ue({doReposition:E2})}})])}},HA=n=>{const s=Ds.getCoupled(n,"sandbox");E2(s)},z2=()=>[Ae("sandboxClasses",[]),So("sandboxBehaviours",[On,pl,x,De])],wN=ce([Ge("dom"),Ge("fetch"),Sn("onOpen"),fl("onExecute"),Ae("getHotspot",T.some),Ae("getAnchorOverrides",ce({})),af(),It("dropdownBehaviours",[yo,Ds,Jt,wo]),Ge("toggleClass"),Ae("eventOrder",{}),sn("lazySink"),Ae("matchWidth",!1),Ae("useMinWidth",!1),sn("role"),sn("listRole")].concat(z2())),_N=ce([Ru({schema:[Qm(),Ae("fakeFocus",!1)],name:"menu",defaults:n=>({onExecute:n.onExecute})}),PA()]),bl=Dl({name:"Dropdown",configFields:wN(),partFields:_N(),factory:(n,s,i,l)=>{const u=y=>{x.getState(y).each(w=>{bp.highlightPrimary(w)})},f=(y,w,E)=>S2(n,Tt,y,l,w,E),p={expand:y=>{yo.isOn(y)||f(y,at,nl.HighlightNone).get(at)},open:y=>{yo.isOn(y)||f(y,at,nl.HighlightMenuAndItem).get(at)},refetch:y=>Ds.getExistingCoupled(y,"sandbox").fold(()=>f(y,at,nl.HighlightMenuAndItem).map(at),w=>Yx(n,Tt,y,w,l,at,nl.HighlightMenuAndItem).map(at)),isOpen:yo.isOn,close:y=>{yo.isOn(y)&&f(y,at,nl.HighlightMenuAndItem).get(at)},repositionMenus:y=>{yo.isOn(y)&&HA(y)}},b=(y,w)=>(jd(y),T.some(!0));return{uid:n.uid,dom:n.dom,components:s,behaviours:$o(n.dropdownBehaviours,[yo.config({toggleClass:n.toggleClass,aria:{mode:"expanded"}}),Ds.config({others:{sandbox:y=>A2(n,y,{onOpen:()=>yo.on(y),onClose:()=>yo.off(y)})}}),Jt.config({mode:"special",onSpace:b,onEnter:b,onDown:(y,w)=>{if(bl.isOpen(y)){const E=Ds.getCoupled(y,"sandbox");u(E)}else bl.open(y);return T.some(!0)},onEscape:(y,w)=>bl.isOpen(y)?(bl.close(y),T.some(!0)):T.none()}),wo.config({})]),events:ay(T.some(y=>{f(y,u,nl.HighlightMenuAndItem).get(at)})),eventOrder:{...n.eventOrder,[Ei()]:["disabling","toggling","alloy.base.behaviour"]},apis:p,domModification:{attributes:{"aria-haspopup":n.listRole.getOr("true"),...n.role.fold(()=>({}),y=>({role:y})),...n.dom.tag==="button"?{type:dt(n.dom,"attributes").bind(y=>dt(y,"type")).getOr("button")}:{}}}}},apis:{open:(n,s)=>n.open(s),refetch:(n,s)=>n.refetch(s),expand:(n,s)=>n.expand(s),close:(n,s)=>n.close(s),isOpen:(n,s)=>n.isOpen(s),repositionMenus:(n,s)=>n.repositionMenus(s)}}),$A=(n,s,i)=>{HE(n).each(l=>{var u;((f,p)=>{Cr(p.element,"id").each(b=>lo(f.element,"aria-activedescendant",b))})(l,i),(an((u=s).element,v0)?T.some(u.element):es(u.element,"."+v0)).each(f=>{Cr(f,"id").each(p=>lo(l.element,"aria-controls",p))})}),lo(i.element,"aria-selected","true")},CN=(n,s,i)=>{lo(i.element,"aria-selected","false")},Kh=n=>Ds.getExistingCoupled(n,"sandbox").bind(y0).map($E).map(s=>s.fetchPattern).getOr("");var R0;(function(n){n[n.ContentFocus=0]="ContentFocus",n[n.UiFocus=1]="UiFocus"})(R0||(R0={}));const SN=(n,s,i,l,u)=>{const f=i.shared.providers,p=y=>u?{...y,shortcut:T.none(),icon:y.text.isSome()?T.none():y.icon}:y;switch(n.type){case"menuitem":return(b=n,Ir("menuitem",nA,b)).fold(vm,y=>T.some(((w,E,C,O=!0)=>{const B=E0({presets:"normal",iconContent:w.icon,textContent:w.text,htmlContent:T.none(),ariaLabel:w.text,caret:T.none(),checkMark:T.none(),shortcutContent:w.shortcut},C,O);return by({data:yy(w),getApi:P=>({isEnabled:()=>!Eo.isDisabled(P),setEnabled:Z=>Eo.set(P,!Z)}),enabled:w.enabled,onAction:w.onAction,onSetup:w.onSetup,triggersSubmenu:!1,itemBehaviours:[]},B,E,C)})(p(y),s,f,l)));case"nestedmenuitem":return(y=>Ir("nestedmenuitem",rA,y))(n).fold(vm,y=>T.some(((w,E,C,O=!0,B=!1)=>{const P=B?(Z=C.icons,t2("chevron-down",Z,[H_])):(oe=>t2("chevron-right",oe,[H_]))(C.icons);var Z;const K=E0({presets:"normal",iconContent:w.icon,textContent:w.text,htmlContent:T.none(),ariaLabel:w.text,caret:T.some(P),checkMark:T.none(),shortcutContent:w.shortcut},C,O);return by({data:yy(w),getApi:oe=>({isEnabled:()=>!Eo.isDisabled(oe),setEnabled:q=>Eo.set(oe,!q),setIconFill:(q,W)=>{es(oe.element,`svg path[class="${q}"], rect[class="${q}"]`).each(J=>{lo(J,"fill",W)})},setTooltip:q=>{const W=C.translate(q);lo(oe.element,"aria-label",W)}}),enabled:w.enabled,onAction:at,onSetup:w.onSetup,triggersSubmenu:!0,itemBehaviours:[]},K,E,C)})(p(y),s,f,l,u)));case"togglemenuitem":return(y=>Ir("togglemenuitem",fN,y))(n).fold(vm,y=>T.some(((w,E,C,O=!0)=>{const B=E0({iconContent:w.icon,textContent:w.text,htmlContent:T.none(),ariaLabel:w.text,checkMark:T.some(uA(C.icons)),caret:T.none(),shortcutContent:w.shortcut,presets:"normal",meta:w.meta},C,O);return nr(by({data:yy(w),enabled:w.enabled,getApi:P=>({setActive:Z=>{yo.set(P,Z)},isActive:()=>yo.isOn(P),isEnabled:()=>!Eo.isDisabled(P),setEnabled:Z=>Eo.set(P,!Z)}),onAction:w.onAction,onSetup:w.onSetup,triggersSubmenu:!1,itemBehaviours:[]},B,E,C),{toggling:{toggleClass:RE,toggleOnExecute:!1,selected:w.active},role:w.role.getOrUndefined()})})(p(y),s,f,l)));case"separator":return(y=>Ir("separatormenuitem",GE,y))(n).fold(vm,y=>T.some(BA(y)));case"fancymenuitem":return(y=>Ir("fancymenuitem",oA,y))(n).fold(vm,y=>((w,E)=>dt(MA,w.fancytype).map(C=>C(w,E)))(y,i));default:return console.error("Unknown item in general menu",n),T.none()}var b},kg=(n,s,i,l,u,f,p)=>{const b=l===1,y=!b||k0(n);return $a(nt(n,w=>{switch(w.type){case"separator":return(E=w,Ir("Autocompleter.Separator",GE,E)).fold(vm,C=>T.some(BA(C)));case"cardmenuitem":return(C=>Ir("cardmenuitem",uN,C))(w).fold(vm,C=>T.some(((O,B,P,Z)=>{const K={dom:fA(O.label),optComponents:[T.some({dom:{tag:"div",classes:[h0,b0]},components:r2(O.items,Z)})]};return by({data:yy({text:T.none(),...O}),enabled:O.enabled,getApi:oe=>({isEnabled:()=>!Eo.isDisabled(oe),setEnabled:q=>{Eo.set(oe,!q),Dt(Ea(oe.element,"*"),W=>{oe.getSystem().getByDom(W).each(J=>{J.hasConfigured(Eo)&&Eo.set(J,!q)})})}}),onAction:O.onAction,onSetup:O.onSetup,triggersSubmenu:!1,itemBehaviours:T.from(Z.itemBehaviours).getOr([])},K,B,P.providers)})({...C,onAction:O=>{C.onAction(O),i(C.value,C.meta)}},u,f,{itemBehaviours:mA(C.meta,f,T.none()),cardText:{matchText:s,highlightOn:p}})));default:return(C=>Ir("Autocompleter.Item",tN,C))(w).fold(vm,C=>T.some(((O,B,P,Z,K,oe,q,W=!0)=>{const J=E0({presets:Z,textContent:T.none(),htmlContent:P?O.text.map(se=>n2(se,B)):T.none(),ariaLabel:O.text,iconContent:O.icon,shortcutContent:T.none(),checkMark:T.none(),caret:T.none(),value:O.value},q.providers,W,O.icon),ne=O.text.filter(se=>!P&&se!=="");return by({data:yy(O),enabled:O.enabled,getApi:ce({}),onAction:se=>K(O.value,O.meta),onSetup:ce(at),triggersSubmenu:!1,itemBehaviours:mA(O,q,ne)},J,oe,q.providers)})(C,s,b,"normal",i,u,f,y)))}var E}))},VA=(n,s,i,l,u,f)=>{const p=k0(s),b=$a(nt(s,w=>{const E=C=>SN(C,i,l,(O=>u?!no(O,"text"):p)(C),u);return w.type==="nestedmenuitem"&&w.getSubmenuItems().length<=0?E({...w,enabled:!1}):E(w)})),y=(w=>w.searchMode==="no-search"?{menuType:"normal"}:{menuType:"searchable",searchMode:w})(f);return(u?XR:j_)(n,p,b,1,y)},T2=n=>bp.singleData(n.value,n),ou=n=>lf(Et(n.startContainer),n.startOffset,Et(n.endContainer),n.endOffset),jA=(n,s)=>{const i=Bt("autocompleter"),l=Ut(!1),u=Ut(!1),f=Cn(),p=Ya(ss.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:i}},components:[],fireDismissalEventInstead:{},inlineBehaviours:ft([Zo("dismissAutocompleter",[je(Xu(),()=>C()),je(Up(),(P,Z)=>{Cr(Z.event.target,"id").each(K=>lo(Et(n.getBody()),"aria-activedescendant",K))})])]),lazySink:s.getSink})),b=()=>ss.isOpen(p),y=u.get,w=()=>{if(b()){ss.hide(p),n.dom.remove(i,!1);const P=Et(n.getBody());Cr(P,"aria-owns").filter(Z=>Z===i).each(()=>{Xo(P,"aria-owns"),Xo(P,"aria-activedescendant")})}},E=()=>ss.getContent(p).bind(P=>wt(P.components(),0)),C=()=>n.execCommand("mceAutocompleterClose"),O=P=>{const Z=(K=>{const oe=uo(K,q=>T.from(q.columns)).getOr(1);return kn(K,q=>{const W=q.items;return kg(W,q.matchText,(J,ne)=>{const se={hide:()=>C(),reload:be=>{w(),n.execCommand("mceAutocompleterReload",!1,{fetchOptions:be})}};n.execCommand("mceAutocompleterRefreshActiveRange"),f.get().each(be=>{l.set(!0),q.onAction(se,be,J,ne),l.set(!1)})},oe,_f.BUBBLE_TO_SANDBOX,s,q.highlightOn)})})(P);Z.length>0?(((K,oe)=>{const q=uo(K,W=>T.from(W.columns)).getOr(1);ss.showMenuAt(p,{anchor:{type:"selection",getSelection:()=>f.get().map(ou),root:Et(n.getBody())}},((W,J,ne,se)=>{const be=O0(J,se),Ee=Fh(se);return{data:T2({...W,movement:be,menuBehaviours:C0(J!=="auto"?[]:[Er((qe,Ue)=>{e2(qe,4,Ee.item).each(({numColumns:Fe,numRows:gt})=>{Jt.setGridSize(qe,gt,Fe)})})])}),menu:{markers:Fh(se),fakeFocus:ne===R0.ContentFocus}}})(j_("autocompleter-value",!0,oe,q,{menuType:"normal"}),q,R0.ContentFocus,"normal")),E().each(tr.highlightFirst)})(P,Z),lo(Et(n.getBody()),"aria-owns",i),n.inline||B()):w()},B=()=>{n.dom.get(i)&&n.dom.remove(i,!1);const P=n.getDoc().documentElement,Z=n.selection.getNode(),K=(oe=>Xm(oe,!0))(p.element);ki(K,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${Z.offsetTop}px`,left:`${Z.offsetLeft}px`}),n.dom.add(P,K.dom),es(K,'[role="menu"]').each(oe=>{_n(oe,"position"),_n(oe,"max-height")})};n.on("AutocompleterStart",({lookupData:P})=>{u.set(!0),l.set(!1),O(P)}),n.on("AutocompleterUpdate",({lookupData:P})=>O(P)),n.on("AutocompleterUpdateActiveRange",({range:P})=>f.set(P)),n.on("AutocompleterEnd",()=>{w(),u.set(!1),l.set(!1),f.clear()}),((P,Z)=>{const K=(q,W)=>{qt(q,Yr(),{raw:W})},oe=()=>P.getMenu().bind(tr.getHighlighted);Z.on("keydown",q=>{const W=q.which;P.isActive()&&(P.isMenuOpen()?W===13?(oe().each(jd),q.preventDefault()):W===40?(oe().fold(()=>{P.getMenu().each(tr.highlightFirst)},J=>{K(J,q)}),q.preventDefault(),q.stopImmediatePropagation()):W!==37&&W!==38&&W!==39||oe().each(J=>{K(J,q),q.preventDefault(),q.stopImmediatePropagation()}):W!==13&&W!==38&&W!==40||P.cancelIfNecessary())}),Z.on("NodeChange",()=>{!P.isActive()||P.isProcessingAction()||Z.queryCommandState("mceAutoCompleterInRange")||P.cancelIfNecessary()})})({cancelIfNecessary:C,isMenuOpen:b,isActive:y,isProcessingAction:l.get,getMenu:E},n)},Cy=(n,s,i)=>Wd(n,s,i).isSome(),O2=(n,s)=>{let i=null;return{cancel:()=>{i!==null&&(clearTimeout(i),i=null)},schedule:(...l)=>{i=setTimeout(()=>{n.apply(null,l),i=null},s)}}},UA=n=>{const s=n.raw;return s.touches===void 0||s.touches.length!==1?T.none():T.some(s.touches[0])},Xx=(n,s)=>{const i={stopBackspace:!0,...s},l=(C=>{const O=Cn(),B=Ut(!1),P=O2(K=>{C.triggerEvent(Jy(),K),B.set(!0)},400),Z=dl([{key:N(),value:K=>(UA(K).each(oe=>{P.cancel();const q={x:oe.clientX,y:oe.clientY,target:K.target};P.schedule(K),B.set(!1),O.set(q)}),T.none())},{key:j(),value:K=>(P.cancel(),UA(K).each(oe=>{O.on(q=>{((W,J)=>{const ne=Math.abs(W.clientX-J.x),se=Math.abs(W.clientY-J.y);return ne>5||se>5})(oe,q)&&O.clear()})}),T.none())},{key:de(),value:K=>(P.cancel(),O.get().filter(oe=>wn(oe.target,K.target)).map(oe=>B.get()?(K.prevent(),!1):C.triggerEvent(Vc(),K)))}]);return{fireIfReady:(K,oe)=>dt(Z,oe).bind(q=>q(K))}})(i),u=nt(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),C=>Hi(n,C,O=>{l.fireIfReady(O,C).each(B=>{B&&O.kill()}),i.triggerEvent(C,O)&&O.kill()})),f=Cn(),p=Hi(n,"paste",C=>{l.fireIfReady(C,"paste").each(O=>{O&&C.kill()}),i.triggerEvent("paste",C)&&C.kill(),f.set(setTimeout(()=>{i.triggerEvent($f(),C)},0))}),b=Hi(n,"keydown",C=>{i.triggerEvent("keydown",C)?C.kill():i.stopBackspace&&(O=>O.raw.which===f3[0]&&!we(["input","textarea"],ba(O.target))&&!Cy(O.target,'[contenteditable="true"]'))(C)&&C.prevent()}),y=Hi(n,"focusin",C=>{i.triggerEvent("focusin",C)&&C.kill()}),w=Cn(),E=Hi(n,"focusout",C=>{i.triggerEvent("focusout",C)&&C.kill(),w.set(setTimeout(()=>{i.triggerEvent(Hf(),C)},0))});return{unbind:()=>{Dt(u,C=>{C.unbind()}),b.unbind(),y.unbind(),E.unbind(),p.unbind(),f.on(clearTimeout),w.on(clearTimeout)}}},D2=(n,s)=>{const i=dt(n,"target").getOr(s);return Ut(i)},N0=Li([{stopped:[]},{resume:["element"]},{complete:[]}]),ZA=(n,s,i,l,u,f)=>{const p=n(s,l),b=((y,w)=>{const E=Ut(!1),C=Ut(!1);return{stop:()=>{E.set(!0)},cut:()=>{C.set(!0)},isStopped:E.get,isCut:C.get,event:y,setSource:w.set,getSource:w.get}})(i,u);return p.fold(()=>(f.logEventNoHandlers(s,l),N0.complete()),y=>{const w=y.descHandler;return l1(w)(b),b.isStopped()?(f.logEventStopped(s,y.element,w.purpose),N0.stopped()):b.isCut()?(f.logEventCut(s,y.element,w.purpose),N0.complete()):Vs(y.element).fold(()=>(f.logNoParent(s,y.element,w.purpose),N0.complete()),E=>(f.logEventResponse(s,y.element,w.purpose),N0.resume(E)))})},M0=(n,s,i,l,u,f)=>ZA(n,s,i,l,u,f).fold(Pt,p=>M0(n,s,i,p,u,f),$e),Jx=(n,s,i,l,u)=>{const f=D2(i,l);return M0(n,s,i,l,f,u)},WA=()=>{const n=(()=>{const l={};return{registerId:(u,f,p)=>{or(p,(b,y)=>{const w=l[y]!==void 0?l[y]:{};w[f]=((E,C)=>({cHandler:ct.apply(void 0,[E.handler].concat(C)),purpose:E.purpose}))(b,u),l[y]=w})},unregisterId:u=>{or(l,(f,p)=>{no(f,u)&&delete f[u]})},filterByType:u=>dt(l,u).map(f=>_r(f,(p,b)=>((y,w)=>({id:y,descHandler:w}))(b,p))).getOr([]),find:(u,f,p)=>dt(l,f).bind(b=>fd(p,y=>((w,E)=>tp(E).bind(C=>dt(w,C)).map(C=>((O,B)=>({element:O,descHandler:B}))(E,C)))(b,y),u))}})(),s={},i=l=>{tp(l.element).each(u=>{delete s[u],n.unregisterId(u)})};return{find:(l,u,f)=>n.find(l,u,f),filter:l=>n.filterByType(l),register:l=>{const u=(p=>{const b=p.element;return tp(b).getOrThunk(()=>((y,w)=>{const E=Bt(Cb+"uid-");return Sb(w,E),E})(0,p.element))})(l);Vo(s,u)&&((p,b)=>{const y=s[b];if(y!==p)throw new Error('The tagId "'+b+'" is already used by: '+Su(y.element)+`
Cannot use it for: `+Su(p.element)+`
The conflicting element is`+(Us(y.element)?" ":" not ")+"already in the DOM");i(p)})(l,u);const f=[l];n.registerId(f,u,l.events),s[u]=l},unregister:i,getById:l=>dt(s,l)}},Iu=_d({name:"Container",factory:n=>{const{attributes:s,...i}=n.dom;return{uid:n.uid,dom:{tag:"div",attributes:{role:"presentation",...s},...i},components:n.components,behaviours:go(n.containerBehaviours),events:n.events,domModification:n.domModification,eventOrder:n.eventOrder}},configFields:[Ae("components",[]),It("containerBehaviours",[]),Ae("events",{}),Ae("domModification",{}),Ae("eventOrder",{})]}),Qx=n=>{const s=K=>Vs(n.element).fold(Pt,oe=>wn(K,oe)),i=WA(),l=(K,oe)=>i.find(s,K,oe),u=Xx(n.element,{triggerEvent:(K,oe)=>Yg(K,oe.target,q=>((W,J,ne,se)=>Jx(W,J,ne,ne.target,se))(l,K,oe,q))}),f={debugInfo:ce("real"),triggerEvent:(K,oe,q)=>{Yg(K,oe,W=>Jx(l,K,q,oe,W))},triggerFocus:(K,oe)=>{tp(K).fold(()=>{Fi(K)},q=>{Yg(md(),K,W=>(((J,ne,se,be,Ee)=>{const qe=D2(se,be);ZA(J,ne,se,be,qe,Ee)})(l,md(),{originator:oe,kill:at,prevent:at,target:K},K,W),!1))})},triggerEscape:(K,oe)=>{f.triggerEvent("keydown",K.element,oe.event)},getByUid:K=>P(K),getByDom:K=>Z(K),build:Ya,buildOrPatch:Db,addToGui:K=>{y(K)},removeFromGui:K=>{w(K)},addToWorld:K=>{p(K)},removeFromWorld:K=>{b(K)},broadcast:K=>{C(K)},broadcastOn:(K,oe)=>{O(K,oe)},broadcastEvent:(K,oe)=>{B(K,oe)},isConnected:Pt},p=K=>{K.connect(f),Ss(K.element)||(i.register(K),Dt(K.components(),p),f.triggerEvent(Fd(),K.element,{target:K.element}))},b=K=>{Ss(K.element)||(Dt(K.components(),b),i.unregister(K)),K.disconnect()},y=K=>{gf(n,K)},w=K=>{tl(K)},E=K=>{const oe=i.filter(Ji());Dt(oe,q=>{const W=q.descHandler;l1(W)(K)})},C=K=>{E({universal:!0,data:K})},O=(K,oe)=>{E({universal:!1,channels:K,data:oe})},B=(K,oe)=>((q,W,J)=>{const ne=(se=>{const be=Ut(!1);return{stop:()=>{be.set(!0)},cut:at,isStopped:be.get,isCut:$e,event:se,setSource:er("Cannot set source of a broadcasted event"),getSource:er("Cannot get source of a broadcasted event")}})(W);return Dt(q,se=>{const be=se.descHandler;l1(be)(ne)}),ne.isStopped()})(i.filter(K),oe),P=K=>i.getById(K).fold(()=>en.error(new Error('Could not find component with uid: "'+K+'" in system.')),en.value),Z=K=>{const oe=tp(K).getOr("not found");return P(oe)};return p(n),{root:n,element:n.element,destroy:()=>{u.unbind(),xa(n.element)},add:y,remove:w,getByUid:P,getByDom:Z,addToWorld:p,removeFromWorld:b,broadcast:C,broadcastOn:O,broadcastEvent:B}},EN=ce([Ae("prefix","form-field"),It("fieldBehaviours",[On,De])]),R2=ce([wd({schema:[Ge("dom")],name:"label"}),wd({factory:{sketch:n=>({uid:n.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:n.text}})},schema:[Ge("text")],name:"aria-descriptor"}),hl({factory:{sketch:n=>{const s=((i,l)=>{const u={};return or(i,(f,p)=>{we(l,p)||(u[p]=f)}),u})(n,["factory"]);return n.factory.sketch(s)}},schema:[Ge("factory")],name:"field"})]),rr=Dl({name:"FormField",configFields:EN(),partFields:R2(),factory:(n,s,i,l)=>{const u=$o(n.fieldBehaviours,[On.config({find:b=>Tr(b,n,"field")}),De.config({store:{mode:"manual",getValue:b=>On.getCurrent(b).bind(De.getValue),setValue:(b,y)=>{On.getCurrent(b).each(w=>{De.setValue(w,y)})}}})]),f=zo([Er((b,y)=>{const w=X4(b,n,["label","field","aria-descriptor"]);w.field().each(E=>{const C=Bt(n.prefix);w.label().each(O=>{lo(O.element,"for",C),lo(E.element,"id",C)}),w["aria-descriptor"]().each(O=>{const B=Bt(n.prefix);lo(O.element,"id",B),lo(E.element,"aria-describedby",B)})})})]),p={getField:b=>Tr(b,n,"field"),getLabel:b=>Tr(b,n,"label")};return{uid:n.uid,dom:n.dom,components:s,behaviours:u,events:f,apis:p}},apis:{getField:(n,s)=>n.getField(s),getLabel:(n,s)=>n.getLabel(s)}});var AN=tinymce.util.Tools.resolve("tinymce.html.Entities");const B0=(n,s,i,l)=>{const u=zN(n,s,i,l);return rr.sketch(u)},zN=(n,s,i,l)=>({dom:ek(i),components:n.toArray().concat([s]),fieldBehaviours:ft(l)}),ek=n=>({tag:"div",classes:["tox-form__group"].concat(n)}),wg=(n,s)=>rr.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Os(s.translate(n))]}),rl=Bt("form-component-change"),_g=Bt("form-close"),Sp=Bt("form-cancel"),Sf=Bt("form-action"),I0=Bt("form-submit"),N2=Bt("form-block"),M2=Bt("form-unblock"),qA=Bt("form-tabchange"),tk=Bt("form-resize"),GA=(n,s,i)=>{const l=n.label.map(C=>wg(C,s)),u=s.icons(),f=C=>(O,B)=>{Wd(B.event.target,"[data-collection-item-value]").each(P=>{C(O,B,P,gs(P,"data-collection-item-value"))})},p=f((C,O,B,P)=>{O.stop(),s.isDisabled()||qt(C,Sf,{name:n.name,value:P})}),b=[je(Wt(),f((C,O,B)=>{Fi(B)})),je(qs(),p),je(Vc(),p),je(Fn(),f((C,O,B)=>{es(C.element,"."+ym).each(P=>{Kt(P,ym)}),bt(B,ym)})),je(cs(),f(C=>{es(C.element,"."+ym).each(O=>{Kt(O,ym),rh(O)})})),Wl(f((C,O,B,P)=>{qt(C,Sf,{name:n.name,value:P})}))],y=(C,O)=>nt(Ea(C.element,".tox-collection__item"),O),w=rr.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(n.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:Tt},behaviours:ft([Eo.config({disabled:s.isDisabled,onDisabled:C=>{y(C,O=>{bt(O,"tox-collection__item--state-disabled"),lo(O,"aria-disabled",!0)})},onEnabled:C=>{y(C,O=>{Kt(O,"tox-collection__item--state-disabled"),Xo(O,"aria-disabled")})}}),Ia(),fo.config({}),Ys.config({...s.tooltips.getConfig({tooltipText:"",onShow:C=>{es(C.element,"."+ym+"[data-mce-tooltip]").each(O=>{Cr(O,"data-mce-tooltip").each(B=>{Ys.setComponents(C,s.tooltips.getComponents({tooltipText:B}))})})}}),mode:"children-keyboard-focus",anchor:C=>({type:"node",node:es(C.element,"."+ym).orThunk(()=>Ql(".tox-collection__item")),root:C.element,layouts:{onLtr:ce([Bs,fs,xs,Gs,ks,cr]),onRtl:ce([Bs,fs,xs,Gs,ks,cr])},bubble:bc(0,-2,{})})}),De.config({store:{mode:"memory",initialValue:i.getOr([])},onSetValue:(C,O)=>{((B,P)=>{const Z=nt(P,q=>{const W=Xd.translate(q.text),J=n.columns===1?`<div class="tox-collection__item-label">${W}</div>`:"",ne=`<div class="tox-collection__item-icon">${(Ee=>{var qe;return(qe=u[Ee])!==null&&qe!==void 0?qe:Ee})(q.icon)}</div>`,se={_:" "," - ":" ","-":" "},be=W.replace(/\_| \- |\-/g,Ee=>se[Ee]);return`<div data-mce-tooltip="${be}" class="tox-collection__item${s.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${AN.encodeAllRaw(q.value)}" aria-label="${be}">${ne}${J}</div>`}),K=n.columns!=="auto"&&n.columns>1?kt(Z,n.columns):[Z],oe=nt(K,q=>`<div class="tox-collection__group">${q.join("")}</div>`);Ym(B.element,oe.join(""))})(C,O),n.columns==="auto"&&e2(C,5,"tox-collection__item").each(({numRows:B,numColumns:P})=>{Jt.setGridSize(C,B,P)}),Uo(C,tk)}}),wr.config({}),Jt.config((E=n.columns,E===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:E==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:".tox-collection__group",cell:`.${Dx}`}})),Zo("collection-events",b)]),eventOrder:{[Ei()]:["disabling","alloy.base.behaviour","collection-events"],[Fn()]:["collection-events","tooltipping"]}});var E;return B0(l,w,["tox-form__group--collection"],[])},KA=["input","textarea"],ok=n=>{const s=ba(n);return we(KA,s)},YA=(n,s)=>{const i=s.getRoot(n).getOr(n.element);Kt(i,s.invalidClass),s.notify.each(l=>{ok(n.element)&&lo(n.element,"aria-invalid",!1),l.getContainer(n).each(u=>{Ym(u,l.validHtml)}),l.onValid(n)})},B2=(n,s,i,l)=>{const u=s.getRoot(n).getOr(n.element);bt(u,s.invalidClass),s.notify.each(f=>{ok(n.element)&&lo(n.element,"aria-invalid",!0),f.getContainer(n).each(p=>{Ym(p,l)}),f.onInvalid(n,l)})},XA=(n,s,i)=>s.validator.fold(()=>km(en.value(!0)),l=>l.validate(n)),I2=(n,s,i)=>(s.notify.each(l=>{l.onValidate(n)}),XA(n,s).map(l=>n.getSystem().isConnected()?l.fold(u=>(B2(n,s,0,u),en.error(u)),u=>(YA(n,s),en.value(u))):en.error("No longer in system")));var TN=Object.freeze({__proto__:null,markValid:YA,markInvalid:B2,query:XA,run:I2,isInvalid:(n,s)=>{const i=s.getRoot(n).getOr(n.element);return an(i,s.invalidClass)}}),JA=Object.freeze({__proto__:null,events:(n,s)=>n.validator.map(i=>zo([je(i.onEvent,l=>{I2(l,n).get(Tt)})].concat(i.validateOnLoad?[Er(l=>{I2(l,n).get(at)})]:[]))).getOr({})}),ON=[Ge("invalidClass"),Ae("getRoot",T.none),Kr("notify",[Ae("aria","alert"),Ae("getContainer",T.none),Ae("validHtml",""),Sn("onValid"),Sn("onInvalid"),Sn("onValidate")]),Kr("validator",[Ge("validate"),Ae("onEvent","input"),Ae("validateOnLoad",!0)])];const wm=ua({fields:ON,name:"invalidating",active:JA,apis:TN,extra:{validation:n=>s=>{const i=De.getValue(s);return km(n(i))}}}),Yh=ua({fields:[],name:"unselecting",active:Object.freeze({__proto__:null,events:()=>zo([Ju(Ka(),Pt)]),exhibit:()=>us({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})})}),P2=Bt("color-input-change"),L2=Bt("color-swatch-change"),QA=Bt("color-picker-cancel"),F2=wd({schema:[Ge("dom")],name:"label"}),Cg=n=>wd({name:n+"-edge",overrides:s=>s.model.manager.edgeActions[n].fold(()=>({}),i=>({events:zo([Zp(N(),(l,u,f)=>i(l,f),[s]),Zp(Ke(),(l,u,f)=>i(l,f),[s]),Zp(io(),(l,u,f)=>{f.mouseIsDown.get()&&i(l,f)},[s])])}))}),DN=Cg("top-left"),RN=Cg("top"),NN=Cg("top-right"),MN=Cg("right"),ez=Cg("bottom-right"),H2=Cg("bottom"),BN=Cg("bottom-left"),nk=Cg("left"),IN=hl({name:"thumb",defaults:ce({dom:{styles:{position:"absolute"}}}),overrides:n=>({events:zo([qf(N(),n,"spectrum"),qf(j(),n,"spectrum"),qf(de(),n,"spectrum"),qf(Ke(),n,"spectrum"),qf(io(),n,"spectrum"),qf(xo(),n,"spectrum")])})}),rk=n=>mm(n.event);var PN=[F2,nk,MN,RN,H2,DN,NN,BN,ez,IN,hl({schema:[_a("mouseIsDown",()=>Ut(!1))],name:"spectrum",overrides:n=>{const s=n.model.manager,i=(l,u)=>s.getValueFromEvent(u).map(f=>s.setValueFrom(l,n,f));return{behaviours:ft([Jt.config({mode:"special",onLeft:(l,u)=>s.onLeft(l,n,rk(u)),onRight:(l,u)=>s.onRight(l,n,rk(u)),onUp:(l,u)=>s.onUp(l,n,rk(u)),onDown:(l,u)=>s.onDown(l,n,rk(u))}),wr.config({}),wo.config({})]),events:zo([je(N(),i),je(j(),i),je(Ke(),i),je(io(),(l,u)=>{n.mouseIsDown.get()&&i(l,u)})])}}})];const P0=ce("slider.change.value"),$2=n=>{const s=n.event.raw;if((i=>i.type.indexOf("touch")!==-1)(s)){const i=s;return i.touches!==void 0&&i.touches.length===1?T.some(i.touches[0]).map(l=>le(l.clientX,l.clientY)):T.none()}{const i=s;return i.clientX!==void 0?T.some(i).map(l=>le(l.clientX,l.clientY)):T.none()}},Xh=n=>n.model.minX,Sg=n=>n.model.minY,sk=n=>n.model.minX-1,ak=n=>n.model.minY-1,Ep=n=>n.model.maxX,nu=n=>n.model.maxY,ik=n=>n.model.maxX+1,lk=n=>n.model.maxY+1,ck=(n,s,i)=>s(n)-i(n),dk=n=>ck(n,Ep,Xh),V2=n=>ck(n,nu,Sg),tz=n=>dk(n)/2,j2=n=>V2(n)/2,Sy=(n,s)=>s?n.stepSize*n.speedMultiplier:n.stepSize,U2=n=>n.snapToGrid,Z2=n=>n.snapStart,uk=n=>n.rounded,fk=(n,s)=>n[s+"-edge"]!==void 0,W2=n=>fk(n,"left"),oz=n=>fk(n,"right"),Ey=n=>fk(n,"top"),nz=n=>fk(n,"bottom"),Ap=n=>n.model.value.get(),_m=(n,s)=>({x:n,y:s}),zd=(n,s)=>{qt(n,P0(),{value:s})},q2=(n,s,i,l)=>n<s?n:n>i?i:n===s?s-1:Math.max(s,n-l),L0=(n,s,i,l)=>n>i?n:n<s?s:n===i?i+1:Math.min(i,n+l),rz=(n,s,i)=>Math.max(s,Math.min(i,n)),sz=n=>{const{min:s,max:i,range:l,value:u,step:f,snap:p,snapStart:b,rounded:y,hasMinEdge:w,hasMaxEdge:E,minBound:C,maxBound:O,screenRange:B}=n,P=w?s-1:s,Z=E?i+1:i;if(u<C)return P;if(u>O)return Z;{const K=((q,W,J)=>Math.min(J,Math.max(q,W))-W)(u,C,O),oe=rz(K/B*l+s,P,Z);return p&&oe>=s&&oe<=i?((q,W,J,ne,se)=>se.fold(()=>{const be=q-W,Ee=Math.round(be/ne)*ne;return rz(W+Ee,W-1,J+1)},be=>{const Ee=(q-be)%ne,qe=Math.round(Ee/ne),Ue=Math.floor((q-be)/ne),Fe=Math.floor((J-be)/ne),gt=be+Math.min(Fe,Ue+qe)*ne;return Math.max(be,gt)}))(oe,s,i,f,b):y?Math.round(oe):oe}},mk=n=>{const{min:s,max:i,range:l,value:u,hasMinEdge:f,hasMaxEdge:p,maxBound:b,maxOffset:y,centerMinEdge:w,centerMaxEdge:E}=n;return u<s?f?0:w:u>i?p?b:E:(u-s)/l*y},G2="top",az="right",iz="bottom",K2="left",Cm=n=>n.element.dom.getBoundingClientRect(),Pu=(n,s)=>n[s],pk=n=>{const s=Cm(n);return Pu(s,K2)},lz=n=>{const s=Cm(n);return Pu(s,az)},gk=n=>{const s=Cm(n);return Pu(s,G2)},cz=n=>{const s=Cm(n);return Pu(s,iz)},dz=n=>{const s=Cm(n);return Pu(s,"width")},uz=n=>{const s=Cm(n);return Pu(s,"height")},hk=(n,s,i)=>(n+s)/2-i,fz=(n,s)=>{const i=Cm(n),l=Cm(s),u=Pu(i,K2),f=Pu(i,az),p=Pu(l,K2);return hk(u,f,p)},mz=(n,s)=>{const i=Cm(n),l=Cm(s),u=Pu(i,G2),f=Pu(i,iz),p=Pu(l,G2);return hk(u,f,p)},bk=(n,s)=>{qt(n,P0(),{value:s})},yk=(n,s,i)=>{const l={min:Xh(s),max:Ep(s),range:dk(s),value:i,step:Sy(s),snap:U2(s),snapStart:Z2(s),rounded:uk(s),hasMinEdge:W2(s),hasMaxEdge:oz(s),minBound:pk(n),maxBound:lz(n),screenRange:dz(n)};return sz(l)},pz=n=>(s,i,l)=>((u,f,p,b)=>{const y=(u>0?L0:q2)(Ap(p),Xh(p),Ep(p),Sy(p,b));return bk(f,y),T.some(y)})(n,s,i,l).map(Pt),Y2=(n,s,i,l,u,f)=>{const p=((b,y,w,E,C)=>{const O=dz(b),B=E.bind(K=>T.some(fz(K,b))).getOr(0),P=C.bind(K=>T.some(fz(K,b))).getOr(O),Z={min:Xh(y),max:Ep(y),range:dk(y),value:w,hasMinEdge:W2(y),hasMaxEdge:oz(y),minBound:pk(b),minOffset:0,maxBound:lz(b),maxOffset:O,centerMinEdge:B,centerMaxEdge:P};return mk(Z)})(s,f,i,l,u);return pk(s)-pk(n)+p},LN=pz(-1),FN=pz(1),HN=T.none,$N=T.none,X2={"top-left":T.none(),top:T.none(),"top-right":T.none(),right:T.some((n,s)=>{zd(n,ik(s))}),"bottom-right":T.none(),bottom:T.none(),"bottom-left":T.none(),left:T.some((n,s)=>{zd(n,sk(s))})};var VN=Object.freeze({__proto__:null,setValueFrom:(n,s,i)=>{const l=yk(n,s,i);return bk(n,l),l},setToMin:(n,s)=>{const i=Xh(s);bk(n,i)},setToMax:(n,s)=>{const i=Ep(s);bk(n,i)},findValueOfOffset:yk,getValueFromEvent:n=>$2(n).map(s=>s.left),findPositionOfValue:Y2,setPositionFromValue:(n,s,i,l)=>{const u=Ap(i),f=Y2(n,l.getSpectrum(n),u,l.getLeftEdge(n),l.getRightEdge(n),i),p=To(s.element)/2;bo(s.element,"left",f-p+"px")},onLeft:LN,onRight:FN,onUp:HN,onDown:$N,edgeActions:X2});const vk=(n,s)=>{qt(n,P0(),{value:s})},J2=(n,s,i)=>{const l={min:Sg(s),max:nu(s),range:V2(s),value:i,step:Sy(s),snap:U2(s),snapStart:Z2(s),rounded:uk(s),hasMinEdge:Ey(s),hasMaxEdge:nz(s),minBound:gk(n),maxBound:cz(n),screenRange:uz(n)};return sz(l)},gz=n=>(s,i,l)=>((u,f,p,b)=>{const y=(u>0?L0:q2)(Ap(p),Sg(p),nu(p),Sy(p,b));return vk(f,y),T.some(y)})(n,s,i,l).map(Pt),Q2=(n,s,i,l,u,f)=>{const p=((b,y,w,E,C)=>{const O=uz(b),B=E.bind(K=>T.some(mz(K,b))).getOr(0),P=C.bind(K=>T.some(mz(K,b))).getOr(O),Z={min:Sg(y),max:nu(y),range:V2(y),value:w,hasMinEdge:Ey(y),hasMaxEdge:nz(y),minBound:gk(b),minOffset:0,maxBound:cz(b),maxOffset:O,centerMinEdge:B,centerMaxEdge:P};return mk(Z)})(s,f,i,l,u);return gk(s)-gk(n)+p},jN=T.none,UN=T.none,ZN=gz(-1),WN=gz(1),qN={"top-left":T.none(),top:T.some((n,s)=>{zd(n,ak(s))}),"top-right":T.none(),right:T.none(),"bottom-right":T.none(),bottom:T.some((n,s)=>{zd(n,lk(s))}),"bottom-left":T.none(),left:T.none()};var GN=Object.freeze({__proto__:null,setValueFrom:(n,s,i)=>{const l=J2(n,s,i);return vk(n,l),l},setToMin:(n,s)=>{const i=Sg(s);vk(n,i)},setToMax:(n,s)=>{const i=nu(s);vk(n,i)},findValueOfOffset:J2,getValueFromEvent:n=>$2(n).map(s=>s.top),findPositionOfValue:Q2,setPositionFromValue:(n,s,i,l)=>{const u=Ap(i),f=Q2(n,l.getSpectrum(n),u,l.getTopEdge(n),l.getBottomEdge(n),i),p=vr(s.element)/2;bo(s.element,"top",f-p+"px")},onLeft:jN,onRight:UN,onUp:ZN,onDown:WN,edgeActions:qN});const xk=(n,s)=>{qt(n,P0(),{value:s})},kk=(n,s)=>({x:n,y:s}),Jh=(n,s)=>(i,l,u)=>((f,p,b,y,w)=>{const E=f>0?L0:q2,C=p?Ap(y).x:E(Ap(y).x,Xh(y),Ep(y),Sy(y,w)),O=p?E(Ap(y).y,Sg(y),nu(y),Sy(y,w)):Ap(y).y;return xk(b,kk(C,O)),T.some(C)})(n,s,i,l,u).map(Pt),KN=Jh(-1,!1),eC=Jh(1,!1),YN=Jh(-1,!0),XN=Jh(1,!0),JN={"top-left":T.some((n,s)=>{zd(n,_m(sk(s),ak(s)))}),top:T.some((n,s)=>{zd(n,_m(tz(s),ak(s)))}),"top-right":T.some((n,s)=>{zd(n,_m(ik(s),ak(s)))}),right:T.some((n,s)=>{zd(n,_m(ik(s),j2(s)))}),"bottom-right":T.some((n,s)=>{zd(n,_m(ik(s),lk(s)))}),bottom:T.some((n,s)=>{zd(n,_m(tz(s),lk(s)))}),"bottom-left":T.some((n,s)=>{zd(n,_m(sk(s),lk(s)))}),left:T.some((n,s)=>{zd(n,_m(sk(s),j2(s)))})};var hz=Object.freeze({__proto__:null,setValueFrom:(n,s,i)=>{const l=yk(n,s,i.left),u=J2(n,s,i.top),f=kk(l,u);return xk(n,f),f},setToMin:(n,s)=>{const i=Xh(s),l=Sg(s);xk(n,kk(i,l))},setToMax:(n,s)=>{const i=Ep(s),l=nu(s);xk(n,kk(i,l))},getValueFromEvent:n=>$2(n),setPositionFromValue:(n,s,i,l)=>{const u=Ap(i),f=Y2(n,l.getSpectrum(n),u.x,l.getLeftEdge(n),l.getRightEdge(n),i),p=Q2(n,l.getSpectrum(n),u.y,l.getTopEdge(n),l.getBottomEdge(n),i),b=To(s.element)/2,y=vr(s.element)/2;bo(s.element,"left",f-b+"px"),bo(s.element,"top",p-y+"px")},onLeft:KN,onRight:eC,onUp:YN,onDown:XN,edgeActions:JN});const Lu=Dl({name:"Slider",configFields:[Ae("stepSize",1),Ae("speedMultiplier",10),Ae("onChange",at),Ae("onChoose",at),Ae("onInit",at),Ae("onDragStart",at),Ae("onDragEnd",at),Ae("snapToGrid",!1),Ae("rounded",!0),sn("snapStart"),ca("model",zs("mode",{x:[Ae("minX",0),Ae("maxX",100),_a("value",n=>Ut(n.mode.minX)),Ge("getInitialValue"),Ar("manager",VN)],y:[Ae("minY",0),Ae("maxY",100),_a("value",n=>Ut(n.mode.minY)),Ge("getInitialValue"),Ar("manager",GN)],xy:[Ae("minX",0),Ae("maxX",100),Ae("minY",0),Ae("maxY",100),_a("value",n=>Ut({x:n.mode.minX,y:n.mode.minY})),Ge("getInitialValue"),Ar("manager",hz)]})),It("sliderBehaviours",[Jt,De]),_a("mouseIsDown",()=>Ut(!1))],partFields:PN,factory:(n,s,i,l)=>{const u=q=>hp(q,n,"thumb"),f=q=>hp(q,n,"spectrum"),p=q=>Tr(q,n,"left-edge"),b=q=>Tr(q,n,"right-edge"),y=q=>Tr(q,n,"top-edge"),w=q=>Tr(q,n,"bottom-edge"),E=n.model,C=E.manager,O=(q,W)=>{C.setPositionFromValue(q,W,n,{getLeftEdge:p,getRightEdge:b,getTopEdge:y,getBottomEdge:w,getSpectrum:f})},B=(q,W)=>{E.value.set(W);const J=u(q);O(q,J)},P=q=>{const W=n.mouseIsDown.get();n.mouseIsDown.set(!1),W&&Tr(q,n,"thumb").each(J=>{const ne=E.value.get();n.onChoose(q,J,ne)})},Z=(q,W)=>{W.stop(),n.mouseIsDown.set(!0),n.onDragStart(q,u(q))},K=(q,W)=>{W.stop(),n.onDragEnd(q,u(q)),P(q)},oe=q=>{Tr(q,n,"spectrum").map(Jt.focusIn)};return{uid:n.uid,dom:n.dom,components:s,behaviours:$o(n.sliderBehaviours,[Jt.config({mode:"special",focusIn:oe}),De.config({store:{mode:"manual",getValue:q=>E.value.get(),setValue:B}}),pl.config({channels:{[R()]:{onReceive:P}}})]),events:zo([je(P0(),(q,W)=>{((J,ne)=>{B(J,ne);const se=u(J);n.onChange(J,se,ne)})(q,W.event.value)}),Er((q,W)=>{const J=E.getInitialValue();E.value.set(J);const ne=u(q);O(q,ne);const se=f(q);n.onInit(q,ne,se,E.value.get())}),je(N(),Z),je(de(),K),je(Ke(),(q,W)=>{oe(q),Z(q,W)}),je(xo(),K)]),apis:{resetToMin:q=>{C.setToMin(q,n)},resetToMax:q=>{C.setToMax(q,n)},setValue:B,refresh:O},domModification:{styles:{position:"relative"}}}},apis:{setValue:(n,s,i)=>{n.setValue(s,i)},resetToMin:(n,s)=>{n.resetToMin(s)},resetToMax:(n,s)=>{n.resetToMax(s)},refresh:(n,s)=>{n.refresh(s)}}}),F0=Bt("rgb-hex-update"),wk=Bt("slider-update"),tC=Bt("palette-update"),_k="form",Ck=[It("formBehaviours",[De])],oC=n=>"<alloy.field."+n+">",Sm=(n,s)=>({uid:n.uid,dom:n.dom,components:s,behaviours:$o(n.formBehaviours,[De.config({store:{mode:"manual",getValue:i=>{const l=Ww(i,n);return $n(l,(u,f)=>u().bind(p=>{return b=On.getCurrent(p),y=new Error(`Cannot find a current component to extract the value from for form part '${f}': `+Su(p.element)),b.fold(()=>en.error(y),en.value);var b,y}).map(De.getValue))},setValue:(i,l)=>{or(l,(u,f)=>{Tr(i,n,f).each(p=>{On.getCurrent(p).each(b=>{De.setValue(b,u)})})})}}})]),apis:{getField:(i,l)=>Tr(i,n,l).bind(On.getCurrent)}}),Eg={getField:zb((n,s,i)=>n.getField(s,i)),sketch:n=>{const s=(()=>{const f=[];return{field:(p,b)=>(f.push(p),jw(_k,oC(p),b)),record:ce(f)}})(),i=n(s),l=s.record(),u=nt(l,f=>hl({name:f,pname:oC(f)}));return B1(_k,Ck,u,Sm,i)}},bz=Bt("valid-input"),yz=Bt("invalid-input"),vz=Bt("validating-input"),nC="colorcustom.rgb.",H0={isEnabled:Pt,setEnabled:at,immediatelyShow:at,immediatelyHide:at},QN=(n,s,i,l,u,f)=>{const p=(B,P)=>{const Z=P.get();B!==Z.isEnabled()&&(Z.setEnabled(B),B?Z.immediatelyShow():Z.immediatelyHide())},b=(B,P,Z)=>wm.config({invalidClass:s("invalid"),notify:{onValidate:K=>{qt(K,vz,{type:B})},onValid:K=>{p(!1,Z),qt(K,bz,{type:B,value:De.getValue(K)})},onInvalid:K=>{p(!0,Z),qt(K,yz,{type:B,value:De.getValue(K)})}},validator:{validate:K=>{const oe=De.getValue(K),q=P(oe)?en.value(!0):en.error(n("aria.input.invalid"));return km(q)},validateOnLoad:!1}}),y=(B,P,Z,K,oe)=>{const q=Ut(H0),W=n(nC+"range"),J=rr.parts.label({dom:{tag:"label",attributes:{"aria-label":K}},components:[Os(Z)]}),ne=rr.parts.field({data:oe,factory:kp,inputAttributes:{type:"text",...P==="hex"?{"aria-live":"polite"}:{}},inputClasses:[s("textfield")],inputBehaviours:ft([b(P,B,q),wr.config({}),Ys.config({...u({tooltipText:"",onSetup:Fe=>{q.set({isEnabled:()=>Ys.isEnabled(Fe),setEnabled:gt=>Ys.setEnabled(Fe,gt),immediatelyShow:()=>Ys.immediateOpenClose(Fe,!0),immediatelyHide:()=>Ys.immediateOpenClose(Fe,!1)}),Ys.setEnabled(Fe,!1)},onShow:(Fe,gt)=>{Ys.setComponents(Fe,[{dom:{tag:"p",classes:[s("rgb-warning-note")]},components:[Os(n(P==="hex"?"colorcustom.rgb.invalidHex":"colorcustom.rgb.invalid"))]}])}})})]),onSetValue:Fe=>{wm.isInvalid(Fe)&&wm.run(Fe).get(at)}}),se=Bt("aria-invalid"),be=Jn(f("invalid",T.some(se),"warning")),Ee=[J,ne,Jn({dom:{tag:"div",classes:[s("invalid-icon")]},components:[be.asSpec()]}).asSpec()],qe=P!=="hex"?[rr.parts["aria-descriptor"]({text:W})]:[],Ue=Ee.concat(qe);return{dom:{tag:"div",attributes:{role:"presentation"},classes:[s("rgb-container")]},components:Ue}},w=(B,P)=>{const Z=P.red,K=P.green,oe=P.blue;De.setValue(B,{red:Z,green:K,blue:oe})},E=Jn({dom:{tag:"div",classes:[s("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),C=(B,P)=>{E.getOpt(B).each(Z=>{bo(Z.element,"background-color","#"+P.value)})};return _d({factory:()=>{const B={red:Ut(T.some(255)),green:Ut(T.some(255)),blue:Ut(T.some(255)),hex:Ut(T.some("ffffff"))},P=Ee=>B[Ee].get(),Z=(Ee,qe)=>{B[Ee].set(qe)},K=Ee=>{const qe=Ee.red,Ue=Ee.green,Fe=Ee.blue;Z("red",T.some(qe)),Z("green",T.some(Ue)),Z("blue",T.some(Fe))},oe=(Ee,qe)=>{const Ue=qe.event;Ue.type!=="hex"?Z(Ue.type,T.none()):l(Ee)},q=(Ee,qe)=>{const Ue=qe.event;(Fe=>Fe.type==="hex")(Ue)?((Fe,gt)=>{i(Fe);const Rt=s2(gt);Z("hex",T.some(Rt.value));const Zt=Bu(Rt);w(Fe,Zt),K(Zt),qt(Fe,F0,{hex:Rt}),C(Fe,Rt)})(Ee,Ue.value):((Fe,gt,Rt)=>{const Zt=parseInt(Rt,10);Z(gt,T.some(Zt)),P("red").bind(ro=>P("green").bind(Ao=>P("blue").map(ln=>Cp(ro,Ao,ln,1)))).each(ro=>{const Ao=((ln,Lr)=>{const ts=A0(Lr);return Eg.getField(ln,"hex").each(Wo=>{wo.isFocused(Wo)||De.setValue(ln,{hex:ts.value})}),ts})(Fe,ro);qt(Fe,F0,{hex:Ao}),C(Fe,Ao)})})(Ee,Ue.type,Ue.value)},W=Ee=>({label:n(nC+Ee+".label"),description:n(nC+Ee+".description")}),J=W("red"),ne=W("green"),se=W("blue"),be=W("hex");return nr(Eg.sketch(Ee=>({dom:{tag:"form",classes:[s("rgb-form")],attributes:{"aria-label":n("aria.color.picker")}},components:[Ee.field("red",rr.sketch(y(z0,"red",J.label,J.description,255))),Ee.field("green",rr.sketch(y(z0,"green",ne.label,ne.description,255))),Ee.field("blue",rr.sketch(y(z0,"blue",se.label,se.description,255))),Ee.field("hex",rr.sketch(y(pA,"hex",be.label,be.description,"ffffff"))),E.asSpec()],formBehaviours:ft([wm.config({invalidClass:s("form-invalid")}),Zo("rgb-form-events",[je(bz,q),je(yz,oe),je(vz,oe)])])})),{apis:{updateHex:(Ee,qe)=>{De.setValue(Ee,{hex:qe.value}),((Ue,Fe)=>{const gt=Bu(Fe);w(Ue,gt),K(gt)})(Ee,qe),C(Ee,qe)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(B,P,Z)=>{B.updateHex(P,Z)}},extraApis:{}})},xz=(n,s,i,l)=>_d({name:"ColourPicker",configFields:[Ge("dom"),Ae("onValidHex",at),Ae("onInvalidHex",at)],factory:f=>{const p=QN(n,s,f.onValidHex,f.onInvalidHex,i,l),b=((oe,q)=>{const W=Lu.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[q("sv-palette-spectrum")]}}),J=Lu.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[q("sv-palette-thumb")],innerHtml:`<div class=${q("sv-palette-inner-thumb")} role="presentation"></div>`}}),ne=(se,be)=>{const{width:Ee,height:qe}=se,Ue=se.getContext("2d");if(Ue===null)return;Ue.fillStyle=be,Ue.fillRect(0,0,Ee,qe);const Fe=Ue.createLinearGradient(0,0,Ee,0);Fe.addColorStop(0,"rgba(255,255,255,1)"),Fe.addColorStop(1,"rgba(255,255,255,0)"),Ue.fillStyle=Fe,Ue.fillRect(0,0,Ee,qe);const gt=Ue.createLinearGradient(0,0,0,qe);gt.addColorStop(0,"rgba(0,0,0,0)"),gt.addColorStop(1,"rgba(0,0,0,1)"),Ue.fillStyle=gt,Ue.fillRect(0,0,Ee,qe)};return _d({factory:se=>{const be=ce({x:0,y:0}),Ee=ft([On.config({find:T.some}),wo.config({})]);return Lu.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":oe(["Saturation {0}%, Brightness {1}%",0,0])},classes:[q("sv-palette")]},model:{mode:"xy",getInitialValue:be},rounded:!1,components:[W,J],onChange:(qe,Ue,Fe)=>{Yo(Fe)||lo(qe.element,"aria-valuetext",oe(["Saturation {0}%, Brightness {1}%",Math.floor(Fe.x),Math.floor(100-Fe.y)])),qt(qe,tC,{value:Fe})},onInit:(qe,Ue,Fe,gt)=>{ne(Fe.element.dom,yA(vA))},sliderBehaviours:Ee})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(se,be,Ee)=>{((qe,Ue)=>{const Fe=qe.components()[0].element.dom,gt=ky(Ue,100,100),Rt=bA(gt);ne(Fe,yA(Rt))})(be,Ee)},setThumb:(se,be,Ee)=>{((qe,Ue)=>{const Fe=Zx(Bu(Ue));Lu.setValue(qe,{x:Fe.saturation,y:100-Fe.value}),lo(qe.element,"aria-valuetext",oe(["Saturation {0}%, Brightness {1}%",Fe.saturation,Fe.value]))})(be,Ee)}},extraApis:{}})})(n,s),y={paletteRgba:Ut(vA),paletteHue:Ut(0)},w=Jn(((oe,q)=>{const W=Lu.parts.spectrum({dom:{tag:"div",classes:[q("hue-slider-spectrum")],attributes:{role:"presentation"}}}),J=Lu.parts.thumb({dom:{tag:"div",classes:[q("hue-slider-thumb")],attributes:{role:"presentation"}}});return Lu.sketch({dom:{tag:"div",classes:[q("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:ce(0)},components:[W,J],sliderBehaviours:ft([wo.config({})]),onChange:(ne,se,be)=>{lo(ne.element,"aria-valuenow",Math.floor(360-3.6*be)),qt(ne,wk,{value:be})}})})(0,s)),E=Jn(b.sketch({})),C=Jn(p.sketch({})),O=(oe,q,W)=>{E.getOpt(oe).each(J=>{b.setHue(J,W)})},B=(oe,q)=>{C.getOpt(oe).each(W=>{p.updateHex(W,q)})},P=(oe,q,W)=>{w.getOpt(oe).each(J=>{Lu.setValue(J,(ne=>100-ne/360*100)(W))})},Z=(oe,q)=>{E.getOpt(oe).each(W=>{b.setThumb(W,q)})},K=(oe,q,W,J)=>{((ne,se)=>{const be=Bu(ne);y.paletteRgba.set(be),y.paletteHue.set(se)})(q,W),Dt(J,ne=>{ne(oe,q,W)})};return{uid:f.uid,dom:f.dom,components:[E.asSpec(),w.asSpec(),C.asSpec()],behaviours:ft([Zo("colour-picker-events",[je(F0,(()=>{const oe=[O,P,Z];return(q,W)=>{const J=W.event.hex,ne=(se=>Zx(Bu(se)))(J);K(q,J,ne.hue,oe)}})()),je(tC,(()=>{const oe=[B];return(q,W)=>{const J=W.event.value,ne=y.paletteHue.get(),se=ky(ne,J.x,100-J.y),be=Wx(se);K(q,be,ne,oe)}})()),je(wk,(()=>{const oe=[O,B];return(q,W)=>{const J=(qe=>(100-qe)/100*360)(W.event.value),ne=y.paletteRgba.get(),se=Zx(ne),be=ky(J,se.saturation,se.value),Ee=Wx(be);K(q,Ee,J,oe)}})())]),On.config({find:oe=>C.getOpt(oe)}),Jt.config({mode:"acyclic"})])}}}),Em=()=>On.config({find:T.some}),rC=n=>On.config({find:s=>lr(s.element,n).bind(i=>s.getSystem().getByDom(i).toOptional())}),sC=to([Ae("preprocess",Tt),Ae("postprocess",Tt)]),aC=(n,s)=>{const i=wa("RepresentingConfigs.memento processors",sC,s);return De.config({store:{mode:"manual",getValue:l=>{const u=n.get(l),f=De.getValue(u);return i.postprocess(f)},setValue:(l,u)=>{const f=i.preprocess(u),p=n.get(l);De.setValue(p,f)}}})},Qh=(n,s,i)=>De.config({store:{mode:"manual",...n.map(l=>({initialValue:l})).getOr({}),getValue:s,setValue:i}}),iC=(n,s,i)=>Qh(n,l=>s(l.element),(l,u)=>i(l.element,u)),$0=n=>De.config({store:{mode:"memory",initialValue:n}}),e6={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.rgb.invalid":"Numbers only, 0 to 255","colorcustom.rgb.invalidHex":"Hexadecimal only, 000000 to FFFFFF","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"};var kz=tinymce.util.Tools.resolve("tinymce.Resource");const lC=n=>no(n,"init");var zp=tinymce.util.Tools.resolve("tinymce.util.Tools");const cC=(n,s)=>{let i=null;const l=()=>{Rn(i)||(clearTimeout(i),i=null)};return{cancel:l,throttle:(...u)=>{l(),i=setTimeout(()=>{i=null,n.apply(null,u)},s)}}},dC=Bt("alloy-fake-before-tabstop"),uC=Bt("alloy-fake-after-tabstop"),wz=n=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:n},behaviours:ft([wo.config({ignore:!0}),wr.config({})])}),fC=(n,s)=>({dom:{tag:"div",classes:["tox-navobj",...n.getOr([])]},components:[wz([dC]),s,wz([uC])],behaviours:ft([rC(1)])}),mC=(n,s)=>{qt(n,Yr(),{raw:{which:9,shiftKey:s}})},t6=(n,s)=>{const i=s.element;an(i,dC)?mC(n,!0):an(i,uC)&&mC(n,!1)},Ay=n=>Cy(n,["."+dC,"."+uC].join(","),$e),Ag=Bt("update-dialog"),pC=Bt("update-title"),_z=Bt("update-body"),Cz=Bt("update-footer"),gC=Bt("body-send-message"),Sk=Bt("dialog-focus-shifted"),hC=la().browser,zy=hC.isSafari(),Sz=hC.isFirefox(),bC=zy||Sz,Ez=hC.isChromium(),o6=({scrollTop:n,scrollHeight:s,clientHeight:i})=>Math.ceil(n)+i>=s,Az=(n,s)=>n.scrollTo(0,s==="bottom"?99999999:s),yC=(n,s,i)=>{const l=n.dom;T.from(l.contentDocument).fold(i,u=>{let f=0;const p=((y,w)=>{const E=y.body;return T.from(!/^<!DOCTYPE (html|HTML)/.test(w)&&(!Ez&&!zy||Lt(E)&&(E.scrollTop!==0||Math.abs(E.scrollHeight-E.clientHeight)>1))?E:y.documentElement)})(u,s).map(y=>(f=y.scrollTop,y)).forall(o6),b=()=>{const y=l.contentWindow;Lt(y)&&(p?Az(y,"bottom"):!p&&bC&&f!==0&&Az(y,f))};zy&&l.addEventListener("load",b,{once:!0}),u.open(),u.write(s),u.close(),zy||b()})},vC=Bo(bC,zy?500:200).map(n=>((s,i)=>{let l=null,u=null;return{cancel:()=>{Rn(l)||(clearTimeout(l),l=null,u=null)},throttle:(...f)=>{u=f,Rn(l)&&(l=setTimeout(()=>{const p=u;l=null,u=null,s.apply(null,p)},i))}}})(yC,n)),Ek=Bt("toolbar.button.execute"),zg=Bt("common-button-display-events"),xC={[Ei()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[Ba()]:["toolbar-button-events",zg],[jl()]:["toolbar-button-events","dropdown-events","tooltipping"],[Ke()]:["focusing","alloy.base.behaviour",zg]},Ak=n=>bo(n.element,"width",yr(n.element,"width")),zz=(n,s,i)=>td(n,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:i},s),V0=(n,s)=>zz(n,s,[]),Tg=(n,s)=>zz(n,s,[fo.config({})]),kC=(n,s,i)=>({dom:{tag:"span",classes:[`${s}__select-label`]},components:[Os(i.translate(n))],behaviours:ft([fo.config({})])}),Td=Bt("update-menu-text"),ru=Bt("update-menu-icon"),wC=(n,s,i,l)=>{const u=Ut(at),f=n.text.map(Z=>Jn(kC(Z,s,i.providers))),p=n.icon.map(Z=>Jn(Tg(Z,i.providers.icons))),b=(Z,K)=>{const oe=De.getValue(Z);return wo.focus(oe),qt(oe,"keydown",{raw:K.event.raw}),bl.close(oe),T.some(!0)},y=n.role.fold(()=>({}),Z=>({role:Z})),w=T.from(n.listRole).map(Z=>({listRole:Z})).getOr({}),E=n.ariaLabel.fold(()=>({}),Z=>({"aria-label":i.providers.translate(Z)})),C=td("chevron-down",{tag:"div",classes:[`${s}__select-chevron`]},i.providers.icons),O=Bt("common-button-display-events"),B="dropdown-events";return Jn(bl.sketch({...n.uid?{uid:n.uid}:{},...y,...w,dom:{tag:"button",classes:[s,`${s}--select`].concat(nt(n.classes,Z=>`${s}--${Z}`)),attributes:{...E,...Lt(l)?{"data-mce-name":l}:{}}},components:hy([p.map(Z=>Z.asSpec()),f.map(Z=>Z.asSpec()),T.some(C)]),matchWidth:!0,useMinWidth:!0,onOpen:(Z,K,oe)=>{n.searchable&&(q=>{HE(q).each(W=>wo.focus(W))})(oe)},dropdownBehaviours:ft([...n.dropdownBehaviours,Oi(()=>n.disabled||i.providers.isDisabled()),Ia(),Yh.config({}),fo.config({}),...n.tooltip.map(Z=>Ys.config(i.providers.tooltips.getConfig({tooltipText:i.providers.translate(Z)}))).toArray(),Zo(B,[vg(n,u),wp(n,u)]),Zo(O,[Er((Z,K)=>n.listRole==="listbox"?at:Ak(Z))]),Zo("menubutton-update-display-text",[je(Td,(Z,K)=>{f.bind(oe=>oe.getOpt(Z)).each(oe=>{fo.set(oe,[Os(i.providers.translate(K.event.text))])})}),je(ru,(Z,K)=>{p.bind(oe=>oe.getOpt(Z)).each(oe=>{fo.set(oe,[Tg(K.event.icon,i.providers.icons)])})})])]),eventOrder:nr(xC,{[Ke()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[Ba()]:["toolbar-button-events",Ys.name(),B,O]}),sandboxBehaviours:ft([Jt.config({mode:"special",onLeft:b,onRight:b}),Zo("dropdown-sandbox-events",[je(PE,(Z,K)=>{(oe=>{const q=De.getValue(oe),W=y0(oe).map($E);bl.refetch(q).get(()=>{const J=Ds.getCoupled(q,"sandbox");W.each(ne=>y0(J).each(se=>((be,Ee)=>{De.setValue(be,Ee.fetchPattern),be.element.dom.selectionStart=Ee.selectionStart,be.element.dom.selectionEnd=Ee.selectionEnd})(se,ne)))})})(Z),K.stop()}),je(LE,(Z,K)=>{((oe,q)=>{(W=>x.getState(W).bind(tr.getHighlighted).bind(tr.getHighlighted))(oe).each(W=>{((J,ne,se,be)=>{const Ee={...be,target:ne};J.getSystem().triggerEvent(se,ne,Ee)})(oe,W.element,q.event.eventType,q.event.interactionEvent)})})(Z,K),K.stop()})])]),lazySink:i.getSink,toggleClass:`${s}--active`,parts:{menu:{...Rx(0,n.columns,n.presets),fakeFocus:n.searchable,...n.listRole==="listbox"?{}:{onHighlightItem:$A,onCollapseMenu:(Z,K,oe)=>{tr.getHighlighted(oe).each(q=>{$A(Z,oe,q)})},onDehighlightItem:CN}}},getAnchorOverrides:()=>({maxHeightFunction:(Z,K)=>{am()(Z,K-10)}}),fetch:Z=>xg(ct(n.fetch,Z))})).asSpec()},zk=n=>n.type==="separator",Tk={type:"separator"},Tz=(n,s)=>{const i=((l,u)=>{const f=Co(l,(p,b)=>(y=>Do(y))(b)?b===""?p:b==="|"?p.length>0&&!zk(p[p.length-1])?p.concat([Tk]):p:no(u,b.toLowerCase())?p.concat([u[b.toLowerCase()]]):p:p.concat([b]),[]);return f.length>0&&zk(f[f.length-1])&&f.pop(),f})(Do(n)?n.split(" "):n,s);return yn(i,(l,u)=>{if((f=>no(f,"getSubmenuItems"))(u)){const f=(b=>{const y=dt(b,"value").getOrThunk(()=>Bt("generated-menu-item"));return nr({value:y},b)})(u),p=((b,y)=>{const w=b.getSubmenuItems(),E=Tz(w,y);return{item:b,menus:nr(E.menus,{[b.value]:E.items}),expansions:nr(E.expansions,{[b.value]:b.value})}})(f,s);return{menus:nr(l.menus,p.menus),items:[p.item,...l.items],expansions:nr(l.expansions,p.expansions)}}return{...l,items:[u,...l.items]}},{menus:{},expansions:{},items:[]})},eb=(n,s,i,l)=>{const u=Bt("primary-menu"),f=Tz(n,i.shared.providers.menuItems());if(f.items.length===0)return T.none();const p=(C=>C.search.fold(()=>({searchMode:"no-search"}),O=>({searchMode:"search-with-field",placeholder:O.placeholder})))(l),b=VA(u,f.items,s,i,l.isHorizontalMenu,p),y=(C=>C.search.fold(()=>({searchMode:"no-search"}),O=>({searchMode:"search-with-results"})))(l),w=$n(f.menus,(C,O)=>VA(O,C,s,i,!1,y)),E=nr(w,Si(u,b));return T.from(bp.tieredData(u,E,f.expansions))},j0=n=>!no(n,"items"),_C="data-value",Ok=(n,s,i,l,u)=>nt(i,f=>j0(f)?{type:"togglemenuitem",...u?{}:{role:"option"},text:f.text,value:f.value,active:f.value===l,onAction:()=>{De.setValue(n,f.value),qt(n,rl,{name:s}),wo.focus(n)}}:{type:"nestedmenuitem",text:f.text,getSubmenuItems:()=>Ok(n,s,f.items,l,u)}),Dk=(n,s)=>uo(n,i=>j0(i)?Bo(i.value===s,i):Dk(i.items,s)),n6=_d({name:"HtmlSelect",configFields:[Ge("options"),It("selectBehaviours",[wo,De]),Ae("selectClasses",[]),Ae("selectAttributes",{}),sn("data")],factory:(n,s)=>{const i=nt(n.options,u=>({dom:{tag:"option",value:u.value,innerHtml:u.text}})),l=n.data.map(u=>Si("initialValue",u)).getOr({});return{uid:n.uid,dom:{tag:"select",classes:n.selectClasses,attributes:n.selectAttributes},components:i,behaviours:$o(n.selectBehaviours,[wo.config({}),De.config({store:{mode:"manual",getValue:u=>nf(u.element),setValue:(u,f)=>{const p=rt(n.options);H(n.options,b=>b.value===f).isSome()?Qf(u.element,f):u.element.dom.selectedIndex===-1&&f===""&&p.each(b=>Qf(u.element,b.value))},...l}})])}}}),Oz=ce([Ae("field1Name","field1"),Ae("field2Name","field2"),Zd("onLockedChange"),ep(["lockClass"]),Ae("locked",!1),So("coupledFieldBehaviours",[On,De])]),CC=(n,s)=>hl({factory:rr,name:n,overrides:i=>({fieldBehaviours:ft([Zo("coupled-input-behaviour",[je(bu(),l=>{((u,f,p)=>Tr(u,f,p).bind(On.getCurrent))(l,i,s).each(u=>{Tr(l,i,"lock").each(f=>{yo.isOn(f)&&i.onLockedChange(l,u,f)})})})])])})}),Dz=ce([CC("field1","field2"),CC("field2","field1"),hl({factory:Vi,schema:[Ge("dom")],name:"lock",overrides:n=>({buttonBehaviours:ft([yo.config({selected:n.locked,toggleClass:n.markers.lockClass,aria:{mode:"pressed"}})])})})]),rd=Dl({name:"FormCoupledInputs",configFields:Oz(),partFields:Dz(),factory:(n,s,i,l)=>({uid:n.uid,dom:n.dom,components:s,behaviours:ho(n.coupledFieldBehaviours,[On.config({find:T.some}),De.config({store:{mode:"manual",getValue:u=>{const f=qw(u,n,["field1","field2"]);return{[n.field1Name]:De.getValue(f.field1()),[n.field2Name]:De.getValue(f.field2())}},setValue:(u,f)=>{const p=qw(u,n,["field1","field2"]);Vo(f,n.field1Name)&&De.setValue(p.field1(),f[n.field1Name]),Vo(f,n.field2Name)&&De.setValue(p.field2(),f[n.field2Name])}}})]),apis:{getField1:u=>Tr(u,n,"field1"),getField2:u=>Tr(u,n,"field2"),getLock:u=>Tr(u,n,"lock")}}),apis:{getField1:(n,s)=>n.getField1(s),getField2:(n,s)=>n.getField2(s),getLock:(n,s)=>n.getLock(s)}}),SC=n=>{const s=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(n);if(s!==null){const i=parseFloat(s[1]),l=s[2];return en.value({value:i,unit:l})}return en.error(n)},EC=(n,s)=>{const i={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},l=u=>no(i,u);return n.unit===s?T.some(n.value):l(n.unit)&&l(s)?i[n.unit]===i[s]?T.some(n.value):T.some(n.value/i[n.unit]*i[s]):T.none()},AC=n=>T.none(),Rz=(n,s)=>{const i=n.label.map(E=>wg(E,s)),l=[Eo.config({disabled:()=>n.disabled||s.isDisabled()}),Ia(),Jt.config({mode:"execution",useEnter:n.multiline!==!0,useControlEnter:n.multiline===!0,execute:E=>(Uo(E,I0),T.some(!0))}),Zo("textfield-change",[je(bu(),(E,C)=>{qt(E,rl,{name:n.name})}),je($f(),(E,C)=>{qt(E,rl,{name:n.name})})]),wr.config({})],u=n.validation.map(E=>wm.config({getRoot:C=>js(C.element),invalidClass:"tox-invalid",validator:{validate:C=>{const O=De.getValue(C),B=E.validator(O);return km(B===!0?en.value(O):en.error(B))},validateOnLoad:E.validateOnLoad}})).toArray(),f={...n.placeholder.fold(ce({}),E=>({placeholder:s.translate(E)})),...n.inputMode.fold(ce({}),E=>({inputmode:E})),"data-mce-name":n.name},p=rr.parts.field({tag:n.multiline===!0?"textarea":"input",...n.data.map(E=>({data:E})).getOr({}),inputAttributes:f,inputClasses:[n.classname],inputBehaviours:ft(Hn([l,u])),selectOnFocus:!1,factory:kp}),b=n.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[p]}:p,y=(n.flex?["tox-form__group--stretched"]:[]).concat(n.maximized?["tox-form-group--maximize"]:[]),w=[Eo.config({disabled:()=>n.disabled||s.isDisabled(),onDisabled:E=>{rr.getField(E).each(Eo.disable)},onEnabled:E=>{rr.getField(E).each(Eo.enable)}}),Ia()];return B0(i,b,y,w)},U0=(n,s)=>s.getAnimationRoot.fold(()=>n.element,i=>i(n)),Tp=n=>n.dimension.property,Og=(n,s)=>n.dimension.getDimension(s),Dg=(n,s)=>{const i=U0(n,s);qn(i,[s.shrinkingClass,s.growingClass])},Rk=(n,s)=>{Kt(n.element,s.openClass),bt(n.element,s.closedClass),bo(n.element,Tp(s),"0px"),ll(n.element)},zC=(n,s)=>{Kt(n.element,s.closedClass),bt(n.element,s.openClass),_n(n.element,Tp(s))},Nz=(n,s,i,l)=>{i.setCollapsed(),bo(n.element,Tp(s),Og(s,n.element)),Dg(n,s),Rk(n,s),s.onStartShrink(n),s.onShrunk(n)},r6=(n,s,i,l)=>{const u=l.getOrThunk(()=>Og(s,n.element));i.setCollapsed(),bo(n.element,Tp(s),u),ll(n.element);const f=U0(n,s);Kt(f,s.growingClass),bt(f,s.shrinkingClass),Rk(n,s),s.onStartShrink(n)},Mz=(n,s,i)=>{const l=Og(s,n.element);(l==="0px"?Nz:r6)(n,s,i,T.some(l))},Bz=(n,s,i)=>{const l=U0(n,s),u=an(l,s.shrinkingClass),f=Og(s,n.element);zC(n,s);const p=Og(s,n.element);(u?()=>{bo(n.element,Tp(s),f),ll(n.element)}:()=>{Rk(n,s)})(),Kt(l,s.shrinkingClass),bt(l,s.growingClass),zC(n,s),bo(n.element,Tp(s),p),i.setExpanded(),s.onStartGrow(n)},Z0=(n,s,i)=>{const l=U0(n,s);return an(l,s.growingClass)===!0},Iz=(n,s,i)=>{const l=U0(n,s);return an(l,s.shrinkingClass)===!0};var Pz=Object.freeze({__proto__:null,refresh:(n,s,i)=>{if(i.isExpanded()){_n(n.element,Tp(s));const l=Og(s,n.element);bo(n.element,Tp(s),l)}},grow:(n,s,i)=>{i.isExpanded()||Bz(n,s,i)},shrink:(n,s,i)=>{i.isExpanded()&&Mz(n,s,i)},immediateShrink:(n,s,i)=>{i.isExpanded()&&Nz(n,s,i)},hasGrown:(n,s,i)=>i.isExpanded(),hasShrunk:(n,s,i)=>i.isCollapsed(),isGrowing:Z0,isShrinking:Iz,isTransitioning:(n,s,i)=>Z0(n,s)||Iz(n,s),toggleGrow:(n,s,i)=>{(i.isExpanded()?Mz:Bz)(n,s,i)},disableTransitions:Dg,immediateGrow:(n,s,i)=>{i.isExpanded()||(zC(n,s),bo(n.element,Tp(s),Og(s,n.element)),Dg(n,s),i.setExpanded(),s.onStartGrow(n),s.onGrown(n))}}),s6=Object.freeze({__proto__:null,exhibit:(n,s,i)=>{const l=s.expanded;return us(l?{classes:[s.openClass],styles:{}}:{classes:[s.closedClass],styles:Si(s.dimension.property,"0px")})},events:(n,s)=>zo([Ud(Zm(),(i,l)=>{l.event.raw.propertyName===n.dimension.property&&(Dg(i,n),s.isExpanded()&&_n(i.element,n.dimension.property),(s.isExpanded()?n.onGrown:n.onShrunk)(i))})])}),Lz=[Ge("closedClass"),Ge("openClass"),Ge("shrinkingClass"),Ge("growingClass"),sn("getAnimationRoot"),Sn("onShrunk"),Sn("onStartShrink"),Sn("onGrown"),Sn("onStartGrow"),Ae("expanded",!1),ca("dimension",zs("property",{width:[Ar("property","width"),Ar("getDimension",n=>To(n)+"px")],height:[Ar("property","height"),Ar("getDimension",n=>vr(n)+"px")]}))];const Yl=ua({fields:Lz,name:"sliding",active:s6,apis:Pz,state:Object.freeze({__proto__:null,init:n=>{const s=Ut(n.expanded);return da({isExpanded:()=>s.get()===!0,isCollapsed:()=>s.get()===!1,setCollapsed:ct(s.set,!1),setExpanded:ct(s.set,!0),readState:()=>"expanded: "+s.get()})}})}),Fz=n=>({isEnabled:()=>!Eo.isDisabled(n),setEnabled:s=>Eo.set(n,!s),setActive:s=>{const i=n.element;s?(bt(i,"tox-tbtn--enabled"),lo(i,"aria-pressed",!0)):(Kt(i,"tox-tbtn--enabled"),Xo(i,"aria-pressed"))},isActive:()=>an(n.element,"tox-tbtn--enabled"),setText:s=>{qt(n,Td,{text:s})},setIcon:s=>qt(n,ru,{icon:s})}),Ty=(n,s,i,l,u=!0,f)=>wC({text:n.text,icon:n.icon,tooltip:n.tooltip,ariaLabel:n.tooltip,searchable:n.search.isSome(),role:l,fetch:(p,b)=>{const y={pattern:n.search.isSome()?Kh(p):""};n.fetch(w=>{b(eb(w,_f.CLOSE_ON_EXECUTE,i,{isHorizontalMenu:!1,search:n.search}))},y,Fz(p))},onSetup:n.onSetup,getApi:Fz,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...u?[wr.config({})]:[]]},s,i.shared,f),Hz=(n,s,i)=>{const l=f=>p=>{const b=!p.isActive();p.setActive(b),f.storage.set(b),i.shared.getSink().each(y=>{s().getOpt(y).each(w=>{Fi(w.element),qt(w,Sf,{name:f.name,value:f.storage.get()})})})},u=f=>p=>{p.setActive(f.storage.get())};return f=>{f(nt(n,p=>{const b=p.text.fold(()=>({}),y=>({text:y}));return{type:p.type,active:!1,...b,onAction:l(p),onSetup:u(p)}}))}},TC=n=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":n}},components:[Os(n)]}),OC=Bt("leaf-label-event-id"),DC=({leaf:n,onLeafAction:s,visible:i,treeId:l,selectedId:u,backstage:f})=>{const p=n.menu.map(y=>Ty(y,"tox-mbtn",f,T.none(),i)),b=[TC(n.title)];return p.each(y=>b.push(y)),Vi.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(i?["tox-tree--leaf__label--visible"]:[])},components:b,role:"treeitem",action:y=>{s(n.id),y.getSystem().broadcastOn([`update-active-item-${l}`],{value:n.id})},eventOrder:{[Yr()]:[OC,"keying"]},buttonBehaviours:ft([...i?[wr.config({})]:[],yo.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),pl.config({channels:{[`update-active-item-${l}`]:{onReceive:(y,w)=>{(w.value===n.id?yo.on:yo.off)(y)}}}}),Zo(OC,[Er((y,w)=>{u.each(E=>{(E===n.id?yo.on:yo.off)(y)})}),je(Yr(),(y,w)=>{const E=w.event.raw.code==="ArrowLeft",C=w.event.raw.code==="ArrowRight";E?(tm(y.element,".tox-tree--directory").each(O=>{y.getSystem().getByDom(O).each(B=>{Nb(O,".tox-tree--directory__label").each(P=>{B.getSystem().getByDom(P).each(wo.focus)})})}),w.stop()):C&&w.stop()})])])})},$z=Bt("directory-label-event-id"),a6=({directory:n,visible:s,noChildren:i,backstage:l})=>{const u=n.menu.map(w=>Ty(w,"tox-mbtn",l,T.none())),f=[{dom:{tag:"div",classes:["tox-chevron"]},components:[(p="chevron-right",b=l.shared.providers.icons,((w,E,C)=>td(w,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:[]},E))(p,b))]},TC(n.title)];var p,b;u.each(w=>{f.push(w)});const y=w=>{tm(w.element,".tox-tree--directory").each(E=>{w.getSystem().getByDom(E).each(C=>{const O=!yo.isOn(C);yo.toggle(C),qt(w,"expand-tree-node",{expanded:O,node:n.id})})})};return Vi.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(s?["tox-tree--directory__label--visible"]:[])},components:f,action:y,eventOrder:{[Yr()]:[$z,"keying"]},buttonBehaviours:ft([...s?[wr.config({})]:[],Zo($z,[je(Yr(),(w,E)=>{const C=E.event.raw.code==="ArrowRight",O=E.event.raw.code==="ArrowLeft";C&&i&&E.stop(),(C||O)&&tm(w.element,".tox-tree--directory").each(B=>{w.getSystem().getByDom(B).each(P=>{!yo.isOn(P)&&C||yo.isOn(P)&&O?(y(w),E.stop()):O&&!yo.isOn(P)&&(tm(P.element,".tox-tree--directory").each(Z=>{Nb(Z,".tox-tree--directory__label").each(K=>{P.getSystem().getByDom(K).each(wo.focus)})}),E.stop())})})})])])})},i6=({children:n,onLeafAction:s,visible:i,treeId:l,expandedIds:u,selectedId:f,backstage:p})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:n.map(b=>b.type==="leaf"?DC({leaf:b,selectedId:f,onLeafAction:s,visible:i,treeId:l,backstage:p}):Nk({directory:b,expandedIds:u,selectedId:f,onLeafAction:s,labelTabstopping:i,treeId:l,backstage:p})),behaviours:ft([Yl.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:i}),fo.config({})])}),Vz=Bt("directory-event-id"),Nk=({directory:n,onLeafAction:s,labelTabstopping:i,treeId:l,backstage:u,expandedIds:f,selectedId:p})=>{const{children:b}=n,y=Ut(f),w=f.includes(n.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[a6({directory:n,visible:i,noChildren:n.children.length===0,backstage:u}),i6({children:b,expandedIds:f,selectedId:p,onLeafAction:s,visible:w,treeId:l,backstage:u})],behaviours:ft([Zo(Vz,[Er((E,C)=>{yo.set(E,w)}),je("expand-tree-node",(E,C)=>{const{expanded:O,node:B}=C.event;y.set(O?[...y.get(),B]:y.get().filter(P=>P!==B))})]),yo.config({...n.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(E,C)=>{const O=E.components()[1],B=(P=C,b.map(Z=>Z.type==="leaf"?DC({leaf:Z,selectedId:p,onLeafAction:s,visible:P,treeId:l,backstage:u}):Nk({directory:Z,expandedIds:y.get(),selectedId:p,onLeafAction:s,labelTabstopping:P,treeId:l,backstage:u})));var P;C?Yl.grow(O):Yl.shrink(O),fo.set(O,B)}})])}},l6=Bt("tree-event-id");var c6=Object.freeze({__proto__:null,events:(n,s)=>{const i=n.stream.streams.setup(n,s);return zo([je(n.event,i),jc(()=>s.cancel())].concat(n.cancelEvent.map(l=>[je(l,()=>s.cancel())]).getOr([])))}});const jz=n=>{const s=Ut(null);return da({readState:()=>({timer:s.get()!==null?"set":"unset"}),setTimer:i=>{s.set(i)},cancel:()=>{const i=s.get();i!==null&&i.cancel()}})};var d6=Object.freeze({__proto__:null,throttle:jz,init:n=>n.stream.streams.state(n)}),u6=[ca("stream",zs("mode",{throttle:[Ge("delay"),Ae("stopEvent",!0),Ar("streams",{setup:(n,s)=>{const i=n.stream,l=cC(n.onStream,i.delay);return s.setTimer(l),(u,f)=>{l.throttle(u,f),i.stopEvent&&f.stop()}},state:jz})]})),Ae("event","input"),sn("cancelEvent"),Zd("onStream")];const RC=ua({fields:u6,name:"streaming",active:c6,state:d6}),Mk=(n,s,i)=>{const l=De.getValue(i);De.setValue(s,l),NC(s)},Bk=(n,s)=>{const i=n.element,l=nf(i),u=i.dom;gs(i,"type")!=="number"&&s(u,l)},NC=n=>{Bk(n,(s,i)=>s.setSelectionRange(i.length,i.length))},MC=ce("alloy.typeahead.itemexecute"),f6=ce([sn("lazySink"),Ge("fetch"),Ae("minChars",5),Ae("responseTime",1e3),Sn("onOpen"),Ae("getHotspot",T.some),Ae("getAnchorOverrides",ce({})),Ae("layouts",T.none()),Ae("eventOrder",{}),Ma("model",{},[Ae("getDisplayText",n=>n.meta!==void 0&&n.meta.text!==void 0?n.meta.text:n.value),Ae("selectsOver",!0),Ae("populateFromBrowse",!0)]),Sn("onSetValue"),fl("onExecute"),Sn("onItemExecute"),Ae("inputClasses",[]),Ae("inputAttributes",{}),Ae("inputStyles",{}),Ae("matchWidth",!0),Ae("useMinWidth",!1),Ae("dismissOnBlur",!0),ep(["openClass"]),sn("initialData"),sn("listRole"),It("typeaheadBehaviours",[wo,De,RC,Jt,yo,Ds]),_a("lazyTypeaheadComp",()=>Ut(T.none)),_a("previewing",()=>Ut(!0))].concat(GR()).concat(z2())),Uz=ce([Ru({schema:[Qm()],name:"menu",overrides:n=>({fakeFocus:!0,onHighlightItem:(s,i,l)=>{n.previewing.get()?n.lazyTypeaheadComp.get().each(u=>{((f,p,b)=>{if(f.selectsOver){const y=De.getValue(p),w=f.getDisplayText(y),E=De.getValue(b);return f.getDisplayText(E).indexOf(w)===0?T.some(()=>{Mk(0,p,b),((C,O)=>{Bk(C,(B,P)=>B.setSelectionRange(O,P.length))})(p,w.length)}):T.none()}return T.none()})(n.model,u,l).fold(()=>{n.model.selectsOver?(tr.dehighlight(i,l),n.previewing.set(!0)):n.previewing.set(!1)},f=>{f(),n.previewing.set(!1)})}):n.lazyTypeaheadComp.get().each(u=>{n.model.populateFromBrowse&&Mk(n.model,u,l),Cr(l.element,"id").each(f=>lo(u.element,"aria-activedescendant",f))})},onExecute:(s,i)=>n.lazyTypeaheadComp.get().map(l=>(qt(l,MC(),{item:i}),!0)),onHover:(s,i)=>{n.previewing.set(!1),n.lazyTypeaheadComp.get().each(l=>{n.model.populateFromBrowse&&Mk(n.model,l,i)})}})})]),m6=Dl({name:"Typeahead",configFields:f6(),partFields:Uz(),factory:(n,s,i,l)=>{const u=(C,O,B)=>{n.previewing.set(!1);const P=Ds.getCoupled(C,"sandbox");if(x.isOpen(P))On.getCurrent(P).each(Z=>{tr.getHighlighted(Z).fold(()=>{B(Z)},()=>{Zl(P,Z.element,"keydown",O)})});else{const Z=K=>{On.getCurrent(K).each(B)};Yx(n,p(C),C,P,l,Z,nl.HighlightMenuAndItem).get(at)}},f=KR(n),p=C=>O=>O.map(B=>{const P=$s(B.menus),Z=kn(P,K=>Nn(K.items,oe=>oe.type==="item"));return De.getState(C).update(nt(Z,K=>K.data)),B}),b=C=>On.getCurrent(C),y="typeaheadevents",w=[wo.config({}),De.config({onSetValue:n.onSetValue,store:{mode:"dataset",getDataKey:C=>nf(C.element),getFallbackEntry:C=>({value:C,meta:{}}),setValue:(C,O)=>{Qf(C.element,n.model.getDisplayText(O))},...n.initialData.map(C=>Si("initialValue",C)).getOr({})}}),RC.config({stream:{mode:"throttle",delay:n.responseTime,stopEvent:!1},onStream:(C,O)=>{const B=Ds.getCoupled(C,"sandbox");if(wo.isFocused(C)&&nf(C.element).length>=n.minChars){const P=b(B).bind(K=>tr.getHighlighted(K).map(De.getValue));n.previewing.set(!0);const Z=K=>{b(B).each(oe=>{P.fold(()=>{n.model.selectsOver&&tr.highlightFirst(oe)},q=>{tr.highlightBy(oe,W=>De.getValue(W).value===q.value),tr.getHighlighted(oe).orThunk(()=>(tr.highlightFirst(oe),T.none()))})})};Yx(n,p(C),C,B,l,Z,nl.HighlightJustMenu).get(at)}},cancelEvent:pd()}),Jt.config({mode:"special",onDown:(C,O)=>(u(C,O,tr.highlightFirst),T.some(!0)),onEscape:C=>{const O=Ds.getCoupled(C,"sandbox");return x.isOpen(O)?(x.close(O),T.some(!0)):T.none()},onUp:(C,O)=>(u(C,O,tr.highlightLast),T.some(!0)),onEnter:C=>{const O=Ds.getCoupled(C,"sandbox"),B=x.isOpen(O);if(B&&!n.previewing.get())return b(O).bind(P=>tr.getHighlighted(P)).map(P=>(qt(C,MC(),{item:P}),!0));{const P=De.getValue(C);return Uo(C,pd()),n.onExecute(O,C,P),B&&x.close(O),T.some(!0)}}}),yo.config({toggleClass:n.markers.openClass,aria:{mode:"expanded"}}),Ds.config({others:{sandbox:C=>A2(n,C,{onOpen:()=>yo.on(C),onClose:()=>{n.lazyTypeaheadComp.get().each(O=>Xo(O.element,"aria-activedescendant")),yo.off(C)}})}}),Zo(y,[Er(C=>{n.lazyTypeaheadComp.set(T.some(C))}),jc(C=>{n.lazyTypeaheadComp.set(T.none())}),Wl(C=>{const O=at;S2(n,p(C),C,l,O,nl.HighlightMenuAndItem).get(at)}),je(MC(),(C,O)=>{const B=Ds.getCoupled(C,"sandbox");Mk(n.model,C,O.event.item),Uo(C,pd()),n.onItemExecute(C,B,O.event.item,De.getValue(C)),x.close(B),NC(C)})].concat(n.dismissOnBlur?[je(Hf(),C=>{const O=Ds.getCoupled(C,"sandbox");Is(O.element).isNone()&&x.close(O)})]:[]))],E={[jl()]:[De.name(),RC.name(),y],...n.eventOrder};return{uid:n.uid,dom:IE(nr(n,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...f,...$o(n.typeaheadBehaviours,w)},eventOrder:E}}}),tb=n=>({...n,toCached:()=>tb(n.toCached()),bindFuture:s=>tb(n.bind(i=>i.fold(l=>km(en.error(l)),l=>s(l)))),bindResult:s=>tb(n.map(i=>i.bind(s))),mapResult:s=>tb(n.map(i=>i.map(s))),mapError:s=>tb(n.map(i=>i.mapError(s))),foldResult:(s,i)=>n.map(l=>l.fold(s,i)),withTimeout:(s,i)=>tb(xg(l=>{let u=!1;const f=setTimeout(()=>{u=!0,l(en.error(i()))},s);n.get(p=>{u||(clearTimeout(f),l(p))})}))}),Zz=n=>tb(xg(n)),W0=(n,s,i=[],l,u,f,p)=>{const b=s.fold(()=>({}),E=>({action:E})),y={buttonBehaviours:ft([Oi(()=>!n.enabled||p.isDisabled()),Ia(),wr.config({}),...f.map(E=>Ys.config(p.tooltips.getConfig({tooltipText:p.translate(E)}))).toArray(),Zo("button press",[vb("click")])].concat(i)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...b},w=nr(y,{dom:l});return nr(w,{components:u})},Wz=(n,s,i,l=[],u)=>{const f={tag:"button",classes:["tox-tbtn"],attributes:{...n.tooltip.map(y=>({"aria-label":i.translate(y)})).getOr({}),"data-mce-name":u}},p=n.icon.map(y=>V0(y,i.icons)),b=hy([p]);return W0(n,s,l,f,b,n.tooltip,i)},BC=n=>{switch(n){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];default:return["tox-button","tox-button--secondary"]}},qz=(n,s,i,l=[],u=[])=>{const f=i.translate(n.text),p=n.icon.map(C=>V0(C,i.icons)),b=[p.getOrThunk(()=>Os(f))],y=n.buttonType.getOr(n.primary||n.borderless?"primary":"secondary"),w={tag:"button",classes:[...BC(y),...p.isSome()?["tox-button--icon"]:[],...n.borderless?["tox-button--naked"]:[],...u],attributes:{"aria-label":f,"data-mce-name":n.text}},E=n.icon.map(ce(f));return W0(n,s,l,w,b,E,i)},Gz=(n,s,i,l=[],u=[])=>{const f=qz(n,T.some(s),i,l,u);return Vi.sketch(f)},IC=(n,s)=>i=>{s==="custom"?qt(i,Sf,{name:n,value:{}}):s==="submit"?Uo(i,I0):s==="cancel"?Uo(i,Sp):console.error("Unknown button type: ",s)},Oy=(n,s,i)=>{if(((l,u)=>u==="menu")(0,s)){const l=()=>p,u=n,f={...n,type:"menubutton",search:T.none(),onSetup:b=>(b.setEnabled(n.enabled),at),fetch:Hz(u.items,l,i)},p=Jn(Ty(f,"tox-tbtn",i,T.none(),!0,n.text.or(n.tooltip).getOrUndefined()));return p.asSpec()}if(((l,u)=>u==="custom"||u==="cancel"||u==="submit")(0,s)){const l=IC(n.name,s),u={...n,borderless:!1};return Gz(u,l,i.shared.providers,[])}if(((l,u)=>u==="togglebutton")(0,s))return((l,u,f)=>{var p,b;const y=l.icon.map(W=>Tg(W,u.icons)).map(Jn),w=l.buttonType.getOr(l.primary?"primary":"secondary"),E={...l,name:(p=l.name)!==null&&p!==void 0?p:"",primary:w==="primary",tooltip:l.tooltip,enabled:(b=l.enabled)!==null&&b!==void 0&&b,borderless:!1},C=E.tooltip.or(l.text).map(W=>({"aria-label":u.translate(W)})).getOr({}),O=BC(w??"secondary"),B=l.icon.isSome()&&l.text.isSome(),P={tag:"button",classes:[...O.concat(l.icon.isSome()?["tox-button--icon"]:[]),...l.active?["tox-button--enabled"]:[],...B?["tox-button--icon-and-text"]:[]],attributes:{...C,...Lt(f)?{"data-mce-name":f}:{}}},Z=u.translate(l.text.getOr("")),K=Os(Z),oe=[...hy([y.map(W=>W.asSpec())]),...l.text.isSome()?[K]:[]],q=W0(E,T.some(W=>{qt(W,Sf,{name:l.name,value:{setIcon:J=>{y.map(ne=>ne.getOpt(W).each(se=>{fo.set(se,[Tg(J,u.icons)])}))}}})}),[],P,oe,l.tooltip,u);return Vi.sketch(q)})(n,i.shared.providers,n.text.or(n.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",s),new Error("Unknown footer button type")},p6={type:"separator"},g6=n=>({type:"menuitem",value:n.url,text:n.title,meta:{attach:n.attach},onAction:at}),PC=(n,s)=>({type:"menuitem",value:s,text:n,meta:{attach:void 0},onAction:at}),Kz=(n,s)=>(i=>nt(i,g6))(((i,l)=>Nn(l,u=>u.type===i))(n,s)),h6=n=>Kz("header",n.targets),b6=n=>Kz("anchor",n.targets),Yz=n=>T.from(n.anchorTop).map(s=>PC("<top>",s)).toArray(),Xz=n=>T.from(n.anchorBottom).map(s=>PC("<bottom>",s)).toArray(),LC=(n,s)=>{const i=n.toLowerCase();return Nn(s,l=>{var u;const f=l.meta!==void 0&&l.meta.text!==void 0?l.meta.text:l.text,p=(u=l.value)!==null&&u!==void 0?u:"";return ls(f.toLowerCase(),i)||ls(p.toLowerCase(),i)})},Jz=Bt("aria-invalid"),y6=(n,s)=>{n.dom.checked=s},sd=n=>n.dom.checked,as=n=>(s,i,l,u,f)=>dt(i,"name").fold(()=>n(i,u,T.none(),f),p=>s.field(p,n(i,u,dt(l,p),f))),v6={bar:as((n,s)=>((i,l)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:nt(i.items,l.interpreter)}))(n,s.shared)),collection:as((n,s,i)=>GA(n,s.shared.providers,i)),alertbanner:as((n,s)=>((i,l)=>{const u=AE(i.icon,l.icons);return Iu.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${i.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:i.url?void 0:u},components:i.url?[Vi.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:u,attributes:{title:l.translate(i.iconTooltip)}},action:f=>qt(f,Sf,{name:"alert-banner",value:i.url}),buttonBehaviours:ft([Tx()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:l.translate(i.text)}}]})})(n,s.shared.providers)),input:as((n,s,i)=>((l,u,f)=>Rz({name:l.name,multiline:!1,label:l.label,inputMode:l.inputMode,placeholder:l.placeholder,flex:!1,disabled:!l.enabled,classname:"tox-textfield",validation:T.none(),maximized:l.maximized,data:f},u))(n,s.shared.providers,i)),textarea:as((n,s,i)=>((l,u,f)=>Rz({name:l.name,multiline:!0,label:l.label,inputMode:T.none(),placeholder:l.placeholder,flex:!0,disabled:!l.enabled,classname:"tox-textarea",validation:T.none(),maximized:l.maximized,data:f},u))(n,s.shared.providers,i)),label:as((n,s,i,l)=>((u,f,p)=>{const b="tox-label",y=u.align==="center"?[`${b}--center`]:[],w=u.align==="end"?[`${b}--end`]:[],E=Jn({dom:{tag:"label",classes:[b,...y,...w]},components:[Os(f.providers.translate(u.label))]}),C=nt(u.items,f.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[E.asSpec(),...C],behaviours:ft([Em(),fo.config({}),(O=T.none(),iC(O,Cu,Ym)),Jt.config({mode:"acyclic"}),Zo("label",[Er(B=>{u.for.each(P=>{p(P).each(Z=>{E.getOpt(B).each(K=>{var oe;const q=(oe=gs(Z.element,"id"))!==null&&oe!==void 0?oe:Bt("form-field");lo(Z.element,"id",q),lo(K.element,"for",q)})})})})])])};var O})(n,s.shared,l)),iframe:(sS=(n,s,i)=>((l,u,f)=>{const p="tox-dialog__iframe",b=l.transparent?[]:[`${p}--opaque`],y=l.border?["tox-navobj-bordered"]:[],w={...l.label.map(B=>({title:B})).getOr({}),...f.map(B=>({srcdoc:B})).getOr({}),...l.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},E=((B,P)=>{const Z=Ut(B.getOr(""));return{getValue:K=>Z.get(),setValue:(K,oe)=>{if(Z.get()!==oe){const q=K.element,W=()=>lo(q,"srcdoc",oe);P?vC.fold(ce(yC),J=>J.throttle)(q,oe,W):W()}Z.set(oe)}}})(f,l.streamContent),C=l.label.map(B=>wg(B,u)),O=rr.parts.field({factory:{sketch:B=>fC(T.from(y),{uid:B.uid,dom:{tag:"iframe",attributes:w,classes:[p,...b]},behaviours:ft([wr.config({}),wo.config({}),Qh(f,E.getValue,E.setValue),pl.config({channels:{[Sk]:{onReceive:(P,Z)=>{Z.newFocus.each(K=>{js(P.element).each(oe=>{(wn(P.element,K)?bt:Kt)(oe,"tox-navobj-bordered-focus")})})}}}})])})}});return B0(C,O,["tox-form__group--stretched"],[])})(n,s.shared.providers,i),(n,s,i,l,u)=>{const f=nr(s,{source:"dynamic"});return as(sS)(n,f,i,l,u)}),button:as((n,s)=>((i,l)=>{const u=IC(i.name,"custom");return f=T.none(),p=rr.parts.field({factory:Vi,...qz(i,T.some(u),l,[$0(""),Em()])}),B0(f,p,[],[]);var f,p})(n,s.shared.providers)),checkbox:as((n,s,i)=>((l,u,f)=>{const p=C=>(C.element.dom.click(),T.some(!0)),b=rr.parts.field({factory:{sketch:Tt},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:ft([Em(),Eo.config({disabled:()=>!l.enabled||u.isDisabled(),onDisabled:C=>{js(C.element).each(O=>bt(O,"tox-checkbox--disabled"))},onEnabled:C=>{js(C.element).each(O=>Kt(O,"tox-checkbox--disabled"))}}),wr.config({}),wo.config({}),iC(f,sd,y6),Jt.config({mode:"special",onEnter:p,onSpace:p,stopSpaceKeyup:!0}),Zo("checkbox-events",[je(Ld(),(C,O)=>{qt(C,rl,{name:l.name})})])])}),y=rr.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[Os(u.translate(l.label))],behaviours:ft([Yh.config({})])}),w=C=>td(C==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+C]},u.icons),E=Jn({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[w("checked"),w("unchecked")]});return rr.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[b,E.asSpec(),y],fieldBehaviours:ft([Eo.config({disabled:()=>!l.enabled||u.isDisabled()}),Ia()])})})(n,s.shared.providers,i)),colorinput:as((n,s,i)=>((l,u,f,p)=>{const b=rr.parts.field({factory:kp,inputClasses:["tox-textfield"],data:p,onSetValue:C=>wm.run(C).get(at),inputBehaviours:ft([Eo.config({disabled:u.providers.isDisabled}),Ia(),wr.config({}),wm.config({invalidClass:"tox-textbox-field-invalid",getRoot:C=>js(C.element),notify:{onValid:C=>{const O=De.getValue(C);qt(C,P2,{color:O})}},validator:{validateOnLoad:!1,validate:C=>{const O=De.getValue(C);if(O.length===0)return km(en.value(!0));{const B=ps("span");bo(B,"background-color",O);const P=Sr(B,"background-color").fold(()=>en.error("blah"),Z=>en.value(O));return km(P)}}}})]),selectOnFocus:!1}),y=l.label.map(C=>wg(C,u.providers)),w=(C,O)=>{qt(C,L2,{value:O})},E=Jn(((C,O)=>bl.sketch({dom:C.dom,components:C.components,toggleClass:"mce-active",dropdownBehaviours:ft([Oi(O.providers.isDisabled),Ia(),Yh.config({}),wr.config({})]),layouts:C.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:O.getSink,fetch:B=>xg(P=>C.fetch(P)).map(P=>T.from(T2(nr(Gh(Bt("menu-value"),P,Z=>{C.onItemAction(B,Z)},C.columns,C.presets,_f.CLOSE_ON_EXECUTE,$e,O.providers),{movement:O0(C.columns,C.presets)})))),parts:{menu:Rx(0,0,C.presets)}}))({dom:{tag:"span",attributes:{"aria-label":u.providers.translate("Color swatch")}},layouts:{onRtl:()=>[ks,xs,Bs],onLtr:()=>[xs,ks,Bs]},components:[],fetch:zA(f.getColors(l.storageKey),l.storageKey,f.hasCustomColors()),columns:f.getColorCols(l.storageKey),presets:"color",onItemAction:(C,O)=>{E.getOpt(C).each(B=>{O==="custom"?f.colorPicker(P=>{P.fold(()=>Uo(B,QA),Z=>{w(B,Z),u2(l.storageKey,Z)})},"#ffffff"):w(B,O==="remove"?"":O)})}},u));return rr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:y.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[b,E.asSpec()]}]),fieldBehaviours:ft([Zo("form-field-events",[je(P2,(C,O)=>{E.getOpt(C).each(B=>{bo(B.element,"background-color",O.event.color)}),qt(C,rl,{name:l.name})}),je(L2,(C,O)=>{rr.getField(C).each(B=>{De.setValue(B,O.event.value),On.getCurrent(C).each(wo.focus)})}),je(QA,(C,O)=>{rr.getField(C).each(B=>{On.getCurrent(C).each(wo.focus)})})])])})})(n,s.shared,s.colorinput,i)),colorpicker:as((n,s,i)=>((l,u,f)=>{const p=w=>"tox-"+w,b=xz((w=>E=>Do(E)?w.translate(e6[E]):w.translate(E))(u),p,u.tooltips.getConfig,(w,E,C=w,O=w)=>td(C,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+w],attributes:{title:u.translate(O),"aria-live":"polite",...E.fold(()=>({}),B=>({id:B}))}},u.icons)),y=Jn(b.sketch({dom:{tag:"div",classes:[p("color-picker-container")],attributes:{role:"presentation"}},onValidHex:w=>{qt(w,Sf,{name:"hex-valid",value:!0})},onInvalidHex:w=>{qt(w,Sf,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[y.asSpec()],behaviours:ft([Qh(f,w=>{const E=y.get(w);return On.getCurrent(E).bind(C=>De.getValue(C).hex).map(C=>"#"+Xn(C,"#")).getOr("")},(w,E)=>{const C=T.from(/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(E)).bind(B=>wt(B,1)),O=y.get(w);On.getCurrent(O).fold(()=>{console.log("Can not find form")},B=>{De.setValue(B,{hex:C.getOr("")}),Eg.getField(B,"hex").each(P=>{Uo(P,bu())})})}),Em()])}})(0,s.shared.providers,i)),dropzone:as((n,s,i)=>((l,u,f)=>{const p=(P,Z)=>{Z.stop()},b=P=>(Z,K)=>{Dt(P,oe=>{oe(Z,K)})},y=(P,Z)=>{var K;if(!Eo.isDisabled(P)){const oe=Z.event.raw;E(P,(K=oe.dataTransfer)===null||K===void 0?void 0:K.files)}},w=(P,Z)=>{const K=Z.event.raw.target;E(P,K.files)},E=(P,Z)=>{Z&&(De.setValue(P,((K,oe)=>{const q=zp.explode(oe.getOption("images_file_types"));return Nn(Gt(K),W=>At(q,J=>Ri(W.name.toLowerCase(),`.${J.toLowerCase()}`)))})(Z,u)),qt(P,rl,{name:l.name}))},C=Jn({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:ft([Zo("input-file-events",[yu(qs()),yu(Vc())])])}),O=l.label.map(P=>wg(P,u)),B=rr.parts.field({factory:{sketch:P=>({uid:P.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:ft([$0(f.getOr([])),Em(),Eo.config({}),yo.config({toggleClass:"dragenter",toggleOnExecute:!1}),Zo("dropzone-events",[je("dragenter",b([p,yo.toggle])),je("dragleave",b([p,yo.toggle])),je("dragover",p),je("drop",b([p,y])),je(Ld(),w)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[Os(u.translate("Drop an image here"))]},Vi.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[Os(u.translate("Browse for an image")),C.asSpec()],action:Z=>{C.get(Z).element.dom.click()},buttonBehaviours:ft([wr.config({}),Oi(u.isDisabled),Ia()])})]}]})}});return B0(O,B,["tox-form__group--stretched"],[])})(n,s.shared.providers,i)),grid:as((n,s)=>((i,l)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${i.columns}col`]},components:nt(i.items,l.interpreter)}))(n,s.shared)),listbox:as((n,s,i)=>((l,u,f)=>{const p=At(l.items,O=>!j0(O)),b=u.shared.providers,y=f.bind(O=>Dk(l.items,O)).orThunk(()=>rt(l.items).filter(j0)),w=l.label.map(O=>wg(O,b)),E=rr.parts.field({dom:{},factory:{sketch:O=>wC({uid:O.uid,text:y.map(B=>B.text),icon:T.none(),tooltip:T.none(),role:Bo(!p,"combobox"),...p?{}:{listRole:"listbox"},ariaLabel:l.label,fetch:(B,P)=>{const Z=Ok(B,l.name,l.items,De.getValue(B),p);P(eb(Z,_f.CLOSE_ON_EXECUTE,u,{isHorizontalMenu:!1,search:T.none()}))},onSetup:ce(at),getApi:ce({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[wr.config({}),Qh(y.map(B=>B.value),B=>gs(B.element,_C),(B,P)=>{Dk(l.items,P).each(Z=>{lo(B.element,_C,Z.value),qt(B,Td,{text:Z.text})})})]},"tox-listbox",u.shared)}}),C={dom:{tag:"div",classes:["tox-listboxfield"]},components:[E]};return rr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Hn([w.toArray(),[C]]),fieldBehaviours:ft([Eo.config({disabled:ce(!l.enabled),onDisabled:O=>{rr.getField(O).each(Eo.disable)},onEnabled:O=>{rr.getField(O).each(Eo.enable)}})])})})(n,s,i)),selectbox:as((n,s,i)=>((l,u,f)=>{const p=nt(l.items,C=>({text:u.translate(C.text),value:C.value})),b=l.label.map(C=>wg(C,u)),y=rr.parts.field({dom:{},...f.map(C=>({data:C})).getOr({}),selectAttributes:{size:l.size},options:p,factory:n6,selectBehaviours:ft([Eo.config({disabled:()=>!l.enabled||u.isDisabled()}),wr.config({}),Zo("selectbox-change",[je(Ld(),(C,O)=>{qt(C,rl,{name:l.name})})])])}),w=l.size>1?T.none():T.some(td("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},u.icons)),E={dom:{tag:"div",classes:["tox-selectfield"]},components:Hn([[y],w.toArray()])};return rr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Hn([b.toArray(),[E]]),fieldBehaviours:ft([Eo.config({disabled:()=>!l.enabled||u.isDisabled(),onDisabled:C=>{rr.getField(C).each(Eo.disable)},onEnabled:C=>{rr.getField(C).each(Eo.enable)}}),Ia()])})})(n,s.shared.providers,i)),sizeinput:as((n,s)=>((i,l)=>{let u=AC;const f=Bt("ratio-event"),p=Z=>td(Z,{tag:"span",classes:["tox-icon","tox-lock-icon__"+Z]},l.icons),b=i.label.getOr("Constrain proportions"),y=l.translate(b),w=rd.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":y,"data-mce-name":b}},components:[p("lock"),p("unlock")],buttonBehaviours:ft([Eo.config({disabled:()=>!i.enabled||l.isDisabled()}),Ia(),wr.config({}),Ys.config(l.tooltips.getConfig({tooltipText:y}))])}),E=Z=>({dom:{tag:"div",classes:["tox-form__group"]},components:Z}),C=Z=>rr.parts.field({factory:kp,inputClasses:["tox-textfield"],inputBehaviours:ft([Eo.config({disabled:()=>!i.enabled||l.isDisabled()}),Ia(),wr.config({}),Zo("size-input-events",[je(Fn(),(K,oe)=>{qt(K,f,{isField1:Z})}),je(Ld(),(K,oe)=>{qt(K,rl,{name:i.name})})])]),selectOnFocus:!1}),O=Z=>({dom:{tag:"label",classes:["tox-label"]},components:[Os(l.translate(Z))]}),B=rd.parts.field1(E([rr.parts.label(O("Width")),C(!0)])),P=rd.parts.field2(E([rr.parts.label(O("Height")),C(!1)]));return rd.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[B,P,E([O(" "),w])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(Z,K,oe)=>{SC(De.getValue(Z)).each(q=>{u(q).each(W=>{De.setValue(K,(J=>{const ne={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4};let se=J.value.toFixed((be=J.unit)in ne?ne[be]:1);var be;return se.indexOf(".")!==-1&&(se=se.replace(/\.?0*$/,"")),se+J.unit})(W))})})},coupledFieldBehaviours:ft([Eo.config({disabled:()=>!i.enabled||l.isDisabled(),onDisabled:Z=>{rd.getField1(Z).bind(rr.getField).each(Eo.disable),rd.getField2(Z).bind(rr.getField).each(Eo.disable),rd.getLock(Z).each(Eo.disable)},onEnabled:Z=>{rd.getField1(Z).bind(rr.getField).each(Eo.enable),rd.getField2(Z).bind(rr.getField).each(Eo.enable),rd.getLock(Z).each(Eo.enable)}}),Ia(),Zo("size-input-events2",[je(f,(Z,K)=>{const oe=K.event.isField1,q=oe?rd.getField1(Z):rd.getField2(Z),W=oe?rd.getField2(Z):rd.getField1(Z),J=q.map(De.getValue).getOr(""),ne=W.map(De.getValue).getOr("");u=((se,be)=>{const Ee=SC(se).toOptional(),qe=SC(be).toOptional();return st(Ee,qe,(Ue,Fe)=>EC(Ue,Fe.unit).map(gt=>Fe.value/gt).map(gt=>{return Rt=gt,Zt=Fe.unit,ro=>EC(ro,Zt).map(Ao=>({value:Ao*Rt,unit:Zt}));var Rt,Zt}).getOr(AC)).getOr(AC)})(J,ne)})])])})})(n,s.shared.providers)),slider:as((n,s,i)=>((l,u,f)=>{const p=Lu.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Os(u.translate(l.label))]}),b=Lu.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),y=Lu.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Lu.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:l.min,maxX:l.max,getInitialValue:ce(f.getOrThunk(()=>(Math.abs(l.max)-Math.abs(l.min))/2))},components:[p,b,y],sliderBehaviours:ft([Em(),wo.config({})]),onChoose:(w,E,C)=>{qt(w,rl,{name:l.name,value:C})},onChange:(w,E,C)=>{qt(w,rl,{name:l.name,value:C})}})})(n,s.shared.providers,i)),urlinput:as((n,s,i)=>((l,u,f,p)=>{const b=u.shared.providers,y=q=>{const W=De.getValue(q);f.addToHistory(W.value,l.filetype)},w={...p.map(q=>({initialData:q})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":Jz,type:"url"},minChars:0,responseTime:0,fetch:q=>{const W=((ne,se,be)=>{var Ee,qe;const Ue=De.getValue(se),Fe=(qe=(Ee=Ue==null?void 0:Ue.meta)===null||Ee===void 0?void 0:Ee.text)!==null&&qe!==void 0?qe:Ue.value;return be.getLinkInformation().fold(()=>[],gt=>{const Rt=LC(Fe,(ro=>nt(ro,Ao=>PC(Ao,Ao)))(be.getHistory(ne)));return ne==="file"?(Zt=[Rt,LC(Fe,h6(gt)),LC(Fe,Hn([Yz(gt),b6(gt),Xz(gt)]))],Co(Zt,(ro,Ao)=>ro.length===0||Ao.length===0?ro.concat(Ao):ro.concat(p6,Ao),[])):Rt;var Zt})})(l.filetype,q,f),J=eb(W,_f.BUBBLE_TO_SANDBOX,u,{isHorizontalMenu:!1,search:T.none()});return km(J)},getHotspot:q=>K.getOpt(q),onSetValue:(q,W)=>{q.hasConfigured(wm)&&wm.run(q).get(at)},typeaheadBehaviours:ft([...f.getValidationHandler().map(q=>wm.config({getRoot:W=>js(W.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(W,J)=>{O.getOpt(W).each(ne=>{lo(ne.element,"title",b.translate(J))})}},validator:{validate:W=>{const J=De.getValue(W);return Zz(ne=>{q({type:l.filetype,url:J.value},se=>{if(se.status==="invalid"){const be=en.error(se.message);ne(be)}else{const be=en.value(se.message);ne(be)}})})},validateOnLoad:!1}})).toArray(),Eo.config({disabled:()=>!l.enabled||b.isDisabled()}),wr.config({}),Zo("urlinput-events",[je(bu(),q=>{const W=nf(q.element),J=W.trim();J!==W&&Qf(q.element,J),l.filetype==="file"&&qt(q,rl,{name:l.name})}),je(Ld(),q=>{qt(q,rl,{name:l.name}),y(q)}),je($f(),q=>{qt(q,rl,{name:l.name}),y(q)})])]),eventOrder:{[bu()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:q=>q.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:u.shared.getSink,parts:{menu:Rx(0,0,"normal")},onExecute:(q,W,J)=>{qt(W,I0,{})},onItemExecute:(q,W,J,ne)=>{y(q),qt(q,rl,{name:l.name})}},E=rr.parts.field({...w,factory:m6}),C=l.label.map(q=>wg(q,b)),O=Jn(((q,W,J=q,ne=q)=>td(J,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+q],attributes:{title:b.translate(ne),"aria-live":"polite",...W.fold(()=>({}),se=>({id:se}))}},b.icons))("invalid",T.some(Jz),"warning")),B=Jn({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[O.asSpec()]}),P=f.getUrlPicker(l.filetype),Z=Bt("browser.url.event"),K=Jn({dom:{tag:"div",classes:["tox-control-wrap"]},components:[E,B.asSpec()],behaviours:ft([Eo.config({disabled:()=>!l.enabled||b.isDisabled()})])}),oe=Jn(Gz({name:l.name,icon:T.some("browse"),text:l.picker_text.or(l.label).getOr(""),enabled:l.enabled,primary:!1,buttonType:T.none(),borderless:!0},q=>Uo(q,Z),b,[],["tox-browse-url"]));return rr.sketch({dom:ek([]),components:C.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:Hn([[K.asSpec()],P.map(()=>oe.asSpec()).toArray()])}]),fieldBehaviours:ft([Eo.config({disabled:()=>!l.enabled||b.isDisabled(),onDisabled:q=>{rr.getField(q).each(Eo.disable),oe.getOpt(q).each(Eo.disable)},onEnabled:q=>{rr.getField(q).each(Eo.enable),oe.getOpt(q).each(Eo.enable)}}),Ia(),Zo("url-input-events",[je(Z,q=>{On.getCurrent(q).each(W=>{const J=De.getValue(W),ne={fieldname:l.name,...J};P.each(se=>{se(ne).get(be=>{De.setValue(W,be),qt(q,rl,{name:l.name})})})})})])])})})(n,s,s.urlinput,i)),customeditor:as(n=>{const s=Cn(),i=Jn({dom:{tag:n.tag}}),l=Cn(),u=!lC(n)&&n.onFocus.isSome()?[wo.config({onFocus:f=>{n.onFocus.each(p=>{p(f.element.dom)})}}),wr.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:ft([Zo("custom-editor-events",[Er(f=>{i.getOpt(f).each(p=>{(lC(n)?n.init(p.element.dom):kz.load(n.scriptId,n.scriptUrl).then(b=>b(p.element.dom,n.settings))).then(b=>{l.on(y=>{b.setValue(y)}),l.clear(),s.set(b)})})})]),Qh(T.none(),()=>s.get().fold(()=>l.get().getOr(""),f=>f.getValue()),(f,p)=>{s.get().fold(()=>l.set(p),b=>b.setValue(p))}),Em()].concat(u)),components:[i.asSpec()]}}),htmlpanel:as((n,s)=>((i,l)=>{const u=["tox-form__group",...i.stretched?["tox-form__group--stretched"]:[]],f=Zo("htmlpanel",[Er(p=>{i.onInit(p.element.dom)})]);return i.presets==="presentation"?Iu.sketch({dom:{tag:"div",classes:u,innerHtml:i.html},containerBehaviours:ft([Ys.config({...l.tooltips.getConfig({tooltipText:"",onShow:p=>{es(p.element,"[data-mce-tooltip]:hover").orThunk(()=>Is(p.element)).each(b=>{Cr(b,"data-mce-tooltip").each(y=>{Ys.setComponents(p,l.tooltips.getComponents({tooltipText:y}))})})}}),mode:"children-normal",anchor:p=>({type:"node",node:es(p.element,"[data-mce-tooltip]:hover").orThunk(()=>Is(p.element).filter(b=>Cr(b,"data-mce-tooltip").isSome())),root:p.element,layouts:{onLtr:ce([Bs,fs,xs,Gs,ks,cr]),onRtl:ce([Bs,fs,xs,Gs,ks,cr])},bubble:bc(0,-2,{})})}),f])}):Iu.sketch({dom:{tag:"div",classes:u,innerHtml:i.html,attributes:{role:"document"}},containerBehaviours:ft([wr.config({}),wo.config({}),f])})})(n,s.shared.providers)),imagepreview:as((n,s,i)=>((l,u)=>{const f=Ut(u.getOr({url:""})),p=Jn({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:u.map(E=>({src:E.url})).getOr({})}}),b=Jn({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[p.asSpec()]}),y={};l.height.each(E=>y.height=E);const w=u.map(E=>({url:E.url,zoom:T.from(E.zoom),cachedWidth:T.from(E.cachedWidth),cachedHeight:T.from(E.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:y,attributes:{role:"presentation"}},components:[b.asSpec()],behaviours:ft([Em(),Qh(w,()=>f.get(),(E,C)=>{const O={url:C.url};C.zoom.each(P=>O.zoom=P),C.cachedWidth.each(P=>O.cachedWidth=P),C.cachedHeight.each(P=>O.cachedHeight=P),f.set(O);const B=()=>{const{cachedWidth:P,cachedHeight:Z,zoom:K}=O;if(!Yn(P)&&!Yn(Z)){if(Yn(K)){const q=((W,J,ne)=>{const se=To(W),be=vr(W);return Math.min(se/J,be/ne,1)})(E.element,P,Z);O.zoom=q}const oe=((q,W,J,ne,se)=>{const be=J*se,Ee=ne*se,qe=Math.max(0,q/2-be/2),Ue=Math.max(0,W/2-Ee/2);return{left:qe.toString()+"px",top:Ue.toString()+"px",width:be.toString()+"px",height:Ee.toString()+"px"}})(To(E.element),vr(E.element),P,Z,O.zoom);b.getOpt(E).each(q=>{ki(q.element,oe)})}};p.getOpt(E).each(P=>{const Z=P.element;var K;C.url!==gs(Z,"src")&&(lo(Z,"src",C.url),Kt(E.element,"tox-imagepreview__loaded")),B(),(K=Z,new Promise((oe,q)=>{const W=()=>{ne(),oe(K)},J=[Hi(K,"load",W),Hi(K,"error",()=>{ne(),q("Unable to load data from image: "+K.dom.src)})],ne=()=>Dt(J,se=>se.unbind());K.dom.complete&&W()})).then(oe=>{E.getSystem().isConnected()&&(bt(E.element,"tox-imagepreview__loaded"),O.cachedWidth=oe.dom.naturalWidth,O.cachedHeight=oe.dom.naturalHeight,B())})})})])}})(n,i)),table:as((n,s)=>((i,l)=>{const u=b=>({dom:{tag:"td",innerHtml:l.translate(b)}});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(p=i.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:nt(p,b=>({dom:{tag:"th",innerHtml:l.translate(b)}}))}]}),(f=i.cells,{dom:{tag:"tbody"},components:nt(f,b=>({dom:{tag:"tr"},components:nt(b,u)}))})],behaviours:ft([wr.config({}),wo.config({})])};var f,p})(n,s.shared.providers)),tree:as((n,s)=>((i,l)=>{const u=i.onLeafAction.getOr(at),f=i.onToggleExpand.getOr(at),p=i.defaultExpandedIds,b=Ut(p),y=Ut(i.defaultSelectedId),w=Bt("tree-id"),E=(C,O)=>i.items.map(B=>B.type==="leaf"?DC({leaf:B,selectedId:C,onLeafAction:u,visible:!0,treeId:w,backstage:l}):Nk({directory:B,selectedId:C,onLeafAction:u,expandedIds:O,labelTabstopping:!0,treeId:w,backstage:l}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:E(y.get(),b.get()),behaviours:ft([Jt.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),Zo(l6,[je("expand-tree-node",(C,O)=>{const{expanded:B,node:P}=O.event;b.set(B?[...b.get(),P]:b.get().filter(Z=>Z!==P)),f(b.get(),{expanded:B,node:P})})]),pl.config({channels:{[`update-active-item-${w}`]:{onReceive:(C,O)=>{y.set(T.some(O.value)),fo.set(C,E(T.some(O.value),b.get()))}}}}),fo.config({})])}})(n,s)),panel:as((n,s)=>((i,l)=>({dom:{tag:"div",classes:i.classes},components:nt(i.items,l.shared.interpreter)}))(n,s))},FC={field:(n,s)=>s,record:ce([])},Ik=(n,s,i,l,u)=>{const f=nr(l,{shared:{interpreter:p=>HC(n,p,i,f,u)}});return HC(n,s,i,f,u)},HC=(n,s,i,l,u)=>dt(v6,s.type).fold(()=>(console.error(`Unknown factory type "${s.type}", defaulting to container: `,s),s),f=>f(n,s,i,l,u)),Qz=(n,s,i,l)=>HC(FC,n,s,i,l),Fu="layout-inset",Dy=n=>n.x,Pk=(n,s)=>n.x+n.width/2-s.width/2,$C=(n,s)=>n.x+n.width-s.width,su=n=>n.y,VC=(n,s)=>n.y+n.height-s.height,eT=(n,s)=>n.y+n.height/2-s.height/2,kc=(n,s,i)=>ui($C(n,s),VC(n,s),i.insetSouthwest(),ap(),"southwest",fi(n,{right:0,bottom:3}),Fu),Rg=(n,s,i)=>ui(Dy(n),VC(n,s),i.insetSoutheast(),th(),"southeast",fi(n,{left:1,bottom:3}),Fu),wc=(n,s,i)=>ui($C(n,s),su(n),i.insetNorthwest(),sp(),"northwest",fi(n,{right:0,top:2}),Fu),q0=(n,s,i)=>ui(Dy(n),su(n),i.insetNortheast(),eh(),"northeast",fi(n,{left:1,top:2}),Fu),Dn=(n,s,i)=>ui(Pk(n,s),su(n),i.insetNorth(),Bv(),"north",fi(n,{top:2}),Fu),Am=(n,s,i)=>ui(Pk(n,s),VC(n,s),i.insetSouth(),m1(),"south",fi(n,{bottom:3}),Fu),G0=(n,s,i)=>ui($C(n,s),eT(n,s),i.insetEast(),Iv(),"east",fi(n,{right:0}),Fu),jC=(n,s,i)=>ui(Dy(n),eT(n,s),i.insetWest(),p1(),"west",fi(n,{left:1}),Fu),UC=n=>{switch(n){case"north":return Dn;case"northeast":return q0;case"northwest":return wc;case"south":return Am;case"southeast":return Rg;case"southwest":return kc;case"east":return G0;case"west":return jC}},Lk=(n,s,i,l,u)=>lh(l).map(UC).getOr(Dn)(n,s,i,l,u),x6=n=>{switch(n){case"north":return Am;case"northeast":return Rg;case"northwest":return kc;case"south":return Dn;case"southeast":return q0;case"southwest":return wc;case"east":return jC;case"west":return G0}},ZC=(n,s,i,l,u)=>lh(l).map(x6).getOr(Dn)(n,s,i,l,u),K0={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},tT=(n,s,i)=>{const l={maxHeightFunction:dp()};return()=>i()?{type:"node",root:pn(Mr(n())),node:T.from(n()),bubble:bc(12,12,K0),layouts:{onRtl:()=>[q0],onLtr:()=>[wc]},overrides:l}:{type:"hotspot",hotspot:s(),bubble:bc(-12,12,K0),layouts:{onRtl:()=>[xs,ks,Bs],onLtr:()=>[ks,xs,Bs]},overrides:l}},oT=(n,s,i,l)=>{const u={maxHeightFunction:dp()};return()=>l()?{type:"node",root:pn(Mr(s())),node:T.from(s()),bubble:bc(12,12,K0),layouts:{onRtl:()=>[Dn],onLtr:()=>[Dn]},overrides:u}:n?{type:"node",root:pn(Mr(s())),node:T.from(s()),bubble:bc(0,-va(s()),K0),layouts:{onRtl:()=>[fs],onLtr:()=>[fs]},overrides:u}:{type:"hotspot",hotspot:i(),bubble:bc(0,0,K0),layouts:{onRtl:()=>[fs],onLtr:()=>[fs]},overrides:u}},WC=(n,s,i)=>()=>i()?{type:"node",root:pn(Mr(n())),node:T.from(n()),layouts:{onRtl:()=>[Dn],onLtr:()=>[Dn]}}:{type:"hotspot",hotspot:s(),layouts:{onRtl:()=>[Bs],onLtr:()=>[Bs]}},nT=(n,s)=>()=>({type:"selection",root:s(),getSelection:()=>{const i=n.selection.getRng(),l=n.model.table.getSelectedCells();if(l.length>1){const u=l[0],f=l[l.length-1],p={firstCell:Et(u),lastCell:Et(f)};return T.some(p)}return T.some(uf.range(Et(i.startContainer),i.startOffset,Et(i.endContainer),i.endOffset))}}),Fk=n=>s=>({type:"node",root:n(),node:s}),k6=(n,s,i,l)=>{const u=Ih(n),f=()=>Et(n.getBody()),p=()=>Et(n.getContentAreaContainer()),b=()=>u||!l();return{inlineDialog:tT(p,s,b),inlineBottomDialog:oT(n.inline,p,i,b),banner:WC(p,s,b),cursor:nT(n,f),node:Fk(f)}},w6=n=>(s,i)=>{OA(n)(s,i)},_6=n=>()=>g2(n),C6=n=>s=>qh(n,s),S6=n=>s=>p2(n,s),rT=n=>()=>kf(n),sT=n=>Vo(n,"items"),aT=n=>Vo(n,"format"),qC=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],GC=n=>Co(n,(s,i)=>{if(no(i,"items")){const l=GC(i.items);return{customFormats:s.customFormats.concat(l.customFormats),formats:s.formats.concat([{title:i.title,items:l.formats}])}}if(no(i,"inline")||(l=>no(l,"block"))(i)||(l=>no(l,"selector"))(i)){const l=`custom-${Do(i.name)?i.name:i.title.toLowerCase()}`;return{customFormats:s.customFormats.concat([{name:l,format:i}]),formats:s.formats.concat([{title:i.title,format:l,icon:i.icon}])}}return{...s,formats:s.formats.concat(i)}},{customFormats:[],formats:[]}),iT=n=>dy(n).map(s=>{const i=((l,u)=>{const f=GC(u),p=b=>{Dt(b,y=>{l.formatter.has(y.name)||l.formatter.register(y.name,y.format)})};return l.formatter?p(f.customFormats):l.on("init",()=>{p(f.customFormats)}),f.formats})(n,s);return fx(n)?qC.concat(i):i}).getOr(qC),lT=(n,s,i)=>({...n,type:"formatter",isSelected:s(n.format),getStylePreview:i(n.format)}),KC=(n,s,i,l)=>{const u=f=>nt(f,p=>sT(p)?(b=>{const y=u(b.items);return{...b,type:"submenu",getStyleItems:ce(y)}})(p):aT(p)?(b=>lT(b,i,l))(p):(b=>{const y=qo(b);return y.length===1&&we(y,"title")})(p)?{...p,type:"separator"}:(b=>{const y=Do(b.name)?b.name:Bt(b.title),w=`custom-${y}`,E={...b,type:"formatter",format:w,isSelected:i(w),getStylePreview:l(w)};return n.formatter.register(y,E),E})(p));return u(s)},YC=n=>{let s=0;const i=l=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[Os(l.tooltipText)]}];return{getConfig:l=>({delayForShow:()=>s>0?60:300,delayForHide:ce(300),exclusive:!0,lazySink:n,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:i(l),onShow:(u,f)=>{s++,l.onShow&&l.onShow(u,f)},onHide:(u,f)=>{s--,l.onHide&&l.onHide(u,f)},onSetup:l.onSetup}),getComponents:i}},cT=zp.trim,dT=n=>s=>!!((i=>Lt(i)&&i.nodeType===1)(s)&&(s.contentEditable===n||s.getAttribute("data-mce-contenteditable")===n)),E6=dT("true"),A6=dT("false"),uT=(n,s,i,l,u)=>({type:n,title:s,url:i,level:l,attach:u}),fT=n=>n.innerText||n.textContent,z6=n=>(s=>s&&s.nodeName==="A"&&(s.id||s.name)!==void 0)(n)&&au(n),XC=n=>n&&/^(H[1-6])$/.test(n.nodeName),au=n=>(s=>{let i=s;for(;i=i.parentNode;){const l=i.contentEditable;if(l&&l!=="inherit")return E6(i)}return!1})(n)&&!A6(n),T6=n=>XC(n)&&au(n),JC=n=>{var s;const i=(l=>l.id?l.id:Bt("h"))(n);return uT("header",(s=fT(n))!==null&&s!==void 0?s:"","#"+i,(l=>XC(l)?parseInt(l.nodeName.substr(1),10):0)(n),()=>{n.id=i})},mT=n=>{const s=n.id||n.name,i=fT(n);return uT("anchor",i||"#"+s,"#"+s,0,at)},pT=n=>cT(n.title).length>0,O6=n=>{const s=(i=>nt(Ea(Et(i),"h1,h2,h3,h4,h5,h6,a:not([href])"),u=>u.dom))(n);return Nn((i=>nt(Nn(i,T6),JC))(s).concat((i=>nt(Nn(i,z6),mT))(s)),pT)},Y0="tinymce-url-history",QC=n=>Do(n)&&/^https?/.test(n),eS=n=>sr(n)&&Qo(n,s=>{return!(Ko(i=s)&&i.length<=5&&yi(i,QC));var i}).isNone(),gT=()=>{const n=nd.getItem(Y0);if(n===null)return{};let s;try{s=JSON.parse(n)}catch(i){if(i instanceof SyntaxError)return console.log("Local storage "+Y0+" was not valid JSON",i),{};throw i}return eS(s)?s:(console.log("Local storage "+Y0+" was not valid format",s),{})},D6=n=>{const s=gT();return dt(s,n).getOr([])},R6=(n,s)=>{if(!QC(n))return;const i=gT(),l=dt(i,s).getOr([]),u=Nn(l,f=>f!==n);i[s]=[n].concat(u).slice(0,5),(f=>{if(!eS(f))throw new Error(`Bad format for history:
`+JSON.stringify(f));nd.setItem(Y0,JSON.stringify(f))})(i)},hT=n=>!!n,N6=n=>$n(zp.makeMap(n,/[, ]/),hT),Hk=n=>T.from(px(n)),tS=n=>T.from(n).filter(Do).getOrUndefined(),bT=n=>({getHistory:D6,addToHistory:R6,getLinkInformation:()=>(s=>gx(s)?T.some({targets:O6(s.getBody()),anchorTop:tS(aE(s)),anchorBottom:tS(iE(s))}):T.none())(n),getValidationHandler:()=>(s=>T.from(e0(s)))(n),getUrlPicker:s=>((i,l)=>((u,f)=>{const p=(b=>{const y=T.from(t0(b)).filter(hT).map(N6);return Hk(b).fold($e,w=>y.fold(Pt,E=>qo(E).length>0&&E))})(u);return tn(p)?p?Hk(u):T.none():p[f]?Hk(u):T.none()})(i,l).map(u=>f=>xg(p=>{const b={filetype:l,fieldname:f.fieldname,...T.from(f.meta).getOr({})};u.call(i,(y,w)=>{if(!Do(y))throw new Error("Expected value to be string");if(w!==void 0&&!sr(w))throw new Error("Expected meta to be a object");p({value:y,meta:w})},f.value,b)})))(n,s)}),gi=U5,zm=G4,M6=ce([Ae("shell",!1),Ge("makeItem"),Ae("setupItem",at),So("listBehaviours",[fo])]),Ry=wd({name:"items",overrides:()=>({behaviours:ft([fo.config({})])})}),B6=ce([Ry]),oS=Dl({name:ce("CustomList")(),configFields:M6(),partFields:B6(),factory:(n,s,i,l)=>{const u=n.shell?{behaviours:[fo.config({})],components:[]}:{behaviours:[],components:s};return{uid:n.uid,dom:n.dom,components:u.components,behaviours:$o(n.listBehaviours,u.behaviours),apis:{setItems:(f,p)=>{var b;(b=f,n.shell?T.some(b):Tr(b,n,"items")).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},y=>{const w=fo.contents(y),E=p.length,C=E-w.length,O=C>0?dn(C,()=>n.makeItem()):[],B=w.slice(E);Dt(B,Z=>fo.remove(y,Z)),Dt(O,Z=>fo.append(y,Z));const P=fo.contents(y);Dt(P,(Z,K)=>{n.setupItem(f,Z,p[K],K)})})}}}},apis:{setItems:(n,s,i)=>{n.setItems(s,i)}}}),ob=ce([Ge("dom"),Ae("shell",!0),It("toolbarBehaviours",[fo])]),yT=ce([wd({name:"groups",overrides:()=>({behaviours:ft([fo.config({})])})})]),Hu=Dl({name:"Toolbar",configFields:ob(),partFields:yT(),factory:(n,s,i,l)=>{const u=n.shell?{behaviours:[fo.config({})],components:[]}:{behaviours:[],components:s};return{uid:n.uid,dom:n.dom,components:u.components,behaviours:$o(n.toolbarBehaviours,u.behaviours),apis:{setGroups:(f,p)=>{var b;(b=f,n.shell?T.some(b):Tr(b,n,"groups")).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},y=>{fo.set(y,p)})},refresh:at},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(n,s,i)=>{n.setGroups(s,i)}}}),nS=at,rS=$e,$k=ce([]);var sS,I6=Object.freeze({__proto__:null,setup:nS,isDocked:rS,getBehaviours:$k});const Vk=ce(Bt("toolbar-height-change")),Tm={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},vT="tox-tinymce--toolbar-sticky-on",xT="tox-tinymce--toolbar-sticky-off",X0=(n,s)=>we(Qr.getModes(n),s),jk=n=>{const s=n.element;js(s).each(i=>{const l="padding-"+Qr.getModes(n)[0];if(Qr.isDocked(n)){const u=To(i);bo(s,"width",u+"px"),bo(i,l,(f=>va(f)+(parseInt(yr(f,"margin-top"),10)||0)+(parseInt(yr(f,"margin-bottom"),10)||0))(s)+"px")}else _n(s,"width"),_n(i,l)})},aS=(n,s)=>{s?(Kt(n,Tm.fadeOutClass),Po(n,[Tm.transitionClass,Tm.fadeInClass])):(Kt(n,Tm.fadeInClass),Po(n,[Tm.fadeOutClass,Tm.transitionClass]))},kT=(n,s)=>{const i=Et(n.getContainer());s?(bt(i,vT),Kt(i,xT)):(bt(i,xT),Kt(i,vT))},wT=(n,s)=>{const i=Cn(),l=s.getSink,u=b=>{l().each(y=>b(y.element))},f=b=>{n.inline||jk(b),kT(n,Qr.isDocked(b)),b.getSystem().broadcastOn([D()],{}),l().each(y=>y.getSystem().broadcastOn([D()],{}))},p=n.inline?[]:[pl.config({channels:{[Vk()]:{onReceive:jk}}})];return[wo.config({}),Qr.config({contextual:{lazyContext:b=>{const y=va(b.element),w=n.inline?n.getContentAreaContainer():n.getContainer();return T.from(w).map(E=>{const C=As(Et(E));return fg(n,b.element).fold(()=>{const O=C.height-y,B=C.y+(X0(b,"top")?0:y);return Go(C.x,B,C.width,O)},O=>{const B=ac(C,mg(O)),P=X0(b,"top")?B.y:B.y+y;return Go(B.x,P,B.width,B.height-y)})})},onShow:()=>{u(b=>aS(b,!0))},onShown:b=>{u(y=>qn(y,[Tm.transitionClass,Tm.fadeInClass])),i.get().each(y=>{((w,E)=>{const C=sa(E);yd(C).filter(O=>!wn(E,O)).filter(O=>wn(O,Et(C.dom.body))||ns(w,O)).each(()=>Fi(E))})(b.element,y),i.clear()})},onHide:b=>{((y,w)=>Is(y).orThunk(()=>w().toOptional().bind(E=>Is(E.element))))(b.element,l).fold(i.clear,i.set),u(y=>aS(y,!1))},onHidden:()=>{u(b=>qn(b,[Tm.transitionClass]))},...Tm},lazyViewport:b=>fg(n,b.element).fold(()=>{const y=Qs(),w=S_(n),E=y.y+(X0(b,"top")?w:0),C=y.height-(X0(b,"bottom")?w:0);return{bounds:Go(y.x,E,y.width,C),optScrollEnv:T.none()}},y=>({bounds:mg(y),optScrollEnv:T.some({currentScrollTop:y.element.dom.scrollTop,scrollElmTop:Ve(y.element).top})})),modes:[s.header.getDockingMode()],onDocked:f,onUndocked:f}),...p]};var P6=Object.freeze({__proto__:null,setup:(n,s,i)=>{n.inline||(s.header.isPositionedAtTop()||n.on("ResizeEditor",()=>{i().each(Qr.reset)}),n.on("ResizeWindow ResizeEditor",()=>{i().each(jk)}),n.on("SkinLoaded",()=>{i().each(l=>{Qr.isDocked(l)?Qr.reset(l):Qr.refresh(l)})}),n.on("FullscreenStateChanged",()=>{i().each(Qr.reset)})),n.on("AfterScrollIntoView",l=>{i().each(u=>{Qr.refresh(u);const f=u.element;k3(f)&&((p,b)=>{const y=sa(b),w=id(b).dom.innerHeight,E=xr(y),C=Et(p.elm),O=ri(C),B=vr(C),P=O.y,Z=P+B,K=Ve(b),oe=vr(b),q=K.top,W=q+oe,J=Math.abs(q-E.top)<2,ne=Math.abs(W-(E.top+w))<2;if(J&&P<W)Nd(E.left,P-oe,y);else if(ne&&Z>q){const se=P-w+B+oe;Nd(E.left,se,y)}})(l,f)})}),n.on("PostRender",()=>{kT(n,!1)})},isDocked:n=>n().map(Qr.isDocked).getOr(!1),getBehaviours:wT});const L6=to([pa,ca("items",mu([Ic([U_,Ci("items",ta)]),ta]))].concat(xm)),F6=[Gr("text"),Gr("tooltip"),Gr("icon"),li("search",!1,mu([Tl,to([Gr("placeholder")])],n=>tn(n)?n?T.some({placeholder:T.none()}):T.none():T.some(n))),ii("fetch"),kr("onSetup",()=>at)],_T=to([pa,...F6]),CT=n=>Ir("menubutton",_T,n),H6=to([pa,w0,Qd,yg,K_,JR,bg,$l("presets","normal",["normal","color","listpreview"]),qE(1),my,WE]);var iS=_d({factory:(n,s)=>{const i={focus:Jt.focusIn,setMenus:(l,u)=>{const f=nt(u,p=>{const b={type:"menubutton",text:p.text,fetch:w=>{w(p.getItems())}},y=CT(b).mapError(w=>_i(w)).getOrDie();return Ty(y,"tox-mbtn",s.backstage,T.some("menuitem"))});fo.set(l,f)}};return{uid:n.uid,dom:n.dom,components:[],behaviours:ft([fo.config({}),Zo("menubar-events",[Er(l=>{n.onSetup(l)}),je(Wt(),(l,u)=>{es(l.element,".tox-mbtn--active").each(f=>{Wd(u.event.target,".tox-mbtn").each(p=>{wn(f,p)||l.getSystem().getByDom(f).each(b=>{l.getSystem().getByDom(p).each(y=>{bl.expand(y),bl.close(b),wo.focus(y)})})})})}),je(jp(),(l,u)=>{u.event.prevFocus.bind(f=>l.getSystem().getByDom(f).toOptional()).each(f=>{u.event.newFocus.bind(p=>l.getSystem().getByDom(p).toOptional()).each(p=>{bl.isOpen(f)&&(bl.expand(p),bl.close(f))})})})]),Jt.config({mode:"flow",selector:".tox-mbtn",onEscape:l=>(n.onEscape(l),T.some(!0))}),wr.config({})]),apis:i,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[Ge("dom"),Ge("uid"),Ge("onEscape"),Ge("backstage"),Ae("onSetup",at)],apis:{focus:(n,s)=>{n.focus(s)},setMenus:(n,s,i)=>{n.setMenus(s,i)}}});const ST="container",$6=[It("slotBehaviours",[])],lS=n=>"<alloy.field."+n+">",V6=(n,s)=>{const i=E=>J4(n),l=(E,C)=>(O,B)=>Tr(O,n,B).map(P=>E(P,B)).getOr(C),u=(E,C)=>gs(E.element,"aria-hidden")!=="true",f=l(u,!1),p=l((E,C)=>{if(u(E)){const O=E.element;bo(O,"display","none"),lo(O,"aria-hidden","true"),qt(E,pc(),{name:C,visible:!1})}}),b=(E=>(C,O)=>{Dt(O,B=>E(C,B))})(p),y=l((E,C)=>{if(!u(E)){const O=E.element;_n(O,"display"),Xo(O,"aria-hidden"),qt(E,pc(),{name:C,visible:!0})}}),w={getSlotNames:i,getSlot:(E,C)=>Tr(E,n,C),isShowing:f,hideSlot:p,hideAllSlots:E=>b(E,i()),showSlot:y};return{uid:n.uid,dom:n.dom,components:s,behaviours:go(n.slotBehaviours),apis:w}},j6=$n({getSlotNames:(n,s)=>n.getSlotNames(s),getSlot:(n,s,i)=>n.getSlot(s,i),isShowing:(n,s,i)=>n.isShowing(s,i),hideSlot:(n,s,i)=>n.hideSlot(s,i),hideAllSlots:(n,s)=>n.hideAllSlots(s),showSlot:(n,s,i)=>n.showSlot(s,i)},n=>zb(n)),yl={...j6,sketch:n=>{const s=(()=>{const f=[];return{slot:(p,b)=>(f.push(p),jw(ST,lS(p),b)),record:ce(f)}})(),i=n(s),l=s.record(),u=nt(l,f=>hl({name:f,pname:lS(f)}));return B1(ST,$6,u,V6,i)}},U6=to([Qd,w0,kr("onShow",at),kr("onHide",at),bg]),Z6=n=>({element:()=>n.element.dom}),Uk=(n,s)=>{const i=nt(qo(s),l=>{const u=s[l],f=ai((p=>Ir("sidebar",U6,p))(u));return{name:l,getApi:Z6,onSetup:f.onSetup,onShow:f.onShow,onHide:f.onHide}});return nt(i,l=>{const u=Ut(at);return n.slot(l.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:C0([vg(l,u),wp(l,u),je(pc(),(f,p)=>{const b=p.event;H(i,w=>w.name===b.name).each(w=>{(b.visible?w.onShow:w.onHide)(w.getApi(f))})})])})})},ET=n=>yl.sketch(s=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:Uk(s,n),slotBehaviours:C0([Er(i=>yl.hideAllSlots(i))])})),Zk=(n,s)=>{lo(n,"role",s)},W6=n=>On.getCurrent(n).bind(s=>Yl.isGrowing(s)||Yl.hasGrown(s)?On.getCurrent(s).bind(i=>H(yl.getSlotNames(i),l=>yl.isShowing(i,l))):T.none()),cS=Bt("FixSizeEvent"),dS=Bt("AutoSizeEvent");var q6=Object.freeze({__proto__:null,block:(n,s,i,l)=>{lo(n.element,"aria-busy",!0);const u=s.getRoot(n).getOr(n),f=ft([Jt.config({mode:"special",onTab:()=>T.some(!0),onShiftTab:()=>T.some(!0)}),wo.config({})]),p=l(u,f),b=u.getSystem().build(p);fo.append(u,Qi(b)),b.hasConfigured(Jt)&&s.focus&&Jt.focusIn(b),i.isBlocked()||s.onBlock(n),i.blockWith(()=>fo.remove(u,b))},unblock:(n,s,i)=>{Xo(n.element,"aria-busy"),i.isBlocked()&&s.onUnblock(n),i.clear()},isBlocked:(n,s,i)=>i.isBlocked()}),G6=[kr("getRoot",T.none),Ts("focus",!0),Sn("onBlock"),Sn("onUnblock")];const iu=ua({fields:G6,name:"blocking",apis:q6,state:Object.freeze({__proto__:null,init:()=>{const n=Bl(s=>s.destroy());return da({readState:n.isSet,blockWith:s=>{n.set({destroy:s})},clear:n.clear,isBlocked:n.isSet})}})}),uS=n=>On.getCurrent(n).each(s=>Fi(s.element,!0)),AT=(n,s,i)=>{const l=Ut(!1),u=Cn(),f=b=>{var y;l.get()&&(!(w=>w.type==="focusin")(y=b)||!(y.composed?rt(y.composedPath()):T.from(y.target)).map(Et).filter(fr).exists(w=>an(w,"mce-pastebin")))&&(b.preventDefault(),uS(s()),n.editorManager.setActive(n))};n.inline||n.on("PreInit",()=>{n.dom.bind(n.getWin(),"focusin",f),n.on("BeforeExecCommand",b=>{b.command.toLowerCase()==="mcefocus"&&b.value!==!0&&f(b)})});const p=b=>{b!==l.get()&&(l.set(b),((y,w,E,C)=>{const O=w.element;if(((B,P)=>{const Z="tabindex",K=`data-mce-${Z}`;T.from(B.iframeElement).map(Et).each(oe=>{P?(Cr(oe,Z).each(q=>lo(oe,K,q)),lo(oe,Z,-1)):(Xo(oe,Z),Cr(oe,K).each(q=>{lo(oe,Z,q),Xo(oe,K)}))})})(y,E),E)iu.block(w,(B=>(P,Z)=>({dom:{tag:"div",attributes:{"aria-label":B.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:hm('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}))(C)),_n(O,"display"),Xo(O,"aria-hidden"),y.hasFocus()&&uS(w);else{const B=On.getCurrent(w).exists(P=>cp(P.element));iu.unblock(w),bo(O,"display","none"),lo(O,"aria-hidden","true"),B&&y.focus()}})(n,s(),b,i.providers),((y,w)=>{y.dispatch("AfterProgressState",{state:w})})(n,b))};n.on("ProgressState",b=>{if(u.on(clearTimeout),Yo(b.time)){const y=dx.setEditorTimeout(n,()=>p(b.state),b.time);u.set(y)}else p(b.state),u.clear()})},fS=(n,s,i)=>({within:n,extra:s,withinWidth:i}),mS=(n,s,i)=>{const l=Co(n,(p,b)=>((y,w)=>{const E=i(y);return T.some({element:y,start:w,finish:w+E,width:E})})(b,p.len).fold(ce(p),y=>({len:y.finish,list:p.list.concat([y])})),{len:0,list:[]}).list,u=Nn(l,p=>p.finish<=s),f=yn(u,(p,b)=>p+b.width,0);return{within:u,extra:l.slice(u.length),withinWidth:f}},Wk=n=>nt(n,s=>s.element),zT=(n,s)=>{const i=nt(s,l=>Qi(l));Hu.setGroups(n,i)},TT=(n,s,i)=>{const l=s.builtGroups.get();if(l.length===0)return;const u=hp(n,s,"primary"),f=Ds.getCoupled(n,"overflowGroup");bo(u.element,"visibility","hidden");const p=l.concat([f]),b=uo(p,w=>Is(w.element).bind(E=>w.getSystem().getByDom(E).toOptional()));i([]),zT(u,p);const y=((w,E,C,O)=>{const B=((oe,q,W)=>{const J=mS(q,oe,W);return J.extra.length===0?T.some(J):T.none()})(w,E,C).getOrThunk(()=>mS(E,w-C(O),C)),P=B.within,Z=B.extra,K=B.withinWidth;return Z.length===1&&Z[0].width<=C(O)?((oe,q,W)=>{const J=Wk(oe.concat(q));return fS(J,[],W)})(P,Z,K):Z.length>=1?((oe,q,W,J)=>{const ne=Wk(oe).concat([W]);return fS(ne,Wk(q),J)})(P,Z,O,K):((oe,q,W)=>fS(Wk(oe),[],W))(P,0,K)})(To(u.element),s.builtGroups.get(),w=>Math.ceil(w.element.dom.getBoundingClientRect().width),f);y.extra.length===0?(fo.remove(u,f),i([])):(zT(u,y.within),i(y.extra)),_n(u.element,"visibility"),ll(u.element),b.each(wo.focus)},OT=ce([It("splitToolbarBehaviours",[Ds]),_a("builtGroups",()=>Ut([]))]),K6=ce([ep(["overflowToggledClass"]),uc("getOverflowBounds"),Ge("lazySink"),_a("overflowGroups",()=>Ut([])),Sn("onOpened"),Sn("onClosed")].concat(OT())),Y6=ce([hl({factory:Hu,schema:ob(),name:"primary"}),Ru({schema:ob(),name:"overflow"}),Ru({name:"overflow-button"}),Ru({name:"overflow-group"})]),pS=ce((n,s)=>{((i,l)=>{const u=$t.max(i,l,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);bo(i,"max-width",u+"px")})(n,Math.floor(s))}),X6=ce([ep(["toggledClass"]),Ge("lazySink"),ii("fetch"),uc("getBounds"),Kr("fireDismissalEventInstead",[Ae("event",Xu())]),af(),Sn("onToggled")]),J6=ce([Ru({name:"button",overrides:n=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:ft([yo.config({toggleClass:n.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:n.onToggled})])})}),Ru({factory:Hu,schema:ob(),name:"toolbar",overrides:n=>({toolbarBehaviours:ft([Jt.config({mode:"cyclic",onEscape:s=>(Tr(s,n,"button").each(wo.focus),T.none())})])})})]),qk=Cn(),Ny=(n,s)=>{const i=Ds.getCoupled(n,"toolbarSandbox");x.isOpen(i)?x.close(i):x.open(i,s.toolbar())},J0=(n,s,i,l)=>{const u=i.getBounds.map(p=>p()),f=i.lazySink(n).getOrDie();mi.positionWithinBounds(f,s,{anchor:{type:"hotspot",hotspot:n,layouts:l,overrides:{maxWidthFunction:pS()}}},u)},Gk=(n,s,i,l,u)=>{Hu.setGroups(s,u),J0(n,s,i,l),yo.on(n)},Op=Dl({name:"FloatingToolbarButton",factory:(n,s,i,l)=>({...Vi.sketch({...l.button(),action:u=>{Ny(u,l)},buttonBehaviours:ho({dump:l.button().buttonBehaviours},[Ds.config({others:{toolbarSandbox:u=>((f,p,b)=>{const y=rp();return{dom:{tag:"div",attributes:{id:y.id}},behaviours:ft([Jt.config({mode:"special",onEscape:w=>(x.close(w),T.some(!0))}),x.config({onOpen:(w,E)=>{const C=qk.get().getOr(!1);b.fetch().get(O=>{Gk(f,E,b,p.layouts,O),y.link(f.element),C||Jt.focusIn(E)})},onClose:()=>{yo.off(f),qk.get().getOr(!1)||wo.focus(f),y.unlink(f.element)},isPartOf:(w,E,C)=>ml(E,C)||ml(f,C),getAttachPoint:()=>b.lazySink(f).getOrDie()}),pl.config({channels:{...U({isExtraPart:$e,...b.fireDismissalEventInstead.map(w=>({fireEventInstead:{event:w.event}})).getOr({})}),...ue({doReposition:()=>{x.getState(Ds.getCoupled(f,"toolbarSandbox")).each(w=>{J0(f,w,b,p.layouts)})}})}})])}})(u,i,n)}})])}),apis:{setGroups:(u,f)=>{x.getState(Ds.getCoupled(u,"toolbarSandbox")).each(p=>{Gk(u,p,n,i.layouts,f)})},reposition:u=>{x.getState(Ds.getCoupled(u,"toolbarSandbox")).each(f=>{J0(u,f,n,i.layouts)})},toggle:u=>{Ny(u,l)},toggleWithoutFocusing:u=>{((f,p)=>{qk.set(!0),Ny(f,p),qk.clear()})(u,l)},getToolbar:u=>x.getState(Ds.getCoupled(u,"toolbarSandbox")),isOpen:u=>x.isOpen(Ds.getCoupled(u,"toolbarSandbox"))}}),configFields:X6(),partFields:J6(),apis:{setGroups:(n,s,i)=>{n.setGroups(s,i)},reposition:(n,s)=>{n.reposition(s)},toggle:(n,s)=>{n.toggle(s)},toggleWithoutFocusing:(n,s)=>{n.toggleWithoutFocusing(s)},getToolbar:(n,s)=>n.getToolbar(s),isOpen:(n,s)=>n.isOpen(s)}}),Q6=ce([Ge("items"),ep(["itemSelector"]),It("tgroupBehaviours",[Jt])]),eM=ce([Kv({name:"items",unit:"item"})]),My=Dl({name:"ToolbarGroup",configFields:Q6(),partFields:eM(),factory:(n,s,i,l)=>({uid:n.uid,dom:n.dom,components:s,behaviours:$o(n.tgroupBehaviours,[Jt.config({mode:"flow",selector:n.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}})}),Kk=n=>nt(n,s=>Qi(s)),Q0=(n,s,i)=>{TT(n,i,l=>{i.overflowGroups.set(l),s.getOpt(n).each(u=>{Op.setGroups(u,Kk(l))})})},gS=Dl({name:"SplitFloatingToolbar",configFields:K6(),partFields:Y6(),factory:(n,s,i,l)=>{const u=Jn(Op.sketch({fetch:()=>xg(f=>{f(Kk(n.overflowGroups.get()))}),layouts:{onLtr:()=>[ks,xs],onRtl:()=>[xs,ks],onBottomLtr:()=>[cr,Gs],onBottomRtl:()=>[Gs,cr]},getBounds:i.getOverflowBounds,lazySink:n.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:n.markers.overflowToggledClass},parts:{button:l["overflow-button"](),toolbar:l.overflow()},onToggled:(f,p)=>n[p?"onOpened":"onClosed"](f)}));return{uid:n.uid,dom:n.dom,components:s,behaviours:$o(n.splitToolbarBehaviours,[Ds.config({others:{overflowGroup:()=>My.sketch({...l["overflow-group"](),items:[u.asSpec()]})}})]),apis:{setGroups:(f,p)=>{n.builtGroups.set(nt(p,f.getSystem().build)),Q0(f,u,n)},refresh:f=>Q0(f,u,n),toggle:f=>{u.getOpt(f).each(p=>{Op.toggle(p)})},toggleWithoutFocusing:f=>{u.getOpt(f).each(Op.toggleWithoutFocusing)},isOpen:f=>u.getOpt(f).map(Op.isOpen).getOr(!1),reposition:f=>{u.getOpt(f).each(p=>{Op.reposition(p)})},getOverflow:f=>u.getOpt(f).bind(Op.getToolbar)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(n,s,i)=>{n.setGroups(s,i)},refresh:(n,s)=>{n.refresh(s)},reposition:(n,s)=>{n.reposition(s)},toggle:(n,s)=>{n.toggle(s)},toggleWithoutFocusing:(n,s)=>{n.toggle(s)},isOpen:(n,s)=>n.isOpen(s),getOverflow:(n,s)=>n.getOverflow(s)}}),tM=ce([ep(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Sn("onOpened"),Sn("onClosed")].concat(OT())),oM=ce([hl({factory:Hu,schema:ob(),name:"primary"}),hl({factory:Hu,schema:ob(),name:"overflow",overrides:n=>({toolbarBehaviours:ft([Yl.config({dimension:{property:"height"},closedClass:n.markers.closedClass,openClass:n.markers.openClass,shrinkingClass:n.markers.shrinkingClass,growingClass:n.markers.growingClass,onShrunk:s=>{Tr(s,n,"overflow-button").each(i=>{yo.off(i)}),n.onClosed(s)},onGrown:s=>{n.onOpened(s)},onStartGrow:s=>{Tr(s,n,"overflow-button").each(yo.on)}}),Jt.config({mode:"acyclic",onEscape:s=>(Tr(s,n,"overflow-button").each(wo.focus),T.some(!0))})])})}),Ru({name:"overflow-button",overrides:n=>({buttonBehaviours:ft([yo.config({toggleClass:n.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),Ru({name:"overflow-group"})]),hS=(n,s,i)=>{Tr(n,s,"overflow-button").each(l=>{Tr(n,s,"overflow").each(u=>{if(bS(n,s),Yl.hasShrunk(u)){const f=s.onOpened;s.onOpened=p=>{i||Jt.focusIn(u),f(p),s.onOpened=f}}else{const f=s.onClosed;s.onClosed=p=>{i||wo.focus(l),f(p),s.onClosed=f}}Yl.toggleGrow(u)})})},bS=(n,s)=>{Tr(n,s,"overflow").each(i=>{TT(n,s,l=>{const u=nt(l,f=>Qi(f));Hu.setGroups(i,u)}),Tr(n,s,"overflow-button").each(l=>{Yl.hasGrown(i)&&yo.on(l)}),Yl.refresh(i)})},yS=Dl({name:"SplitSlidingToolbar",configFields:tM(),partFields:oM(),factory:(n,s,i,l)=>{const u="alloy.toolbar.toggle";return{uid:n.uid,dom:n.dom,components:s,behaviours:$o(n.splitToolbarBehaviours,[Ds.config({others:{overflowGroup:f=>My.sketch({...l["overflow-group"](),items:[Vi.sketch({...l["overflow-button"](),action:p=>{Uo(f,u)}})]})}}),Zo("toolbar-toggle-events",[je(u,f=>{hS(f,n,!1)})])]),apis:{setGroups:(f,p)=>{((b,y)=>{const w=nt(y,b.getSystem().build);n.builtGroups.set(w)})(f,p),bS(f,n)},refresh:f=>bS(f,n),toggle:f=>{hS(f,n,!1)},toggleWithoutFocusing:f=>{hS(f,n,!0)},isOpen:f=>((p,b)=>Tr(p,b,"overflow").map(Yl.hasGrown).getOr(!1))(f,n)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(n,s,i)=>{n.setGroups(s,i)},refresh:(n,s)=>{n.refresh(s)},toggle:(n,s)=>{n.toggle(s)},isOpen:(n,s)=>n.isOpen(s)}}),DT=n=>{const s=n.title.fold(()=>({}),i=>({attributes:{title:i}}));return{dom:{tag:"div",classes:["tox-toolbar__group"],...s},components:[My.parts.items({})],items:n.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:ft([wr.config({}),wo.config({})])}},Yk=n=>My.sketch(DT(n)),RT=(n,s)=>{const i=Er(l=>{const u=nt(n.initGroups,Yk);Hu.setGroups(l,u)});return ft([Hx(n.providers.isDisabled),Ia(),Jt.config({mode:s,onEscape:n.onEscape,selector:".tox-toolbar__group"}),Zo("toolbar-events",[i])])},NT=n=>{const s=n.cyclicKeying?"cyclic":"acyclic";return{uid:n.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":DT({title:T.none(),items:[]}),"overflow-button":Wz({name:"more",icon:T.some("more-drawer"),enabled:!0,tooltip:T.some("Reveal or hide additional toolbar items"),primary:!1,buttonType:T.none(),borderless:!1},T.none(),n.providers,[],"overflow-button")},splitToolbarBehaviours:RT(n,s)}},nM=n=>{const s=NT(n),i=gS.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return gS.sketch({...s,lazySink:n.getSink,getOverflowBounds:()=>{const l=n.moreDrawerData.lazyHeader().element,u=ri(l),f=Ni(l),p=ri(f),b=Math.max(f.dom.scrollHeight,p.height);return Go(u.x+4,p.y,u.width-8,b)},parts:{...s.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:n.attributes}}},components:[i],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:l=>n.onToggled(l,!0),onClosed:l=>n.onToggled(l,!1)})},rM=n=>{const s=yS.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),i=yS.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),l=NT(n);return yS.sketch({...l,components:[s,i],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:u=>{u.getSystem().broadcastOn([Vk()],{type:"opened"}),n.onToggled(u,!0)},onClosed:u=>{u.getSystem().broadcastOn([Vk()],{type:"closed"}),n.onToggled(u,!1)}})},vS=n=>{const s=n.cyclicKeying?"cyclic":"acyclic";return Hu.sketch({uid:n.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(n.type===Yd.scrolling?["tox-toolbar--scrolling"]:[])},components:[Hu.parts.groups({})],toolbarBehaviours:RT(n,s)})},MT=[yg,Qd,Gr("tooltip"),$l("buttonType","secondary",["primary","secondary"]),Ts("borderless",!1),ii("onAction")],xS={button:[...MT,Jd,Fl("type",["button"])],togglebutton:[...MT,Ts("active",!1),Fl("type",["togglebutton"])]},sM=[Fl("type",["group"]),Wn("buttons",[],zs("type",xS))],aM=zs("type",{...xS,group:sM}),Om=to([Wn("buttons",[],aM),ii("onShow"),ii("onHide")]),BT=(n,s)=>((i,l)=>{var u,f;const p=i.type==="togglebutton",b=i.icon.map(q=>Tg(q,l.icons)).map(Jn),y={...i,name:p?i.text.getOr(i.icon.getOr("")):(u=i.text)!==null&&u!==void 0?u:i.icon.getOr(""),primary:i.buttonType==="primary",buttonType:T.from(i.buttonType),tooltip:i.tooltip,icon:i.icon,enabled:!0,borderless:i.borderless},w=BC((f=i.buttonType)!==null&&f!==void 0?f:"secondary"),E=p?i.text.map(l.translate):T.some(l.translate(i.text)),C=E.map(Os),O=y.tooltip.or(E).map(q=>({"aria-label":l.translate(q)})).getOr({}),B=b.map(q=>q.asSpec()),P=hy([B,C]),Z=i.icon.isSome()&&C.isSome(),K={tag:"button",classes:w.concat(...i.icon.isSome()&&!Z?["tox-button--icon"]:[]).concat(...Z?["tox-button--icon-and-text"]:[]).concat(...i.borderless?["tox-button--naked"]:[]).concat(...i.type==="togglebutton"&&i.active?["tox-button--enabled"]:[]),attributes:O},oe=W0(y,T.some(q=>{const W=J=>{b.map(ne=>ne.getOpt(q).each(se=>{fo.set(se,[Tg(J,l.icons)])}))};return p?i.onAction({setIcon:W,setActive:J=>{const ne=q.element;J?(bt(ne,"tox-button--enabled"),lo(ne,"aria-pressed",!0)):(Kt(ne,"tox-button--enabled"),Xo(ne,"aria-pressed"))},isActive:()=>an(q.element,"tox-button--enabled")}):i.type==="button"?i.onAction({setIcon:W}):void 0}),[],K,P,i.tooltip,l);return Vi.sketch(oe)})(n,s),IT=la().deviceType,kS=IT.isPhone(),hi=IT.isTablet();var By=Dl({name:"silver.View",configFields:[Ge("viewConfig")],partFields:[wd({factory:{sketch:n=>{let s=!1;const i=nt(n.buttons,l=>l.type==="group"?(s=!0,((u,f)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:nt(u.buttons,p=>BT(p,f))}))(l,n.providers)):BT(l,n.providers));return{uid:n.uid,dom:{tag:"div",classes:[s?"tox-view__toolbar":"tox-view__header",...kS||hi?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:ft([wo.config({}),Jt.config({mode:"flow",selector:"button, .tox-button",focusInside:Eh.OnEnterOrSpaceMode})]),components:s?i:[Iu.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),Iu.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:i})]}}},schema:[Ge("buttons"),Ge("providers")],name:"header"}),wd({factory:{sketch:n=>({uid:n.uid,behaviours:ft([wo.config({}),wr.config({})]),dom:{tag:"div",classes:["tox-view__pane"]}})},schema:[],name:"pane"})],factory:(n,s,i,l)=>{const u={getPane:f=>gi.getPart(f,n,"pane"),getOnShow:f=>n.viewConfig.onShow,getOnHide:f=>n.viewConfig.onHide};return{uid:n.uid,dom:n.dom,components:s,behaviours:ft([wo.config({}),Jt.config({mode:"cyclic",focusInside:Eh.OnEnterOrSpaceMode})]),apis:u}},apis:{getPane:(n,s)=>n.getPane(s),getOnShow:(n,s)=>n.getOnShow(s),getOnHide:(n,s)=>n.getOnHide(s)}});const iM=(n,s,i)=>_r(s,(l,u)=>{const f=ai(Ir("view",Om,l));return n.slot(u,By.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:f,components:[...f.buttons.length>0?[By.parts.header({buttons:f.buttons,providers:i})]:[],By.parts.pane({})]}))}),lM=(n,s)=>yl.sketch(i=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:iM(i,n,s),slotBehaviours:C0([Er(l=>yl.hideAllSlots(l))])})),PT=n=>H(yl.getSlotNames(n),s=>yl.isShowing(n,s)),LT=(n,s,i)=>{yl.getSlot(n,s).each(l=>{By.getPane(l).each(u=>{var f;i(l)((f=u.element.dom,{getContainer:ce(f)}))})})};var Xk=_d({factory:(n,s)=>{const i={setViews:(l,u)=>{fo.set(l,[lM(u,s.backstage.shared.providers)])},whichView:l=>On.getCurrent(l).bind(PT),toggleView:(l,u,f,p)=>On.getCurrent(l).exists(b=>{const y=PT(b),w=y.exists(C=>p===C),E=yl.getSlot(b,p).isSome();return E&&(yl.hideAllSlots(b),w?((C=>{const O=C.element;bo(O,"display","none"),lo(O,"aria-hidden","true")})(l),u()):(f(),(C=>{const O=C.element;_n(O,"display"),Xo(O,"aria-hidden")})(l),yl.showSlot(b,p),((C,O)=>{LT(C,O,By.getOnShow)})(b,p)),y.each(C=>((O,B)=>LT(O,B,By.getOnHide))(b,C))),E})};return{uid:n.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:ft([fo.config({}),On.config({find:l=>{const u=fo.contents(l);return rt(u)}})]),apis:i}},name:"silver.ViewWrapper",configFields:[Ge("backstage")],apis:{setViews:(n,s,i)=>n.setViews(s,i),toggleView:(n,s,i,l,u)=>n.toggleView(s,i,l,u),whichView:(n,s)=>n.whichView(s)}});const cM=zm.optional({factory:iS,name:"menubar",schema:[Ge("backstage")]}),dM=zm.optional({factory:{sketch:n=>oS.sketch({uid:n.uid,dom:n.dom,listBehaviours:ft([Jt.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>vS({type:n.type,uid:Bt("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:n.providers,onEscape:()=>(n.onEscape(),T.some(!0))}),setupItem:(s,i,l,u)=>{Hu.setGroups(i,l)},shell:!0})},name:"multiple-toolbar",schema:[Ge("dom"),Ge("onEscape")]}),uM=zm.optional({factory:{sketch:n=>(i=>i.type===Yd.sliding?rM:i.type===Yd.floating?nM:vS)(n)({type:n.type,uid:n.uid,onEscape:()=>(n.onEscape(),T.some(!0)),onToggled:(i,l)=>n.onToolbarToggled(l),cyclicKeying:!1,initGroups:[],getSink:n.getSink,providers:n.providers,moreDrawerData:{lazyToolbar:n.lazyToolbar,lazyMoreButton:n.lazyMoreButton,lazyHeader:n.lazyHeader},attributes:n.attributes})},name:"toolbar",schema:[Ge("dom"),Ge("onEscape"),Ge("getSink")]}),fM=zm.optional({factory:{sketch:n=>{const s=n.editor,i=n.sticky?wT:$k;return{uid:n.uid,dom:n.dom,components:n.components,behaviours:ft(i(s,n.sharedBackstage))}}},name:"header",schema:[Ge("dom")]}),mM=zm.optional({factory:{sketch:n=>({uid:n.uid,dom:n.dom,components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:"⚡️Upgrade"}}]})},name:"promotion",schema:[Ge("dom")]}),pM=zm.optional({name:"socket",schema:[Ge("dom")]}),gM=zm.optional({factory:{sketch:n=>({uid:n.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:ft([wr.config({}),wo.config({}),Yl.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:s=>{On.getCurrent(s).each(yl.hideAllSlots),Uo(s,dS)},onGrown:s=>{Uo(s,dS)},onStartGrow:s=>{qt(s,cS,{width:Sr(s.element,"width").getOr("")})},onStartShrink:s=>{qt(s,cS,{width:To(s.element)+"px"})}}),fo.config({}),On.config({find:s=>{const i=fo.contents(s);return rt(i)}})])}],behaviours:ft([rC(0),Zo("sidebar-sliding-events",[je(cS,(s,i)=>{bo(s.element,"width",i.event.width)}),je(dS,(s,i)=>{_n(s.element,"width")})])])})},name:"sidebar",schema:[Ge("dom")]}),hM=zm.optional({factory:{sketch:n=>({uid:n.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:ft([fo.config({}),iu.config({focus:!1}),On.config({find:s=>rt(s.components())})]),components:[]})},name:"throbber",schema:[Ge("dom")]}),bM=zm.optional({factory:Xk,name:"viewWrapper",schema:[Ge("backstage")]}),yM=zm.optional({factory:{sketch:n=>({uid:n.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:n.components})},name:"editorContainer",schema:[]});var Pr=Dl({name:"OuterContainer",factory:(n,s,i)=>{let l=!1;const u=p=>{zr(p,".tox-statusbar").each(b=>{yr(b,"display")==="none"&&gs(b,"aria-hidden")==="true"?(_n(b,"display"),Xo(b,"aria-hidden")):(bo(b,"display","none"),lo(b,"aria-hidden","true"))})},f={getSocket:p=>gi.getPart(p,n,"socket"),setSidebar:(p,b,y)=>{gi.getPart(p,n,"sidebar").each(w=>((E,C,O)=>{On.getCurrent(E).each(B=>{fo.set(B,[ET(C)]);const P=O==null?void 0:O.toLowerCase();Do(P)&&no(C,P)&&On.getCurrent(B).each(Z=>{yl.showSlot(Z,P),Yl.immediateGrow(B),_n(B.element,"width"),Zk(E.element,"region")})})})(w,b,y))},toggleSidebar:(p,b)=>{gi.getPart(p,n,"sidebar").each(y=>((w,E)=>{On.getCurrent(w).each(C=>{On.getCurrent(C).each(O=>{Yl.hasGrown(C)?yl.isShowing(O,E)?(Yl.shrink(C),Zk(w.element,"presentation")):(yl.hideAllSlots(O),yl.showSlot(O,E),Zk(w.element,"region")):(yl.hideAllSlots(O),yl.showSlot(O,E),Yl.grow(C),Zk(w.element,"region"))})})})(y,b))},whichSidebar:p=>gi.getPart(p,n,"sidebar").bind(W6).getOrNull(),getHeader:p=>gi.getPart(p,n,"header"),getToolbar:p=>gi.getPart(p,n,"toolbar"),setToolbar:(p,b)=>{gi.getPart(p,n,"toolbar").each(y=>{const w=nt(b,Yk);y.getApis().setGroups(y,w)})},setToolbars:(p,b)=>{gi.getPart(p,n,"multiple-toolbar").each(y=>{const w=nt(b,E=>nt(E,Yk));oS.setItems(y,w)})},refreshToolbar:p=>{gi.getPart(p,n,"toolbar").each(b=>b.getApis().refresh(b))},toggleToolbarDrawer:p=>{gi.getPart(p,n,"toolbar").each(b=>{Ta(b.getApis().toggle,y=>y(b))})},toggleToolbarDrawerWithoutFocusing:p=>{gi.getPart(p,n,"toolbar").each(b=>{Ta(b.getApis().toggleWithoutFocusing,y=>y(b))})},isToolbarDrawerToggled:p=>gi.getPart(p,n,"toolbar").bind(b=>T.from(b.getApis().isOpen).map(y=>y(b))).getOr(!1),getThrobber:p=>gi.getPart(p,n,"throbber"),focusToolbar:p=>{gi.getPart(p,n,"toolbar").orThunk(()=>gi.getPart(p,n,"multiple-toolbar")).each(b=>{Jt.focusIn(b)})},setMenubar:(p,b)=>{gi.getPart(p,n,"menubar").each(y=>{iS.setMenus(y,b)})},focusMenubar:p=>{gi.getPart(p,n,"menubar").each(b=>{iS.focus(b)})},setViews:(p,b)=>{gi.getPart(p,n,"viewWrapper").each(y=>{Xk.setViews(y,b)})},toggleView:(p,b)=>gi.getPart(p,n,"viewWrapper").exists(y=>Xk.toggleView(y,()=>f.showMainView(p),()=>f.hideMainView(p),b)),whichView:p=>gi.getPart(p,n,"viewWrapper").bind(Xk.whichView).getOrNull(),hideMainView:p=>{l=f.isToolbarDrawerToggled(p),l&&f.toggleToolbarDrawer(p),gi.getPart(p,n,"editorContainer").each(b=>{const y=b.element;u(y),bo(y,"display","none"),lo(y,"aria-hidden","true")})},showMainView:p=>{l&&f.toggleToolbarDrawer(p),gi.getPart(p,n,"editorContainer").each(b=>{const y=b.element;u(y),_n(y,"display"),Xo(y,"aria-hidden")})}};return{uid:n.uid,dom:n.dom,components:s,apis:f,behaviours:n.behaviours}},configFields:[Ge("dom"),Ge("behaviours")],partFields:[fM,cM,uM,dM,pM,gM,mM,hM,bM,yM],apis:{getSocket:(n,s)=>n.getSocket(s),setSidebar:(n,s,i,l)=>{n.setSidebar(s,i,l)},toggleSidebar:(n,s,i)=>{n.toggleSidebar(s,i)},whichSidebar:(n,s)=>n.whichSidebar(s),getHeader:(n,s)=>n.getHeader(s),getToolbar:(n,s)=>n.getToolbar(s),setToolbar:(n,s,i)=>{n.setToolbar(s,i)},setToolbars:(n,s,i)=>{n.setToolbars(s,i)},refreshToolbar:(n,s)=>n.refreshToolbar(s),toggleToolbarDrawer:(n,s)=>{n.toggleToolbarDrawer(s)},toggleToolbarDrawerWithoutFocusing:(n,s)=>{n.toggleToolbarDrawerWithoutFocusing(s)},isToolbarDrawerToggled:(n,s)=>n.isToolbarDrawerToggled(s),getThrobber:(n,s)=>n.getThrobber(s),setMenubar:(n,s,i)=>{n.setMenubar(s,i)},focusMenubar:(n,s)=>{n.focusMenubar(s)},focusToolbar:(n,s)=>{n.focusToolbar(s)},setViews:(n,s,i)=>{n.setViews(s,i)},toggleView:(n,s,i)=>n.toggleView(s,i),whichView:(n,s)=>n.whichView(s)}});const FT={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},wS=n=>n.split(" "),HT=(n,s)=>{const i={...FT,...s.menus},l=qo(s.menus).length>0,u=s.menubar===void 0||s.menubar===!0?wS("file edit view insert format tools table help"):wS(s.menubar===!1?"":s.menubar),f=Nn(u,b=>{const y=no(FT,b);return l?y||dt(s.menus,b).exists(w=>no(w,"items")):y}),p=nt(f,b=>{const y=i[b];return((w,E,C)=>{const O=rE(C).split(/[ ,]/);return{text:w.title,getItems:()=>kn(w.items,B=>{const P=B.toLowerCase();return P.trim().length===0||At(O,Z=>Z===P)?[]:P==="separator"||P==="|"?[{type:"separator"}]:E.menuItems[P]?[E.menuItems[P]]:[]})}})({title:y.title,items:wS(y.items)},s,n)});return Nn(p,b=>b.getItems().length>0&&At(b.getItems(),y=>Do(y)||y.type!=="separator"))},$T=(n,s,i)=>(n.on("remove",()=>i.unload(s)),i.load(s)),_S=(n,s,i,l)=>(n.on("remove",()=>l.unloadRawCss(s)),l.loadRawCss(s,i)),vM=async(n,s)=>{const i="ui/"+vx(n).getOr("default")+"/skin.css",l=tinymce.Resource.get(i);if(!Do(l)){const u=n.editorManager.suffix;return $T(n,s+`/skin${u}.css`,n.ui.styleSheetLoader)}_S(n,i,l,n.ui.styleSheetLoader)},xM=async(n,s)=>{var i;if(i=Et(n.getElement()),xi(i).isSome()){const l="ui/"+vx(n).getOr("default")+"/skin.shadowdom.css",u=tinymce.Resource.get(l);if(!Do(u)){const f=n.editorManager.suffix;return $T(n,s+`/skin.shadowdom${f}.css`,iy.DOM.styleSheetLoader)}_S(n,l,u,iy.DOM.styleSheetLoader)}},VT=(n,s)=>(async(i,l)=>{const u=()=>{const p=yx(l),b=l.editorManager.suffix;p&&l.contentCSS.push(p+(i?"/content.inline":"/content")+`${b}.css`)};vx(l).fold(u,p=>{const b="ui/"+p+(i?"/content.inline":"/content")+".css",y=tinymce.Resource.get(b);Do(y)?_S(l,b,y,l.ui.styleSheetLoader):u()});const f=yx(l);if(!dg(l)&&Do(f))return Promise.all([vM(l,f),xM(l,f)]).then()})(n,s).then((i=>{const l=()=>{i._skinLoaded=!0,(u=>{u.dispatch("SkinLoaded")})(i)};return()=>{i.initialized?l():i.on("init",l)}})(s),((i,l)=>()=>((u,f)=>{u.dispatch("SkinLoadError",f)})(i,{message:"Skin could not be loaded"}))(s)),jT=ct(VT,!1),kM=ct(VT,!0),nb=(n,s,i)=>qi(i)?n.translate(s):n.translate([s,n.translate(i)]),wM=(n,s)=>{const i=(f,p,b,y)=>{const w=n.shared.providers.translate(f.title);if(f.type==="separator")return T.some({type:"separator",text:w});if(f.type==="submenu"){const E=kn(f.getStyleItems(),C=>l(C,p,y));return p===0&&E.length<=0?T.none():T.some({type:"nestedmenuitem",text:w,enabled:E.length>0,getSubmenuItems:()=>kn(f.getStyleItems(),C=>l(C,p,y))})}return T.some({type:"togglemenuitem",text:w,icon:f.icon,active:f.isSelected(y),enabled:!b,onAction:s.onAction(f),...f.getStylePreview().fold(()=>({}),E=>({meta:{style:E}}))})},l=(f,p,b)=>{const y=f.type==="formatter"&&s.isInvalid(f);return p===0?y?[]:i(f,p,!1,b).toArray():i(f,p,y,b).toArray()},u=f=>{const p=s.getCurrentValue(),b=s.shouldHide?0:1;return kn(f,y=>l(y,b,p))};return{validateItems:u,getFetch:(f,p)=>(b,y)=>{const w=p(),E=u(w);y(eb(E,_f.CLOSE_ON_EXECUTE,f,{isHorizontalMenu:!1,search:T.none()}))}}},Iy=(n,s)=>{const i=s.dataset,l=i.type==="basic"?()=>nt(i.data,u=>lT(u,s.isSelectedFor,s.getPreviewFor)):i.getData;return{items:wM(n,s),getStyleItems:l}},ev=(n,s,i,l,u,f)=>{const{items:p,getStyleItems:b}=Iy(s,i),y=Ut(i.tooltip);return wC({text:i.icon.isSome()?T.none():i.text,icon:i.icon,ariaLabel:T.some(i.tooltip),tooltip:T.none(),role:T.none(),fetch:p.getFetch(s,b),onSetup:w=>{const E=C=>w.setTooltip(nb(n,l(C.value),C.value));return n.on(u,E),xy(Wh(n,"NodeChange",C=>{const O=C.getComponent();i.updateText(O),Eo.set(C.getComponent(),!n.selection.isEditable())})(w),()=>n.off(u,E))},getApi:w=>({getComponent:ce(w),setTooltip:E=>{const C=s.shared.providers.translate(E);lo(w.element,"aria-label",C),y.set(E)}}),columns:1,presets:"normal",classes:i.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[Ys.config({...s.shared.providers.tooltips.getConfig({tooltipText:s.shared.providers.translate(i.tooltip),onShow:w=>{if(i.tooltip!==y.get()){const E=s.shared.providers.translate(y.get());Ys.setComponents(w,s.shared.providers.tooltips.getComponents({tooltipText:E}))}}})})]},"tox-tbtn",s.shared,f)};var rb;(function(n){n[n.SemiColon=0]="SemiColon",n[n.Space=1]="Space"})(rb||(rb={}));const CS=(n,s,i)=>{const l=(u=((f,p)=>p===rb.SemiColon?f.replace(/;$/,"").split(";"):f.split(" "))(n.options.get(s),i),nt(u,f=>{let p=f,b=f;const y=f.split("=");return y.length>1&&(p=y[0],b=y[1]),{title:p,format:b}}));var u;return{type:"basic",data:l}},UT=ce("Alignment {0}"),ZT="left",SS=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],ES=n=>{const s={type:"basic",data:SS};return{tooltip:nb(n,UT(),ZT),text:T.none(),icon:T.some("align-left"),isSelectedFor:i=>()=>n.formatter.match(i),getCurrentValue:T.none,getPreviewFor:i=>T.none,onAction:i=>()=>H(SS,l=>l.format===i.format).each(l=>n.execCommand(l.command)),updateText:i=>{const l=H(SS,u=>n.formatter.match(u.format)).fold(ce(ZT),u=>u.title.toLowerCase());qt(i,ru,{icon:`align-${l}`}),((u,f)=>{u.dispatch("AlignTextUpdate",f)})(n,{value:l})},dataset:s,shouldHide:!1,isInvalid:i=>!n.formatter.canApply(i.format)}},WT=(n,s)=>{const i=s(),l=nt(i,u=>u.format);return T.from(n.formatter.closest(l)).bind(u=>H(i,f=>f.format===u))},AS=ce("Block {0}"),zS="Paragraph",TS=n=>{const s=CS(n,"block_formats",rb.SemiColon);return{tooltip:nb(n,AS(),zS),text:T.some(zS),icon:T.none(),isSelectedFor:i=>()=>n.formatter.match(i),getCurrentValue:T.none,getPreviewFor:i=>()=>{const l=n.formatter.get(i);return l?T.some({tag:l.length>0&&(l[0].inline||l[0].block)||"div",styles:n.dom.parseStyle(n.formatter.getCssText(i))}):T.none()},onAction:kA(n),updateText:i=>{const l=WT(n,()=>s.data).fold(ce(zS),u=>u.title);qt(i,Td,{text:l}),((u,f)=>{u.dispatch("BlocksTextUpdate",f)})(n,{value:l})},dataset:s,shouldHide:!1,isInvalid:i=>!n.formatter.canApply(i.format)}},qT=ce("Font {0}"),OS="System Font",_M=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],GT=n=>{const s=n.split(/\s*,\s*/);return nt(s,i=>i.replace(/^['"]+|['"]+$/g,""))},KT=(n,s)=>s.length>0&&yi(s,i=>n.indexOf(i.toLowerCase())>-1),YT=n=>{const s=()=>{const l=w=>w?GT(w)[0]:"",u=n.queryCommandValue("FontName"),f=i.data,p=u?u.toLowerCase():"",b=bx(n);return{matchOpt:H(f,w=>{const E=w.format;return E.toLowerCase()===p||l(E).toLowerCase()===l(p).toLowerCase()}).orThunk(()=>Bo(((w,E)=>{if(w.indexOf("-apple-system")===0||E.length>0){const C=GT(w.toLowerCase());return KT(C,_M)||KT(C,E)}return!1})(p,b),{title:OS,format:p})),font:u}},i=CS(n,"font_family_formats",rb.SemiColon);return{tooltip:nb(n,qT(),OS),text:T.some(OS),icon:T.none(),isSelectedFor:l=>u=>u.exists(f=>f.format===l),getCurrentValue:()=>{const{matchOpt:l}=s();return l},getPreviewFor:l=>()=>T.some({tag:"div",styles:l.indexOf("dings")===-1?{"font-family":l}:{}}),onAction:l=>()=>{n.undoManager.transact(()=>{n.focus(),n.execCommand("FontName",!1,l.format)})},updateText:l=>{const{matchOpt:u,font:f}=s(),p=u.fold(ce(f),b=>b.title);qt(l,Td,{text:p}),((b,y)=>{b.dispatch("FontFamilyTextUpdate",y)})(n,{value:p})},dataset:i,shouldHide:!1,isInvalid:$e}},CM={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},SM=(()=>{const n="[0-9]+",s="[eE][+-]?"+n,i=u=>`(?:${u})?`,l=["Infinity",n+"\\."+i(n)+i(s),"\\."+n+i(s),n+i(s)].join("|");return new RegExp(`^([+-]?(?:${l}))(.*)$`)})(),Jk=(n,s)=>T.from(SM.exec(n)).bind(i=>{const l=Number(i[1]),u=i[2];return((f,p)=>At(p,b=>At(CM[b],y=>f===y)))(u,s)?T.some({value:l,unit:u}):T.none()}),XT={tab:ce(9),escape:ce(27),enter:ce(13),backspace:ce(8),delete:ce(46),left:ce(37),up:ce(38),right:ce(39),down:ce(40),space:ce(32),home:ce(36),end:ce(35),pageUp:ce(33),pageDown:ce(34)},JT=ce("Font size {0}"),QT="12pt",EM={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},eO={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},AM=(n,s)=>/[0-9.]+px$/.test(n)?((i,l)=>{const u=Math.pow(10,l);return Math.round(i*u)/u})(72*parseInt(n,10)/96,s||0)+"pt":dt(eO,n).getOr(n),zM=n=>dt(EM,n).getOr(""),tO=n=>{const s=()=>{let u=T.none();const f=l.data,p=n.queryCommandValue("FontSize");if(p)for(let b=3;u.isNone()&&b>=0;b--){const y=AM(p,b),w=zM(y);u=H(f,E=>E.format===p||E.format===y||E.format===w)}return{matchOpt:u,size:p}},i=ce(T.none),l=CS(n,"font_size_formats",rb.Space);return{tooltip:nb(n,JT(),QT),text:T.some(QT),icon:T.none(),isSelectedFor:u=>f=>f.exists(p=>p.format===u),getPreviewFor:i,getCurrentValue:()=>{const{matchOpt:u}=s();return u},onAction:u=>()=>{n.undoManager.transact(()=>{n.focus(),n.execCommand("FontSize",!1,u.format)})},updateText:u=>{const{matchOpt:f,size:p}=s(),b=f.fold(ce(p),y=>y.title);qt(u,Td,{text:b}),((y,w)=>{y.dispatch("FontSizeTextUpdate",w)})(n,{value:b})},dataset:l,shouldHide:!1,isInvalid:$e}},oO=n=>qi(n)?"Formats":"Format {0}",nO=(n,s)=>{const i="Formats";return{tooltip:nb(n,oO(""),""),text:T.some(i),icon:T.none(),isSelectedFor:l=>()=>n.formatter.match(l),getCurrentValue:T.none,getPreviewFor:l=>()=>{const u=n.formatter.get(l);return u!==void 0?T.some({tag:u.length>0&&(u[0].inline||u[0].block)||"div",styles:n.dom.parseStyle(n.formatter.getCssText(l))}):T.none()},onAction:kA(n),updateText:l=>{const u=b=>sT(b)?kn(b.items,u):aT(b)?[{title:b.title,format:b.format}]:[],f=kn(iT(n),u),p=WT(n,ce(f)).fold(ce({title:i,tooltipLabel:""}),b=>({title:b.title,tooltipLabel:b.title}));qt(l,Td,{text:p.title}),((b,y)=>{b.dispatch("StylesTextUpdate",y)})(n,{value:p.tooltipLabel})},shouldHide:nE(n),isInvalid:l=>!n.formatter.canApply(l.format),dataset:s}},DS=ce([Ge("toggleClass"),Ge("fetch"),Zd("onExecute"),Ae("getHotspot",T.some),Ae("getAnchorOverrides",ce({})),af(),Zd("onItemExecute"),sn("lazySink"),Ge("dom"),Sn("onOpen"),It("splitDropdownBehaviours",[Ds,Jt,wo]),Ae("matchWidth",!1),Ae("useMinWidth",!1),Ae("eventOrder",{}),sn("role"),sn("listRole")].concat(z2())),TM=hl({factory:Vi,schema:[Ge("dom")],name:"arrow",defaults:()=>({buttonBehaviours:ft([wo.revoke()])}),overrides:n=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(n.uid).each(jd)},buttonBehaviours:ft([yo.config({toggleOnExecute:!1,toggleClass:n.toggleClass})])})}),OM=hl({factory:Vi,schema:[Ge("dom")],name:"button",defaults:()=>({buttonBehaviours:ft([wo.revoke()])}),overrides:n=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(n.uid).each(i=>{n.onExecute(i,s)})}})}),DM=ce([TM,OM,wd({factory:{sketch:n=>({uid:n.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:n.text}})},schema:[Ge("text")],name:"aria-descriptor"}),Ru({schema:[Qm()],name:"menu",defaults:n=>({onExecute:(s,i)=>{s.getSystem().getByUid(n.uid).each(l=>{n.onItemExecute(l,s,i)})}})}),PA()]),tv=Dl({name:"SplitDropdown",configFields:DS(),partFields:DM(),factory:(n,s,i,l)=>{const u=w=>{On.getCurrent(w).each(E=>{tr.highlightFirst(E),Jt.focusIn(E)})},f=w=>{S2(n,Tt,w,l,u,nl.HighlightMenuAndItem).get(at)},p=w=>{const E=hp(w,n,"button");return jd(E),T.some(!0)},b={...zo([Er((w,E)=>{Tr(w,n,"aria-descriptor").each(C=>{const O=Bt("aria");lo(C.element,"id",O),lo(w.element,"aria-describedby",O)})})]),...ay(T.some(f))},y={repositionMenus:w=>{yo.isOn(w)&&HA(w)}};return{uid:n.uid,dom:n.dom,components:s,apis:y,eventOrder:{...n.eventOrder,[Ei()]:["disabling","toggling","alloy.base.behaviour"]},events:b,behaviours:$o(n.splitDropdownBehaviours,[Ds.config({others:{sandbox:w=>{const E=hp(w,n,"arrow");return A2(n,w,{onOpen:()=>{yo.on(E),yo.on(w)},onClose:()=>{yo.off(E),yo.off(w)}})}}}),Jt.config({mode:"special",onSpace:p,onEnter:p,onDown:w=>(f(w),T.some(!0))}),wo.config({}),yo.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:n.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:(n,s)=>n.repositionMenus(s)}}),RS=n=>({isEnabled:()=>!Eo.isDisabled(n),setEnabled:s=>Eo.set(n,!s),setText:s=>qt(n,Td,{text:s}),setIcon:s=>qt(n,ru,{icon:s})}),RM=n=>({setActive:s=>{yo.set(n,s)},isActive:()=>yo.isOn(n),isEnabled:()=>!Eo.isDisabled(n),setEnabled:s=>Eo.set(n,!s),setText:s=>qt(n,Td,{text:s}),setIcon:s=>qt(n,ru,{icon:s})}),rO=(n,s)=>n.map(i=>({"aria-label":s.translate(i)})).getOr({}),NS=Bt("focus-button"),MS=(n,s,i,l,u,f)=>{const p=s.map(y=>Jn(kC(y,"tox-tbtn",u))),b=n.map(y=>Jn(Tg(y,u.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(s.isSome()?["tox-tbtn--select"]:[]),attributes:{...rO(i,u),...Lt(f)?{"data-mce-name":f}:{}}},components:hy([b.map(y=>y.asSpec()),p.map(y=>y.asSpec())]),eventOrder:{[Ke()]:["focusing","alloy.base.behaviour",zg],[Ba()]:[zg,"toolbar-group-button-events"]},buttonBehaviours:ft([Hx(u.isDisabled),Ia(),Zo(zg,[Er((y,w)=>Ak(y)),je(Td,(y,w)=>{p.bind(E=>E.getOpt(y)).each(E=>{fo.set(E,[Os(u.translate(w.event.text))])})}),je(ru,(y,w)=>{b.bind(E=>E.getOpt(y)).each(E=>{fo.set(E,[Tg(w.event.icon,u.icons)])})}),je(Ke(),(y,w)=>{w.event.prevent(),Uo(y,NS)})])].concat(l.getOr([])))}},sO=(n,s,i,l)=>{var u;const f=Ut(at),p=MS(n.icon,n.text,n.tooltip,T.none(),i,l);return Vi.sketch({dom:p.dom,components:p.components,eventOrder:xC,buttonBehaviours:{...ft([Zo("toolbar-button-events",[(b={onAction:n.onAction,getApi:s.getApi},Wl((y,w)=>{S0(b,y)(E=>{qt(y,Ek,{buttonApi:E}),b.onAction(E)})})),vg(s,f),wp(s,f)]),...n.tooltip.map(y=>Ys.config(i.tooltips.getConfig({tooltipText:i.translate(y)+n.shortcut.map(w=>` (${$x(w)})`).getOr("")}))).toArray(),Hx(()=>!n.enabled||i.isDisabled()),Ia()].concat(s.toolbarButtonBehaviours)),[zg]:(u=p.buttonBehaviours)===null||u===void 0?void 0:u[zg]}});var b},aO=(n,s,i,l)=>sO(n,{toolbarButtonBehaviours:i.length>0?[Zo("toolbarButtonWith",i)]:[],getApi:RS,onSetup:n.onSetup},s,l),iO=(n,s,i,l)=>sO(n,{toolbarButtonBehaviours:[fo.config({}),yo.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(i.length>0?[Zo("toolbarToggleButtonWith",i)]:[]),getApi:RM,onSetup:n.onSetup},s,l),NM=(n,s,i)=>l=>xg(u=>s.fetch(u)).map(u=>T.from(T2(nr(Gh(Bt("menu-value"),u,f=>{s.onItemAction(n(l),f)},s.columns,s.presets,_f.CLOSE_ON_EXECUTE,s.select.getOr($e),i),{movement:O0(s.columns,s.presets),menuBehaviours:C0(s.columns!=="auto"?[]:[Er((f,p)=>{e2(f,4,hg(s.presets)).each(({numRows:b,numColumns:y})=>{Jt.setGridSize(f,b,y)})})])})))),MM=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],Ng=(n,s)=>(i,l,u,f)=>{const p=n(i).mapError(b=>_i(b)).getOrDie();return s(p,l,u,f)},BM={button:Ng(KE,(n,s,i,l)=>((u,f,p)=>aO(u,f,[],p))(n,s.shared.providers,l)),togglebutton:Ng(Px,(n,s,i,l)=>((u,f,p)=>iO(u,f,[],p))(n,s.shared.providers,l)),menubutton:Ng(CT,(n,s,i,l)=>Ty(n,"tox-tbtn",s,T.none(),!1,l)),splitbutton:Ng(n=>Ir("SplitButton",H6,n),(n,s,i,l)=>((u,f,p)=>{const b=Ut(u.tooltip.getOr("")),y=C=>({isEnabled:()=>!Eo.isDisabled(C),setEnabled:O=>Eo.set(C,!O),setIconFill:(O,B)=>{es(C.element,`svg path[class="${O}"], rect[class="${O}"]`).each(P=>{lo(P,"fill",B)})},setActive:O=>{lo(C.element,"aria-pressed",O),es(C.element,"span").each(B=>{C.getSystem().getByDom(B).each(P=>yo.set(P,O))})},isActive:()=>es(C.element,"span").exists(O=>C.getSystem().getByDom(O).exists(yo.isOn)),setText:O=>es(C.element,"span").each(B=>C.getSystem().getByDom(B).each(P=>qt(P,Td,{text:O}))),setIcon:O=>es(C.element,"span").each(B=>C.getSystem().getByDom(B).each(P=>qt(P,ru,{icon:O}))),setTooltip:O=>{const B=f.providers.translate(O);lo(C.element,"aria-label",B),b.set(O)}}),w=Ut(at),E={getApi:y,onSetup:u.onSetup};return tv.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...rO(u.tooltip,f.providers),...Lt(p)?{"data-mce-name":p}:{}}},onExecute:C=>{const O=y(C);O.isEnabled()&&u.onAction(O)},onItemExecute:(C,O,B)=>{},splitDropdownBehaviours:ft([aA(f.providers.isDisabled),Ia(),Zo("split-dropdown-events",[Er((C,O)=>Ak(C)),je(NS,wo.focus),vg(E,w),wp(E,w)]),Yh.config({}),...u.tooltip.map(C=>Ys.config({...f.providers.tooltips.getConfig({tooltipText:f.providers.translate(C),onShow:O=>{if(b.get()!==C){const B=f.providers.translate(b.get());Ys.setComponents(O,f.providers.tooltips.getComponents({tooltipText:B}))}}})})).toArray()]),eventOrder:{[Ba()]:["alloy.base.behaviour","split-dropdown-events","tooltipping"],[jl()]:["split-dropdown-events","tooltipping"]},toggleClass:"tox-tbtn--enabled",lazySink:f.getSink,fetch:NM(y,u,f.providers),parts:{menu:Rx(0,u.columns,u.presets)},components:[tv.parts.button(MS(u.icon,u.text,T.none(),T.some([yo.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),f.providers)),tv.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:AE("chevron-down",f.providers.icons)},buttonBehaviours:ft([aA(f.providers.isDisabled),Ia(),Tx()])}),tv.parts["aria-descriptor"]({text:f.providers.translate("To open the popup, press Shift+Enter")})]})})(n,s.shared,l)),grouptoolbarbutton:Ng(n=>Ir("GroupToolbarButton",L6,n),(n,s,i,l)=>{const u=i.ui.registry.getAll().buttons,f={[gl]:s.shared.header.isPositionedAtTop()?Xc.TopToBottom:Xc.BottomToTop};if(Bh(i)===Yd.floating)return((p,b,y,w,E)=>{const C=b.shared,O=Ut(at),B={toolbarButtonBehaviours:[],getApi:RS,onSetup:p.onSetup},P=[Zo("toolbar-group-button-events",[vg(B,O),wp(B,O)])];return Op.sketch({lazySink:C.getSink,fetch:()=>xg(Z=>{Z(nt(y(p.items),Yk))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:MS(p.icon,p.text,p.tooltip,T.some(P),C.providers,E),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:w}}}})})(n,s,p=>Qk(i,{buttons:u,toolbar:p,allowToolbarGroups:!1},s,T.none()),f,l);throw new Error("Toolbar groups are only supported when using floating toolbar mode")})},ov={styles:(n,s)=>{const i={type:"advanced",...s.styles};return ev(n,s,nO(n,i),oO,"StylesTextUpdate","styles")},fontsize:(n,s)=>ev(n,s,tO(n),JT,"FontSizeTextUpdate","fontsize"),fontsizeinput:(n,s)=>((i,l,u,f)=>{let p=T.none();const b=Wh(i,"NodeChange SwitchMode",J=>{const ne=J.getComponent();p=T.some(ne),u.updateInputValue(ne),Eo.set(ne,!i.selection.isEditable())}),y=J=>({getComponent:ce(J)}),w=Ut(at),E=Bt("custom-number-input-events"),C=(J,ne,se)=>{const be=p.map(gt=>De.getValue(gt)).getOr(""),Ee=u.getNewValue(be,J),qe=be.length-`${Ee}`.length,Ue=p.map(gt=>gt.element.dom.selectionStart-qe),Fe=p.map(gt=>gt.element.dom.selectionEnd-qe);u.onAction(Ee,se),p.each(gt=>{De.setValue(gt,Ee),ne&&(Ue.each(Rt=>gt.element.dom.selectionStart=Rt),Fe.each(Rt=>gt.element.dom.selectionEnd=Rt))})},O=(J,ne)=>C((se,be)=>se-be,J,ne),B=(J,ne)=>C((se,be)=>se+be,J,ne),P=J=>js(J.element).fold(T.none,ne=>(Fi(ne),T.some(!0))),Z=J=>cp(J.element)?(Mi(J.element).each(ne=>Fi(ne)),T.some(!0)):T.none(),K=(J,ne,se,be)=>{const Ee=Ut(at),qe=l.shared.providers.translate(se),Ue=Bt("altExecuting"),Fe=Wh(i,"NodeChange SwitchMode",Rt=>{Eo.set(Rt.getComponent(),!i.selection.isEditable())}),gt=Rt=>{Eo.isDisabled(Rt)||J(!0)};return Vi.sketch({dom:{tag:"button",attributes:{"aria-label":qe,"data-mce-name":ne},classes:be.concat(ne)},components:[V0(ne,l.shared.providers.icons)],buttonBehaviours:ft([Eo.config({}),Ys.config(l.shared.providers.tooltips.getConfig({tooltipText:qe})),Zo(Ue,[vg({onSetup:Fe,getApi:y},Ee),wp({getApi:y},Ee),je(Yr(),(Rt,Zt)=>{Zt.event.raw.keyCode!==XT.space()&&Zt.event.raw.keyCode!==XT.enter()||Eo.isDisabled(Rt)||J(!1)}),je(qs(),gt),je(de(),gt)])]),eventOrder:{[Yr()]:[Ue,"keying"],[qs()]:[Ue,"alloy.base.behaviour"],[de()]:[Ue,"alloy.base.behaviour"],[Ba()]:["alloy.base.behaviour",Ue,"tooltipping"],[jl()]:[Ue,"tooltipping"]}})},oe=Jn(K(J=>O(!1,J),"minus","Decrease font size",[])),q=Jn(K(J=>B(!1,J),"plus","Increase font size",[])),W=Jn({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[kp.sketch({inputBehaviours:ft([Eo.config({}),Zo(E,[vg({onSetup:b,getApi:y},w),wp({getApi:y},w)]),Zo("input-update-display-text",[je(Td,(J,ne)=>{De.setValue(J,ne.event.text)}),je(cs(),J=>{u.onAction(De.getValue(J))}),je(Ld(),J=>{u.onAction(De.getValue(J))})]),Jt.config({mode:"special",onEnter:J=>(C(Tt,!0,!0),T.some(!0)),onEscape:P,onUp:J=>(B(!0,!1),T.some(!0)),onDown:J=>(O(!0,!1),T.some(!0)),onLeft:(J,ne)=>(ne.cut(),T.none()),onRight:(J,ne)=>(ne.cut(),T.none())})])})],behaviours:ft([wo.config({}),Jt.config({mode:"special",onEnter:Z,onSpace:Z,onEscape:P}),Zo("input-wrapper-events",[je(Wt(),J=>{Dt([oe,q],ne=>{const se=Et(ne.get(J).element.dom);cp(se)&&rh(se)})})])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{...Lt(f)?{"data-mce-name":f}:{}}},components:[oe.asSpec(),W.asSpec(),q.asSpec()],behaviours:ft([wo.config({}),Jt.config({mode:"flow",focusInside:Eh.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:J=>cp(J.element)?T.none():(Fi(J.element),T.some(!0))})])}})(n,s,(i=>{const l=()=>i.queryCommandValue("FontSize");return{updateInputValue:u=>qt(u,Td,{text:l()}),onAction:(u,f)=>i.execCommand("FontSize",!1,u,{skip_focus:!f}),getNewValue:(u,f)=>{Jk(u,["unsupportedLength","empty"]);const p=l(),b=Jk(u,["unsupportedLength","empty"]).or(Jk(p,["unsupportedLength","empty"])),y=b.map(B=>B.value).getOr(16),w=E_(i),E=b.map(B=>B.unit).filter(B=>B!=="").getOr(w),C=f(y,(B=>{var P;return(P={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[B])!==null&&P!==void 0?P:{step:1}})(E).step),O=`${(B=>B>=0)(C)?C:y}${E}`;return O!==p&&((B,P)=>{B.dispatch("FontSizeInputTextUpdate",P)})(i,{value:O}),O}}})(n),"fontsizeinput"),fontfamily:(n,s)=>ev(n,s,YT(n),qT,"FontFamilyTextUpdate","fontfamily"),blocks:(n,s)=>ev(n,s,TS(n),AS,"BlocksTextUpdate","blocks"),align:(n,s)=>ev(n,s,ES(n),UT,"AlignTextUpdate","align")},Qk=(n,s,i,l)=>{const u=(p=>{const b=p.toolbar,y=p.buttons;return b===!1?[]:b===void 0||b===!0?(w=>{const E=nt(MM,C=>{const O=Nn(C.items,B=>no(w,B)||no(ov,B));return{name:C.name,items:O}});return Nn(E,C=>C.items.length>0)})(y):Do(b)?(w=>{const E=w.split("|");return nt(E,C=>({items:C.trim().split(" ")}))})(b):(w=>ar(w,E=>no(E,"name")&&no(E,"items")))(b)?b:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])})(s),f=nt(u,p=>{const b=kn(p.items,y=>y.trim().length===0?[]:((w,E,C,O,B,P)=>dt(E,C.toLowerCase()).orThunk(()=>P.bind(Z=>uo(Z,K=>dt(E,K+C.toLowerCase())))).fold(()=>dt(ov,C.toLowerCase()).map(Z=>Z(w,B)),Z=>Z.type!=="grouptoolbarbutton"||O?((K,oe,q,W)=>dt(BM,K.type).fold(()=>(console.error("skipping button defined by",K),T.none()),J=>T.some(J(K,oe,q,W))))(Z,B,w,C.toLowerCase()):(console.warn(`Ignoring the '${C}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),T.none())))(n,s.buttons,y,s.allowToolbarGroups,i,l).toArray());return{title:T.from(n.translate(p.name)),items:b}});return Nn(f,p=>p.items.length>0)},lO=(n,s,i,l)=>{const u=s.mainUi.outerContainer,f=i.toolbar,p=i.buttons;if(ar(f,Do)){const b=f.map(y=>{const w={toolbar:y,buttons:p,allowToolbarGroups:i.allowToolbarGroups};return Qk(n,w,l,T.none())});Pr.setToolbars(u,b)}else Pr.setToolbar(u,Qk(n,i,l,T.none()))},cO=la(),IM=cO.os.isiOS()&&cO.os.version.major<=12;var o8=Object.freeze({__proto__:null,render:(n,s,i,l,u)=>{const{mainUi:f,uiMotherships:p}=s,b=Ut(0),y=f.outerContainer;jT(n);const w=Et(u.targetNode),E=pn(Mr(w));Le(w,f.mothership),((P,Z,K)=>{xp(P)&&Le(K.mainUi.mothership.element,K.popupUi.mothership),O1(Z,K.dialogUi.mothership)})(n,E,s),n.on("SkinLoaded",()=>{Pr.setSidebar(y,i.sidebar,hx(n)),lO(n,s,i,l),b.set(n.getWin().innerWidth),Pr.setMenubar(y,HT(n,i)),Pr.setViews(y,i.views),((P,Z)=>{const{uiMotherships:K}=Z,oe=P.dom;let q=P.getWin();const W=P.getDoc().documentElement,J=Ut(le(q.innerWidth,q.innerHeight)),ne=Ut(le(W.offsetWidth,W.offsetHeight)),se=()=>{const Ue=J.get();Ue.left===q.innerWidth&&Ue.top===q.innerHeight||(J.set(le(q.innerWidth,q.innerHeight)),Zh(P))},be=()=>{const Ue=P.getDoc().documentElement,Fe=ne.get();Fe.left===Ue.offsetWidth&&Fe.top===Ue.offsetHeight||(ne.set(le(Ue.offsetWidth,Ue.offsetHeight)),Zh(P))},Ee=Ue=>{((Fe,gt)=>{Fe.dispatch("ScrollContent",gt)})(P,Ue)};oe.bind(q,"resize",se),oe.bind(q,"scroll",Ee);const qe=k1(Et(P.getBody()),"load",be);P.on("hide",()=>{Dt(K,Ue=>{bo(Ue.element,"display","none")})}),P.on("show",()=>{Dt(K,Ue=>{_n(Ue.element,"display")})}),P.on("NodeChange",be),P.on("remove",()=>{qe.unbind(),oe.unbind(q,"resize",se),oe.unbind(q,"scroll",Ee),q=null})})(n,s)});const C=Pr.getSocket(y).getOrDie("Could not find expected socket element");if(IM){ki(C.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const P=((K,oe)=>{let q=null;return{cancel:()=>{Rn(q)||(clearTimeout(q),q=null)},throttle:(...W)=>{Rn(q)&&(q=setTimeout(()=>{q=null,K.apply(null,W)},20))}}})(()=>{n.dispatch("ScrollContent")}),Z=Hi(C.element,"scroll",P.throttle);n.on("remove",Z.unbind)}sA(n,s),n.addCommand("ToggleSidebar",(P,Z)=>{Pr.toggleSidebar(y,Z),(K=>{K.dispatch("ToggleSidebar")})(n)}),n.addQueryValueHandler("ToggleSidebar",()=>{var P;return(P=Pr.whichSidebar(y))!==null&&P!==void 0?P:""}),n.addCommand("ToggleView",(P,Z)=>{if(Pr.toggleView(y,Z)){const K=y.element;f.mothership.broadcastOn([S()],{target:K}),Dt(p,oe=>{oe.broadcastOn([S()],{target:K})}),Rn(Pr.whichView(y))&&(n.focus(),n.nodeChanged(),Pr.refreshToolbar(y)),(oe=>{oe.dispatch("ToggleView")})(n)}}),n.addQueryValueHandler("ToggleView",()=>{var P;return(P=Pr.whichView(y))!==null&&P!==void 0?P:""});const O=Bh(n);O!==Yd.sliding&&O!==Yd.floating||n.on("ResizeWindow ResizeEditor ResizeContent",()=>{const P=n.getWin().innerWidth;P!==b.get()&&(Pr.refreshToolbar(s.mainUi.outerContainer),b.set(P))});const B={setEnabled:P=>{jh(s,!P)},isEnabled:()=>!Eo.isDisabled(y)};return{iframeContainer:C.element.dom,editorContainer:y.element.dom,api:B}}});const nv=n=>/^[0-9\.]+(|px)$/i.test(""+n)?T.some(parseInt(""+n,10)):T.none(),Mg=n=>Yo(n)?n+"px":n,rv=(n,s,i)=>{const l=s.filter(f=>n<f),u=i.filter(f=>n>f);return l.or(u).getOr(n)},BS=n=>{const s=J1(n),i=Q1(n),l=cy(n);return nv(s).map(u=>rv(u,i,l))},{ToolbarLocation:IS,ToolbarMode:dO}=s0,PM=(n,s,i,l,u)=>{const{mainUi:f,uiMotherships:p}=i,b=iy.DOM,y=Ih(n),w=vp(n),E=cy(n).or(BS(n)),C=l.shared.header,O=C.isPositionedAtTop,B=Bh(n),P=B===dO.sliding||B===dO.floating,Z=Ut(!1),K=()=>Z.get()&&!n.removed,oe=ne=>P?ne.fold(ce(0),se=>se.components().length>1?vr(se.components()[1].element):0):0,q=()=>{Dt(p,ne=>{ne.broadcastOn([D()],{})})},W=ne=>{if(!K())return;y||u.on(Ee=>{const qe=E.getOrThunk(()=>Ws().width-lt(s).left-10);bo(Ee.element,"max-width",qe+"px")});const se=xr(),be=!(y||y||!(Ve(f.outerContainer.element).left+Ln(f.outerContainer.element)>=window.innerWidth-40||Sr(f.outerContainer.element,"width").isSome())||(bo(f.outerContainer.element,"position","absolute"),bo(f.outerContainer.element,"left","0px"),_n(f.outerContainer.element,"width"),0));if(P&&Pr.refreshToolbar(f.outerContainer),!y){const Ee=xr(),qe=Bo(se.left!==Ee.left,se);((Ue,Fe)=>{u.on(gt=>{const Rt=Pr.getToolbar(f.outerContainer),Zt=oe(Rt),ro=As(s),Ao=((Wo,En)=>xp(Wo)?hc(En):T.none())(n,f.outerContainer.element),ln=Ao.fold(()=>ro.x,Wo=>{const En=As(Wo);return wn(Wo,ya())?ro.x:ro.x-En.x}),Lr=Bo(Ue,Math.ceil(f.outerContainer.element.dom.getBoundingClientRect().width)).filter(Wo=>Wo>150).map(Wo=>{const En=Fe.getOr(xr()),co=window.innerWidth-(ln-En.left),os=Math.max(Math.min(Wo,co),150);return co<Wo&&bo(f.outerContainer.element,"width",os+"px"),{width:os+"px"}}).getOr({width:"max-content"}),ts={position:"absolute",left:Math.round(ln)+"px",top:Ao.fold(()=>O()?Math.max(ro.y-vr(gt.element)+Zt,0):ro.bottom,Wo=>{var En;const co=As(Wo),os=(En=Wo.dom.scrollTop)!==null&&En!==void 0?En:0,ur=wn(Wo,ya())?Math.max(ro.y-vr(gt.element)+Zt,0):ro.y-co.y+os-vr(gt.element)+Zt;return O()?ur:ro.bottom})+"px"};ki(f.outerContainer.element,{...ts,...Lr})})})(be,qe),qe.each(Ue=>{Nd(Ue.left,Ee.top)})}w&&u.on(ne),q()},J=()=>!(y||!w||!K())&&u.get().exists(ne=>{const se=C.getDockingMode(),be=(qe=>{switch(cg(n)){case IS.auto:const Ue=Pr.getToolbar(f.outerContainer),Fe=oe(Ue),gt=vr(qe.element)-Fe,Rt=As(s);if(Rt.y>gt)return"top";{const Zt=Ni(s),ro=Math.max(Zt.dom.scrollHeight,vr(Zt));return Rt.bottom<ro-gt||Qs().bottom<Rt.bottom-gt?"bottom":"top"}case IS.bottom:return"bottom";case IS.top:default:return"top"}})(ne);return be!==se&&(Ee=be,u.on(qe=>{Qr.setModes(qe,[Ee]),C.setDockingMode(Ee);const Ue=O()?Xc.TopToBottom:Xc.BottomToTop;lo(qe.element,gl,Ue)}),!0);var Ee});return{isVisible:K,isPositionedAtTop:O,show:()=>{Z.set(!0),bo(f.outerContainer.element,"display","flex"),b.addClass(n.getBody(),"mce-edit-focus"),Dt(p,ne=>{_n(ne.element,"display")}),J(),xp(n)?W(ne=>Qr.isDocked(ne)?Qr.reset(ne):Qr.refresh(ne)):W(Qr.refresh)},hide:()=>{Z.set(!1),bo(f.outerContainer.element,"display","none"),b.removeClass(n.getBody(),"mce-edit-focus"),Dt(p,ne=>{bo(ne.element,"display","none")})},update:W,updateMode:()=>{J()&&W(Qr.reset)},repositionPopups:q}},uO=(n,s)=>{const i=As(n);return{pos:s?i.y:i.bottom,bounds:i}};var LM=Object.freeze({__proto__:null,render:(n,s,i,l,u)=>{const{mainUi:f}=s,p=Cn(),b=Et(u.targetNode),y=PM(n,b,s,l,p),w=sE(n);kM(n);const E=()=>{if(p.isSet())return void y.show();p.set(Pr.getHeader(f.outerContainer).getOrDie());const O=kx(n);xp(n)?(Le(b,f.mothership),Le(b,s.popupUi.mothership)):O1(O,f.mothership),O1(O,s.dialogUi.mothership);const B=()=>{lO(n,s,i,l),Pr.setMenubar(f.outerContainer,HT(n,i)),y.show(),((P,Z,K,oe)=>{const q=Ut(uO(Z,K.isPositionedAtTop())),W=be=>{const{pos:Ee,bounds:qe}=uO(Z,K.isPositionedAtTop()),{pos:Ue,bounds:Fe}=q.get(),gt=qe.height!==Fe.height||qe.width!==Fe.width;q.set({pos:Ee,bounds:qe}),gt&&Zh(P,be),K.isVisible()&&(Ue!==Ee?K.update(Qr.reset):gt&&(K.updateMode(),K.repositionPopups()))};oe||(P.on("activate",K.show),P.on("deactivate",K.hide)),P.on("SkinLoaded ResizeWindow",()=>K.update(Qr.reset)),P.on("NodeChange keydown",be=>{requestAnimationFrame(()=>W(be))});let J=0;const ne=cC(()=>K.update(Qr.refresh),33);P.on("ScrollWindow",()=>{const be=xr().left;be!==J&&(J=be,ne.throttle()),K.updateMode()}),xp(P)&&P.on("ElementScroll",be=>{K.update(Qr.refresh)});const se=Il();se.set(k1(Et(P.getBody()),"load",be=>W(be.raw))),P.on("remove",()=>{se.clear()})})(n,b,y,w),n.nodeChanged()};w?n.once("SkinLoaded",B):B()};n.on("show",E),n.on("hide",y.hide),w||(n.on("focus",E),n.on("blur",y.hide)),n.on("init",()=>{(n.hasFocus()||w)&&E()}),sA(n,s);const C={show:E,hide:y.hide,setEnabled:O=>{jh(s,!O)},isEnabled:()=>!Eo.isDisabled(f.outerContainer)};return{editorContainer:f.outerContainer.element.dom,api:C}}});const fO="contexttoolbar-hide",mO=(n,s)=>je(Ek,(i,l)=>{const u=(f=>({hide:()=>Uo(f,Wm()),getValue:()=>De.getValue(f)}))(n.get(i));s.onAction(u,l.event.buttonApi)}),FM=(n,s)=>{const i=n.label.fold(()=>({}),f=>({"aria-label":f})),l=Jn(kp.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:n.initValue(),inputAttributes:i,selectOnFocus:!0,inputBehaviours:ft([Jt.config({mode:"special",onEnter:f=>u.findPrimary(f).map(p=>(jd(p),!0)),onLeft:(f,p)=>(p.cut(),T.none()),onRight:(f,p)=>(p.cut(),T.none())})])})),u=((f,p,b)=>{const y=nt(p,w=>Jn(((E,C,O)=>(B=>B.type==="contextformtogglebutton")(C)?((B,P,Z)=>{const{primary:K,...oe}=P.original,q=ai(Px({...oe,type:"togglebutton",onAction:at}));return iO(q,Z,[mO(B,P)])})(E,C,O):((B,P,Z)=>{const{primary:K,...oe}=P.original,q=ai(KE({...oe,type:"button",onAction:at}));return aO(q,Z,[mO(B,P)])})(E,C,O))(f,w,b)));return{asSpecs:()=>nt(y,w=>w.asSpec()),findPrimary:w=>uo(p,(E,C)=>E.primary?T.from(y[C]).bind(O=>O.getOpt(w)).filter($r(Eo.isDisabled)):T.none())}})(l,n.commands,s);return[{title:T.none(),items:[l.asSpec()]},{title:T.none(),items:u.asSpecs()}]},pO=(n,s,i)=>s.bottom-n.y>=i&&n.bottom-s.y>=i,PS=n=>{const s=(i=>{const l=i.getBoundingClientRect();if(l.height<=0&&l.width<=0){const u=rs(Et(i.startContainer),i.startOffset).element;return(Ss(u)?Vs(u):T.some(u)).filter(fr).map(f=>f.dom.getBoundingClientRect()).getOr(l)}return l})(n.selection.getRng());if(n.inline){const i=xr();return Go(i.left+s.left,i.top+s.top,s.width,s.height)}{const i=ri(Et(n.getBody()));return Go(i.x+s.left,i.y+s.top,s.width,s.height)}},gO=(n,s,i,l=0)=>{const u=Ws(window),f=As(Et(n.getContentAreaContainer())),p=o0(n)||n0(n)||r0(n),{x:b,width:y}=((w,E,C)=>{const O=Math.max(w.x+C,E.x);return{x:O,width:Math.min(w.right-C,E.right)-O}})(f,u,l);if(n.inline&&!p)return Go(b,u.y,y,u.height);{const w=s.header.isPositionedAtTop(),{y:E,bottom:C}=((O,B,P,Z,K,oe)=>{const q=Et(O.getContainer()),W=es(q,".tox-editor-header").getOr(q),J=As(W),ne=J.y>=B.bottom,se=Z&&!ne;if(O.inline&&se)return{y:Math.max(J.bottom+oe,P.y),bottom:P.bottom};if(O.inline&&!se)return{y:P.y,bottom:Math.min(J.y-oe,P.bottom)};const be=K==="line"?As(q):B;return se?{y:Math.max(J.bottom+oe,P.y),bottom:Math.min(be.bottom-oe,P.bottom)}:{y:Math.max(be.y+oe,P.y),bottom:Math.min(J.y-oe,P.bottom)}})(n,f,u,w,i,l);return Go(b,E,y,C-E)}},LS={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},sb={maxHeightFunction:dp(),maxWidthFunction:pS()},Bg=n=>n==="node",HM=(n,s,i,l,u)=>{const f=PS(n),p=l.lastElement().exists(b=>wn(i,b));return((b,y)=>{const w=b.selection.getRng(),E=rs(Et(w.startContainer),w.startOffset);return w.startContainer===w.endContainer&&w.startOffset===w.endOffset-1&&wn(E.element,y)})(n,i)?p?Lk:Dn:p?((b,y,w)=>{const E=Sr(b,"position");bo(b,"position",y);const C=pO(f,As(s),-20)&&!l.isReposition()?ZC:Lk;return E.each(O=>bo(b,"position",O)),C})(s,l.getMode()):(l.getMode()==="fixed"?u.y+xr().top:u.y)+(vr(s)+12)<=f.y?Dn:Am},hO=(n,s,i,l)=>{const u=p=>(b,y,w,E,C)=>({...HM(n,E,p,i,C)({...b,y:C.y,height:C.height},y,w,E,C),alwaysFit:!0}),f=p=>Bg(l)?[u(p)]:[];return s?{onLtr:p=>[Bs,xs,ks,Gs,cr,fs].concat(f(p)),onRtl:p=>[Bs,ks,xs,cr,Gs,fs].concat(f(p))}:{onLtr:p=>[fs,Bs,Gs,xs,cr,ks].concat(f(p)),onRtl:p=>[fs,Bs,cr,ks,Gs,xs].concat(f(p))}},ew=(n,s)=>{const i=Nn(s,f=>f.predicate(n.dom)),{pass:l,fail:u}=Wr(i,f=>f.type==="contexttoolbar");return{contextToolbars:l,contextForms:u}},tw=(n,s)=>{const i={},l=[],u=[],f={},p={},b=qo(n);return Dt(b,y=>{const w=n[y];w.type==="contextform"?((E,C)=>{const O=ai(Ir("ContextForm",iN,C));i[E]=O,O.launch.map(B=>{f["form:"+E]={...C.launch,type:B.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{s(O)}}}),O.scope==="editor"?u.push(O):l.push(O),p[E]=O})(y,w):w.type==="contexttoolbar"&&((E,C)=>{var O;(O=C,Ir("ContextToolbar",XE,O)).each(B=>{C.scope==="editor"?u.push(B):l.push(B),p[E]=B})})(y,w)}),{forms:i,inNodeScope:l,inEditorScope:u,lookupTable:p,formNavigators:f}},bO=Bt("forward-slide"),Py=Bt("backward-slide"),ab=Bt("change-slide-event"),FS="tox-pop--resizing",HS="tox-pop--transition",$M=(n,s,i,l)=>{const u=l.backstage,f=u.shared,p=la().deviceType.isTouch,b=Cn(),y=Cn(),w=Cn(),E=Ya((se=>{const be=Ut([]);return ss.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:Ee=>{be.set([]),ss.getContent(Ee).each(qe=>{_n(qe.element,"visibility")}),Kt(Ee.element,FS),_n(Ee.element,"width")},inlineBehaviours:ft([Zo("context-toolbar-events",[Ud(Zm(),(Ee,qe)=>{qe.event.raw.propertyName==="width"&&(Kt(Ee.element,FS),_n(Ee.element,"width"))}),je(ab,(Ee,qe)=>{const Ue=Ee.element;_n(Ue,"width");const Fe=To(Ue);ss.setContent(Ee,qe.event.contents),bt(Ue,FS);const gt=To(Ue);bo(Ue,"width",Fe+"px"),ss.getContent(Ee).each(Rt=>{qe.event.focus.bind(Zt=>(Fi(Zt),Is(Ue))).orThunk(()=>(Jt.focusIn(Rt),yd(Mr(Ue))))}),setTimeout(()=>{bo(Ee.element,"width",gt+"px")},0)}),je(bO,(Ee,qe)=>{ss.getContent(Ee).each(Ue=>{be.set(be.get().concat([{bar:Ue,focus:yd(Mr(Ee.element))}]))}),qt(Ee,ab,{contents:qe.event.forwardContents,focus:T.none()})}),je(Py,(Ee,qe)=>{et(be.get()).each(Ue=>{be.set(be.get().slice(0,be.get().length-1)),qt(Ee,ab,{contents:Qi(Ue.bar),focus:Ue.focus})})})]),Jt.config({mode:"special",onEscape:Ee=>et(be.get()).fold(()=>se.onEscape(),qe=>(Uo(Ee,Py),T.some(!0)))})]),lazySink:()=>en.value(se.sink)})})({sink:i,onEscape:()=>(n.focus(),T.some(!0))})),C=()=>{const se=w.get().getOr("node"),be=Bg(se)?1:0;return gO(n,f,se,be)},O=()=>!(n.removed||p()&&u.isContextMenuOpen()),B=()=>{if(O()){const se=C(),be=Rs(w.get(),"node")?((Ee,qe)=>qe.filter(Ue=>Us(Ue)&&ja(Ue)).map(ri).getOrThunk(()=>PS(Ee)))(n,b.get()):PS(n);return se.height<=0||!pO(be,se,.01)}return!0},P=()=>{b.clear(),y.clear(),w.clear(),ss.hide(E)},Z=()=>{if(ss.isOpen(E)){const se=E.element;_n(se,"display"),B()?bo(se,"display","none"):(y.set(0),ss.reposition(E))}},K=se=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[se],behaviours:ft([Jt.config({mode:"acyclic"}),Zo("pop-dialog-wrap-events",[Er(be=>{n.shortcuts.add("ctrl+F9","focus statusbar",()=>Jt.focusIn(be))}),jc(be=>{n.shortcuts.remove("ctrl+F9")})])])}),oe=jo(()=>tw(s,se=>{const be=q([se]);qt(E,bO,{forwardContents:K(be)})})),q=se=>{const{buttons:be}=n.ui.registry.getAll(),Ee={...be,...oe().formNavigators},qe=Bh(n)===Yd.scrolling?Yd.scrolling:Yd.default,Ue=Hn(nt(se,Fe=>Fe.type==="contexttoolbar"?((gt,Rt)=>Qk(n,{buttons:gt,toolbar:Rt.items,allowToolbarGroups:!1},l.backstage,T.some(["form:"])))(Ee,Fe):((gt,Rt)=>FM(gt,Rt))(Fe,f.providers)));return vS({type:qe,uid:Bt("context-toolbar"),initGroups:Ue,onEscape:T.none,cyclicKeying:!0,providers:f.providers})},W=(se,be)=>{if(ne.cancel(),!O())return;const Ee=q(se),qe=se[0].position,Ue=((gt,Rt)=>{const Zt=gt==="node"?f.anchors.node(Rt):f.anchors.cursor(),ro=((Ao,ln,Lr,ts)=>ln==="line"?{bubble:bc(12,0,LS),layouts:{onLtr:()=>[Mb],onRtl:()=>[Bb]},overrides:sb}:{bubble:bc(0,12,LS,1/12),layouts:hO(Ao,Lr,ts,ln),overrides:sb})(n,gt,p(),{lastElement:b.get,isReposition:()=>Rs(y.get(),0),getMode:()=>mi.getMode(i)});return nr(Zt,ro)})(qe,be);w.set(qe),y.set(1);const Fe=E.element;_n(Fe,"display"),(gt=>Rs(st(gt,b.get(),wn),!0))(be)||(Kt(Fe,HS),mi.reset(i,E)),ss.showWithinBounds(E,K(Ee),{anchor:Ue,transition:{classes:[HS],mode:"placement"}},()=>T.some(C())),be.fold(b.clear,b.set),B()&&bo(Fe,"display","none")};let J=!1;const ne=cC(()=>{!n.hasFocus()||n.removed||J||(an(E.element,HS)?ne.throttle():((se,be)=>{const Ee=Et(be.getBody()),qe=Fe=>wn(Fe,Ee),Ue=Et(be.selection.getNode());return(Fe=>!qe(Fe)&&!ns(Ee,Fe))(Ue)?T.none():((Fe,gt,Rt)=>{const Zt=ew(Fe,gt);if(Zt.contextForms.length>0)return T.some({elem:Fe,toolbars:[Zt.contextForms[0]]});{const ro=ew(Fe,Rt);if(ro.contextForms.length>0)return T.some({elem:Fe,toolbars:[ro.contextForms[0]]});if(Zt.contextToolbars.length>0||ro.contextToolbars.length>0){const Ao=(ln=>{if(ln.length<=1)return ln;{const Lr=co=>At(ln,os=>os.position===co),ts=co=>Nn(ln,os=>os.position===co),Wo=Lr("selection"),En=Lr("node");if(Wo||En){if(En&&Wo){const co=ts("node"),os=nt(ts("selection"),ur=>({...ur,position:"node"}));return co.concat(os)}return ts(Wo?"selection":"node")}return ts("line")}})(Zt.contextToolbars.concat(ro.contextToolbars));return T.some({elem:Fe,toolbars:Ao})}return T.none()}})(Ue,se.inNodeScope,se.inEditorScope).orThunk(()=>((Fe,gt,Rt)=>Fe(gt)?T.none():Hc(gt,Zt=>{if(fr(Zt)){const{contextToolbars:ro,contextForms:Ao}=ew(Zt,Rt.inNodeScope),ln=Ao.length>0?Ao:(Lr=>{if(Lr.length<=1)return Lr;{const ts=Wo=>H(Lr,En=>En.position===Wo);return ts("selection").orThunk(()=>ts("node")).orThunk(()=>ts("line")).map(Wo=>Wo.position).fold(()=>[],Wo=>Nn(Lr,En=>En.position===Wo))}})(ro);return ln.length>0?T.some({elem:Zt,toolbars:ln}):T.none()}return T.none()},Fe))(qe,Ue,se))})(oe(),n).fold(P,se=>{W(se.toolbars,T.some(se.elem))}))},17);n.on("init",()=>{n.on("remove",P),n.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",Z),n.on("click keyup focus SetContent",ne.throttle),n.on(fO,P),n.on("contexttoolbar-show",se=>{const be=oe();dt(be.lookupTable,se.toolbarKey).each(Ee=>{W([Ee],Bo(se.target!==n,se.target)),ss.getContent(E).each(Jt.focusIn)})}),n.on("focusout",se=>{dx.setEditorTimeout(n,()=>{Is(i.element).isNone()&&Is(E.element).isNone()&&P()},0)}),n.on("SwitchMode",()=>{n.mode.isReadOnly()&&P()}),n.on("ExecCommand",({command:se})=>{se.toLowerCase()==="toggleview"&&P()}),n.on("AfterProgressState",se=>{se.state?P():n.hasFocus()&&ne.throttle()}),n.on("dragstart",()=>{J=!0}),n.on("dragend drop",()=>{J=!1}),n.on("NodeChange",se=>{Is(E.element).fold(ne.throttle,at)})})},yO=(n,s)=>{const i=()=>{const l=s.getOptions(n),u=s.getCurrent(n).map(s.hash),f=Cn();return nt(l,p=>({type:"togglemenuitem",text:s.display(p),onSetup:b=>{const y=E=>{E&&(f.on(C=>C.setActive(!1)),f.set(b)),b.setActive(E)};y(Rs(u,s.hash(p)));const w=s.watcher(n,p,y);return()=>{f.clear(),w()}},onAction:()=>s.setCurrent(n,p)}))};n.ui.registry.addMenuButton(s.name,{tooltip:s.text,icon:s.icon,fetch:l=>l(i()),onSetup:s.onToolbarSetup}),n.ui.registry.addNestedMenuItem(s.name,{type:"nestedmenuitem",text:s.text,getSubmenuItems:i,onSetup:s.onMenuSetup})},VM=n=>{yO(n,(s=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:fE,hash:i=>((l,u)=>Jk(l,["fixed","relative","empty"]).map(({value:f,unit:p})=>f+p))(i).getOr(i),display:Tt,watcher:(i,l,u)=>i.formatter.formatChanged("lineheight",u,!1,{value:l}).unbind,getCurrent:i=>T.from(i.queryCommandValue("LineHeight")),setCurrent:(i,l)=>i.execCommand("LineHeight",!1,l),onToolbarSetup:Pa(s),onMenuSetup:Pa(s)}))(n)),(s=>T.from(__(s)).map(i=>({name:"language",text:"Language",icon:"language",getOptions:ce(i),hash:l=>Yn(l.customCode)?l.code:`${l.code}/${l.customCode}`,display:l=>l.title,watcher:(l,u,f)=>{var p;return l.formatter.formatChanged("lang",f,!1,{value:u.code,customValue:(p=u.customCode)!==null&&p!==void 0?p:null}).unbind},getCurrent:l=>{const u=Et(l.selection.getNode());return fd(u,f=>T.some(f).filter(fr).bind(p=>Cr(p,"lang").map(b=>({code:b,customCode:Cr(p,"data-mce-lang").getOrUndefined(),title:""}))))},setCurrent:(l,u)=>l.execCommand("Lang",!1,u),onToolbarSetup:l=>{const u=Il();return l.setActive(s.formatter.match("lang",{},void 0,!0)),u.set(s.formatter.formatChanged("lang",l.setActive,!0)),xy(u.clear,Pa(s)(l))},onMenuSetup:Pa(s)})))(n).each(s=>yO(n,s))},jM=n=>Wh(n,"NodeChange",s=>{s.setEnabled(n.queryCommandState("outdent")&&n.selection.isEditable())}),sv=(n,s)=>i=>{i.setActive(s.get());const l=u=>{s.set(u.state),i.setActive(u.state)};return n.on("PastePlainTextToggle",l),xy(()=>n.off("PastePlainTextToggle",l),Pa(n)(i))},$S=(n,s)=>()=>{n.execCommand("mceToggleFormat",!1,s)},VS=n=>{(s=>{(i=>{zp.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(l,u)=>{i.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onSetup:Cf(i,l.name),onAction:$S(i,l.name),shortcut:l.shortcut})});for(let l=1;l<=6;l++){const u="h"+l,f=`Access+${l}`;i.ui.registry.addToggleButton(u,{text:u.toUpperCase(),tooltip:"Heading "+l,onSetup:Cf(i,u),onAction:$S(i,u),shortcut:f})}})(s),(i=>{zp.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],l=>{i.ui.registry.addButton(l.name,{tooltip:l.text,icon:l.icon,onAction:xc(i,l.action),shortcut:l.shortcut})}),zp.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],l=>{i.ui.registry.addButton(l.name,{tooltip:l.text,icon:l.icon,onSetup:Pa(i),onAction:xc(i,l.action)})})})(s),(i=>{zp.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],l=>{i.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onAction:xc(i,l.action),onSetup:Cf(i,l.name)})})})(s)})(n),(s=>{zp.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],i=>{s.ui.registry.addMenuItem(i.name,{text:i.text,icon:i.icon,shortcut:i.shortcut,onAction:xc(s,i.action)})}),zp.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],i=>{s.ui.registry.addMenuItem(i.name,{text:i.text,icon:i.icon,shortcut:i.shortcut,onSetup:Pa(s),onAction:xc(s,i.action)})}),s.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:Pa(s),onAction:$S(s,"code")})})(n)},ow=(n,s)=>Wh(n,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",i=>{i.setEnabled(!n.mode.isReadOnly()&&n.undoManager[s]())}),UM=n=>Wh(n,"VisualAid",s=>{s.setActive(n.hasVisual)}),ZM=(n,s)=>{(i=>{Dt([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],l=>{i.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onAction:xc(i,l.cmd),onSetup:Cf(i,l.name)})}),i.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:Pa(i),onAction:xc(i,"JustifyNone")})})(n),VS(n),((i,l)=>{((u,f)=>{const p=Iy(f,ES(u));u.ui.registry.addNestedMenuItem("align",{text:f.shared.providers.translate("Align"),onSetup:Pa(u),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})})(i,l),((u,f)=>{const p=Iy(f,YT(u));u.ui.registry.addNestedMenuItem("fontfamily",{text:f.shared.providers.translate("Fonts"),onSetup:Pa(u),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})})(i,l),((u,f)=>{const p={type:"advanced",...f.styles},b=Iy(f,nO(u,p));u.ui.registry.addNestedMenuItem("styles",{text:"Formats",onSetup:Pa(u),getSubmenuItems:()=>b.items.validateItems(b.getStyleItems())})})(i,l),((u,f)=>{const p=Iy(f,TS(u));u.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",onSetup:Pa(u),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})})(i,l),((u,f)=>{const p=Iy(f,tO(u));u.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",onSetup:Pa(u),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})})(i,l)})(n,s),(i=>{(l=>{l.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:ow(l,"hasUndo"),onAction:xc(l,"undo")}),l.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:ow(l,"hasRedo"),onAction:xc(l,"redo")})})(i),(l=>{l.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:ow(l,"hasUndo"),onAction:xc(l,"undo"),shortcut:"Meta+Z"}),l.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:ow(l,"hasRedo"),onAction:xc(l,"redo"),shortcut:"Meta+Y"})})(i)})(n),(i=>{(b=>{b.addCommand("mceApplyTextcolor",(y,w)=>{((E,C,O)=>{E.undoManager.transact(()=>{E.focus(),E.formatter.apply(C,{value:O}),E.nodeChanged()})})(b,y,w)}),b.addCommand("mceRemoveTextcolor",y=>{((w,E)=>{w.undoManager.transact(()=>{w.focus(),w.formatter.remove(E,{value:null},void 0,!0),w.nodeChanged()})})(b,y)})})(i);const l=SA(i),u=EA(i),f=Ut(l),p=Ut(u);k2(i,"forecolor","forecolor",f),k2(i,"backcolor","hilitecolor",p),wy(i,"forecolor","forecolor","Text color",f),wy(i,"backcolor","hilitecolor","Background color",p)})(n),(i=>{(l=>{l.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:xc(l,"mceToggleVisualAid")})})(i),(l=>{l.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:UM(l),onAction:xc(l,"mceToggleVisualAid")})})(i)})(n),(i=>{(l=>{l.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:jM(l),onAction:xc(l,"outdent")}),l.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:Pa(l),onAction:xc(l,"indent")})})(i)})(n),VM(n),(i=>{const l=Ut(dE(i)),u=()=>i.execCommand("mceTogglePlainTextPaste");i.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:u,onSetup:sv(i,l)}),i.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:u,onSetup:sv(i,l)})})(n)},vO=n=>Do(n)?n.split(/[ ,]/):n,xO=n=>s=>s.options.get(n),kO=xO("contextmenu_never_use_native"),WM=xO("contextmenu_avoid_overlap"),jS=n=>{const s=n.ui.registry.getAll().contextMenus,i=n.options.get("contextmenu");return n.options.isSet("contextmenu")?i:Nn(i,l=>no(s,l))},av=(n,s)=>({type:"makeshift",x:n,y:s}),wO=n=>n.type==="longpress"||n.type.indexOf("touch")===0,qM=(n,s)=>s.type==="contextmenu"||s.type==="longpress"?n.inline?(i=>{if(wO(i)){const l=i.touches[0];return av(l.pageX,l.pageY)}return av(i.pageX,i.pageY)})(s):((i,l)=>{const u=iy.DOM.getPos(i);return((f,p,b)=>av(f.x+p,f.y+b))(l,u.x,u.y)})(n.getContentAreaContainer(),(i=>{if(wO(i)){const l=i.touches[0];return av(l.clientX,l.clientY)}return av(i.clientX,i.clientY)})(s)):_O(n),_O=n=>({type:"selection",root:Et(n.selection.getNode())}),CO=(n,s,i)=>{switch(i){case"node":return(l=>({type:"node",node:T.some(Et(l.selection.getNode())),root:Et(l.getBody())}))(n);case"point":return qM(n,s);case"selection":return _O(n)}},SO=(n,s,i,l,u,f)=>{const p=i(),b=CO(n,s,f);eb(p,_f.CLOSE_ON_EXECUTE,l,{isHorizontalMenu:!1,search:T.none()}).map(y=>{s.preventDefault(),ss.showMenuAt(u,{anchor:b},{menu:{markers:Fh("normal")},data:y})})},EO={onLtr:()=>[Bs,xs,ks,Gs,cr,fs,Dn,Am,q0,Rg,wc,kc],onRtl:()=>[Bs,ks,xs,cr,Gs,fs,Dn,Am,wc,kc,q0,Rg]},GM={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},KM=(n,s,i,l,u,f)=>{const p=la(),b=p.os.isiOS(),y=p.os.isMacOS(),w=p.os.isAndroid(),E=p.deviceType.isTouch(),C=()=>{const O=i();((B,P,Z,K,oe,q,W)=>{const J=((ne,se,be)=>{const Ee=CO(ne,se,be);return{bubble:bc(0,be==="point"?12:0,GM),layouts:EO,overrides:{maxWidthFunction:pS(),maxHeightFunction:dp()},...Ee}})(B,P,q);eb(Z,_f.CLOSE_ON_EXECUTE,K,{isHorizontalMenu:!0,search:T.none()}).map(ne=>{P.preventDefault();const se=W?nl.HighlightMenuAndItem:nl.HighlightNone;ss.showMenuWithinBounds(oe,{anchor:J},{menu:{markers:Fh("normal"),highlightOnOpen:se},data:ne,type:"horizontal"},()=>T.some(gO(B,K.shared,q==="node"?"node":"selection"))),B.dispatch(fO)})})(n,s,O,l,u,f,!(w||b||y&&E))};if((y||b)&&f!=="node"){const O=()=>{(B=>{const P=B.selection.getRng(),Z=()=>{dx.setEditorTimeout(B,()=>{B.selection.setRng(P)},10),q()};B.once("touchend",Z);const K=W=>{W.preventDefault(),W.stopImmediatePropagation()};B.on("mousedown",K,!0);const oe=()=>q();B.once("longpresscancel",oe);const q=()=>{B.off("touchend",Z),B.off("longpresscancel",oe),B.off("mousedown",K)}})(n),C()};((B,P)=>{const Z=B.selection;if(Z.isCollapsed()||P.touches.length<1)return!1;{const K=P.touches[0],oe=Z.getRng();return S1(B.getWin(),uf.domRange(oe)).exists(q=>q.left<=K.clientX&&q.right>=K.clientX&&q.top<=K.clientY&&q.bottom>=K.clientY)}})(n,s)?O():(n.once("selectionchange",O),n.once("touchend",()=>n.off("selectionchange",O)))}else C()},AO=n=>Do(n)?n==="|":n.type==="separator",US={type:"separator"},zO=n=>{const s=i=>({text:i.text,icon:i.icon,enabled:i.enabled,shortcut:i.shortcut});if(Do(n))return n;switch(n.type){case"separator":return US;case"submenu":return{type:"nestedmenuitem",...s(n),getSubmenuItems:()=>{const l=n.getSubmenuItems();return Do(l)?l:nt(l,zO)}};default:const i=n;return{type:"menuitem",...s(i),onAction:it(i.onAction)}}},ZS=(n,s)=>{if(s.length===0)return n;const i=et(n).filter(l=>!AO(l)).fold(()=>[],l=>[US]);return n.concat(i).concat(s).concat([US])},ib=(n,s)=>!(i=>i.type==="longpress"||no(i,"touches"))(s)&&(s.button!==2||s.target===n.getBody()&&s.pointerType===""),TO=(n,s)=>ib(n,s)?n.selection.getStart(!0):s.target,YM=(n,s,i)=>{const l=la().deviceType.isTouch,u=Ya(ss.sketch({dom:{tag:"div"},lazySink:s,onEscape:()=>n.focus(),onShow:()=>i.setContextMenuState(!0),onHide:()=>i.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:ft([Zo("dismissContextMenu",[je(Xu(),(b,y)=>{x.close(b),n.focus()})])])})),f=()=>ss.hide(u),p=b=>{if(kO(n)&&b.preventDefault(),((w,E)=>E.ctrlKey&&!kO(w))(n,b)||(w=>jS(w).length===0)(n))return;const y=((w,E)=>{const C=WM(w),O=ib(w,E)?"selection":"point";if(Va(C)){const B=TO(w,E);return Cy(Et(B),C)?"node":O}return O})(n,b);(l()?KM:SO)(n,b,()=>{const w=TO(n,b),E=n.ui.registry.getAll(),C=jS(n);return((O,B,P)=>{const Z=Co(B,(K,oe)=>dt(O,oe.toLowerCase()).map(q=>{const W=q.update(P);if(Do(W)&&Va(ti(W)))return ZS(K,W.split(" "));if(Ko(W)&&W.length>0){const J=nt(W,zO);return ZS(K,J)}return K}).getOrThunk(()=>K.concat([oe])),[]);return Z.length>0&&AO(Z[Z.length-1])&&Z.pop(),Z})(E.contextMenus,C,w)},i,u,y)};n.on("init",()=>{const b="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(l()?"":" ResizeWindow");n.on(b,f),n.on("longpress contextmenu",p)})},WS=Li([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),lb=n=>s=>s.translate(-n.left,-n.top),_c=n=>s=>s.translate(n.left,n.top),Ef=n=>(s,i)=>Co(n,(l,u)=>u(l),le(s,i)),iv=(n,s,i)=>n.fold(Ef([_c(i),lb(s)]),Ef([lb(s)]),Ef([])),Ly=(n,s,i)=>n.fold(Ef([_c(i)]),Ef([]),Ef([_c(s)])),OO=(n,s,i)=>n.fold(Ef([]),Ef([lb(i)]),Ef([_c(s),lb(i)])),DO=(n,s,i)=>{const l=n.fold((u,f)=>({position:T.some("absolute"),left:T.some(u+"px"),top:T.some(f+"px")}),(u,f)=>({position:T.some("absolute"),left:T.some(u-i.left+"px"),top:T.some(f-i.top+"px")}),(u,f)=>({position:T.some("fixed"),left:T.some(u+"px"),top:T.some(f+"px")}));return{right:T.none(),bottom:T.none(),...l}},qS=(n,s,i,l)=>{const u=(f,p)=>(b,y)=>{const w=f(s,i,l);return p(b.getOr(w.left),y.getOr(w.top))};return n.fold(u(OO,lv),u(Ly,Dp),u(iv,cb))},lv=WS.offset,Dp=WS.absolute,cb=WS.fixed,RO=(n,s)=>{const i=gs(n,s);return Yn(i)?NaN:parseInt(i,10)},NO=(n,s,i,l,u,f)=>{const p=((w,E,C,O)=>((B,P)=>{const Z=B.element,K=RO(Z,P.leftAttr),oe=RO(Z,P.topAttr);return isNaN(K)||isNaN(oe)?T.none():T.some(le(K,oe))})(w,E).fold(()=>C,B=>cb(B.left+O.left,B.top+O.top)))(n,s,i,l),b=s.mustSnap?BO(n,s,p,u,f):IO(n,s,p,u,f),y=iv(p,u,f);return((w,E,C)=>{const O=w.element;lo(O,E.leftAttr,C.left+"px"),lo(O,E.topAttr,C.top+"px")})(n,s,y),b.fold(()=>({coord:cb(y.left,y.top),extra:T.none()}),w=>({coord:w.output,extra:w.extra}))},MO=(n,s,i,l)=>uo(n,u=>{const f=u.sensor;return((b,y,w,E,C,O)=>{const B=Ly(b,C,O),P=Ly(y,C,O);return Math.abs(B.left-P.left)<=w&&Math.abs(B.top-P.top)<=E})(s,f,u.range.left,u.range.top,i,l)?T.some({output:qS(u.output,s,i,l),extra:u.extra}):T.none()}),BO=(n,s,i,l,u)=>{const f=s.getSnapPoints(n);return MO(f,i,l,u).orThunk(()=>Co(f,(b,y)=>{const w=y.sensor,E=((C,O,B,P,Z,K)=>{const oe=Ly(C,Z,K),q=Ly(O,Z,K),W=Math.abs(oe.left-q.left),J=Math.abs(oe.top-q.top);return le(W,J)})(i,w,y.range.left,y.range.top,l,u);return b.deltas.fold(()=>({deltas:T.some(E),snap:T.some(y)}),C=>(E.left+E.top)/2<=(C.left+C.top)/2?{deltas:T.some(E),snap:T.some(y)}:b)},{deltas:T.none(),snap:T.none()}).snap.map(b=>({output:qS(b.output,i,l,u),extra:b.extra})))},IO=(n,s,i,l,u)=>{const f=s.getSnapPoints(n);return MO(f,i,l,u)};var PO=Object.freeze({__proto__:null,snapTo:(n,s,i,l)=>{const u=s.getTarget(n.element);if(s.repositionTarget){const f=sa(n.element),p=xr(f),b=Uc(u),y=((E,C,O)=>({coord:qS(E.output,E.output,C,O),extra:E.extra}))(l,p,b),w=DO(y.coord,0,b);Za(u,w)}}});const GS="data-initial-z-index",LO=(n,s)=>{n.getSystem().addToGui(s),(i=>{Vs(i.element).filter(fr).each(l=>{Sr(l,"z-index").each(u=>{lo(l,GS,u)}),bo(l,"z-index",yr(i.element,"z-index"))})})(s)},XM=n=>{(s=>{Vs(s.element).filter(fr).each(i=>{Cr(i,GS).fold(()=>_n(i,"z-index"),l=>bo(i,"z-index",l)),Xo(i,GS)})})(n),n.getSystem().removeFromGui(n)},FO=(n,s,i)=>n.getSystem().build(Iu.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[s]},events:i}));var JM=Kr("snaps",[Ge("getSnapPoints"),Sn("onSensor"),Ge("leftAttr"),Ge("topAttr"),Ae("lazyViewport",Qs),Ae("mustSnap",!1)]);const KS=[Ae("useFixed",$e),Ge("blockerClass"),Ae("getTarget",Tt),Ae("onDrag",at),Ae("repositionTarget",!0),Ae("onDrop",at),kr("getBounds",Qs),JM],YS=n=>{return(s=Sr(n,"left"),i=Sr(n,"top"),l=Sr(n,"position"),s.isSome()&&i.isSome()&&l.isSome()?T.some(((u,f,p)=>(p==="fixed"?cb:lv)(parseInt(u,10),parseInt(f,10)))(s.getOrDie(),i.getOrDie(),l.getOrDie())):T.none()).getOrThunk(()=>{const u=Ve(n);return Dp(u.left,u.top)});var s,i,l},HO=(n,s)=>({bounds:n.getBounds(),height:va(s.element),width:Ln(s.element)}),XS=(n,s,i,l,u)=>{const f=i.update(l,u),p=i.getStartData().getOrThunk(()=>HO(s,n));f.each(b=>{((y,w,E,C)=>{const O=w.getTarget(y.element);if(w.repositionTarget){const B=sa(y.element),P=xr(B),Z=Uc(O),K=YS(O),oe=((W,J,ne,se,be,Ee,qe)=>((Ue,Fe,gt,Rt,Zt)=>{const ro=Zt.bounds,Ao=Ly(Fe,gt,Rt),ln=Wc(Ao.left,ro.x,ro.x+ro.width-Zt.width),Lr=Wc(Ao.top,ro.y,ro.y+ro.height-Zt.height),ts=Dp(ln,Lr);return Fe.fold(()=>{const Wo=OO(ts,gt,Rt);return lv(Wo.left,Wo.top)},ce(ts),()=>{const Wo=iv(ts,gt,Rt);return cb(Wo.left,Wo.top)})})(0,J.fold(()=>{const Ue=(Fe=ne,gt=Ee.left,Rt=Ee.top,Fe.fold((ro,Ao)=>lv(ro+gt,Ao+Rt),(ro,Ao)=>Dp(ro+gt,Ao+Rt),(ro,Ao)=>cb(ro+gt,Ao+Rt)));var Fe,gt,Rt;const Zt=iv(Ue,se,be);return cb(Zt.left,Zt.top)},Ue=>{const Fe=NO(W,Ue,ne,Ee,se,be);return Fe.extra.each(gt=>{Ue.onSensor(W,gt)}),Fe.coord}),se,be,qe))(y,w.snaps,K,P,Z,C,E),q=DO(oe,0,Z);Za(O,q)}w.onDrag(y,O,C)})(n,s,p,b)})},JS=(n,s,i,l)=>{s.each(XM),i.snaps.each(f=>{((p,b)=>{((y,w)=>{const E=y.element;Xo(E,w.leftAttr),Xo(E,w.topAttr)})(p,b)})(n,f)});const u=i.getTarget(n.element);l.reset(),i.onDrop(n,u)},QS=n=>(s,i)=>{const l=u=>{i.setStartData(HO(s,u))};return zo([je(jf(),u=>{i.getStartData().each(()=>l(u))}),...n(s,i,l)])};var QM=Object.freeze({__proto__:null,getData:n=>T.from(le(n.x,n.y)),getDelta:(n,s)=>le(s.left-n.left,s.top-n.top)});const $O=(n,s,i)=>[je(Ke(),(l,u)=>{if(u.event.raw.button!==0)return;u.stop();const f=()=>JS(l,T.some(y),n,s),p=O2(f,200),b={drop:f,delayDrop:p.schedule,forceDrop:f,move:w=>{p.cancel(),XS(l,n,s,QM,w)}},y=FO(l,n.blockerClass,(w=>zo([je(Ke(),w.forceDrop),je(xo(),w.drop),je(io(),(E,C)=>{w.move(C.event)}),je(Ro(),w.delayDrop)]))(b));i(l),LO(l,y)})],eB=[...KS,Ar("dragger",{handlers:QS($O)})];var VO=Object.freeze({__proto__:null,getData:n=>{const s=n.raw.touches;return s.length===1?(i=>{const l=i[0];return T.some(le(l.clientX,l.clientY))})(s):T.none()},getDelta:(n,s)=>le(s.left-n.left,s.top-n.top)});const jO=(n,s,i)=>{const l=Cn(),u=f=>{JS(f,l.get(),n,s),l.clear()};return[je(N(),(f,p)=>{p.stop();const b=()=>u(f),y={drop:b,delayDrop:at,forceDrop:b,move:E=>{XS(f,n,s,VO,E)}},w=FO(f,n.blockerClass,(E=>zo([je(N(),E.forceDrop),je(de(),E.drop),je(he(),E.drop),je(j(),(C,O)=>{E.move(O.event)})]))(y));l.set(w),i(f),LO(f,w)}),je(j(),(f,p)=>{p.stop(),XS(f,n,s,VO,p.event)}),je(de(),(f,p)=>{p.stop(),u(f)}),je(he(),u)]},tB=eB,UO=[...KS,Ar("dragger",{handlers:QS(jO)})],ZO=[...KS,Ar("dragger",{handlers:QS((n,s,i)=>[...$O(n,s,i),...jO(n,s,i)])})];var oB=Object.freeze({__proto__:null,mouse:tB,touch:UO,mouseOrTouch:ZO}),nB=Object.freeze({__proto__:null,init:()=>{let n=T.none(),s=T.none();const i=ce({});return da({readState:i,reset:()=>{n=T.none(),s=T.none()},update:(l,u)=>l.getData(u).bind(f=>((p,b)=>{const y=n.map(w=>p.getDelta(w,b));return n=T.some(b),y})(l,f)),getStartData:()=>s,setStartData:l=>{s=T.some(l)}})}});const db=k({branchKey:"mode",branches:oB,name:"dragging",active:{events:(n,s)=>n.dragger.handlers(n,s)},extra:{snap:n=>({sensor:n.sensor,range:n.range,output:n.output,extra:T.from(n.extra)})},state:nB,apis:PO}),WO=(n,s,i,l,u,f)=>n.fold(()=>db.snap({sensor:Dp(i-20,l-20),range:le(u,f),output:Dp(T.some(i),T.some(l)),extra:{td:s}}),p=>{const b=i-20,y=l-20,w=p.element.dom.getBoundingClientRect();return db.snap({sensor:Dp(b,y),range:le(40,40),output:Dp(T.some(i-w.width/2),T.some(l-w.height/2)),extra:{td:s}})}),qO=(n,s,i)=>({getSnapPoints:n,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(l,u)=>{const f=u.td;((p,b)=>p.exists(y=>wn(y,b)))(s.get(),f)||(s.set(f),i(f))},mustSnap:!0}),GO=n=>Jn(Vi.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:ft([db.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:n}),Yh.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),KO=(n,s)=>{const i=Ut([]),l=Ut([]),u=Ut(!1),f=Cn(),p=Cn(),b=q=>{const W=ri(q);return WO(C.getOpt(s),q,W.x,W.y,W.width,W.height)},y=q=>{const W=ri(q);return WO(O.getOpt(s),q,W.right,W.bottom,W.width,W.height)},w=qO(()=>nt(i.get(),q=>b(q)),f,q=>{p.get().each(W=>{n.dispatch("TableSelectorChange",{start:q,finish:W})})}),E=qO(()=>nt(l.get(),q=>y(q)),p,q=>{f.get().each(W=>{n.dispatch("TableSelectorChange",{start:W,finish:q})})}),C=GO(w),O=GO(E),B=Ya(C.asSpec()),P=Ya(O.asSpec()),Z=(q,W,J,ne)=>{const se=J(W);db.snapTo(q,se),((be,Ee,qe,Ue)=>{const Fe=Ee.dom.getBoundingClientRect();_n(be.element,"display");const gt=id(Et(n.getBody())).dom.innerHeight,Rt=Fe[ne]<0,Zt=((ro,Ao)=>ro[ne]>Ao)(Fe,gt);(Rt||Zt)&&bo(be.element,"display","none")})(q,W)},K=q=>Z(B,q,b,"top"),oe=q=>Z(P,q,y,"bottom");if(la().deviceType.isTouch()){const q=W=>nt(W,Et);n.on("TableSelectionChange",W=>{u.get()||(gf(s,B),gf(s,P),u.set(!0));const J=Et(W.start),ne=Et(W.finish);f.set(J),p.set(ne),T.from(W.otherCells).each(se=>{i.set(q(se.upOrLeftCells)),l.set(q(se.downOrRightCells)),K(J),oe(ne)})}),n.on("ResizeEditor ResizeWindow ScrollContent",()=>{f.get().each(K),p.get().each(oe)}),n.on("TableSelectionClear",()=>{u.get()&&(tl(B),tl(P),u.set(!1)),f.clear(),p.clear()})}},YO=(n,s,i)=>{var l;const u=(l=s.delimiter)!==null&&l!==void 0?l:"›";return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:ft([Jt.config({mode:"flow",selector:"div[role=button]"}),Eo.config({disabled:i.isDisabled}),Ia(),wr.config({}),fo.config({}),Zo("elementPathEvents",[Er((f,p)=>{n.shortcuts.add("alt+F11","focus statusbar elementpath",()=>Jt.focusIn(f)),n.on("NodeChange",b=>{const y=(E=>{const C=[];let O=E.length;for(;O-- >0;){const P=E[O];if(P.nodeType===1&&(B=P).nodeName!=="BR"&&!B.getAttribute("data-mce-bogus")&&B.getAttribute("data-mce-type")!=="bookmark"){const Z=xA(n,P);if(Z.isDefaultPrevented()||C.push({name:Z.name,element:P}),Z.isPropagationStopped())break}}var B;return C})(b.parents),w=y.length>0?Co(y,(E,C,O)=>{const B=((P,Z,K)=>Vi.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":K}},components:[Os(P)],action:oe=>{n.focus(),n.selection.select(Z),n.nodeChanged()},buttonBehaviours:ft([Ys.config({...i.tooltips.getConfig({tooltipText:i.translate(["Select the {0} element",Z.nodeName.toLowerCase()]),onShow:(oe,q)=>{((W,J)=>{const ne=T.from(gs(W,"id")).getOrThunk(()=>{const se=Bt("aria");return lo(J,"id",se),se});lo(W,"aria-describedby",ne)})(oe.element,q.element)},onHide:oe=>{var q;q=oe.element,Xo(q,"aria-describedby")}})}),Oi(i.isDisabled),Ia()])}))(C.name,C.element,O);return O===0?E.concat([B]):E.concat([{dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[Os(` ${u} `)]},B])},[]):[];fo.set(f,w)})})])]),components:[]}};var Rp;(function(n){n[n.None=0]="None",n[n.Both=1]="Both",n[n.Vertical=2]="Vertical"})(Rp||(Rp={}));const nw=(n,s,i)=>{const l=Et(n.getContainer()),u=((f,p,b,y,w)=>{const E={height:rv(y+p.top,ly(f),ux(f))};return b===Rp.Both&&(E.width=rv(w+p.left,Q1(f),cy(f))),E})(n,s,i,vr(l),To(l));or(u,(f,p)=>{Yo(f)&&bo(l,p,Mg(f))}),(f=>{f.dispatch("ResizeEditor")})(n)},rw=(n,s,i,l)=>{const u=le(20*i,20*l);return nw(n,u,s),T.some(!0)},XO=(n,s)=>{const i=()=>{const l=[],u=A_(n),f=cE(n),p=ed(n)||n.hasPlugin("wordcount");return f&&l.push(YO(n,{},s)),u&&l.push((()=>{const b=$x("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[Os(Xd.translate(["Press {0} for help",b]))]}})()),p&&l.push((()=>{const b=[];return n.hasPlugin("wordcount")&&b.push(((y,w)=>{const E=(C,O,B)=>fo.set(C,[Os(w.translate(["{0} "+B,O[B]]))]);return Vi.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:ft([Oi(w.isDisabled),Ia(),wr.config({}),fo.config({}),De.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Zo("wordcount-events",[Wl(C=>{const O=De.getValue(C),B=O.mode==="words"?"characters":"words";De.setValue(C,{mode:B,count:O.count}),E(C,O.count,B)}),Er(C=>{y.on("wordCountUpdate",O=>{const{mode:B}=De.getValue(C);De.setValue(C,{mode:B,count:O.wordCount}),E(C,O.wordCount,B)})})])]),eventOrder:{[Ei()]:["disabling","alloy.base.behaviour","wordcount-events"]}})})(n,s)),ed(n)&&b.push({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":n.translate(["Build with {0}","TinyMCE"])},innerHtml:n.translate(["Build with {0}",`<svg height="16" viewBox="0 0 80 16" width="80" xmlns="http://www.w3.org/2000/svg"><g opacity=".8"><path d="m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z"/><path clip-rule="evenodd" d="m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z" fill-rule="evenodd"/><path d="m28.752 4.126h-2.346v8.794h2.346z"/><path clip-rule="evenodd" d="m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z" fill-rule="evenodd"/></g></svg>
`.trim()])},behaviours:ft([wo.config({})])}]}),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:b}})()),l.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...(()=>{const b="tox-statusbar__text-container--flex-start",y="tox-statusbar__text-container--flex-end";if(u){const w="tox-statusbar__text-container-3-cols";return p||f?p&&!f?[w,y]:[w,b]:[w,"tox-statusbar__text-container--space-around"]}return[p&&!f?y:b]})()]},components:l}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const l=i(),u=((f,p)=>{const b=(w=>{const E=pi(w);return E===!1?Rp.None:E==="both"?Rp.Both:Rp.Vertical})(f);if(b===Rp.None)return T.none();const y=b===Rp.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return T.some(td("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{"aria-label":p.translate(y),"data-mce-name":"resize-handle"},behaviours:[db.config({mode:"mouse",repositionTarget:!1,onDrag:(w,E,C)=>nw(f,C,b),blockerClass:"tox-blocker"}),Jt.config({mode:"special",onLeft:()=>rw(f,b,-1,0),onRight:()=>rw(f,b,1,0),onUp:()=>rw(f,b,0,-1),onDown:()=>rw(f,b,0,1)}),wr.config({}),wo.config({}),Ys.config(p.tooltips.getConfig({tooltipText:p.translate("Resize")}))]},p.icons))})(n,s);return l.concat(u.toArray())})()}},JO=(n,s)=>s.get().getOrDie(`UI for ${n} has not been rendered`),rB=(n,s)=>{const i=n.inline,l=i?LM:o8,u=vp(n)?P6:I6,f=(()=>{const se=Cn(),be=Cn(),Ee=Cn();return{dialogUi:se,popupUi:be,mainUi:Ee,getUiMotherships:()=>{const qe=se.get().map(Fe=>Fe.mothership),Ue=be.get().map(Fe=>Fe.mothership);return qe.fold(()=>Ue.toArray(),Fe=>Ue.fold(()=>[Fe],gt=>wn(Fe.element,gt.element)?[Fe]:[Fe,gt]))},lazyGetInOuterOrDie:(qe,Ue)=>()=>Ee.get().bind(Fe=>Ue(Fe.outerContainer)).getOrDie(`Could not find ${qe} element in OuterContainer`)}})(),p=Cn(),b=Cn(),y=Cn(),w=la().deviceType.isTouch()?["tox-platform-touch"]:[],E=z_(n),C=Bh(n),O=Jn({dom:{tag:"div",classes:["tox-anchorbar"]}}),B=Jn({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),P=()=>f.mainUi.get().map(se=>se.outerContainer).bind(Pr.getHeader),Z=f.lazyGetInOuterOrDie("anchor bar",O.getOpt),K=f.lazyGetInOuterOrDie("bottom anchor bar",B.getOpt),oe=f.lazyGetInOuterOrDie("toolbar",Pr.getToolbar),q=f.lazyGetInOuterOrDie("throbber",Pr.getThrobber),W=((se,be,Ee,qe)=>{const Ue=Ut(!1),Fe=(En=>{const co=Ut(z_(En)?"bottom":"top");return{isPositionedAtTop:()=>co.get()==="top",getDockingMode:co.get,setDockingMode:co.set}})(be),gt={icons:()=>be.ui.registry.getAll().icons,menuItems:()=>be.ui.registry.getAll().menuItems,translate:Xd.translate,isDisabled:()=>be.mode.isReadOnly()||!be.ui.isEnabled(),getOption:be.options.get,tooltips:YC(se.dialog)},Rt=bT(be),Zt=(En=>{const co=Qa=>()=>En.formatter.match(Qa),os=Qa=>()=>{const La=En.formatter.get(Qa);return La!==void 0?T.some({tag:La.length>0&&(La[0].inline||La[0].block)||"div",styles:En.dom.parseStyle(En.formatter.getCssText(Qa))}):T.none()},ur=Ut([]),ji=Ut([]),Ui=Ut(!1);return En.on("PreInit",Qa=>{const La=iT(En),Np=KC(En,La,co,os);ur.set(Np)}),En.on("addStyleModifications",Qa=>{const La=KC(En,Qa.items,co,os);ji.set(La),Ui.set(Qa.replace)}),{getData:()=>{const Qa=Ui.get()?[]:ur.get(),La=ji.get();return Qa.concat(La)}}})(be),ro=(En=>({colorPicker:w6(En),hasCustomColors:_6(En),getColors:C6(En),getColorCols:S6(En)}))(be),Ao=(En=>({isDraggableModal:rT(En)}))(be),ln={shared:{providers:gt,anchors:k6(be,Ee,qe,Fe.isPositionedAtTop),header:Fe},urlinput:Rt,styles:Zt,colorinput:ro,dialog:Ao,isContextMenuOpen:()=>Ue.get(),setContextMenuState:En=>Ue.set(En)},Lr=En=>T.none(),ts={...ln,shared:{...ln.shared,interpreter:En=>Qz(En,{},ts,Lr),getSink:se.popup}},Wo={...ln,shared:{...ln.shared,interpreter:En=>Qz(En,{},Wo,Lr),getSink:se.dialog}};return{popup:ts,dialog:Wo}})({popup:()=>en.fromOption(f.popupUi.get().map(se=>se.sink),"(popup) UI has not been rendered"),dialog:()=>en.fromOption(f.dialogUi.get().map(se=>se.sink),"UI has not been rendered")},n,Z,K),J=()=>{const se=(()=>{const ln={attributes:{[gl]:E?Xc.BottomToTop:Xc.TopToBottom}},Lr=Pr.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:W.popup,onEscape:()=>{n.focus()}}),ts=Pr.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:W.popup.shared.getSink,providers:W.popup.shared.providers,onEscape:()=>{n.focus()},onToolbarToggled:La=>{((Np,jy)=>{Np.dispatch("ToggleToolbarDrawer",{state:jy})})(n,La)},type:C,lazyToolbar:oe,lazyHeader:()=>P().getOrDie("Could not find header element"),...ln}),Wo=Pr.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:W.popup.shared.providers,onEscape:()=>{n.focus()},type:C}),En=r0(n),co=n0(n),os=o0(n),ur=uE(n),ji=Pr.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),Ui=En||co||os,Qa=ur?[ji,Lr]:[Lr];return Pr.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(Ui?[]:["tox-editor-header--empty"]),...ln},components:Hn([os?Qa:[],En?[Wo]:co?[ts]:[],Ih(n)?[]:[O.asSpec()]]),sticky:vp(n),editor:n,sharedBackstage:W.popup.shared})})(),be={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[Pr.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),Pr.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}})]},Ee=Pr.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:W.popup}),qe=Pr.parts.viewWrapper({backstage:W.popup}),Ue=lE(n)&&!i?T.some(XO(n,W.popup.shared.providers)):T.none(),Fe=Hn([E?[]:[se],i?[]:[be],E?[se]:[]]),gt=Pr.parts.editorContainer({components:Hn([Fe,i?[]:[B.asSpec()]])}),Rt=wx(n),Zt={role:"application",...Xd.isRtl()?{dir:"rtl"}:{},...Rt?{"aria-hidden":"true"}:{}},ro=Ya(Pr.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(i?["tox-tinymce-inline"]:[]).concat(E?["tox-tinymce--toolbar-bottom"]:[]).concat(w),styles:{visibility:"hidden",...Rt?{opacity:"0",border:"0"}:{}},attributes:Zt},components:[gt,...i?[]:[qe,...Ue.toArray()],Ee],behaviours:ft([Ia(),Eo.config({disableClass:"tox-tinymce--disabled"}),Jt.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),Ao=Qx(ro);return p.set(Ao),{mothership:Ao,outerContainer:ro}},ne=se=>{const be=Mg((qe=>(Fe=>{const gt=X1(Fe),Rt=ly(Fe),Zt=ux(Fe);return nv(gt).map(ro=>rv(ro,Rt,Zt))})(qe).getOr(X1(qe)))(n)),Ee=Mg((qe=>BS(qe).getOr(J1(qe)))(n));return n.inline||(Zs("div","width",Ee)&&bo(se.element,"width",Ee),Zs("div","height",be)?bo(se.element,"height",be):bo(se.element,"height","400px")),be};return{popups:{backstage:W.popup,getMothership:()=>JO("popups",y)},dialogs:{backstage:W.dialog,getMothership:()=>JO("dialogs",b)},renderUI:()=>{const se=J(),be=(()=>{const qe=kx(n),Ue=wn(ya(),qe)&&yr(qe,"display")==="grid",Fe={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(w),attributes:{...Xd.isRtl()?{dir:"rtl"}:{}}},behaviours:ft([mi.config({useFixed:()=>u.isDocked(P)})])},gt={dom:{styles:{width:document.body.clientWidth+"px"}},events:zo([je(Hd(),ro=>{bo(ro.element,"width",document.body.clientWidth+"px")})])},Rt=Ya(nr(Fe,Ue?gt:{})),Zt=Qx(Rt);return b.set(Zt),{sink:Rt,mothership:Zt}})(),Ee=xp(n)?(()=>{const qe={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(w),attributes:{...Xd.isRtl()?{dir:"rtl"}:{}}},behaviours:ft([mi.config({useFixed:()=>u.isDocked(P),getBounds:()=>s.getPopupSinkBounds()})])},Ue=Ya(qe),Fe=Qx(Ue);return y.set(Fe),{sink:Ue,mothership:Fe}})():(qe=>(y.set(qe.mothership),qe))(be);return f.dialogUi.set(be),f.popupUi.set(Ee),f.mainUi.set(se),(qe=>{const{mainUi:Ue,popupUi:Fe,uiMotherships:gt}=qe;$n(mx(n),(co,os)=>{n.ui.registry.addGroupToolbarButton(os,co)});const{buttons:Rt,menuItems:Zt,contextToolbars:ro,sidebars:Ao,views:ln}=n.ui.registry.getAll(),Lr=xx(n),ts={menuItems:Zt,menus:ug(n),menubar:yp(n),toolbar:Lr.getOrThunk(()=>uy(n)),allowToolbarGroups:C===Yd.floating,buttons:Rt,sidebar:Ao,views:ln};var Wo;Wo=Ue.outerContainer,n.addShortcut("alt+F9","focus menubar",()=>{Pr.focusMenubar(Wo)}),n.addShortcut("alt+F10","focus toolbar",()=>{Pr.focusToolbar(Wo)}),n.addCommand("ToggleToolbarDrawer",(co,os)=>{os!=null&&os.skipFocus?Pr.toggleToolbarDrawerWithoutFocusing(Wo):Pr.toggleToolbarDrawer(Wo)}),n.addQueryStateHandler("ToggleToolbarDrawer",()=>Pr.isToolbarDrawerToggled(Wo)),((co,os,ur)=>{const ji=(Un,Mm)=>{Dt([os,...ur],Vu=>{Vu.broadcastEvent(Un,Mm)})},Ui=(Un,Mm)=>{Dt([os,...ur],Vu=>{Vu.broadcastOn([Un],Mm)})},Qa=Un=>Ui(S(),{target:Un.target}),La=ni(),Np=Hi(La,"touchstart",Qa),jy=Hi(La,"touchmove",Un=>ji(jt(),Un)),Ig=Hi(La,"touchend",Un=>ji(mc(),Un)),Mp=Hi(La,"mousedown",Qa),vv=Hi(La,"mouseup",Un=>{Un.raw.button===0&&Ui(R(),{target:Un.target})}),Pg=Un=>Ui(S(),{target:Et(Un.target)}),Rm=Un=>{Un.button===0&&Ui(R(),{target:Et(Un.target)})},fb=()=>{Dt(co.editorManager.get(),Un=>{co!==Un&&Un.dispatch("DismissPopups",{relatedTarget:co})})},mb=Un=>ji(jf(),zu(Un)),Uy=Un=>{Ui(D(),{}),ji(Hd(),zu(Un))},mw=Mr(Et(co.getElement())),xv=k1(mw,"scroll",Un=>{requestAnimationFrame(()=>{if(co.getContainer()!=null){const Mm=fg(co,os.element).map(Vu=>[Vu.element,...Vu.others]).getOr([]);At(Mm,Vu=>wn(Vu,Un.target))&&(co.dispatch("ElementScroll",{target:Un.target.dom}),ji(Uf(),Un))}})}),Lg=()=>Ui(D(),{}),Nm=Un=>{Un.state&&Ui(S(),{target:Et(co.getContainer())})},Bp=Un=>{Ui(S(),{target:Et(Un.relatedTarget.getContainer())})},kv=Un=>co.dispatch("focusin",Un),wv=Un=>co.dispatch("focusout",Un);co.on("PostRender",()=>{co.on("click",Pg),co.on("tap",Pg),co.on("mouseup",Rm),co.on("mousedown",fb),co.on("ScrollWindow",mb),co.on("ResizeWindow",Uy),co.on("ResizeEditor",Lg),co.on("AfterProgressState",Nm),co.on("DismissPopups",Bp),Dt([os,...ur],Un=>{Un.element.dom.addEventListener("focusin",kv),Un.element.dom.addEventListener("focusout",wv)})}),co.on("remove",()=>{co.off("click",Pg),co.off("tap",Pg),co.off("mouseup",Rm),co.off("mousedown",fb),co.off("ScrollWindow",mb),co.off("ResizeWindow",Uy),co.off("ResizeEditor",Lg),co.off("AfterProgressState",Nm),co.off("DismissPopups",Bp),Dt([os,...ur],Un=>{Un.element.dom.removeEventListener("focusin",kv),Un.element.dom.removeEventListener("focusout",wv)}),Mp.unbind(),Np.unbind(),jy.unbind(),Ig.unbind(),vv.unbind(),xv.unbind()}),co.on("detach",()=>{Dt([os,...ur],Lw),Dt([os,...ur],Un=>Un.destroy())})})(n,Ue.mothership,gt),u.setup(n,W.popup.shared,P),ZM(n,W.popup),YM(n,W.popup.shared.getSink,W.popup),(co=>{const{sidebars:os}=co.ui.registry.getAll();Dt(qo(os),ur=>{const ji=os[ur],Ui=()=>Rs(T.from(co.queryCommandValue("ToggleSidebar")),ur);co.ui.registry.addToggleButton(ur,{icon:ji.icon,tooltip:ji.tooltip,onAction:Qa=>{co.execCommand("ToggleSidebar",!1,ur),Qa.setActive(Ui())},onSetup:Qa=>{Qa.setActive(Ui());const La=()=>Qa.setActive(Ui());return co.on("ToggleSidebar",La),()=>{co.off("ToggleSidebar",La)}}})})})(n),AT(n,q,W.popup.shared),$M(n,ro,Fe.sink,{backstage:W.popup}),KO(n,Fe.sink);const En={targetNode:n.getElement(),height:ne(Ue.outerContainer)};return l.render(n,qe,ts,W.popup,En)})({popupUi:Ee,dialogUi:be,mainUi:se,uiMotherships:f.getUiMotherships()})}}},sB=ce([Ge("lazySink"),sn("dragBlockClass"),kr("getBounds",Qs),Ae("useTabstopAt",Pt),Ae("firstTabstop",0),Ae("eventOrder",{}),It("modalBehaviours",[Jt]),fl("onExecute"),Ai("onEscape")]),e4={sketch:Tt},t4=ce([wd({name:"draghandle",overrides:(n,s)=>({behaviours:ft([db.config({mode:"mouse",getTarget:i=>tm(i,'[role="dialog"]').getOr(i),blockerClass:n.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(s,null,2)).message),getBounds:n.getDragBounds})])})}),hl({schema:[Ge("dom")],name:"title"}),hl({factory:e4,schema:[Ge("dom")],name:"close"}),hl({factory:e4,schema:[Ge("dom")],name:"body"}),wd({factory:e4,schema:[Ge("dom")],name:"footer"}),Ru({factory:{sketch:(n,s)=>({...n,dom:s.dom,components:s.components})},schema:[Ae("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Ae("components",[])],name:"blocker"})]),ws=Dl({name:"ModalDialog",configFields:sB(),partFields:t4(),factory:(n,s,i,l)=>{const u=Cn(),f=Bt("modal-events"),p={...n.eventOrder,[Ba()]:[f].concat(n.eventOrder["alloy.system.attached"]||[])},b=la();return{uid:n.uid,dom:n.dom,components:s,apis:{show:y=>{u.set(y);const w=n.lazySink(y).getOrDie(),E=l.blocker(),C=w.getSystem().build({...E,components:E.components.concat([Qi(y)]),behaviours:ft([wo.config({}),Zo("dialog-blocker-events",[Ud(Fn(),()=>{iu.isBlocked(y)||Jt.focusIn(y)})])])});gf(w,C),Jt.focusIn(y)},hide:y=>{u.clear(),Vs(y.element).each(w=>{y.getSystem().getByDom(w).each(E=>{tl(E)})})},getBody:y=>hp(y,n,"body"),getFooter:y=>Tr(y,n,"footer"),setIdle:y=>{iu.unblock(y)},setBusy:(y,w)=>{iu.block(y,w)}},eventOrder:p,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:$o(n.modalBehaviours,[fo.config({}),Jt.config({mode:"cyclic",onEnter:n.onExecute,onEscape:n.onEscape,useTabstopAt:n.useTabstopAt,firstTabstop:n.firstTabstop}),iu.config({getRoot:u.get}),Zo(f,[Er(y=>{const w=hp(y,n,"title").element,E=(C=>C.dom.textContent)(w);b.os.isMacOS()&&Lt(E)?lo(y.element,"aria-label",E):((C,O)=>{const B=Cr(C,"id").fold(()=>{const P=Bt("dialog-label");return lo(O,"id",P),P},Tt);lo(C,"aria-labelledby",B)})(y.element,w)})])])}},apis:{show:(n,s)=>{n.show(s)},hide:(n,s)=>{n.hide(s)},getBody:(n,s)=>n.getBody(s),getFooter:(n,s)=>n.getFooter(s),setBusy:(n,s,i)=>{n.setBusy(s,i)},setIdle:(n,s)=>{n.setIdle(s)}}}),aB=to([pa,U_].concat(Vh)),cv=Tl,o4=[X_("button"),Qd,$l("align","end",["start","end"]),Bx,eu,Yu("buttonType",["primary","secondary"])],sw=[...o4,Jd],n4=[Fl("type",["submit","cancel","custom"]),...sw],iB=[Fl("type",["menu"]),yg,w0,Qd,Ci("items",aB),...o4],lB=[...o4,Fl("type",["togglebutton"]),w0,Qd,yg,Ts("active",!1)],QO=zs("type",{submit:n4,cancel:n4,custom:n4,menu:iB,togglebutton:lB}),cB=[pa,Jd,Fl("level",["info","warn","error","success"]),q_,Ae("url","")],r4=to(cB),s4=[pa,Jd,eu,X_("button"),Qd,t8,Yu("buttonType",["primary","secondary","toolbar"]),Bx],a4=to(s4),Fy=[pa,U_],Ja=Fy.concat([G_]),dB=Fy.concat([Z_,eu]),uB=to(dB),eD=Tl,tD=Ja.concat([qE("auto")]),fB=to(tD),mB=Ic([Hh,Jd,q_]),pB=Ja.concat([Pi("storageKey","default")]),gB=to(pB),hB=ta,bB=to(Ja),yB=ta,oD=Fy.concat([Pi("tag","textarea"),qr("scriptId"),qr("scriptUrl"),uc("onFocus"),li("settings",void 0,$p)]),vB=Fy.concat([Pi("tag","textarea"),ii("init")]),xB=Pd(n=>Ir("customeditor.old",ea(vB),n).orThunk(()=>Ir("customeditor.new",ea(oD),n))),kB=ta,nD=to(Ja),i4=Bc(Mc),rD=n=>[pa,gu("columns"),n],sD=[pa,qr("html"),$l("presets","presentation",["presentation","document"]),kr("onInit",at),Ts("stretched",!1)],aD=to(sD),iD=Ja.concat([Ts("border",!1),Ts("sandboxed",!0),Ts("streamContent",!1),Ts("transparent",!0)]),l4=to(iD),wB=ta,c4=to(Fy.concat([Gr("height")])),Hy=to([qr("url"),Fc("zoom"),Fc("cachedWidth"),Fc("cachedHeight")]),lD=Ja.concat([Gr("inputMode"),Gr("placeholder"),Ts("maximized",!1),eu]),cD=to(lD),dD=ta,_B=n=>[pa,Z_,n,$l("align","start",["start","center","end"]),Gr("for")],CB=[Jd,Hh],aw=[Jd,Ci("items",Pf(0,()=>uD))],uD=mu([to(CB),to(aw)]),SB=Ja.concat([Ci("items",uD),eu]),fD=to(SB),mD=ta,d4=Ja.concat([hu("items",[Jd,Hh]),vs("size",1),eu]),pD=to(d4),Xl=ta,gD=Ja.concat([Ts("constrain",!0),eu]),EB=to(gD),hD=to([qr("width"),qr("height")]),bD=Fy.concat([Z_,vs("min",0),vs("max",0)]),AB=to(bD),zB=ud,TB=[pa,Ci("header",ta),Ci("cells",Bc(ta))],yD=to(TB),Dm=Ja.concat([Gr("placeholder"),Ts("maximized",!1),eu]),u4=to(Dm),vD=ta,dv=[Fl("type",["directory","leaf"]),W_,qr("id"),ys("menu",_T)],iw=to(dv),OB=dv.concat([Ci("children",Pf(0,()=>Lc("type",{directory:xD,leaf:iw})))]),xD=to(OB),DB=Lc("type",{directory:xD,leaf:iw}),RB=[pa,Ci("items",DB),uc("onLeafAction"),uc("onToggleExpand"),Wn("defaultExpandedIds",[],ta),Gr("defaultSelectedId")],NB=to(RB),MB=Ja.concat([$l("filetype","file",["image","media","file"]),eu,Gr("picker_text")]),BB=to(MB),kD=to([Hh,od]),f4=n=>bs("items","items",{tag:"required",process:{}},Bc(Pd(s=>Ir(`Checking item of ${n}`,$u,s).fold(i=>en.error(_i(i)),i=>en.value(i))))),$u=Gu(()=>{return Lc("type",{alertbanner:r4,bar:to((n=f4("bar"),[pa,n])),button:a4,checkbox:uB,colorinput:gB,colorpicker:bB,dropzone:nD,grid:to(rD(f4("grid"))),iframe:l4,input:cD,listbox:fD,selectbox:pD,sizeinput:EB,slider:AB,textarea:u4,urlinput:BB,customeditor:xB,htmlpanel:aD,imagepreview:c4,collection:fB,label:to(_B(f4("label"))),table:yD,tree:NB,panel:wD});var n}),lw=[pa,Ae("classes",[]),Ci("items",$u)],wD=to(lw),IB=[X_("tab"),W_,Ci("items",$u)],_D=[pa,hu("tabs",IB)],CD=to(_D),m4=sw,cw=QO,uv=to([qr("title"),ca("body",Lc("type",{panel:wD,tabpanel:CD})),Pi("size","normal"),Wn("buttons",[],cw),Ae("initialData",{}),kr("onAction",at),kr("onChange",at),kr("onSubmit",at),kr("onClose",at),kr("onCancel",at),kr("onTabChange",at)]),fv=to([Fl("type",["cancel","custom"]),...m4]),SD=to([qr("title"),qr("url"),Fc("height"),Fc("width"),Um("buttons",fv),kr("onAction",at),kr("onCancel",at),kr("onClose",at),kr("onMessage",at)]),dw=n=>sr(n)?[n].concat(kn($s(n),dw)):Ko(n)?kn(n,dw):[],ED=n=>Do(n.type)&&Do(n.name),AD={checkbox:eD,colorinput:hB,colorpicker:yB,dropzone:i4,input:dD,iframe:wB,imagepreview:Hy,selectbox:Xl,sizeinput:hD,slider:zB,listbox:mD,size:hD,textarea:vD,urlinput:kD,customeditor:kB,collection:mB,togglemenuitem:cv},PB=n=>{const s=(l=>Nn(dw(l),ED))(n),i=kn(s,l=>(u=>T.from(AD[u.type]))(l).fold(()=>[],u=>[ca(l.name,u)]));return to(i)},zD=n=>{var s;return{internalDialog:ai(Ir("dialog",uv,n)),dataValidator:PB(n),initialData:(s=n.initialData)!==null&&s!==void 0?s:{}}},ub={open:(n,s)=>{const i=zD(s);return n(i.internalDialog,i.initialData,i.dataValidator)},openUrl:(n,s)=>n(ai(Ir("dialog",SD,s))),redial:n=>zD(n)};var LB=Object.freeze({__proto__:null,events:(n,s)=>{const i=(l,u)=>{n.updateState.each(f=>{const p=f(l,u);s.set(p)}),n.renderComponents.each(f=>{const p=f(u,s.get());(n.reuseDom?g_:Dh)(l,p)})};return zo([je(Ji(),(l,u)=>{const f=u;if(!f.universal){const p=n.channel;we(f.channels,p)&&i(l,f.data)}}),Er((l,u)=>{n.initialData.each(f=>{i(l,f)})})])}}),FB=Object.freeze({__proto__:null,getState:(n,s,i)=>i}),TD=[Ge("channel"),sn("renderComponents"),sn("updateState"),sn("initialData"),Ts("reuseDom",!0)];const Cc=ua({fields:TD,name:"reflecting",active:LB,apis:FB,state:Object.freeze({__proto__:null,init:()=>{const n=Ut(T.none());return{readState:()=>n.get().getOr("none"),get:n.get,set:n.set,clear:()=>n.set(T.none())}}})}),OD=n=>{const s=[],i={};return or(n,(l,u)=>{l.fold(()=>{s.push(u)},f=>{i[u]=f})}),s.length>0?en.error(s):en.value(i)},DD=(n,s,i,l)=>{const u=Jn(Eg.sketch(p=>({dom:{tag:"div",classes:["tox-form"].concat(n.classes)},components:nt(n.items,b=>Ik(p,b,s,i,l))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[u.asSpec()]}],behaviours:ft([Jt.config({mode:"acyclic",useTabstopAt:$r(Ay)}),(f=u,On.config({find:f.getOpt})),aC(u,{postprocess:p=>OD(p).fold(b=>(console.error(b),{}),Tt)}),Zo("dialog-body-panel",[je(Fn(),(p,b)=>{p.getSystem().broadcastOn([Sk],{newFocus:T.some(b.event.target)})})])])};var f},HB=_d({name:"TabButton",configFields:[Ae("uid",void 0),Ge("value"),bs("dom","dom",fn(()=>({attributes:{role:"tab",id:Bt("aria"),"aria-selected":"false"}})),Xi()),sn("action"),Ae("domModification",{}),It("tabButtonBehaviours",[wo,Jt,De]),Ge("view")],factory:(n,s)=>({uid:n.uid,dom:n.dom,components:n.components,events:ay(n.action),behaviours:$o(n.tabButtonBehaviours,[wo.config({}),Jt.config({mode:"execution",useSpace:!0,useEnter:!0}),De.config({store:{mode:"memory",initialValue:n.value}})]),domModification:n.domModification})}),RD=ce([Ge("tabs"),Ge("dom"),Ae("clickToDismiss",!1),It("tabbarBehaviours",[tr,Jt]),ep(["tabClass","selectedClass"])]),mv=Kv({factory:HB,name:"tabs",unit:"tab",overrides:n=>{const s=(l,u)=>{tr.dehighlight(l,u),qt(l,pt(),{tabbar:l,button:u})},i=(l,u)=>{tr.highlight(l,u),qt(l,Zf(),{tabbar:l,button:u})};return{action:l=>{const u=l.getSystem().getByUid(n.uid).getOrDie(),f=tr.isHighlighted(u,l);(f&&n.clickToDismiss?s:f?at:i)(u,l)},domModification:{classes:[n.markers.tabClass]}}}}),$B=ce([mv]),p4=Dl({name:"Tabbar",configFields:RD(),partFields:$B(),factory:(n,s,i,l)=>({uid:n.uid,dom:n.dom,components:s,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:$o(n.tabbarBehaviours,[tr.config({highlightClass:n.markers.selectedClass,itemClass:n.markers.tabClass,onHighlight:(u,f)=>{lo(f.element,"aria-selected","true")},onDehighlight:(u,f)=>{lo(f.element,"aria-selected","false")}}),Jt.config({mode:"flow",getInitial:u=>tr.getHighlighted(u).map(f=>f.element),selector:"."+n.markers.tabClass,executeOnMove:!0})])})}),VB=_d({name:"Tabview",configFields:[It("tabviewBehaviours",[fo])],factory:(n,s)=>({uid:n.uid,dom:n.dom,behaviours:$o(n.tabviewBehaviours,[fo.config({})]),domModification:{attributes:{role:"tabpanel"}}})}),jB=ce([Ae("selectFirst",!0),Sn("onChangeTab"),Sn("onDismissTab"),Ae("tabs",[]),It("tabSectionBehaviours",[])]),UB=hl({factory:p4,schema:[Ge("dom"),Hl("markers",[Ge("tabClass"),Ge("selectedClass")])],name:"tabbar",defaults:n=>({tabs:n.tabs})}),ZB=hl({factory:VB,name:"tabview"}),ND=ce([UB,ZB]),$y=Dl({name:"TabSection",configFields:jB(),partFields:ND(),factory:(n,s,i,l)=>{const u=(f,p)=>{Tr(f,n,"tabbar").each(b=>{p(b).each(jd)})};return{uid:n.uid,dom:n.dom,components:s,behaviours:go(n.tabSectionBehaviours),events:zo(Hn([n.selectFirst?[Er((f,p)=>{u(f,tr.getFirst)})]:[],[je(Zf(),(f,p)=>{(b=>{const y=De.getValue(b);Tr(b,n,"tabview").each(w=>{H(n.tabs,E=>E.value===y).each(E=>{const C=E.view();Cr(b.element,"id").each(O=>{lo(w.element,"aria-labelledby",O)}),fo.set(w,C),n.onChangeTab(w,b,C)})})})(p.event.button)}),je(pt(),(f,p)=>{const b=p.event.button;n.onDismissTab(f,b)})]])),apis:{getViewItems:f=>Tr(f,n,"tabview").map(p=>fo.contents(p)).getOr([]),showTab:(f,p)=>{u(f,b=>{const y=tr.getCandidates(b);return H(y,w=>De.getValue(w)===p).filter(w=>!tr.isHighlighted(b,w))})}}}},apis:{getViewItems:(n,s)=>n.getViewItems(s),showTab:(n,s,i)=>{n.showTab(s,i)}}}),g4=(n,s)=>{bo(n,"height",s+"px"),bo(n,"flex-basis",s+"px")},Vy=(n,s,i)=>{tm(n,'[role="dialog"]').each(l=>{es(l,'[role="tablist"]').each(u=>{i.get().map(f=>(bo(s,"height","0"),bo(s,"flex-basis","0"),Math.min(f,((p,b,y)=>{const w=Ni(p).dom,E=tm(p,".tox-dialog-wrap").getOr(p);let C;C=yr(E,"position")==="fixed"?Math.max(w.clientHeight,window.innerHeight):Math.max(w.offsetHeight,w.scrollHeight);const O=vr(b),B=b.dom.offsetLeft>=y.dom.offsetLeft+To(y)?Math.max(vr(y),O):O,P=parseInt(yr(p,"margin-top"),10)||0,Z=parseInt(yr(p,"margin-bottom"),10)||0;return C-(vr(p)+P+Z-B)})(l,s,u)))).each(f=>{g4(s,f)})})})},Af=n=>es(n,'[role="tabpanel"]'),uw="send-data-to-section",h4="send-data-to-view",MD=(n,s,i,l)=>{const u=Ut({}),f=E=>{const C=De.getValue(E),O=OD(C).getOr({}),B=u.get(),P=nr(B,O);u.set(P)},p=E=>{const C=u.get();De.setValue(E,C)},b=Ut(null),y=nt(n.tabs,E=>({value:E.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[Os(i.shared.providers.translate(E.title))],view:()=>[Eg.sketch(C=>({dom:{tag:"div",classes:["tox-form"]},components:nt(E.items,O=>Ik(C,O,s,i,l)),formBehaviours:ft([Jt.config({mode:"acyclic",useTabstopAt:$r(Ay)}),Zo("TabView.form.events",[Er(p),jc(f)]),pl.config({channels:dl([{key:uw,value:{onReceive:f}},{key:h4,value:{onReceive:p}}])})])}))]})),w=(E=>{const C=Cn();return{extraEvents:[Er(B=>{const P=B.element;Af(P).each(Z=>{bo(Z,"visibility","hidden"),B.getSystem().getByDom(Z).toOptional().each(K=>{const oe=((W,J,ne)=>nt(W,(se,be)=>{fo.set(ne,W[be].view());const Ee=J.dom.getBoundingClientRect();return fo.set(ne,[]),Ee.height}))(E,Z,K);(W=>rt(Re(W,(J,ne)=>J>ne?-1:J<ne?1:0)))(oe).fold(C.clear,C.set)}),Vy(P,Z,C),_n(Z,"visibility"),((K,oe)=>{rt(K).each(q=>$y.showTab(oe,q.value))})(E,B),requestAnimationFrame(()=>{Vy(P,Z,C)})})}),je(Hd(),B=>{const P=B.element;Af(P).each(Z=>{Vy(P,Z,C)})}),je(tk,(B,P)=>{const Z=B.element;Af(Z).each(K=>{const oe=yd(Mr(K));bo(K,"visibility","hidden");const q=Sr(K,"height").map(J=>parseInt(J,10));_n(K,"height"),_n(K,"flex-basis");const W=K.dom.getBoundingClientRect().height;q.forall(J=>W>J)?(C.set(W),Vy(Z,K,C)):q.each(J=>{g4(K,J)}),_n(K,"visibility"),oe.each(Fi)})})],selectFirst:!1}})(y);return $y.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(E,C,O)=>{const B=De.getValue(C);qt(E,qA,{name:B,oldName:b.get()}),b.set(B)},tabs:y,components:[$y.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[p4.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:ft([wr.config({})])}),$y.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:w.selectFirst,tabSectionBehaviours:ft([Zo("tabpanel",w.extraEvents),Jt.config({mode:"acyclic"}),On.config({find:E=>rt($y.getViewItems(E))}),Qh(T.none(),E=>(E.getSystem().broadcastOn([uw],{}),u.get()),(E,C)=>{u.set(C),E.getSystem().broadcastOn([h4],{})})])})},fw=(n,s,i,l,u,f)=>({dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...i.map(p=>({id:p})).getOr({}),...u?{"aria-live":"polite"}:{}}},components:[],behaviours:ft([rC(0),Cc.config({channel:`${_z}-${s}`,updateState:(p,b)=>T.some({isTabPanel:()=>b.body.type==="tabpanel"}),renderComponents:p=>{const b=p.body;return b.type==="tabpanel"?[MD(b,p.initialData,l,f)]:[DD(b,p.initialData,l,f)]},initialData:n})])}),BD=xf.deviceType.isTouch(),pv=(n,s)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[n,s]}),b4=(n,s)=>ws.parts.close(Vi.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":s.translate("Close")}},action:n,buttonBehaviours:ft([wr.config({})])})),y4=()=>ws.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),ID=(n,s)=>ws.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:hm(`<p>${SE(s.translate(n))}</p>`)}]}]}),PD=n=>ws.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:n}),LD=(n,s)=>[Iu.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:n}),Iu.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:s})],v4=n=>{const s="tox-dialog",i=s+"-wrap",l=i+"__backdrop",u=s+"__disable-scroll";return ws.sketch({lazySink:n.lazySink,onEscape:f=>(n.onEscape(f),T.some(!0)),useTabstopAt:f=>!Ay(f),firstTabstop:n.firstTabstop,dom:{tag:"div",classes:[s].concat(n.extraClasses),styles:{position:"relative",...n.extraStyles}},components:[n.header,n.body,...n.footer.toArray()],parts:{blocker:{dom:hm(`<div class="${i}"></div>`),components:[{dom:{tag:"div",classes:BD?[l,l+"--opaque"]:[l]}}]}},dragBlockClass:i,modalBehaviours:ft([wo.config({}),Zo("dialog-events",n.dialogEvents.concat([Ud(Fn(),(f,p)=>{iu.isBlocked(f)||Jt.focusIn(f)}),je(jp(),(f,p)=>{f.getSystem().broadcastOn([Sk],{newFocus:p.event.newFocus})})])),Zo("scroll-lock",[Er(()=>{bt(ya(),u)}),jc(()=>{Kt(ya(),u)})]),...n.extraBehaviours]),eventOrder:{[Ei()]:["dialog-events"],[Ba()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[jl()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...n.eventOrder}})},FD=n=>Vi.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":n.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:ft([wr.config({}),Ys.config(n.tooltips.getConfig({tooltipText:n.translate("Close")}))]),components:[td("close",{tag:"span",classes:["tox-icon"]},n.icons)],action:s=>{Uo(s,Sp)}}),x4=(n,s,i,l)=>({dom:{tag:"h1",classes:["tox-dialog__title"],attributes:{...i.map(u=>({id:u})).getOr({})}},components:[],behaviours:ft([Cc.config({channel:`${pC}-${s}`,initialData:n,renderComponents:u=>[Os(l.translate(u.title))]})])}),k4=()=>({dom:hm('<div class="tox-dialog__draghandle"></div>')}),HD=(n,s,i)=>((l,u,f)=>{const p=ws.parts.title(x4(l,u,T.none(),f)),b=ws.parts.draghandle(k4()),y=ws.parts.close(FD(f)),w=[p].concat(l.draggable?[b]:[]).concat([y]);return Iu.sketch({dom:hm('<div class="tox-dialog__header"></div>'),components:w})})({title:i.shared.providers.translate(n),draggable:i.dialog.isDraggableModal()},s,i.shared.providers),$D=(n,s,i,l)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":i.translate(n)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${l.getOr(0)}px`,position:"absolute"}},behaviours:s,components:[{dom:hm('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),VD=(n,s,i)=>({onClose:()=>i.closeWindow(),onBlock:l=>{const u=es(n().element,".tox-dialog__header").map(f=>vr(f));ws.setBusy(n(),(f,p)=>$D(l.message,p,s,u))},onUnblock:()=>{ws.setIdle(n())}}),gv="tox-dialog--fullscreen",w4="tox-dialog--width-lg",_4="tox-dialog--width-md",hv=n=>{switch(n){case"large":return T.some(w4);case"medium":return T.some(_4);default:return T.none()}},C4=(n,s)=>{const i=Et(s.element.dom);an(i,gv)||(qn(i,[w4,_4]),hv(n).each(l=>bt(i,l)))},jD=(n,s)=>{const i=Et(n.element.dom),l=fa(i),u=H(l,f=>f===w4||f===_4).or(hv(s));((f,p)=>{Dt(p,b=>{((y,w)=>{Q(y)?y.dom.classList.toggle(w):((E,C)=>we(xe(E),C)?ht(E,C):We(E,C))(y,w),ko(y)})(f,b)})})(i,[gv,...u.toArray()])},UD=(n,s,i)=>Ya(v4({...n,firstTabstop:1,lazySink:i.shared.getSink,extraBehaviours:[$0({}),...n.extraBehaviours],onEscape:l=>{Uo(l,Sp)},dialogEvents:s,eventOrder:{[Ji()]:[Cc.name(),pl.name()],[Ba()]:["scroll-lock",Cc.name(),"messages","dialog-events","alloy.base.behaviour"],[jl()]:["alloy.base.behaviour","dialog-events","messages",Cc.name(),"scroll-lock"]}})),bv=(n,s={})=>nt(n,i=>i.type==="menu"?(l=>{const u=nt(l.items,f=>{const p=dt(s,f.name).getOr(Ut(!1));return{...f,storage:p}});return{...l,items:u}})(i):i),ZD=n=>Co(n,(s,i)=>i.type==="menu"?Co(i.items,(l,u)=>(l[u.name]=u.storage,l),s):s,{}),S4=(n,s)=>[Qu(Fn(),t6),n(_g,(i,l,u,f)=>{yd(Mr(f.element)).fold(at,rh),s.onClose(),l.onClose()}),n(Sp,(i,l,u,f)=>{l.onCancel(i),Uo(f,_g)}),je(M2,(i,l)=>s.onUnblock()),je(N2,(i,l)=>s.onBlock(l.event))],WD=(n,s,i)=>{const l=(f,p)=>je(f,(b,y)=>{u(b,(w,E)=>{p(n(),w,y.event,b)})}),u=(f,p)=>{Cc.getState(f).get().each(b=>{p(b.internalDialog,f)})};return[...S4(l,s),l(I0,(f,p)=>p.onSubmit(f)),l(rl,(f,p,b)=>{p.onChange(f,{name:b.name})}),l(Sf,(f,p,b,y)=>{const w=()=>y.getSystem().isConnected()?Jt.focusIn(y):void 0,E=B=>tc(B,"disabled")||Cr(B,"aria-disabled").exists(P=>P==="true"),C=Mr(y.element),O=yd(C);p.onAction(f,{name:b.name,value:b.value}),yd(C).fold(w,B=>{E(B)||O.exists(P=>ns(B,P)&&E(P))?w():i().toOptional().filter(P=>!ns(P.element,B)).each(w)})}),l(qA,(f,p,b)=>{p.onTabChange(f,{newTabName:b.name,oldTabName:b.oldName})}),jc(f=>{const p=n();De.setValue(f,p.getData())})]},WB=(n,s)=>{const i=s.map(f=>f.footerButtons).getOr([]),l=Wr(i,f=>f.align==="start"),u=(f,p)=>Iu.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${f}`]},components:nt(p,b=>b.memento.asSpec())});return[u("start",l.pass),u("end",l.fail)]},qD=(n,s,i)=>({dom:hm('<div class="tox-dialog__footer"></div>'),components:[],behaviours:ft([Cc.config({channel:`${Cz}-${s}`,initialData:n,updateState:(l,u)=>{const f=nt(u.buttons,p=>{const b=Jn(((y,w)=>Oy(y,y.type,w))(p,i));return{name:p.name,align:p.align,memento:b}});return T.some({lookupByName:p=>((b,y,w)=>H(y,E=>E.name===w).bind(E=>E.memento.getOpt(b)))(l,f,p),footerButtons:f})},renderComponents:WB})])}),E4=(n,s,i)=>ws.parts.footer(qD(n,s,i)),yv=(n,s)=>{if(n.getRoot().getSystem().isConnected()){const i=On.getCurrent(n.getFormWrapper()).getOr(n.getFormWrapper());return Eg.getField(i,s).orThunk(()=>n.getFooter().bind(u=>Cc.getState(u).get()).bind(u=>u.lookupByName(s)))}return T.none()},GD=(n,s,i)=>{const l=f=>{const p=n.getRoot();p.getSystem().isConnected()&&f(p)},u={getData:()=>{const f=n.getRoot(),p=f.getSystem().isConnected()?n.getFormWrapper():f;return{...De.getValue(p),...$n(i,b=>b.get())}},setData:f=>{l(p=>{const b=u.getData(),y=nr(b,f),w=((C,O)=>{const B=C.getRoot();return Cc.getState(B).get().map(P=>ai(Ir("data",P.dataValidator,O))).getOr(O)})(n,y),E=n.getFormWrapper();De.setValue(E,w),or(i,(C,O)=>{no(y,O)&&C.set(y[O])})})},setEnabled:(f,p)=>{yv(n,f).each(p?Eo.enable:Eo.disable)},focus:f=>{yv(n,f).each(wo.focus)},block:f=>{if(!Do(f))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");l(p=>{qt(p,N2,{message:f})})},unblock:()=>{l(f=>{Uo(f,M2)})},showTab:f=>{l(p=>{const b=n.getBody();Cc.getState(b).get().exists(y=>y.isTabPanel())&&On.getCurrent(b).each(y=>{$y.showTab(y,f)})})},redial:f=>{l(p=>{const b=n.getId(),y=s(f),w=bv(y.internalDialog.buttons,i);p.getSystem().broadcastOn([`${Ag}-${b}`],y),p.getSystem().broadcastOn([`${pC}-${b}`],y.internalDialog),p.getSystem().broadcastOn([`${_z}-${b}`],y.internalDialog),p.getSystem().broadcastOn([`${Cz}-${b}`],{...y.internalDialog,buttons:w}),u.setData(y.initialData)})},close:()=>{l(f=>{Uo(f,_g)})},toggleFullscreen:n.toggleFullscreen};return u},KD=(n,s,i,l=!1,u)=>{const f=Bt("dialog"),p=Bt("dialog-label"),b=Bt("dialog-content"),y=n.internalDialog,w=Ut(y.size),E=hv(w.get()).toArray(),C=Jn(((ne,se,be,Ee)=>Iu.sketch({dom:hm('<div class="tox-dialog__header"></div>'),components:[x4(ne,se,T.some(be),Ee),k4(),FD(Ee)],containerBehaviours:ft([db.config({mode:"mouse",blockerClass:"blocker",getTarget:qe=>Wd(qe,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}))({title:y.title,draggable:!0},f,p,i.shared.providers)),O=Jn(((ne,se,be,Ee,qe,Ue)=>fw(ne,se,T.some(be),Ee,qe,Ue))({body:y.body,initialData:y.initialData},f,b,i,l,ne=>yv(W,ne))),B=bv(y.buttons),P=ZD(B),Z=Bo(B.length!==0,Jn(((ne,se,be)=>qD(ne,se,be))({buttons:B},f,i))),K=WD(()=>J,{onBlock:ne=>{iu.block(q,(se,be)=>{const Ee=C.getOpt(q).map(qe=>vr(qe.element));return $D(ne.message,be,i.shared.providers,Ee)})},onUnblock:()=>{iu.unblock(q)},onClose:()=>s.closeWindow()},i.shared.getSink),oe=la().os,q=Ya({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline",...E],attributes:{role:"dialog",...oe.isMacOS()?{"aria-label":y.title}:{"aria-labelledby":p}}},eventOrder:{[Ji()]:[Cc.name(),pl.name()],[Ei()]:["execute-on-form"],[Ba()]:["reflecting","execute-on-form"]},behaviours:ft([Jt.config({mode:"cyclic",onEscape:ne=>(Uo(ne,_g),T.some(!0)),useTabstopAt:ne=>!Ay(ne)&&(ba(ne)!=="button"||gs(ne,"disabled")!=="disabled"),firstTabstop:1}),Cc.config({channel:`${Ag}-${f}`,updateState:(ne,se)=>(w.set(se.internalDialog.size),C4(se.internalDialog.size,ne),u(),T.some(se)),initialData:n}),wo.config({}),Zo("execute-on-form",K.concat([Ud(Fn(),(ne,se)=>{Jt.focusIn(ne)}),je(jp(),(ne,se)=>{ne.getSystem().broadcastOn([Sk],{newFocus:se.event.newFocus})})])),iu.config({getRoot:()=>T.some(q)}),fo.config({}),$0({})]),components:[C.asSpec(),O.asSpec(),...Z.map(ne=>ne.asSpec()).toArray()]}),W={getId:ce(f),getRoot:ce(q),getFooter:()=>Z.map(ne=>ne.get(q)),getBody:()=>O.get(q),getFormWrapper:()=>{const ne=O.get(q);return On.getCurrent(ne).getOr(ne)},toggleFullscreen:()=>{jD(q,w.get())}},J=GD(W,s.redial,P);return{dialog:q,instanceApi:J}};var A4=tinymce.util.Tools.resolve("tinymce.util.URI");const qB=["insertContent","setContent","execCommand","close","block","unblock"],z4=n=>sr(n)&&qB.indexOf(n.mceAction)!==-1,GB=(n,s,i,l)=>{const u=Bt("dialog"),f=HD(n.title,u,l),p=(oe=>{const q={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[fC(T.none(),{dom:{tag:"iframe",attributes:{src:oe.url}},behaviours:ft([wr.config({}),wo.config({})])})]}],behaviours:ft([Jt.config({mode:"acyclic",useTabstopAt:$r(Ay)})])};return ws.parts.body(q)})(n),b=n.buttons.bind(oe=>oe.length===0?T.none():T.some(E4({buttons:oe},u,l))),y=((oe,q)=>{const W=(ne,se)=>je(ne,(be,Ee)=>{J(be,(qe,Ue)=>{se(K,qe,Ee.event,be)})}),J=(ne,se)=>{Cc.getState(ne).get().each(be=>{se(be,ne)})};return[...S4(W,q),W(Sf,(ne,se,be)=>{se.onAction(ne,{name:be.name})})]})(0,VD(()=>Z,l.shared.providers,s)),w={...n.height.fold(()=>({}),oe=>({height:oe+"px","max-height":oe+"px"})),...n.width.fold(()=>({}),oe=>({width:oe+"px","max-width":oe+"px"}))},E=n.width.isNone()&&n.height.isNone()?["tox-dialog--width-lg"]:[],C=new A4(n.url,{base_uri:new A4(window.location.href)}),O=`${C.protocol}://${C.host}${C.port?":"+C.port:""}`,B=Il(),P=[Cc.config({channel:`${Ag}-${u}`,updateState:(oe,q)=>T.some(q),initialData:n}),Zo("messages",[Er(()=>{const oe=Hi(Et(window),"message",q=>{if(C.isSameOrigin(new A4(q.raw.origin))){const W=q.raw.data;z4(W)?((J,ne,se)=>{switch(se.mceAction){case"insertContent":J.insertContent(se.content);break;case"setContent":J.setContent(se.content);break;case"execCommand":const be=!!tn(se.ui)&&se.ui;J.execCommand(se.cmd,be,se.value);break;case"close":ne.close();break;case"block":ne.block(se.message);break;case"unblock":ne.unblock()}})(i,K,W):(J=>!z4(J)&&sr(J)&&no(J,"mceAction"))(W)&&n.onMessage(K,W)}});B.set(oe)}),jc(B.clear)]),pl.config({channels:{[gC]:{onReceive:(oe,q)=>{es(oe.element,"iframe").each(W=>{const J=W.dom.contentWindow;Lt(J)&&J.postMessage(q,O)})}}}})],Z=UD({id:u,header:f,body:p,footer:b,extraClasses:E,extraBehaviours:P,extraStyles:w},y,l),K=(oe=>{const q=W=>{oe.getSystem().isConnected()&&W(oe)};return{block:W=>{if(!Do(W))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");q(J=>{qt(J,N2,{message:W})})},unblock:()=>{q(W=>{Uo(W,M2)})},close:()=>{q(W=>{Uo(W,_g)})},sendMessage:W=>{q(J=>{J.getSystem().broadcastOn([gC],W)})}}})(Z);return{dialog:Z,instanceApi:K}},T4=(n,s)=>ai(Ir("data",s,n)),YD=n=>Cy(n,".tox-alert-dialog")||Cy(n,".tox-confirm-dialog"),KB=(n,s,i)=>s&&i?[]:[Qr.config({contextual:{lazyContext:()=>T.some(As(Et(n.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:l=>fg(n,l.element).map(u=>({bounds:mg(u),optScrollEnv:T.some({currentScrollTop:u.element.dom.scrollTop,scrollElmTop:Ve(u.element).top})})).getOrThunk(()=>({bounds:Qs(),optScrollEnv:T.none()}))})],YB=n=>{const s=n.editor,i=vp(s),l=(y=>{const w=y.shared;return{open:(E,C)=>{const O=()=>{ws.hide(K),C()},B=Jn(Oy({name:"close-alert",text:"OK",primary:!0,buttonType:T.some("primary"),align:"end",enabled:!0,icon:T.none()},"cancel",y)),P=y4(),Z=b4(O,w.providers),K=Ya(v4({lazySink:()=>w.getSink(),header:pv(P,Z),body:ID(E,w.providers),footer:T.some(PD(LD([],[B.asSpec()]))),onEscape:O,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[je(Sp,O)],eventOrder:{}}));ws.show(K);const oe=B.get(K);wo.focus(oe)}}})(n.backstages.dialog),u=(y=>{const w=y.shared;return{open:(E,C)=>{const O=W=>{ws.hide(oe),C(W)},B=Jn(Oy({name:"yes",text:"Yes",primary:!0,buttonType:T.some("primary"),align:"end",enabled:!0,icon:T.none()},"submit",y)),P=Oy({name:"no",text:"No",primary:!1,buttonType:T.some("secondary"),align:"end",enabled:!0,icon:T.none()},"cancel",y),Z=y4(),K=b4(()=>O(!1),w.providers),oe=Ya(v4({lazySink:()=>w.getSink(),header:pv(Z,K),body:ID(E,w.providers),footer:T.some(PD(LD([],[P,B.asSpec()]))),onEscape:()=>O(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[je(Sp,()=>O(!1)),je(I0,()=>O(!0))],eventOrder:{}}));ws.show(oe);const q=B.get(oe);wo.focus(q)}}})(n.backstages.dialog),f=(y,w)=>ub.open((E,C,O)=>{const B=C,P=((Z,K,oe)=>{const q=Bt("dialog"),W=Z.internalDialog,J=HD(W.title,q,oe),ne=Ut(W.size),se=hv(ne.get()).toArray(),be=((Ao,ln,Lr,ts)=>{const Wo=fw(Ao,ln,T.none(),Lr,!1,ts);return ws.parts.body(Wo)})({body:W.body,initialData:W.initialData},q,oe,Ao=>yv(Zt,Ao)),Ee=bv(W.buttons),qe=ZD(Ee),Ue=Bo(Ee.length!==0,E4({buttons:Ee},q,oe)),Fe=WD(()=>ro,VD(()=>Rt,oe.shared.providers,K),oe.shared.getSink),gt={id:q,header:J,body:be,footer:Ue,extraClasses:se,extraBehaviours:[Cc.config({channel:`${Ag}-${q}`,updateState:(Ao,ln)=>(ne.set(ln.internalDialog.size),C4(ln.internalDialog.size,Ao),T.some(ln)),initialData:Z})],extraStyles:{}},Rt=UD(gt,Fe,oe),Zt={getId:ce(q),getRoot:ce(Rt),getBody:()=>ws.getBody(Rt),getFooter:()=>ws.getFooter(Rt),getFormWrapper:()=>{const Ao=ws.getBody(Rt);return On.getCurrent(Ao).getOr(Ao)},toggleFullscreen:()=>{jD(Rt,ne.get())}},ro=GD(Zt,K.redial,qe);return{dialog:Rt,instanceApi:ro}})({dataValidator:O,initialData:B,internalDialog:E},{redial:ub.redial,closeWindow:()=>{ws.hide(P.dialog),w(P.instanceApi)}},n.backstages.dialog);return ws.show(P.dialog),P.instanceApi.setData(B),P.instanceApi},y),p=(y,w,E,C)=>ub.open((O,B,P)=>{const Z=T4(B,P),K=Cn(),oe=n.backstages.popup.shared.header.isPositionedAtTop(),q=()=>K.on(ne=>{ss.reposition(ne),i&&oe||Qr.refresh(ne)}),W=KD({dataValidator:P,initialData:Z,internalDialog:O},{redial:ub.redial,closeWindow:()=>{K.on(ss.hide),s.off("ResizeEditor",q),K.clear(),E(W.instanceApi)}},n.backstages.popup,C.ariaAttrs,q),J=Ya(ss.sketch({lazySink:n.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:C.persistent?{event:"doNotDismissYet"}:{},...oe?{}:{fireRepositionEventInstead:{}},inlineBehaviours:ft([Zo("window-manager-inline-events",[je(Xu(),(ne,se)=>{Uo(W.dialog,Sp)})]),...KB(s,i,oe)]),isExtraPart:(ne,se)=>YD(se)}));return K.set(J),ss.showWithinBounds(J,Qi(W.dialog),{anchor:w},()=>{const ne=s.inline?ya():Et(s.getContainer()),se=As(ne);return T.some(se)}),i&&oe||(Qr.refresh(J),s.on("ResizeEditor",q)),W.instanceApi.setData(Z),Jt.focusIn(W.dialog),W.instanceApi},y),b=(y,w,E,C)=>ub.open((O,B,P)=>{const Z=T4(B,P),K=Cn(),oe=n.backstages.popup.shared.header.isPositionedAtTop(),q=()=>K.on(ne=>{ss.reposition(ne),Qr.refresh(ne)}),W=KD({dataValidator:P,initialData:Z,internalDialog:O},{redial:ub.redial,closeWindow:()=>{K.on(ss.hide),s.off("ResizeEditor ScrollWindow ElementScroll",q),K.clear(),E(W.instanceApi)}},n.backstages.popup,C.ariaAttrs,q),J=Ya(ss.sketch({lazySink:n.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:C.persistent?{event:"doNotDismissYet"}:{},...oe?{}:{fireRepositionEventInstead:{}},inlineBehaviours:ft([Zo("window-manager-inline-events",[je(Xu(),(ne,se)=>{Uo(W.dialog,Sp)})]),Qr.config({contextual:{lazyContext:()=>T.some(As(Et(s.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:ne=>fg(s,ne.element).map(se=>({bounds:mg(se),optScrollEnv:T.some({currentScrollTop:se.element.dom.scrollTop,scrollElmTop:Ve(se.element).top})})).getOrThunk(()=>({bounds:Qs(),optScrollEnv:T.none()}))})]),isExtraPart:(ne,se)=>YD(se)}));return K.set(J),ss.showWithinBounds(J,Qi(W.dialog),{anchor:w},()=>n.backstages.popup.shared.getSink().toOptional().bind(ne=>{const se=fg(s,ne.element).map(qe=>mg(qe)).getOr(Qs()),be=As(Et(s.getContentAreaContainer())),Ee=ac(be,se);return T.some(Go(Ee.x,Ee.y,Ee.width,Ee.height-15))})),Qr.refresh(J),s.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",q),W.instanceApi.setData(Z),Jt.focusIn(W.dialog),W.instanceApi},y);return{open:(y,w,E)=>{if(!Yn(w)){if(w.inline==="toolbar")return p(y,n.backstages.popup.shared.anchors.inlineDialog(),E,w);if(w.inline==="bottom")return b(y,n.backstages.popup.shared.anchors.inlineBottomDialog(),E,w);if(w.inline==="cursor")return p(y,n.backstages.popup.shared.anchors.cursor(),E,w)}return f(y,E)},openUrl:(y,w)=>((E,C)=>ub.openUrl(O=>{const B=GB(O,{closeWindow:()=>{ws.hide(B.dialog),C(B.instanceApi)}},s,n.backstages.dialog);return ws.show(B.dialog),B.instanceApi},E))(y,w),alert:(y,w)=>{l.open(y,w)},close:y=>{y.close()},confirm:(y,w)=>{u.open(y,w)}}};uu.add("silver",n=>{(b=>{oE(b),(y=>{const w=y.options.register,E=O=>ar(O,Do)?{value:hN(O),valid:!0}:{valid:!1,message:"Must be an array of strings."},C=O=>Yo(O)&&O>0?{value:O,valid:!0}:{valid:!1,message:"Must be a positive number."};w("color_map",{processor:E,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),w("color_map_background",{processor:E}),w("color_map_foreground",{processor:E}),w("color_cols",{processor:C,default:qx(y)}),w("color_cols_foreground",{processor:C,default:CA(y,f2)}),w("color_cols_background",{processor:C,default:CA(y,m2)}),w("custom_colors",{processor:"boolean",default:!0}),w("color_default_foreground",{processor:"string",default:T0}),w("color_default_background",{processor:"string",default:T0})})(b),(y=>{const w=y.options.register;w("contextmenu_avoid_overlap",{processor:"string",default:""}),w("contextmenu_never_use_native",{processor:"boolean",default:!1}),w("contextmenu",{processor:E=>E===!1?{value:[],valid:!0}:Do(E)||ar(E,Do)?{value:vO(E),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})})(b)})(n);let s=()=>Qs();const{dialogs:i,popups:l,renderUI:u}=rB(n,{getPopupSinkBounds:()=>s()});jA(n,l.backstage.shared);const f=YB({editor:n,backstages:{popup:l.backstage,dialog:i.backstage}}),p=Cn();return{renderUI:()=>{const b=u();return fg(n,l.getMothership().element).each(y=>{s=()=>mg(y)}),b},getWindowManagerImpl:ce(f),getNotificationManagerImpl:()=>TE(n,{backstage:l.backstage},l.getMothership(),p)}})})();(function(){var Hr=tinymce.util.Tools.resolve("tinymce.ModelManager");const Hs=m=>h=>(x=>{const S=typeof x;return x===null?"null":S==="object"&&Array.isArray(x)?"array":S==="object"&&(D=R=x,($=String).prototype.isPrototypeOf(D)||((U=R.constructor)===null||U===void 0?void 0:U.name)===$.name)?"string":S;var D,R,$,U})(h)===m,is=m=>h=>typeof h===m,ms=m=>h=>m===h,Dr=Hs("string"),Do=Hs("object"),sr=Hs("array"),Qn=ms(null),Ko=is("boolean"),Rn=ms(void 0),tn=m=>!(h=>h==null)(m),Yn=is("function"),Rr=is("number"),Lt=()=>{},eo=m=>()=>m,Yo=m=>m,ar=(m,h)=>m===h;function at(m,...h){return(...x)=>{const S=h.concat(x);return m.apply(null,S)}}const it=m=>h=>!m(h),mt=m=>m(),ce=eo(!1),Tt=eo(!0);class ve{constructor(h,x){this.tag=h,this.value=x}static some(h){return new ve(!0,h)}static none(){return ve.singletonNone}fold(h,x){return this.tag?x(this.value):h()}isSome(){return this.tag}isNone(){return!this.tag}map(h){return this.tag?ve.some(h(this.value)):ve.none()}bind(h){return this.tag?h(this.value):ve.none()}exists(h){return this.tag&&h(this.value)}forall(h){return!this.tag||h(this.value)}filter(h){return!this.tag||h(this.value)?this:ve.none()}getOr(h){return this.tag?this.value:h}or(h){return this.tag?this:h}getOrThunk(h){return this.tag?this.value:h()}orThunk(h){return this.tag?this:h()}getOrDie(h){if(this.tag)return this.value;throw new Error(h??"Called getOrDie on None")}static from(h){return tn(h)?ve.some(h):ve.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(h){this.tag&&h(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ve.singletonNone=new ve(!1);const ct=Array.prototype.slice,$r=Array.prototype.indexOf,er=Array.prototype.push,Io=(m,h)=>{return x=m,S=h,$r.call(x,S)>-1;var x,S},$e=(m,h)=>{for(let x=0,S=m.length;x<S;x++)if(h(m[x],x))return!0;return!1},Pt=(m,h)=>{const x=[];for(let S=0;S<m;S++)x.push(h(S));return x},T=(m,h)=>{const x=m.length,S=new Array(x);for(let D=0;D<x;D++){const R=m[D];S[D]=h(R,D)}return S},_o=(m,h)=>{for(let x=0,S=m.length;x<S;x++)h(m[x],x)},Yt=(m,h)=>{const x=[],S=[];for(let D=0,R=m.length;D<R;D++){const $=m[D];(h($,D)?x:S).push($)}return{pass:x,fail:S}},Lo=(m,h)=>{const x=[];for(let S=0,D=m.length;S<D;S++){const R=m[S];h(R,S)&&x.push(R)}return x},hr=(m,h,x)=>(((S,D)=>{for(let R=S.length-1;R>=0;R--)D(S[R],R)})(m,(S,D)=>{x=h(x,S,D)}),x),we=(m,h,x)=>(_o(m,(S,D)=>{x=h(x,S,D)}),x),At=(m,h)=>((x,S,D)=>{for(let R=0,$=x.length;R<$;R++){const U=x[R];if(S(U,R))return ve.some(U);if(D(U,R))break}return ve.none()})(m,h,ce),dn=(m,h)=>{for(let x=0,S=m.length;x<S;x++)if(h(m[x],x))return ve.some(x);return ve.none()},kt=m=>{const h=[];for(let x=0,S=m.length;x<S;++x){if(!sr(m[x]))throw new Error("Arr.flatten item "+x+" was not an array, input: "+m);er.apply(h,m[x])}return h},nt=(m,h)=>kt(T(m,h)),Dt=(m,h)=>{for(let x=0,S=m.length;x<S;++x)if(h(m[x],x)!==!0)return!1;return!0},Wr=(m,h)=>{const x={};for(let S=0,D=m.length;S<D;S++){const R=m[S];x[String(R)]=h(R,S)}return x},Nn=(m,h)=>h>=0&&h<m.length?ve.some(m[h]):ve.none(),yn=m=>Nn(m,0),Co=m=>Nn(m,m.length-1),H=(m,h)=>{for(let x=0;x<m.length;x++){const S=h(m[x],x);if(S.isSome())return S}return ve.none()},ra=Object.keys,Hn=Object.hasOwnProperty,kn=(m,h)=>{const x=ra(m);for(let S=0,D=x.length;S<D;S++){const R=x[S];h(m[R],R)}},yi=(m,h)=>kl(m,(x,S)=>({k:S,v:h(x,S)})),kl=(m,h)=>{const x={};return kn(m,(S,D)=>{const R=h(S,D);x[R.k]=R.v}),x},on=(m,h)=>{const x=[];return kn(m,(S,D)=>{x.push(h(S,D))}),x},zn=m=>on(m,Yo),Jo=(m,h)=>Hn.call(m,h),Re=typeof window<"u"?window:Function("return this;")(),wt=(m,h)=>((x,S)=>{let D=S??Re;for(let R=0;R<x.length&&D!=null;++R)D=D[x[R]];return D})(m.split("."),h),rt=Object.getPrototypeOf,et=m=>{const h=wt("ownerDocument.defaultView",m);return Do(m)&&((x=>((S,D)=>{const R=(($,U)=>wt($,U))(S,D);if(R==null)throw new Error(S+" not available on this browser");return R})("HTMLElement",x))(h).prototype.isPrototypeOf(m)||/^HTML\w*Element$/.test(rt(m).constructor.name))},Gt=m=>m.dom.nodeName.toLowerCase(),uo=m=>m.dom.nodeType,qo=m=>h=>uo(h)===m,Tn=m=>uo(m)===8||Gt(m)==="#comment",or=m=>$n(m)&&et(m.dom),$n=qo(1),vn=qo(3),Nr=qo(9),Js=qo(11),Vn=m=>h=>$n(h)&&Gt(h)===m,_r=(m,h,x)=>{if(!(Dr(x)||Ko(x)||Rr(x)))throw console.error("Invalid call to Attribute.set. Key ",h,":: Value ",x,":: Element ",m),new Error("Attribute value was not simple");m.setAttribute(h,x+"")},Qo=(m,h,x)=>{_r(m.dom,h,x)},$s=(m,h)=>{const x=m.dom;kn(h,(S,D)=>{_r(x,D,S)})},dt=(m,h)=>{const x=m.dom.getAttribute(h);return x===null?void 0:x},no=(m,h)=>ve.from(dt(m,h)),Vo=(m,h)=>{m.dom.removeAttribute(h)},Rs=m=>we(m.dom.attributes,(h,x)=>(h[x.name]=x.value,h),{}),$a=m=>{if(m==null)throw new Error("Node cannot be null or undefined");return{dom:m}},st={fromHtml:(m,h)=>{const x=(h||document).createElement("div");if(x.innerHTML=m,!x.hasChildNodes()||x.childNodes.length>1){const S="HTML does not have a single root node";throw console.error(S,m),new Error(S)}return $a(x.childNodes[0])},fromTag:(m,h)=>{const x=(h||document).createElement(m);return $a(x)},fromText:(m,h)=>{const x=(h||document).createTextNode(m);return $a(x)},fromDom:$a,fromPoint:(m,h,x)=>ve.from(m.dom.elementFromPoint(h,x)).map($a)},Ta=(m,h)=>{const x=m.dom;if(x.nodeType!==1)return!1;{const S=x;if(S.matches!==void 0)return S.matches(h);if(S.msMatchesSelector!==void 0)return S.msMatchesSelector(h);if(S.webkitMatchesSelector!==void 0)return S.webkitMatchesSelector(h);if(S.mozMatchesSelector!==void 0)return S.mozMatchesSelector(h);throw new Error("Browser lacks native selectors")}},Bo=m=>m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11||m.childElementCount===0,vi=(m,h)=>{const x=h===void 0?document:h.dom;return Bo(x)?ve.none():ve.from(x.querySelector(m)).map(st.fromDom)},Xn=(m,h)=>m.dom===h.dom,ls=(m,h)=>{const x=m.dom,S=h.dom;return x!==S&&x.contains(S)},Wi=Ta,Ri=m=>st.fromDom(m.dom.ownerDocument),ti=m=>Nr(m)?m:Ri(m),Va=m=>ve.from(m.dom.parentNode).map(st.fromDom),qi=m=>ve.from(m.dom.parentElement).map(st.fromDom),Mn=(m,h)=>{const x=Yn(h)?h:ce;let S=m.dom;const D=[];for(;S.parentNode!==null&&S.parentNode!==void 0;){const R=S.parentNode,$=st.fromDom(R);if(D.push($),x($)===!0)break;S=R}return D},po=m=>ve.from(m.dom.previousSibling).map(st.fromDom),ha=m=>ve.from(m.dom.nextSibling).map(st.fromDom),ps=m=>T(m.dom.childNodes,st.fromDom),zc=(m,h)=>{const x=m.dom.childNodes;return ve.from(x[h]).map(st.fromDom)},Et=(m,h)=>{Va(m).each(x=>{x.dom.insertBefore(h.dom,m.dom)})},_s=(m,h)=>{ha(m).fold(()=>{Va(m).each(x=>{br(x,h)})},x=>{Et(x,h)})},Tc=(m,h)=>{(S=>zc(S,0))(m).fold(()=>{br(m,h)},S=>{m.dom.insertBefore(h.dom,S.dom)})},br=(m,h)=>{m.dom.appendChild(h.dom)},Oc=(m,h)=>{Et(m,h),br(h,m)},ba=(m,h)=>{_o(h,(x,S)=>{const D=S===0?m:h[S-1];_s(D,x)})},Cs=(m,h)=>{_o(h,x=>{br(m,x)})},ja=m=>{m.dom.textContent="",_o(ps(m),h=>{fr(h)})},fr=m=>{const h=m.dom;h.parentNode!==null&&h.parentNode.removeChild(h)},Ss=m=>{const h=ps(m);h.length>0&&ba(m,h),fr(m)},Oa=(m,h)=>st.fromDom(m.dom.cloneNode(h)),wl=m=>Oa(m,!1),Gi=m=>Oa(m,!0),Ua=(m,h)=>{const x=st.fromTag(h),S=Rs(m);return $s(x,S),x},ad=["tfoot","thead","tbody","colgroup"],Ql=(m,h,x)=>({element:m,rowspan:h,colspan:x}),wn=(m,h,x)=>({element:m,cells:h,section:x}),ns=(m,h,x)=>({element:m,isNew:h,isLocked:x}),sa=(m,h,x,S)=>({element:m,cells:h,section:x,isNew:S}),Dd=m=>st.fromDom(m.dom.host),Ni=m=>{const h=vn(m)?m.dom.parentNode:m.dom;if(h==null||h.ownerDocument===null)return!1;const x=h.ownerDocument;return(R=>{const $=(te=>st.fromDom(te.dom.getRootNode()))(R);return Js(U=$)&&tn(U.dom.host)?ve.some($):ve.none();var U})(st.fromDom(h)).fold(()=>x.body.contains(h),(S=Ni,D=Dd,R=>S(D(R))));var S,D},id=m=>{const h=m.dom.body;if(h==null)throw new Error("Body is not available yet");return st.fromDom(h)},Vs=(m,h)=>{let x=[];return _o(ps(m),S=>{h(S)&&(x=x.concat([S])),x=x.concat(Vs(S,h))}),x},js=(m,h,x)=>((S,D,R)=>Lo(Mn(S,R),$=>Ta($,h)))(m,0,x),oi=(m,h)=>((x,S)=>Lo(ps(x),D=>Ta(D,h)))(m),Bn=(m,h)=>((x,S)=>{const D=S===void 0?document:S.dom;return Bo(D)?[]:T(D.querySelectorAll(x),st.fromDom)})(h,m);var lr=(m,h,x,S,D)=>m(x,S)?ve.some(x):Yn(D)&&D(x)?ve.none():h(x,S,D);const Mi=(m,h,x)=>{let S=m.dom;const D=Yn(x)?x:ce;for(;S.parentNode;){S=S.parentNode;const R=st.fromDom(S);if(h(R))return ve.some(R);if(D(R))break}return ve.none()},_l=(m,h,x)=>lr((S,D)=>D(S),Mi,m,h,x),rs=(m,h,x)=>Mi(m,S=>Ta(S,h),x),al=(m,h)=>((x,S)=>At(x.dom.childNodes,D=>{return R=st.fromDom(D),Ta(R,h);var R}).map(st.fromDom))(m),Mr=(m,h)=>vi(h,m),pn=(m,h,x)=>lr((S,D)=>Ta(S,D),rs,m,h,x),xi=(m,h,x=ar)=>m.exists(S=>x(S,h)),Es=m=>{const h=[],x=S=>{h.push(S)};for(let S=0;S<m.length;S++)m[S].each(x);return h},Us=(m,h)=>m?ve.some(h):ve.none(),ya=(m,h,x)=>h===""||m.length>=h.length&&m.substr(x,x+h.length)===h,Vr=(m,h,x=0,S)=>{const D=m.indexOf(h,x);return D!==-1&&(!!Rn(S)||D+h.length<=S)},ec=(m,h)=>ya(m,h,0),lo=(m,h)=>ya(m,h,m.length-h.length),Ki=(m=>h=>h.replace(m,""))(/^\s+|\s+$/g),gs=m=>m.length>0,Cr=m=>m.style!==void 0&&Yn(m.style.getPropertyValue),tc=(m,h,x)=>{if(!Dr(x))throw console.error("Invalid call to CSS.set. Property ",h,":: Value ",x,":: Element ",m),new Error("CSS value must be a string: "+x);Cr(m)&&m.style.setProperty(h,x)},Xo=(m,h,x)=>{const S=m.dom;tc(S,h,x)},il=(m,h)=>{const x=m.dom;kn(h,(S,D)=>{tc(x,D,S)})},aa=(m,h)=>{const x=m.dom,S=window.getComputedStyle(x).getPropertyValue(h);return S!==""||Ni(m)?S:bo(x,h)},bo=(m,h)=>Cr(m)?m.style.getPropertyValue(h):"",ki=(m,h)=>{const x=m.dom,S=bo(x,h);return ve.from(S).filter(D=>D.length>0)},Za=(m,h)=>{((x,S)=>{Cr(x)&&x.style.removeProperty(S)})(m.dom,h),xi(no(m,"style").map(Ki),"")&&Vo(m,"style")},yr=(m,h,x=0)=>no(m,h).map(S=>parseInt(S,10)).getOr(x),Cl=(m,h)=>yr(m,h,1),Sr=m=>Vn("col")(m)?yr(m,"span",1)>1:Cl(m,"colspan")>1,Nl=(m,h)=>parseInt(aa(m,h),10),Zs=eo(10),_n=eo(10),ll=(m,h)=>oc(m,h,Tt),oc=(m,h,x)=>nt(ps(m),S=>Ta(S,h)?x(S)?[S]:[]:oc(S,h,x)),Dc=(m,h)=>((x,S,D=ce)=>D(S)?ve.none():Io(x,Gt(S))?ve.some(S):rs(S,x.join(","),R=>Ta(R,"table")||D(R)))(["td","th"],m,h),vr=m=>ll(m,"th,td"),va=m=>Ta(m,"colgroup")?oi(m,"col"):nt(Ce(m),h=>oi(h,"col")),G=(m,h)=>pn(m,"table",h),le=m=>ll(m,"tr"),Ce=m=>G(m).fold(eo([]),h=>oi(h,"colgroup")),Ve=(m,h)=>T(m,x=>{if(Gt(x)==="colgroup"){const S=T(va(x),D=>{const R=yr(D,"span",1);return Ql(D,1,R)});return wn(x,S,"colgroup")}{const S=T(vr(x),D=>{const R=yr(D,"rowspan",1),$=yr(D,"colspan",1);return Ql(D,R,$)});return wn(x,S,h(x))}}),lt=m=>Va(m).map(h=>{const x=Gt(h);return(S=>Io(ad,S))(x)?x:"tbody"}).getOr("tbody"),$t=m=>{const h=le(m),x=[...Ce(m),...h];return Ve(x,lt)},To=m=>{let h,x=!1;return(...S)=>(x||(x=!0,h=m.apply(null,S)),h)},Ln=()=>jo(0,0),jo=(m,h)=>({major:m,minor:h}),Zn={nu:jo,detect:(m,h)=>{const x=String(h).toLowerCase();return m.length===0?Ln():((S,D)=>{const R=((U,te)=>{for(let ue=0;ue<U.length;ue++){const ke=U[ue];if(ke.test(te))return ke}})(S,D);if(!R)return{major:0,minor:0};const $=U=>Number(D.replace(R,"$"+U));return jo($(1),$(2))})(m,x)},unknown:Ln},jr=(m,h)=>{const x=String(h).toLowerCase();return At(m,S=>S.search(x))},Fo=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Yi=m=>h=>Vr(h,m),Sl=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:m=>Vr(m,"edge/")&&Vr(m,"chrome")&&Vr(m,"safari")&&Vr(m,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Fo],search:m=>Vr(m,"chrome")&&!Vr(m,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:m=>Vr(m,"msie")||Vr(m,"trident")},{name:"Opera",versionRegexes:[Fo,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Yi("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Yi("firefox")},{name:"Safari",versionRegexes:[Fo,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:m=>(Vr(m,"safari")||Vr(m,"mobile/"))&&Vr(m,"applewebkit")}],F=[{name:"Windows",search:Yi("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:m=>Vr(m,"iphone")||Vr(m,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Yi("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Yi("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Yi("linux"),versionRegexes:[]},{name:"Solaris",search:Yi("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Yi("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Yi("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ee={browsers:eo(Sl),oses:eo(F)},pe="Edge",Oe="Chromium",Ht="Opera",un="Firefox",Ur="Safari",Wa=m=>{const h=m.current,x=m.version,S=D=>()=>h===D;return{current:h,version:x,isEdge:S(pe),isChromium:S(Oe),isIE:S("IE"),isOpera:S(Ht),isFirefox:S(un),isSafari:S(Ur)}},ut=()=>Wa({current:void 0,version:Zn.unknown()}),Bi=Wa,Da="Windows",nc="Android",ia="Linux",Rc="macOS",ld="Solaris",$m="FreeBSD",El="ChromeOS",Nf=m=>{const h=m.current,x=m.version,S=D=>()=>h===D;return{current:h,version:x,isWindows:S(Da),isiOS:S("iOS"),isAndroid:S(nc),isMacOS:S(Rc),isLinux:S(ia),isSolaris:S(ld),isFreeBSD:S($m),isChromeOS:S(El)}},Hp=()=>Nf({current:void 0,version:Zn.unknown()}),Vg=Nf,yb=m=>window.matchMedia(m).matches;let Mf=To(()=>((m,h,x)=>{const S=ee.browsers(),D=ee.oses(),R=h.bind(te=>((ue,ke)=>H(ke.brands,ie=>{const fe=ie.brand.toLowerCase();return At(ue,ge=>{var ze;return fe===((ze=ge.brand)===null||ze===void 0?void 0:ze.toLowerCase())}).map(ge=>({current:ge.name,version:Zn.nu(parseInt(ie.version,10),0)}))}))(S,te)).orThunk(()=>((te,ue)=>jr(te,ue).map(ke=>{const ie=Zn.detect(ke.versionRegexes,ue);return{current:ke.name,version:ie}}))(S,m)).fold(ut,Bi),$=((te,ue)=>jr(te,ue).map(ke=>{const ie=Zn.detect(ke.versionRegexes,ue);return{current:ke.name,version:ie}}))(D,m).fold(Hp,Vg),U=((te,ue,ke,ie)=>{const fe=te.isiOS()&&/ipad/i.test(ke)===!0,ge=te.isiOS()&&!fe,ze=te.isiOS()||te.isAndroid(),Te=ze||ie("(pointer:coarse)"),Xe=fe||!ge&&ze&&ie("(min-device-width:768px)"),Je=ge||ze&&!Xe,Ye=ue.isSafari()&&te.isiOS()&&/safari/i.test(ke)===!1,tt=!Je&&!Xe&&!Ye;return{isiPad:eo(fe),isiPhone:eo(ge),isTablet:eo(Xe),isPhone:eo(Je),isTouch:eo(Te),isAndroid:te.isAndroid,isiOS:te.isiOS,isWebView:eo(Ye),isDesktop:eo(tt)}})($,R,m,x);return{browser:R,os:$,deviceType:U}})(window.navigator.userAgent,ve.from(window.navigator.userAgentData),yb));const rc=()=>Mf(),cd=(m,h)=>{const x=D=>{const R=h(D);if(R<=0||R===null){const $=aa(D,m);return parseFloat($)||0}return R},S=(D,R)=>we(R,($,U)=>{const te=aa(D,U),ue=te===void 0?0:parseInt(te,10);return isNaN(ue)?$:$+ue},0);return{set:(D,R)=>{if(!Rr(R)&&!R.match(/^[0-9]+$/))throw new Error(m+".set accepts only positive integer values. Value was "+R);const $=D.dom;Cr($)&&($.style[m]=R+"px")},get:x,getOuter:x,aggregate:S,max:(D,R,$)=>{const U=S(D,$);return R>U?R-U:0}}},sc=(m,h,x)=>((S,D)=>(R=>{const $=parseFloat(R);return isNaN($)?ve.none():ve.some($)})(S).getOr(D))(aa(m,h),x),la=cd("width",m=>m.dom.offsetWidth),Ii=m=>la.get(m),Rd=m=>la.getOuter(m),gn=m=>((h,x)=>{const S=h.dom,D=S.getBoundingClientRect().width||S.offsetWidth;return x==="border-box"?D:((R,$,U,te)=>$-sc(R,`padding-${U}`,0)-sc(R,`padding-${te}`,0)-sc(R,`border-${U}-width`,0)-sc(R,`border-${te}-width`,0))(h,D,"left","right")})(m,"content-box"),Ml=(m,h,x)=>{const S=m.cells,D=S.slice(0,h),R=S.slice(h),$=D.concat(x).concat(R);return wi(m,$)},Uu=(m,h,x)=>Ml(m,h,[x]),Zu=(m,h,x)=>{m.cells[h]=x},wi=(m,h)=>sa(m.element,h,m.section,m.isNew),hs=(m,h)=>m.cells[h],Br=(m,h)=>hs(m,h).element,xa=m=>m.cells.length,xr=m=>{const h=Yt(m,x=>x.section==="colgroup");return{rows:h.fail,cols:h.pass}},Nd=(m,h,x)=>{const S=T(m.cells,x);return sa(h(m.element),S,m.section,!0)},Md="data-snooker-locked-cols",Ws=m=>no(m,Md).bind(h=>ve.from(h.match(/\d+/g))).map(h=>Wr(h,Tt)),ni=m=>{const h=we(xr(m).rows,(S,D)=>(_o(D.cells,(R,$)=>{R.isLocked&&(S[$]=!0)}),S),{}),x=on(h,(S,D)=>parseInt(D,10));return((S,D)=>{const R=ct.call(S,0);return R.sort(void 0),R})(x)},qa=(m,h)=>m+","+h,Ns=(m,h)=>{const x=nt(m.all,S=>S.cells);return Lo(x,h)},dd=m=>{const h={},x=[],S=yn(m).map(fe=>fe.element).bind(G).bind(Ws).getOr({});let D=0,R=0,$=0;const{pass:U,fail:te}=Yt(m,fe=>fe.section==="colgroup");_o(te,fe=>{const ge=[];_o(fe.cells,ze=>{let Te=0;for(;h[qa($,Te)]!==void 0;)Te++;const Xe=((Ye,tt)=>Jo(Ye,tt)&&Ye[tt]!==void 0&&Ye[tt]!==null)(S,Te.toString()),Je=((Ye,tt,yt,_t,De,It)=>({element:Ye,rowspan:tt,colspan:yt,row:_t,column:De,isLocked:It}))(ze.element,ze.rowspan,ze.colspan,$,Te,Xe);for(let Ye=0;Ye<ze.colspan;Ye++)for(let tt=0;tt<ze.rowspan;tt++){const yt=Te+Ye,_t=qa($+tt,yt);h[_t]=Je,R=Math.max(R,yt+1)}ge.push(Je)}),D++,x.push(wn(fe.element,ge,fe.section)),$++});const{columns:ue,colgroups:ke}=Co(U).map(fe=>{const ge=(Te=>{const Xe={};let Je=0;return _o(Te.cells,Ye=>{const tt=Ye.colspan;Pt(tt,yt=>{const _t=Je+yt;Xe[_t]=((De,It,go)=>({element:De,colspan:It,column:go}))(Ye.element,tt,_t)}),Je+=tt}),Xe})(fe);return{colgroups:[((Te,Xe)=>({element:Te,columns:Xe}))(fe.element,zn(ge))],columns:ge}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:((fe,ge)=>({rows:fe,columns:ge}))(D,R),access:h,all:x,columns:ue,colgroups:ke}},Go=m=>{const h=$t(m);return dd(h)},As=dd,ri=(m,h,x)=>ve.from(m.access[qa(h,x)]),ac=(m,h,x)=>{const S=Ns(m,D=>x(h,D.element));return S.length>0?ve.some(S[0]):ve.none()},Qs=Ns,Ut=m=>nt(m.all,h=>h.cells),Bl=m=>zn(m.columns),Il=m=>ra(m.columns).length>0,Cn=(m,h)=>ve.from(m.columns[h]),uu=(m,h=Tt)=>{const x=m.grid,S=Pt(x.columns,Yo),D=Pt(x.rows,Yo);return T(S,R=>Vm(()=>nt(D,$=>ri(m,$,R).filter(U=>U.column===R).toArray()),$=>$.colspan===1&&h($.element),()=>ri(m,0,R)))},Vm=(m,h,x)=>{const S=m();return At(S,h).orThunk(()=>ve.from(S[0]).orThunk(x)).map(D=>D.element)},ic=m=>{const h=m.grid,x=Pt(h.rows,Yo),S=Pt(h.columns,Yo);return T(x,D=>Vm(()=>nt(S,R=>ri(m,D,R).filter($=>$.row===D).fold(eo([]),$=>[$])),R=>R.rowspan===1,()=>ri(m,D,0)))},en=(m,h)=>x=>Ga(x)==="rtl"?h:m,Ga=m=>aa(m,"direction")==="rtl"?"rtl":"ltr",Wu=cd("height",m=>{const h=m.dom;return Ni(m)?h.getBoundingClientRect().height:h.offsetHeight}),Nc=m=>Wu.get(m),Bf=m=>Wu.getOuter(m),Pl=(m,h)=>({left:m,top:h,translate:(x,S)=>Pl(m+x,h+S)}),si=Pl,lc=(m,h)=>m!==void 0?m:h!==void 0?h:0,Bd=m=>{const h=m.dom.ownerDocument,x=h.body,S=h.defaultView,D=h.documentElement;if(x===m.dom)return si(x.offsetLeft,x.offsetTop);const R=lc(S==null?void 0:S.pageYOffset,D.scrollTop),$=lc(S==null?void 0:S.pageXOffset,D.scrollLeft),U=lc(D.clientTop,x.clientTop),te=lc(D.clientLeft,x.clientLeft);return me(m).translate($-te,R-U)},me=m=>{const h=m.dom,x=h.ownerDocument.body;return x===h?si(x.offsetLeft,x.offsetTop):Ni(m)?(S=>{const D=S.getBoundingClientRect();return si(D.left,D.top)})(h):si(0,0)},fu=(m,h)=>({row:m,y:h}),nr=(m,h)=>({col:m,x:h}),jm=m=>Bd(m).left+Rd(m),qu=m=>Bd(m).left,Al=(m,h)=>nr(m,qu(h)),fn=(m,h)=>nr(m,jm(h)),Ra=m=>Bd(m).top,cl=(m,h)=>fu(m,Ra(h)),zl=(m,h)=>fu(m,Ra(h)+Bf(h)),cc=(m,h,x)=>{if(x.length===0)return[];const S=T(x.slice(1),(R,$)=>R.map(U=>m($,U))),D=x[x.length-1].map(R=>h(x.length-1,R));return S.concat([D])},Mc={delta:Yo,positions:m=>cc(cl,zl,m),edge:Ra},ka=en({delta:Yo,edge:qu,positions:m=>cc(Al,fn,m)},{delta:m=>-m,edge:jm,positions:m=>cc(fn,Al,m)}),Id={delta:(m,h)=>ka(h).delta(m,h),positions:(m,h)=>ka(h).positions(m,h),edge:m=>ka(m).edge(m)},Gu={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},If=(()=>{const m="[0-9]+",h="[eE][+-]?"+m,x=D=>`(?:${D})?`,S=["Infinity",m+"\\."+x(m)+x(h),"\\."+m+x(h),m+x(h)].join("|");return new RegExp(`^([+-]?(?:${S}))(.*)$`)})(),ea=/(\d+(\.\d+)?)%/,to=/(\d+(\.\d+)?)px|em/,Bc=Vn("col"),mu=Vn("tr"),Na=(m,h,x)=>{const S=qi(m).getOrThunk(()=>id(Ri(m)));return h(m)/x(S)*100},Ic=(m,h)=>{Xo(m,"width",h+"px")},Xi=(m,h)=>{Xo(m,"width",h+"%")},Pc=(m,h)=>{Xo(m,"height",h+"px")},ud=m=>{const h=(x=>{return sc(S=x,"height",S.dom.offsetHeight)+"px";var S})(m);return h?((x,S,D,R)=>{const $=parseFloat(x);return lo(x,"%")&&Gt(S)!=="table"?((U,te,ue,ke)=>{const ie=G(U).map(fe=>{const ge=ue(fe);return Math.floor(te/100*ge)}).getOr(te);return ke(U,ie),ie})(S,$,D,R):$})(h,m,Nc,Pc):Nc(m)},ta=(m,h)=>ki(m,h).orThunk(()=>no(m,h).map(x=>x+"px")),Tl=m=>ta(m,"width"),dc=m=>Na(m,Ii,gn),pu=m=>{return Bc(m)?Ii(m):sc(h=m,"width",h.dom.offsetWidth);var h},$p=m=>mu(m)?Nc(m):((h,x,S)=>S(h)/Cl(h,"rowspan"))(m,0,ud),Lc=(m,h,x)=>{Xo(m,"width",h+x)},Pd=m=>Na(m,Ii,gn)+"%",Ku=eo(ea),Ir=Vn("col"),ai=m=>Tl(m).getOrThunk(()=>pu(m)+"px"),wa=m=>{return(h=m,ta(h,"height")).getOrThunk(()=>$p(m)+"px");var h},_i=(m,h,x,S,D,R)=>m.filter(S).fold(()=>R((($,U)=>{if(U<0||U>=$.length-1)return ve.none();const te=$[U].fold(()=>{const ke=(ie=>{const fe=ct.call(ie,0);return fe.reverse(),fe})($.slice(0,U));return H(ke,(ie,fe)=>ie.map(ge=>({value:ge,delta:fe+1})))},ke=>ve.some({value:ke,delta:0})),ue=$[U+1].fold(()=>{const ke=$.slice(U+1);return H(ke,(ie,fe)=>ie.map(ge=>({value:ge,delta:fe+1})))},ke=>ve.some({value:ke,delta:1}));return te.bind(ke=>ue.map(ie=>{const fe=ie.delta+ke.delta;return Math.abs(ie.value-ke.value)/fe}))})(x,h)),$=>D($)),zs=(m,h,x,S)=>{const D=uu(m),R=Il(m)?(te=>T(Bl(te),ue=>ve.from(ue.element)))(m):D,$=[ve.some(Id.edge(h))].concat(T(Id.positions(D,h),te=>te.map(ue=>ue.x))),U=it(Sr);return T(R,(te,ue)=>_i(te,ue,$,U,ke=>{if((fe=>{const ge=rc().browser,ze=ge.isChromium()||ge.isFirefox();return!Ir(fe)||ze})(ke))return x(ke);{const fe=(ie=D[ue])!=null?Yo(ie):ve.none();return _i(fe,ue,$,U,ge=>S(ve.some(Ii(ge))),S)}var ie},S))},Pf=m=>m.map(h=>h+"px").getOr(""),bs=(m,h,x)=>zs(m,h,pu,S=>S.getOrThunk(x.minCellWidth)),_a=(m,h,x,S)=>{const D=ic(m),R=T(m.all,U=>ve.some(U.element)),$=[ve.some(Mc.edge(h))].concat(T(Mc.positions(D,h),U=>U.map(te=>te.y)));return T(R,(U,te)=>_i(U,te,$,Tt,x,S))},Ll=(m,h)=>()=>Ni(m)?h(m):parseFloat(ki(m,"width").getOr("0")),Ge=m=>{const h=Ll(m,S=>parseFloat(Pd(S))),x=Ll(m,Ii);return{width:h,pixelWidth:x,getWidths:(S,D)=>((R,$,U)=>zs(R,$,dc,te=>te.fold(()=>U.minCellWidth(),ue=>ue/U.pixelWidth()*100)))(S,m,D),getCellDelta:S=>S/x()*100,singleColumnWidth:(S,D)=>[100-S],minCellWidth:()=>Zs()/x()*100,setElementWidth:Xi,adjustTableWidth:S=>{const D=h();Xi(m,D+S/100*D)},isRelative:!0,label:"percent"}},ca=m=>{const h=Ll(m,Ii);return{width:h,pixelWidth:h,getWidths:(x,S)=>bs(x,m,S),getCellDelta:Yo,singleColumnWidth:(x,S)=>[Math.max(Zs(),x+S)-x],minCellWidth:Zs,setElementWidth:Ic,adjustTableWidth:x=>{const S=h()+x;Ic(m,S)},isRelative:!1,label:"pixel"}},gu=m=>Tl(m).fold(()=>(h=>{const x=Ll(h,Ii),S=eo(0);return{width:x,pixelWidth:x,getWidths:(D,R)=>bs(D,h,R),getCellDelta:S,singleColumnWidth:eo([0]),minCellWidth:S,setElementWidth:Lt,adjustTableWidth:Lt,isRelative:!0,label:"none"}})(m),h=>((x,S)=>Ku().exec(S)!==null?Ge(x):ca(x))(m,h)),qr=ca,Fl=Ge,ii=(m,h,x)=>{const S=m[x].element,D=st.fromTag("td");br(D,st.fromTag("br")),(h?br:Tc)(S,D)},Hl=((m,h)=>{const x=S=>m(S)?ve.from(S.dom.nodeValue):ve.none();return{get:S=>{if(!m(S))throw new Error("Can only get text value of a text node");return x(S).getOr("")},getOption:x,set:(S,D)=>{if(!m(S))throw new Error("Can only set raw text value of a text node");S.dom.nodeValue=D}}})(vn),hu=m=>Hl.get(m),Ci=m=>Hl.getOption(m),sn=(m,h)=>Hl.set(m,h),ys=m=>Gt(m)==="img"?1:Ci(m).fold(()=>ps(m).length,h=>h.length),Fc=["img","br"],Gr=m=>Ci(m).filter(h=>h.trim().length!==0||h.indexOf(" ")>-1).isSome()||Io(Fc,Gt(m))||(h=>or(h)&&dt(h,"contenteditable")==="false")(m),Yu=m=>((h,x)=>{const S=D=>{for(let R=0;R<D.childNodes.length;R++){const $=st.fromDom(D.childNodes[R]);if(x($))return ve.some($);const U=S(D.childNodes[R]);if(U.isSome())return U}return ve.none()};return S(h.dom)})(m,Gr),uc=m=>Um(m,Gr),Um=(m,h)=>{const x=S=>{const D=ps(S);for(let R=D.length-1;R>=0;R--){const $=D[R];if(h($))return ve.some($);const U=x($);if(U.isSome())return U}return ve.none()};return x(m)},Kr={scope:["row","col"]},Ae=m=>()=>{const h=st.fromTag("td",m.dom);return br(h,st.fromTag("br",m.dom)),h},li=m=>()=>st.fromTag("col",m.dom),vs=m=>()=>st.fromTag("colgroup",m.dom),Pi=m=>()=>st.fromTag("tr",m.dom),$l=(m,h,x)=>{const S=((D,R)=>{const $=Ua(D,R),U=ps(Gi(D));return Cs($,U),$})(m,h);return kn(x,(D,R)=>{D===null?Vo(S,R):Qo(S,R,D)}),S},Ts=m=>m,kr=(m,h,x)=>{const S=(D,R)=>{(($,U)=>{const te=$.dom,ue=U.dom;Cr(te)&&Cr(ue)&&(ue.style.cssText=te.style.cssText)})(D.element,R),Za(R,"height"),D.colspan!==1&&Za(R,"width")};return{col:D=>{const R=st.fromTag(Gt(D.element),h.dom);return S(D,R),m(D.element,R),R},colgroup:vs(h),row:Pi(h),cell:D=>{const R=st.fromTag(Gt(D.element),h.dom),$=x.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),U=$.length>0?((te,ue,ke)=>Yu(te).map(ie=>{const fe=ke.join(","),ge=js(ie,fe,ze=>Xn(ze,te));return hr(ge,(ze,Te)=>{const Xe=wl(Te);return br(ze,Xe),Xe},ue)}).getOr(ue))(D.element,R,$):R;return br(U,st.fromTag("br")),S(D,R),((te,ue)=>{kn(Kr,(ke,ie)=>no(te,ie).filter(fe=>Io(ke,fe)).each(fe=>Qo(ue,ie,fe)))})(D.element,R),m(D.element,R),R},replace:$l,colGap:li(h),gap:Ae(h)}},Wn=m=>({col:li(m),colgroup:vs(m),row:Pi(m),cell:Ae(m),replace:Ts,colGap:li(m),gap:Ae(m)}),Ma=m=>h=>h.options.get(m),Li="100%",Si=m=>{var h;const x=m.dom,S=(h=x.getParent(m.selection.getStart(),x.isBlock))!==null&&h!==void 0?h:m.getBody();return gn(st.fromDom(S))+"px"},dl=m=>ve.from(m.options.get("table_clone_elements")),fc=Ma("table_header_type"),Hc=Ma("table_column_resizing"),fd=m=>Hc(m)==="preservetable",Lf=m=>Hc(m)==="resizetable",Ff=Ma("table_sizing_mode"),$c=m=>Ff(m)==="relative",_=m=>Ff(m)==="fixed",N=m=>Ff(m)==="responsive",j=Ma("table_resize_bars"),de=Ma("table_style_by_css"),he=Ma("table_merge_content_on_paste"),Ke=m=>{const h=m.options,x=h.get("table_default_attributes");return h.isSet("table_default_attributes")?x:((S,D)=>N(S)||de(S)?D:_(S)?{...D,width:Si(S)}:{...D,width:Li})(m,x)},io=Ma("table_use_colgroups"),Ro=m=>pn(m,"[contenteditable]"),xo=(m,h=!1)=>Ni(m)?m.dom.isContentEditable:Ro(m).fold(eo(h),x=>Wt(x)==="true"),Wt=m=>m.dom.contentEditable,Fn=m=>st.fromDom(m.getBody()),cs=m=>h=>Xn(h,Fn(m)),Yr=m=>{Vo(m,"data-mce-style");const h=x=>Vo(x,"data-mce-style");_o(vr(m),h),_o(va(m),h),_o(le(m),h)},Vl=m=>st.fromDom(m.selection.getStart()),bu=m=>m.getBoundingClientRect().width,Ld=m=>m.getBoundingClientRect().height,qs=m=>(h,x)=>{const S=h.dom.getStyle(x,m)||h.dom.getAttrib(x,m);return ve.from(S).filter(gs)},jg=qs("width"),Zm=qs("height"),Vp=m=>_l(m,Vn("table")).exists(xo),Ka=(m,h)=>{const x=h.column,S=h.column+h.colspan-1,D=h.row,R=h.row+h.rowspan-1;return x<=m.finishCol&&S>=m.startCol&&D<=m.finishRow&&R>=m.startRow},ds=(m,h)=>h.column>=m.startCol&&h.column+h.colspan-1<=m.finishCol&&h.row>=m.startRow&&h.row+h.rowspan-1<=m.finishRow,Ca=(m,h,x)=>{const S=ac(m,h,Xn),D=ac(m,x,Xn);return S.bind(R=>D.map($=>{return U=R,te=$,{startRow:Math.min(U.row,te.row),startCol:Math.min(U.column,te.column),finishRow:Math.max(U.row+U.rowspan-1,te.row+te.rowspan-1),finishCol:Math.max(U.column+U.colspan-1,te.column+te.colspan-1)};var U,te}))},md=(m,h,x)=>Ca(m,h,x).map(S=>{const D=Qs(m,at(Ka,S));return T(D,R=>R.element)}),Hf=(m,h)=>ac(m,h,(x,S)=>ls(S,x)).map(x=>x.element),$f=(m,h,x)=>{const S=Ei(m);return md(S,h,x)},Ji=(m,h,x,S,D)=>{const R=Ei(m),$=Xn(m,x)?ve.some(h):Hf(R,h),U=Xn(m,D)?ve.some(S):Hf(R,S);return $.bind(te=>U.bind(ue=>md(R,te,ue)))},Ei=Go;var Vf=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Vc=()=>({up:eo({selector:rs,closest:pn,predicate:Mi,all:Mn}),down:eo({selector:Bn,predicate:Vs}),styles:eo({get:aa,getRaw:ki,set:Xo,remove:Za}),attrs:eo({get:dt,set:Qo,remove:Vo,copyTo:(m,h)=>{const x=Rs(m);$s(h,x)}}),insert:eo({before:Et,after:_s,afterAll:ba,append:br,appendAll:Cs,prepend:Tc,wrap:Oc}),remove:eo({unwrap:Ss,remove:fr}),create:eo({nu:st.fromTag,clone:m=>st.fromDom(m.dom.cloneNode(!1)),text:st.fromText}),query:eo({comparePosition:(m,h)=>m.dom.compareDocumentPosition(h.dom),prevSibling:po,nextSibling:ha}),property:eo({children:ps,name:Gt,parent:Va,document:m=>ti(m).dom,isText:vn,isComment:Tn,isElement:$n,isSpecial:m=>{const h=Gt(m);return Io(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],h)},getLanguage:m=>$n(m)?no(m,"lang"):ve.none(),getText:hu,setText:sn,isBoundary:m=>!!$n(m)&&(Gt(m)==="body"||Io(Vf,Gt(m))),isEmptyTag:m=>!!$n(m)&&Io(["br","img","hr","input"],Gt(m)),isNonEditable:m=>$n(m)&&dt(m,"contenteditable")==="false"}),eq:Xn,is:Wi});const Jy=(m,h,x,S)=>{const D=h(m,x);return hr(S,(R,$)=>{const U=h(m,$);return Wm(m,R,U)},D)},Wm=(m,h,x)=>h.bind(S=>x.filter(at(m.eq,S))),pd=Vc(),Fd=(m,h)=>((x,S,D)=>D.length>0?((R,$,U,te)=>te(R,$,U[0],U.slice(1)))(x,S,D,Jy):ve.none())(pd,(x,S)=>m(S),h),jt=m=>rs(m,"table"),mc=(m,h,x)=>{const S=D=>R=>x!==void 0&&x(R)||Xn(R,D);return Xn(m,h)?ve.some({boxes:ve.some([m]),start:m,finish:h}):jt(m).bind(D=>jt(h).bind(R=>{if(Xn(D,R))return ve.some({boxes:$f(D,m,h),start:m,finish:h});if(ls(D,R)){const $=js(h,"td,th",S(D)),U=$.length>0?$[$.length-1]:h;return ve.some({boxes:Ji(D,m,D,h,R),start:m,finish:U})}if(ls(R,D)){const $=js(m,"td,th",S(R)),U=$.length>0?$[$.length-1]:m;return ve.some({boxes:Ji(R,m,D,h,R),start:m,finish:U})}return(($,U,te)=>((ue,ke,ie,fe=ce)=>{const ge=[ke].concat(ue.up().all(ke)),ze=[ie].concat(ue.up().all(ie)),Te=tt=>dn(tt,fe).fold(()=>tt,yt=>tt.slice(0,yt+1)),Xe=Te(ge),Je=Te(ze),Ye=At(Xe,tt=>$e(Je,((yt,_t)=>at(yt.eq,_t))(ue,tt)));return{firstpath:Xe,secondpath:Je,shared:Ye}})(pd,$,U,void 0))(m,h).shared.bind($=>pn($,"table",x).bind(U=>{const te=js(h,"td,th",S(U)),ue=te.length>0?te[te.length-1]:h,ke=js(m,"td,th",S(U)),ie=ke.length>0?ke[ke.length-1]:m;return ve.some({boxes:Ji(U,m,D,h,R),start:ie,finish:ue})}))}))},jf=(m,h)=>{const x=Bn(m,h);return x.length>0?ve.some(x):ve.none()},Hd=(m,h,x)=>Mr(m,h).bind(S=>Mr(m,x).bind(D=>Fd(jt,[S,D]).map(R=>({first:S,last:D,table:R})))),Ba=(m,h,x,S,D)=>((R,$)=>At(R,U=>Ta(U,$)))(m,D).bind(R=>(($,U,te)=>G($).bind(ue=>((ke,ie,fe,ge)=>ac(ke,ie,Xn).bind(ze=>{const Te=fe>0?ze.row+ze.rowspan-1:ze.row,Xe=ge>0?ze.column+ze.colspan-1:ze.column;return ri(ke,Te+fe,Xe+ge).map(Je=>Je.element)}))(Ei(ue),$,U,te)))(R,h,x).bind($=>((U,te)=>rs(U,"table").bind(ue=>Mr(ue,te).bind(ke=>mc(ke,U).bind(ie=>ie.boxes.map(fe=>({boxes:fe,start:ie.start,finish:ie.finish}))))))($,S))),jl=(m,h)=>jf(m,h),Xu=(m,h,x)=>Hd(m,h,x).bind(S=>{const D=te=>Xn(m,te),R="thead,tfoot,tbody,table",$=rs(S.first,R,D),U=rs(S.last,R,D);return $.bind(te=>U.bind(ue=>Xn(te,ue)?((ke,ie,fe)=>((ge,ze,Te)=>Ca(ge,ze,Te).bind(Xe=>((Je,Ye)=>{let tt=!0;const yt=at(ds,Ye);for(let _t=Ye.startRow;_t<=Ye.finishRow;_t++)for(let De=Ye.startCol;De<=Ye.finishCol;De++)tt=tt&&ri(Je,_t,De).exists(yt);return tt?ve.some(Ye):ve.none()})(ge,Xe)))(Ei(ke),ie,fe))(S.table,S.first,S.last):ve.none()))}),$d=Yo,jp=m=>{const h=(x,S)=>no(x,S).exists(D=>parseInt(D,10)>1);return m.length>0&&Dt(m,x=>h(x,"rowspan")||h(x,"colspan"))?ve.some(m):ve.none()},pc=(m,h,x)=>h.length<=1?ve.none():Xu(m,x.firstSelectedSelector,x.lastSelectedSelector).map(S=>({bounds:S,cells:h})),Uf="data-mce-selected",Zf="data-mce-first-selected",pt="data-mce-last-selected",Up="["+Uf+"]",Vd={selected:Uf,selectedSelector:"td["+Uf+"],th["+Uf+"]",firstSelected:Zf,firstSelectedSelector:"td["+Zf+"],th["+Zf+"]",lastSelected:pt,lastSelectedSelector:"td["+pt+"],th["+pt+"]"},Uo=(m,h,x)=>({element:x,mergable:pc(h,m,Vd),unmergable:jp(m),selection:$d(m)}),qt=m=>(h,x)=>{const S=Gt(h),D=S==="col"||S==="colgroup"?G(R=h).bind($=>jl($,Vd.firstSelectedSelector)).fold(eo(R),$=>$[0]):h;var R;return pn(D,m,x)},jd=qt("th,td,caption"),Zr=qt("th,td"),Ul=m=>{return h=m.model.table.getSelectedCells(),T(h,st.fromDom);var h},Zl=(m,h)=>{m.on("BeforeGetContent",x=>{const S=D=>{x.preventDefault(),(R=>G(R[0]).map($=>{const U=((te,ue)=>{const ke=tt=>Ta(tt.element,ue),ie=Gi(te),fe=$t(ie),ge=gu(te),ze=As(fe),Te=((tt,yt)=>{const _t=tt.grid.columns;let De=tt.grid.rows,It=_t,go=0,$o=0;const So=[],ho=[];return kn(tt.access,Ho=>{if(So.push(Ho),yt(Ho)){ho.push(Ho);const xn=Ho.row,Ks=xn+Ho.rowspan-1,zi=Ho.column,Xa=zi+Ho.colspan-1;xn<De?De=xn:Ks>go&&(go=Ks),zi<It?It=zi:Xa>$o&&($o=Xa)}}),((Ho,xn,Ks,zi,Xa,yc)=>({minRow:Ho,minCol:xn,maxRow:Ks,maxCol:zi,allCells:Xa,selectedCells:yc}))(De,It,go,$o,So,ho)})(ze,ke),Xe="th:not("+ue+"),td:not("+ue+")",Je=oc(ie,"th,td",tt=>Ta(tt,Xe));_o(Je,fr),((tt,yt,_t,De)=>{const It=Lo(tt,So=>So.section!=="colgroup"),go=yt.grid.columns,$o=yt.grid.rows;for(let So=0;So<$o;So++){let ho=!1;for(let Ho=0;Ho<go;Ho++)So<_t.minRow||So>_t.maxRow||Ho<_t.minCol||Ho>_t.maxCol||(ri(yt,So,Ho).filter(De).isNone()?ii(It,ho,So):ho=!0)}})(fe,ze,Te,ke);const Ye=((tt,yt,_t,De)=>{if(De.minCol===0&&yt.grid.columns===De.maxCol+1)return 0;const It=bs(yt,tt,_t),go=we(It,(ho,Ho)=>ho+Ho,0),$o=we(It.slice(De.minCol,De.maxCol+1),(ho,Ho)=>ho+Ho,0),So=$o/go*_t.pixelWidth()-_t.pixelWidth();return _t.getCellDelta(So)})(te,Go(te),ge,Te);return((tt,yt,_t,De)=>{kn(_t.columns,go=>{(go.column<yt.minCol||go.column>yt.maxCol)&&fr(go.element)});const It=Lo(ll(tt,"tr"),go=>go.dom.childElementCount===0);_o(It,fr),yt.minCol!==yt.maxCol&&yt.minRow!==yt.maxRow||_o(ll(tt,"th,td"),go=>{Vo(go,"rowspan"),Vo(go,"colspan")}),Vo(tt,Md),Vo(tt,"data-snooker-col-series"),gu(tt).adjustTableWidth(De)})(ie,Te,ze,Ye),ie})($,Up);return Yr(U),[U]}))(D).each(R=>{x.content=x.format==="text"?($=>T($,U=>U.dom.innerText).join(""))(R):(($,U)=>T(U,te=>$.selection.serializer.serialize(te.dom,{})).join(""))(m,R)})};if(x.selection===!0){const D=(R=>Lo(Ul(R),$=>Ta($,Vd.selectedSelector)))(m);D.length>=1&&S(D)}}),m.on("BeforeSetContent",x=>{if(x.selection===!0&&x.paste===!0){const S=Ul(m);yn(S).each(D=>{G(D).each(R=>{const $=Lo(((te,ue)=>{const ke=document.createElement("div");return ke.innerHTML=te,ps(st.fromDom(ke))})(x.content),te=>Gt(te)!=="meta"),U=Vn("table");if(he(m)&&$.length===1&&U($[0])){x.preventDefault();const te=st.fromDom(m.getDoc()),ue=Wn(te),ke=((ie,fe,ge)=>({element:ie,clipboard:fe,generators:ge}))(D,$[0],ue);h.pasteCells(R,ke).each(()=>{m.focus()})}})})}})},zo=(m,h)=>({element:m,offset:h}),Ju=(m,h,x)=>m.property().isText(h)&&m.property().getText(h).trim().length===0||m.property().isComment(h)?x(h).bind(S=>Ju(m,S,x).orThunk(()=>ve.some(S))):ve.none(),vb=(m,h)=>m.property().isText(h)?m.property().getText(h).length:m.property().children(h).length,je=(m,h)=>{const x=Ju(m,h,m.query().prevSibling).getOr(h);if(m.property().isText(x))return zo(x,vb(m,x));const S=m.property().children(x);return S.length>0?je(m,S[S.length-1]):zo(x,vb(m,x))},Zp=je,Wf=Vc(),qf=(m,h)=>{Sr(m)||(S=>Tl(S).bind(D=>{return R=D,$=["fixed","relative","empty"],ve.from(If.exec(R)).bind(U=>{const te=Number(U[1]),ue=U[2];return((ke,ie)=>$e(ie,fe=>$e(Gu[fe],ge=>ke===ge)))(ue,$)?ve.some({value:te,unit:ue}):ve.none()});var R,$}))(m).each(S=>{const D=S.value/2;Lc(m,D,S.unit),Lc(h,D,S.unit)})},Qu=m=>T(m,eo(0)),yu=(m,h,x,S,D)=>D(m.slice(0,h)).concat(S).concat(D(m.slice(x))),xb=m=>(h,x,S,D)=>{if(m(S)){const R=Math.max(D,h[x]-Math.abs(S)),$=Math.abs(R-h[x]);return S>=0?$:-$}return S},Ud=xb(m=>m<0),Er=xb(Tt),jc=()=>{const m=(x,S,D,R)=>{const $=(100+D)/100,U=Math.max(R,(x[S]+D)/$);return T(x,(te,ue)=>(ue===S?U:te/$)-te)},h=(x,S,D,R,$,U)=>U?m(x,S,R,$):((te,ue,ke,ie,fe)=>{const ge=Ud(te,ue,ie,fe);return yu(te,ue,ke+1,[ge,0],Qu)})(x,S,D,R,$);return{resizeTable:(x,S)=>x(S),clampTableDelta:Ud,calcLeftEdgeDeltas:h,calcMiddleDeltas:(x,S,D,R,$,U,te)=>h(x,D,R,$,U,te),calcRightEdgeDeltas:(x,S,D,R,$,U)=>{if(U)return m(x,D,R,$);{const te=Ud(x,D,R,$);return Qu(x.slice(0,D)).concat([te])}},calcRedestributedWidths:(x,S,D,R)=>{if(R){const $=(S+D)/S,U=T(x,te=>te/$);return{delta:100*$-100,newSizes:U}}return{delta:D,newSizes:x}}}},Wp=()=>{const m=(h,x,S,D,R)=>{const $=Er(h,D>=0?S:x,D,R);return yu(h,x,S+1,[$,-$],Qu)};return{resizeTable:(h,x,S)=>{S&&h(x)},clampTableDelta:(h,x,S,D,R)=>{if(R){if(S>=0)return S;{const $=we(h,(U,te)=>U+te-D,0);return Math.max(-$,S)}}return Ud(h,x,S,D)},calcLeftEdgeDeltas:m,calcMiddleDeltas:(h,x,S,D,R,$)=>m(h,S,D,R,$),calcRightEdgeDeltas:(h,x,S,D,R,$)=>{if($)return Qu(h);{const U=D/h.length;return T(h,eo(U))}},calcRedestributedWidths:(h,x,S,D)=>({delta:0,newSizes:h})}},Wl=m=>Go(m).grid,vu=Vn("th"),Ol=m=>Dt(m,h=>vu(h.element)),us=(m,h)=>m&&h?"sectionCells":m?"section":"cells",xu=m=>{const h=m.section==="thead",x=xi(Ms(m.cells),"th");return m.section==="tfoot"?{type:"footer"}:h||x?{type:"header",subType:us(h,x)}:{type:"body"}},Ms=m=>{const h=Lo(m,x=>vu(x.element));return h.length===0?ve.some("td"):h.length===m.length?ve.some("th"):ve.none()},qm=(m,h,x)=>ns(x(m.element,h),!0,m.isLocked),ql=(m,h)=>m.section!==h?sa(m.element,m.cells,h,m.isNew):m,da=()=>({transformRow:ql,transformCell:(m,h,x)=>{const S=x(m.element,h),D=Gt(S)!=="td"?((R,$)=>{const U=Ua(R,"td");_s(R,U);const te=ps(R);return Cs(U,te),fr(R),U})(S):S;return ns(D,m.isNew,m.isLocked)}}),ft=()=>({transformRow:ql,transformCell:qm}),ku=()=>({transformRow:(m,h)=>ql(m,h==="thead"?"tbody":h),transformCell:qm}),ua=da,kb=ft,k=ku,z=()=>({transformRow:Yo,transformCell:qm}),V=(m,h,x,S)=>{x===S?Vo(m,h):Qo(m,h,x)},Q=(m,h,x)=>{Co(oi(m,h)).fold(()=>Tc(m,x),S=>_s(S,x))},xe=(m,h)=>{const x=[],S=[],D=fe=>T(fe,ge=>{ge.isNew&&x.push(ge.element);const ze=ge.element;return ja(ze),_o(ge.cells,Te=>{Te.isNew&&S.push(Te.element),V(Te.element,"colspan",Te.colspan,1),V(Te.element,"rowspan",Te.rowspan,1),br(ze,Te.element)}),ze}),R=fe=>nt(fe,ge=>T(ge.cells,ze=>(V(ze.element,"span",ze.colspan,1),ze.element))),$=(fe,ge)=>{const ze=((Xe,Je)=>{const Ye=al(Xe,Je).getOrThunk(()=>{const tt=st.fromTag(Je,Ri(Xe).dom);return Je==="thead"?Q(Xe,"caption,colgroup",tt):Je==="colgroup"?Q(Xe,"caption",tt):br(Xe,tt),tt});return ja(Ye),Ye})(m,ge),Te=(ge==="colgroup"?R:D)(fe);Cs(ze,Te)},U=(fe,ge)=>{fe.length>0?$(fe,ge):(ze=>{al(m,ze).each(fr)})(ge)},te=[],ue=[],ke=[],ie=[];return _o(h,fe=>{switch(fe.section){case"thead":te.push(fe);break;case"tbody":ue.push(fe);break;case"tfoot":ke.push(fe);break;case"colgroup":ie.push(fe)}}),U(ie,"colgroup"),U(te,"thead"),U(ue,"tbody"),U(ke,"tfoot"),{newRows:x,newCells:S}},We=(m,h)=>{if(m.length===0)return 0;const x=m[0];return dn(m,S=>!h(x.element,S.element)).getOr(m.length)},ht=(m,h)=>{const x=T(m,S=>T(S.cells,ce));return T(m,(S,D)=>{const R=nt(S.cells,($,U)=>{if(x[D][U]===!1){const fe=((ge,ze,Te,Xe)=>{const Je=((_t,De)=>_t[De])(ge,ze),Ye=Je.section==="colgroup",tt=We(Je.cells.slice(Te),Xe),yt=Ye?1:We(((_t,De)=>T(_t,It=>hs(It,De)))(ge.slice(ze),Te),Xe);return{colspan:tt,rowspan:yt}})(m,D,U,h);return((ge,ze,Te,Xe)=>{for(let Je=ge;Je<ge+Te;Je++)for(let Ye=ze;Ye<ze+Xe;Ye++)x[Je][Ye]=!0})(D,U,fe.rowspan,fe.colspan),[(te=$.element,ue=fe.rowspan,ke=fe.colspan,ie=$.isNew,{element:te,rowspan:ue,colspan:ke,isNew:ie})]}return[];var te,ue,ke,ie});return(($,U,te,ue)=>({element:$,cells:U,section:te,isNew:ue}))(S.element,R,S.section,S.isNew)})},bt=(m,h,x)=>{const S=[];_o(m.colgroups,D=>{const R=[];for(let $=0;$<m.grid.columns;$++){const U=Cn(m,$).map(te=>ns(te.element,x,!1)).getOrThunk(()=>ns(h.colGap(),!0,!1));R.push(U)}S.push(sa(D.element,R,"colgroup",x))});for(let D=0;D<m.grid.rows;D++){const R=[];for(let te=0;te<m.grid.columns;te++){const ue=ri(m,D,te).map(ke=>ns(ke.element,x,ke.isLocked)).getOrThunk(()=>ns(h.gap(),!0,!1));R.push(ue)}const $=m.all[D],U=sa($.element,R,$.section,x);S.push(U)}return S},ko=m=>ht(m,Xn),Kt=(m,h)=>H(m.all,x=>At(x.cells,S=>Xn(h,S.element))),an=(m,h,x)=>{const S=T(h.selection,R=>Dc(R).bind($=>Kt(m,$)).filter(x)),D=Es(S);return Us(D.length>0,D)},Po=(m,h,x,S,D)=>(R,$,U,te)=>{const ue=Go(R),ke=ve.from(te==null?void 0:te.section).getOrThunk(z);return h(ue,$).map(ie=>{const fe=((Te,Xe)=>bt(Te,Xe,!1))(ue,U),ge=m(fe,ie,Xn,D(U),ke),ze=ni(ge.grid);return{info:ie,grid:ko(ge.grid),cursor:ge.cursor,lockedColumns:ze}}).bind(ie=>{const fe=xe(R,ie.grid),ge=ve.from(te==null?void 0:te.sizing).getOrThunk(()=>gu(R)),ze=ve.from(te==null?void 0:te.resize).getOrThunk(Wp);return x(R,ie.grid,ie.info,{sizing:ge,resize:ze,section:ke}),S(R),Vo(R,Md),ie.lockedColumns.length>0&&Qo(R,Md,ie.lockedColumns.join(",")),ve.some({cursor:ie.cursor,newRows:fe.newRows,newCells:fe.newCells})})},qn=(m,h)=>an(m,h,Tt).map(x=>({cells:x,generators:h.generators,clipboard:h.clipboard})),fa=(m,h)=>an(m,h,Tt),Xr=(m,h)=>an(m,h,x=>!x.isLocked),gc=(m,h)=>Dt(h,x=>((S,D)=>Kt(S,D).exists(R=>!R.isLocked))(m,x)),hc=(m,h,x,S)=>{const D=xr(m).rows;let R=!0;for(let $=0;$<D.length;$++)for(let U=0;U<xa(D[0]);U++){const te=D[$],ue=hs(te,U),ke=x(ue.element,h);ke&&!R?Zu(te,U,ns(S(),!0,ue.isLocked)):ke&&(R=!1)}return m},Uc=m=>{const h=R=>R(m),x=eo(m),S=()=>D,D={tag:!0,inner:m,fold:(R,$)=>$(m),isValue:Tt,isError:ce,map:R=>gd.value(R(m)),mapError:S,bind:h,exists:h,forall:h,getOr:x,or:S,getOrThunk:x,orThunk:S,getOrDie:x,each:R=>{R(m)},toOptional:()=>ve.some(m)};return D},Gm=m=>{const h=()=>x,x={tag:!1,inner:m,fold:(D,R)=>D(m),isValue:ce,isError:Tt,map:h,mapError:D=>gd.error(D(m)),bind:h,exists:ce,forall:Tt,getOr:Yo,or:Yo,getOrThunk:mt,orThunk:mt,getOrDie:(S=String(m),()=>{throw new Error(S)}),each:Lt,toOptional:ve.none};var S;return x},gd={value:Uc,error:Gm,fromOption:(m,h)=>m.fold(()=>Gm(h),Uc)},ef=(m,h)=>({rowDelta:0,colDelta:xa(m[0])-xa(h[0])}),Gf=(m,h)=>({rowDelta:m.length-h.length,colDelta:0}),wu=(m,h,x,S)=>{const D=h.section==="colgroup"?x.col:x.cell;return Pt(m,R=>ns(D(),!0,S(R)))},tf=(m,h,x,S)=>{const D=m[m.length-1];return m.concat(Pt(h,()=>{const R=D.section==="colgroup"?x.colgroup:x.row,$=Nd(D,R,Yo),U=wu($.cells.length,$,x,te=>Jo(S,te.toString()));return wi($,U)}))},Ug=(m,h,x,S)=>T(m,D=>{const R=wu(h,D,x,ce);return Ml(D,S,R)}),_u=(m,h,x)=>{const S=h.colDelta<0?Ug:Yo,D=h.rowDelta<0?tf:Yo,R=ni(m),$=xa(m[0]),U=$e(R,ke=>ke===$-1),te=S(m,Math.abs(h.colDelta),x,U?$-1:$),ue=ni(te);return D(te,Math.abs(h.rowDelta),x,Wr(ue,Tt))},Gn=(m,h,x,S)=>{const D=at(S,hs(m[h],x).element),R=m[h];return m.length>1&&xa(R)>1&&(x>0&&D(Br(R,x-1))||x<R.cells.length-1&&D(Br(R,x+1))||h>0&&D(Br(m[h-1],x))||h<m.length-1&&D(Br(m[h+1],x)))},Jr=(m,h,x)=>Lo(x,S=>S>=m.column&&S<=xa(h[0])+m.column),ci=(m,h,x,S,D)=>{((ue,ke,ie,fe)=>{ke>0&&ke<ue[0].cells.length&&_o(ue,ge=>{const ze=ge.cells[ke-1];let Te=0;const Xe=fe();for(;ge.cells.length>ke+Te&&ie(ze.element,ge.cells[ke+Te].element);)Zu(ge,ke+Te,ns(Xe,!0,ge.cells[ke+Te].isLocked)),Te++})})(h,m,D,S.cell);const R=Gf(x,h),$=_u(x,R,S),U=Gf(h,$),te=_u(h,U,S);return T(te,(ue,ke)=>Ml(ue,m,$[ke].cells))},ul=(m,h,x,S,D)=>{((Ye,tt,yt,_t)=>{const De=xr(Ye).rows;if(tt>0&&tt<De.length){const It=((go,$o)=>we(go,(So,ho)=>$e(So,Ho=>$o(Ho.element,ho.element))?So:So.concat([ho]),[]))(De[tt-1].cells,yt);_o(It,go=>{let $o=ve.none();for(let So=tt;So<De.length;So++)for(let ho=0;ho<xa(De[0]);ho++){const Ho=De[So],xn=hs(Ho,ho);yt(xn.element,go.element)&&($o.isNone()&&($o=ve.some(_t())),$o.each(Ks=>{Zu(Ho,ho,ns(Ks,!0,xn.isLocked))}))}})}})(h,m,D,S.cell);const R=ni(h),$=ef(h,x),U={...$,colDelta:$.colDelta-R.length},te=_u(h,U,S),{cols:ue,rows:ke}=xr(te),ie=ni(te),fe=ef(x,h),ge={...fe,colDelta:fe.colDelta+ie.length},ze=(Xe=S,Je=ie,T(x,Ye=>we(Je,(tt,yt)=>{const _t=wu(1,Ye,Xe,Tt)[0];return Uu(tt,yt,_t)},Ye))),Te=_u(ze,ge,S);var Xe,Je;return[...ue,...ke.slice(0,m),...Te,...ke.slice(m,ke.length)]},Zg=(m,h,x,S,D)=>{const{rows:R,cols:$}=xr(m),U=R.slice(0,h),te=R.slice(h);return[...$,...U,((ue,ke,ie,fe)=>Nd(ue,ge=>fe(ge,ie),ke))(R[x],(ue,ke)=>h>0&&h<R.length&&S(Br(R[h-1],ke),Br(R[h],ke))?hs(R[h],ke):ns(D(ue.element,S),!0,ue.isLocked),S,D),...te]},Km=(m,h,x,S,D)=>T(m,R=>{const $=h>0&&h<xa(R)&&S(Br(R,h-1),Br(R,h)),U=((te,ue,ke,ie,fe,ge,ze)=>{if(ke!=="colgroup"&&ie)return hs(te,ue);{const Te=hs(te,fe);return ns(ze(Te.element,ge),!0,!1)}})(R,h,R.section,$,x,S,D);return Uu(R,h,U)}),Kf=(m,h,x,S)=>((D,R,$,U)=>Br(D[R],$)!==void 0&&R>0&&U(Br(D[R-1],$),Br(D[R],$)))(m,h,x,S)||((D,R,$)=>R>0&&$(Br(D,R-1),Br(D,R)))(m[h],x,S),Yf=(m,h,x,S)=>{const D=R=>($=>$==="row"?(U=>Cl(U,"rowspan")>1)(h):Sr(h))(R)?`${R}group`:R;return m?vu(h)?D(x):null:S&&vu(h)?D(x==="row"?"col":"row"):null},Wg=(m,h,x)=>ns(x(m.element,h),!0,m.isLocked),qp=(m,h,x,S,D,R,$)=>T(m,(U,te)=>((ue,ke)=>{const ie=ue.cells,fe=T(ie,(ge,ze)=>{if((Te=>$e(h,Xe=>x(Te.element,Xe.element)))(ge)){const Te=$(ge,te,ze)?D(ge,x,S):ge;return R(Te,te,ze).each(Xe=>{var Je,Ye;Je=Te.element,Ye={scope:ve.from(Xe)},kn(Ye,(tt,yt)=>{tt.fold(()=>{Vo(Je,yt)},_t=>{_r(Je.dom,yt,_t)})})}),Te}return ge});return sa(ue.element,fe,ue.section,ue.isNew)})(U)),Qy=(m,h,x)=>nt(m,(S,D)=>Kf(m,D,h,x)?[]:[hs(S,h)]),qg=(m,h,x,S,D)=>{const R=xr(m).rows,$=nt(h,ke=>Qy(R,ke,S)),U=T(R,ke=>Ol(ke.cells)),te=((ke,ie)=>Dt(ie,Yo)&&Ol(ke)?Tt:(fe,ge,ze)=>!(Gt(fe.element)==="th"&&ie[ge]))($,U);return qp(m,$,S,D,Wg,((ke,ie)=>(fe,ge)=>ve.some(Yf(ke,fe.element,"row",ie[ge])))(x,U),te)},Gg=(m,h,x,S)=>{const D=xr(m).rows,R=T(h,$=>hs(D[$.row],$.column));return qp(m,R,x,S,Wg,ve.none,Tt)},Xf=m=>{if(!sr(m))throw new Error("cases must be an array");if(m.length===0)throw new Error("there must be at least one case");const h=[],x={};return _o(m,(S,D)=>{const R=ra(S);if(R.length!==1)throw new Error("one and only one name per case");const $=R[0],U=S[$];if(x[$]!==void 0)throw new Error("duplicate key detected:"+$);if($==="cata")throw new Error("cannot have a case named cata (sorry)");if(!sr(U))throw new Error("case arguments must be an array");h.push($),x[$]=(...te)=>{const ue=te.length;if(ue!==U.length)throw new Error("Wrong number of arguments to case "+$+". Expected "+U.length+" ("+U+"), got "+ue);return{fold:(...ke)=>{if(ke.length!==m.length)throw new Error("Wrong number of arguments to fold. Expected "+m.length+", got "+ke.length);return ke[D].apply(null,te)},match:ke=>{const ie=ra(ke);if(h.length!==ie.length)throw new Error("Wrong number of arguments to match. Expected: "+h.join(",")+`
Actual: `+ie.join(","));if(!Dt(h,fe=>Io(ie,fe)))throw new Error("Not all branches were specified when using match. Specified: "+ie.join(", ")+`
Required: `+h.join(", "));return ke[$].apply(null,te)},log:ke=>{console.log(ke,{constructors:h,constructor:$,params:te})}}}}),x},Gp={...Xf([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},e1=(m,h,x)=>{const S=((D,R)=>Il(D)?(($,U)=>{const te=Bl($);return T(te,(ue,ke)=>({element:ue.element,width:U[ke],colspan:ue.colspan}))})(D,R):(($,U)=>{const te=Ut($);return T(te,ue=>{const ke=((ie,fe,ge)=>{let ze=0;for(let Te=ie;Te<fe;Te++)ze+=ge[Te]!==void 0?ge[Te]:0;return ze})(ue.column,ue.column+ue.colspan,U);return{element:ue.element,width:ke,colspan:ue.colspan}})})(D,R))(m,h);_o(S,D=>{x.setElementWidth(D.element,D.width)})},Cu=(m,h,x,S,D)=>{const R=Go(m),$=D.getCellDelta(h),U=D.getWidths(R,D),te=x===R.grid.columns-1,ue=S.clampTableDelta(U,x,$,D.minCellWidth(),te),ke=((fe,ge,ze,Te,Xe)=>{const Je=fe.slice(0),Ye=((yt,_t)=>yt.length===0?Gp.none():yt.length===1?Gp.only(0):_t===0?Gp.left(0,1):_t===yt.length-1?Gp.right(_t-1,_t):_t>0&&_t<yt.length-1?Gp.middle(_t-1,_t,_t+1):Gp.none())(fe,ge),tt=eo(T(Je,eo(0)));return Ye.fold(tt,yt=>Te.singleColumnWidth(Je[yt],ze),(yt,_t)=>Xe.calcLeftEdgeDeltas(Je,yt,_t,ze,Te.minCellWidth(),Te.isRelative),(yt,_t,De)=>Xe.calcMiddleDeltas(Je,yt,_t,De,ze,Te.minCellWidth(),Te.isRelative),(yt,_t)=>Xe.calcRightEdgeDeltas(Je,yt,_t,ze,Te.minCellWidth(),Te.isRelative))})(U,x,ue,D,S),ie=T(ke,(fe,ge)=>fe+U[ge]);e1(R,ie,D),S.resizeTable(D.adjustTableWidth,ue,te)},Ym=(m,h,x)=>{const S=Go(m),D=((te,ue)=>_a(te,ue,$p,ke=>ke.getOrThunk(_n)))(S,m),R=T(D,(te,ue)=>x===ue?Math.max(h+te,_n()):te),$=((te,ue)=>T(te.all,(ke,ie)=>({element:ke.element,height:ue[ie]})))(S,R);_o($,te=>{Pc(te.element,te.height)}),_o(Ut(S),te=>{(ue=>{Za(ue,"height")})(te.element)});const U=hr(R,(te,ue)=>te+ue,0);Pc(m,U)},Xm=m=>we(m,(h,x)=>$e(h,S=>S.column===x.column)?h:h.concat([x]),[]).sort((h,x)=>h.column-x.column),Su=Vn("col"),of=Vn("colgroup"),Kg=m=>Gt(m)==="tr"||of(m),zw=m=>({element:m,colspan:yr(m,"colspan",1),rowspan:yr(m,"rowspan",1)}),Yg=m=>no(m,"scope").map(h=>h.substr(0,3)),Zc=(m,h=zw)=>{const x=D=>{if(Kg(D))return of((R={element:D}).element)?m.colgroup(R):m.row(R);{const $=D,U=(te=>Su(te.element)?m.col(te):m.cell(te))(h($));return S=ve.some({item:$,replacement:U}),U}var R};let S=ve.none();return{getOrInit:(D,R)=>S.fold(()=>x(D),$=>R(D,$.item)?$.replacement:x(D))}},Ov=m=>h=>{const x=[],S=D=>{const R=m==="td"?{scope:null}:{},$=h.replace(D,m,R);return x.push({item:D,sub:$}),$};return{replaceOrInit:(D,R)=>{if(Kg(D)||Su(D))return D;{const $=D;return((U,te)=>At(x,ue=>te(ue.item,U)))($,R).fold(()=>S($),U=>R(D,U.item)?U.sub:S($))}}}},t1=m=>({unmerge:h=>{const x=Yg(h);return x.each(S=>Qo(h,"scope",S)),()=>{const S=m.cell({element:h,colspan:1,rowspan:1});return Za(S,"width"),Za(h,"width"),x.each(D=>Qo(S,"scope",D)),S}},merge:h=>(Za(h[0],"width"),(()=>{const x=Es(T(h,Yg));if(x.length===0)return ve.none();{const S=x[0],D=["row","col"];return $e(x,R=>R!==S&&Io(D,R))?ve.none():ve.from(S)}})().fold(()=>Vo(h[0],"scope"),x=>Qo(h[0],"scope",x+"group")),eo(h[0]))}),Jm=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],di=Vc(),Qm=m=>((h,x)=>{const S=h.property().name(x);return Io(Jm,S)})(di,m),ep=m=>((h,x)=>{const S=h.property().name(x);return Io(["ol","ul"],S)})(di,m),wb=m=>{const h=Vn("br"),x=D=>uc(D).bind(R=>{const $=ha(R).map(U=>!!Qm(U)||!!((te,ue)=>Io(["br","img","hr","input"],te.property().name(ue)))(di,U)&&Gt(U)!=="img").getOr(!1);return Va(R).map(U=>{return $===!0||Gt(te=U)==="li"||Mi(te,ep).isSome()||h(R)||Qm(U)&&!Xn(D,U)?[]:[st.fromTag("br")];var te})}).getOr([]),S=(()=>{const D=nt(m,R=>{const $=ps(R);return(U=>Dt(U,te=>h(te)||vn(te)&&hu(te).trim().length===0))($)?[]:$.concat(x(R))});return D.length===0?[st.fromTag("br")]:D})();ja(m[0]),Cs(m[0],S)},Sn=m=>xo(m,!0),fl=m=>{vr(m).length===0&&fr(m)},Zd=(m,h)=>({grid:m,cursor:h}),Ai=(m,h,x)=>{const S=((D,R,$)=>{var U,te;const ue=xr(D).rows;return ve.from((te=(U=ue[R])===null||U===void 0?void 0:U.cells[$])===null||te===void 0?void 0:te.element).filter(Sn).orThunk(()=>(ke=>H(ke,ie=>H(ie.cells,fe=>{const ge=fe.element;return Us(Sn(ge),ge)})))(ue))})(m,h,x);return Zd(m,S)},Ar=m=>we(m,(h,x)=>$e(h,S=>S.row===x.row)?h:h.concat([x]),[]).sort((h,x)=>h.row-x.row),Xg=(m,h)=>(x,S,D,R,$)=>{const U=Ar(S),te=T(U,ke=>ke.row),ue=((ke,ie,fe,ge,ze,Te,Xe)=>{const{cols:Je,rows:Ye}=xr(ke),tt=Ye[ie[0]],yt=nt(ie,So=>((ho,Ho,xn)=>{const Ks=ho[Ho];return nt(Ks.cells,(zi,Xa)=>Kf(ho,Ho,Xa,xn)?[]:[zi])})(Ye,So,ze)),_t=T(tt.cells,(So,ho)=>Ol(Qy(Ye,ho,ze))),De=[...Ye];_o(ie,So=>{De[So]=Xe.transformRow(Ye[So],fe)});const It=[...Je,...De],go=((So,ho)=>Dt(ho,Yo)&&Ol(So.cells)?Tt:(Ho,xn,Ks)=>!(Gt(Ho.element)==="th"&&ho[Ks]))(tt,_t),$o=((So,ho)=>(Ho,xn,Ks)=>ve.some(Yf(So,Ho.element,"col",ho[Ks])))(ge,_t);return qp(It,yt,ze,Te,Xe.transformCell,$o,go)})(x,te,m,h,D,R.replaceOrInit,$);return Ai(ue,S[0].row,S[0].column)},Dv=Xg("thead",!0),Tw=Xg("tbody",!1),Qr=Xg("tfoot",!1),_b=(m,h,x)=>{const S=((R,$)=>Ve(R,()=>$))(m,x.section),D=As(S);return bt(D,h,!0)},o1=(m,h,x,S)=>((D,R,$,U)=>{const te=As(R),ue=U.getWidths(te,U);e1(te,ue,U)})(0,h,0,S.sizing),Jf=(m,h,x,S)=>((D,R,$,U,te)=>{const ue=As(R),ke=U.getWidths(ue,U),ie=U.pixelWidth(),{newSizes:fe,delta:ge}=te.calcRedestributedWidths(ke,ie,$.pixelDelta,U.isRelative);e1(ue,fe,U),U.adjustTableWidth(ge)})(0,h,x,S.sizing,S.resize),Wc=(m,h)=>$e(h,x=>x.column===0&&x.isLocked),Kp=(m,h)=>$e(h,x=>x.column+x.colspan>=m.grid.columns&&x.isLocked),Bt=(m,h)=>{const x=uu(m),S=Xm(h);return we(S,(D,R)=>D+x[R.column].map(Rd).getOr(0),0)},hd=m=>(h,x)=>fa(h,x).filter(S=>!(m?Wc:Kp)(h,S)).map(S=>({details:S,pixelDelta:Bt(h,S)})),n1=m=>(h,x)=>qn(h,x).filter(S=>!(m?Wc:Kp)(h,S.cells)),Cb=Ov("th"),Yp=Ov("td"),Sb=Po((m,h,x,S)=>{const D=h[0].row,R=Ar(h),$=hr(R,(U,te)=>({grid:Zg(U.grid,D,te.row+U.delta,x,S.getOrInit),delta:U.delta+1}),{grid:m,delta:0}).grid;return Ai($,D,h[0].column)},fa,Lt,Lt,Zc),tp=Po((m,h,x,S)=>{const D=Ar(h),R=D[D.length-1],$=R.row+R.rowspan,U=hr(D,(te,ue)=>Zg(te,$,ue.row,x,S.getOrInit),m);return Ai(U,$,h[0].column)},fa,Lt,Lt,Zc),qc=Po((m,h,x,S)=>{const D=h.details,R=Xm(D),$=R[0].column,U=hr(R,(te,ue)=>({grid:Km(te.grid,$,ue.column+te.delta,x,S.getOrInit),delta:te.delta+1}),{grid:m,delta:0}).grid;return Ai(U,D[0].row,$)},hd(!0),Jf,Lt,Zc),Ow=Po((m,h,x,S)=>{const D=h.details,R=D[D.length-1],$=R.column+R.colspan,U=Xm(D),te=hr(U,(ue,ke)=>Km(ue,$,ke.column,x,S.getOrInit),m);return Ai(te,D[0].row,$)},hd(!1),Jf,Lt,Zc),Eb=Po((m,h,x,S)=>{const D=Xm(h.details),R=((U,te)=>nt(U,ue=>{const ke=ue.cells,ie=hr(te,(fe,ge)=>ge>=0&&ge<fe.length?fe.slice(0,ge).concat(fe.slice(ge+1)):fe,ke);return ie.length>0?[sa(ue.element,ie,ue.section,ue.isNew)]:[]}))(m,T(D,U=>U.column)),$=R.length>0?R[0].cells.length-1:0;return Ai(R,D[0].row,Math.min(D[0].column,$))},(m,h)=>Xr(m,h).map(x=>({details:x,pixelDelta:-Bt(m,x)})),Jf,fl,Zc),r1=Po((m,h,x,S)=>{const D=Ar(h),R=((U,te,ue)=>{const{rows:ke,cols:ie}=xr(U);return[...ie,...ke.slice(0,te),...ke.slice(ue+1)]})(m,D[0].row,D[D.length-1].row),$=Math.max(xr(R).rows.length-1,0);return Ai(R,Math.min(h[0].row,$),h[0].column)},fa,Lt,fl,Zc),Ab=Po((m,h,x,S)=>{const D=Xm(h),R=T(D,U=>U.column),$=qg(m,R,!0,x,S.replaceOrInit);return Ai($,h[0].row,h[0].column)},Xr,Lt,Lt,Cb),s1=Po((m,h,x,S)=>{const D=Xm(h),R=T(D,U=>U.column),$=qg(m,R,!1,x,S.replaceOrInit);return Ai($,h[0].row,h[0].column)},Xr,Lt,Lt,Yp),a1=Po(Dv,Xr,Lt,Lt,Cb),zb=Po(Tw,Xr,Lt,Lt,Yp),i1=Po(Qr,Xr,Lt,Lt,Yp),l1=Po((m,h,x,S)=>{const D=Gg(m,h,x,S.replaceOrInit);return Ai(D,h[0].row,h[0].column)},Xr,Lt,Lt,Cb),Rv=Po((m,h,x,S)=>{const D=Gg(m,h,x,S.replaceOrInit);return Ai(D,h[0].row,h[0].column)},Xr,Lt,Lt,Yp),Dw=Po((m,h,x,S)=>{const D=h.cells;wb(D);const R=(($,U,te,ue)=>{const ke=xr($).rows;if(ke.length===0)return $;for(let ie=U.startRow;ie<=U.finishRow;ie++)for(let fe=U.startCol;fe<=U.finishCol;fe++){const ge=ke[ie],ze=hs(ge,fe).isLocked;Zu(ge,fe,ns(ue(),!1,ze))}return $})(m,h.bounds,0,S.merge(D));return Zd(R,ve.from(D[0]))},(m,h)=>((x,S)=>S.mergable)(0,h).filter(x=>gc(m,x.cells)),o1,Lt,t1),Jg=Po((m,h,x,S)=>{const D=hr(h,(R,$)=>hc(R,$,x,S.unmerge($)),m);return Zd(D,ve.from(h[0]))},(m,h)=>((x,S)=>S.unmergable)(0,h).filter(x=>gc(m,x)),o1,Lt,t1),c1=Po((m,h,x,S)=>{const D=((U,te)=>{const ue=Go(U);return bt(ue,te,!0)})(h.clipboard,h.generators);var R,$;return((U,te,ue,ke,ie)=>{const fe=ni(te),ge=((Je,Ye,tt)=>{const yt=xa(Ye[0]),_t=xr(Ye).cols.length+Je.row,De=Pt(yt-Je.column,It=>It+Je.column);return{row:_t,column:At(De,It=>Dt(tt,go=>go!==It)).getOr(yt-1)}})(U,te,fe),ze=xr(ue).rows,Te=Jr(ge,ze,fe);return((Je,Ye,tt)=>{if(Je.row>=Ye.length||Je.column>xa(Ye[0]))return gd.error("invalid start address out of table bounds, row: "+Je.row+", column: "+Je.column);const yt=Ye.slice(Je.row),_t=yt[0].cells.slice(Je.column),De=xa(tt[0]),It=tt.length;return gd.value({rowDelta:yt.length-It,colDelta:_t.length-De})})(ge,te,ze).map(Je=>{const Ye={...Je,colDelta:Je.colDelta-Te.length},tt=_u(te,Ye,ke),yt=ni(tt),_t=Jr(ge,ze,yt);return((De,It,go,$o,So,ho)=>{const Ho=De.row,xn=De.column,Ks=Ho+go.length,zi=xn+xa(go[0])+ho.length,Xa=Wr(ho,Tt);for(let yc=Ho;yc<Ks;yc++){let um=0;for(let Ti=xn;Ti<zi;Ti++){if(Xa[Ti]){um++;continue}Gn(It,yc,Ti,So)&&hc(It,Br(It[yc],Ti),So,$o.cell);const Gd=Ti-xn-um,rg=hs(go[yc-Ho],Gd),bf=rg.element,sg=$o.replace(bf);Zu(It[yc],Ti,ns(sg,!0,rg.isLocked))}}return It})(ge,tt,ze,ke,ie,_t)})})((R=h.row,$=h.column,{row:R,column:$}),m,D,h.generators,x).fold(()=>Zd(m,ve.some(h.element)),U=>Ai(U,h.row,h.column))},(m,h)=>Dc(h.element).bind(x=>Kt(m,x).map(S=>({...S,generators:h.generators,clipboard:h.clipboard}))),o1,Lt,Zc),op=Po((m,h,x,S)=>{const D=xr(m).rows,R=h.cells[0].column,$=D[h.cells[0].row],U=_b(h.clipboard,h.generators,$),te=ci(R,m,U,h.generators,x);return Ai(te,h.cells[0].row,h.cells[0].column)},n1(!0),Lt,Lt,Zc),Rw=Po((m,h,x,S)=>{const D=xr(m).rows,R=h.cells[h.cells.length-1].column+h.cells[h.cells.length-1].colspan,$=D[h.cells[0].row],U=_b(h.clipboard,h.generators,$),te=ci(R,m,U,h.generators,x);return Ai(te,h.cells[0].row,R)},n1(!1),Lt,Lt,Zc),Nw=Po((m,h,x,S)=>{const D=xr(m).rows,R=h.cells[0].row,$=D[R],U=_b(h.clipboard,h.generators,$),te=ul(R,m,U,h.generators,x);return Ai(te,h.cells[0].row,h.cells[0].column)},qn,Lt,Lt,Zc),nf=Po((m,h,x,S)=>{const D=xr(m).rows,R=h.cells[h.cells.length-1].row+h.cells[h.cells.length-1].rowspan,$=D[h.cells[0].row],U=_b(h.clipboard,h.generators,$),te=ul(R,m,U,h.generators,x);return Ai(te,R,h.cells[0].column)},qn,Lt,Lt,Zc),Qf=(m,h)=>{const x=Go(m);return fa(x,h).bind(S=>{const D=S[S.length-1],R=S[0].column,$=D.column+D.colspan,U=kt(T(x.all,te=>Lo(te.cells,ue=>ue.column>=R&&ue.column<$)));return Ms(U)}).getOr("")},Tb=(m,h)=>{const x=Go(m);return fa(x,h).bind(Ms).getOr("")},Nv=(m,h)=>{const x=Go(m);return fa(x,h).bind(S=>{const D=S[S.length-1],R=S[0].row,$=D.row+D.rowspan;return(U=>{const te=T(U,ie=>xu(ie).type),ue=Io(te,"header"),ke=Io(te,"footer");if(ue||ke){const ie=Io(te,"body");return!ue||ie||ke?ue||ie||!ke?ve.none():ve.some("footer"):ve.some("header")}return ve.some("body")})(x.all.slice(R,$))}).getOr("")},d1=(m,h)=>m.dispatch("NewRow",{node:h}),Qg=(m,h)=>m.dispatch("NewCell",{node:h}),Eu=(m,h,x)=>{m.dispatch("TableModified",{...x,table:h})},Ob={structure:!1,style:!0},ma={structure:!0,style:!1},Os={structure:!0,style:!0},rf=(m,h)=>$c(m)?Fl(h):_(m)?qr(h):gu(h),u1=(m,h,x)=>{const S=ke=>Gt(Fn(ke))==="table",D=dl(m),R=Lf(m)?Lt:qf,$=ke=>{switch(fc(m)){case"section":return ua();case"sectionCells":return kb();case"cells":return k();default:return((ie,fe)=>{var ge;switch((ge=Go(ie),H(ge.all,ze=>{const Te=xu(ze);return Te.type==="header"?ve.from(Te.subType):ve.none()})).getOr(fe)){case"section":return da();case"sectionCells":return ft();case"cells":return ku()}})(ke,"section")}},U=(ke,ie,fe,ge)=>(ze,Te,Xe=!1)=>{Yr(ze);const Je=st.fromDom(m.getDoc()),Ye=kr(fe,Je,D),tt={sizing:rf(m,ze),resize:Lf(m)?jc():Wp(),section:$(ze)};return ie(ze)?ke(ze,Te,Ye,tt).bind(yt=>{h.refresh(ze.dom),_o(yt.newRows,De=>{d1(m,De.dom)}),_o(yt.newCells,De=>{Qg(m,De.dom)});const _t=((De,It)=>It.cursor.fold(()=>{const go=vr(De);return yn(go).filter(Ni).map($o=>{x.clearSelectedCells(De.dom);const So=m.dom.createRng();return So.selectNode($o.dom),m.selection.setRng(So),Qo($o,"data-mce-selected","1"),So})},go=>{const $o=Zp(Wf,go),So=m.dom.createRng();return So.setStart($o.element.dom,$o.offset),So.setEnd($o.element.dom,$o.offset),m.selection.setRng(So),x.clearSelectedCells(De.dom),ve.some(So)}))(ze,yt);return Ni(ze)&&(Yr(ze),Xe||Eu(m,ze.dom,ge)),_t.map(De=>({rng:De,effect:ge}))}):ve.none()},te=U(r1,ke=>!S(m)||Wl(ke).rows>1,Lt,ma),ue=U(Eb,ke=>!S(m)||Wl(ke).columns>1,Lt,ma);return{deleteRow:te,deleteColumn:ue,insertRowsBefore:U(Sb,Tt,Lt,ma),insertRowsAfter:U(tp,Tt,Lt,ma),insertColumnsBefore:U(qc,Tt,R,ma),insertColumnsAfter:U(Ow,Tt,R,ma),mergeCells:U(Dw,Tt,Lt,ma),unmergeCells:U(Jg,Tt,Lt,ma),pasteColsBefore:U(op,Tt,Lt,ma),pasteColsAfter:U(Rw,Tt,Lt,ma),pasteRowsBefore:U(Nw,Tt,Lt,ma),pasteRowsAfter:U(nf,Tt,Lt,ma),pasteCells:U(c1,Tt,Lt,Os),makeCellsHeader:U(l1,Tt,Lt,ma),unmakeCellsHeader:U(Rv,Tt,Lt,ma),makeColumnsHeader:U(Ab,Tt,Lt,ma),unmakeColumnsHeader:U(s1,Tt,Lt,ma),makeRowsHeader:U(a1,Tt,Lt,ma),makeRowsBody:U(zb,Tt,Lt,ma),makeRowsFooter:U(i1,Tt,Lt,ma),getTableRowType:Nv,getTableCellType:Tb,getTableColType:Qf}},Db=(m,h,x)=>{const S=yr(m,h,1);x===1||S<=1?Vo(m,h):Qo(m,h,Math.min(x,S))},Ya=(m,h)=>x=>{const S=x.column+x.colspan-1,D=x.column;return S>=m&&D<h},Qi=Xf([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),np=(m,h,x)=>{const S=x.substring(0,x.length-m.length),D=parseFloat(S);return S===D.toString()?h(D):Qi.invalid(x)},sf={...Qi,from:m=>lo(m,"%")?np("%",Qi.percent,m):lo(m,"px")?np("px",Qi.pixels,m):Qi.invalid(m)},em=(m,h,x)=>{const S=sf.from(x),D=Dt(m,R=>R==="0px")?((R,$)=>{const U=R.fold(()=>eo(""),te=>eo(te/$+"px"),()=>eo(100/$+"%"));return Pt($,U)})(S,m.length):((R,$,U)=>R.fold(()=>$,te=>((ue,ke,ie)=>{const fe=ie/ke;return T(ue,ge=>sf.from(ge).fold(()=>ge,ze=>ze*fe+"px",ze=>ze/100*ie+"px"))})($,U,te),te=>((ue,ke)=>T(ue,ie=>sf.from(ie).fold(()=>ie,fe=>fe/ke*100+"%",fe=>fe+"%")))($,U)))(S,m,h);return f1(D)},Rb=(m,h)=>m.length===0?h:hr(m,(x,S)=>sf.from(S).fold(eo(0),Yo,Yo)+x,0),Mv=(m,h)=>sf.from(m).fold(eo(m),x=>x+h+"px",x=>x+h+"%"),f1=m=>{if(m.length===0)return m;const h=hr(m,(S,D)=>{const R=sf.from(D).fold(()=>({value:D,remainder:0}),$=>((U,te)=>{const ue=Math.floor(U);return{value:ue+"px",remainder:U-ue}})($),$=>({value:$+"%",remainder:0}));return{output:[R.value].concat(S.output),remainder:S.remainder+R.remainder}},{output:[],remainder:0}),x=h.output;return x.slice(0,x.length-1).concat([Mv(x[x.length-1],Math.round(h.remainder))])},tm=sf.from,zr=(m,h,x)=>{const S=Go(m),D=S.all,R=Ut(S),$=Bl(S);h.each(U=>{const te=tm(U).fold(eo("px"),eo("px"),eo("%")),ue=Ii(m),ke=((fe,ge)=>zs(fe,ge,ai,Pf))(S,m),ie=em(ke,ue,U);Il(S)?((fe,ge,ze)=>{_o(ge,(Te,Xe)=>{const Je=Rb([fe[Xe]],Zs());Xo(Te.element,"width",Je+ze)})})(ie,$,te):((fe,ge,ze)=>{_o(ge,Te=>{const Xe=fe.slice(Te.column,Te.colspan+Te.column),Je=Rb(Xe,Zs());Xo(Te.element,"width",Je+ze)})})(ie,R,te),Xo(m,"width",U)}),x.each(U=>{const te=Nc(m),ue=((ke,ie)=>_a(ke,ie,wa,Pf))(S,m);((ke,ie,fe)=>{_o(fe,ge=>{Za(ge.element,"height")}),_o(ie,(ge,ze)=>{Xo(ge.element,"height",ke[ze])})})(em(ue,te,U),D,R),Xo(m,"height",U)})},Nb=m=>Tl(m).exists(h=>ea.test(h)),es=m=>Tl(m).exists(h=>to.test(h)),Wd=m=>Tl(m).isNone(),bd=m=>{Vo(m,"width"),Vo(m,"height")},rp=m=>{const h=Pd(m);zr(m,ve.some(h),ve.none()),bd(m)},ml=m=>{const h=(x=>Ii(x)+"px")(m);zr(m,ve.some(h),ve.none()),bd(m)},ui=m=>{Za(m,"width");const h=va(m),x=h.length>0?h:vr(m);_o(x,S=>{Za(S,"width"),bd(S)}),bd(m)},om={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},eh=(m,h,x,S)=>Pt(m,D=>((R,$,U,te)=>{const ue=st.fromTag("tr");for(let ke=0;ke<R;ke++){const ie=st.fromTag(te<$||ke<U?"th":"td");ke<U&&Qo(ie,"scope","row"),te<$&&Qo(ie,"scope","col"),br(ie,st.fromTag("br")),br(ue,ie)}return ue})(h,x,S,D)),sp=(m,h)=>{m.selection.select(h.dom,!0),m.selection.collapse(!0)},th=(m,h,x,S,D)=>{const R=(U=>{const te=U.options,ue=te.get("table_default_styles");return te.isSet("table_default_styles")?ue:((ke,ie)=>N(ke)||!de(ke)?ie:_(ke)?{...ie,width:Si(ke)}:{...ie,width:Li})(U,ue)})(m),$={styles:R,attributes:Ke(m),colGroups:io(m)};return m.undoManager.ignore(()=>{const U=((ue,ke,ie,fe,ge,ze=om)=>{const Te=st.fromTag("table"),Xe=ge!=="cells";il(Te,ze.styles),$s(Te,ze.attributes),ze.colGroups&&br(Te,(yt=>{const _t=st.fromTag("colgroup");return Pt(yt,()=>br(_t,st.fromTag("col"))),_t})(ke));const Je=Math.min(ue,ie);if(Xe&&ie>0){const yt=st.fromTag("thead");br(Te,yt);const _t=eh(ie,ke,ge==="sectionCells"?Je:0,fe);Cs(yt,_t)}const Ye=st.fromTag("tbody");br(Te,Ye);const tt=eh(Xe?ue-Je:ue,ke,Xe?0:ie,fe);return Cs(Ye,tt),Te})(x,h,D,S,fc(m),$);Qo(U,"data-mce-id","__mce");const te=(ue=>{const ke=st.fromTag("div"),ie=st.fromDom(ue.dom.cloneNode(!0));return br(ke,ie),(fe=>fe.dom.innerHTML)(ke)})(U);m.insertContent(te),m.addVisual()}),Mr(Fn(m),'table[data-mce-id="__mce"]').map(U=>(_(m)?ml(U):N(m)?ui(U):($c(m)||(te=>Dr(te)&&te.indexOf("%")!==-1)(R.width))&&rp(U),Yr(U),Vo(U,"data-mce-id"),((te,ue)=>{_o(Bn(ue,"tr"),ke=>{d1(te,ke.dom),_o(Bn(ke,"th,td"),ie=>{Qg(te,ie.dom)})})})(m,U),((te,ue)=>{Mr(ue,"td,th").each(at(sp,te))})(m,U),U.dom)).getOrNull()};var ap=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Bv="x-tinymce/dom-table-",m1=Bv+"rows",p1=Bv+"columns",Iv=m=>{const h=ap.FakeClipboardItem(m);ap.write([h])},fi=m=>{var h;const x=(h=ap.read())!==null&&h!==void 0?h:[];return H(x,S=>ve.from(S.getType(m)))},nm=m=>{fi(m).isSome()&&ap.clear()},Pv=m=>{m.fold(el,h=>Iv({[m1]:h}))},Gc=()=>fi(m1),el=()=>nm(m1),ip=m=>{m.fold(Lv,h=>Iv({[p1]:h}))},Xp=()=>fi(p1),Lv=()=>nm(p1),xs=m=>jd(Vl(m),cs(m)).filter(Vp),ks=(m,h)=>{const x=cs(m),S=ie=>G(ie,x),D=ie=>(fe=>Zr(Vl(fe),cs(fe)).filter(Vp))(m).bind(fe=>S(fe).map(ge=>ie(ge,fe))),R=ie=>{m.focus()},$=(ie,fe=!1)=>D((ge,ze)=>{const Te=Uo(Ul(m),ge,ze);ie(ge,Te,fe).each(R)}),U=()=>D((ie,fe)=>((ge,ze,Te)=>{const Xe=Go(ge);return fa(Xe,ze).bind(Je=>{const Ye=bt(Xe,Te,!1),tt=xr(Ye).rows.slice(Je[0].row,Je[Je.length-1].row+Je[Je.length-1].rowspan),yt=nt(tt,De=>{const It=Lo(De.cells,go=>!go.isLocked);return It.length>0?[{...De,cells:It}]:[]}),_t=ko(yt);return Us(_t.length>0,_t)}).map(Je=>T(Je,Ye=>{const tt=wl(Ye.element);return _o(Ye.cells,yt=>{const _t=Gi(yt.element);V(_t,"colspan",yt.colspan,1),V(_t,"rowspan",yt.rowspan,1),br(tt,_t)}),tt}))})(ie,Uo(Ul(m),ie,fe),kr(Lt,st.fromDom(m.getDoc()),ve.none()))),te=()=>D((ie,fe)=>((ge,ze)=>{const Te=Go(ge);return Xr(Te,ze).map(Xe=>{const Je=Xe[Xe.length-1],Ye=Xe[0].column,tt=Je.column+Je.colspan,yt=((De,It,go)=>{if(Il(De)){const $o=Lo(Bl(De),Ya(It,go)),So=T($o,Ho=>{const xn=Gi(Ho.element);return Db(xn,"span",go-It),xn}),ho=st.fromTag("colgroup");return Cs(ho,So),[ho]}return[]})(Te,Ye,tt),_t=((De,It,go)=>T(De.all,$o=>{const So=Lo($o.cells,Ya(It,go)),ho=T(So,xn=>{const Ks=Gi(xn.element);return Db(Ks,"colspan",go-It),Ks}),Ho=st.fromTag("tr");return Cs(Ho,ho),Ho}))(Te,Ye,tt);return[...yt,..._t]})})(ie,Uo(Ul(m),ie,fe))),ue=(ie,fe)=>fe().each(ge=>{const ze=T(ge,Te=>Gi(Te));D((Te,Xe)=>{const Je=Wn(st.fromDom(m.getDoc())),Ye=((tt,yt,_t,De)=>({selection:$d(tt),clipboard:_t,generators:De}))(Ul(m),0,ze,Je);ie(Te,Ye).each(R)})}),ke=ie=>(fe,ge)=>((ze,Te)=>Jo(ze,Te)?ve.from(ze[Te]):ve.none())(ge,"type").each(ze=>{$(ie(ze),ge.no_events)});kn({mceTableSplitCells:()=>$(h.unmergeCells),mceTableMergeCells:()=>$(h.mergeCells),mceTableInsertRowBefore:()=>$(h.insertRowsBefore),mceTableInsertRowAfter:()=>$(h.insertRowsAfter),mceTableInsertColBefore:()=>$(h.insertColumnsBefore),mceTableInsertColAfter:()=>$(h.insertColumnsAfter),mceTableDeleteCol:()=>$(h.deleteColumn),mceTableDeleteRow:()=>$(h.deleteRow),mceTableCutCol:()=>te().each(ie=>{ip(ie),$(h.deleteColumn)}),mceTableCutRow:()=>U().each(ie=>{Pv(ie),$(h.deleteRow)}),mceTableCopyCol:()=>te().each(ie=>ip(ie)),mceTableCopyRow:()=>U().each(ie=>Pv(ie)),mceTablePasteColBefore:()=>ue(h.pasteColsBefore,Xp),mceTablePasteColAfter:()=>ue(h.pasteColsAfter,Xp),mceTablePasteRowBefore:()=>ue(h.pasteRowsBefore,Gc),mceTablePasteRowAfter:()=>ue(h.pasteRowsAfter,Gc),mceTableDelete:()=>xs(m).each(ie=>{G(ie,x).filter(it(x)).each(fe=>{const ge=st.fromText("");if(_s(fe,ge),fr(fe),m.dom.isEmpty(m.getBody()))m.setContent(""),m.selection.setCursorLocation();else{const ze=m.dom.createRng();ze.setStart(ge.dom,0),ze.setEnd(ge.dom,0),m.selection.setRng(ze),m.nodeChanged()}})}),mceTableCellToggleClass:(ie,fe)=>{D(ge=>{const ze=Ul(m),Te=Dt(ze,Je=>m.formatter.match("tablecellclass",{value:fe},Je.dom)),Xe=Te?m.formatter.remove:m.formatter.apply;_o(ze,Je=>Xe("tablecellclass",{value:fe},Je.dom)),Eu(m,ge.dom,Ob)})},mceTableToggleClass:(ie,fe)=>{D(ge=>{m.formatter.toggle("tableclass",{value:fe},ge.dom),Eu(m,ge.dom,Ob)})},mceTableToggleCaption:()=>{xs(m).each(ie=>{G(ie,x).each(fe=>{al(fe,"caption").fold(()=>{const ge=st.fromTag("caption");br(ge,st.fromText("Caption")),((ze,Te,Xe)=>{zc(ze,0).fold(()=>{br(ze,Te)},Je=>{Et(Je,Te)})})(fe,ge),m.selection.setCursorLocation(ge.dom,0)},ge=>{Vn("caption")(ie)&&vi("td",fe).each(ze=>m.selection.setCursorLocation(ze.dom,0)),fr(ge)}),Eu(m,fe.dom,ma)})})},mceTableSizingMode:(ie,fe)=>(ge=>xs(m).each(ze=>{N(m)||_(m)||$c(m)||G(ze,x).each(Te=>{ge!=="relative"||Nb(Te)?ge!=="fixed"||es(Te)?ge!=="responsive"||Wd(Te)||ui(Te):ml(Te):rp(Te),Yr(Te),Eu(m,Te.dom,ma)})}))(fe),mceTableCellType:ke(ie=>ie==="th"?h.makeCellsHeader:h.unmakeCellsHeader),mceTableColType:ke(ie=>ie==="th"?h.makeColumnsHeader:h.unmakeColumnsHeader),mceTableRowType:ke(ie=>{switch(ie){case"header":return h.makeRowsHeader;case"footer":return h.makeRowsFooter;default:return h.makeRowsBody}})},(ie,fe)=>m.addCommand(fe,ie)),m.addCommand("mceInsertTable",(ie,fe)=>{((ge,ze,Te,Xe={})=>{const Je=Ye=>Rr(Ye)&&Ye>0;if(Je(ze)&&Je(Te)){const Ye=Xe.headerRows||0,tt=Xe.headerColumns||0;return th(ge,Te,ze,tt,Ye)}console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table.")})(m,fe.rows,fe.columns,fe.options)}),m.addCommand("mceTableApplyCellStyle",(ie,fe)=>{const ge=Xe=>"tablecell"+Xe.toLowerCase().replace("-","");if(!Do(fe))return;const ze=Lo(Ul(m),Vp);if(ze.length===0)return;const Te=((Xe,Je)=>{const Ye={};return((tt,yt,_t,De)=>{kn(tt,(It,go)=>{(yt(It,go)?_t:De)(It,go)})})(Xe,Je,(tt=>(yt,_t)=>{tt[_t]=yt})(Ye),Lt),Ye})(fe,(Xe,Je)=>m.formatter.has(ge(Je))&&Dr(Xe));(Xe=>{for(const Je in Xe)if(Hn.call(Xe,Je))return!1;return!0})(Te)||(kn(Te,(Xe,Je)=>{const Ye=ge(Je);_o(ze,tt=>{Xe===""?m.formatter.remove(Ye,{value:null},tt.dom,!0):m.formatter.apply(Ye,{value:Xe},tt.dom)})}),S(ze[0]).each(Xe=>Eu(m,Xe.dom,Ob)))})},Gs=Xf([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),cr={before:Gs.before,on:Gs.on,after:Gs.after,cata:(m,h,x,S)=>m.fold(h,x,S),getStart:m=>m.fold(Yo,Yo,Yo)},fs=(m,h)=>({selection:m,kill:h}),Bs=(m,h)=>{const x=m.document.createRange();return x.selectNode(h.dom),x},Mb=(m,h)=>{const x=m.document.createRange();return Bb(x,h),x},Bb=(m,h)=>m.selectNodeContents(h.dom),g1=(m,h,x)=>{const S=m.document.createRange();var D;return D=S,h.fold(R=>{D.setStartBefore(R.dom)},(R,$)=>{D.setStart(R.dom,$)},R=>{D.setStartAfter(R.dom)}),((R,$)=>{$.fold(U=>{R.setEndBefore(U.dom)},(U,te)=>{R.setEnd(U.dom,te)},U=>{R.setEndAfter(U.dom)})})(S,x),S},oh=(m,h,x,S,D)=>{const R=m.document.createRange();return R.setStart(h.dom,x),R.setEnd(S.dom,D),R},h1=m=>({left:m.left,top:m.top,right:m.right,bottom:m.bottom,width:m.width,height:m.height}),lp=Xf([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Ib=(m,h,x)=>h(st.fromDom(x.startContainer),x.startOffset,st.fromDom(x.endContainer),x.endOffset),Pb=(m,h)=>{const x=((S,D)=>D.match({domRange:R=>({ltr:eo(R),rtl:ve.none}),relative:(R,$)=>({ltr:To(()=>g1(S,R,$)),rtl:To(()=>ve.some(g1(S,$,R)))}),exact:(R,$,U,te)=>({ltr:To(()=>oh(S,R,$,U,te)),rtl:To(()=>ve.some(oh(S,U,te,R,$)))})}))(m,h);return((S,D)=>{const R=D.ltr();return R.collapsed?D.rtl().filter($=>$.collapsed===!1).map($=>lp.rtl(st.fromDom($.endContainer),$.endOffset,st.fromDom($.startContainer),$.startOffset)).getOrThunk(()=>Ib(0,lp.ltr,R)):Ib(0,lp.ltr,R)})(0,x)},b1=(m,h)=>Pb(m,h).match({ltr:(x,S,D,R)=>{const $=m.document.createRange();return $.setStart(x.dom,S),$.setEnd(D.dom,R),$},rtl:(x,S,D,R)=>{const $=m.document.createRange();return $.setStart(D.dom,R),$.setEnd(x.dom,S),$}});lp.ltr,lp.rtl;const nh=(m,h,x,S)=>({start:m,soffset:h,finish:x,foffset:S}),pl=(m,h,x,S)=>({start:cr.on(m,h),finish:cr.on(x,S)}),y1=(m,h)=>{const x=b1(m,h);return nh(st.fromDom(x.startContainer),x.startOffset,st.fromDom(x.endContainer),x.endOffset)},Fi=pl,rh=(m,h,x,S,D)=>Xn(x,S)?ve.none():mc(x,S,h).bind(R=>{const $=R.boxes.getOr([]);return $.length>1?(D(m,$,R.start,R.finish),ve.some(fs(ve.some(Fi(x,0,x,ys(x))),!0))):ve.none()}),cp=(m,h)=>({item:m,mode:h}),yd=(m,h,x,S=Is)=>m.property().parent(h).map(D=>cp(D,S)),Is=(m,h,x,S=rm)=>x.sibling(m,h).map(D=>cp(D,S)),rm=(m,h,x,S=rm)=>{const D=m.property().children(h);return x.first(D).map(R=>cp(R,S))},v1=[{current:yd,next:Is,fallback:ve.none()},{current:Is,next:rm,fallback:ve.some(yd)},{current:rm,next:rm,fallback:ve.some(Is)}],x1=(m,h,x,S,D=v1)=>At(D,R=>R.current===x).bind(R=>R.current(m,h,S,R.next).orThunk(()=>R.fallback.bind($=>x1(m,h,$,S)))),sh=(m,h,x,S,D,R)=>x1(m,h,S,D).bind($=>R($.item)?ve.none():x($.item)?ve.some($.item):sh(m,$.item,x,$.mode,D,R)),Au=m=>h=>m.property().children(h).length===0,Mw=(m,h,x,S)=>sh(m,h,x,Is,{sibling:(D,R)=>D.query().prevSibling(R),first:D=>D.length>0?ve.some(D[D.length-1]):ve.none()},S),ah=(m,h,x,S)=>sh(m,h,x,Is,{sibling:(D,R)=>D.query().nextSibling(R),first:D=>D.length>0?ve.some(D[0]):ve.none()},S),sm=Vc(),Fv=(m,h)=>((x,S,D)=>Mw(x,S,Au(x),D))(sm,m,h),ih=(m,h)=>((x,S,D)=>ah(x,S,Au(x),D))(sm,m,h),lh=Xf([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),Lb=m=>pn(m,"tr"),Jp={...lh,verify:(m,h,x,S,D,R,$)=>pn(S,"td,th",$).bind(U=>pn(h,"td,th",$).map(te=>Xn(U,te)?Xn(S,U)&&ys(U)===D?R(te):lh.none("in same cell"):Fd(Lb,[U,te]).fold(()=>((ue,ke,ie)=>{const fe=ue.getRect(ke),ge=ue.getRect(ie);return ge.right>fe.left&&ge.left<fe.right})(m,te,U)?lh.success():R(te),ue=>R(te)))).getOr(lh.none("default")),cata:(m,h,x,S,D)=>m.fold(h,x,S,D)},Fb=Vn("br"),Hi=(m,h,x)=>h(m,x).bind(S=>vn(S)&&hu(S).trim().length===0?Hi(S,h,x):ve.some(S)),k1=(m,h,x,S)=>((D,R)=>zc(D,R).filter(Fb).orThunk(()=>zc(D,R-1).filter(Fb)))(h,x).bind(D=>S.traverse(D).fold(()=>Hi(D,S.gather,m).map(S.relative),R=>($=>Va($).bind(U=>{const te=ps(U);return((ue,ke)=>dn(ue,at(Xn,ke)))(te,$).map(ue=>((ke,ie,fe,ge)=>({parent:ke,children:ie,element:fe,index:ge}))(U,te,$,ue))}))(R).map($=>cr.on($.parent,$.index)))),zu=(m,h)=>({left:m.left,top:m.top+h,right:m.right,bottom:m.bottom+h}),ch=(m,h)=>({left:m.left,top:m.top-h,right:m.right,bottom:m.bottom-h}),qd=(m,h,x)=>({left:m.left+h,top:m.top+x,right:m.right+h,bottom:m.bottom+x}),dh=m=>({left:m.left,top:m.top,right:m.right,bottom:m.bottom}),uh=(m,h)=>ve.some(m.getRect(h)),am=(m,h,x)=>$n(h)?uh(m,h).map(dh):vn(h)?((S,D,R)=>R>=0&&R<ys(D)?S.getRangedRect(D,R,D,R+1):R>0?S.getRangedRect(D,R-1,D,R):ve.none())(m,h,x).map(dh):ve.none(),dp=(m,h)=>$n(h)?uh(m,h).map(dh):vn(h)?m.getRangedRect(h,0,h,ys(h)).map(dh):ve.none(),Kc=Xf([{none:[]},{retry:["caret"]}]),fh=(m,h,x)=>_l(h,Qm).fold(ce,S=>dp(m,S).exists(D=>((R,$)=>R.left<$.left||Math.abs($.right-R.left)<1||R.left>$.right)(x,D))),Bw={point:m=>m.bottom,adjuster:(m,h,x,S,D)=>{const R=zu(D,5);return Math.abs(x.bottom-S.bottom)<1||x.top>D.bottom?Kc.retry(R):x.top===D.bottom?Kc.retry(zu(D,1)):fh(m,h,D)?Kc.retry(qd(R,5,0)):Kc.none()},move:zu,gather:ih},bc=(m,h,x,S,D)=>D===0?ve.some(S):((R,$,U)=>R.elementFromPoint($,U).filter(te=>Gt(te)==="table").isSome())(m,S.left,h.point(S))?((R,$,U,te,ue)=>bc(R,$,U,$.move(te,5),ue))(m,h,x,S,D-1):m.situsFromPoint(S.left,h.point(S)).bind(R=>R.start.fold(ve.none,$=>dp(m,$).bind(U=>h.adjuster(m,$,U,x,S).fold(ve.none,te=>bc(m,h,x,te,D-1))).orThunk(()=>ve.some(S)),ve.none)),Tu=(m,h,x)=>{const S=m.move(x,5),D=bc(h,m,x,S,100).getOr(S);return((R,$,U)=>R.point($)>U.getInnerHeight()?ve.some(R.point($)-U.getInnerHeight()):R.point($)<0?ve.some(-R.point($)):ve.none())(m,D,h).fold(()=>h.situsFromPoint(D.left,m.point(D)),R=>(h.scrollBy(0,R),h.situsFromPoint(D.left,m.point(D)-R)))},Yc={tryUp:at(Tu,{point:m=>m.top,adjuster:(m,h,x,S,D)=>{const R=ch(D,5);return Math.abs(x.top-S.top)<1||x.bottom<D.top?Kc.retry(R):x.bottom===D.top?Kc.retry(ch(D,1)):fh(m,h,D)?Kc.retry(qd(R,5,0)):Kc.none()},move:ch,gather:Fv}),tryDown:at(Tu,Bw),getJumpSize:eo(5)},w1=(m,h,x)=>m.getSelection().bind(S=>((D,R,$,U)=>(Fb(R)?((ue,ke,ie)=>ie.traverse(ke).orThunk(()=>Hi(ke,ie.gather,ue)).map(ie.relative))(D,R,U):k1(D,R,$,U)).map(ue=>({start:ue,finish:ue})))(h,S.finish,S.foffset,x).fold(()=>ve.some(zo(S.finish,S.foffset)),D=>{const R=m.fromSitus(D);return $=Jp.verify(m,S.finish,S.foffset,R.finish,R.foffset,x.failure,h),Jp.cata($,U=>ve.none(),()=>ve.none(),U=>ve.some(zo(U,0)),U=>ve.some(zo(U,ys(U))));var $})),Sa=(m,h,x,S,D,R)=>R===0?ve.none():Iw(m,h,x,S,D).bind($=>{const U=m.fromSitus($),te=Jp.verify(m,x,S,U.finish,U.foffset,D.failure,h);return Jp.cata(te,()=>ve.none(),()=>ve.some($),ue=>Xn(x,ue)&&S===0?Xc(m,x,S,ch,D):Sa(m,h,ue,0,D,R-1),ue=>Xn(x,ue)&&S===ys(ue)?Xc(m,x,S,zu,D):Sa(m,h,ue,ys(ue),D,R-1))}),Xc=(m,h,x,S,D)=>am(m,h,x).bind(R=>gl(m,D,S(R,Yc.getJumpSize()))),gl=(m,h,x)=>{const S=rc().browser;return S.isChromium()||S.isSafari()||S.isFirefox()?h.retry(m,x):ve.none()},Iw=(m,h,x,S,D)=>am(m,x,S).bind(R=>gl(m,D,R)),af=(m,h,x,S,D)=>pn(S,"td,th",h).bind(R=>pn(R,"table",h).bind($=>((U,te)=>Mi(U,ue=>Va(ue).exists(ke=>Xn(ke,te)),void 0).isSome())(D,$)?((U,te,ue)=>w1(U,te,ue).bind(ke=>Sa(U,te,ke.element,ke.offset,ue,20).map(U.fromSitus)))(m,h,x).bind(U=>pn(U.finish,"td,th",h).map(te=>({start:R,finish:te,range:U}))):ve.none())),Ou=(m,h,x,S,D,R)=>R(S,h).orThunk(()=>af(m,h,x,S,D).map($=>{const U=$.range;return fs(ve.some(Fi(U.start,U.soffset,U.finish,U.foffset)),!0)})),Qp=(m,h)=>pn(m,"tr",h).bind(x=>pn(x,"table",h).bind(S=>{const D=Bn(S,"tr");return Xn(x,D[0])?((R,$,U)=>Mw(sm,R,te=>uc(te).isSome(),U))(S,0,h).map(R=>{const $=ys(R);return fs(ve.some(Fi(R,$,R,$)),!0)}):ve.none()})),im=(m,h)=>pn(m,"tr",h).bind(x=>pn(x,"table",h).bind(S=>{const D=Bn(S,"tr");return Xn(x,D[D.length-1])?((R,$,U)=>ah(sm,R,te=>Yu(te).isSome(),U))(S,0,h).map(R=>fs(ve.some(Fi(R,0,R,0)),!0)):ve.none()})),Gl=(m,h,x,S,D,R,$)=>af(m,x,S,D,R).bind(U=>rh(h,x,U.start,U.finish,$)),Hb=m=>{let h=m;return{get:()=>h,set:x=>{h=x}}},$b=()=>{const m=(h=>{const x=Hb(ve.none()),S=()=>x.get().each(h);return{clear:()=>{S(),x.set(ve.none())},isSet:()=>x.get().isSome(),get:()=>x.get(),set:D=>{S(),x.set(ve.some(D))}}})(Lt);return{...m,on:h=>m.get().each(h)}},mh=(m,h)=>pn(m,"td,th",h),Vb=m=>qi(m).exists(xo),Hv={traverse:ha,gather:ih,relative:cr.before,retry:Yc.tryDown,failure:Jp.failedDown},ph={traverse:po,gather:Fv,relative:cr.before,retry:Yc.tryUp,failure:Jp.failedUp},Du=m=>h=>h===m,gh=Du(38),up=Du(40),fp=m=>m>=37&&m<=40,lf={isBackward:Du(37),isForward:Du(39)},cf={isBackward:Du(39),isForward:Du(37)},hh=Xf([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),df={domRange:hh.domRange,relative:hh.relative,exact:hh.exact,exactFromRange:m=>hh.exact(m.start,m.soffset,m.finish,m.foffset),getWin:m=>{const h=(x=>x.match({domRange:S=>st.fromDom(S.startContainer),relative:(S,D)=>cr.getStart(S),exact:(S,D,R,$)=>S}))(m);return st.fromDom(ti(h).dom.defaultView)},range:nh},uf=(m,h)=>{const x=Gt(m);return x==="input"?cr.after(m):Io(["br","img"],x)?h===0?cr.before(m):cr.after(m):cr.on(m,h)},ff=m=>ve.from(m.getSelection()),mp=(m,h)=>{ff(m).each(x=>{x.removeAllRanges(),x.addRange(h)})},jb=(m,h,x,S,D)=>{const R=oh(m,h,x,S,D);mp(m,R)},eg=(m,h)=>Pb(m,h).match({ltr:(x,S,D,R)=>{jb(m,x,S,D,R)},rtl:(x,S,D,R)=>{ff(m).each($=>{if($.setBaseAndExtent)$.setBaseAndExtent(x.dom,S,D.dom,R);else if($.extend)try{((U,te,ue,ke,ie,fe)=>{te.collapse(ue.dom,ke),te.extend(ie.dom,fe)})(0,$,x,S,D,R)}catch{jb(m,D,R,x,S)}else jb(m,D,R,x,S)})}}),Ub=(m,h,x,S,D)=>{const R=(($,U,te,ue)=>{const ke=uf($,U),ie=uf(te,ue);return df.relative(ke,ie)})(h,x,S,D);eg(m,R)},_1=(m,h,x)=>{const S=((D,R)=>{const $=D.fold(cr.before,uf,cr.after),U=R.fold(cr.before,uf,cr.after);return df.relative($,U)})(h,x);eg(m,S)},tg=m=>{if(m.rangeCount>0){const h=m.getRangeAt(0),x=m.getRangeAt(m.rangeCount-1);return ve.some(nh(st.fromDom(h.startContainer),h.startOffset,st.fromDom(x.endContainer),x.endOffset))}return ve.none()},Ea=m=>{if(m.anchorNode===null||m.focusNode===null)return tg(m);{const h=st.fromDom(m.anchorNode),x=st.fromDom(m.focusNode);return((S,D,R,$)=>{const U=((ue,ke,ie,fe)=>{const ge=Ri(ue).dom.createRange();return ge.setStart(ue.dom,ke),ge.setEnd(ie.dom,fe),ge})(S,D,R,$),te=Xn(S,R)&&D===$;return U.collapsed&&!te})(h,m.anchorOffset,x,m.focusOffset)?ve.some(nh(h,m.anchorOffset,x,m.focusOffset)):tg(m)}},C1=(m,h,x=!0)=>{const S=(x?Mb:Bs)(m,h);mp(m,S)},$v=m=>(h=>ff(h).filter(x=>x.rangeCount>0).bind(Ea))(m).map(h=>df.exact(h.start,h.soffset,h.finish,h.foffset)),S1=(m,h,x)=>((S,D,R)=>(($,U,te)=>$.caretPositionFromPoint?((ue,ke,ie)=>{var fe;return ve.from((fe=ue.caretPositionFromPoint)===null||fe===void 0?void 0:fe.call(ue,ke,ie)).bind(ge=>{if(ge.offsetNode===null)return ve.none();const ze=ue.createRange();return ze.setStart(ge.offsetNode,ge.offset),ze.collapse(),ve.some(ze)})})($,U,te):$.caretRangeFromPoint?((ue,ke,ie)=>{var fe;return ve.from((fe=ue.caretRangeFromPoint)===null||fe===void 0?void 0:fe.call(ue,ke,ie))})($,U,te):ve.none())(S.document,D,R).map($=>nh(st.fromDom($.startContainer),$.startOffset,st.fromDom($.endContainer),$.endOffset)))(m,h,x),E1=m=>({elementFromPoint:(h,x)=>st.fromPoint(st.fromDom(m.document),h,x),getRect:h=>h.dom.getBoundingClientRect(),getRangedRect:(h,x,S,D)=>{const R=df.exact(h,x,S,D);return(($,U)=>(te=>{const ue=te.getClientRects(),ke=ue.length>0?ue[0]:te.getBoundingClientRect();return ke.width>0||ke.height>0?ve.some(ke).map(h1):ve.none()})(b1($,U)))(m,R)},getSelection:()=>$v(m).map(h=>y1(m,h)),fromSitus:h=>{const x=df.relative(h.start,h.finish);return y1(m,x)},situsFromPoint:(h,x)=>S1(m,h,x).map(S=>pl(S.start,S.soffset,S.finish,S.foffset)),clearSelection:()=>{(h=>{ff(h).each(x=>x.removeAllRanges())})(m)},collapseSelection:(h=!1)=>{$v(m).each(x=>x.fold(S=>S.collapse(h),(S,D)=>{const R=h?S:D;_1(m,R,R)},(S,D,R,$)=>{const U=h?S:R,te=h?D:$;Ub(m,U,te,U,te)}))},setSelection:h=>{Ub(m,h.start,h.soffset,h.finish,h.foffset)},setRelativeSelection:(h,x)=>{_1(m,h,x)},selectNode:h=>{C1(m,h,!1)},selectContents:h=>{C1(m,h)},getInnerHeight:()=>m.innerHeight,getScrollY:()=>(h=>{const x=h!==void 0?h.dom:document,S=x.body.scrollLeft||x.documentElement.scrollLeft,D=x.body.scrollTop||x.documentElement.scrollTop;return si(S,D)})(st.fromDom(m.document)).top,scrollBy:(h,x)=>{((S,D,R)=>{const $=(R!==void 0?R.dom:document).defaultView;$&&$.scrollBy(S,D)})(h,x,st.fromDom(m.document))}}),mf=(m,h)=>({rows:m,cols:h}),Zb=m=>_l(m,or).exists(xo),bh=(m,h)=>Zb(m)||Zb(h),A1=m=>m.dom.classList!==void 0,Pw=(m,h)=>((x,S,D)=>{const R=(($,U)=>{const te=dt($,U);return te===void 0||te===""?[]:te.split(" ")})(x,S).concat([D]);return Qo(x,S,R.join(" ")),!0})(m,"class",h),pf=(m,h)=>{A1(m)?m.dom.classList.add(h):Pw(m,h)},yh=(m,h)=>A1(m)&&m.dom.classList.contains(h),Vv=()=>({tag:"none"}),jv=m=>({tag:"multiple",elements:m}),vd=m=>({tag:"single",element:m}),z1=m=>{const h=st.fromDom((U=>{if(tn(U.target)){const te=st.fromDom(U.target);if($n(te)&&tn(te.dom.shadowRoot)&&U.composed&&U.composedPath){const ue=U.composedPath();if(ue)return yn(ue)}}return ve.from(U.target)})(m).getOr(m.target)),x=()=>m.stopPropagation(),S=()=>m.preventDefault(),D=(R=S,$=x,(...U)=>R($.apply(null,U)));var R,$;return((U,te,ue,ke,ie,fe,ge)=>({target:U,x:te,y:ue,stop:ke,prevent:ie,kill:fe,raw:ge}))(h,m.clientX,m.clientY,x,S,D,m)},Wb=(m,h,x,S)=>{m.dom.removeEventListener(h,x,S)},Uv=Tt,pp=(m,h,x)=>((S,D,R,$)=>((U,te,ue,ke,ie)=>{const fe=((ge,ze)=>Te=>{ge(Te)&&ze(z1(Te))})(ue,ke);return U.dom.addEventListener(te,fe,ie),{unbind:at(Wb,U,te,fe,ie)}})(S,D,R,$,!1))(m,h,Uv,x),og=z1,vh=m=>!yh(st.fromDom(m.target),"ephox-snooker-resizer-bar"),Zv=(m,h)=>{const x=(D=Vd.selectedSelector,{get:()=>jl(st.fromDom(m.getBody()),D).fold(()=>Zr(Vl(m),cs(m)).fold(Vv,vd),jv)}),S=((R,$,U)=>{const te=fe=>{Vo(fe,R.selected),Vo(fe,R.firstSelected),Vo(fe,R.lastSelected)},ue=fe=>{Qo(fe,R.selected,"1")},ke=fe=>{ie(fe),U()},ie=fe=>{const ge=Bn(fe,`${R.selectedSelector},${R.firstSelectedSelector},${R.lastSelectedSelector}`);_o(ge,te)};return{clearBeforeUpdate:ie,clear:ke,selectRange:(fe,ge,ze,Te)=>{ke(fe),_o(ge,ue),Qo(ze,R.firstSelected,"1"),Qo(Te,R.lastSelected,"1"),$(ge,ze,Te)},selectedSelector:R.selectedSelector,firstSelectedSelector:R.firstSelectedSelector,lastSelectedSelector:R.lastSelectedSelector}})(Vd,(R,$,U)=>{G($).each(te=>{const ue=T(R,ge=>ge.dom),ke=dl(m),ie=kr(Lt,st.fromDom(m.getDoc()),ke),fe=((ge,ze,Te)=>{const Xe=Go(ge);return fa(Xe,ze).map(Je=>{const Ye=bt(Xe,Te,!1),{rows:tt}=xr(Ye),yt=((De,It)=>{const go=De.slice(0,It[It.length-1].row+1),$o=ko(go);return nt($o,So=>{const ho=So.cells.slice(0,It[It.length-1].column+1);return T(ho,Ho=>Ho.element)})})(tt,Je),_t=((De,It)=>{const go=De.slice(It[0].row+It[0].rowspan-1,De.length),$o=ko(go);return nt($o,So=>{const ho=So.cells.slice(It[0].column+It[0].colspan-1,So.cells.length);return T(ho,Ho=>Ho.element)})})(tt,Je);return{upOrLeftCells:yt,downOrRightCells:_t}})})(te,{selection:Ul(m)},ie).map(ge=>yi(ge,ze=>T(ze,Te=>Te.dom))).getOrUndefined();((ge,ze,Te,Xe,Je)=>{ge.dispatch("TableSelectionChange",{cells:ze,start:Te,finish:Xe,otherCells:Je})})(m,ue,$.dom,U.dom,fe)})},()=>(R=>{R.dispatch("TableSelectionClear")})(m));var D;return m.on("init",R=>{const $=m.getWin(),U=Fn(m),te=cs(m),ue=((Te,Xe,Je,Ye)=>{const tt=((yt,_t,De,It)=>{const go=$b(),$o=go.clear,So=ho=>{go.on(Ho=>{It.clearBeforeUpdate(_t),mh(ho.target,De).each(xn=>{mc(Ho,xn,De).each(Ks=>{const zi=Ks.boxes.getOr([]);if(zi.length===1){const Xa=zi[0],yc=Wt(Xa)==="false",um=xi(Ro(ho.target),Xa,Xn);yc&&um&&It.selectRange(_t,zi,Xa,Xa)}else zi.length>1&&(It.selectRange(_t,zi,Ks.start,Ks.finish),yt.selectContents(xn))})})})};return{clearstate:$o,mousedown:ho=>{It.clear(_t),mh(ho.target,De).filter(Vb).each(go.set)},mouseover:ho=>{So(ho)},mouseup:ho=>{So(ho),$o()}}})(E1(Te),Xe,Je,Ye);return{clearstate:tt.clearstate,mousedown:tt.mousedown,mouseover:tt.mouseover,mouseup:tt.mouseup}})($,U,te,S),ke=((Te,Xe,Je,Ye)=>{const tt=E1(Te),yt=()=>(Ye.clear(Xe),ve.none());return{keydown:(_t,De,It,go,$o,So)=>{const ho=_t.raw,Ho=ho.which,xn=ho.shiftKey===!0;return jf(Xe,Ye.selectedSelector).fold(()=>(fp(Ho)&&!xn&&Ye.clearBeforeUpdate(Xe),fp(Ho)&&xn&&!bh(De,go)?ve.none:up(Ho)&&xn?at(Gl,tt,Xe,Je,Hv,go,De,Ye.selectRange):gh(Ho)&&xn?at(Gl,tt,Xe,Je,ph,go,De,Ye.selectRange):up(Ho)?at(Ou,tt,Je,Hv,go,De,im):gh(Ho)?at(Ou,tt,Je,ph,go,De,Qp):ve.none),zi=>{const Xa=yc=>()=>H(yc,Ti=>((Gd,rg,bf,sg,Qb)=>Ba(sg,Gd,rg,Qb.firstSelectedSelector,Qb.lastSelectedSelector).map(yf=>(Qb.clearBeforeUpdate(bf),Qb.selectRange(bf,yf.boxes,yf.start,yf.finish),yf.boxes)))(Ti.rows,Ti.cols,Xe,zi,Ye)).fold(()=>Hd(Xe,Ye.firstSelectedSelector,Ye.lastSelectedSelector).map(Ti=>{const Gd=up(Ho)||So.isForward(Ho)?cr.after:cr.before;return tt.setRelativeSelection(cr.on(Ti.first,0),Gd(Ti.table)),Ye.clear(Xe),fs(ve.none(),!0)}),Ti=>ve.some(fs(ve.none(),!0)));return fp(Ho)&&xn&&!bh(De,go)?ve.none:up(Ho)&&xn?Xa([mf(1,0)]):gh(Ho)&&xn?Xa([mf(-1,0)]):So.isBackward(Ho)&&xn?Xa([mf(0,-1),mf(-1,0)]):So.isForward(Ho)&&xn?Xa([mf(0,1),mf(1,0)]):fp(Ho)&&!xn?yt:ve.none})()},keyup:(_t,De,It,go,$o)=>jf(Xe,Ye.selectedSelector).fold(()=>{const So=_t.raw,ho=So.which;return So.shiftKey===!0&&fp(ho)&&bh(De,go)?((Ho,xn,Ks,zi,Xa,yc,um)=>Xn(Ks,Xa)&&zi===yc?ve.none():pn(Ks,"td,th",xn).bind(Ti=>pn(Xa,"td,th",xn).bind(Gd=>rh(Ho,xn,Ti,Gd,um))))(Xe,Je,De,It,go,$o,Ye.selectRange):ve.none()},ve.none)}})($,U,te,S),ie=((Te,Xe,Je,Ye)=>{const tt=E1(Te);return(yt,_t)=>{Ye.clearBeforeUpdate(Xe),mc(yt,_t,Je).each(De=>{const It=De.boxes.getOr([]);Ye.selectRange(Xe,It,De.start,De.finish),tt.selectContents(_t),tt.collapseSelection()})}})($,U,te,S);m.on("TableSelectorChange",Te=>ie(Te.start,Te.finish));const fe=(Te,Xe)=>{(Je=>Je.raw.shiftKey===!0)(Te)&&(Xe.kill&&Te.kill(),Xe.selection.each(Je=>{const Ye=df.relative(Je.start,Je.finish),tt=b1($,Ye);m.selection.setRng(tt)}))},ge=Te=>Te.button===0,ze=(()=>{const Te=Hb(st.fromDom(U)),Xe=Hb(0);return{touchEnd:Je=>{const Ye=st.fromDom(Je.target);if(Vn("td")(Ye)||Vn("th")(Ye)){const tt=Te.get(),yt=Xe.get();Xn(tt,Ye)&&Je.timeStamp-yt<300&&(Je.preventDefault(),ie(Ye,Ye))}Te.set(Ye),Xe.set(Je.timeStamp)}}})();m.on("dragstart",Te=>{ue.clearstate()}),m.on("mousedown",Te=>{ge(Te)&&vh(Te)&&ue.mousedown(og(Te))}),m.on("mouseover",Te=>{var Xe;(Xe=Te).buttons!==void 0&&!(1&Xe.buttons)||!vh(Te)||ue.mouseover(og(Te))}),m.on("mouseup",Te=>{ge(Te)&&vh(Te)&&ue.mouseup(og(Te))}),m.on("touchend",ze.touchEnd),m.on("keyup",Te=>{const Xe=og(Te);if(Xe.raw.shiftKey&&fp(Xe.raw.which)){const Je=m.selection.getRng(),Ye=st.fromDom(Je.startContainer),tt=st.fromDom(Je.endContainer);ke.keyup(Xe,Ye,Je.startOffset,tt,Je.endOffset).each(yt=>{fe(Xe,yt)})}}),m.on("keydown",Te=>{const Xe=og(Te);h.hide();const Je=m.selection.getRng(),Ye=st.fromDom(Je.startContainer),tt=st.fromDom(Je.endContainer),yt=en(lf,cf)(st.fromDom(m.selection.getStart()));ke.keydown(Xe,Ye,Je.startOffset,tt,Je.endOffset,yt).each(_t=>{fe(Xe,_t)}),h.show()}),m.on("NodeChange",()=>{const Te=m.selection,Xe=st.fromDom(Te.getStart()),Je=st.fromDom(Te.getEnd());Fd(G,[Xe,Je]).fold(()=>S.clear(U),Lt)})}),m.on("PreInit",()=>{m.serializer.addTempAttr(Vd.firstSelected),m.serializer.addTempAttr(Vd.lastSelected)}),{getSelectedCells:()=>((R,$,U,te)=>{switch(R.tag){case"none":return $();case"single":return(ue=>[ue.dom])(R.element);case"multiple":return(ue=>T(ue,ke=>ke.dom))(R.elements)}})(x.get(),eo([])),clearSelectedCells:R=>S.clear(st.fromDom(R))}},xd=m=>{let h=[];return{bind:x=>{if(x===void 0)throw new Error("Event bind error: undefined handler");h.push(x)},unbind:x=>{h=Lo(h,S=>S!==x)},trigger:(...x)=>{const S={};_o(m,(D,R)=>{S[D]=x[R]}),_o(h,D=>{D(S)})}}},lm=m=>({registry:yi(m,h=>({bind:h.bind,unbind:h.unbind})),trigger:yi(m,h=>h.trigger)}),xh=m=>m.slice(0).sort(),kh=(m,h)=>{const x=Lo(h,S=>!Io(m,S));x.length>0&&(S=>{throw new Error("Unsupported keys for object: "+xh(S).join(", "))})(x)},qb=m=>((h,x)=>((S,D,R)=>{if(D.length===0)throw new Error("You must specify at least one required field.");return(($,U)=>{if(!sr(U))throw new Error("The "+$+" fields must be an array. Was: "+U+".");_o(U,te=>{if(!Dr(te))throw new Error("The value "+te+" in the "+$+" fields was not a string.")})})("required",D),($=>{const U=xh($);At(U,(te,ue)=>ue<U.length-1&&te===U[ue+1]).each(te=>{throw new Error("The field: "+te+" occurs more than once in the combined fields: ["+U.join(", ")+"].")})})(D),$=>{const U=ra($);Dt(D,ue=>Io(U,ue))||((ue,ke)=>{throw new Error("All required keys ("+xh(ue).join(", ")+") were not specified. Specified keys were: "+xh(ke).join(", ")+".")})(D,U),S(D,U);const te=Lo(D,ue=>!R.validate($[ue],ue));return te.length>0&&((ue,ke)=>{throw new Error("All values need to be of type: "+ke+". Keys ("+xh(ue).join(", ")+") were not.")})(te,R.label),$}})(h,x,{validate:Yn,label:"function"}))(kh,m),wh=qb(["compare","extract","mutate","sink"]),mi=qb(["element","start","stop","destroy"]),Gb=qb(["forceDrop","drop","move","delayDrop"]),cm=()=>{const m=(()=>{const S=lm({move:xd(["info"])});return{onEvent:Lt,reset:Lt,events:S.registry}})(),h=(()=>{let S=ve.none();const D=lm({move:xd(["info"])});return{onEvent:(R,$)=>{$.extract(R).each(U=>{((ue,ke)=>{const ie=S.map(fe=>ue.compare(fe,ke));return S=ve.some(ke),ie})($,U).each(ue=>{D.trigger.move(ue)})})},reset:()=>{S=ve.none()},events:D.registry}})();let x=m;return{on:()=>{x.reset(),x=h},off:()=>{x.reset(),x=m},isOn:()=>x===h,onEvent:(S,D)=>{x.onEvent(S,D)},events:h.events}},dm=m=>{const h=m.replace(/\./g,"-");return{resolve:x=>h+"-"+x}},_h=dm("ephox-dragster").resolve;var Kb=wh({compare:(m,h)=>si(h.left-m.left,h.top-m.top),extract:m=>ve.some(si(m.x,m.y)),sink:(m,h)=>{const x=(U=>{const te={layerClass:_h("blocker"),...U},ue=st.fromTag("div");return Qo(ue,"role","presentation"),il(ue,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),pf(ue,_h("blocker")),pf(ue,te.layerClass),{element:eo(ue),destroy:()=>{fr(ue)}}})(h),S=pp(x.element(),"mousedown",m.forceDrop),D=pp(x.element(),"mouseup",m.drop),R=pp(x.element(),"mousemove",m.move),$=pp(x.element(),"mouseout",m.delayDrop);return mi({element:x.element,start:U=>{br(U,x.element())},stop:()=>{fr(x.element())},destroy:()=>{x.destroy(),D.unbind(),R.unbind(),$.unbind(),S.unbind()}})},mutate:(m,h)=>{m.mutate(h.left,h.top)}});const gp=dm("ephox-snooker").resolve,gf=gp("resizer-bar"),T1=gp("resizer-rows"),Yb=gp("resizer-cols"),tl=m=>{const h=Bn(m.parent(),"."+gf);_o(h,fr)},hf=(m,h,x)=>{const S=m.origin();_o(h,D=>{D.each(R=>{const $=x(S,R);pf($,gf),br(m.parent(),$)})})},O1=(m,h,x,S,D)=>{const R=Bd(x),$=h.isResizable,U=S.length>0?Mc.positions(S,x):[],te=U.length>0?((ie,fe)=>nt(ie.all,(ge,ze)=>fe(ge.element)?[ze]:[]))(m,$):[];((ie,fe,ge,ze)=>{hf(ie,fe,(Te,Xe)=>{const Je=((Ye,tt,yt,_t,De)=>{const It=st.fromTag("div");return il(It,{position:"absolute",left:tt+"px",top:yt-3.5+"px",height:"7px",width:_t+"px"}),$s(It,{"data-row":Ye,role:"presentation"}),It})(Xe.row,ge.left-Te.left,Xe.y-Te.top,ze);return pf(Je,T1),Je})})(h,Lo(U,(ie,fe)=>$e(te,ge=>fe===ge)),R,Rd(x));const ue=D.length>0?Id.positions(D,x):[],ke=ue.length>0?((ie,fe)=>{const ge=[];return Pt(ie.grid.columns,ze=>{Cn(ie,ze).map(Te=>Te.element).forall(fe)&&ge.push(ze)}),Lo(ge,ze=>{const Te=Qs(ie,Xe=>Xe.column===ze);return Dt(Te,Xe=>fe(Xe.element))})})(m,$):[];((ie,fe,ge,ze)=>{hf(ie,fe,(Te,Xe)=>{const Je=((Ye,tt,yt,_t,De)=>{const It=st.fromTag("div");return il(It,{position:"absolute",left:tt-3.5+"px",top:yt+"px",height:De+"px",width:"7px"}),$s(It,{"data-column":Ye,role:"presentation"}),It})(Xe.col,Xe.x-Te.left,ge.top-Te.top,0,ze);return pf(Je,Yb),Je})})(h,Lo(ue,(ie,fe)=>$e(ke,ge=>fe===ge)),R,Bf(x))},Le=(m,h)=>{if(tl(m),m.isResizable(h)){const x=Go(h),S=ic(x),D=uu(x);O1(x,m,h,S,D)}},ng=(m,h)=>{const x=Bn(m.parent(),"."+gf);_o(x,h)},Lw=m=>{ng(m,h=>{Xo(h,"display","none")})},Wv=m=>{ng(m,h=>{Xo(h,"display","block")})},Xb=gp("resizer-bar-dragging"),kd=m=>{const h=(()=>{const ie=lm({drag:xd(["xDelta","yDelta","target"])});let fe=ve.none();const ge=(()=>{const ze=lm({drag:xd(["xDelta","yDelta"])});return{mutate:(Te,Xe)=>{ze.trigger.drag(Te,Xe)},events:ze.registry}})();return ge.events.drag.bind(ze=>{fe.each(Te=>{ie.trigger.drag(ze.xDelta,ze.yDelta,Te)})}),{assign:ze=>{fe=ve.some(ze)},get:()=>fe,mutate:ge.mutate,events:ie.registry}})(),x=((ie,fe={})=>{var ge;return((ze,Te,Xe)=>{let Je=!1;const Ye=lm({start:xd([]),stop:xd([])}),tt=cm(),yt=()=>{It.stop(),tt.isOn()&&(tt.off(),Ye.trigger.stop())},_t=((go,$o)=>{let So=null;const ho=()=>{Qn(So)||(clearTimeout(So),So=null)};return{cancel:ho,throttle:(...Ho)=>{ho(),So=setTimeout(()=>{So=null,go.apply(null,Ho)},200)}}})(yt);tt.events.move.bind(go=>{Te.mutate(ze,go.info)});const De=go=>(...$o)=>{Je&&go.apply(null,$o)},It=Te.sink(Gb({forceDrop:yt,drop:De(yt),move:De(go=>{_t.cancel(),tt.onEvent(go,Te)}),delayDrop:De(_t.throttle)}),Xe);return{element:It.element,go:go=>{It.start(go),tt.on(),Ye.trigger.start()},on:()=>{Je=!0},off:()=>{Je=!1},isActive:()=>Je,destroy:()=>{It.destroy()},events:Ye.registry}})(ie,(ge=fe.mode)!==null&&ge!==void 0?ge:Kb,fe)})(h,{});let S=ve.none();const D=(ie,fe)=>ve.from(dt(ie,fe));h.events.drag.bind(ie=>{D(ie.target,"data-row").each(fe=>{const ge=Nl(ie.target,"top");Xo(ie.target,"top",ge+ie.yDelta+"px")}),D(ie.target,"data-column").each(fe=>{const ge=Nl(ie.target,"left");Xo(ie.target,"left",ge+ie.xDelta+"px")})});const R=(ie,fe)=>Nl(ie,fe)-yr(ie,"data-initial-"+fe,0);x.events.stop.bind(()=>{h.get().each(ie=>{S.each(fe=>{D(ie,"data-row").each(ge=>{const ze=R(ie,"top");Vo(ie,"data-initial-top"),ke.trigger.adjustHeight(fe,ze,parseInt(ge,10))}),D(ie,"data-column").each(ge=>{const ze=R(ie,"left");Vo(ie,"data-initial-left"),ke.trigger.adjustWidth(fe,ze,parseInt(ge,10))}),Le(m,fe)})})});const $=(ie,fe)=>{ke.trigger.startAdjust(),h.assign(ie),Qo(ie,"data-initial-"+fe,Nl(ie,fe)),pf(ie,Xb),Xo(ie,"opacity","0.2"),x.go(m.parent())},U=pp(m.parent(),"mousedown",ie=>{var fe;fe=ie.target,yh(fe,T1)&&$(ie.target,"top"),(ge=>yh(ge,Yb))(ie.target)&&$(ie.target,"left")}),te=ie=>Xn(ie,m.view()),ue=pp(m.view(),"mouseover",ie=>{var fe;(fe=ie.target,pn(fe,"table",te).filter(xo)).fold(()=>{Ni(ie.target)&&tl(m)},ge=>{x.isActive()&&(S=ve.some(ge),Le(m,ge))})}),ke=lm({adjustHeight:xd(["table","delta","row"]),adjustWidth:xd(["table","delta","column"]),startAdjust:xd([])});return{destroy:()=>{U.unbind(),ue.unbind(),x.destroy(),tl(m)},refresh:ie=>{Le(m,ie)},on:x.on,off:x.off,hideBars:at(Lw,m),showBars:at(Wv,m),events:ke.registry}},Jb=m=>tn(m)&&m.nodeName==="TABLE",Ch="bar-",D1=m=>dt(m,"data-mce-resize")!=="false",R1=m=>{const h=$b(),x=$b(),S=$b();let D,R,$,U;const te=ie=>rf(m,ie),ue=()=>fd(m)?Wp():jc(),ke=(ie,fe,ge,ze)=>{const Te=(Ye=>{return ec(tt=Ye,"corner-")?((yt,_t)=>yt.substring(7))(tt):tt;var tt})(fe),Xe=lo(Te,"e"),Je=ec(Te,"n");if(R===""&&rp(ie),U===""&&(Ye=>{const tt=(yt=>Nc(yt)+"px")(Ye);zr(Ye,ve.none(),ve.some(tt)),bd(Ye)})(ie),ge!==D&&R!==""){Xo(ie,"width",R);const Ye=ue(),tt=te(ie),yt=fd(m)||Xe?(_t=>Wl(_t).columns)(ie)-1:0;Cu(ie,ge-D,yt,Ye,tt)}else if((Ye=>/^(\d+(\.\d+)?)%$/.test(Ye))(R)){const Ye=parseFloat(R.replace("%",""));Xo(ie,"width",ge*Ye/D+"%")}if((Ye=>/^(\d+(\.\d+)?)px$/.test(Ye))(R)&&(Ye=>{const tt=Go(Ye);Il(tt)||_o(vr(Ye),yt=>{const _t=aa(yt,"width");Xo(yt,"width",_t),Vo(yt,"width")})})(ie),ze!==$&&U!==""){Xo(ie,"height",U);const Ye=Je?0:(tt=>Wl(tt).rows)(ie)-1;Ym(ie,ze-$,Ye)}};return m.on("init",()=>{const ie=((fe,ge)=>fe.inline?((ze,Te,Xe)=>({parent:eo(Te),view:eo(ze),origin:eo(si(0,0)),isResizable:Xe}))(st.fromDom(fe.getBody()),(()=>{const ze=st.fromTag("div");return il(ze,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),br(id(st.fromDom(document)),ze),ze})(),ge):((ze,Te)=>{const Xe=Nr(ze)?(Je=>st.fromDom(ti(Je).dom.documentElement))(ze):ze;return{parent:eo(Xe),view:eo(ze),origin:eo(si(0,0)),isResizable:Te}})(st.fromDom(fe.getDoc()),ge))(m,D1);if(S.set(ie),(fe=>{const ge=fe.options.get("object_resizing");return Io(ge.split(","),"table")})(m)&&j(m)){const fe=((ge,ze,Te)=>{const Xe=Mc,Je=Id,Ye=kd(ge),tt=lm({beforeResize:xd(["table","type"]),afterResize:xd(["table","type"]),startDrag:xd([])});return Ye.events.adjustHeight.bind(yt=>{const _t=yt.table;tt.trigger.beforeResize(_t,"row");const De=Xe.delta(yt.delta,_t);Ym(_t,De,yt.row),tt.trigger.afterResize(_t,"row")}),Ye.events.startAdjust.bind(yt=>{tt.trigger.startDrag()}),Ye.events.adjustWidth.bind(yt=>{const _t=yt.table;tt.trigger.beforeResize(_t,"col");const De=Je.delta(yt.delta,_t),It=Te(_t);Cu(_t,De,yt.column,ze,It),tt.trigger.afterResize(_t,"col")}),{on:Ye.on,off:Ye.off,refreshBars:Ye.refresh,hideBars:Ye.hideBars,showBars:Ye.showBars,destroy:Ye.destroy,events:tt.registry}})(ie,ue(),te);fe.on(),fe.events.startDrag.bind(ge=>{h.set(m.selection.getRng())}),fe.events.beforeResize.bind(ge=>{const ze=ge.table.dom;((Te,Xe,Je,Ye,tt)=>{Te.dispatch("ObjectResizeStart",{target:Xe,width:Je,height:Ye,origin:tt})})(m,ze,bu(ze),Ld(ze),Ch+ge.type)}),fe.events.afterResize.bind(ge=>{const ze=ge.table,Te=ze.dom;Yr(ze),h.on(Xe=>{m.selection.setRng(Xe),m.focus()}),((Xe,Je,Ye,tt,yt)=>{Xe.dispatch("ObjectResized",{target:Je,width:Ye,height:tt,origin:yt})})(m,Te,bu(Te),Ld(Te),Ch+ge.type),m.undoManager.add()}),x.set(fe)}}),m.on("ObjectResizeStart",ie=>{const fe=ie.target;if(Jb(fe)){const ge=st.fromDom(fe);_o(m.dom.select(".mce-clonedresizable"),ze=>{m.dom.addClass(ze,"mce-"+Hc(m)+"-columns")}),!es(ge)&&_(m)?ml(ge):!Nb(ge)&&$c(m)&&rp(ge),Wd(ge)&&ec(ie.origin,Ch)&&rp(ge),D=ie.width,R=N(m)?"":jg(m,fe).getOr(""),$=ie.height,U=Zm(m,fe).getOr("")}}),m.on("ObjectResized",ie=>{const fe=ie.target;if(Jb(fe)){const ge=st.fromDom(fe),ze=ie.origin;(Te=>ec(Te,"corner-"))(ze)&&ke(ge,ze,ie.width,ie.height),Yr(ge),Eu(m,ge.dom,Ob)}}),m.on("SwitchMode",()=>{x.on(ie=>{m.mode.isReadOnly()?ie.hideBars():ie.showBars()})}),m.on("dragstart dragend",ie=>{x.on(fe=>{ie.type==="dragstart"?(fe.hideBars(),fe.off()):(fe.on(),fe.showBars())})}),m.on("remove",()=>{x.on(ie=>{ie.destroy()}),S.on(ie=>{((fe,ge)=>{fe.inline&&fr(ge.parent())})(m,ie)})}),{refresh:ie=>{x.on(fe=>fe.refreshBars(st.fromDom(ie)))},hide:()=>{x.on(ie=>ie.hideBars())},show:()=>{x.on(ie=>ie.showBars())}}},Fw=m=>{(D=>{const R=D.options.register;R("table_clone_elements",{processor:"string[]"}),R("table_use_colgroups",{processor:"boolean",default:!0}),R("table_header_type",{processor:$=>{const U=Io(["section","cells","sectionCells","auto"],$);return U?{value:$,valid:U}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),R("table_sizing_mode",{processor:"string",default:"auto"}),R("table_default_attributes",{processor:"object",default:{border:"1"}}),R("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),R("table_column_resizing",{processor:$=>{const U=Io(["preservetable","resizetable"],$);return U?{value:$,valid:U}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),R("table_resize_bars",{processor:"boolean",default:!0}),R("table_style_by_css",{processor:"boolean",default:!0}),R("table_merge_content_on_paste",{processor:"boolean",default:!0})})(m);const h=R1(m),x=Zv(m,h),S=u1(m,h,x);return ks(m,S),((D,R)=>{const $=cs(D),U=te=>Zr(Vl(D)).bind(ue=>G(ue,$).map(ke=>{const ie=Uo(Ul(D),ke,ue);return te(ke,ie)})).getOr("");kn({mceTableRowType:()=>U(R.getTableRowType),mceTableCellType:()=>U(R.getTableCellType),mceTableColType:()=>U(R.getTableColType)},(te,ue)=>D.addQueryValueHandler(ue,te))})(m,S),Zl(m,S),{getSelectedCells:x.getSelectedCells,clearSelectedCells:x.clearSelectedCells}};Hr.add("dom",m=>({table:Fw(m)}))})();tinymce.Resource.add("ui/default/skin.css",`.tox{box-shadow:none;box-sizing:content-box;color:#222f3e;cursor:auto;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-style:normal;font-weight:400;line-height:normal;-webkit-tap-highlight-color:transparent;-webkit-text-decoration:none;text-decoration:none;text-shadow:none;text-transform:none;vertical-align:initial;white-space:normal}.tox :not(svg):not(rect){box-sizing:inherit;color:inherit;cursor:inherit;direction:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;line-height:inherit;-webkit-tap-highlight-color:inherit;text-align:inherit;text-decoration:inherit;text-shadow:inherit;text-transform:inherit;vertical-align:inherit;white-space:inherit}.tox :not(svg):not(rect){background:0 0;border:0;box-shadow:none;float:none;height:auto;margin:0;max-width:none;outline:0;padding:0;position:static;width:auto}.tox:not([dir=rtl]){direction:ltr;text-align:left}.tox[dir=rtl]{direction:rtl;text-align:right}.tox-tinymce{border:2px solid #eee;border-radius:10px;box-shadow:none;box-sizing:border-box;display:flex;flex-direction:column;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;overflow:hidden;position:relative;visibility:inherit!important}.tox.tox-tinymce-inline{border:none;box-shadow:none;overflow:initial}.tox.tox-tinymce-inline .tox-editor-container{overflow:initial}.tox.tox-tinymce-inline .tox-editor-header{background-color:#fff;border:2px solid #eee;border-radius:10px;box-shadow:none;overflow:hidden}.tox-tinymce-aux{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;z-index:1300}.tox-tinymce :focus,.tox-tinymce-aux :focus{outline:0}button::-moz-focus-inner{border:0}.tox[dir=rtl] .tox-icon--flip svg{transform:rotateY(180deg)}.tox .accessibility-issue__header{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description{align-items:stretch;border-radius:6px;display:flex;justify-content:space-between}.tox .accessibility-issue__description>div{padding-bottom:4px}.tox .accessibility-issue__description>div>div{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description>div>div .tox-icon svg{display:block}.tox .accessibility-issue__repair{margin-top:16px}.tox .tox-dialog__body-content .accessibility-issue--info .accessibility-issue__description{background-color:rgba(0,101,216,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--info .tox-form__group h2{color:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info .tox-icon svg{fill:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon{background-color:#006ce7;color:#fff}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:hover{background-color:#0060ce}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:active{background-color:#0054b4}.tox .tox-dialog__body-content .accessibility-issue--warn .accessibility-issue__description{background-color:rgba(255,165,0,.08);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-form__group h2{color:#8f5d00}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-icon svg{fill:#8f5d00}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon{background-color:#ffe89d;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:hover{background-color:#f2d574;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:active{background-color:#e8c657;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .accessibility-issue__description{background-color:rgba(204,0,0,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .tox-form__group h2{color:#c00}.tox .tox-dialog__body-content .accessibility-issue--error .tox-icon svg{fill:#c00}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon{background-color:#f2bfbf;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:hover{background-color:#e9a4a4;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:active{background-color:#ee9494;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description{background-color:rgba(120,171,70,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description>:last-child{display:none}.tox .tox-dialog__body-content .accessibility-issue--success .tox-form__group h2{color:#527530}.tox .tox-dialog__body-content .accessibility-issue--success .tox-icon svg{fill:#527530}.tox .tox-dialog__body-content .accessibility-issue__header .tox-form__group h1,.tox .tox-dialog__body-content .tox-form__group .accessibility-issue__description h2{font-size:14px;margin-top:0}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-left:4px}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-left:auto}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__description{padding:4px 4px 4px 8px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-right:4px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-right:auto}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__description{padding:4px 8px 4px 4px}.tox .mce-codemirror{background:#fff;bottom:0;font-size:13px;left:0;position:absolute;right:0;top:0;z-index:1}.tox .mce-codemirror.tox-inline-codemirror{margin:8px;position:absolute}.tox .tox-advtemplate .tox-form__grid{flex:1}.tox .tox-advtemplate .tox-form__grid>div:first-child{display:flex;flex-direction:column;width:30%}.tox .tox-advtemplate .tox-form__grid>div:first-child>div:nth-child(2){flex-basis:0;flex-grow:1;overflow:auto}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-advtemplate .tox-form__grid>div:first-child{width:100%}}.tox .tox-advtemplate iframe{border-color:#eee;border-radius:10px;border-style:solid;border-width:1px;margin:0 10px}.tox .tox-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bottom-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bar{display:flex;flex:0 0 auto}.tox .tox-button{background-color:#006ce7;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#006ce7;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;line-height:24px;margin:0;outline:0;padding:4px 16px;position:relative;text-align:center;-webkit-text-decoration:none;text-decoration:none;text-transform:none;white-space:nowrap}.tox .tox-button::before{border-radius:6px;bottom:-1px;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7;content:'';left:-1px;opacity:0;pointer-events:none;position:absolute;right:-1px;top:-1px}.tox .tox-button[disabled]{background-color:#006ce7;background-image:none;border-color:#006ce7;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button:focus:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:focus:not(:disabled)::before{opacity:1}.tox .tox-button:hover:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:active:not(:disabled){background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled[disabled]{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button.tox-button--enabled:focus:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:hover:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:active:not(:disabled){background-color:#003c81;background-image:none;border-color:#003c81;box-shadow:none;color:#fff}.tox .tox-button--icon-and-text,.tox .tox-button.tox-button--icon-and-text,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text{display:flex;padding:5px 4px}.tox .tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon svg{display:block;fill:currentColor}.tox .tox-button--secondary{background-color:#f0f0f0;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#f0f0f0;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;color:#222f3e;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;outline:0;padding:4px 16px;-webkit-text-decoration:none;text-decoration:none;text-transform:none}.tox .tox-button--secondary[disabled]{background-color:#f0f0f0;background-image:none;border-color:#f0f0f0;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary:focus:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:hover:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:active:not(:disabled){background-color:#d6d6d6;background-image:none;border-color:#d6d6d6;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled[disabled]{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary.tox-button--enabled:focus:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:hover:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:active:not(:disabled){background-color:#7daee4;background-image:none;border-color:#7daee4;box-shadow:none;color:#222f3e}.tox .tox-button--icon,.tox .tox-button.tox-button--icon,.tox .tox-button.tox-button--secondary.tox-button--icon{padding:4px}.tox .tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon svg{display:block;fill:currentColor}.tox .tox-button-link{background:0;border:none;box-sizing:border-box;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-weight:400;line-height:1.3;margin:0;padding:0;white-space:nowrap}.tox .tox-button-link--sm{font-size:14px}.tox .tox-button--naked{background-color:transparent;border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked[disabled]{background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:rgba(34,47,62,.5)}.tox .tox-button--naked:hover:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:focus:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:active:not(:disabled){background-color:rgba(34,47,62,.18);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked .tox-icon svg{fill:currentColor}.tox .tox-button--naked.tox-button--icon:hover:not(:disabled){color:#222f3e}.tox .tox-checkbox{align-items:center;border-radius:6px;cursor:pointer;display:flex;height:36px;min-width:36px}.tox .tox-checkbox__input{height:1px;overflow:hidden;position:absolute;top:auto;width:1px}.tox .tox-checkbox__icons{align-items:center;border-radius:6px;box-shadow:0 0 0 2px transparent;box-sizing:content-box;display:flex;height:24px;justify-content:center;padding:calc(4px - 1px);width:24px}.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:block;fill:rgba(34,47,62,0.3)}@media (forced-colors:active){.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:currentColor!important}}.tox .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:none;fill:#006ce7}.tox .tox-checkbox__icons .tox-checkbox-icon__checked svg{display:none;fill:#006ce7}.tox .tox-checkbox--disabled{color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__checked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{fill:rgba(34,47,62,0.5)}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__checked svg{display:block}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:block}.tox input.tox-checkbox__input:focus+.tox-checkbox__icons{border-radius:6px;box-shadow:inset 0 0 0 1px #006ce7;padding:calc(4px - 1px)}.tox:not([dir=rtl]) .tox-checkbox__label{margin-left:4px}.tox:not([dir=rtl]) .tox-checkbox__input{left:-10000px}.tox:not([dir=rtl]) .tox-bar .tox-checkbox{margin-left:4px}.tox[dir=rtl] .tox-checkbox__label{margin-right:4px}.tox[dir=rtl] .tox-checkbox__input{right:-10000px}.tox[dir=rtl] .tox-bar .tox-checkbox{margin-right:4px}.tox .tox-collection--toolbar .tox-collection__group{display:flex;padding:0}.tox .tox-collection--grid .tox-collection__group{display:flex;flex-wrap:wrap;max-height:208px;overflow-x:hidden;overflow-y:auto;padding:0}.tox .tox-collection--list .tox-collection__group{border-bottom-width:0;border-color:#e3e3e3;border-left-width:0;border-right-width:0;border-style:solid;border-top-width:1px;padding:4px 0}.tox .tox-collection--list .tox-collection__group:first-child{border-top-width:0}.tox .tox-collection__group-heading{background-color:#fcfcfc;color:rgba(34,47,62,.7);cursor:default;font-size:12px;font-style:normal;font-weight:400;margin-bottom:4px;margin-top:-4px;padding:4px 8px;text-transform:none;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection__item{align-items:center;border-radius:3px;color:#222f3e;display:flex;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection--list .tox-collection__item{padding:4px 8px}.tox .tox-collection--toolbar .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--grid .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--list .tox-collection__item--enabled{background-color:#fff;color:#222f3e}.tox .tox-collection--list .tox-collection__item--active{background-color:#006ce7}.tox .tox-collection--toolbar .tox-collection__item--enabled,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active:hover{background-color:#a6ccf7;color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--enabled,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active:hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active{background-color:#fff;position:relative}.tox .tox-collection--toolbar .tox-collection__item--active:hover{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:focus{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:focus::after{border:2px solid highlight}}.tox .tox-collection--grid .tox-collection__item--enabled{background-color:#a6ccf7;color:#222f3e}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#f0f0f0;color:#222f3e;position:relative;z-index:1}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 inset;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border:2px solid highlight}}.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#fff}@media (forced-colors:active){.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){border:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection__item-checkmark,.tox .tox-collection__item-icon{align-items:center;display:flex;height:24px;justify-content:center;width:24px}.tox .tox-collection__item-checkmark svg,.tox .tox-collection__item-icon svg{fill:currentColor}.tox .tox-collection--toolbar-lg .tox-collection__item-icon{height:48px;width:48px}.tox .tox-collection__item-label{color:currentColor;display:inline-block;flex:1;font-size:14px;font-style:normal;font-weight:400;line-height:24px;max-width:100%;text-transform:none;word-break:break-all}.tox .tox-collection__item-accessory{color:currentColor;display:inline-block;font-size:14px;height:24px;line-height:24px;text-transform:none}.tox .tox-collection__item-caret{align-items:center;display:flex;min-height:24px}.tox .tox-collection__item-caret::after{content:'';font-size:0;min-height:inherit}.tox .tox-collection__item-caret svg{fill:currentColor}.tox .tox-collection__item--state-disabled{background-color:transparent;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-collection__item--state-disabled .tox-collection__item-caret svg{fill:rgba(34,47,62,0.5)}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-checkmark svg{display:none}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-accessory+.tox-collection__item-checkmark{display:none}.tox .tox-collection--horizontal{background-color:#fff;border:1px solid #e3e3e3;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:nowrap;margin-bottom:0;overflow-x:auto;padding:0}.tox .tox-collection--horizontal .tox-collection__group{align-items:center;display:flex;flex-wrap:nowrap;margin:0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item{height:28px;margin:6px 1px 5px 0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item-label{white-space:nowrap}.tox .tox-collection--horizontal .tox-collection__item-caret{margin-left:4px}.tox .tox-collection__item-container{display:flex}.tox .tox-collection__item-container--row{align-items:center;flex:1 1 auto;flex-direction:row}.tox .tox-collection__item-container--row.tox-collection__item-container--align-left{margin-right:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--align-right{justify-content:flex-end;margin-left:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-top{align-items:flex-start;margin-bottom:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-middle{align-items:center}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-bottom{align-items:flex-end;margin-top:auto}.tox .tox-collection__item-container--column{align-self:center;flex:1 1 auto;flex-direction:column}.tox .tox-collection__item-container--column.tox-collection__item-container--align-left{align-items:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--align-right{align-items:flex-end}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-top{align-self:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-middle{align-self:center}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-bottom{align-self:flex-end}.tox:not([dir=rtl]) .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-right:1px solid transparent}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>:not(:first-child){margin-left:8px}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-left:4px}.tox:not([dir=rtl]) .tox-collection__item-accessory{margin-left:16px;text-align:right}.tox:not([dir=rtl]) .tox-collection .tox-collection__item-caret{margin-left:16px}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-left:1px solid transparent}.tox[dir=rtl] .tox-collection--list .tox-collection__item>:not(:first-child){margin-right:8px}.tox[dir=rtl] .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-right:4px}.tox[dir=rtl] .tox-collection__item-accessory{margin-right:16px;text-align:left}.tox[dir=rtl] .tox-collection .tox-collection__item-caret{margin-right:16px;transform:rotateY(180deg)}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__item-caret{margin-right:4px}@media (forced-colors:active){.tox .tox-hue-slider,.tox .tox-rgb-form .tox-rgba-preview{background-color:currentColor!important;border:1px solid highlight!important;forced-color-adjust:none}}.tox .tox-color-picker-container{display:flex;flex-direction:row;height:225px;margin:0}.tox .tox-sv-palette{box-sizing:border-box;display:flex;height:100%}.tox .tox-sv-palette-spectrum{height:100%}.tox .tox-sv-palette,.tox .tox-sv-palette-spectrum{width:225px}.tox .tox-sv-palette-thumb{background:0 0;border:1px solid #000;border-radius:50%;box-sizing:content-box;height:12px;position:absolute;width:12px}.tox .tox-sv-palette-inner-thumb{border:1px solid #fff;border-radius:50%;height:10px;position:absolute;width:10px}.tox .tox-hue-slider{box-sizing:border-box;height:100%;width:25px}.tox .tox-hue-slider-spectrum{background:linear-gradient(to bottom,red,#ff0080,#f0f,#8000ff,#00f,#0080ff,#0ff,#00ff80,#0f0,#80ff00,#ff0,#ff8000,red);height:100%;width:100%}.tox .tox-hue-slider,.tox .tox-hue-slider-spectrum{width:20px}.tox .tox-hue-slider-spectrum:focus,.tox .tox-sv-palette-spectrum:focus{outline:#08f solid}.tox .tox-hue-slider-thumb{background:#fff;border:1px solid #000;box-sizing:content-box;height:4px;width:100%}.tox .tox-rgb-form{display:flex;flex-direction:column;justify-content:space-between}.tox .tox-rgb-form div{align-items:center;display:flex;justify-content:space-between;margin-bottom:5px;width:inherit}.tox .tox-rgb-form input{min-width:6em}.tox .tox-rgb-form input.tox-invalid{border:1px solid red!important;box-shadow:0 0 0 1px red}.tox .tox-rgb-container{position:relative}.tox .tox-rgb-form .tox-invalid-icon{align-content:center;align-items:center;display:none;height:100%;position:absolute;right:0;top:0}.tox .tox-rgb-form .tox-invalid-icon .tox-control-wrap__status-icon-invalid{margin:0}.tox .tox-rgb-warning-note{background-color:#f5cccc;border:1px solid #f0b3b3;border-radius:3px;color:#77181f;padding:3px}.tox input.tox-invalid+.tox-invalid-icon{display:flex}.tox .tox-rgb-form .tox-rgba-preview{border:1px solid #000;flex-grow:2;margin-bottom:0}.tox:not([dir=rtl]) .tox-sv-palette{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider-thumb{margin-left:-1px}.tox:not([dir=rtl]) .tox-rgb-form label{margin-right:.5em}.tox[dir=rtl] .tox-sv-palette{margin-left:15px}.tox[dir=rtl] .tox-hue-slider{margin-left:15px}.tox[dir=rtl] .tox-hue-slider-thumb{margin-right:-1px}.tox[dir=rtl] .tox-rgb-form label{margin-left:.5em}.tox .tox-toolbar .tox-swatches,.tox .tox-toolbar__overflow .tox-swatches,.tox .tox-toolbar__primary .tox-swatches{margin:5px 0 6px 11px}.tox .tox-collection--list .tox-collection__group .tox-swatches-menu{border:0;margin:-4px -4px}.tox .tox-swatches__row{display:flex}@media (forced-colors:active){.tox .tox-swatches__row{forced-color-adjust:none}}.tox .tox-swatch{height:30px;transition:transform .15s,box-shadow .15s;width:30px}.tox .tox-swatch:focus,.tox .tox-swatch:hover{box-shadow:0 0 0 1px rgba(127,127,127,.3) inset;transform:scale(.8)}.tox .tox-swatch--remove{align-items:center;display:flex;justify-content:center}.tox .tox-swatch--remove svg path{stroke:#e74c3c}.tox .tox-swatches__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:0;padding:0;width:30px}.tox .tox-swatches__picker-btn svg{fill:#222f3e;height:24px;width:24px}.tox .tox-swatches__picker-btn:hover{background:#f0f0f0}.tox div.tox-swatch:not(.tox-swatch--remove) svg{display:none;fill:#222f3e;height:24px;margin:calc((30px - 24px)/ 2) calc((30px - 24px)/ 2);width:24px}.tox div.tox-swatch:not(.tox-swatch--remove) svg path{fill:#fff;paint-order:stroke;stroke:#222f3e;stroke-width:2px}.tox div.tox-swatch:not(.tox-swatch--remove).tox-collection__item--enabled svg{display:block}.tox:not([dir=rtl]) .tox-swatches__picker-btn{margin-left:auto}.tox[dir=rtl] .tox-swatches__picker-btn{margin-right:auto}.tox .tox-comment-thread{background:#fff;position:relative}.tox .tox-comment-thread>:not(:first-child){margin-top:8px}.tox .tox-comment{background:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);padding:8px 8px 16px 8px;position:relative}.tox .tox-comment__header{align-items:center;color:#222f3e;display:flex;justify-content:space-between}.tox .tox-comment__date{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-comment__body{color:#222f3e;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;margin-top:8px;position:relative;text-transform:initial}.tox .tox-comment__body textarea{resize:none;white-space:normal;width:100%}.tox .tox-comment__expander{padding-top:8px}.tox .tox-comment__expander p{color:rgba(34,47,62,.7);font-size:14px;font-style:normal}.tox .tox-comment__body p{margin:0}.tox .tox-comment__buttonspacing{padding-top:16px;text-align:center}.tox .tox-comment-thread__overlay::after{background:#fff;bottom:0;content:"";display:flex;left:0;opacity:.9;position:absolute;right:0;top:0;z-index:5}.tox .tox-comment__reply{display:flex;flex-shrink:0;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__reply>:first-child{margin-bottom:8px;width:100%}.tox .tox-comment__edit{display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:16px}.tox .tox-comment__gradient::after{background:linear-gradient(rgba(255,255,255,0),#fff);bottom:0;content:"";display:block;height:5em;margin-top:-40px;position:absolute;width:100%}.tox .tox-comment__overlay{background:#fff;bottom:0;display:flex;flex-direction:column;flex-grow:1;left:0;opacity:.9;position:absolute;right:0;text-align:center;top:0;z-index:5}.tox .tox-comment__loading-text{align-items:center;color:#222f3e;display:flex;flex-direction:column;position:relative}.tox .tox-comment__loading-text>div{padding-bottom:16px}.tox .tox-comment__overlaytext{bottom:0;flex-direction:column;font-size:14px;left:0;padding:1em;position:absolute;right:0;top:0;z-index:10}.tox .tox-comment__overlaytext p{background-color:#fff;box-shadow:0 0 8px 8px #fff;color:#222f3e;text-align:center}.tox .tox-comment__overlaytext div:nth-of-type(2){font-size:.8em}.tox .tox-comment__busy-spinner{align-items:center;background-color:#fff;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:20}.tox .tox-comment__scroll{display:flex;flex-direction:column;flex-shrink:1;overflow:auto}.tox .tox-conversations{margin:8px}.tox:not([dir=rtl]) .tox-comment__edit{margin-left:8px}.tox:not([dir=rtl]) .tox-comment__buttonspacing>:last-child,.tox:not([dir=rtl]) .tox-comment__edit>:last-child,.tox:not([dir=rtl]) .tox-comment__reply>:last-child{margin-left:8px}.tox[dir=rtl] .tox-comment__edit{margin-right:8px}.tox[dir=rtl] .tox-comment__buttonspacing>:last-child,.tox[dir=rtl] .tox-comment__edit>:last-child,.tox[dir=rtl] .tox-comment__reply>:last-child{margin-right:8px}.tox .tox-user{align-items:center;display:flex}.tox .tox-user__avatar svg{fill:rgba(34,47,62,0.7)}.tox .tox-user__avatar img{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-user__name{color:#222f3e;font-size:14px;font-style:normal;font-weight:700;line-height:18px;text-transform:none}.tox:not([dir=rtl]) .tox-user__avatar img,.tox:not([dir=rtl]) .tox-user__avatar svg{margin-right:8px}.tox:not([dir=rtl]) .tox-user__avatar+.tox-user__name{margin-left:8px}.tox[dir=rtl] .tox-user__avatar img,.tox[dir=rtl] .tox-user__avatar svg{margin-left:8px}.tox[dir=rtl] .tox-user__avatar+.tox-user__name{margin-right:8px}.tox .tox-dialog-wrap{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:1100}.tox .tox-dialog-wrap__backdrop{background-color:rgba(255,255,255,.75);bottom:0;left:0;position:absolute;right:0;top:0;z-index:1}.tox .tox-dialog-wrap__backdrop--opaque{background-color:#fff}.tox .tox-dialog{background-color:#fff;border-color:#eee;border-radius:10px;border-style:solid;border-width:0;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);display:flex;flex-direction:column;max-height:100%;max-width:480px;overflow:hidden;position:relative;width:95vw;z-index:2}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog{align-self:flex-start;margin:8px auto;max-height:calc(100vh - 8px * 2);width:calc(100vw - 16px)}}.tox .tox-dialog-inline{z-index:1100}.tox .tox-dialog__header{align-items:center;background-color:#fff;border-bottom:none;color:#222f3e;display:flex;font-size:16px;justify-content:space-between;padding:8px 16px 0 16px;position:relative}.tox .tox-dialog__header .tox-button{z-index:1}.tox .tox-dialog__draghandle{cursor:grab;height:100%;left:0;position:absolute;top:0;width:100%}.tox .tox-dialog__draghandle:active{cursor:grabbing}.tox .tox-dialog__dismiss{margin-left:auto}.tox .tox-dialog__title{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:20px;font-style:normal;font-weight:400;line-height:1.3;margin:0;text-transform:none}.tox .tox-dialog__body{color:#222f3e;display:flex;flex:1;font-size:16px;font-style:normal;font-weight:400;line-height:1.3;min-width:0;text-align:left;text-transform:none}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body{flex-direction:column}}.tox .tox-dialog__body-nav{align-items:flex-start;display:flex;flex-direction:column;flex-shrink:0;padding:16px 16px}@media only screen and (min-width:768px){.tox .tox-dialog__body-nav{max-width:11em}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body-nav{flex-direction:row;-webkit-overflow-scrolling:touch;overflow-x:auto;padding-bottom:0}}.tox .tox-dialog__body-nav-item{border-bottom:2px solid transparent;color:rgba(34,47,62,.7);display:inline-block;flex-shrink:0;font-size:14px;line-height:1.3;margin-bottom:8px;max-width:13em;-webkit-text-decoration:none;text-decoration:none}.tox .tox-dialog__body-nav-item:focus{background-color:rgba(0,108,231,.1)}.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid #006ce7;color:#006ce7}@media (forced-colors:active){.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid highlight;color:highlight}}.tox .tox-dialog__body-content{box-sizing:border-box;display:flex;flex:1;flex-direction:column;max-height:min(650px,calc(100vh - 110px));overflow:auto;-webkit-overflow-scrolling:touch;padding:16px 16px}.tox .tox-dialog__body-content>*{margin-bottom:0;margin-top:16px}.tox .tox-dialog__body-content>:first-child{margin-top:0}.tox .tox-dialog__body-content>:last-child{margin-bottom:0}.tox .tox-dialog__body-content>:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content a{color:#006ce7;cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus,.tox .tox-dialog__body-content a:hover{color:#003c81;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus-visible{border-radius:1px;outline:2px solid #006ce7;outline-offset:2px}.tox .tox-dialog__body-content a:active{color:#00244e;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content svg{fill:#222f3e}.tox .tox-dialog__body-content strong{font-weight:700}.tox .tox-dialog__body-content ul{list-style-type:disc}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{padding-inline-start:2.5rem}.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{margin-bottom:16px}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content dt,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{display:block;margin-inline-end:0;margin-inline-start:0}.tox .tox-dialog__body-content .tox-form__group h1{color:#222f3e;font-size:20px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group h2{color:#222f3e;font-size:16px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group p{margin-bottom:16px}.tox .tox-dialog__body-content .tox-form__group h1:first-child,.tox .tox-dialog__body-content .tox-form__group h2:first-child,.tox .tox-dialog__body-content .tox-form__group p:first-child{margin-top:0}.tox .tox-dialog__body-content .tox-form__group h1:last-child,.tox .tox-dialog__body-content .tox-form__group h2:last-child,.tox .tox-dialog__body-content .tox-form__group p:last-child{margin-bottom:0}.tox .tox-dialog__body-content .tox-form__group h1:only-child,.tox .tox-dialog__body-content .tox-form__group h2:only-child,.tox .tox-dialog__body-content .tox-form__group p:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--center{text-align:center}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--end{text-align:end}.tox .tox-dialog--width-lg{height:650px;max-width:1200px}.tox .tox-dialog--fullscreen{height:100%;max-width:100%}.tox .tox-dialog--fullscreen .tox-dialog__body-content{max-height:100%}.tox .tox-dialog--width-md{max-width:800px}.tox .tox-dialog--width-md .tox-dialog__body-content{overflow:auto}.tox .tox-dialog__body-content--centered{text-align:center}.tox .tox-dialog__footer{align-items:center;background-color:#fff;border-top:none;display:flex;justify-content:space-between;padding:8px 16px}.tox .tox-dialog__footer-end,.tox .tox-dialog__footer-start{display:flex}.tox .tox-dialog__busy-spinner{align-items:center;background-color:rgba(255,255,255,.75);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:3}.tox .tox-dialog__table{border-collapse:collapse;width:100%}.tox .tox-dialog__table thead th{font-weight:700;padding-bottom:8px}.tox .tox-dialog__table thead th:first-child{padding-right:8px}.tox .tox-dialog__table tbody tr{border-bottom:1px solid #626262}.tox .tox-dialog__table tbody tr:last-child{border-bottom:none}.tox .tox-dialog__table td{padding-bottom:8px;padding-top:8px}.tox .tox-dialog__table td:first-child{padding-right:8px}.tox .tox-dialog__iframe{min-height:200px}.tox .tox-dialog__iframe.tox-dialog__iframe--opaque{background:#fff}.tox .tox-navobj-bordered{position:relative}.tox .tox-navobj-bordered::before{border:1px solid #eee;border-radius:6px;content:'';inset:0;opacity:1;pointer-events:none;position:absolute;z-index:1}.tox .tox-navobj-bordered iframe{border-radius:6px}.tox .tox-navobj-bordered-focus.tox-navobj-bordered::before{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-dialog__popups{position:absolute;width:100%;z-index:1100}.tox .tox-dialog__body-iframe{display:flex;flex:1;flex-direction:column}.tox .tox-dialog__body-iframe .tox-navobj{display:flex;flex:1}.tox .tox-dialog__body-iframe .tox-navobj :nth-child(2){flex:1;height:100%}.tox .tox-dialog-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-dialog-dock-fadein{opacity:1;visibility:visible}.tox .tox-dialog-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-dialog-dock-transition.tox-dialog-dock-fadein{transition-delay:0s}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav{margin-right:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav-item:not(:first-child){margin-left:8px}}.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-end>*,.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-start>*{margin-left:8px}.tox[dir=rtl] .tox-dialog__body{text-align:right}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav{margin-left:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav-item:not(:first-child){margin-right:8px}}.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-end>*,.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-start>*{margin-right:8px}body.tox-dialog__disable-scroll{overflow:hidden}.tox .tox-dropzone-container{display:flex;flex:1}.tox .tox-dropzone{align-items:center;background:#fff;border:2px dashed #eee;box-sizing:border-box;display:flex;flex-direction:column;flex-grow:1;justify-content:center;min-height:100px;padding:10px}.tox .tox-dropzone p{color:rgba(34,47,62,.7);margin:0 0 16px 0}.tox .tox-edit-area{display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-edit-area::before{border:2px solid #006ce7;border-radius:4px;content:'';inset:0;opacity:0;pointer-events:none;position:absolute;transition:opacity .15s;z-index:1}@media (forced-colors:active){.tox .tox-edit-area::before{border:2px solid highlight}}.tox .tox-edit-area__iframe{background-color:#fff;border:0;box-sizing:border-box;flex:1;height:100%;position:absolute;width:100%}.tox.tox-edit-focus .tox-edit-area::before{opacity:1}.tox.tox-inline-edit-area{border:1px dotted #eee}.tox .tox-editor-container{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-editor-header{display:grid;grid-template-columns:1fr min-content;z-index:2}.tox:not(.tox-tinymce-inline) .tox-editor-header{background-color:#fff;border-bottom:none;box-shadow:0 2px 2px -2px rgba(34,47,62,.1),0 8px 8px -4px rgba(34,47,62,.07);padding:4px 0}.tox:not(.tox-tinymce-inline) .tox-editor-header:not(.tox-editor-dock-transition){transition:box-shadow .5s}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-bottom .tox-editor-header{border-top:1px solid #e3e3e3;box-shadow:none}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on .tox-editor-header{background-color:#fff;box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15);padding:4px 0}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on.tox-tinymce--toolbar-bottom .tox-editor-header{box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15)}.tox.tox:not(.tox-tinymce-inline) .tox-editor-header.tox-editor-header--empty{background:0 0;border:none;box-shadow:none;padding:0}.tox-editor-dock-fadeout{opacity:0;visibility:hidden}.tox-editor-dock-fadein{opacity:1;visibility:visible}.tox-editor-dock-transition{transition:visibility 0s linear .25s,opacity .25s ease}.tox-editor-dock-transition.tox-editor-dock-fadein{transition-delay:0s}.tox .tox-control-wrap{flex:1;position:relative}.tox .tox-control-wrap:not(.tox-control-wrap--status-invalid) .tox-control-wrap__status-icon-invalid,.tox .tox-control-wrap:not(.tox-control-wrap--status-unknown) .tox-control-wrap__status-icon-unknown,.tox .tox-control-wrap:not(.tox-control-wrap--status-valid) .tox-control-wrap__status-icon-valid{display:none}.tox .tox-control-wrap svg{display:block}.tox .tox-control-wrap__status-icon-wrap{position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-control-wrap__status-icon-invalid svg{fill:#c00}.tox .tox-control-wrap__status-icon-unknown svg{fill:orange}.tox .tox-control-wrap__status-icon-valid svg{fill:green}.tox:not([dir=rtl]) .tox-control-wrap--status-invalid .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-unknown .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-valid .tox-textfield{padding-right:32px}.tox:not([dir=rtl]) .tox-control-wrap__status-icon-wrap{right:4px}.tox[dir=rtl] .tox-control-wrap--status-invalid .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-unknown .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-valid .tox-textfield{padding-left:32px}.tox[dir=rtl] .tox-control-wrap__status-icon-wrap{left:4px}.tox .tox-custom-preview{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;flex:1;padding:8px}.tox .tox-autocompleter{max-width:25em}.tox .tox-autocompleter .tox-menu{box-sizing:border-box;max-width:25em}.tox .tox-autocompleter .tox-autocompleter-highlight{font-weight:700}.tox .tox-color-input{display:flex;position:relative;z-index:1}.tox .tox-color-input .tox-textfield{z-index:-1}.tox .tox-color-input span{border-color:rgba(34 47 3.1%);border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;height:24px;position:absolute;top:6px;width:24px}@media (forced-colors:active){.tox .tox-color-input span{border-color:currentColor;border-width:2px!important;forced-color-adjust:none}}.tox .tox-color-input span:focus:not([aria-disabled=true]),.tox .tox-color-input span:hover:not([aria-disabled=true]){border-color:#006ce7;cursor:pointer}.tox .tox-color-input span::before{background-image:linear-gradient(45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(-45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(45deg,transparent 75%,rgba(0,0,0,.25) 75%),linear-gradient(-45deg,transparent 75%,rgba(0,0,0,.25) 75%);background-position:0 0,0 6px,6px -6px,-6px 0;background-size:12px 12px;border:1px solid #fff;border-radius:6px;box-sizing:border-box;content:'';height:24px;left:-1px;position:absolute;top:-1px;width:24px;z-index:-1}@media (forced-colors:active){.tox .tox-color-input span::before{border:none}}.tox .tox-color-input span[aria-disabled=true]{cursor:not-allowed}.tox:not([dir=rtl]) .tox-color-input .tox-textfield{padding-left:36px}.tox:not([dir=rtl]) .tox-color-input span{left:6px}.tox[dir=rtl] .tox-color-input .tox-textfield{padding-right:36px}.tox[dir=rtl] .tox-color-input span{right:6px}.tox .tox-label,.tox .tox-toolbar-label{color:rgba(34,47,62,.7);display:block;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;padding:0 8px 0 0;text-transform:none;white-space:nowrap}.tox .tox-toolbar-label{padding:0 8px}.tox[dir=rtl] .tox-label{padding:0 0 0 8px}.tox .tox-form{display:flex;flex:1;flex-direction:column}.tox .tox-form__group{box-sizing:border-box;margin-bottom:4px}.tox .tox-form-group--maximize{flex:1}.tox .tox-form__group--error{color:#c00}.tox .tox-form__group--collection{display:flex}.tox .tox-form__grid{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.tox .tox-form__grid--2col>.tox-form__group{width:calc(50% - (8px / 2))}.tox .tox-form__grid--3col>.tox-form__group{width:calc(100% / 3 - (8px / 2))}.tox .tox-form__grid--4col>.tox-form__group{width:calc(25% - (8px / 2))}.tox .tox-form__controls-h-stack{align-items:center;display:flex}.tox .tox-form__group--inline{align-items:center;display:flex}.tox .tox-form__group--stretched{display:flex;flex:1;flex-direction:column}.tox .tox-form__group--stretched .tox-textarea{flex:1}.tox .tox-form__group--stretched .tox-navobj{display:flex;flex:1}.tox .tox-form__group--stretched .tox-navobj :nth-child(2){flex:1;height:100%}.tox:not([dir=rtl]) .tox-form__controls-h-stack>:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-form__controls-h-stack>:not(:first-child){margin-right:4px}.tox .tox-lock.tox-locked .tox-lock-icon__unlock,.tox .tox-lock:not(.tox-locked) .tox-lock-icon__lock{display:none}.tox .tox-listboxfield .tox-listbox--select,.tox .tox-textarea,.tox .tox-textarea-wrap .tox-textarea:focus,.tox .tox-textfield,.tox .tox-toolbar-textfield{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-textarea[disabled],.tox .tox-textfield[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-custom-editor:focus-within,.tox .tox-listboxfield .tox-listbox--select:focus,.tox .tox-textarea-wrap:focus-within,.tox .tox-textarea:focus,.tox .tox-textfield:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-toolbar-textfield{border-width:0;margin-bottom:3px;margin-top:2px;max-width:250px}.tox .tox-naked-btn{background-color:transparent;border:0;border-color:transparent;box-shadow:unset;color:#006ce7;cursor:pointer;display:block;margin:0;padding:0}.tox .tox-naked-btn svg{display:block;fill:#222f3e}.tox:not([dir=rtl]) .tox-toolbar-textfield+*{margin-left:4px}.tox[dir=rtl] .tox-toolbar-textfield+*{margin-right:4px}.tox .tox-listboxfield{cursor:pointer;position:relative}.tox .tox-listboxfield .tox-listbox--select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-listbox__select-label{cursor:default;flex:1;margin:0 4px}.tox .tox-listbox__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-listbox__select-chevron svg{fill:#222f3e}@media (forced-colors:active){.tox .tox-listbox__select-chevron svg{fill:currentColor!important}}.tox .tox-listboxfield .tox-listbox--select{align-items:center;display:flex}.tox:not([dir=rtl]) .tox-listboxfield svg{right:8px}.tox[dir=rtl] .tox-listboxfield svg{left:8px}.tox .tox-selectfield{cursor:pointer;position:relative}.tox .tox-selectfield select{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-selectfield select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-selectfield select::-ms-expand{display:none}.tox .tox-selectfield select:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-selectfield svg{pointer-events:none;position:absolute;top:50%;transform:translateY(-50%)}.tox:not([dir=rtl]) .tox-selectfield select[size="0"],.tox:not([dir=rtl]) .tox-selectfield select[size="1"]{padding-right:24px}.tox:not([dir=rtl]) .tox-selectfield svg{right:8px}.tox[dir=rtl] .tox-selectfield select[size="0"],.tox[dir=rtl] .tox-selectfield select[size="1"]{padding-left:24px}.tox[dir=rtl] .tox-selectfield svg{left:8px}.tox .tox-textarea-wrap{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;display:flex;flex:1;overflow:hidden}.tox .tox-textarea{appearance:textarea;white-space:pre-wrap}.tox .tox-textarea-wrap .tox-textarea{border:none}.tox .tox-textarea-wrap .tox-textarea:focus{border:none}.tox-fullscreen{border:0;height:100%;margin:0;overflow:hidden;overscroll-behavior:none;padding:0;touch-action:pinch-zoom;width:100%}.tox.tox-tinymce.tox-fullscreen .tox-statusbar__resize-handle{display:none}.tox-shadowhost.tox-fullscreen,.tox.tox-tinymce.tox-fullscreen{left:0;position:fixed;top:0;z-index:1200}.tox.tox-tinymce.tox-fullscreen{background-color:transparent}.tox-fullscreen .tox.tox-tinymce-aux,.tox-fullscreen~.tox.tox-tinymce-aux{z-index:1201}.tox .tox-help__more-link{list-style:none;margin-top:1em}.tox .tox-imagepreview{background-color:#666;height:380px;overflow:hidden;position:relative;width:100%}.tox .tox-imagepreview.tox-imagepreview__loaded{overflow:auto}.tox .tox-imagepreview__container{display:flex;left:100vw;position:absolute;top:100vw}.tox .tox-imagepreview__image{background:url(data:image/gif;base64,R0lGODdhDAAMAIABAMzMzP///ywAAAAADAAMAAACFoQfqYeabNyDMkBQb81Uat85nxguUAEAOw==)}.tox .tox-image-tools .tox-spacer{flex:1}.tox .tox-image-tools .tox-bar{align-items:center;display:flex;height:60px;justify-content:center}.tox .tox-image-tools .tox-imagepreview,.tox .tox-image-tools .tox-imagepreview+.tox-bar{margin-top:8px}.tox .tox-image-tools .tox-croprect-block{background:#000;opacity:.5;position:absolute;zoom:1}.tox .tox-image-tools .tox-croprect-handle{border:2px solid #fff;height:20px;left:0;position:absolute;top:0;width:20px}.tox .tox-image-tools .tox-croprect-handle-move{border:0;cursor:move;position:absolute}.tox .tox-image-tools .tox-croprect-handle-nw{border-width:2px 0 0 2px;cursor:nw-resize;left:100px;margin:-2px 0 0 -2px;top:100px}.tox .tox-image-tools .tox-croprect-handle-ne{border-width:2px 2px 0 0;cursor:ne-resize;left:200px;margin:-2px 0 0 -20px;top:100px}.tox .tox-image-tools .tox-croprect-handle-sw{border-width:0 0 2px 2px;cursor:sw-resize;left:100px;margin:-20px 2px 0 -2px;top:200px}.tox .tox-image-tools .tox-croprect-handle-se{border-width:0 2px 2px 0;cursor:se-resize;left:200px;margin:-20px 0 0 -20px;top:200px}.tox .tox-insert-table-picker{background-color:#fff;display:flex;flex-wrap:wrap;width:170px}.tox .tox-insert-table-picker>div{border-color:#eee;border-style:solid;border-width:0 1px 1px 0;box-sizing:border-box;height:17px;width:17px}.tox .tox-collection--list .tox-collection__group .tox-insert-table-picker{margin:-4px -4px}.tox .tox-insert-table-picker .tox-insert-table-picker__selected{background-color:#006ce7;border-color:#eee}@media (forced-colors:active){.tox .tox-insert-table-picker .tox-insert-table-picker__selected{border-color:Highlight;filter:contrast(50%)}}.tox .tox-insert-table-picker__label{color:rgba(34,47,62,.7);display:block;font-size:14px;padding:4px;text-align:center;width:100%}.tox:not([dir=rtl]) .tox-insert-table-picker>div:nth-child(10n){border-right:0}.tox[dir=rtl] .tox-insert-table-picker>div:nth-child(10n+1){border-right:0}.tox .tox-menu{background-color:#fff;border:1px solid transparent;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:inline-block;overflow:hidden;vertical-align:top;z-index:1150}.tox .tox-menu.tox-collection.tox-collection--list{padding:0 4px}.tox .tox-menu.tox-collection.tox-collection--toolbar{padding:8px}.tox .tox-menu.tox-collection.tox-collection--grid{padding:8px}@media only screen and (min-width:768px){.tox .tox-menu .tox-collection__item-label{overflow-wrap:break-word;word-break:normal}.tox .tox-dialog__popups .tox-menu .tox-collection__item-label{word-break:break-all}}.tox .tox-menu__label blockquote,.tox .tox-menu__label code,.tox .tox-menu__label h1,.tox .tox-menu__label h2,.tox .tox-menu__label h3,.tox .tox-menu__label h4,.tox .tox-menu__label h5,.tox .tox-menu__label h6,.tox .tox-menu__label p{margin:0}.tox .tox-menubar{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;grid-column:1/-1;grid-row:1;padding:0 11px 0 12px}.tox .tox-promotion+.tox-menubar{grid-column:1}.tox .tox-promotion{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;grid-column:2;grid-row:1;padding-inline-end:8px;padding-inline-start:4px;padding-top:5px}.tox .tox-promotion-link{align-items:unsafe center;background-color:#e8f1f8;border-radius:5px;color:#086be6;cursor:pointer;display:flex;font-size:14px;height:26.6px;padding:4px 8px;white-space:nowrap}.tox .tox-promotion-link:hover{background-color:#b4d7ff}.tox .tox-promotion-link:focus{background-color:#d9edf7}.tox .tox-mbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:5px 1px 6px 0;outline:0;padding:0 4px;text-transform:none;width:auto}.tox .tox-mbtn[disabled]{background-color:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-mbtn:focus:not(:disabled){background:#fff;border:0;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-mbtn:focus:not(:disabled)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-mbtn:focus:not(:disabled)::after{border:2px solid highlight}}.tox .tox-mbtn--active,.tox .tox-mbtn:not(:disabled).tox-mbtn--active:focus{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn:hover:not(:disabled):not(.tox-mbtn--active){background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn__select-label{cursor:default;font-weight:400;margin:0 4px}.tox .tox-mbtn[disabled] .tox-mbtn__select-label{cursor:not-allowed}.tox .tox-mbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px;display:none}.tox .tox-notification{border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;display:grid;font-size:14px;font-weight:400;grid-template-columns:minmax(40px,1fr) auto minmax(40px,1fr);margin-left:auto;margin-right:auto;margin-top:4px;opacity:0;padding:4px;transition:transform .1s ease-in,opacity 150ms ease-in;width:max-content}.tox .tox-notification a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification p{font-size:14px;font-weight:400}.tox .tox-notification:focus{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7}.tox .tox-notification--in{opacity:1}.tox .tox-notification--success{background-color:#e4eeda;border-color:#d7e6c8;color:#222f3e}.tox .tox-notification--success p{color:#222f3e}.tox .tox-notification--success a{color:#517342}.tox .tox-notification--success a:focus,.tox .tox-notification--success a:hover{color:#24321d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success a:focus-visible{border-radius:1px;outline:2px solid #517342;outline-offset:2px}.tox .tox-notification--success a:active{color:#0d120a;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success svg{fill:#222f3e}.tox .tox-notification--error{background-color:#f5cccc;border-color:#f0b3b3;color:#222f3e}.tox .tox-notification--error p{color:#222f3e}.tox .tox-notification--error a{color:#77181f}.tox .tox-notification--error a:focus,.tox .tox-notification--error a:hover{color:#220709;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error a:focus-visible{border-radius:1px;outline:2px solid #77181f;outline-offset:2px}.tox .tox-notification--error a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error svg{fill:#222f3e}.tox .tox-notification--warn,.tox .tox-notification--warning{background-color:#fff5cc;border-color:#fff0b3;color:#222f3e}.tox .tox-notification--warn p,.tox .tox-notification--warning p{color:#222f3e}.tox .tox-notification--warn a,.tox .tox-notification--warning a{color:#7a6e25}.tox .tox-notification--warn a:focus,.tox .tox-notification--warn a:hover,.tox .tox-notification--warning a:focus,.tox .tox-notification--warning a:hover{color:#2c280d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn a:focus-visible,.tox .tox-notification--warning a:focus-visible{border-radius:1px;outline:2px solid #7a6e25;outline-offset:2px}.tox .tox-notification--warn a:active,.tox .tox-notification--warning a:active{color:#050502;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn svg,.tox .tox-notification--warning svg{fill:#222f3e}.tox .tox-notification--info{background-color:#d6e7fb;border-color:#c1dbf9;color:#222f3e}.tox .tox-notification--info p{color:#222f3e}.tox .tox-notification--info a{color:#2a64a6}.tox .tox-notification--info a:focus,.tox .tox-notification--info a:hover{color:#163355;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info a:focus-visible{border-radius:1px;outline:2px solid #2a64a6;outline-offset:2px}.tox .tox-notification--info a:active{color:#0b1a2c;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info svg{fill:#222f3e}.tox .tox-notification__body{align-self:center;color:#222f3e;font-size:14px;grid-column-end:3;grid-column-start:2;grid-row-end:2;grid-row-start:1;text-align:center;white-space:normal;word-break:break-all;word-break:break-word}.tox .tox-notification__body>*{margin:0}.tox .tox-notification__body>*+*{margin-top:1rem}.tox .tox-notification__icon{align-self:center;grid-column-end:2;grid-column-start:1;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification__icon svg{display:block}.tox .tox-notification__dismiss{align-self:start;grid-column-end:4;grid-column-start:3;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification .tox-progress-bar{grid-column-end:4;grid-column-start:1;grid-row-end:3;grid-row-start:2;justify-self:center}.tox .tox-notification-container-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-notification-container-dock-fadein{opacity:1;visibility:visible}.tox .tox-notification-container-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-notification-container-dock-transition.tox-notification-container-dock-fadein{transition-delay:0s}.tox .tox-pop{display:inline-block;position:relative}.tox .tox-pop--resizing{transition:width .1s ease}.tox .tox-pop--resizing .tox-toolbar,.tox .tox-pop--resizing .tox-toolbar__group{flex-wrap:nowrap}.tox .tox-pop--transition{transition:.15s ease;transition-property:left,right,top,bottom}.tox .tox-pop--transition::after,.tox .tox-pop--transition::before{transition:all .15s,visibility 0s,opacity 75ms ease 75ms}.tox .tox-pop__dialog{background-color:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);min-width:0;overflow:hidden}.tox .tox-pop__dialog>:not(.tox-toolbar){margin:4px 4px 4px 8px}.tox .tox-pop__dialog .tox-toolbar{background-color:transparent;margin-bottom:-1px}.tox .tox-pop::after,.tox .tox-pop::before{border-style:solid;content:'';display:block;height:0;opacity:1;position:absolute;width:0}@media (forced-colors:active){.tox .tox-pop::after,.tox .tox-pop::before{content:none}}.tox .tox-pop.tox-pop--inset::after,.tox .tox-pop.tox-pop--inset::before{opacity:0;transition:all 0s .15s,visibility 0s,opacity 75ms ease}.tox .tox-pop.tox-pop--bottom::after,.tox .tox-pop.tox-pop--bottom::before{left:50%;top:100%}.tox .tox-pop.tox-pop--bottom::after{border-color:#fff transparent transparent transparent;border-width:8px;margin-left:-8px;margin-top:-1px}.tox .tox-pop.tox-pop--bottom::before{border-color:#eee transparent transparent transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--top::after,.tox .tox-pop.tox-pop--top::before{left:50%;top:0;transform:translateY(-100%)}.tox .tox-pop.tox-pop--top::after{border-color:transparent transparent #fff transparent;border-width:8px;margin-left:-8px;margin-top:1px}.tox .tox-pop.tox-pop--top::before{border-color:transparent transparent #eee transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--left::after,.tox .tox-pop.tox-pop--left::before{left:0;top:calc(50% - 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--left::after{border-color:transparent #fff transparent transparent;border-width:8px;margin-left:-15px}.tox .tox-pop.tox-pop--left::before{border-color:transparent #eee transparent transparent;border-width:10px;margin-left:-19px}.tox .tox-pop.tox-pop--right::after,.tox .tox-pop.tox-pop--right::before{left:100%;top:calc(50% + 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--right::after{border-color:transparent transparent transparent #fff;border-width:8px;margin-left:-1px}.tox .tox-pop.tox-pop--right::before{border-color:transparent transparent transparent #eee;border-width:10px;margin-left:-1px}.tox .tox-pop.tox-pop--align-left::after,.tox .tox-pop.tox-pop--align-left::before{left:20px}.tox .tox-pop.tox-pop--align-right::after,.tox .tox-pop.tox-pop--align-right::before{left:calc(100% - 20px)}.tox .tox-sidebar-wrap{display:flex;flex-direction:row;flex-grow:1;min-height:0}.tox .tox-sidebar{background-color:#fff;display:flex;flex-direction:row;justify-content:flex-end}.tox .tox-sidebar__slider{display:flex;overflow:hidden}.tox .tox-sidebar__pane-container{display:flex}.tox .tox-sidebar__pane{display:flex}.tox .tox-sidebar--sliding-closed{opacity:0}.tox .tox-sidebar--sliding-open{opacity:1}.tox .tox-sidebar--sliding-growing,.tox .tox-sidebar--sliding-shrinking{transition:width .5s ease,opacity .5s ease}.tox .tox-selector{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;display:inline-block;height:10px;position:absolute;width:10px}.tox.tox-platform-touch .tox-selector{height:12px;width:12px}.tox .tox-slider{align-items:center;display:flex;flex:1;height:24px;justify-content:center;position:relative}.tox .tox-slider__rail{background-color:transparent;border:1px solid #eee;border-radius:6px;height:10px;min-width:120px;width:100%}.tox .tox-slider__handle{background-color:#006ce7;border:2px solid #0054b4;border-radius:6px;box-shadow:none;height:24px;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%);width:14px}.tox .tox-form__controls-h-stack>.tox-slider:not(:first-of-type){margin-inline-start:8px}.tox .tox-form__controls-h-stack>.tox-form__group+.tox-slider{margin-inline-start:32px}.tox .tox-form__controls-h-stack>.tox-slider+.tox-form__group{margin-inline-start:32px}.tox .tox-source-code{overflow:auto}.tox .tox-spinner{display:flex}.tox .tox-spinner>div{animation:tam-bouncing-dots 1.5s ease-in-out 0s infinite both;background-color:rgba(34,47,62,.7);border-radius:100%;height:8px;width:8px}.tox .tox-spinner>div:first-child{animation-delay:-.32s}.tox .tox-spinner>div:nth-child(2){animation-delay:-.16s}@keyframes tam-bouncing-dots{0%,100%,80%{transform:scale(0)}40%{transform:scale(1)}}.tox:not([dir=rtl]) .tox-spinner>div:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-spinner>div:not(:first-child){margin-right:4px}.tox .tox-statusbar{align-items:center;background-color:#fff;border-top:1px solid #e3e3e3;color:rgba(34,47,62,.7);display:flex;flex:0 0 auto;font-size:14px;font-weight:400;height:25px;overflow:hidden;padding:0 8px;position:relative;text-transform:none}.tox .tox-statusbar__path{display:flex;flex:1 1 auto;text-overflow:ellipsis;white-space:nowrap}.tox .tox-statusbar__right-container{display:flex;justify-content:flex-end;white-space:nowrap}.tox .tox-statusbar__help-text{text-align:center}.tox .tox-statusbar__text-container{align-items:flex-start;display:flex;flex:1 1 auto;height:16px;justify-content:space-between;overflow:hidden}@media only screen and (min-width:768px){.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__help-text,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__path,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__right-container{flex:0 0 calc(100% / 3)}}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-end{justify-content:flex-end}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-start{justify-content:flex-start}.tox .tox-statusbar__text-container.tox-statusbar__text-container--space-around{justify-content:space-around}.tox .tox-statusbar__path>*{display:inline;white-space:nowrap}.tox .tox-statusbar__wordcount{flex:0 0 auto;margin-left:1ch}@media only screen and (max-width:767px){.tox .tox-statusbar__text-container .tox-statusbar__help-text{display:none}.tox .tox-statusbar__text-container .tox-statusbar__help-text:only-child{display:block}}.tox .tox-statusbar a,.tox .tox-statusbar__path-item,.tox .tox-statusbar__wordcount{color:rgba(34,47,62,.7);position:relative;-webkit-text-decoration:none;text-decoration:none}.tox .tox-statusbar a:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar a:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:hover:not(:disabled):not([aria-disabled=true]){color:#222f3e;cursor:pointer}.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border:2px solid highlight}}.tox .tox-statusbar__branding svg{fill:rgba(34,47,62,0.8);height:1em;margin-left:.3em;width:auto}@media (forced-colors:active){.tox .tox-statusbar__branding svg{fill:currentColor}}.tox .tox-statusbar__branding a{align-items:center;display:inline-flex}.tox .tox-statusbar__branding a:focus:not(:disabled):not([aria-disabled=true]) svg,.tox .tox-statusbar__branding a:hover:not(:disabled):not([aria-disabled=true]) svg{fill:#222f3e}.tox .tox-statusbar__resize-handle{align-items:flex-end;align-self:stretch;cursor:nwse-resize;display:flex;flex:0 0 auto;justify-content:flex-end;margin-bottom:3px;margin-left:4px;margin-right:calc(3px - 8px);margin-top:3px;padding-bottom:0;padding-left:0;padding-right:0;position:relative}.tox .tox-statusbar__resize-handle svg{display:block;fill:rgba(34,47,62,0.5)}.tox .tox-statusbar__resize-handle:focus svg,.tox .tox-statusbar__resize-handle:hover svg{fill:#222f3e}.tox .tox-statusbar__resize-handle:focus-visible{background-color:transparent;border-radius:1px 1px 5px 1px;box-shadow:0 0 0 2px transparent}.tox .tox-statusbar__resize-handle:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar__resize-handle:focus-visible::after{border:2px solid highlight}}.tox:not([dir=rtl]) .tox-statusbar__path>*{margin-right:4px}.tox:not([dir=rtl]) .tox-statusbar__branding{margin-left:2ch}.tox[dir=rtl] .tox-statusbar{flex-direction:row-reverse}.tox[dir=rtl] .tox-statusbar__path>*{margin-left:4px}.tox[dir=rtl] .tox-statusbar__branding svg{margin-left:0;margin-right:.3em}.tox .tox-throbber{z-index:1299}.tox .tox-throbber__busy-spinner{align-items:center;background-color:rgba(255,255,255,.6);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}.tox .tox-tbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:6px 1px 5px 0;outline:0;padding:0;text-transform:none;width:34px}@media (forced-colors:active){.tox .tox-tbtn.tox-tbtn:hover,.tox .tox-tbtn:hover{outline:1px dashed currentColor}.tox .tox-tbtn.tox-tbtn--active,.tox .tox-tbtn.tox-tbtn--enabled,.tox .tox-tbtn.tox-tbtn--enabled:focus,.tox .tox-tbtn.tox-tbtn--enabled:hover,.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){outline:1px solid currentColor;position:relative}}.tox .tox-tbtn svg{display:block;fill:#222f3e}@media (forced-colors:active){.tox .tox-tbtn svg{fill:currentColor!important}.tox .tox-tbtn svg.tox-tbtn--enabled,.tox .tox-tbtn svg:focus:not(.tox-tbtn--disabled){fill:currentColor!important}.tox .tox-tbtn svg .tox-tbtn:disabled,.tox .tox-tbtn svg .tox-tbtn:disabled:hover,.tox .tox-tbtn svg.tox-tbtn--disabled,.tox .tox-tbtn svg.tox-tbtn--disabled:hover{filter:contrast(0%)}}.tox .tox-tbtn.tox-tbtn-more{padding-left:5px;padding-right:5px;width:inherit}.tox .tox-tbtn:focus{background:#fff;border:0;box-shadow:none;position:relative;z-index:1}.tox .tox-tbtn:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn:focus::after{border:2px solid highlight}}.tox .tox-tbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:hover svg{fill:#222f3e}.tox .tox-tbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:active svg{fill:#222f3e}.tox .tox-tbtn--disabled .tox-tbtn--enabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--disabled,.tox .tox-tbtn--disabled:hover,.tox .tox-tbtn:disabled,.tox .tox-tbtn:disabled:hover{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tbtn--disabled svg,.tox .tox-tbtn--disabled:hover svg,.tox .tox-tbtn:disabled svg,.tox .tox-tbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--active,.tox .tox-tbtn--enabled,.tox .tox-tbtn--enabled:focus,.tox .tox-tbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e;position:relative}.tox .tox-tbtn--active>*,.tox .tox-tbtn--enabled:focus>*,.tox .tox-tbtn--enabled:hover>*,.tox .tox-tbtn--enabled>*{transform:none}.tox .tox-tbtn--active svg,.tox .tox-tbtn--enabled svg,.tox .tox-tbtn--enabled:focus svg,.tox .tox-tbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tbtn--active.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:focus.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:hover.tox-tbtn--disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--enabled:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn--enabled:focus::after{border:2px solid highlight}}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){color:#222f3e}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled) svg{fill:#222f3e}.tox .tox-tbtn:active>*{transform:none}.tox .tox-tbtn--md{height:42px;width:51px}.tox .tox-tbtn--lg{flex-direction:column;height:56px;width:68px}.tox .tox-tbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tbtn--labeled{padding:0 4px;width:unset}.tox .tox-tbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-number-input{background:#f7f7f7;border-radius:3px;display:flex;margin:6px 1px 5px 0;position:relative;width:auto}.tox .tox-number-input:focus{background:#f7f7f7}.tox .tox-number-input:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper{display:flex;pointer-events:none;position:relative;text-align:center}.tox .tox-number-input .tox-input-wrapper:focus{background-color:#f7f7f7;z-index:1}.tox .tox-number-input .tox-input-wrapper:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border:2px solid highlight}}.tox .tox-number-input input{border-radius:3px;color:#222f3e;font-size:14px;margin:2px 0;pointer-events:all;position:relative;width:60px}.tox .tox-number-input input:hover{background:#f0f0f0;color:#222f3e}.tox .tox-number-input input:focus{background-color:#f7f7f7}.tox .tox-number-input input:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button{color:#222f3e;height:28px;position:relative;text-align:center;width:24px}@media (forced-colors:active){.tox .tox-number-input button:active,.tox .tox-number-input button:focus,.tox .tox-number-input button:hover{outline:1px solid currentColor!important}}.tox .tox-number-input button svg{display:block;fill:#222f3e;margin:0 auto;transform:scale(.67)}@media (forced-colors:active){.tox .tox-number-input button svg,.tox .tox-number-input button svg:active,.tox .tox-number-input button svg:hover{fill:currentColor!important}.tox .tox-number-input button svg:disabled{filter:contrast(0)}}.tox .tox-number-input button:focus{background:#f7f7f7;z-index:1}.tox .tox-number-input button:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input button:focus::after{border:2px solid highlight}}.tox .tox-number-input button:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:hover svg{fill:#222f3e}.tox .tox-number-input button:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:active svg{fill:#222f3e}.tox .tox-number-input button:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button:disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-number-input button.minus{border-radius:3px 0 0 3px}.tox .tox-number-input button.plus{border-radius:0 3px 3px 0}.tox .tox-number-input:focus:not(:active)>.tox-input-wrapper,.tox .tox-number-input:focus:not(:active)>button{background:#f7f7f7}.tox .tox-tbtn--select{margin:6px 1px 5px 0;padding:0 4px;width:auto}.tox .tox-tbtn__select-label{cursor:default;font-weight:400;height:initial;margin:0 4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-tbtn__select-chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-tbtn__select-chevron svg{fill:currentColor}}.tox .tox-tbtn--bespoke{background:#f7f7f7}.tox .tox-tbtn--bespoke:focus{background:#f7f7f7}.tox .tox-tbtn--bespoke+.tox-tbtn--bespoke{margin-inline-start:4px}.tox .tox-tbtn--bespoke .tox-tbtn__select-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:7em}.tox .tox-tbtn--disabled .tox-tbtn__select-label,.tox .tox-tbtn--select:disabled .tox-tbtn__select-label{cursor:not-allowed}.tox .tox-split-button{border:0;border-radius:3px;box-sizing:border-box;display:flex;margin:6px 1px 5px 0}.tox .tox-split-button:hover{box-shadow:0 0 0 1px #f0f0f0 inset}.tox .tox-split-button:focus{background:#fff;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-split-button:focus::after{pointer-events:none;border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-split-button:focus::after{border:2px solid highlight}}.tox .tox-split-button>*{border-radius:0}.tox .tox-split-button>:first-child{border-bottom-left-radius:3px;border-top-left-radius:3px}.tox .tox-split-button>:nth-child(2){border-bottom-right-radius:3px;border-top-right-radius:3px}.tox .tox-split-button__chevron{width:16px}.tox .tox-split-button__chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-split-button__chevron svg{fill:currentColor}}.tox .tox-split-button .tox-tbtn{margin:0}.tox .tox-split-button:focus .tox-tbtn{background-color:transparent}.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:focus,.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:hover,.tox .tox-split-button.tox-tbtn--disabled:focus,.tox .tox-split-button.tox-tbtn--disabled:hover{background:#fff;box-shadow:none;color:rgba(34,47,62,.5)}.tox.tox-platform-touch .tox-split-button .tox-tbtn--select{padding:0 0}.tox.tox-platform-touch .tox-split-button .tox-tbtn:not(.tox-tbtn--select):first-child{width:30px}.tox.tox-platform-touch .tox-split-button__chevron{width:20px}.tox .tox-split-button.tox-tbtn--disabled svg #tox-icon-highlight-bg-color__color,.tox .tox-split-button.tox-tbtn--disabled svg #tox-icon-text-color__color{opacity:.6}.tox .tox-toolbar-overlord{background-color:#fff}.tox .tox-toolbar,.tox .tox-toolbar__overflow,.tox .tox-toolbar__primary{background-attachment:local;background-color:#fff;background-image:repeating-linear-gradient(#e3e3e3 0 1px,transparent 1px 39px);background-position:center top 40px;background-repeat:no-repeat;background-size:calc(100% - 11px * 2) calc(100% - 41px);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;padding:0 0;transform:perspective(1px)}.tox .tox-toolbar-overlord>.tox-toolbar,.tox .tox-toolbar-overlord>.tox-toolbar__overflow,.tox .tox-toolbar-overlord>.tox-toolbar__primary{background-position:center top 0;background-size:calc(100% - 11px * 2) calc(100% - 0)}.tox .tox-toolbar__overflow.tox-toolbar__overflow--closed{height:0;opacity:0;padding-bottom:0;padding-top:0;visibility:hidden}.tox .tox-toolbar__overflow--growing{transition:height .3s ease,opacity .2s linear .1s}.tox .tox-toolbar__overflow--shrinking{transition:opacity .3s ease,height .2s linear .1s,visibility 0s linear .3s}.tox .tox-anchorbar,.tox .tox-toolbar-overlord{grid-column:1/-1}.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{border-top:1px solid transparent;margin-top:-1px;padding-bottom:1px;padding-top:1px}@media (forced-colors:active){.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{outline:1px solid currentColor}}.tox .tox-toolbar--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-pop .tox-toolbar{border-width:0}.tox .tox-toolbar--no-divider{background-image:none}.tox .tox-toolbar-overlord .tox-toolbar:not(.tox-toolbar--scrolling):first-child,.tox .tox-toolbar-overlord .tox-toolbar__primary{background-position:center top 39px}.tox .tox-editor-header>.tox-toolbar--scrolling,.tox .tox-toolbar-overlord .tox-toolbar--scrolling:first-child{background-image:none}.tox.tox-tinymce-aux .tox-toolbar__overflow{background-color:#fff;background-position:center top 43px;background-size:calc(100% - 8px * 2) calc(100% - 51px);border:none;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);overscroll-behavior:none;padding:4px 0}@media (forced-colors:active){.tox.tox-tinymce-aux .tox-toolbar__overflow{border:solid}}.tox-pop .tox-pop__dialog .tox-toolbar{background-position:center top 43px;background-size:calc(100% - 11px * 2) calc(100% - 51px);padding:4px 0}.tox .tox-toolbar__group{align-items:center;display:flex;flex-wrap:wrap;margin:0 0;padding:0 11px 0 12px}.tox .tox-toolbar__group--pull-right{margin-left:auto}.tox .tox-toolbar--scrolling .tox-toolbar__group{flex-shrink:0;flex-wrap:nowrap}.tox:not([dir=rtl]) .tox-toolbar__group:not(:last-of-type){border-right:1px solid transparent}.tox[dir=rtl] .tox-toolbar__group:not(:last-of-type){border-left:1px solid transparent}.tox .tox-tooltip{display:inline-block;max-width:15em;padding:8px;pointer-events:none;position:relative;width:max-content;z-index:1150}.tox .tox-tooltip__body{background-color:#222f3e;border-radius:6px;box-shadow:none;color:#fff;font-size:12px;font-style:normal;font-weight:600;overflow-wrap:break-word;padding:4px 6px;text-transform:none}@media (forced-colors:active){.tox .tox-tooltip__body{outline:outset 1px}}.tox .tox-tooltip__arrow{position:absolute}.tox .tox-tooltip--down .tox-tooltip__arrow{border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #222f3e;bottom:0;left:50%;position:absolute;transform:translateX(-50%)}.tox .tox-tooltip--up .tox-tooltip__arrow{border-bottom:8px solid #222f3e;border-left:8px solid transparent;border-right:8px solid transparent;left:50%;position:absolute;top:0;transform:translateX(-50%)}.tox .tox-tooltip--right .tox-tooltip__arrow{border-bottom:8px solid transparent;border-left:8px solid #222f3e;border-top:8px solid transparent;position:absolute;right:0;top:50%;transform:translateY(-50%)}.tox .tox-tooltip--left .tox-tooltip__arrow{border-bottom:8px solid transparent;border-right:8px solid #222f3e;border-top:8px solid transparent;left:0;position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-tree{display:flex;flex-direction:column}.tox .tox-tree .tox-trbtn{align-items:center;background:0 0;border:0;border-radius:4px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;margin-bottom:4px;margin-top:4px;outline:0;overflow:hidden;padding:0;padding-left:8px;text-transform:none}.tox .tox-tree .tox-trbtn .tox-tree__label{cursor:default;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tree .tox-trbtn svg{display:block;fill:#222f3e}.tox .tox-tree .tox-trbtn:focus{background:#f0f0f0;border:0;box-shadow:none}.tox .tox-tree .tox-trbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:active svg{fill:#222f3e}.tox .tox-tree .tox-trbtn--disabled,.tox .tox-tree .tox-trbtn--disabled:hover,.tox .tox-tree .tox-trbtn:disabled,.tox .tox-tree .tox-trbtn:disabled:hover{background:0 0;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tree .tox-trbtn--disabled svg,.tox .tox-tree .tox-trbtn--disabled:hover svg,.tox .tox-tree .tox-trbtn:disabled svg,.tox .tox-tree .tox-trbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tree .tox-trbtn--enabled,.tox .tox-tree .tox-trbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn--enabled:hover>*,.tox .tox-tree .tox-trbtn--enabled>*{transform:none}.tox .tox-tree .tox-trbtn--enabled svg,.tox .tox-tree .tox-trbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled){color:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled) svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active>*{transform:none}.tox .tox-tree .tox-trbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tree .tox-trbtn--labeled{padding:0 4px;width:unset}.tox .tox-tree .tox-trbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-tree .tox-tree--directory{display:flex;flex-direction:column}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label{font-weight:700}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:focus .tox-mbtn svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-chevron{margin-right:6px}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--shrinking) .tox-chevron{transition:transform .5s ease-in-out}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--open) .tox-chevron{transform:rotate(90deg)}.tox .tox-tree .tox-tree--leaf__label{font-weight:400}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--leaf__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory__children{overflow:hidden;padding-left:16px}.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--growing,.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--shrinking{transition:height .5s ease-in-out}.tox .tox-tree .tox-trbtn.tox-tree--leaf__label{display:flex;justify-content:space-between}.tox .tox-revisionhistory__pane{padding:0!important}.tox .tox-revisionhistory__container{display:flex;flex-direction:column;height:100%}.tox .tox-revisionhistory{background-color:#fff;border-top:1px solid #f0f0f0;display:flex;flex:1;height:100%;margin-top:8px;overflow-x:auto;overflow-y:hidden;position:relative;width:100%}.tox .tox-revisionhistory--align-right{margin-left:auto}.tox .tox-revisionhistory__iframe{flex:1}.tox .tox-revisionhistory__sidebar{display:flex;flex-direction:column;height:100%;min-width:248px;width:316px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__sidebar-title{background-color:#fff;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);color:#222f3e;font-size:20px;font-weight:400;line-height:28px;padding:12px;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions{background-color:#f0f0f0;display:flex;flex:1;flex-direction:column;gap:12px;overflow-y:auto;padding:10px 12px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus{height:100%;position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;bottom:1px;left:1px;right:1px;top:1px}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card{background-color:#fff;border:1px solid #f0f0f0;border-radius:6px;color:#222f3e;cursor:pointer;display:flex;flex-direction:column;font-size:14px;gap:12px;padding:12px;width:100%}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:hover{box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus{position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #006ce7;box-shadow:0 0 0 2px #006ce7!important}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected{background-color:#fff5cc;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);position:relative}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #e3b82a;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #e3b82a}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date{display:flex;gap:12px;justify-content:space-between}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date-label{font-size:16px;line-height:24px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-label{font-size:12px;font-weight:600;line-height:24px;padding:0}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author{align-items:center;display:flex;flex:1 0 0;gap:8px;height:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:14px;font-weight:700;line-height:18px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__avatar{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__norevision{color:rgba(34,47,62,.7);font-size:16px;line-height:24px;padding:5px 5.5px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-check-icon{color:#222f3e;height:24px}.tox .tox-view-wrap,.tox .tox-view-wrap__slot-container{background-color:#fff;display:flex;flex:1;flex-direction:column;height:100%}.tox .tox-view{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-view__header{align-items:center;display:flex;font-size:16px;justify-content:space-between;padding:10px 10px 2px 10px;position:relative}.tox .tox-view__label{color:#222f3e;font-weight:700;line-height:24px;padding:4px 16px;text-align:center;white-space:nowrap}.tox .tox-view__label--normal{font-size:16px}.tox .tox-view__label--large{font-size:20px}.tox .tox-view--mobile.tox-view__header,.tox .tox-view--mobile.tox-view__toolbar{padding:8px}.tox .tox-view--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-view__toolbar{display:flex;flex-direction:row;gap:8px;justify-content:space-between;overflow-x:auto;padding:10px 10px 2px 10px}.tox .tox-view__toolbar__group{display:flex;flex-direction:row;gap:12px}.tox .tox-view__header-end,.tox .tox-view__header-start{display:flex}.tox .tox-view__pane{height:100%;padding:8px;position:relative;width:100%}.tox .tox-view__pane_panel{border:1px solid #eee;border-radius:6px}.tox:not([dir=rtl]) .tox-view__header .tox-view__header-end>*,.tox:not([dir=rtl]) .tox-view__header .tox-view__header-start>*{margin-left:8px}.tox[dir=rtl] .tox-view__header .tox-view__header-end>*,.tox[dir=rtl] .tox-view__header .tox-view__header-start>*{margin-right:8px}.tox .tox-well{border:1px solid #eee;border-radius:6px;padding:8px;width:100%}.tox .tox-well>:first-child{margin-top:0}.tox .tox-well>:last-child{margin-bottom:0}.tox .tox-well>:only-child{margin:0}.tox .tox-custom-editor{border:1px solid #eee;border-radius:6px;display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-dialog-loading::before{background-color:rgba(0,0,0,.5);content:"";height:100%;position:absolute;width:100%;z-index:1000}.tox .tox-tab{cursor:pointer}.tox .tox-dialog__content-js{display:flex;flex:1}.tox .tox-dialog__body-content .tox-collection{display:flex;flex:1}`);tinymce.Resource.add("ui/default/content.css",`.mce-content-body .mce-item-anchor{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'8'%20height%3D'12'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20d%3D'M0%200L8%200%208%2012%204.09117821%209%200%2012z'%2F%3E%3C%2Fsvg%3E%0A") no-repeat center}.mce-content-body .mce-item-anchor:empty{cursor:default;display:inline-block;height:12px!important;padding:0 2px;-webkit-user-modify:read-only;-moz-user-modify:read-only;-webkit-user-select:all;user-select:all;width:8px!important}.mce-content-body .mce-item-anchor:not(:empty){background-position-x:2px;display:inline-block;padding-left:12px}.mce-content-body .mce-item-anchor[data-mce-selected]{outline-offset:1px}.tox-comments-visible .tox-comment[contenteditable=false]:not([data-mce-selected]),.tox-comments-visible span.tox-comment img:not([data-mce-selected]),.tox-comments-visible span.tox-comment span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment>video:not([data-mce-selected]){outline:3px solid #ffe89d}.tox-comments-visible .tox-comment[contenteditable=false][data-mce-annotation-active=true]:not([data-mce-selected]){outline:3px solid #fed635}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] img:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>video:not([data-mce-selected]){outline:3px solid #fed635}.tox-comments-visible span.tox-comment:not([data-mce-selected]){background-color:#ffe89d;outline:0}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]:not([data-mce-selected=inline-boundary]){background-color:#fed635}.tox-checklist>li:not(.tox-checklist--hidden){list-style:none;margin:.25em 0}.tox-checklist>li:not(.tox-checklist--hidden)::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-unchecked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2215%22%20height%3D%2215%22%20x%3D%22.5%22%20y%3D%22.5%22%20fill-rule%3D%22nonzero%22%20stroke%3D%22%234C4C4C%22%20rx%3D%222%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A");cursor:pointer;height:1em;margin-left:-1.5em;margin-top:.125em;position:absolute;width:1em}.tox-checklist li:not(.tox-checklist--hidden).tox-checklist--checked::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-checked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%234099FF%22%20fill-rule%3D%22nonzero%22%20rx%3D%222%22%2F%3E%3Cpath%20id%3D%22Path%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%20d%3D%22M11.5703186%2C3.14417309%20C11.8516238%2C2.73724603%2012.4164781%2C2.62829933%2012.83558%2C2.89774797%20C13.260121%2C3.17069355%2013.3759736%2C3.72932262%2013.0909105%2C4.14168582%20L7.7580587%2C11.8560195%20C7.43776896%2C12.3193404%206.76483983%2C12.3852142%206.35607322%2C11.9948725%20L3.02491697%2C8.8138662%20C2.66090143%2C8.46625845%202.65798871%2C7.89594698%203.01850234%2C7.54483354%20C3.373942%2C7.19866177%203.94940006%2C7.19592841%204.30829608%2C7.5386474%20L6.85276923%2C9.9684299%20L11.5703186%2C3.14417309%20Z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A")}[dir=rtl] .tox-checklist>li:not(.tox-checklist--hidden)::before{margin-left:0;margin-right:-1.5em}code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;tab-size:4;-webkit-hyphens:none;hyphens:none}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.mce-content-body{overflow-wrap:break-word;word-wrap:break-word}.mce-content-body .mce-visual-caret{background-color:#000;background-color:currentColor;position:absolute}.mce-content-body .mce-visual-caret-hidden{display:none}.mce-content-body [data-mce-caret]{left:-1000px;margin:0;padding:0;position:absolute;right:auto;top:0}.mce-content-body .mce-offscreen-selection{left:-2000000px;max-width:1000000px;position:absolute}.mce-content-body [contentEditable=false]{cursor:default}.mce-content-body [contentEditable=true]{cursor:text}.tox-cursor-format-painter{cursor:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%0A%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M15%2C6%20C15%2C5.45%2014.55%2C5%2014%2C5%20L6%2C5%20C5.45%2C5%205%2C5.45%205%2C6%20L5%2C10%20C5%2C10.55%205.45%2C11%206%2C11%20L14%2C11%20C14.55%2C11%2015%2C10.55%2015%2C10%20L15%2C9%20L16%2C9%20L16%2C12%20L9%2C12%20L9%2C19%20C9%2C19.55%209.45%2C20%2010%2C20%20L11%2C20%20C11.55%2C20%2012%2C19.55%2012%2C19%20L12%2C14%20L18%2C14%20L18%2C7%20L15%2C7%20L15%2C6%20Z%22%2F%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M1%2C1%20L8.25%2C1%20C8.66421356%2C1%209%2C1.33578644%209%2C1.75%20L9%2C1.75%20C9%2C2.16421356%208.66421356%2C2.5%208.25%2C2.5%20L2.5%2C2.5%20L2.5%2C8.25%20C2.5%2C8.66421356%202.16421356%2C9%201.75%2C9%20L1.75%2C9%20C1.33578644%2C9%201%2C8.66421356%201%2C8.25%20L1%2C1%20Z%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A"),default}div.mce-footnotes hr{margin-inline:0 auto;width:25%}div.mce-footnotes li>a.mce-footnotes-backlink{-webkit-text-decoration:none;text-decoration:none}@media print{sup.mce-footnote a{color:#000;-webkit-text-decoration:none;text-decoration:none}div.mce-footnotes{page-break-inside:avoid;break-inside:avoid;width:100%}div.mce-footnotes li>a.mce-footnotes-backlink{display:none}}tiny-math-block{display:flex;justify-content:center;margin:16px 0 16px 0}tiny-math-inline{display:inline-block}.mce-content-body figure.align-left{float:left}.mce-content-body figure.align-right{float:right}.mce-content-body figure.image.align-center{display:table;margin-left:auto;margin-right:auto}.mce-preview-object{border:1px solid gray;display:inline-block;line-height:0;margin:0 2px;position:relative}.mce-preview-object .mce-shim{background:url("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7");height:100%;left:0;position:absolute;top:0;width:100%}.mce-preview-object[data-mce-selected="2"] .mce-shim{display:none}.mce-content-body .mce-mergetag{cursor:default!important;-webkit-user-select:none;user-select:none}.mce-content-body .mce-mergetag:hover{background-color:rgba(0,108,231,.1)}.mce-content-body .mce-mergetag-affix{background-color:rgba(0,108,231,.1);color:#006ce7}.mce-object{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M4%203h16a1%201%200%200%201%201%201v16a1%201%200%200%201-1%201H4a1%201%200%200%201-1-1V4a1%201%200%200%201%201-1zm1%202v14h14V5H5zm4.79%202.565l5.64%204.028a.5.5%200%200%201%200%20.814l-5.64%204.028a.5.5%200%200%201-.79-.407V7.972a.5.5%200%200%201%20.79-.407z%22%2F%3E%3C%2Fsvg%3E%0A") no-repeat center;border:1px dashed #aaa}.mce-pagebreak{border:1px dashed #aaa;cursor:default;display:block;height:5px;margin-top:15px;page-break-before:always;width:100%}@media print{.mce-pagebreak{border:0}}.tiny-pageembed .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.tiny-pageembed[data-mce-selected="2"] .mce-shim{display:none}.tiny-pageembed{display:inline-block;position:relative}.tiny-pageembed--16by9,.tiny-pageembed--1by1,.tiny-pageembed--21by9,.tiny-pageembed--4by3{display:block;overflow:hidden;padding:0;position:relative;width:100%}.tiny-pageembed--21by9{padding-top:42.857143%}.tiny-pageembed--16by9{padding-top:56.25%}.tiny-pageembed--4by3{padding-top:75%}.tiny-pageembed--1by1{padding-top:100%}.tiny-pageembed--16by9 iframe,.tiny-pageembed--1by1 iframe,.tiny-pageembed--21by9 iframe,.tiny-pageembed--4by3 iframe{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.mce-content-body[data-mce-placeholder]{position:relative}.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:rgba(34,47,62,.7);content:attr(data-mce-placeholder);position:absolute}@media (forced-colors:active){.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:highlight;filter:brightness(30%);z-index:-1}}.mce-content-body:not([dir=rtl])[data-mce-placeholder]:not(.mce-visualblocks)::before{left:1px}.mce-content-body[dir=rtl][data-mce-placeholder]:not(.mce-visualblocks)::before{right:1px}.mce-content-body div.mce-resizehandle{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;height:10px;position:absolute;width:10px;z-index:1298}.mce-content-body div.mce-resizehandle:hover{background-color:#4099ff}.mce-content-body div.mce-resizehandle:first-of-type{cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(2){cursor:nesw-resize}.mce-content-body div.mce-resizehandle:nth-of-type(3){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(4){cursor:nesw-resize}.mce-content-body .mce-resize-backdrop{z-index:10000}.mce-content-body .mce-clonedresizable{cursor:default;opacity:.5;outline:1px dashed black;position:absolute;z-index:10001}.mce-content-body .mce-clonedresizable.mce-resizetable-columns td,.mce-content-body .mce-clonedresizable.mce-resizetable-columns th{border:0}.mce-content-body .mce-resize-helper{background:#555;background:rgba(0 0 0%);border:1px;border-radius:3px;color:#fff;display:none;font-family:sans-serif;font-size:12px;line-height:14px;margin:5px 10px;padding:5px;position:absolute;white-space:nowrap;z-index:10002}.tox-rtc-user-selection{position:relative}.tox-rtc-user-cursor{bottom:0;cursor:default;position:absolute;top:0;width:2px}.tox-rtc-user-cursor::before{background-color:inherit;border-radius:50%;content:'';display:block;height:8px;position:absolute;right:-3px;top:-3px;width:8px}.tox-rtc-user-cursor:hover::after{background-color:inherit;border-radius:100px;box-sizing:border-box;color:#fff;content:attr(data-user);display:block;font-size:12px;font-weight:700;left:-5px;min-height:8px;min-width:8px;padding:0 12px;position:absolute;top:-11px;white-space:nowrap;z-index:1000}.tox-rtc-user-selection--1 .tox-rtc-user-cursor{background-color:#2dc26b}.tox-rtc-user-selection--2 .tox-rtc-user-cursor{background-color:#e03e2d}.tox-rtc-user-selection--3 .tox-rtc-user-cursor{background-color:#f1c40f}.tox-rtc-user-selection--4 .tox-rtc-user-cursor{background-color:#3598db}.tox-rtc-user-selection--5 .tox-rtc-user-cursor{background-color:#b96ad9}.tox-rtc-user-selection--6 .tox-rtc-user-cursor{background-color:#e67e23}.tox-rtc-user-selection--7 .tox-rtc-user-cursor{background-color:#aaa69d}.tox-rtc-user-selection--8 .tox-rtc-user-cursor{background-color:#f368e0}.tox-rtc-remote-image{background:#eaeaea url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2236%22%20height%3D%2212%22%20viewBox%3D%220%200%2036%2012%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Ccircle%20cx%3D%226%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2218%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.33s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2230%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.66s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%3C%2Fsvg%3E%0A") no-repeat center center;border:1px solid #ccc;min-height:240px;min-width:320px}.mce-match-marker{background:#aaa;color:#fff}.mce-match-marker-selected{background:#39f;color:#fff}.mce-match-marker-selected::selection{background:#39f;color:#fff}.mce-content-body audio[data-mce-selected],.mce-content-body details[data-mce-selected],.mce-content-body embed[data-mce-selected],.mce-content-body img[data-mce-selected],.mce-content-body object[data-mce-selected],.mce-content-body table[data-mce-selected],.mce-content-body video[data-mce-selected]{outline:3px solid #b4d7ff}.mce-content-body hr[data-mce-selected]{outline:3px solid #b4d7ff;outline-offset:1px}.mce-content-body [contentEditable=false] [contentEditable=true]:focus{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false] [contentEditable=true]:hover{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false][data-mce-selected]{cursor:not-allowed;outline:3px solid #b4d7ff}.mce-content-body.mce-content-readonly [contentEditable=true]:focus,.mce-content-body.mce-content-readonly [contentEditable=true]:hover{outline:0}.mce-content-body [data-mce-selected=inline-boundary]{background-color:#b4d7ff}.mce-content-body .mce-edit-focus{outline:3px solid #b4d7ff}.mce-content-body td[data-mce-selected],.mce-content-body th[data-mce-selected]{position:relative}.mce-content-body td[data-mce-selected]::selection,.mce-content-body th[data-mce-selected]::selection{background:0 0}.mce-content-body td[data-mce-selected] *,.mce-content-body th[data-mce-selected] *{outline:0;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{background-color:rgba(180,215,255,.7);border:1px solid rgba(180,215,255,.7);bottom:-1px;content:'';left:-1px;mix-blend-mode:multiply;position:absolute;right:-1px;top:-1px}@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{border-color:rgba(0,84,180,.7)}}.mce-content-body img[data-mce-selected]::selection{background:0 0}.ephox-snooker-resizer-bar{background-color:#b4d7ff;opacity:0;-webkit-user-select:none;user-select:none}.ephox-snooker-resizer-cols{cursor:col-resize}.ephox-snooker-resizer-rows{cursor:row-resize}.ephox-snooker-resizer-bar.ephox-snooker-resizer-bar-dragging{opacity:1}.mce-spellchecker-word{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%23ff0000'%20fill%3D'none'%20stroke-linecap%3D'round'%20stroke-opacity%3D'.75'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default;height:2rem}.mce-spellchecker-grammar{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%2300A835'%20fill%3D'none'%20stroke-linecap%3D'round'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default}.mce-toc{border:1px solid gray}.mce-toc h2{margin:4px}.mce-toc ul>li{list-style-type:none}[data-mce-block]{display:block}.mce-item-table:not([border]),.mce-item-table:not([border]) caption,.mce-item-table:not([border]) td,.mce-item-table:not([border]) th,.mce-item-table[border="0"],.mce-item-table[border="0"] caption,.mce-item-table[border="0"] td,.mce-item-table[border="0"] th,table[style*="border-width: 0px"],table[style*="border-width: 0px"] caption,table[style*="border-width: 0px"] td,table[style*="border-width: 0px"] th{border:1px dashed #bbb}.mce-visualblocks address,.mce-visualblocks article,.mce-visualblocks aside,.mce-visualblocks blockquote,.mce-visualblocks div:not([data-mce-bogus]),.mce-visualblocks dl,.mce-visualblocks figcaption,.mce-visualblocks figure,.mce-visualblocks h1,.mce-visualblocks h2,.mce-visualblocks h3,.mce-visualblocks h4,.mce-visualblocks h5,.mce-visualblocks h6,.mce-visualblocks hgroup,.mce-visualblocks ol,.mce-visualblocks p,.mce-visualblocks pre,.mce-visualblocks section,.mce-visualblocks ul{background-repeat:no-repeat;border:1px dashed #bbb;margin-left:3px;padding-top:10px}.mce-visualblocks p{background-image:url(data:image/gif;base64,R0lGODlhCQAJAJEAAAAAAP///7u7u////yH5BAEAAAMALAAAAAAJAAkAAAIQnG+CqCN/mlyvsRUpThG6AgA7)}.mce-visualblocks h1{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGu1JuxHoAfRNRW3TWXyF2YiRUAOw==)}.mce-visualblocks h2{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8Hybbx4oOuqgTynJd6bGlWg3DkJzoaUAAAOw==)}.mce-visualblocks h3{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIZjI8Hybbx4oOuqgTynJf2Ln2NOHpQpmhAAQA7)}.mce-visualblocks h4{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxInR0zqeAdhtJlXwV1oCll2HaWgAAOw==)}.mce-visualblocks h5{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjane4iq5GlW05GgIkIZUAAAOw==)}.mce-visualblocks h6{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjan04jep1iZ1XRlAo5bVgAAOw==)}.mce-visualblocks div:not([data-mce-bogus]){background-image:url(data:image/gif;base64,R0lGODlhEgAKAIABALu7u////yH5BAEAAAEALAAAAAASAAoAAAIfjI9poI0cgDywrhuxfbrzDEbQM2Ei5aRjmoySW4pAAQA7)}.mce-visualblocks section{background-image:url(data:image/gif;base64,R0lGODlhKAAKAIABALu7u////yH5BAEAAAEALAAAAAAoAAoAAAI5jI+pywcNY3sBWHdNrplytD2ellDeSVbp+GmWqaDqDMepc8t17Y4vBsK5hDyJMcI6KkuYU+jpjLoKADs=)}.mce-visualblocks article{background-image:url(data:image/gif;base64,R0lGODlhKgAKAIABALu7u////yH5BAEAAAEALAAAAAAqAAoAAAI6jI+pywkNY3wG0GBvrsd2tXGYSGnfiF7ikpXemTpOiJScasYoDJJrjsG9gkCJ0ag6KhmaIe3pjDYBBQA7)}.mce-visualblocks blockquote{background-image:url(data:image/gif;base64,R0lGODlhPgAKAIABALu7u////yH5BAEAAAEALAAAAAA+AAoAAAJPjI+py+0Knpz0xQDyuUhvfoGgIX5iSKZYgq5uNL5q69asZ8s5rrf0yZmpNkJZzFesBTu8TOlDVAabUyatguVhWduud3EyiUk45xhTTgMBBQA7)}.mce-visualblocks address{background-image:url(data:image/gif;base64,R0lGODlhLQAKAIABALu7u////yH5BAEAAAEALAAAAAAtAAoAAAI/jI+pywwNozSP1gDyyZcjb3UaRpXkWaXmZW4OqKLhBmLs+K263DkJK7OJeifh7FicKD9A1/IpGdKkyFpNmCkAADs=)}.mce-visualblocks pre{background-image:url(data:image/gif;base64,R0lGODlhFQAKAIABALu7uwAAACH5BAEAAAEALAAAAAAVAAoAAAIjjI+ZoN0cgDwSmnpz1NCueYERhnibZVKLNnbOq8IvKpJtVQAAOw==)}.mce-visualblocks figure{background-image:url(data:image/gif;base64,R0lGODlhJAAKAIAAALu7u////yH5BAEAAAEALAAAAAAkAAoAAAI0jI+py+2fwAHUSFvD3RlvG4HIp4nX5JFSpnZUJ6LlrM52OE7uSWosBHScgkSZj7dDKnWAAgA7)}.mce-visualblocks figcaption{border:1px dashed #bbb}.mce-visualblocks hgroup{background-image:url(data:image/gif;base64,R0lGODlhJwAKAIABALu7uwAAACH5BAEAAAEALAAAAAAnAAoAAAI3jI+pywYNI3uB0gpsRtt5fFnfNZaVSYJil4Wo03Hv6Z62uOCgiXH1kZIIJ8NiIxRrAZNMZAtQAAA7)}.mce-visualblocks aside{background-image:url(data:image/gif;base64,R0lGODlhHgAKAIABAKqqqv///yH5BAEAAAEALAAAAAAeAAoAAAItjI+pG8APjZOTzgtqy7I3f1yehmQcFY4WKZbqByutmW4aHUd6vfcVbgudgpYCADs=)}.mce-visualblocks ul{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIAAALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGuYnqUVSjvw26DzzXiqIDlVwAAOw==)}.mce-visualblocks ol{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybH6HHt0qourxC6CvzXieHyeWQAAOw==)}.mce-visualblocks dl{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybEOnmOvUoWznTqeuEjNSCqeGRUAOw==)}.mce-visualblocks:not([dir=rtl]) address,.mce-visualblocks:not([dir=rtl]) article,.mce-visualblocks:not([dir=rtl]) aside,.mce-visualblocks:not([dir=rtl]) blockquote,.mce-visualblocks:not([dir=rtl]) div:not([data-mce-bogus]),.mce-visualblocks:not([dir=rtl]) dl,.mce-visualblocks:not([dir=rtl]) figcaption,.mce-visualblocks:not([dir=rtl]) figure,.mce-visualblocks:not([dir=rtl]) h1,.mce-visualblocks:not([dir=rtl]) h2,.mce-visualblocks:not([dir=rtl]) h3,.mce-visualblocks:not([dir=rtl]) h4,.mce-visualblocks:not([dir=rtl]) h5,.mce-visualblocks:not([dir=rtl]) h6,.mce-visualblocks:not([dir=rtl]) hgroup,.mce-visualblocks:not([dir=rtl]) ol,.mce-visualblocks:not([dir=rtl]) p,.mce-visualblocks:not([dir=rtl]) pre,.mce-visualblocks:not([dir=rtl]) section,.mce-visualblocks:not([dir=rtl]) ul{margin-left:3px}.mce-visualblocks[dir=rtl] address,.mce-visualblocks[dir=rtl] article,.mce-visualblocks[dir=rtl] aside,.mce-visualblocks[dir=rtl] blockquote,.mce-visualblocks[dir=rtl] div:not([data-mce-bogus]),.mce-visualblocks[dir=rtl] dl,.mce-visualblocks[dir=rtl] figcaption,.mce-visualblocks[dir=rtl] figure,.mce-visualblocks[dir=rtl] h1,.mce-visualblocks[dir=rtl] h2,.mce-visualblocks[dir=rtl] h3,.mce-visualblocks[dir=rtl] h4,.mce-visualblocks[dir=rtl] h5,.mce-visualblocks[dir=rtl] h6,.mce-visualblocks[dir=rtl] hgroup,.mce-visualblocks[dir=rtl] ol,.mce-visualblocks[dir=rtl] p,.mce-visualblocks[dir=rtl] pre,.mce-visualblocks[dir=rtl] section,.mce-visualblocks[dir=rtl] ul{background-position-x:right;margin-right:3px}.mce-nbsp,.mce-shy{background:#aaa}.mce-shy::after{content:'-'}body{font-family:sans-serif}table{border-collapse:collapse}`);tinymce.addI18n("nl",{"#":"#",Accessibility:"Toegankelijkheid",Accordion:"","Accordion body...":"","Accordion summary...":"",Action:"Actie",Activity:"Activiteit",Address:"Adres",Advanced:"Geavanceerd",Align:"Uitlijnen","Align center":"Centreren","Align left":"Links uitlijnen","Align right":"Rechts uitlijnen",Alignment:"Uitlijning","Alignment {0}":"",All:"Alle","Alternative description":"Alternatieve beschrijving","Alternative source":"Alternatieve bron","Alternative source URL":"Alternatief bron-URL",Anchor:"Anker","Anchor...":"Anker...",Anchors:"Ankers","Animals and Nature":"Dieren en natuur",Arrows:"Pijlen",B:"B","Background color":"Achtergrondkleur","Background color {0}":"",Black:"Zwart",Block:"Blok","Block {0}":"",Blockquote:"Quote",Blocks:"Blokken",Blue:"Blauw","Blue component":"Blauw component",Body:"Body",Bold:"Vet",Border:"Rand","Border color":"Randkleur","Border style":"Randstijl","Border width":"Randbreedte",Bottom:"Onder","Browse files":"","Browse for an image":"Afbeelding zoeken","Browse links":"","Bullet list":"Lijst met opsommingstekens",Cancel:"Annuleren",Caption:"Onderschrift",Cell:"Cel","Cell padding":"Celopvulling","Cell properties":"Celeigenschappen","Cell spacing":"Celafstand","Cell styles":"Cel stijlen","Cell type":"Celtype",Center:"Centreren",Characters:"Tekens","Characters (no spaces)":"Tekens (geen spaties)",Circle:"Cirkel",Class:"Klasse","Clear formatting":"Opmaak wissen",Close:"Sluiten",Code:"Broncode","Code sample...":"Codevoorbeeld...","Code view":"Code bekijken","Color Picker":"Kleurenkiezer","Color swatch":"Kleurenwaaier",Cols:"Kolommen",Column:"Kolom","Column clipboard actions":"Kolom klembord acties","Column group":"Kolomgroep","Column header":"Kolom kop","Constrain proportions":"Verhoudingen behouden",Copy:"Kopiëren","Copy column":"Kopieer kolom","Copy row":"Rij kopiëren","Could not find the specified string.":"Kan opgegeven reeks niet vinden","Could not load emojis":"Kan de emoji's niet laden",Count:"Telling",Currency:"Valuta","Current window":"Huidige venster","Custom color":"Aangepaste kleur","Custom...":"Aangepast...",Cut:"Knippen","Cut column":"Knip kolom","Cut row":"Rij knippen","Dark Blue":"Donkerblauw","Dark Gray":"Donkergrijs","Dark Green":"Donkergroen","Dark Orange":"Donkeroranje","Dark Purple":"Donkerpaars","Dark Red":"Donkerrood","Dark Turquoise":"Donkerturquoise","Dark Yellow":"Donkergeel",Dashed:"Onderbroken","Date/time":"Datum/tijd","Decrease indent":"Inspringing verkleinen",Default:"Standaard","Delete accordion":"","Delete column":"Kolom verwijderen","Delete row":"Rij verwijderen ","Delete table":"Tabel verwijderen",Dimensions:"Afmetingen",Disc:"Schijf",Div:"Div",Document:"Dokument",Dotted:"Gestippeld",Double:"Dubbel","Drop an image here":"Hier een afbeelding neerzetten","Dropped file type is not supported":"Gesleepte bestandstype wordt niet ondersteund",Edit:"Bewerken",Embed:"Insluiten",Emojis:"Emoji's","Emojis...":"Emoji's...",Error:"Fout","Error: Form submit field collision.":"Fout: Veldconflict bij versturen formulier.","Error: No form element found.":"Fout: Geen formulierelement gevonden.","Extended Latin":"Latijn uitgebreid ","Failed to initialize plugin: {0}":"Niet gelukt om plug-in te initialiseren: {0}","Failed to load plugin url: {0}":"Niet gelukt om URL plug-in te laden: {0}","Failed to load plugin: {0} from url {1}":"Niet gelukt om plug-in te laden: {0} vanaf URL {1}","Failed to upload image: {0}":"Niet gelukt om afbeelding te uploaden: {0}",File:"Bestand",Find:"Zoeken","Find (if searchreplace plugin activated)":"Zoeken (als plug-in voor zoeken/vervangen geactiveerd is)","Find and Replace":"Zoek en vervang","Find and replace...":"Zoeken en vervangen...","Find in selection":"Zoek in selectie","Find whole words only":"Alleen hele woorden zoeken",Flags:"Vlaggen","Focus to contextual toolbar":"Focus op contextuele werkbalk instellen ","Focus to element path":"Focus op elementenpad instellen ","Focus to menubar":"Focus op menubalk instellen ","Focus to toolbar":"Focus op werkbalk instellen ",Font:"Lettertype","Font size {0}":"","Font sizes":"Tekengroottes","Font {0}":"",Fonts:"Lettertypes","Food and Drink":"Eten en drinken",Footer:"Voettekst",Format:"Opmaak","Format {0}":"",Formats:"Opmaken",Fullscreen:"Volledig scherm",G:"G",General:"Algemeen",Gray:"Grijs",Green:"Groen","Green component":"Groen component",Groove:"Groef","Handy Shortcuts":"Handige snelkoppelingen",Header:"Koptekst ","Header cell":"Koptekstcel","Heading 1":"Kop 1","Heading 2":"Kop 2","Heading 3":"Kop 3","Heading 4":"Kop 4","Heading 5":"Kop 5","Heading 6":"Kop 6",Headings:"Koppen",Height:"Hoogte",Help:"Help","Hex color code":"Hex kleurcode",Hidden:"Verborgen","Horizontal align":"Horizontaal uitlijnen","Horizontal line":"Horizontale lijn","Horizontal space":"Horizontale ruimte",ID:"ID","ID should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores.":"ID moet beginnen met een letter en daarna enkel gevolgd door letters, getallen, streepjes, punten, komma's of underscores.","Image is decorative":"Afbeelding is decoratief","Image list":"Afbeeldingslijst","Image title":"Afbeeldingstitel","Image...":"Afbeelding...","ImageProxy HTTP error: Could not find Image Proxy":"ImageProxy HTTP fout: Kan geen Image Proxy vinden","ImageProxy HTTP error: Incorrect Image Proxy URL":"ImageProxy HTTP fout: Incorrecte Image proxy URL","ImageProxy HTTP error: Rejected request":"ImageProxy HTTP fout: Aanvraag afgewezen","ImageProxy HTTP error: Unknown ImageProxy error":"ImageProxy HTTP fout: Onbekende ImageProxy fout","Increase indent":"Inspringing vergroten",Inline:"Inline",Insert:"Invoegen","Insert Template":"Sjabloon invoegen","Insert accordion":"","Insert column after":"Kolom invoegen na","Insert column before":"Kolom invoegen voor ","Insert date/time":"Datum/tijd invoegen","Insert image":"Afbeelding invoegen","Insert link (if link plugin activated)":"Link invoegen (als plug-in voor link geactiveerd is)","Insert row after":"Rij onder invoegen ","Insert row before":"Rij boven invoegen","Insert table":"Tabel invoegen","Insert template...":"Sjabloon invoegen...","Insert video":"Video invoegen","Insert/Edit code sample":"Codevoorbeeld invoegen/bewerken","Insert/edit image":"Afbeelding invoegen/bewerken","Insert/edit link":"Link invoegen/bewerken","Insert/edit media":"Media invoegen/bewerken","Insert/edit video":"Video invoegen/bewerken",Inset:"Inzet","Invalid hex color code: {0}":"Onjuiste hex kleurcode: {0}","Invalid input":"Ongeldige invoer",Italic:"Cursief",Justify:"Uitvullen","Keyboard Navigation":"Toetsenbord navigatie",Language:"Taal","Learn more...":"Leer meer...",Left:"Links","Left to right":"Van links naar rechts","Light Blue":"Lichtblauw","Light Gray":"Lichtgrijs","Light Green":"Lichtgroen","Light Purple":"Lichtpaars","Light Red":"Lichtrood","Light Yellow":"Lichtgeel","Line height":"Lijnhoogte","Link list":"Lijst met links","Link...":"Link...","List Properties":"Lijsteigenschappen","List properties...":"Lijsteigenschappen...","Loading emojis...":"Emoji's laden...","Loading...":"Laden...","Lower Alpha":"Kleine letters","Lower Greek":"Kleine Griekse letters","Lower Roman":"Kleine Romeinse cijfers","Match case":"Identieke hoofdletters/kleine letters",Mathematical:"Wiskundig","Media poster (Image URL)":"Mediaposter (afbeeldings-url)","Media...":"Media...","Medium Blue":"Middelblauw","Medium Gray":"Middelgrijs","Medium Purple":"Middelpaars","Merge cells":"Cellen samenvoegen",Middle:"Centreren","Midnight Blue":"Middernachtblauw","More...":"Meer...",Name:"Naam","Navy Blue":"Marineblauw","New document":"Nieuw document","New window":"Nieuw venster",Next:"Volgende",No:"Nee","No alignment":"Geen uitlijning","No color":"Geen kleur","Nonbreaking space":"Vaste spatie",None:"Geen","Numbered list":"Genummerde lijst",OR:"OF",Objects:"Objecten",Ok:"OK","Open help dialog":"Help-scherm openen","Open link":"Open koppeling","Open link in...":"Link openen in...","Open popup menu for split buttons":"Open het pop-up menu voor gesplitste  knoppen",Orange:"Oranje",Outset:"Begin","Page break":"Pagina-einde",Paragraph:"Alinea",Paste:"Plakken","Paste as text":"Plakken als tekst","Paste column after":"Plak kolom na","Paste column before":"Plak kolom voor","Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.":"Plakken gebeurt nu zonder opmaak. De tekst zal dus zonder opmaak worden geplakt tenzij je deze optie uit zet.","Paste or type a link":"Een link plakken of typen","Paste row after":"Rij plakken onder","Paste row before":"Rij plakken boven","Paste your embed code below:":"Plak de invoegcode hieronder:",People:"Personen",Plugins:"Plug-ins","Plugins installed ({0}):":"Plug-ins geïnstalleerd ({0}):","Powered by {0}":"Mogelijk gemaakt met {0}",Pre:"Pre",Preferences:"Voorkeuren",Preformatted:"Vooraf opgemaakt","Premium plugins:":"Premium plug-ins:","Press the Up and Down arrow keys to resize the editor.":"","Press the arrow keys to resize the editor.":"","Press {0} for help":"",Preview:"Voorbeeld",Previous:"Vorige",Print:"Afdrukken","Print...":"Afdrukken... ",Purple:"Paars",Quotations:"Citaten",R:"R","Range 0 to 255":"Bereik 0 tot 255",Red:"Rood","Red component":"Rood component",Redo:"Opnieuw uitvoeren",Remove:"Verwijderen","Remove color":"Kleur verwijderen","Remove link":"Link verwijderen",Replace:"Vervangen","Replace all":"Alle vervangen","Replace with":"Vervangen door",Resize:"Formaat wijzigen","Restore last draft":"Laatste concept herstellen","Reveal or hide additional toolbar items":"","Rich Text Area":"Rijk Tekst Gebied","Rich Text Area. Press ALT-0 for help.":" Gebied met opgemaakte tekst. Druk op ALT-0 voor hulp.","Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help":"Gebied met opgemaakte tekst. Druk op ALT-F9 voor menu. Druk op ALT-F10 voor werkbalk. Druk op ALT-0 voor help.",Ridge:"Ribbel",Right:"Rechts","Right to left":"Van rechts naar links",Row:"Rij","Row clipboard actions":"Rij klembord acties","Row group":"Rijgroep","Row header":"Rij kop","Row properties":"Rijeigenschappen","Row type":"Rijtype",Rows:"Rijen",Save:"Opslaan","Save (if save plugin activated)":"Opslaan (als plug-in voor opslaan geactiveerd is)",Scope:"Bereik",Search:"Zoeken","Select all":"Alles selecteren","Select...":"Selecteer...",Selection:"Selectie",Shortcut:"Snelkoppeling","Show blocks":"Blokken weergeven","Show caption":"Bijschrift weergeven","Show invisible characters":"Onzichtbare tekens weergeven",Size:"Formaat",Solid:"Massief",Source:"Bron","Source code":"Broncode","Special Character":"Speciale tekens","Special character...":"Speciaal teken...","Split cell":"Cel splitsen",Square:"Vierkant","Start list at number":"Begin lijst met nummer",Strikethrough:"Doorhalen",Style:"Stijl",Subscript:"Subscript",Superscript:"Superscript","Switch to or from fullscreen mode":"Overschakelen naar of vanuit de volledig scherm-modus",Symbols:"Symbolen","System Font":"Systeemlettertype",Table:"Tabel","Table caption":"Tabel bijschrift","Table properties":"Tabeleigenschappen","Table styles":"Tabel stijlen",Template:"Sjabloon",Templates:"Sjablonen",Text:"Tekst","Text color":"Tekstkleur","Text color {0}":"","Text to display":"Weer te geven tekst","The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?":"De ingevoerde URL lijkt op een e-mailadres. Wil je er het vereiste voorvoegsel mailto: aan toevoegen?","The URL you entered seems to be an external link. Do you want to add the required http:// prefix?":"De ingevoerde URL verwijst naar een extern adres. Wil je er het vereiste voorvoegsel http:// aan toevoegen?","The URL you entered seems to be an external link. Do you want to add the required https:// prefix?":"De ingevoerde URL verwijst naar een extern adres. Wilt u er het vereiste voorvoegsel https:// aan toevoegen?",Title:"Titel","To open the popup, press Shift+Enter":"Druk op Shift+Enter om de pop-up te openen","Toggle accordion":"",Tools:"Extra",Top:"Boven","Travel and Places":"Reizen en plaatsen",Turquoise:"Turkoois",Underline:"Onderstrepen",Undo:"Ongedaan maken",Upload:"Uploaden","Uploading image":"Afbeelding uploaden","Upper Alpha":"Hoofdletters","Upper Roman":"Grote Romeinse cijfers",Url:"Url","User Defined":"Door gebruiker gedefinieerd ",Valid:"Geldig",Version:"Versie","Vertical align":"Verticaal uitlijnen","Vertical space":"Verticale ruimte",View:"Weergeven","Visual aids":" Visuele hulpmiddelen",Warn:"Waarschuwen",White:"Wit",Width:"Breedte","Word count":"Aantal woorden",Words:"Woorden","Words: {0}":"Woorden: {0}",Yellow:"Geel",Yes:"Ja","You are using {0}":"Je gebruikt {0}","You have unsaved changes are you sure you want to navigate away?":"Je hebt niet alles opgeslagen, weet je zeker dat je de pagina wilt verlaten?","Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.":"Jouw browser ondersteunt geen rechtstreekse toegang tot het klembord. Gebruik in plaats daarvan de sneltoetsen Ctrl+X/C/V.",alignment:"uitlijning","austral sign":"austral-teken","cedi sign":"cedi-teken","colon sign":"colon-teken","cruzeiro sign":"cruzeiro-teken","currency sign":"valutateken","dollar sign":"dollarteken","dong sign":"dong-teken","drachma sign":"drachme-teken","euro-currency sign":"euroteken",example:"voorbeeld",formatting:"opmaak","french franc sign":"franse franc-teken","german penny symbol":"duitse pfennig-teken","guarani sign":"guarani-teken",history:"geschiedenis","hryvnia sign":"hryvnia-teken",indentation:"inspringing","indian rupee sign":"indiaase roepie-teken","kip sign":"kip-teken","lira sign":"lire-teken","livre tournois sign":"livre tournois-teken","manat sign":"manat-teken","mill sign":"mill-teken","naira sign":"naira-teken","new sheqel sign":"nieuwe sheqel-teken","nordic mark sign":"noorse mark-teken","peseta sign":"peseta-teken","peso sign":"peso-teken","ruble sign":"roebel-teken","rupee sign":"roepie-teken","spesmilo sign":"spesmilo-teken",styles:"stijlen","tenge sign":"tenge-teken","tugrik sign":"tugrik-teken","turkish lira sign":"turkse lire-teken","won sign":"won-teken","yen character":"yen-teken","yen/yuan character variant one":"yen/yuan variant 1-teken","yuan character":"yuan-teken","yuan character, in hong kong and taiwan":"yuan-teken (Hong Kong en Taiwan)","{0} characters":"{0} karakters","{0} columns, {1} rows":"","{0} words":"{0} woorden"});(function(){const Hr=it=>{let mt=it;return{get:()=>mt,set:ve=>{mt=ve}}};var Hs=tinymce.util.Tools.resolve("tinymce.PluginManager"),is=tinymce.util.Tools.resolve("tinymce.Env");const ms=it=>it.dispatch("ResizeEditor"),Dr=it=>mt=>mt.options.get(it),Do=it=>{const mt=it.options.register;mt("autoresize_overflow_padding",{processor:"number",default:1}),mt("autoresize_bottom_margin",{processor:"number",default:50})},sr=Dr("min_height"),Qn=Dr("max_height"),Ko=Dr("autoresize_overflow_padding"),Rn=Dr("autoresize_bottom_margin"),tn=it=>it.plugins.fullscreen&&it.plugins.fullscreen.isFullscreen(),Yn=(it,mt)=>{const ce=it.getBody();ce&&(ce.style.overflowY=mt?"":"hidden",mt||(ce.scrollTop=0))},Rr=(it,mt,ce,Tt)=>{var ve;const ct=parseInt((ve=it.getStyle(mt,ce,Tt))!==null&&ve!==void 0?ve:"",10);return isNaN(ct)?0:ct},Lt=it=>{if((it==null?void 0:it.type.toLowerCase())==="setcontent"){const mt=it;return mt.selection===!0||mt.paste===!0}else return!1},eo=(it,mt,ce,Tt)=>{var ve;const ct=it.dom,$r=it.getDoc();if(!$r)return;if(tn(it)){Yn(it,!0);return}const er=$r.documentElement,Io=Tt?Tt():Ko(it),$e=(ve=sr(it))!==null&&ve!==void 0?ve:it.getElement().offsetHeight;let Pt=$e;const T=Rr(ct,er,"margin-top",!0),_o=Rr(ct,er,"margin-bottom",!0);let Yt=er.offsetHeight+T+_o+Io;Yt<0&&(Yt=0);const Lo=it.getContainer().offsetHeight,hr=it.getContentAreaContainer().offsetHeight,we=Lo-hr;Yt+we>$e&&(Pt=Yt+we);const At=Qn(it);At&&Pt>At?(Pt=At,Yn(it,!0)):Yn(it,!1);const dn=mt.get();if(dn.set&&(it.dom.setStyles(it.getDoc().documentElement,{"min-height":0}),it.dom.setStyles(it.getBody(),{"min-height":"inherit"})),Pt!==dn.totalHeight&&(Yt-Io!==dn.contentHeight||!dn.set)){const kt=Pt-dn.totalHeight;if(ct.setStyle(it.getContainer(),"height",Pt+"px"),mt.set({totalHeight:Pt,contentHeight:Yt,set:!0}),ms(it),is.browser.isSafari()&&(is.os.isMacOS()||is.os.isiOS())){const nt=it.getWin();nt.scrollTo(nt.pageXOffset,nt.pageYOffset)}it.hasFocus()&&Lt(ce)&&it.selection.scrollIntoView(),(is.browser.isSafari()||is.browser.isChromium())&&kt<0&&eo(it,mt,ce,Tt)}},Yo=(it,mt)=>{const ce=()=>Rn(it);it.on("init",Tt=>{const ve=Ko(it),ct=it.dom;ct.setStyles(it.getDoc().documentElement,{height:"auto"}),is.browser.isEdge()||is.browser.isIE()?ct.setStyles(it.getBody(),{paddingLeft:ve,paddingRight:ve,"min-height":0}):ct.setStyles(it.getBody(),{paddingLeft:ve,paddingRight:ve}),eo(it,mt,Tt,ce)}),it.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent",Tt=>{eo(it,mt,Tt,ce)})},ar=(it,mt)=>{it.addCommand("mceAutoResize",()=>{eo(it,mt)})};var at=()=>{Hs.add("autoresize",it=>{if(Do(it),it.options.isSet("resize")||it.options.set("resize",!1),!it.inline){const mt=Hr({totalHeight:0,contentHeight:0,set:!1});ar(it,mt),Yo(it,mt)}})};at()})();(function(){var Hr=tinymce.util.Tools.resolve("tinymce.PluginManager");const Hs=(we,At,dn)=>{var kt;return dn(we,At.prototype)?!0:((kt=we.constructor)===null||kt===void 0?void 0:kt.name)===At.name},is=we=>{const At=typeof we;return we===null?"null":At==="object"&&Array.isArray(we)?"array":At==="object"&&Hs(we,String,(dn,kt)=>kt.isPrototypeOf(dn))?"string":At},ms=we=>At=>is(At)===we,Dr=we=>At=>we===At,Do=ms("string"),sr=Dr(void 0);var Qn=tinymce.util.Tools.resolve("tinymce.util.Delay"),Ko=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),Rn=tinymce.util.Tools.resolve("tinymce.util.Tools");const tn=we=>we.dispatch("RestoreDraft"),Yn=we=>we.dispatch("StoreDraft"),Rr=we=>we.dispatch("RemoveDraft"),Lt=we=>{const At={s:1e3,m:6e4},dn=/^(\d+)([ms]?)$/.exec(we);return(dn&&dn[2]?At[dn[2]]:1)*parseInt(we,10)},eo=we=>At=>At.options.get(we),Yo=we=>{const At=we.options.register,dn=kt=>{const nt=Do(kt);return nt?{value:Lt(kt),valid:nt}:{valid:!1,message:"Must be a string."}};At("autosave_ask_before_unload",{processor:"boolean",default:!0}),At("autosave_prefix",{processor:"string",default:"tinymce-autosave-{path}{query}{hash}-{id}-"}),At("autosave_restore_when_empty",{processor:"boolean",default:!1}),At("autosave_interval",{processor:dn,default:"30s"}),At("autosave_retention",{processor:dn,default:"20m"})},ar=eo("autosave_ask_before_unload"),at=eo("autosave_restore_when_empty"),it=eo("autosave_interval"),mt=eo("autosave_retention"),ce=we=>{const At=document.location;return we.options.get("autosave_prefix").replace(/{path}/g,At.pathname).replace(/{query}/g,At.search).replace(/{hash}/g,At.hash).replace(/{id}/g,we.id)},Tt=(we,At)=>{if(sr(At))return we.dom.isEmpty(we.getBody());{const dn=Rn.trim(At);if(dn==="")return!0;{const kt=new DOMParser().parseFromString(dn,"text/html");return we.dom.isEmpty(kt)}}},ve=we=>{var At;const dn=parseInt((At=Ko.getItem(ce(we)+"time"))!==null&&At!==void 0?At:"0",10)||0;return new Date().getTime()-dn>mt(we)?(ct(we,!1),!1):!0},ct=(we,At)=>{const dn=ce(we);Ko.removeItem(dn+"draft"),Ko.removeItem(dn+"time"),At!==!1&&Rr(we)},$r=we=>{const At=ce(we);!Tt(we)&&we.isDirty()&&(Ko.setItem(At+"draft",we.getContent({format:"raw",no_events:!0})),Ko.setItem(At+"time",new Date().getTime().toString()),Yn(we))},er=we=>{var At;const dn=ce(we);ve(we)&&(we.setContent((At=Ko.getItem(dn+"draft"))!==null&&At!==void 0?At:"",{format:"raw"}),tn(we))},Io=we=>{const At=it(we);Qn.setEditorInterval(we,()=>{$r(we)},At)},$e=we=>{we.undoManager.transact(()=>{er(we),ct(we)}),we.focus()},Pt=we=>({hasDraft:()=>ve(we),storeDraft:()=>$r(we),restoreDraft:()=>er(we),removeDraft:At=>ct(we,At),isEmpty:At=>Tt(we,At)});var T=tinymce.util.Tools.resolve("tinymce.EditorManager");const _o=we=>{we.editorManager.on("BeforeUnload",At=>{let dn;Rn.each(T.get(),kt=>{kt.plugins.autosave&&kt.plugins.autosave.storeDraft(),!dn&&kt.isDirty()&&ar(kt)&&(dn=kt.translate("You have unsaved changes are you sure you want to navigate away?"))}),dn&&(At.preventDefault(),At.returnValue=dn)})},Yt=we=>At=>{At.setEnabled(ve(we));const dn=()=>At.setEnabled(ve(we));return we.on("StoreDraft RestoreDraft RemoveDraft",dn),()=>we.off("StoreDraft RestoreDraft RemoveDraft",dn)},Lo=we=>{Io(we);const At=()=>{$e(we)};we.ui.registry.addButton("restoredraft",{tooltip:"Restore last draft",icon:"restore-draft",onAction:At,onSetup:Yt(we)}),we.ui.registry.addMenuItem("restoredraft",{text:"Restore last draft",icon:"restore-draft",onAction:At,onSetup:Yt(we)})};var hr=()=>{Hr.add("autosave",we=>(Yo(we),_o(we),Lo(we),we.on("init",()=>{at(we)&&we.dom.isEmpty(we.getBody())&&er(we)}),Pt(we)))};hr()})();(function(){var Hr=tinymce.util.Tools.resolve("tinymce.PluginManager");const Hs=(Qn,Ko)=>{Qn.focus(),Qn.undoManager.transact(()=>{Qn.setContent(Ko)}),Qn.selection.setCursorLocation(),Qn.nodeChanged()},is=Qn=>Qn.getContent({source_view:!0}),ms=Qn=>{const Ko=is(Qn);Qn.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:Ko},onSubmit:Rn=>{Hs(Qn,Rn.getData().code),Rn.close()}})},Dr=Qn=>{Qn.addCommand("mceCodeEditor",()=>{ms(Qn)})},Do=Qn=>{const Ko=()=>Qn.execCommand("mceCodeEditor");Qn.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:Ko}),Qn.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:Ko})};var sr=()=>{Hr.add("code",Qn=>(Dr(Qn),Do(Qn),{}))};sr()})();(function(){var Hr=tinymce.util.Tools.resolve("tinymce.PluginManager");const Hs=wt=>rt=>wt===rt,is=Hs(null),ms=Hs(void 0),Dr=wt=>wt==null,Do=wt=>!Dr(wt),sr=()=>{},Ko=(wt=>()=>wt)(!1);class Rn{constructor(rt,et){this.tag=rt,this.value=et}static some(rt){return new Rn(!0,rt)}static none(){return Rn.singletonNone}fold(rt,et){return this.tag?et(this.value):rt()}isSome(){return this.tag}isNone(){return!this.tag}map(rt){return this.tag?Rn.some(rt(this.value)):Rn.none()}bind(rt){return this.tag?rt(this.value):Rn.none()}exists(rt){return this.tag&&rt(this.value)}forall(rt){return!this.tag||rt(this.value)}filter(rt){return!this.tag||rt(this.value)?this:Rn.none()}getOr(rt){return this.tag?this.value:rt}or(rt){return this.tag?this:rt}getOrThunk(rt){return this.tag?this.value:rt()}orThunk(rt){return this.tag?this:rt()}getOrDie(rt){if(this.tag)return this.value;throw new Error(rt??"Called getOrDie on None")}static from(rt){return Do(rt)?Rn.some(rt):Rn.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(rt){this.tag&&rt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Rn.singletonNone=new Rn(!1);const tn=(wt,rt)=>{for(let et=0,Gt=wt.length;et<Gt;et++){const uo=wt[et];if(rt(uo,et))return!0}return!1},Yn=(wt,rt)=>{const et=wt.length,Gt=new Array(et);for(let uo=0;uo<et;uo++){const qo=wt[uo];Gt[uo]=rt(qo,uo)}return Gt},Rr=(wt,rt)=>{for(let et=0,Gt=wt.length;et<Gt;et++){const uo=wt[et];rt(uo,et)}},Lt=wt=>{let rt=wt;return{get:()=>rt,set:uo=>{rt=uo}}},eo=(wt,rt)=>{let et=null;const Gt=()=>{is(et)||(clearTimeout(et),et=null)};return{cancel:Gt,throttle:(...qo)=>{Gt(),et=setTimeout(()=>{et=null,wt.apply(null,qo)},rt)}}},Yo=(wt,rt)=>{wt.insertContent(rt)},ar=Object.keys,at=Object.hasOwnProperty,it=(wt,rt)=>{const et=ar(wt);for(let Gt=0,uo=et.length;Gt<uo;Gt++){const qo=et[Gt],Tn=wt[qo];rt(Tn,qo)}},mt=(wt,rt)=>ce(wt,(et,Gt)=>({k:Gt,v:rt(et,Gt)})),ce=(wt,rt)=>{const et={};return it(wt,(Gt,uo)=>{const qo=rt(Gt,uo);et[qo.k]=qo.v}),et},Tt=(wt,rt)=>at.call(wt,rt),$r=(wt=>(...rt)=>{if(rt.length===0)throw new Error("Can't merge zero objects");const et={};for(let Gt=0;Gt<rt.length;Gt++){const uo=rt[Gt];for(const qo in uo)Tt(uo,qo)&&(et[qo]=wt(et[qo],uo[qo]))}return et})((wt,rt)=>rt),er=wt=>{const rt=Lt(Rn.none()),et=()=>rt.get().each(wt);return{clear:()=>{et(),rt.set(Rn.none())},isSet:()=>rt.get().isSome(),get:()=>rt.get(),set:or=>{et(),rt.set(Rn.some(or))}}},Io=()=>{const wt=er(sr);return{...wt,on:et=>wt.get().each(et)}},$e=(wt,rt,et)=>rt===""||wt.length>=rt.length&&wt.substr(et,et+rt.length)===rt,Pt=(wt,rt,et=0,Gt)=>{const uo=wt.indexOf(rt,et);return uo!==-1?ms(Gt)?!0:uo+rt.length<=Gt:!1},T=(wt,rt)=>$e(wt,rt,0);var _o=tinymce.util.Tools.resolve("tinymce.Resource");const Yt="tinymce.plugins.emoticons",Lo=wt=>rt=>rt.options.get(wt),hr=(wt,rt)=>{const et=wt.options.register;et("emoticons_database",{processor:"string",default:"emojis"}),et("emoticons_database_url",{processor:"string",default:`${rt}/js/${we(wt)}${wt.suffix}.js`}),et("emoticons_database_id",{processor:"string",default:Yt}),et("emoticons_append",{processor:"object",default:{}}),et("emoticons_images_url",{processor:"string",default:"https://cdnjs.cloudflare.com/ajax/libs/twemoji/15.1.0/72x72/"})},we=Lo("emoticons_database"),At=Lo("emoticons_database_url"),dn=Lo("emoticons_database_id"),kt=Lo("emoticons_append"),nt=Lo("emoticons_images_url"),Dt="All",Wr={symbols:"Symbols",people:"People",animals_and_nature:"Animals and Nature",food_and_drink:"Food and Drink",activity:"Activity",travel_and_places:"Travel and Places",objects:"Objects",flags:"Flags",user:"User Defined"},Nn=(wt,rt)=>Tt(wt,rt)?wt[rt]:rt,yn=wt=>{const rt=kt(wt);return mt(rt,et=>({keywords:[],category:"user",...et}))},Co=(wt,rt,et)=>{const Gt=Io(),uo=Io(),qo=nt(wt),Tn=_r=>T(_r.char,"<img")?_r.char.replace(/src="([^"]+)"/,(Qo,$s)=>`src="${qo}${$s}"`):_r.char,or=_r=>{const Qo={},$s=[];it(_r,(dt,no)=>{const Vo={title:no,keywords:dt.keywords,char:Tn(dt),category:Nn(Wr,dt.category)},Rs=Qo[Vo.category]!==void 0?Qo[Vo.category]:[];Qo[Vo.category]=Rs.concat([Vo]),$s.push(Vo)}),Gt.set(Qo),uo.set($s)};wt.on("init",()=>{_o.load(et,rt).then(_r=>{const Qo=yn(wt);or($r(_r,Qo))},_r=>{console.log(`Failed to load emojis: ${_r}`),Gt.set({}),uo.set([])})});const $n=_r=>_r===Dt?vn():Gt.get().bind(Qo=>Rn.from(Qo[_r])).getOr([]),vn=()=>uo.get().getOr([]),Nr=()=>[Dt].concat(ar(Gt.get().getOr({}))),Js=()=>Vn()?Promise.resolve(!0):new Promise((_r,Qo)=>{let $s=15;const dt=setInterval(()=>{Vn()?(clearInterval(dt),_r(!0)):($s--,$s<0&&(console.log("Could not load emojis from url: "+rt),clearInterval(dt),Qo(!1)))},100)}),Vn=()=>Gt.isSet()&&uo.isSet();return{listCategories:Nr,hasLoaded:Vn,waitForLoad:Js,listAll:vn,listCategory:$n}},H=(wt,rt)=>Pt(wt.title.toLowerCase(),rt)||tn(wt.keywords,et=>Pt(et.toLowerCase(),rt)),ra=(wt,rt,et)=>{const Gt=[],uo=rt.toLowerCase(),qo=et.fold(()=>Ko,Tn=>or=>or>=Tn);for(let Tn=0;Tn<wt.length&&!((rt.length===0||H(wt[Tn],uo))&&(Gt.push({value:wt[Tn].char,text:wt[Tn].title,icon:wt[Tn].char}),qo(Gt.length)));Tn++);return Gt},Hn="pattern",kn=(wt,rt)=>{const et={pattern:"",results:ra(rt.listAll(),"",Rn.some(300))},Gt=Lt(Dt),uo=Nr=>{const Js=Nr.getData(),Vn=Gt.get(),_r=rt.listCategory(Vn),Qo=ra(_r,Js[Hn],Vn===Dt?Rn.some(300):Rn.none());Nr.setData({results:Qo})},qo=eo(Nr=>{uo(Nr)},200),Tn={label:"Search",type:"input",name:Hn},or={type:"collection",name:"results"},$n=()=>({title:"Emojis",size:"normal",body:{type:"tabpanel",tabs:Yn(rt.listCategories(),Js=>({title:Js,name:Js,items:[Tn,or]}))},initialData:et,onTabChange:(Js,Vn)=>{Gt.set(Vn.newTabName),qo.throttle(Js)},onChange:qo.throttle,onAction:(Js,Vn)=>{Vn.name==="results"&&(Yo(wt,Vn.value),Js.close())},buttons:[{type:"cancel",text:"Close",primary:!0}]}),vn=wt.windowManager.open($n());vn.focus(Hn),rt.hasLoaded()||(vn.block("Loading emojis..."),rt.waitForLoad().then(()=>{vn.redial($n()),qo.throttle(vn),vn.focus(Hn),vn.unblock()}).catch(Nr=>{vn.redial({title:"Emojis",body:{type:"panel",items:[{type:"alertbanner",level:"error",icon:"warning",text:"Could not load emojis"}]},buttons:[{type:"cancel",text:"Close",primary:!0}],initialData:{pattern:"",results:[]}}),vn.focus(Hn),vn.unblock()}))},yi=(wt,rt)=>{wt.addCommand("mceEmoticons",()=>kn(wt,rt))},kl=wt=>{wt.on("PreInit",()=>{wt.parser.addAttributeFilter("data-emoticon",rt=>{Rr(rt,et=>{et.attr("data-mce-resize","false"),et.attr("data-mce-placeholder","1")})})})},on=(wt,rt)=>{wt.ui.registry.addAutocompleter("emoticons",{trigger:":",columns:"auto",minChars:2,fetch:(et,Gt)=>rt.waitForLoad().then(()=>{const uo=rt.listAll();return ra(uo,et,Rn.some(Gt))}),onAction:(et,Gt,uo)=>{wt.selection.setRng(Gt),wt.insertContent(uo),et.hide()}})},zn=wt=>rt=>{const et=()=>{rt.setEnabled(wt.selection.isEditable())};return wt.on("NodeChange",et),et(),()=>{wt.off("NodeChange",et)}},Jo=wt=>{const rt=()=>wt.execCommand("mceEmoticons");wt.ui.registry.addButton("emoticons",{tooltip:"Emojis",icon:"emoji",onAction:rt,onSetup:zn(wt)}),wt.ui.registry.addMenuItem("emoticons",{text:"Emojis...",icon:"emoji",onAction:rt,onSetup:zn(wt)})};var Re=()=>{Hr.add("emoticons",(wt,rt)=>{hr(wt,rt);const et=At(wt),Gt=dn(wt),uo=Co(wt,et,Gt);return yi(wt,uo),Jo(wt),on(wt,uo),kl(wt),{getAllEmojis:()=>uo.waitForLoad().then(()=>uo.listAll())}})};Re()})();window.tinymce.Resource.add("tinymce.plugins.emoticons",{grinning:{keywords:["face","smile","happy","joy",":D","grin"],char:"😀",fitzpatrick_scale:!1,category:"people"},grimacing:{keywords:["face","grimace","teeth"],char:"😬",fitzpatrick_scale:!1,category:"people"},grin:{keywords:["face","happy","smile","joy","kawaii"],char:"😁",fitzpatrick_scale:!1,category:"people"},joy:{keywords:["face","cry","tears","weep","happy","happytears","haha"],char:"😂",fitzpatrick_scale:!1,category:"people"},rofl:{keywords:["face","rolling","floor","laughing","lol","haha"],char:"🤣",fitzpatrick_scale:!1,category:"people"},partying:{keywords:["face","celebration","woohoo"],char:"🥳",fitzpatrick_scale:!1,category:"people"},smiley:{keywords:["face","happy","joy","haha",":D",":)","smile","funny"],char:"😃",fitzpatrick_scale:!1,category:"people"},smile:{keywords:["face","happy","joy","funny","haha","laugh","like",":D",":)"],char:"😄",fitzpatrick_scale:!1,category:"people"},sweat_smile:{keywords:["face","hot","happy","laugh","sweat","smile","relief"],char:"😅",fitzpatrick_scale:!1,category:"people"},laughing:{keywords:["happy","joy","lol","satisfied","haha","face","glad","XD","laugh"],char:"😆",fitzpatrick_scale:!1,category:"people"},innocent:{keywords:["face","angel","heaven","halo"],char:"😇",fitzpatrick_scale:!1,category:"people"},wink:{keywords:["face","happy","mischievous","secret",";)","smile","eye"],char:"😉",fitzpatrick_scale:!1,category:"people"},blush:{keywords:["face","smile","happy","flushed","crush","embarrassed","shy","joy"],char:"😊",fitzpatrick_scale:!1,category:"people"},slightly_smiling_face:{keywords:["face","smile"],char:"🙂",fitzpatrick_scale:!1,category:"people"},upside_down_face:{keywords:["face","flipped","silly","smile"],char:"🙃",fitzpatrick_scale:!1,category:"people"},relaxed:{keywords:["face","blush","massage","happiness"],char:"☺️",fitzpatrick_scale:!1,category:"people"},yum:{keywords:["happy","joy","tongue","smile","face","silly","yummy","nom","delicious","savouring"],char:"😋",fitzpatrick_scale:!1,category:"people"},relieved:{keywords:["face","relaxed","phew","massage","happiness"],char:"😌",fitzpatrick_scale:!1,category:"people"},heart_eyes:{keywords:["face","love","like","affection","valentines","infatuation","crush","heart"],char:"😍",fitzpatrick_scale:!1,category:"people"},smiling_face_with_three_hearts:{keywords:["face","love","like","affection","valentines","infatuation","crush","hearts","adore"],char:"🥰",fitzpatrick_scale:!1,category:"people"},kissing_heart:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"😘",fitzpatrick_scale:!1,category:"people"},kissing:{keywords:["love","like","face","3","valentines","infatuation","kiss"],char:"😗",fitzpatrick_scale:!1,category:"people"},kissing_smiling_eyes:{keywords:["face","affection","valentines","infatuation","kiss"],char:"😙",fitzpatrick_scale:!1,category:"people"},kissing_closed_eyes:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"😚",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_winking_eye:{keywords:["face","prank","childish","playful","mischievous","smile","wink","tongue"],char:"😜",fitzpatrick_scale:!1,category:"people"},zany:{keywords:["face","goofy","crazy"],char:"🤪",fitzpatrick_scale:!1,category:"people"},raised_eyebrow:{keywords:["face","distrust","scepticism","disapproval","disbelief","surprise"],char:"🤨",fitzpatrick_scale:!1,category:"people"},monocle:{keywords:["face","stuffy","wealthy"],char:"🧐",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_closed_eyes:{keywords:["face","prank","playful","mischievous","smile","tongue"],char:"😝",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue:{keywords:["face","prank","childish","playful","mischievous","smile","tongue"],char:"😛",fitzpatrick_scale:!1,category:"people"},money_mouth_face:{keywords:["face","rich","dollar","money"],char:"🤑",fitzpatrick_scale:!1,category:"people"},nerd_face:{keywords:["face","nerdy","geek","dork"],char:"🤓",fitzpatrick_scale:!1,category:"people"},sunglasses:{keywords:["face","cool","smile","summer","beach","sunglass"],char:"😎",fitzpatrick_scale:!1,category:"people"},star_struck:{keywords:["face","smile","starry","eyes","grinning"],char:"🤩",fitzpatrick_scale:!1,category:"people"},clown_face:{keywords:["face"],char:"🤡",fitzpatrick_scale:!1,category:"people"},cowboy_hat_face:{keywords:["face","cowgirl","hat"],char:"🤠",fitzpatrick_scale:!1,category:"people"},hugs:{keywords:["face","smile","hug"],char:"🤗",fitzpatrick_scale:!1,category:"people"},smirk:{keywords:["face","smile","mean","prank","smug","sarcasm"],char:"😏",fitzpatrick_scale:!1,category:"people"},no_mouth:{keywords:["face","hellokitty"],char:"😶",fitzpatrick_scale:!1,category:"people"},neutral_face:{keywords:["indifference","meh",":|","neutral"],char:"😐",fitzpatrick_scale:!1,category:"people"},expressionless:{keywords:["face","indifferent","-_-","meh","deadpan"],char:"😑",fitzpatrick_scale:!1,category:"people"},unamused:{keywords:["indifference","bored","straight face","serious","sarcasm","unimpressed","skeptical","dubious","side_eye"],char:"😒",fitzpatrick_scale:!1,category:"people"},roll_eyes:{keywords:["face","eyeroll","frustrated"],char:"🙄",fitzpatrick_scale:!1,category:"people"},thinking:{keywords:["face","hmmm","think","consider"],char:"🤔",fitzpatrick_scale:!1,category:"people"},lying_face:{keywords:["face","lie","pinocchio"],char:"🤥",fitzpatrick_scale:!1,category:"people"},hand_over_mouth:{keywords:["face","whoops","shock","surprise"],char:"🤭",fitzpatrick_scale:!1,category:"people"},shushing:{keywords:["face","quiet","shhh"],char:"🤫",fitzpatrick_scale:!1,category:"people"},symbols_over_mouth:{keywords:["face","swearing","cursing","cussing","profanity","expletive"],char:"🤬",fitzpatrick_scale:!1,category:"people"},exploding_head:{keywords:["face","shocked","mind","blown"],char:"🤯",fitzpatrick_scale:!1,category:"people"},flushed:{keywords:["face","blush","shy","flattered"],char:"😳",fitzpatrick_scale:!1,category:"people"},disappointed:{keywords:["face","sad","upset","depressed",":("],char:"😞",fitzpatrick_scale:!1,category:"people"},worried:{keywords:["face","concern","nervous",":("],char:"😟",fitzpatrick_scale:!1,category:"people"},angry:{keywords:["mad","face","annoyed","frustrated"],char:"😠",fitzpatrick_scale:!1,category:"people"},rage:{keywords:["angry","mad","hate","despise"],char:"😡",fitzpatrick_scale:!1,category:"people"},pensive:{keywords:["face","sad","depressed","upset"],char:"😔",fitzpatrick_scale:!1,category:"people"},confused:{keywords:["face","indifference","huh","weird","hmmm",":/"],char:"😕",fitzpatrick_scale:!1,category:"people"},slightly_frowning_face:{keywords:["face","frowning","disappointed","sad","upset"],char:"🙁",fitzpatrick_scale:!1,category:"people"},frowning_face:{keywords:["face","sad","upset","frown"],char:"☹",fitzpatrick_scale:!1,category:"people"},persevere:{keywords:["face","sick","no","upset","oops"],char:"😣",fitzpatrick_scale:!1,category:"people"},confounded:{keywords:["face","confused","sick","unwell","oops",":S"],char:"😖",fitzpatrick_scale:!1,category:"people"},tired_face:{keywords:["sick","whine","upset","frustrated"],char:"😫",fitzpatrick_scale:!1,category:"people"},weary:{keywords:["face","tired","sleepy","sad","frustrated","upset"],char:"😩",fitzpatrick_scale:!1,category:"people"},pleading:{keywords:["face","begging","mercy"],char:"🥺",fitzpatrick_scale:!1,category:"people"},triumph:{keywords:["face","gas","phew","proud","pride"],char:"😤",fitzpatrick_scale:!1,category:"people"},open_mouth:{keywords:["face","surprise","impressed","wow","whoa",":O"],char:"😮",fitzpatrick_scale:!1,category:"people"},scream:{keywords:["face","munch","scared","omg"],char:"😱",fitzpatrick_scale:!1,category:"people"},fearful:{keywords:["face","scared","terrified","nervous","oops","huh"],char:"😨",fitzpatrick_scale:!1,category:"people"},cold_sweat:{keywords:["face","nervous","sweat"],char:"😰",fitzpatrick_scale:!1,category:"people"},hushed:{keywords:["face","woo","shh"],char:"😯",fitzpatrick_scale:!1,category:"people"},frowning:{keywords:["face","aw","what"],char:"😦",fitzpatrick_scale:!1,category:"people"},anguished:{keywords:["face","stunned","nervous"],char:"😧",fitzpatrick_scale:!1,category:"people"},cry:{keywords:["face","tears","sad","depressed","upset",":'("],char:"😢",fitzpatrick_scale:!1,category:"people"},disappointed_relieved:{keywords:["face","phew","sweat","nervous"],char:"😥",fitzpatrick_scale:!1,category:"people"},drooling_face:{keywords:["face"],char:"🤤",fitzpatrick_scale:!1,category:"people"},sleepy:{keywords:["face","tired","rest","nap"],char:"😪",fitzpatrick_scale:!1,category:"people"},sweat:{keywords:["face","hot","sad","tired","exercise"],char:"😓",fitzpatrick_scale:!1,category:"people"},hot:{keywords:["face","feverish","heat","red","sweating"],char:"🥵",fitzpatrick_scale:!1,category:"people"},cold:{keywords:["face","blue","freezing","frozen","frostbite","icicles"],char:"🥶",fitzpatrick_scale:!1,category:"people"},sob:{keywords:["face","cry","tears","sad","upset","depressed"],char:"😭",fitzpatrick_scale:!1,category:"people"},dizzy_face:{keywords:["spent","unconscious","xox","dizzy"],char:"😵",fitzpatrick_scale:!1,category:"people"},astonished:{keywords:["face","xox","surprised","poisoned"],char:"😲",fitzpatrick_scale:!1,category:"people"},zipper_mouth_face:{keywords:["face","sealed","zipper","secret"],char:"🤐",fitzpatrick_scale:!1,category:"people"},nauseated_face:{keywords:["face","vomit","gross","green","sick","throw up","ill"],char:"🤢",fitzpatrick_scale:!1,category:"people"},sneezing_face:{keywords:["face","gesundheit","sneeze","sick","allergy"],char:"🤧",fitzpatrick_scale:!1,category:"people"},vomiting:{keywords:["face","sick"],char:"🤮",fitzpatrick_scale:!1,category:"people"},mask:{keywords:["face","sick","ill","disease"],char:"😷",fitzpatrick_scale:!1,category:"people"},face_with_thermometer:{keywords:["sick","temperature","thermometer","cold","fever"],char:"🤒",fitzpatrick_scale:!1,category:"people"},face_with_head_bandage:{keywords:["injured","clumsy","bandage","hurt"],char:"🤕",fitzpatrick_scale:!1,category:"people"},woozy:{keywords:["face","dizzy","intoxicated","tipsy","wavy"],char:"🥴",fitzpatrick_scale:!1,category:"people"},sleeping:{keywords:["face","tired","sleepy","night","zzz"],char:"😴",fitzpatrick_scale:!1,category:"people"},zzz:{keywords:["sleepy","tired","dream"],char:"💤",fitzpatrick_scale:!1,category:"people"},poop:{keywords:["hankey","shitface","fail","turd","shit"],char:"💩",fitzpatrick_scale:!1,category:"people"},smiling_imp:{keywords:["devil","horns"],char:"😈",fitzpatrick_scale:!1,category:"people"},imp:{keywords:["devil","angry","horns"],char:"👿",fitzpatrick_scale:!1,category:"people"},japanese_ogre:{keywords:["monster","red","mask","halloween","scary","creepy","devil","demon","japanese","ogre"],char:"👹",fitzpatrick_scale:!1,category:"people"},japanese_goblin:{keywords:["red","evil","mask","monster","scary","creepy","japanese","goblin"],char:"👺",fitzpatrick_scale:!1,category:"people"},skull:{keywords:["dead","skeleton","creepy","death"],char:"💀",fitzpatrick_scale:!1,category:"people"},ghost:{keywords:["halloween","spooky","scary"],char:"👻",fitzpatrick_scale:!1,category:"people"},alien:{keywords:["UFO","paul","weird","outer_space"],char:"👽",fitzpatrick_scale:!1,category:"people"},robot:{keywords:["computer","machine","bot"],char:"🤖",fitzpatrick_scale:!1,category:"people"},smiley_cat:{keywords:["animal","cats","happy","smile"],char:"😺",fitzpatrick_scale:!1,category:"people"},smile_cat:{keywords:["animal","cats","smile"],char:"😸",fitzpatrick_scale:!1,category:"people"},joy_cat:{keywords:["animal","cats","haha","happy","tears"],char:"😹",fitzpatrick_scale:!1,category:"people"},heart_eyes_cat:{keywords:["animal","love","like","affection","cats","valentines","heart"],char:"😻",fitzpatrick_scale:!1,category:"people"},smirk_cat:{keywords:["animal","cats","smirk"],char:"😼",fitzpatrick_scale:!1,category:"people"},kissing_cat:{keywords:["animal","cats","kiss"],char:"😽",fitzpatrick_scale:!1,category:"people"},scream_cat:{keywords:["animal","cats","munch","scared","scream"],char:"🙀",fitzpatrick_scale:!1,category:"people"},crying_cat_face:{keywords:["animal","tears","weep","sad","cats","upset","cry"],char:"😿",fitzpatrick_scale:!1,category:"people"},pouting_cat:{keywords:["animal","cats"],char:"😾",fitzpatrick_scale:!1,category:"people"},palms_up:{keywords:["hands","gesture","cupped","prayer"],char:"🤲",fitzpatrick_scale:!0,category:"people"},raised_hands:{keywords:["gesture","hooray","yea","celebration","hands"],char:"🙌",fitzpatrick_scale:!0,category:"people"},clap:{keywords:["hands","praise","applause","congrats","yay"],char:"👏",fitzpatrick_scale:!0,category:"people"},wave:{keywords:["hands","gesture","goodbye","solong","farewell","hello","hi","palm"],char:"👋",fitzpatrick_scale:!0,category:"people"},call_me_hand:{keywords:["hands","gesture"],char:"🤙",fitzpatrick_scale:!0,category:"people"},"+1":{keywords:["thumbsup","yes","awesome","good","agree","accept","cool","hand","like"],char:"👍",fitzpatrick_scale:!0,category:"people"},"-1":{keywords:["thumbsdown","no","dislike","hand"],char:"👎",fitzpatrick_scale:!0,category:"people"},facepunch:{keywords:["angry","violence","fist","hit","attack","hand"],char:"👊",fitzpatrick_scale:!0,category:"people"},fist:{keywords:["fingers","hand","grasp"],char:"✊",fitzpatrick_scale:!0,category:"people"},fist_left:{keywords:["hand","fistbump"],char:"🤛",fitzpatrick_scale:!0,category:"people"},fist_right:{keywords:["hand","fistbump"],char:"🤜",fitzpatrick_scale:!0,category:"people"},v:{keywords:["fingers","ohyeah","hand","peace","victory","two"],char:"✌",fitzpatrick_scale:!0,category:"people"},ok_hand:{keywords:["fingers","limbs","perfect","ok","okay"],char:"👌",fitzpatrick_scale:!0,category:"people"},raised_hand:{keywords:["fingers","stop","highfive","palm","ban"],char:"✋",fitzpatrick_scale:!0,category:"people"},raised_back_of_hand:{keywords:["fingers","raised","backhand"],char:"🤚",fitzpatrick_scale:!0,category:"people"},open_hands:{keywords:["fingers","butterfly","hands","open"],char:"👐",fitzpatrick_scale:!0,category:"people"},muscle:{keywords:["arm","flex","hand","summer","strong","biceps"],char:"💪",fitzpatrick_scale:!0,category:"people"},pray:{keywords:["please","hope","wish","namaste","highfive"],char:"🙏",fitzpatrick_scale:!0,category:"people"},foot:{keywords:["kick","stomp"],char:"🦶",fitzpatrick_scale:!0,category:"people"},leg:{keywords:["kick","limb"],char:"🦵",fitzpatrick_scale:!0,category:"people"},handshake:{keywords:["agreement","shake"],char:"🤝",fitzpatrick_scale:!1,category:"people"},point_up:{keywords:["hand","fingers","direction","up"],char:"☝",fitzpatrick_scale:!0,category:"people"},point_up_2:{keywords:["fingers","hand","direction","up"],char:"👆",fitzpatrick_scale:!0,category:"people"},point_down:{keywords:["fingers","hand","direction","down"],char:"👇",fitzpatrick_scale:!0,category:"people"},point_left:{keywords:["direction","fingers","hand","left"],char:"👈",fitzpatrick_scale:!0,category:"people"},point_right:{keywords:["fingers","hand","direction","right"],char:"👉",fitzpatrick_scale:!0,category:"people"},fu:{keywords:["hand","fingers","rude","middle","flipping"],char:"🖕",fitzpatrick_scale:!0,category:"people"},raised_hand_with_fingers_splayed:{keywords:["hand","fingers","palm"],char:"🖐",fitzpatrick_scale:!0,category:"people"},love_you:{keywords:["hand","fingers","gesture"],char:"🤟",fitzpatrick_scale:!0,category:"people"},metal:{keywords:["hand","fingers","evil_eye","sign_of_horns","rock_on"],char:"🤘",fitzpatrick_scale:!0,category:"people"},crossed_fingers:{keywords:["good","lucky"],char:"🤞",fitzpatrick_scale:!0,category:"people"},vulcan_salute:{keywords:["hand","fingers","spock","star trek"],char:"🖖",fitzpatrick_scale:!0,category:"people"},writing_hand:{keywords:["lower_left_ballpoint_pen","stationery","write","compose"],char:"✍",fitzpatrick_scale:!0,category:"people"},selfie:{keywords:["camera","phone"],char:"🤳",fitzpatrick_scale:!0,category:"people"},nail_care:{keywords:["beauty","manicure","finger","fashion","nail"],char:"💅",fitzpatrick_scale:!0,category:"people"},lips:{keywords:["mouth","kiss"],char:"👄",fitzpatrick_scale:!1,category:"people"},tooth:{keywords:["teeth","dentist"],char:"🦷",fitzpatrick_scale:!1,category:"people"},tongue:{keywords:["mouth","playful"],char:"👅",fitzpatrick_scale:!1,category:"people"},ear:{keywords:["face","hear","sound","listen"],char:"👂",fitzpatrick_scale:!0,category:"people"},nose:{keywords:["smell","sniff"],char:"👃",fitzpatrick_scale:!0,category:"people"},eye:{keywords:["face","look","see","watch","stare"],char:"👁",fitzpatrick_scale:!1,category:"people"},eyes:{keywords:["look","watch","stalk","peek","see"],char:"👀",fitzpatrick_scale:!1,category:"people"},brain:{keywords:["smart","intelligent"],char:"🧠",fitzpatrick_scale:!1,category:"people"},bust_in_silhouette:{keywords:["user","person","human"],char:"👤",fitzpatrick_scale:!1,category:"people"},busts_in_silhouette:{keywords:["user","person","human","group","team"],char:"👥",fitzpatrick_scale:!1,category:"people"},speaking_head:{keywords:["user","person","human","sing","say","talk"],char:"🗣",fitzpatrick_scale:!1,category:"people"},baby:{keywords:["child","boy","girl","toddler"],char:"👶",fitzpatrick_scale:!0,category:"people"},child:{keywords:["gender-neutral","young"],char:"🧒",fitzpatrick_scale:!0,category:"people"},boy:{keywords:["man","male","guy","teenager"],char:"👦",fitzpatrick_scale:!0,category:"people"},girl:{keywords:["female","woman","teenager"],char:"👧",fitzpatrick_scale:!0,category:"people"},adult:{keywords:["gender-neutral","person"],char:"🧑",fitzpatrick_scale:!0,category:"people"},man:{keywords:["mustache","father","dad","guy","classy","sir","moustache"],char:"👨",fitzpatrick_scale:!0,category:"people"},woman:{keywords:["female","girls","lady"],char:"👩",fitzpatrick_scale:!0,category:"people"},blonde_woman:{keywords:["woman","female","girl","blonde","person"],char:"👱‍♀️",fitzpatrick_scale:!0,category:"people"},blonde_man:{keywords:["man","male","boy","blonde","guy","person"],char:"👱",fitzpatrick_scale:!0,category:"people"},bearded_person:{keywords:["person","bewhiskered"],char:"🧔",fitzpatrick_scale:!0,category:"people"},older_adult:{keywords:["human","elder","senior","gender-neutral"],char:"🧓",fitzpatrick_scale:!0,category:"people"},older_man:{keywords:["human","male","men","old","elder","senior"],char:"👴",fitzpatrick_scale:!0,category:"people"},older_woman:{keywords:["human","female","women","lady","old","elder","senior"],char:"👵",fitzpatrick_scale:!0,category:"people"},man_with_gua_pi_mao:{keywords:["male","boy","chinese"],char:"👲",fitzpatrick_scale:!0,category:"people"},woman_with_headscarf:{keywords:["female","hijab","mantilla","tichel"],char:"🧕",fitzpatrick_scale:!0,category:"people"},woman_with_turban:{keywords:["female","indian","hinduism","arabs","woman"],char:"👳‍♀️",fitzpatrick_scale:!0,category:"people"},man_with_turban:{keywords:["male","indian","hinduism","arabs"],char:"👳",fitzpatrick_scale:!0,category:"people"},policewoman:{keywords:["woman","police","law","legal","enforcement","arrest","911","female"],char:"👮‍♀️",fitzpatrick_scale:!0,category:"people"},policeman:{keywords:["man","police","law","legal","enforcement","arrest","911"],char:"👮",fitzpatrick_scale:!0,category:"people"},construction_worker_woman:{keywords:["female","human","wip","build","construction","worker","labor","woman"],char:"👷‍♀️",fitzpatrick_scale:!0,category:"people"},construction_worker_man:{keywords:["male","human","wip","guy","build","construction","worker","labor"],char:"👷",fitzpatrick_scale:!0,category:"people"},guardswoman:{keywords:["uk","gb","british","female","royal","woman"],char:"💂‍♀️",fitzpatrick_scale:!0,category:"people"},guardsman:{keywords:["uk","gb","british","male","guy","royal"],char:"💂",fitzpatrick_scale:!0,category:"people"},female_detective:{keywords:["human","spy","detective","female","woman"],char:"🕵️‍♀️",fitzpatrick_scale:!0,category:"people"},male_detective:{keywords:["human","spy","detective"],char:"🕵",fitzpatrick_scale:!0,category:"people"},woman_health_worker:{keywords:["doctor","nurse","therapist","healthcare","woman","human"],char:"👩‍⚕️",fitzpatrick_scale:!0,category:"people"},man_health_worker:{keywords:["doctor","nurse","therapist","healthcare","man","human"],char:"👨‍⚕️",fitzpatrick_scale:!0,category:"people"},woman_farmer:{keywords:["rancher","gardener","woman","human"],char:"👩‍🌾",fitzpatrick_scale:!0,category:"people"},man_farmer:{keywords:["rancher","gardener","man","human"],char:"👨‍🌾",fitzpatrick_scale:!0,category:"people"},woman_cook:{keywords:["chef","woman","human"],char:"👩‍🍳",fitzpatrick_scale:!0,category:"people"},man_cook:{keywords:["chef","man","human"],char:"👨‍🍳",fitzpatrick_scale:!0,category:"people"},woman_student:{keywords:["graduate","woman","human"],char:"👩‍🎓",fitzpatrick_scale:!0,category:"people"},man_student:{keywords:["graduate","man","human"],char:"👨‍🎓",fitzpatrick_scale:!0,category:"people"},woman_singer:{keywords:["rockstar","entertainer","woman","human"],char:"👩‍🎤",fitzpatrick_scale:!0,category:"people"},man_singer:{keywords:["rockstar","entertainer","man","human"],char:"👨‍🎤",fitzpatrick_scale:!0,category:"people"},woman_teacher:{keywords:["instructor","professor","woman","human"],char:"👩‍🏫",fitzpatrick_scale:!0,category:"people"},man_teacher:{keywords:["instructor","professor","man","human"],char:"👨‍🏫",fitzpatrick_scale:!0,category:"people"},woman_factory_worker:{keywords:["assembly","industrial","woman","human"],char:"👩‍🏭",fitzpatrick_scale:!0,category:"people"},man_factory_worker:{keywords:["assembly","industrial","man","human"],char:"👨‍🏭",fitzpatrick_scale:!0,category:"people"},woman_technologist:{keywords:["coder","developer","engineer","programmer","software","woman","human","laptop","computer"],char:"👩‍💻",fitzpatrick_scale:!0,category:"people"},man_technologist:{keywords:["coder","developer","engineer","programmer","software","man","human","laptop","computer"],char:"👨‍💻",fitzpatrick_scale:!0,category:"people"},woman_office_worker:{keywords:["business","manager","woman","human"],char:"👩‍💼",fitzpatrick_scale:!0,category:"people"},man_office_worker:{keywords:["business","manager","man","human"],char:"👨‍💼",fitzpatrick_scale:!0,category:"people"},woman_mechanic:{keywords:["plumber","woman","human","wrench"],char:"👩‍🔧",fitzpatrick_scale:!0,category:"people"},man_mechanic:{keywords:["plumber","man","human","wrench"],char:"👨‍🔧",fitzpatrick_scale:!0,category:"people"},woman_scientist:{keywords:["biologist","chemist","engineer","physicist","woman","human"],char:"👩‍🔬",fitzpatrick_scale:!0,category:"people"},man_scientist:{keywords:["biologist","chemist","engineer","physicist","man","human"],char:"👨‍🔬",fitzpatrick_scale:!0,category:"people"},woman_artist:{keywords:["painter","woman","human"],char:"👩‍🎨",fitzpatrick_scale:!0,category:"people"},man_artist:{keywords:["painter","man","human"],char:"👨‍🎨",fitzpatrick_scale:!0,category:"people"},woman_firefighter:{keywords:["fireman","woman","human"],char:"👩‍🚒",fitzpatrick_scale:!0,category:"people"},man_firefighter:{keywords:["fireman","man","human"],char:"👨‍🚒",fitzpatrick_scale:!0,category:"people"},woman_pilot:{keywords:["aviator","plane","woman","human"],char:"👩‍✈️",fitzpatrick_scale:!0,category:"people"},man_pilot:{keywords:["aviator","plane","man","human"],char:"👨‍✈️",fitzpatrick_scale:!0,category:"people"},woman_astronaut:{keywords:["space","rocket","woman","human"],char:"👩‍🚀",fitzpatrick_scale:!0,category:"people"},man_astronaut:{keywords:["space","rocket","man","human"],char:"👨‍🚀",fitzpatrick_scale:!0,category:"people"},woman_judge:{keywords:["justice","court","woman","human"],char:"👩‍⚖️",fitzpatrick_scale:!0,category:"people"},man_judge:{keywords:["justice","court","man","human"],char:"👨‍⚖️",fitzpatrick_scale:!0,category:"people"},woman_superhero:{keywords:["woman","female","good","heroine","superpowers"],char:"🦸‍♀️",fitzpatrick_scale:!0,category:"people"},man_superhero:{keywords:["man","male","good","hero","superpowers"],char:"🦸‍♂️",fitzpatrick_scale:!0,category:"people"},woman_supervillain:{keywords:["woman","female","evil","bad","criminal","heroine","superpowers"],char:"🦹‍♀️",fitzpatrick_scale:!0,category:"people"},man_supervillain:{keywords:["man","male","evil","bad","criminal","hero","superpowers"],char:"🦹‍♂️",fitzpatrick_scale:!0,category:"people"},mrs_claus:{keywords:["woman","female","xmas","mother christmas"],char:"🤶",fitzpatrick_scale:!0,category:"people"},santa:{keywords:["festival","man","male","xmas","father christmas"],char:"🎅",fitzpatrick_scale:!0,category:"people"},sorceress:{keywords:["woman","female","mage","witch"],char:"🧙‍♀️",fitzpatrick_scale:!0,category:"people"},wizard:{keywords:["man","male","mage","sorcerer"],char:"🧙‍♂️",fitzpatrick_scale:!0,category:"people"},woman_elf:{keywords:["woman","female"],char:"🧝‍♀️",fitzpatrick_scale:!0,category:"people"},man_elf:{keywords:["man","male"],char:"🧝‍♂️",fitzpatrick_scale:!0,category:"people"},woman_vampire:{keywords:["woman","female"],char:"🧛‍♀️",fitzpatrick_scale:!0,category:"people"},man_vampire:{keywords:["man","male","dracula"],char:"🧛‍♂️",fitzpatrick_scale:!0,category:"people"},woman_zombie:{keywords:["woman","female","undead","walking dead"],char:"🧟‍♀️",fitzpatrick_scale:!1,category:"people"},man_zombie:{keywords:["man","male","dracula","undead","walking dead"],char:"🧟‍♂️",fitzpatrick_scale:!1,category:"people"},woman_genie:{keywords:["woman","female"],char:"🧞‍♀️",fitzpatrick_scale:!1,category:"people"},man_genie:{keywords:["man","male"],char:"🧞‍♂️",fitzpatrick_scale:!1,category:"people"},mermaid:{keywords:["woman","female","merwoman","ariel"],char:"🧜‍♀️",fitzpatrick_scale:!0,category:"people"},merman:{keywords:["man","male","triton"],char:"🧜‍♂️",fitzpatrick_scale:!0,category:"people"},woman_fairy:{keywords:["woman","female"],char:"🧚‍♀️",fitzpatrick_scale:!0,category:"people"},man_fairy:{keywords:["man","male"],char:"🧚‍♂️",fitzpatrick_scale:!0,category:"people"},angel:{keywords:["heaven","wings","halo"],char:"👼",fitzpatrick_scale:!0,category:"people"},pregnant_woman:{keywords:["baby"],char:"🤰",fitzpatrick_scale:!0,category:"people"},breastfeeding:{keywords:["nursing","baby"],char:"🤱",fitzpatrick_scale:!0,category:"people"},princess:{keywords:["girl","woman","female","blond","crown","royal","queen"],char:"👸",fitzpatrick_scale:!0,category:"people"},prince:{keywords:["boy","man","male","crown","royal","king"],char:"🤴",fitzpatrick_scale:!0,category:"people"},bride_with_veil:{keywords:["couple","marriage","wedding","woman","bride"],char:"👰",fitzpatrick_scale:!0,category:"people"},man_in_tuxedo:{keywords:["couple","marriage","wedding","groom"],char:"🤵",fitzpatrick_scale:!0,category:"people"},running_woman:{keywords:["woman","walking","exercise","race","running","female"],char:"🏃‍♀️",fitzpatrick_scale:!0,category:"people"},running_man:{keywords:["man","walking","exercise","race","running"],char:"🏃",fitzpatrick_scale:!0,category:"people"},walking_woman:{keywords:["human","feet","steps","woman","female"],char:"🚶‍♀️",fitzpatrick_scale:!0,category:"people"},walking_man:{keywords:["human","feet","steps"],char:"🚶",fitzpatrick_scale:!0,category:"people"},dancer:{keywords:["female","girl","woman","fun"],char:"💃",fitzpatrick_scale:!0,category:"people"},man_dancing:{keywords:["male","boy","fun","dancer"],char:"🕺",fitzpatrick_scale:!0,category:"people"},dancing_women:{keywords:["female","bunny","women","girls"],char:"👯",fitzpatrick_scale:!1,category:"people"},dancing_men:{keywords:["male","bunny","men","boys"],char:"👯‍♂️",fitzpatrick_scale:!1,category:"people"},couple:{keywords:["pair","people","human","love","date","dating","like","affection","valentines","marriage"],char:"👫",fitzpatrick_scale:!1,category:"people"},two_men_holding_hands:{keywords:["pair","couple","love","like","bromance","friendship","people","human"],char:"👬",fitzpatrick_scale:!1,category:"people"},two_women_holding_hands:{keywords:["pair","friendship","couple","love","like","female","people","human"],char:"👭",fitzpatrick_scale:!1,category:"people"},bowing_woman:{keywords:["woman","female","girl"],char:"🙇‍♀️",fitzpatrick_scale:!0,category:"people"},bowing_man:{keywords:["man","male","boy"],char:"🙇",fitzpatrick_scale:!0,category:"people"},man_facepalming:{keywords:["man","male","boy","disbelief"],char:"🤦‍♂️",fitzpatrick_scale:!0,category:"people"},woman_facepalming:{keywords:["woman","female","girl","disbelief"],char:"🤦‍♀️",fitzpatrick_scale:!0,category:"people"},woman_shrugging:{keywords:["woman","female","girl","confused","indifferent","doubt"],char:"🤷",fitzpatrick_scale:!0,category:"people"},man_shrugging:{keywords:["man","male","boy","confused","indifferent","doubt"],char:"🤷‍♂️",fitzpatrick_scale:!0,category:"people"},tipping_hand_woman:{keywords:["female","girl","woman","human","information"],char:"💁",fitzpatrick_scale:!0,category:"people"},tipping_hand_man:{keywords:["male","boy","man","human","information"],char:"💁‍♂️",fitzpatrick_scale:!0,category:"people"},no_good_woman:{keywords:["female","girl","woman","nope"],char:"🙅",fitzpatrick_scale:!0,category:"people"},no_good_man:{keywords:["male","boy","man","nope"],char:"🙅‍♂️",fitzpatrick_scale:!0,category:"people"},ok_woman:{keywords:["women","girl","female","pink","human","woman"],char:"🙆",fitzpatrick_scale:!0,category:"people"},ok_man:{keywords:["men","boy","male","blue","human","man"],char:"🙆‍♂️",fitzpatrick_scale:!0,category:"people"},raising_hand_woman:{keywords:["female","girl","woman"],char:"🙋",fitzpatrick_scale:!0,category:"people"},raising_hand_man:{keywords:["male","boy","man"],char:"🙋‍♂️",fitzpatrick_scale:!0,category:"people"},pouting_woman:{keywords:["female","girl","woman"],char:"🙎",fitzpatrick_scale:!0,category:"people"},pouting_man:{keywords:["male","boy","man"],char:"🙎‍♂️",fitzpatrick_scale:!0,category:"people"},frowning_woman:{keywords:["female","girl","woman","sad","depressed","discouraged","unhappy"],char:"🙍",fitzpatrick_scale:!0,category:"people"},frowning_man:{keywords:["male","boy","man","sad","depressed","discouraged","unhappy"],char:"🙍‍♂️",fitzpatrick_scale:!0,category:"people"},haircut_woman:{keywords:["female","girl","woman"],char:"💇",fitzpatrick_scale:!0,category:"people"},haircut_man:{keywords:["male","boy","man"],char:"💇‍♂️",fitzpatrick_scale:!0,category:"people"},massage_woman:{keywords:["female","girl","woman","head"],char:"💆",fitzpatrick_scale:!0,category:"people"},massage_man:{keywords:["male","boy","man","head"],char:"💆‍♂️",fitzpatrick_scale:!0,category:"people"},woman_in_steamy_room:{keywords:["female","woman","spa","steamroom","sauna"],char:"🧖‍♀️",fitzpatrick_scale:!0,category:"people"},man_in_steamy_room:{keywords:["male","man","spa","steamroom","sauna"],char:"🧖‍♂️",fitzpatrick_scale:!0,category:"people"},couple_with_heart_woman_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"💑",fitzpatrick_scale:!1,category:"people"},couple_with_heart_woman_woman:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"👩‍❤️‍👩",fitzpatrick_scale:!1,category:"people"},couple_with_heart_man_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"👨‍❤️‍👨",fitzpatrick_scale:!1,category:"people"},couplekiss_man_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"💏",fitzpatrick_scale:!1,category:"people"},couplekiss_woman_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"👩‍❤️‍💋‍👩",fitzpatrick_scale:!1,category:"people"},couplekiss_man_man:{keywords:["pair","valentines","love","like","dating","marriage"],char:"👨‍❤️‍💋‍👨",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy:{keywords:["home","parents","child","mom","dad","father","mother","people","human"],char:"👪",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl:{keywords:["home","parents","people","human","child"],char:"👨‍👩‍👧",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_man_man_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_boy_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_boy:{keywords:["home","parent","people","human","child"],char:"👩‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_girl:{keywords:["home","parent","people","human","child"],char:"👩‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_girl_boy:{keywords:["home","parent","people","human","children"],char:"👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_boy_boy:{keywords:["home","parent","people","human","children"],char:"👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_girl_girl:{keywords:["home","parent","people","human","children"],char:"👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_man_boy:{keywords:["home","parent","people","human","child"],char:"👨‍👦",fitzpatrick_scale:!1,category:"people"},family_man_girl:{keywords:["home","parent","people","human","child"],char:"👨‍👧",fitzpatrick_scale:!1,category:"people"},family_man_girl_boy:{keywords:["home","parent","people","human","children"],char:"👨‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_boy_boy:{keywords:["home","parent","people","human","children"],char:"👨‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_girl_girl:{keywords:["home","parent","people","human","children"],char:"👨‍👧‍👧",fitzpatrick_scale:!1,category:"people"},yarn:{keywords:["ball","crochet","knit"],char:"🧶",fitzpatrick_scale:!1,category:"people"},thread:{keywords:["needle","sewing","spool","string"],char:"🧵",fitzpatrick_scale:!1,category:"people"},coat:{keywords:["jacket"],char:"🧥",fitzpatrick_scale:!1,category:"people"},labcoat:{keywords:["doctor","experiment","scientist","chemist"],char:"🥼",fitzpatrick_scale:!1,category:"people"},womans_clothes:{keywords:["fashion","shopping_bags","female"],char:"👚",fitzpatrick_scale:!1,category:"people"},tshirt:{keywords:["fashion","cloth","casual","shirt","tee"],char:"👕",fitzpatrick_scale:!1,category:"people"},jeans:{keywords:["fashion","shopping"],char:"👖",fitzpatrick_scale:!1,category:"people"},necktie:{keywords:["shirt","suitup","formal","fashion","cloth","business"],char:"👔",fitzpatrick_scale:!1,category:"people"},dress:{keywords:["clothes","fashion","shopping"],char:"👗",fitzpatrick_scale:!1,category:"people"},bikini:{keywords:["swimming","female","woman","girl","fashion","beach","summer"],char:"👙",fitzpatrick_scale:!1,category:"people"},kimono:{keywords:["dress","fashion","women","female","japanese"],char:"👘",fitzpatrick_scale:!1,category:"people"},lipstick:{keywords:["female","girl","fashion","woman"],char:"💄",fitzpatrick_scale:!1,category:"people"},kiss:{keywords:["face","lips","love","like","affection","valentines"],char:"💋",fitzpatrick_scale:!1,category:"people"},footprints:{keywords:["feet","tracking","walking","beach"],char:"👣",fitzpatrick_scale:!1,category:"people"},flat_shoe:{keywords:["ballet","slip-on","slipper"],char:"🥿",fitzpatrick_scale:!1,category:"people"},high_heel:{keywords:["fashion","shoes","female","pumps","stiletto"],char:"👠",fitzpatrick_scale:!1,category:"people"},sandal:{keywords:["shoes","fashion","flip flops"],char:"👡",fitzpatrick_scale:!1,category:"people"},boot:{keywords:["shoes","fashion"],char:"👢",fitzpatrick_scale:!1,category:"people"},mans_shoe:{keywords:["fashion","male"],char:"👞",fitzpatrick_scale:!1,category:"people"},athletic_shoe:{keywords:["shoes","sports","sneakers"],char:"👟",fitzpatrick_scale:!1,category:"people"},hiking_boot:{keywords:["backpacking","camping","hiking"],char:"🥾",fitzpatrick_scale:!1,category:"people"},socks:{keywords:["stockings","clothes"],char:"🧦",fitzpatrick_scale:!1,category:"people"},gloves:{keywords:["hands","winter","clothes"],char:"🧤",fitzpatrick_scale:!1,category:"people"},scarf:{keywords:["neck","winter","clothes"],char:"🧣",fitzpatrick_scale:!1,category:"people"},womans_hat:{keywords:["fashion","accessories","female","lady","spring"],char:"👒",fitzpatrick_scale:!1,category:"people"},tophat:{keywords:["magic","gentleman","classy","circus"],char:"🎩",fitzpatrick_scale:!1,category:"people"},billed_hat:{keywords:["cap","baseball"],char:"🧢",fitzpatrick_scale:!1,category:"people"},rescue_worker_helmet:{keywords:["construction","build"],char:"⛑",fitzpatrick_scale:!1,category:"people"},mortar_board:{keywords:["school","college","degree","university","graduation","cap","hat","legal","learn","education"],char:"🎓",fitzpatrick_scale:!1,category:"people"},crown:{keywords:["king","kod","leader","royalty","lord"],char:"👑",fitzpatrick_scale:!1,category:"people"},school_satchel:{keywords:["student","education","bag","backpack"],char:"🎒",fitzpatrick_scale:!1,category:"people"},luggage:{keywords:["packing","travel"],char:"🧳",fitzpatrick_scale:!1,category:"people"},pouch:{keywords:["bag","accessories","shopping"],char:"👝",fitzpatrick_scale:!1,category:"people"},purse:{keywords:["fashion","accessories","money","sales","shopping"],char:"👛",fitzpatrick_scale:!1,category:"people"},handbag:{keywords:["fashion","accessory","accessories","shopping"],char:"👜",fitzpatrick_scale:!1,category:"people"},briefcase:{keywords:["business","documents","work","law","legal","job","career"],char:"💼",fitzpatrick_scale:!1,category:"people"},eyeglasses:{keywords:["fashion","accessories","eyesight","nerdy","dork","geek"],char:"👓",fitzpatrick_scale:!1,category:"people"},dark_sunglasses:{keywords:["face","cool","accessories"],char:"🕶",fitzpatrick_scale:!1,category:"people"},goggles:{keywords:["eyes","protection","safety"],char:"🥽",fitzpatrick_scale:!1,category:"people"},ring:{keywords:["wedding","propose","marriage","valentines","diamond","fashion","jewelry","gem","engagement"],char:"💍",fitzpatrick_scale:!1,category:"people"},closed_umbrella:{keywords:["weather","rain","drizzle"],char:"🌂",fitzpatrick_scale:!1,category:"people"},dog:{keywords:["animal","friend","nature","woof","puppy","pet","faithful"],char:"🐶",fitzpatrick_scale:!1,category:"animals_and_nature"},cat:{keywords:["animal","meow","nature","pet","kitten"],char:"🐱",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse:{keywords:["animal","nature","cheese_wedge","rodent"],char:"🐭",fitzpatrick_scale:!1,category:"animals_and_nature"},hamster:{keywords:["animal","nature"],char:"🐹",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit:{keywords:["animal","nature","pet","spring","magic","bunny"],char:"🐰",fitzpatrick_scale:!1,category:"animals_and_nature"},fox_face:{keywords:["animal","nature","face"],char:"🦊",fitzpatrick_scale:!1,category:"animals_and_nature"},bear:{keywords:["animal","nature","wild"],char:"🐻",fitzpatrick_scale:!1,category:"animals_and_nature"},panda_face:{keywords:["animal","nature","panda"],char:"🐼",fitzpatrick_scale:!1,category:"animals_and_nature"},koala:{keywords:["animal","nature"],char:"🐨",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger:{keywords:["animal","cat","danger","wild","nature","roar"],char:"🐯",fitzpatrick_scale:!1,category:"animals_and_nature"},lion:{keywords:["animal","nature"],char:"🦁",fitzpatrick_scale:!1,category:"animals_and_nature"},cow:{keywords:["beef","ox","animal","nature","moo","milk"],char:"🐮",fitzpatrick_scale:!1,category:"animals_and_nature"},pig:{keywords:["animal","oink","nature"],char:"🐷",fitzpatrick_scale:!1,category:"animals_and_nature"},pig_nose:{keywords:["animal","oink"],char:"🐽",fitzpatrick_scale:!1,category:"animals_and_nature"},frog:{keywords:["animal","nature","croak","toad"],char:"🐸",fitzpatrick_scale:!1,category:"animals_and_nature"},squid:{keywords:["animal","nature","ocean","sea"],char:"🦑",fitzpatrick_scale:!1,category:"animals_and_nature"},octopus:{keywords:["animal","creature","ocean","sea","nature","beach"],char:"🐙",fitzpatrick_scale:!1,category:"animals_and_nature"},shrimp:{keywords:["animal","ocean","nature","seafood"],char:"🦐",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey_face:{keywords:["animal","nature","circus"],char:"🐵",fitzpatrick_scale:!1,category:"animals_and_nature"},gorilla:{keywords:["animal","nature","circus"],char:"🦍",fitzpatrick_scale:!1,category:"animals_and_nature"},see_no_evil:{keywords:["monkey","animal","nature","haha"],char:"🙈",fitzpatrick_scale:!1,category:"animals_and_nature"},hear_no_evil:{keywords:["animal","monkey","nature"],char:"🙉",fitzpatrick_scale:!1,category:"animals_and_nature"},speak_no_evil:{keywords:["monkey","animal","nature","omg"],char:"🙊",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey:{keywords:["animal","nature","banana","circus"],char:"🐒",fitzpatrick_scale:!1,category:"animals_and_nature"},chicken:{keywords:["animal","cluck","nature","bird"],char:"🐔",fitzpatrick_scale:!1,category:"animals_and_nature"},penguin:{keywords:["animal","nature"],char:"🐧",fitzpatrick_scale:!1,category:"animals_and_nature"},bird:{keywords:["animal","nature","fly","tweet","spring"],char:"🐦",fitzpatrick_scale:!1,category:"animals_and_nature"},baby_chick:{keywords:["animal","chicken","bird"],char:"🐤",fitzpatrick_scale:!1,category:"animals_and_nature"},hatching_chick:{keywords:["animal","chicken","egg","born","baby","bird"],char:"🐣",fitzpatrick_scale:!1,category:"animals_and_nature"},hatched_chick:{keywords:["animal","chicken","baby","bird"],char:"🐥",fitzpatrick_scale:!1,category:"animals_and_nature"},duck:{keywords:["animal","nature","bird","mallard"],char:"🦆",fitzpatrick_scale:!1,category:"animals_and_nature"},eagle:{keywords:["animal","nature","bird"],char:"🦅",fitzpatrick_scale:!1,category:"animals_and_nature"},owl:{keywords:["animal","nature","bird","hoot"],char:"🦉",fitzpatrick_scale:!1,category:"animals_and_nature"},bat:{keywords:["animal","nature","blind","vampire"],char:"🦇",fitzpatrick_scale:!1,category:"animals_and_nature"},wolf:{keywords:["animal","nature","wild"],char:"🐺",fitzpatrick_scale:!1,category:"animals_and_nature"},boar:{keywords:["animal","nature"],char:"🐗",fitzpatrick_scale:!1,category:"animals_and_nature"},horse:{keywords:["animal","brown","nature"],char:"🐴",fitzpatrick_scale:!1,category:"animals_and_nature"},unicorn:{keywords:["animal","nature","mystical"],char:"🦄",fitzpatrick_scale:!1,category:"animals_and_nature"},honeybee:{keywords:["animal","insect","nature","bug","spring","honey"],char:"🐝",fitzpatrick_scale:!1,category:"animals_and_nature"},bug:{keywords:["animal","insect","nature","worm"],char:"🐛",fitzpatrick_scale:!1,category:"animals_and_nature"},butterfly:{keywords:["animal","insect","nature","caterpillar"],char:"🦋",fitzpatrick_scale:!1,category:"animals_and_nature"},snail:{keywords:["slow","animal","shell"],char:"🐌",fitzpatrick_scale:!1,category:"animals_and_nature"},beetle:{keywords:["animal","insect","nature","ladybug"],char:"🐞",fitzpatrick_scale:!1,category:"animals_and_nature"},ant:{keywords:["animal","insect","nature","bug"],char:"🐜",fitzpatrick_scale:!1,category:"animals_and_nature"},grasshopper:{keywords:["animal","cricket","chirp"],char:"🦗",fitzpatrick_scale:!1,category:"animals_and_nature"},spider:{keywords:["animal","arachnid"],char:"🕷",fitzpatrick_scale:!1,category:"animals_and_nature"},scorpion:{keywords:["animal","arachnid"],char:"🦂",fitzpatrick_scale:!1,category:"animals_and_nature"},crab:{keywords:["animal","crustacean"],char:"🦀",fitzpatrick_scale:!1,category:"animals_and_nature"},snake:{keywords:["animal","evil","nature","hiss","python"],char:"🐍",fitzpatrick_scale:!1,category:"animals_and_nature"},lizard:{keywords:["animal","nature","reptile"],char:"🦎",fitzpatrick_scale:!1,category:"animals_and_nature"},"t-rex":{keywords:["animal","nature","dinosaur","tyrannosaurus","extinct"],char:"🦖",fitzpatrick_scale:!1,category:"animals_and_nature"},sauropod:{keywords:["animal","nature","dinosaur","brachiosaurus","brontosaurus","diplodocus","extinct"],char:"🦕",fitzpatrick_scale:!1,category:"animals_and_nature"},turtle:{keywords:["animal","slow","nature","tortoise"],char:"🐢",fitzpatrick_scale:!1,category:"animals_and_nature"},tropical_fish:{keywords:["animal","swim","ocean","beach","nemo"],char:"🐠",fitzpatrick_scale:!1,category:"animals_and_nature"},fish:{keywords:["animal","food","nature"],char:"🐟",fitzpatrick_scale:!1,category:"animals_and_nature"},blowfish:{keywords:["animal","nature","food","sea","ocean"],char:"🐡",fitzpatrick_scale:!1,category:"animals_and_nature"},dolphin:{keywords:["animal","nature","fish","sea","ocean","flipper","fins","beach"],char:"🐬",fitzpatrick_scale:!1,category:"animals_and_nature"},shark:{keywords:["animal","nature","fish","sea","ocean","jaws","fins","beach"],char:"🦈",fitzpatrick_scale:!1,category:"animals_and_nature"},whale:{keywords:["animal","nature","sea","ocean"],char:"🐳",fitzpatrick_scale:!1,category:"animals_and_nature"},whale2:{keywords:["animal","nature","sea","ocean"],char:"🐋",fitzpatrick_scale:!1,category:"animals_and_nature"},crocodile:{keywords:["animal","nature","reptile","lizard","alligator"],char:"🐊",fitzpatrick_scale:!1,category:"animals_and_nature"},leopard:{keywords:["animal","nature"],char:"🐆",fitzpatrick_scale:!1,category:"animals_and_nature"},zebra:{keywords:["animal","nature","stripes","safari"],char:"🦓",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger2:{keywords:["animal","nature","roar"],char:"🐅",fitzpatrick_scale:!1,category:"animals_and_nature"},water_buffalo:{keywords:["animal","nature","ox","cow"],char:"🐃",fitzpatrick_scale:!1,category:"animals_and_nature"},ox:{keywords:["animal","cow","beef"],char:"🐂",fitzpatrick_scale:!1,category:"animals_and_nature"},cow2:{keywords:["beef","ox","animal","nature","moo","milk"],char:"🐄",fitzpatrick_scale:!1,category:"animals_and_nature"},deer:{keywords:["animal","nature","horns","venison"],char:"🦌",fitzpatrick_scale:!1,category:"animals_and_nature"},dromedary_camel:{keywords:["animal","hot","desert","hump"],char:"🐪",fitzpatrick_scale:!1,category:"animals_and_nature"},camel:{keywords:["animal","nature","hot","desert","hump"],char:"🐫",fitzpatrick_scale:!1,category:"animals_and_nature"},giraffe:{keywords:["animal","nature","spots","safari"],char:"🦒",fitzpatrick_scale:!1,category:"animals_and_nature"},elephant:{keywords:["animal","nature","nose","th","circus"],char:"🐘",fitzpatrick_scale:!1,category:"animals_and_nature"},rhinoceros:{keywords:["animal","nature","horn"],char:"🦏",fitzpatrick_scale:!1,category:"animals_and_nature"},goat:{keywords:["animal","nature"],char:"🐐",fitzpatrick_scale:!1,category:"animals_and_nature"},ram:{keywords:["animal","sheep","nature"],char:"🐏",fitzpatrick_scale:!1,category:"animals_and_nature"},sheep:{keywords:["animal","nature","wool","shipit"],char:"🐑",fitzpatrick_scale:!1,category:"animals_and_nature"},racehorse:{keywords:["animal","gamble","luck"],char:"🐎",fitzpatrick_scale:!1,category:"animals_and_nature"},pig2:{keywords:["animal","nature"],char:"🐖",fitzpatrick_scale:!1,category:"animals_and_nature"},rat:{keywords:["animal","mouse","rodent"],char:"🐀",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse2:{keywords:["animal","nature","rodent"],char:"🐁",fitzpatrick_scale:!1,category:"animals_and_nature"},rooster:{keywords:["animal","nature","chicken"],char:"🐓",fitzpatrick_scale:!1,category:"animals_and_nature"},turkey:{keywords:["animal","bird"],char:"🦃",fitzpatrick_scale:!1,category:"animals_and_nature"},dove:{keywords:["animal","bird"],char:"🕊",fitzpatrick_scale:!1,category:"animals_and_nature"},dog2:{keywords:["animal","nature","friend","doge","pet","faithful"],char:"🐕",fitzpatrick_scale:!1,category:"animals_and_nature"},poodle:{keywords:["dog","animal","101","nature","pet"],char:"🐩",fitzpatrick_scale:!1,category:"animals_and_nature"},cat2:{keywords:["animal","meow","pet","cats"],char:"🐈",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit2:{keywords:["animal","nature","pet","magic","spring"],char:"🐇",fitzpatrick_scale:!1,category:"animals_and_nature"},chipmunk:{keywords:["animal","nature","rodent","squirrel"],char:"🐿",fitzpatrick_scale:!1,category:"animals_and_nature"},hedgehog:{keywords:["animal","nature","spiny"],char:"🦔",fitzpatrick_scale:!1,category:"animals_and_nature"},raccoon:{keywords:["animal","nature"],char:"🦝",fitzpatrick_scale:!1,category:"animals_and_nature"},llama:{keywords:["animal","nature","alpaca"],char:"🦙",fitzpatrick_scale:!1,category:"animals_and_nature"},hippopotamus:{keywords:["animal","nature"],char:"🦛",fitzpatrick_scale:!1,category:"animals_and_nature"},kangaroo:{keywords:["animal","nature","australia","joey","hop","marsupial"],char:"🦘",fitzpatrick_scale:!1,category:"animals_and_nature"},badger:{keywords:["animal","nature","honey"],char:"🦡",fitzpatrick_scale:!1,category:"animals_and_nature"},swan:{keywords:["animal","nature","bird"],char:"🦢",fitzpatrick_scale:!1,category:"animals_and_nature"},peacock:{keywords:["animal","nature","peahen","bird"],char:"🦚",fitzpatrick_scale:!1,category:"animals_and_nature"},parrot:{keywords:["animal","nature","bird","pirate","talk"],char:"🦜",fitzpatrick_scale:!1,category:"animals_and_nature"},lobster:{keywords:["animal","nature","bisque","claws","seafood"],char:"🦞",fitzpatrick_scale:!1,category:"animals_and_nature"},mosquito:{keywords:["animal","nature","insect","malaria"],char:"🦟",fitzpatrick_scale:!1,category:"animals_and_nature"},paw_prints:{keywords:["animal","tracking","footprints","dog","cat","pet","feet"],char:"🐾",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon:{keywords:["animal","myth","nature","chinese","green"],char:"🐉",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon_face:{keywords:["animal","myth","nature","chinese","green"],char:"🐲",fitzpatrick_scale:!1,category:"animals_and_nature"},cactus:{keywords:["vegetable","plant","nature"],char:"🌵",fitzpatrick_scale:!1,category:"animals_and_nature"},christmas_tree:{keywords:["festival","vacation","december","xmas","celebration"],char:"🎄",fitzpatrick_scale:!1,category:"animals_and_nature"},evergreen_tree:{keywords:["plant","nature"],char:"🌲",fitzpatrick_scale:!1,category:"animals_and_nature"},deciduous_tree:{keywords:["plant","nature"],char:"🌳",fitzpatrick_scale:!1,category:"animals_and_nature"},palm_tree:{keywords:["plant","vegetable","nature","summer","beach","mojito","tropical"],char:"🌴",fitzpatrick_scale:!1,category:"animals_and_nature"},seedling:{keywords:["plant","nature","grass","lawn","spring"],char:"🌱",fitzpatrick_scale:!1,category:"animals_and_nature"},herb:{keywords:["vegetable","plant","medicine","weed","grass","lawn"],char:"🌿",fitzpatrick_scale:!1,category:"animals_and_nature"},shamrock:{keywords:["vegetable","plant","nature","irish","clover"],char:"☘",fitzpatrick_scale:!1,category:"animals_and_nature"},four_leaf_clover:{keywords:["vegetable","plant","nature","lucky","irish"],char:"🍀",fitzpatrick_scale:!1,category:"animals_and_nature"},bamboo:{keywords:["plant","nature","vegetable","panda","pine_decoration"],char:"🎍",fitzpatrick_scale:!1,category:"animals_and_nature"},tanabata_tree:{keywords:["plant","nature","branch","summer"],char:"🎋",fitzpatrick_scale:!1,category:"animals_and_nature"},leaves:{keywords:["nature","plant","tree","vegetable","grass","lawn","spring"],char:"🍃",fitzpatrick_scale:!1,category:"animals_and_nature"},fallen_leaf:{keywords:["nature","plant","vegetable","leaves"],char:"🍂",fitzpatrick_scale:!1,category:"animals_and_nature"},maple_leaf:{keywords:["nature","plant","vegetable","ca","fall"],char:"🍁",fitzpatrick_scale:!1,category:"animals_and_nature"},ear_of_rice:{keywords:["nature","plant"],char:"🌾",fitzpatrick_scale:!1,category:"animals_and_nature"},hibiscus:{keywords:["plant","vegetable","flowers","beach"],char:"🌺",fitzpatrick_scale:!1,category:"animals_and_nature"},sunflower:{keywords:["nature","plant","fall"],char:"🌻",fitzpatrick_scale:!1,category:"animals_and_nature"},rose:{keywords:["flowers","valentines","love","spring"],char:"🌹",fitzpatrick_scale:!1,category:"animals_and_nature"},wilted_flower:{keywords:["plant","nature","flower"],char:"🥀",fitzpatrick_scale:!1,category:"animals_and_nature"},tulip:{keywords:["flowers","plant","nature","summer","spring"],char:"🌷",fitzpatrick_scale:!1,category:"animals_and_nature"},blossom:{keywords:["nature","flowers","yellow"],char:"🌼",fitzpatrick_scale:!1,category:"animals_and_nature"},cherry_blossom:{keywords:["nature","plant","spring","flower"],char:"🌸",fitzpatrick_scale:!1,category:"animals_and_nature"},bouquet:{keywords:["flowers","nature","spring"],char:"💐",fitzpatrick_scale:!1,category:"animals_and_nature"},mushroom:{keywords:["plant","vegetable"],char:"🍄",fitzpatrick_scale:!1,category:"animals_and_nature"},chestnut:{keywords:["food","squirrel"],char:"🌰",fitzpatrick_scale:!1,category:"animals_and_nature"},jack_o_lantern:{keywords:["halloween","light","pumpkin","creepy","fall"],char:"🎃",fitzpatrick_scale:!1,category:"animals_and_nature"},shell:{keywords:["nature","sea","beach"],char:"🐚",fitzpatrick_scale:!1,category:"animals_and_nature"},spider_web:{keywords:["animal","insect","arachnid","silk"],char:"🕸",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_americas:{keywords:["globe","world","USA","international"],char:"🌎",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_africa:{keywords:["globe","world","international"],char:"🌍",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_asia:{keywords:["globe","world","east","international"],char:"🌏",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon:{keywords:["nature","yellow","twilight","planet","space","night","evening","sleep"],char:"🌕",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_gibbous_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep","waxing_gibbous_moon"],char:"🌖",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌗",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌘",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌑",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌒",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌓",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_gibbous_moon:{keywords:["nature","night","sky","gray","twilight","planet","space","evening","sleep"],char:"🌔",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌚",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌝",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌛",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌜",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_with_face:{keywords:["nature","morning","sky"],char:"🌞",fitzpatrick_scale:!1,category:"animals_and_nature"},crescent_moon:{keywords:["night","sleep","sky","evening","magic"],char:"🌙",fitzpatrick_scale:!1,category:"animals_and_nature"},star:{keywords:["night","yellow"],char:"⭐",fitzpatrick_scale:!1,category:"animals_and_nature"},star2:{keywords:["night","sparkle","awesome","good","magic"],char:"🌟",fitzpatrick_scale:!1,category:"animals_and_nature"},dizzy:{keywords:["star","sparkle","shoot","magic"],char:"💫",fitzpatrick_scale:!1,category:"animals_and_nature"},sparkles:{keywords:["stars","shine","shiny","cool","awesome","good","magic"],char:"✨",fitzpatrick_scale:!1,category:"animals_and_nature"},comet:{keywords:["space"],char:"☄",fitzpatrick_scale:!1,category:"animals_and_nature"},sunny:{keywords:["weather","nature","brightness","summer","beach","spring"],char:"☀️",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_small_cloud:{keywords:["weather"],char:"🌤",fitzpatrick_scale:!1,category:"animals_and_nature"},partly_sunny:{keywords:["weather","nature","cloudy","morning","fall","spring"],char:"⛅",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_large_cloud:{keywords:["weather"],char:"🌥",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_rain_cloud:{keywords:["weather"],char:"🌦",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud:{keywords:["weather","sky"],char:"☁️",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_rain:{keywords:["weather"],char:"🌧",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning_and_rain:{keywords:["weather","lightning"],char:"⛈",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning:{keywords:["weather","thunder"],char:"🌩",fitzpatrick_scale:!1,category:"animals_and_nature"},zap:{keywords:["thunder","weather","lightning bolt","fast"],char:"⚡",fitzpatrick_scale:!1,category:"animals_and_nature"},fire:{keywords:["hot","cook","flame"],char:"🔥",fitzpatrick_scale:!1,category:"animals_and_nature"},boom:{keywords:["bomb","explode","explosion","collision","blown"],char:"💥",fitzpatrick_scale:!1,category:"animals_and_nature"},snowflake:{keywords:["winter","season","cold","weather","christmas","xmas"],char:"❄️",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_snow:{keywords:["weather"],char:"🌨",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman:{keywords:["winter","season","cold","weather","christmas","xmas","frozen","without_snow"],char:"⛄",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman_with_snow:{keywords:["winter","season","cold","weather","christmas","xmas","frozen"],char:"☃",fitzpatrick_scale:!1,category:"animals_and_nature"},wind_face:{keywords:["gust","air"],char:"🌬",fitzpatrick_scale:!1,category:"animals_and_nature"},dash:{keywords:["wind","air","fast","shoo","fart","smoke","puff"],char:"💨",fitzpatrick_scale:!1,category:"animals_and_nature"},tornado:{keywords:["weather","cyclone","twister"],char:"🌪",fitzpatrick_scale:!1,category:"animals_and_nature"},fog:{keywords:["weather"],char:"🌫",fitzpatrick_scale:!1,category:"animals_and_nature"},open_umbrella:{keywords:["weather","spring"],char:"☂",fitzpatrick_scale:!1,category:"animals_and_nature"},umbrella:{keywords:["rainy","weather","spring"],char:"☔",fitzpatrick_scale:!1,category:"animals_and_nature"},droplet:{keywords:["water","drip","faucet","spring"],char:"💧",fitzpatrick_scale:!1,category:"animals_and_nature"},sweat_drops:{keywords:["water","drip","oops"],char:"💦",fitzpatrick_scale:!1,category:"animals_and_nature"},ocean:{keywords:["sea","water","wave","nature","tsunami","disaster"],char:"🌊",fitzpatrick_scale:!1,category:"animals_and_nature"},green_apple:{keywords:["fruit","nature"],char:"🍏",fitzpatrick_scale:!1,category:"food_and_drink"},apple:{keywords:["fruit","mac","school"],char:"🍎",fitzpatrick_scale:!1,category:"food_and_drink"},pear:{keywords:["fruit","nature","food"],char:"🍐",fitzpatrick_scale:!1,category:"food_and_drink"},tangerine:{keywords:["food","fruit","nature","orange"],char:"🍊",fitzpatrick_scale:!1,category:"food_and_drink"},lemon:{keywords:["fruit","nature"],char:"🍋",fitzpatrick_scale:!1,category:"food_and_drink"},banana:{keywords:["fruit","food","monkey"],char:"🍌",fitzpatrick_scale:!1,category:"food_and_drink"},watermelon:{keywords:["fruit","food","picnic","summer"],char:"🍉",fitzpatrick_scale:!1,category:"food_and_drink"},grapes:{keywords:["fruit","food","wine"],char:"🍇",fitzpatrick_scale:!1,category:"food_and_drink"},strawberry:{keywords:["fruit","food","nature"],char:"🍓",fitzpatrick_scale:!1,category:"food_and_drink"},melon:{keywords:["fruit","nature","food"],char:"🍈",fitzpatrick_scale:!1,category:"food_and_drink"},cherries:{keywords:["food","fruit"],char:"🍒",fitzpatrick_scale:!1,category:"food_and_drink"},peach:{keywords:["fruit","nature","food"],char:"🍑",fitzpatrick_scale:!1,category:"food_and_drink"},pineapple:{keywords:["fruit","nature","food"],char:"🍍",fitzpatrick_scale:!1,category:"food_and_drink"},coconut:{keywords:["fruit","nature","food","palm"],char:"🥥",fitzpatrick_scale:!1,category:"food_and_drink"},kiwi_fruit:{keywords:["fruit","food"],char:"🥝",fitzpatrick_scale:!1,category:"food_and_drink"},mango:{keywords:["fruit","food","tropical"],char:"🥭",fitzpatrick_scale:!1,category:"food_and_drink"},avocado:{keywords:["fruit","food"],char:"🥑",fitzpatrick_scale:!1,category:"food_and_drink"},broccoli:{keywords:["fruit","food","vegetable"],char:"🥦",fitzpatrick_scale:!1,category:"food_and_drink"},tomato:{keywords:["fruit","vegetable","nature","food"],char:"🍅",fitzpatrick_scale:!1,category:"food_and_drink"},eggplant:{keywords:["vegetable","nature","food","aubergine"],char:"🍆",fitzpatrick_scale:!1,category:"food_and_drink"},cucumber:{keywords:["fruit","food","pickle"],char:"🥒",fitzpatrick_scale:!1,category:"food_and_drink"},carrot:{keywords:["vegetable","food","orange"],char:"🥕",fitzpatrick_scale:!1,category:"food_and_drink"},hot_pepper:{keywords:["food","spicy","chilli","chili"],char:"🌶",fitzpatrick_scale:!1,category:"food_and_drink"},potato:{keywords:["food","tuber","vegatable","starch"],char:"🥔",fitzpatrick_scale:!1,category:"food_and_drink"},corn:{keywords:["food","vegetable","plant"],char:"🌽",fitzpatrick_scale:!1,category:"food_and_drink"},leafy_greens:{keywords:["food","vegetable","plant","bok choy","cabbage","kale","lettuce"],char:"🥬",fitzpatrick_scale:!1,category:"food_and_drink"},sweet_potato:{keywords:["food","nature"],char:"🍠",fitzpatrick_scale:!1,category:"food_and_drink"},peanuts:{keywords:["food","nut"],char:"🥜",fitzpatrick_scale:!1,category:"food_and_drink"},honey_pot:{keywords:["bees","sweet","kitchen"],char:"🍯",fitzpatrick_scale:!1,category:"food_and_drink"},croissant:{keywords:["food","bread","french"],char:"🥐",fitzpatrick_scale:!1,category:"food_and_drink"},bread:{keywords:["food","wheat","breakfast","toast"],char:"🍞",fitzpatrick_scale:!1,category:"food_and_drink"},baguette_bread:{keywords:["food","bread","french"],char:"🥖",fitzpatrick_scale:!1,category:"food_and_drink"},bagel:{keywords:["food","bread","bakery","schmear"],char:"🥯",fitzpatrick_scale:!1,category:"food_and_drink"},pretzel:{keywords:["food","bread","twisted"],char:"🥨",fitzpatrick_scale:!1,category:"food_and_drink"},cheese:{keywords:["food","chadder"],char:"🧀",fitzpatrick_scale:!1,category:"food_and_drink"},egg:{keywords:["food","chicken","breakfast"],char:"🥚",fitzpatrick_scale:!1,category:"food_and_drink"},bacon:{keywords:["food","breakfast","pork","pig","meat"],char:"🥓",fitzpatrick_scale:!1,category:"food_and_drink"},steak:{keywords:["food","cow","meat","cut","chop","lambchop","porkchop"],char:"🥩",fitzpatrick_scale:!1,category:"food_and_drink"},pancakes:{keywords:["food","breakfast","flapjacks","hotcakes"],char:"🥞",fitzpatrick_scale:!1,category:"food_and_drink"},poultry_leg:{keywords:["food","meat","drumstick","bird","chicken","turkey"],char:"🍗",fitzpatrick_scale:!1,category:"food_and_drink"},meat_on_bone:{keywords:["good","food","drumstick"],char:"🍖",fitzpatrick_scale:!1,category:"food_and_drink"},bone:{keywords:["skeleton"],char:"🦴",fitzpatrick_scale:!1,category:"food_and_drink"},fried_shrimp:{keywords:["food","animal","appetizer","summer"],char:"🍤",fitzpatrick_scale:!1,category:"food_and_drink"},fried_egg:{keywords:["food","breakfast","kitchen","egg"],char:"🍳",fitzpatrick_scale:!1,category:"food_and_drink"},hamburger:{keywords:["meat","fast food","beef","cheeseburger","mcdonalds","burger king"],char:"🍔",fitzpatrick_scale:!1,category:"food_and_drink"},fries:{keywords:["chips","snack","fast food"],char:"🍟",fitzpatrick_scale:!1,category:"food_and_drink"},stuffed_flatbread:{keywords:["food","flatbread","stuffed","gyro"],char:"🥙",fitzpatrick_scale:!1,category:"food_and_drink"},hotdog:{keywords:["food","frankfurter"],char:"🌭",fitzpatrick_scale:!1,category:"food_and_drink"},pizza:{keywords:["food","party"],char:"🍕",fitzpatrick_scale:!1,category:"food_and_drink"},sandwich:{keywords:["food","lunch","bread"],char:"🥪",fitzpatrick_scale:!1,category:"food_and_drink"},canned_food:{keywords:["food","soup"],char:"🥫",fitzpatrick_scale:!1,category:"food_and_drink"},spaghetti:{keywords:["food","italian","noodle"],char:"🍝",fitzpatrick_scale:!1,category:"food_and_drink"},taco:{keywords:["food","mexican"],char:"🌮",fitzpatrick_scale:!1,category:"food_and_drink"},burrito:{keywords:["food","mexican"],char:"🌯",fitzpatrick_scale:!1,category:"food_and_drink"},green_salad:{keywords:["food","healthy","lettuce"],char:"🥗",fitzpatrick_scale:!1,category:"food_and_drink"},shallow_pan_of_food:{keywords:["food","cooking","casserole","paella"],char:"🥘",fitzpatrick_scale:!1,category:"food_and_drink"},ramen:{keywords:["food","japanese","noodle","chopsticks"],char:"🍜",fitzpatrick_scale:!1,category:"food_and_drink"},stew:{keywords:["food","meat","soup"],char:"🍲",fitzpatrick_scale:!1,category:"food_and_drink"},fish_cake:{keywords:["food","japan","sea","beach","narutomaki","pink","swirl","kamaboko","surimi","ramen"],char:"🍥",fitzpatrick_scale:!1,category:"food_and_drink"},fortune_cookie:{keywords:["food","prophecy"],char:"🥠",fitzpatrick_scale:!1,category:"food_and_drink"},sushi:{keywords:["food","fish","japanese","rice"],char:"🍣",fitzpatrick_scale:!1,category:"food_and_drink"},bento:{keywords:["food","japanese","box"],char:"🍱",fitzpatrick_scale:!1,category:"food_and_drink"},curry:{keywords:["food","spicy","hot","indian"],char:"🍛",fitzpatrick_scale:!1,category:"food_and_drink"},rice_ball:{keywords:["food","japanese"],char:"🍙",fitzpatrick_scale:!1,category:"food_and_drink"},rice:{keywords:["food","china","asian"],char:"🍚",fitzpatrick_scale:!1,category:"food_and_drink"},rice_cracker:{keywords:["food","japanese"],char:"🍘",fitzpatrick_scale:!1,category:"food_and_drink"},oden:{keywords:["food","japanese"],char:"🍢",fitzpatrick_scale:!1,category:"food_and_drink"},dango:{keywords:["food","dessert","sweet","japanese","barbecue","meat"],char:"🍡",fitzpatrick_scale:!1,category:"food_and_drink"},shaved_ice:{keywords:["hot","dessert","summer"],char:"🍧",fitzpatrick_scale:!1,category:"food_and_drink"},ice_cream:{keywords:["food","hot","dessert"],char:"🍨",fitzpatrick_scale:!1,category:"food_and_drink"},icecream:{keywords:["food","hot","dessert","summer"],char:"🍦",fitzpatrick_scale:!1,category:"food_and_drink"},pie:{keywords:["food","dessert","pastry"],char:"🥧",fitzpatrick_scale:!1,category:"food_and_drink"},cake:{keywords:["food","dessert"],char:"🍰",fitzpatrick_scale:!1,category:"food_and_drink"},cupcake:{keywords:["food","dessert","bakery","sweet"],char:"🧁",fitzpatrick_scale:!1,category:"food_and_drink"},moon_cake:{keywords:["food","autumn"],char:"🥮",fitzpatrick_scale:!1,category:"food_and_drink"},birthday:{keywords:["food","dessert","cake"],char:"🎂",fitzpatrick_scale:!1,category:"food_and_drink"},custard:{keywords:["dessert","food"],char:"🍮",fitzpatrick_scale:!1,category:"food_and_drink"},candy:{keywords:["snack","dessert","sweet","lolly"],char:"🍬",fitzpatrick_scale:!1,category:"food_and_drink"},lollipop:{keywords:["food","snack","candy","sweet"],char:"🍭",fitzpatrick_scale:!1,category:"food_and_drink"},chocolate_bar:{keywords:["food","snack","dessert","sweet"],char:"🍫",fitzpatrick_scale:!1,category:"food_and_drink"},popcorn:{keywords:["food","movie theater","films","snack"],char:"🍿",fitzpatrick_scale:!1,category:"food_and_drink"},dumpling:{keywords:["food","empanada","pierogi","potsticker"],char:"🥟",fitzpatrick_scale:!1,category:"food_and_drink"},doughnut:{keywords:["food","dessert","snack","sweet","donut"],char:"🍩",fitzpatrick_scale:!1,category:"food_and_drink"},cookie:{keywords:["food","snack","oreo","chocolate","sweet","dessert"],char:"🍪",fitzpatrick_scale:!1,category:"food_and_drink"},milk_glass:{keywords:["beverage","drink","cow"],char:"🥛",fitzpatrick_scale:!1,category:"food_and_drink"},beer:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"🍺",fitzpatrick_scale:!1,category:"food_and_drink"},beers:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"🍻",fitzpatrick_scale:!1,category:"food_and_drink"},clinking_glasses:{keywords:["beverage","drink","party","alcohol","celebrate","cheers","wine","champagne","toast"],char:"🥂",fitzpatrick_scale:!1,category:"food_and_drink"},wine_glass:{keywords:["drink","beverage","drunk","alcohol","booze"],char:"🍷",fitzpatrick_scale:!1,category:"food_and_drink"},tumbler_glass:{keywords:["drink","beverage","drunk","alcohol","liquor","booze","bourbon","scotch","whisky","glass","shot"],char:"🥃",fitzpatrick_scale:!1,category:"food_and_drink"},cocktail:{keywords:["drink","drunk","alcohol","beverage","booze","mojito"],char:"🍸",fitzpatrick_scale:!1,category:"food_and_drink"},tropical_drink:{keywords:["beverage","cocktail","summer","beach","alcohol","booze","mojito"],char:"🍹",fitzpatrick_scale:!1,category:"food_and_drink"},champagne:{keywords:["drink","wine","bottle","celebration"],char:"🍾",fitzpatrick_scale:!1,category:"food_and_drink"},sake:{keywords:["wine","drink","drunk","beverage","japanese","alcohol","booze"],char:"🍶",fitzpatrick_scale:!1,category:"food_and_drink"},tea:{keywords:["drink","bowl","breakfast","green","british"],char:"🍵",fitzpatrick_scale:!1,category:"food_and_drink"},cup_with_straw:{keywords:["drink","soda"],char:"🥤",fitzpatrick_scale:!1,category:"food_and_drink"},coffee:{keywords:["beverage","caffeine","latte","espresso"],char:"☕",fitzpatrick_scale:!1,category:"food_and_drink"},baby_bottle:{keywords:["food","container","milk"],char:"🍼",fitzpatrick_scale:!1,category:"food_and_drink"},salt:{keywords:["condiment","shaker"],char:"🧂",fitzpatrick_scale:!1,category:"food_and_drink"},spoon:{keywords:["cutlery","kitchen","tableware"],char:"🥄",fitzpatrick_scale:!1,category:"food_and_drink"},fork_and_knife:{keywords:["cutlery","kitchen"],char:"🍴",fitzpatrick_scale:!1,category:"food_and_drink"},plate_with_cutlery:{keywords:["food","eat","meal","lunch","dinner","restaurant"],char:"🍽",fitzpatrick_scale:!1,category:"food_and_drink"},bowl_with_spoon:{keywords:["food","breakfast","cereal","oatmeal","porridge"],char:"🥣",fitzpatrick_scale:!1,category:"food_and_drink"},takeout_box:{keywords:["food","leftovers"],char:"🥡",fitzpatrick_scale:!1,category:"food_and_drink"},chopsticks:{keywords:["food"],char:"🥢",fitzpatrick_scale:!1,category:"food_and_drink"},soccer:{keywords:["sports","football"],char:"⚽",fitzpatrick_scale:!1,category:"activity"},basketball:{keywords:["sports","balls","NBA"],char:"🏀",fitzpatrick_scale:!1,category:"activity"},football:{keywords:["sports","balls","NFL"],char:"🏈",fitzpatrick_scale:!1,category:"activity"},baseball:{keywords:["sports","balls"],char:"⚾",fitzpatrick_scale:!1,category:"activity"},softball:{keywords:["sports","balls"],char:"🥎",fitzpatrick_scale:!1,category:"activity"},tennis:{keywords:["sports","balls","green"],char:"🎾",fitzpatrick_scale:!1,category:"activity"},volleyball:{keywords:["sports","balls"],char:"🏐",fitzpatrick_scale:!1,category:"activity"},rugby_football:{keywords:["sports","team"],char:"🏉",fitzpatrick_scale:!1,category:"activity"},flying_disc:{keywords:["sports","frisbee","ultimate"],char:"🥏",fitzpatrick_scale:!1,category:"activity"},"8ball":{keywords:["pool","hobby","game","luck","magic"],char:"🎱",fitzpatrick_scale:!1,category:"activity"},golf:{keywords:["sports","business","flag","hole","summer"],char:"⛳",fitzpatrick_scale:!1,category:"activity"},golfing_woman:{keywords:["sports","business","woman","female"],char:"🏌️‍♀️",fitzpatrick_scale:!1,category:"activity"},golfing_man:{keywords:["sports","business"],char:"🏌",fitzpatrick_scale:!0,category:"activity"},ping_pong:{keywords:["sports","pingpong"],char:"🏓",fitzpatrick_scale:!1,category:"activity"},badminton:{keywords:["sports"],char:"🏸",fitzpatrick_scale:!1,category:"activity"},goal_net:{keywords:["sports"],char:"🥅",fitzpatrick_scale:!1,category:"activity"},ice_hockey:{keywords:["sports"],char:"🏒",fitzpatrick_scale:!1,category:"activity"},field_hockey:{keywords:["sports"],char:"🏑",fitzpatrick_scale:!1,category:"activity"},lacrosse:{keywords:["sports","ball","stick"],char:"🥍",fitzpatrick_scale:!1,category:"activity"},cricket:{keywords:["sports"],char:"🏏",fitzpatrick_scale:!1,category:"activity"},ski:{keywords:["sports","winter","cold","snow"],char:"🎿",fitzpatrick_scale:!1,category:"activity"},skier:{keywords:["sports","winter","snow"],char:"⛷",fitzpatrick_scale:!1,category:"activity"},snowboarder:{keywords:["sports","winter"],char:"🏂",fitzpatrick_scale:!0,category:"activity"},person_fencing:{keywords:["sports","fencing","sword"],char:"🤺",fitzpatrick_scale:!1,category:"activity"},women_wrestling:{keywords:["sports","wrestlers"],char:"🤼‍♀️",fitzpatrick_scale:!1,category:"activity"},men_wrestling:{keywords:["sports","wrestlers"],char:"🤼‍♂️",fitzpatrick_scale:!1,category:"activity"},woman_cartwheeling:{keywords:["gymnastics"],char:"🤸‍♀️",fitzpatrick_scale:!0,category:"activity"},man_cartwheeling:{keywords:["gymnastics"],char:"🤸‍♂️",fitzpatrick_scale:!0,category:"activity"},woman_playing_handball:{keywords:["sports"],char:"🤾‍♀️",fitzpatrick_scale:!0,category:"activity"},man_playing_handball:{keywords:["sports"],char:"🤾‍♂️",fitzpatrick_scale:!0,category:"activity"},ice_skate:{keywords:["sports"],char:"⛸",fitzpatrick_scale:!1,category:"activity"},curling_stone:{keywords:["sports"],char:"🥌",fitzpatrick_scale:!1,category:"activity"},skateboard:{keywords:["board"],char:"🛹",fitzpatrick_scale:!1,category:"activity"},sled:{keywords:["sleigh","luge","toboggan"],char:"🛷",fitzpatrick_scale:!1,category:"activity"},bow_and_arrow:{keywords:["sports"],char:"🏹",fitzpatrick_scale:!1,category:"activity"},fishing_pole_and_fish:{keywords:["food","hobby","summer"],char:"🎣",fitzpatrick_scale:!1,category:"activity"},boxing_glove:{keywords:["sports","fighting"],char:"🥊",fitzpatrick_scale:!1,category:"activity"},martial_arts_uniform:{keywords:["judo","karate","taekwondo"],char:"🥋",fitzpatrick_scale:!1,category:"activity"},rowing_woman:{keywords:["sports","hobby","water","ship","woman","female"],char:"🚣‍♀️",fitzpatrick_scale:!0,category:"activity"},rowing_man:{keywords:["sports","hobby","water","ship"],char:"🚣",fitzpatrick_scale:!0,category:"activity"},climbing_woman:{keywords:["sports","hobby","woman","female","rock"],char:"🧗‍♀️",fitzpatrick_scale:!0,category:"activity"},climbing_man:{keywords:["sports","hobby","man","male","rock"],char:"🧗‍♂️",fitzpatrick_scale:!0,category:"activity"},swimming_woman:{keywords:["sports","exercise","human","athlete","water","summer","woman","female"],char:"🏊‍♀️",fitzpatrick_scale:!0,category:"activity"},swimming_man:{keywords:["sports","exercise","human","athlete","water","summer"],char:"🏊",fitzpatrick_scale:!0,category:"activity"},woman_playing_water_polo:{keywords:["sports","pool"],char:"🤽‍♀️",fitzpatrick_scale:!0,category:"activity"},man_playing_water_polo:{keywords:["sports","pool"],char:"🤽‍♂️",fitzpatrick_scale:!0,category:"activity"},woman_in_lotus_position:{keywords:["woman","female","meditation","yoga","serenity","zen","mindfulness"],char:"🧘‍♀️",fitzpatrick_scale:!0,category:"activity"},man_in_lotus_position:{keywords:["man","male","meditation","yoga","serenity","zen","mindfulness"],char:"🧘‍♂️",fitzpatrick_scale:!0,category:"activity"},surfing_woman:{keywords:["sports","ocean","sea","summer","beach","woman","female"],char:"🏄‍♀️",fitzpatrick_scale:!0,category:"activity"},surfing_man:{keywords:["sports","ocean","sea","summer","beach"],char:"🏄",fitzpatrick_scale:!0,category:"activity"},bath:{keywords:["clean","shower","bathroom"],char:"🛀",fitzpatrick_scale:!0,category:"activity"},basketball_woman:{keywords:["sports","human","woman","female"],char:"⛹️‍♀️",fitzpatrick_scale:!0,category:"activity"},basketball_man:{keywords:["sports","human"],char:"⛹",fitzpatrick_scale:!0,category:"activity"},weight_lifting_woman:{keywords:["sports","training","exercise","woman","female"],char:"🏋️‍♀️",fitzpatrick_scale:!0,category:"activity"},weight_lifting_man:{keywords:["sports","training","exercise"],char:"🏋",fitzpatrick_scale:!0,category:"activity"},biking_woman:{keywords:["sports","bike","exercise","hipster","woman","female"],char:"🚴‍♀️",fitzpatrick_scale:!0,category:"activity"},biking_man:{keywords:["sports","bike","exercise","hipster"],char:"🚴",fitzpatrick_scale:!0,category:"activity"},mountain_biking_woman:{keywords:["transportation","sports","human","race","bike","woman","female"],char:"🚵‍♀️",fitzpatrick_scale:!0,category:"activity"},mountain_biking_man:{keywords:["transportation","sports","human","race","bike"],char:"🚵",fitzpatrick_scale:!0,category:"activity"},horse_racing:{keywords:["animal","betting","competition","gambling","luck"],char:"🏇",fitzpatrick_scale:!0,category:"activity"},business_suit_levitating:{keywords:["suit","business","levitate","hover","jump"],char:"🕴",fitzpatrick_scale:!0,category:"activity"},trophy:{keywords:["win","award","contest","place","ftw","ceremony"],char:"🏆",fitzpatrick_scale:!1,category:"activity"},running_shirt_with_sash:{keywords:["play","pageant"],char:"🎽",fitzpatrick_scale:!1,category:"activity"},medal_sports:{keywords:["award","winning"],char:"🏅",fitzpatrick_scale:!1,category:"activity"},medal_military:{keywords:["award","winning","army"],char:"🎖",fitzpatrick_scale:!1,category:"activity"},"1st_place_medal":{keywords:["award","winning","first"],char:"🥇",fitzpatrick_scale:!1,category:"activity"},"2nd_place_medal":{keywords:["award","second"],char:"🥈",fitzpatrick_scale:!1,category:"activity"},"3rd_place_medal":{keywords:["award","third"],char:"🥉",fitzpatrick_scale:!1,category:"activity"},reminder_ribbon:{keywords:["sports","cause","support","awareness"],char:"🎗",fitzpatrick_scale:!1,category:"activity"},rosette:{keywords:["flower","decoration","military"],char:"🏵",fitzpatrick_scale:!1,category:"activity"},ticket:{keywords:["event","concert","pass"],char:"🎫",fitzpatrick_scale:!1,category:"activity"},tickets:{keywords:["sports","concert","entrance"],char:"🎟",fitzpatrick_scale:!1,category:"activity"},performing_arts:{keywords:["acting","theater","drama"],char:"🎭",fitzpatrick_scale:!1,category:"activity"},art:{keywords:["design","paint","draw","colors"],char:"🎨",fitzpatrick_scale:!1,category:"activity"},circus_tent:{keywords:["festival","carnival","party"],char:"🎪",fitzpatrick_scale:!1,category:"activity"},woman_juggling:{keywords:["juggle","balance","skill","multitask"],char:"🤹‍♀️",fitzpatrick_scale:!0,category:"activity"},man_juggling:{keywords:["juggle","balance","skill","multitask"],char:"🤹‍♂️",fitzpatrick_scale:!0,category:"activity"},microphone:{keywords:["sound","music","PA","sing","talkshow"],char:"🎤",fitzpatrick_scale:!1,category:"activity"},headphones:{keywords:["music","score","gadgets"],char:"🎧",fitzpatrick_scale:!1,category:"activity"},musical_score:{keywords:["treble","clef","compose"],char:"🎼",fitzpatrick_scale:!1,category:"activity"},musical_keyboard:{keywords:["piano","instrument","compose"],char:"🎹",fitzpatrick_scale:!1,category:"activity"},drum:{keywords:["music","instrument","drumsticks","snare"],char:"🥁",fitzpatrick_scale:!1,category:"activity"},saxophone:{keywords:["music","instrument","jazz","blues"],char:"🎷",fitzpatrick_scale:!1,category:"activity"},trumpet:{keywords:["music","brass"],char:"🎺",fitzpatrick_scale:!1,category:"activity"},guitar:{keywords:["music","instrument"],char:"🎸",fitzpatrick_scale:!1,category:"activity"},violin:{keywords:["music","instrument","orchestra","symphony"],char:"🎻",fitzpatrick_scale:!1,category:"activity"},clapper:{keywords:["movie","film","record"],char:"🎬",fitzpatrick_scale:!1,category:"activity"},video_game:{keywords:["play","console","PS4","controller"],char:"🎮",fitzpatrick_scale:!1,category:"activity"},space_invader:{keywords:["game","arcade","play"],char:"👾",fitzpatrick_scale:!1,category:"activity"},dart:{keywords:["game","play","bar","target","bullseye"],char:"🎯",fitzpatrick_scale:!1,category:"activity"},game_die:{keywords:["dice","random","tabletop","play","luck"],char:"🎲",fitzpatrick_scale:!1,category:"activity"},chess_pawn:{keywords:["expendable"],char:"♟",fitzpatrick_scale:!1,category:"activity"},slot_machine:{keywords:["bet","gamble","vegas","fruit machine","luck","casino"],char:"🎰",fitzpatrick_scale:!1,category:"activity"},jigsaw:{keywords:["interlocking","puzzle","piece"],char:"🧩",fitzpatrick_scale:!1,category:"activity"},bowling:{keywords:["sports","fun","play"],char:"🎳",fitzpatrick_scale:!1,category:"activity"},red_car:{keywords:["red","transportation","vehicle"],char:"🚗",fitzpatrick_scale:!1,category:"travel_and_places"},taxi:{keywords:["uber","vehicle","cars","transportation"],char:"🚕",fitzpatrick_scale:!1,category:"travel_and_places"},blue_car:{keywords:["transportation","vehicle"],char:"🚙",fitzpatrick_scale:!1,category:"travel_and_places"},bus:{keywords:["car","vehicle","transportation"],char:"🚌",fitzpatrick_scale:!1,category:"travel_and_places"},trolleybus:{keywords:["bart","transportation","vehicle"],char:"🚎",fitzpatrick_scale:!1,category:"travel_and_places"},racing_car:{keywords:["sports","race","fast","formula","f1"],char:"🏎",fitzpatrick_scale:!1,category:"travel_and_places"},police_car:{keywords:["vehicle","cars","transportation","law","legal","enforcement"],char:"🚓",fitzpatrick_scale:!1,category:"travel_and_places"},ambulance:{keywords:["health","911","hospital"],char:"🚑",fitzpatrick_scale:!1,category:"travel_and_places"},fire_engine:{keywords:["transportation","cars","vehicle"],char:"🚒",fitzpatrick_scale:!1,category:"travel_and_places"},minibus:{keywords:["vehicle","car","transportation"],char:"🚐",fitzpatrick_scale:!1,category:"travel_and_places"},truck:{keywords:["cars","transportation"],char:"🚚",fitzpatrick_scale:!1,category:"travel_and_places"},articulated_lorry:{keywords:["vehicle","cars","transportation","express"],char:"🚛",fitzpatrick_scale:!1,category:"travel_and_places"},tractor:{keywords:["vehicle","car","farming","agriculture"],char:"🚜",fitzpatrick_scale:!1,category:"travel_and_places"},kick_scooter:{keywords:["vehicle","kick","razor"],char:"🛴",fitzpatrick_scale:!1,category:"travel_and_places"},motorcycle:{keywords:["race","sports","fast"],char:"🏍",fitzpatrick_scale:!1,category:"travel_and_places"},bike:{keywords:["sports","bicycle","exercise","hipster"],char:"🚲",fitzpatrick_scale:!1,category:"travel_and_places"},motor_scooter:{keywords:["vehicle","vespa","sasha"],char:"🛵",fitzpatrick_scale:!1,category:"travel_and_places"},rotating_light:{keywords:["police","ambulance","911","emergency","alert","error","pinged","law","legal"],char:"🚨",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_police_car:{keywords:["vehicle","law","legal","enforcement","911"],char:"🚔",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_bus:{keywords:["vehicle","transportation"],char:"🚍",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_automobile:{keywords:["car","vehicle","transportation"],char:"🚘",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_taxi:{keywords:["vehicle","cars","uber"],char:"🚖",fitzpatrick_scale:!1,category:"travel_and_places"},aerial_tramway:{keywords:["transportation","vehicle","ski"],char:"🚡",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_cableway:{keywords:["transportation","vehicle","ski"],char:"🚠",fitzpatrick_scale:!1,category:"travel_and_places"},suspension_railway:{keywords:["vehicle","transportation"],char:"🚟",fitzpatrick_scale:!1,category:"travel_and_places"},railway_car:{keywords:["transportation","vehicle"],char:"🚃",fitzpatrick_scale:!1,category:"travel_and_places"},train:{keywords:["transportation","vehicle","carriage","public","travel"],char:"🚋",fitzpatrick_scale:!1,category:"travel_and_places"},monorail:{keywords:["transportation","vehicle"],char:"🚝",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_side:{keywords:["transportation","vehicle"],char:"🚄",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_front:{keywords:["transportation","vehicle","speed","fast","public","travel"],char:"🚅",fitzpatrick_scale:!1,category:"travel_and_places"},light_rail:{keywords:["transportation","vehicle"],char:"🚈",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_railway:{keywords:["transportation","vehicle"],char:"🚞",fitzpatrick_scale:!1,category:"travel_and_places"},steam_locomotive:{keywords:["transportation","vehicle","train"],char:"🚂",fitzpatrick_scale:!1,category:"travel_and_places"},train2:{keywords:["transportation","vehicle"],char:"🚆",fitzpatrick_scale:!1,category:"travel_and_places"},metro:{keywords:["transportation","blue-square","mrt","underground","tube"],char:"🚇",fitzpatrick_scale:!1,category:"travel_and_places"},tram:{keywords:["transportation","vehicle"],char:"🚊",fitzpatrick_scale:!1,category:"travel_and_places"},station:{keywords:["transportation","vehicle","public"],char:"🚉",fitzpatrick_scale:!1,category:"travel_and_places"},flying_saucer:{keywords:["transportation","vehicle","ufo"],char:"🛸",fitzpatrick_scale:!1,category:"travel_and_places"},helicopter:{keywords:["transportation","vehicle","fly"],char:"🚁",fitzpatrick_scale:!1,category:"travel_and_places"},small_airplane:{keywords:["flight","transportation","fly","vehicle"],char:"🛩",fitzpatrick_scale:!1,category:"travel_and_places"},airplane:{keywords:["vehicle","transportation","flight","fly"],char:"✈️",fitzpatrick_scale:!1,category:"travel_and_places"},flight_departure:{keywords:["airport","flight","landing"],char:"🛫",fitzpatrick_scale:!1,category:"travel_and_places"},flight_arrival:{keywords:["airport","flight","boarding"],char:"🛬",fitzpatrick_scale:!1,category:"travel_and_places"},sailboat:{keywords:["ship","summer","transportation","water","sailing"],char:"⛵",fitzpatrick_scale:!1,category:"travel_and_places"},motor_boat:{keywords:["ship"],char:"🛥",fitzpatrick_scale:!1,category:"travel_and_places"},speedboat:{keywords:["ship","transportation","vehicle","summer"],char:"🚤",fitzpatrick_scale:!1,category:"travel_and_places"},ferry:{keywords:["boat","ship","yacht"],char:"⛴",fitzpatrick_scale:!1,category:"travel_and_places"},passenger_ship:{keywords:["yacht","cruise","ferry"],char:"🛳",fitzpatrick_scale:!1,category:"travel_and_places"},rocket:{keywords:["launch","ship","staffmode","NASA","outer space","outer_space","fly"],char:"🚀",fitzpatrick_scale:!1,category:"travel_and_places"},artificial_satellite:{keywords:["communication","gps","orbit","spaceflight","NASA","ISS"],char:"🛰",fitzpatrick_scale:!1,category:"travel_and_places"},seat:{keywords:["sit","airplane","transport","bus","flight","fly"],char:"💺",fitzpatrick_scale:!1,category:"travel_and_places"},canoe:{keywords:["boat","paddle","water","ship"],char:"🛶",fitzpatrick_scale:!1,category:"travel_and_places"},anchor:{keywords:["ship","ferry","sea","boat"],char:"⚓",fitzpatrick_scale:!1,category:"travel_and_places"},construction:{keywords:["wip","progress","caution","warning"],char:"🚧",fitzpatrick_scale:!1,category:"travel_and_places"},fuelpump:{keywords:["gas station","petroleum"],char:"⛽",fitzpatrick_scale:!1,category:"travel_and_places"},busstop:{keywords:["transportation","wait"],char:"🚏",fitzpatrick_scale:!1,category:"travel_and_places"},vertical_traffic_light:{keywords:["transportation","driving"],char:"🚦",fitzpatrick_scale:!1,category:"travel_and_places"},traffic_light:{keywords:["transportation","signal"],char:"🚥",fitzpatrick_scale:!1,category:"travel_and_places"},checkered_flag:{keywords:["contest","finishline","race","gokart"],char:"🏁",fitzpatrick_scale:!1,category:"travel_and_places"},ship:{keywords:["transportation","titanic","deploy"],char:"🚢",fitzpatrick_scale:!1,category:"travel_and_places"},ferris_wheel:{keywords:["photo","carnival","londoneye"],char:"🎡",fitzpatrick_scale:!1,category:"travel_and_places"},roller_coaster:{keywords:["carnival","playground","photo","fun"],char:"🎢",fitzpatrick_scale:!1,category:"travel_and_places"},carousel_horse:{keywords:["photo","carnival"],char:"🎠",fitzpatrick_scale:!1,category:"travel_and_places"},building_construction:{keywords:["wip","working","progress"],char:"🏗",fitzpatrick_scale:!1,category:"travel_and_places"},foggy:{keywords:["photo","mountain"],char:"🌁",fitzpatrick_scale:!1,category:"travel_and_places"},tokyo_tower:{keywords:["photo","japanese"],char:"🗼",fitzpatrick_scale:!1,category:"travel_and_places"},factory:{keywords:["building","industry","pollution","smoke"],char:"🏭",fitzpatrick_scale:!1,category:"travel_and_places"},fountain:{keywords:["photo","summer","water","fresh"],char:"⛲",fitzpatrick_scale:!1,category:"travel_and_places"},rice_scene:{keywords:["photo","japan","asia","tsukimi"],char:"🎑",fitzpatrick_scale:!1,category:"travel_and_places"},mountain:{keywords:["photo","nature","environment"],char:"⛰",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_snow:{keywords:["photo","nature","environment","winter","cold"],char:"🏔",fitzpatrick_scale:!1,category:"travel_and_places"},mount_fuji:{keywords:["photo","mountain","nature","japanese"],char:"🗻",fitzpatrick_scale:!1,category:"travel_and_places"},volcano:{keywords:["photo","nature","disaster"],char:"🌋",fitzpatrick_scale:!1,category:"travel_and_places"},japan:{keywords:["nation","country","japanese","asia"],char:"🗾",fitzpatrick_scale:!1,category:"travel_and_places"},camping:{keywords:["photo","outdoors","tent"],char:"🏕",fitzpatrick_scale:!1,category:"travel_and_places"},tent:{keywords:["photo","camping","outdoors"],char:"⛺",fitzpatrick_scale:!1,category:"travel_and_places"},national_park:{keywords:["photo","environment","nature"],char:"🏞",fitzpatrick_scale:!1,category:"travel_and_places"},motorway:{keywords:["road","cupertino","interstate","highway"],char:"🛣",fitzpatrick_scale:!1,category:"travel_and_places"},railway_track:{keywords:["train","transportation"],char:"🛤",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise:{keywords:["morning","view","vacation","photo"],char:"🌅",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise_over_mountains:{keywords:["view","vacation","photo"],char:"🌄",fitzpatrick_scale:!1,category:"travel_and_places"},desert:{keywords:["photo","warm","saharah"],char:"🏜",fitzpatrick_scale:!1,category:"travel_and_places"},beach_umbrella:{keywords:["weather","summer","sunny","sand","mojito"],char:"🏖",fitzpatrick_scale:!1,category:"travel_and_places"},desert_island:{keywords:["photo","tropical","mojito"],char:"🏝",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunrise:{keywords:["photo","good morning","dawn"],char:"🌇",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunset:{keywords:["photo","evening","sky","buildings"],char:"🌆",fitzpatrick_scale:!1,category:"travel_and_places"},cityscape:{keywords:["photo","night life","urban"],char:"🏙",fitzpatrick_scale:!1,category:"travel_and_places"},night_with_stars:{keywords:["evening","city","downtown"],char:"🌃",fitzpatrick_scale:!1,category:"travel_and_places"},bridge_at_night:{keywords:["photo","sanfrancisco"],char:"🌉",fitzpatrick_scale:!1,category:"travel_and_places"},milky_way:{keywords:["photo","space","stars"],char:"🌌",fitzpatrick_scale:!1,category:"travel_and_places"},stars:{keywords:["night","photo"],char:"🌠",fitzpatrick_scale:!1,category:"travel_and_places"},sparkler:{keywords:["stars","night","shine"],char:"🎇",fitzpatrick_scale:!1,category:"travel_and_places"},fireworks:{keywords:["photo","festival","carnival","congratulations"],char:"🎆",fitzpatrick_scale:!1,category:"travel_and_places"},rainbow:{keywords:["nature","happy","unicorn_face","photo","sky","spring"],char:"🌈",fitzpatrick_scale:!1,category:"travel_and_places"},houses:{keywords:["buildings","photo"],char:"🏘",fitzpatrick_scale:!1,category:"travel_and_places"},european_castle:{keywords:["building","royalty","history"],char:"🏰",fitzpatrick_scale:!1,category:"travel_and_places"},japanese_castle:{keywords:["photo","building"],char:"🏯",fitzpatrick_scale:!1,category:"travel_and_places"},stadium:{keywords:["photo","place","sports","concert","venue"],char:"🏟",fitzpatrick_scale:!1,category:"travel_and_places"},statue_of_liberty:{keywords:["american","newyork"],char:"🗽",fitzpatrick_scale:!1,category:"travel_and_places"},house:{keywords:["building","home"],char:"🏠",fitzpatrick_scale:!1,category:"travel_and_places"},house_with_garden:{keywords:["home","plant","nature"],char:"🏡",fitzpatrick_scale:!1,category:"travel_and_places"},derelict_house:{keywords:["abandon","evict","broken","building"],char:"🏚",fitzpatrick_scale:!1,category:"travel_and_places"},office:{keywords:["building","bureau","work"],char:"🏢",fitzpatrick_scale:!1,category:"travel_and_places"},department_store:{keywords:["building","shopping","mall"],char:"🏬",fitzpatrick_scale:!1,category:"travel_and_places"},post_office:{keywords:["building","envelope","communication"],char:"🏣",fitzpatrick_scale:!1,category:"travel_and_places"},european_post_office:{keywords:["building","email"],char:"🏤",fitzpatrick_scale:!1,category:"travel_and_places"},hospital:{keywords:["building","health","surgery","doctor"],char:"🏥",fitzpatrick_scale:!1,category:"travel_and_places"},bank:{keywords:["building","money","sales","cash","business","enterprise"],char:"🏦",fitzpatrick_scale:!1,category:"travel_and_places"},hotel:{keywords:["building","accomodation","checkin"],char:"🏨",fitzpatrick_scale:!1,category:"travel_and_places"},convenience_store:{keywords:["building","shopping","groceries"],char:"🏪",fitzpatrick_scale:!1,category:"travel_and_places"},school:{keywords:["building","student","education","learn","teach"],char:"🏫",fitzpatrick_scale:!1,category:"travel_and_places"},love_hotel:{keywords:["like","affection","dating"],char:"🏩",fitzpatrick_scale:!1,category:"travel_and_places"},wedding:{keywords:["love","like","affection","couple","marriage","bride","groom"],char:"💒",fitzpatrick_scale:!1,category:"travel_and_places"},classical_building:{keywords:["art","culture","history"],char:"🏛",fitzpatrick_scale:!1,category:"travel_and_places"},church:{keywords:["building","religion","christ"],char:"⛪",fitzpatrick_scale:!1,category:"travel_and_places"},mosque:{keywords:["islam","worship","minaret"],char:"🕌",fitzpatrick_scale:!1,category:"travel_and_places"},synagogue:{keywords:["judaism","worship","temple","jewish"],char:"🕍",fitzpatrick_scale:!1,category:"travel_and_places"},kaaba:{keywords:["mecca","mosque","islam"],char:"🕋",fitzpatrick_scale:!1,category:"travel_and_places"},shinto_shrine:{keywords:["temple","japan","kyoto"],char:"⛩",fitzpatrick_scale:!1,category:"travel_and_places"},watch:{keywords:["time","accessories"],char:"⌚",fitzpatrick_scale:!1,category:"objects"},iphone:{keywords:["technology","apple","gadgets","dial"],char:"📱",fitzpatrick_scale:!1,category:"objects"},calling:{keywords:["iphone","incoming"],char:"📲",fitzpatrick_scale:!1,category:"objects"},computer:{keywords:["technology","laptop","screen","display","monitor"],char:"💻",fitzpatrick_scale:!1,category:"objects"},keyboard:{keywords:["technology","computer","type","input","text"],char:"⌨",fitzpatrick_scale:!1,category:"objects"},desktop_computer:{keywords:["technology","computing","screen"],char:"🖥",fitzpatrick_scale:!1,category:"objects"},printer:{keywords:["paper","ink"],char:"🖨",fitzpatrick_scale:!1,category:"objects"},computer_mouse:{keywords:["click"],char:"🖱",fitzpatrick_scale:!1,category:"objects"},trackball:{keywords:["technology","trackpad"],char:"🖲",fitzpatrick_scale:!1,category:"objects"},joystick:{keywords:["game","play"],char:"🕹",fitzpatrick_scale:!1,category:"objects"},clamp:{keywords:["tool"],char:"🗜",fitzpatrick_scale:!1,category:"objects"},minidisc:{keywords:["technology","record","data","disk","90s"],char:"💽",fitzpatrick_scale:!1,category:"objects"},floppy_disk:{keywords:["oldschool","technology","save","90s","80s"],char:"💾",fitzpatrick_scale:!1,category:"objects"},cd:{keywords:["technology","dvd","disk","disc","90s"],char:"💿",fitzpatrick_scale:!1,category:"objects"},dvd:{keywords:["cd","disk","disc"],char:"📀",fitzpatrick_scale:!1,category:"objects"},vhs:{keywords:["record","video","oldschool","90s","80s"],char:"📼",fitzpatrick_scale:!1,category:"objects"},camera:{keywords:["gadgets","photography"],char:"📷",fitzpatrick_scale:!1,category:"objects"},camera_flash:{keywords:["photography","gadgets"],char:"📸",fitzpatrick_scale:!1,category:"objects"},video_camera:{keywords:["film","record"],char:"📹",fitzpatrick_scale:!1,category:"objects"},movie_camera:{keywords:["film","record"],char:"🎥",fitzpatrick_scale:!1,category:"objects"},film_projector:{keywords:["video","tape","record","movie"],char:"📽",fitzpatrick_scale:!1,category:"objects"},film_strip:{keywords:["movie"],char:"🎞",fitzpatrick_scale:!1,category:"objects"},telephone_receiver:{keywords:["technology","communication","dial"],char:"📞",fitzpatrick_scale:!1,category:"objects"},phone:{keywords:["technology","communication","dial","telephone"],char:"☎️",fitzpatrick_scale:!1,category:"objects"},pager:{keywords:["bbcall","oldschool","90s"],char:"📟",fitzpatrick_scale:!1,category:"objects"},fax:{keywords:["communication","technology"],char:"📠",fitzpatrick_scale:!1,category:"objects"},tv:{keywords:["technology","program","oldschool","show","television"],char:"📺",fitzpatrick_scale:!1,category:"objects"},radio:{keywords:["communication","music","podcast","program"],char:"📻",fitzpatrick_scale:!1,category:"objects"},studio_microphone:{keywords:["sing","recording","artist","talkshow"],char:"🎙",fitzpatrick_scale:!1,category:"objects"},level_slider:{keywords:["scale"],char:"🎚",fitzpatrick_scale:!1,category:"objects"},control_knobs:{keywords:["dial"],char:"🎛",fitzpatrick_scale:!1,category:"objects"},compass:{keywords:["magnetic","navigation","orienteering"],char:"🧭",fitzpatrick_scale:!1,category:"objects"},stopwatch:{keywords:["time","deadline"],char:"⏱",fitzpatrick_scale:!1,category:"objects"},timer_clock:{keywords:["alarm"],char:"⏲",fitzpatrick_scale:!1,category:"objects"},alarm_clock:{keywords:["time","wake"],char:"⏰",fitzpatrick_scale:!1,category:"objects"},mantelpiece_clock:{keywords:["time"],char:"🕰",fitzpatrick_scale:!1,category:"objects"},hourglass_flowing_sand:{keywords:["oldschool","time","countdown"],char:"⏳",fitzpatrick_scale:!1,category:"objects"},hourglass:{keywords:["time","clock","oldschool","limit","exam","quiz","test"],char:"⌛",fitzpatrick_scale:!1,category:"objects"},satellite:{keywords:["communication","future","radio","space"],char:"📡",fitzpatrick_scale:!1,category:"objects"},battery:{keywords:["power","energy","sustain"],char:"🔋",fitzpatrick_scale:!1,category:"objects"},electric_plug:{keywords:["charger","power"],char:"🔌",fitzpatrick_scale:!1,category:"objects"},bulb:{keywords:["light","electricity","idea"],char:"💡",fitzpatrick_scale:!1,category:"objects"},flashlight:{keywords:["dark","camping","sight","night"],char:"🔦",fitzpatrick_scale:!1,category:"objects"},candle:{keywords:["fire","wax"],char:"🕯",fitzpatrick_scale:!1,category:"objects"},fire_extinguisher:{keywords:["quench"],char:"🧯",fitzpatrick_scale:!1,category:"objects"},wastebasket:{keywords:["bin","trash","rubbish","garbage","toss"],char:"🗑",fitzpatrick_scale:!1,category:"objects"},oil_drum:{keywords:["barrell"],char:"🛢",fitzpatrick_scale:!1,category:"objects"},money_with_wings:{keywords:["dollar","bills","payment","sale"],char:"💸",fitzpatrick_scale:!1,category:"objects"},dollar:{keywords:["money","sales","bill","currency"],char:"💵",fitzpatrick_scale:!1,category:"objects"},yen:{keywords:["money","sales","japanese","dollar","currency"],char:"💴",fitzpatrick_scale:!1,category:"objects"},euro:{keywords:["money","sales","dollar","currency"],char:"💶",fitzpatrick_scale:!1,category:"objects"},pound:{keywords:["british","sterling","money","sales","bills","uk","england","currency"],char:"💷",fitzpatrick_scale:!1,category:"objects"},moneybag:{keywords:["dollar","payment","coins","sale"],char:"💰",fitzpatrick_scale:!1,category:"objects"},credit_card:{keywords:["money","sales","dollar","bill","payment","shopping"],char:"💳",fitzpatrick_scale:!1,category:"objects"},gem:{keywords:["blue","ruby","diamond","jewelry"],char:"💎",fitzpatrick_scale:!1,category:"objects"},balance_scale:{keywords:["law","fairness","weight"],char:"⚖",fitzpatrick_scale:!1,category:"objects"},toolbox:{keywords:["tools","diy","fix","maintainer","mechanic"],char:"🧰",fitzpatrick_scale:!1,category:"objects"},wrench:{keywords:["tools","diy","ikea","fix","maintainer"],char:"🔧",fitzpatrick_scale:!1,category:"objects"},hammer:{keywords:["tools","build","create"],char:"🔨",fitzpatrick_scale:!1,category:"objects"},hammer_and_pick:{keywords:["tools","build","create"],char:"⚒",fitzpatrick_scale:!1,category:"objects"},hammer_and_wrench:{keywords:["tools","build","create"],char:"🛠",fitzpatrick_scale:!1,category:"objects"},pick:{keywords:["tools","dig"],char:"⛏",fitzpatrick_scale:!1,category:"objects"},nut_and_bolt:{keywords:["handy","tools","fix"],char:"🔩",fitzpatrick_scale:!1,category:"objects"},gear:{keywords:["cog"],char:"⚙",fitzpatrick_scale:!1,category:"objects"},brick:{keywords:["bricks"],char:"🧱",fitzpatrick_scale:!1,category:"objects"},chains:{keywords:["lock","arrest"],char:"⛓",fitzpatrick_scale:!1,category:"objects"},magnet:{keywords:["attraction","magnetic"],char:"🧲",fitzpatrick_scale:!1,category:"objects"},gun:{keywords:["violence","weapon","pistol","revolver"],char:"🔫",fitzpatrick_scale:!1,category:"objects"},bomb:{keywords:["boom","explode","explosion","terrorism"],char:"💣",fitzpatrick_scale:!1,category:"objects"},firecracker:{keywords:["dynamite","boom","explode","explosion","explosive"],char:"🧨",fitzpatrick_scale:!1,category:"objects"},hocho:{keywords:["knife","blade","cutlery","kitchen","weapon"],char:"🔪",fitzpatrick_scale:!1,category:"objects"},dagger:{keywords:["weapon"],char:"🗡",fitzpatrick_scale:!1,category:"objects"},crossed_swords:{keywords:["weapon"],char:"⚔",fitzpatrick_scale:!1,category:"objects"},shield:{keywords:["protection","security"],char:"🛡",fitzpatrick_scale:!1,category:"objects"},smoking:{keywords:["kills","tobacco","cigarette","joint","smoke"],char:"🚬",fitzpatrick_scale:!1,category:"objects"},skull_and_crossbones:{keywords:["poison","danger","deadly","scary","death","pirate","evil"],char:"☠",fitzpatrick_scale:!1,category:"objects"},coffin:{keywords:["vampire","dead","die","death","rip","graveyard","cemetery","casket","funeral","box"],char:"⚰",fitzpatrick_scale:!1,category:"objects"},funeral_urn:{keywords:["dead","die","death","rip","ashes"],char:"⚱",fitzpatrick_scale:!1,category:"objects"},amphora:{keywords:["vase","jar"],char:"🏺",fitzpatrick_scale:!1,category:"objects"},crystal_ball:{keywords:["disco","party","magic","circus","fortune_teller"],char:"🔮",fitzpatrick_scale:!1,category:"objects"},prayer_beads:{keywords:["dhikr","religious"],char:"📿",fitzpatrick_scale:!1,category:"objects"},nazar_amulet:{keywords:["bead","charm"],char:"🧿",fitzpatrick_scale:!1,category:"objects"},barber:{keywords:["hair","salon","style"],char:"💈",fitzpatrick_scale:!1,category:"objects"},alembic:{keywords:["distilling","science","experiment","chemistry"],char:"⚗",fitzpatrick_scale:!1,category:"objects"},telescope:{keywords:["stars","space","zoom","science","astronomy"],char:"🔭",fitzpatrick_scale:!1,category:"objects"},microscope:{keywords:["laboratory","experiment","zoomin","science","study"],char:"🔬",fitzpatrick_scale:!1,category:"objects"},hole:{keywords:["embarrassing"],char:"🕳",fitzpatrick_scale:!1,category:"objects"},pill:{keywords:["health","medicine","doctor","pharmacy","drug"],char:"💊",fitzpatrick_scale:!1,category:"objects"},syringe:{keywords:["health","hospital","drugs","blood","medicine","needle","doctor","nurse"],char:"💉",fitzpatrick_scale:!1,category:"objects"},dna:{keywords:["biologist","genetics","life"],char:"🧬",fitzpatrick_scale:!1,category:"objects"},microbe:{keywords:["amoeba","bacteria","germs"],char:"🦠",fitzpatrick_scale:!1,category:"objects"},petri_dish:{keywords:["bacteria","biology","culture","lab"],char:"🧫",fitzpatrick_scale:!1,category:"objects"},test_tube:{keywords:["chemistry","experiment","lab","science"],char:"🧪",fitzpatrick_scale:!1,category:"objects"},thermometer:{keywords:["weather","temperature","hot","cold"],char:"🌡",fitzpatrick_scale:!1,category:"objects"},broom:{keywords:["cleaning","sweeping","witch"],char:"🧹",fitzpatrick_scale:!1,category:"objects"},basket:{keywords:["laundry"],char:"🧺",fitzpatrick_scale:!1,category:"objects"},toilet_paper:{keywords:["roll"],char:"🧻",fitzpatrick_scale:!1,category:"objects"},label:{keywords:["sale","tag"],char:"🏷",fitzpatrick_scale:!1,category:"objects"},bookmark:{keywords:["favorite","label","save"],char:"🔖",fitzpatrick_scale:!1,category:"objects"},toilet:{keywords:["restroom","wc","washroom","bathroom","potty"],char:"🚽",fitzpatrick_scale:!1,category:"objects"},shower:{keywords:["clean","water","bathroom"],char:"🚿",fitzpatrick_scale:!1,category:"objects"},bathtub:{keywords:["clean","shower","bathroom"],char:"🛁",fitzpatrick_scale:!1,category:"objects"},soap:{keywords:["bar","bathing","cleaning","lather"],char:"🧼",fitzpatrick_scale:!1,category:"objects"},sponge:{keywords:["absorbing","cleaning","porous"],char:"🧽",fitzpatrick_scale:!1,category:"objects"},lotion_bottle:{keywords:["moisturizer","sunscreen"],char:"🧴",fitzpatrick_scale:!1,category:"objects"},key:{keywords:["lock","door","password"],char:"🔑",fitzpatrick_scale:!1,category:"objects"},old_key:{keywords:["lock","door","password"],char:"🗝",fitzpatrick_scale:!1,category:"objects"},couch_and_lamp:{keywords:["read","chill"],char:"🛋",fitzpatrick_scale:!1,category:"objects"},sleeping_bed:{keywords:["bed","rest"],char:"🛌",fitzpatrick_scale:!0,category:"objects"},bed:{keywords:["sleep","rest"],char:"🛏",fitzpatrick_scale:!1,category:"objects"},door:{keywords:["house","entry","exit"],char:"🚪",fitzpatrick_scale:!1,category:"objects"},bellhop_bell:{keywords:["service"],char:"🛎",fitzpatrick_scale:!1,category:"objects"},teddy_bear:{keywords:["plush","stuffed"],char:"🧸",fitzpatrick_scale:!1,category:"objects"},framed_picture:{keywords:["photography"],char:"🖼",fitzpatrick_scale:!1,category:"objects"},world_map:{keywords:["location","direction"],char:"🗺",fitzpatrick_scale:!1,category:"objects"},parasol_on_ground:{keywords:["weather","summer"],char:"⛱",fitzpatrick_scale:!1,category:"objects"},moyai:{keywords:["rock","easter island","moai"],char:"🗿",fitzpatrick_scale:!1,category:"objects"},shopping:{keywords:["mall","buy","purchase"],char:"🛍",fitzpatrick_scale:!1,category:"objects"},shopping_cart:{keywords:["trolley"],char:"🛒",fitzpatrick_scale:!1,category:"objects"},balloon:{keywords:["party","celebration","birthday","circus"],char:"🎈",fitzpatrick_scale:!1,category:"objects"},flags:{keywords:["fish","japanese","koinobori","carp","banner"],char:"🎏",fitzpatrick_scale:!1,category:"objects"},ribbon:{keywords:["decoration","pink","girl","bowtie"],char:"🎀",fitzpatrick_scale:!1,category:"objects"},gift:{keywords:["present","birthday","christmas","xmas"],char:"🎁",fitzpatrick_scale:!1,category:"objects"},confetti_ball:{keywords:["festival","party","birthday","circus"],char:"🎊",fitzpatrick_scale:!1,category:"objects"},tada:{keywords:["party","congratulations","birthday","magic","circus","celebration"],char:"🎉",fitzpatrick_scale:!1,category:"objects"},dolls:{keywords:["japanese","toy","kimono"],char:"🎎",fitzpatrick_scale:!1,category:"objects"},wind_chime:{keywords:["nature","ding","spring","bell"],char:"🎐",fitzpatrick_scale:!1,category:"objects"},crossed_flags:{keywords:["japanese","nation","country","border"],char:"🎌",fitzpatrick_scale:!1,category:"objects"},izakaya_lantern:{keywords:["light","paper","halloween","spooky"],char:"🏮",fitzpatrick_scale:!1,category:"objects"},red_envelope:{keywords:["gift"],char:"🧧",fitzpatrick_scale:!1,category:"objects"},email:{keywords:["letter","postal","inbox","communication"],char:"✉️",fitzpatrick_scale:!1,category:"objects"},envelope_with_arrow:{keywords:["email","communication"],char:"📩",fitzpatrick_scale:!1,category:"objects"},incoming_envelope:{keywords:["email","inbox"],char:"📨",fitzpatrick_scale:!1,category:"objects"},"e-mail":{keywords:["communication","inbox"],char:"📧",fitzpatrick_scale:!1,category:"objects"},love_letter:{keywords:["email","like","affection","envelope","valentines"],char:"💌",fitzpatrick_scale:!1,category:"objects"},postbox:{keywords:["email","letter","envelope"],char:"📮",fitzpatrick_scale:!1,category:"objects"},mailbox_closed:{keywords:["email","communication","inbox"],char:"📪",fitzpatrick_scale:!1,category:"objects"},mailbox:{keywords:["email","inbox","communication"],char:"📫",fitzpatrick_scale:!1,category:"objects"},mailbox_with_mail:{keywords:["email","inbox","communication"],char:"📬",fitzpatrick_scale:!1,category:"objects"},mailbox_with_no_mail:{keywords:["email","inbox"],char:"📭",fitzpatrick_scale:!1,category:"objects"},package:{keywords:["mail","gift","cardboard","box","moving"],char:"📦",fitzpatrick_scale:!1,category:"objects"},postal_horn:{keywords:["instrument","music"],char:"📯",fitzpatrick_scale:!1,category:"objects"},inbox_tray:{keywords:["email","documents"],char:"📥",fitzpatrick_scale:!1,category:"objects"},outbox_tray:{keywords:["inbox","email"],char:"📤",fitzpatrick_scale:!1,category:"objects"},scroll:{keywords:["documents","ancient","history","paper"],char:"📜",fitzpatrick_scale:!1,category:"objects"},page_with_curl:{keywords:["documents","office","paper"],char:"📃",fitzpatrick_scale:!1,category:"objects"},bookmark_tabs:{keywords:["favorite","save","order","tidy"],char:"📑",fitzpatrick_scale:!1,category:"objects"},receipt:{keywords:["accounting","expenses"],char:"🧾",fitzpatrick_scale:!1,category:"objects"},bar_chart:{keywords:["graph","presentation","stats"],char:"📊",fitzpatrick_scale:!1,category:"objects"},chart_with_upwards_trend:{keywords:["graph","presentation","stats","recovery","business","economics","money","sales","good","success"],char:"📈",fitzpatrick_scale:!1,category:"objects"},chart_with_downwards_trend:{keywords:["graph","presentation","stats","recession","business","economics","money","sales","bad","failure"],char:"📉",fitzpatrick_scale:!1,category:"objects"},page_facing_up:{keywords:["documents","office","paper","information"],char:"📄",fitzpatrick_scale:!1,category:"objects"},date:{keywords:["calendar","schedule"],char:"📅",fitzpatrick_scale:!1,category:"objects"},calendar:{keywords:["schedule","date","planning"],char:"📆",fitzpatrick_scale:!1,category:"objects"},spiral_calendar:{keywords:["date","schedule","planning"],char:"🗓",fitzpatrick_scale:!1,category:"objects"},card_index:{keywords:["business","stationery"],char:"📇",fitzpatrick_scale:!1,category:"objects"},card_file_box:{keywords:["business","stationery"],char:"🗃",fitzpatrick_scale:!1,category:"objects"},ballot_box:{keywords:["election","vote"],char:"🗳",fitzpatrick_scale:!1,category:"objects"},file_cabinet:{keywords:["filing","organizing"],char:"🗄",fitzpatrick_scale:!1,category:"objects"},clipboard:{keywords:["stationery","documents"],char:"📋",fitzpatrick_scale:!1,category:"objects"},spiral_notepad:{keywords:["memo","stationery"],char:"🗒",fitzpatrick_scale:!1,category:"objects"},file_folder:{keywords:["documents","business","office"],char:"📁",fitzpatrick_scale:!1,category:"objects"},open_file_folder:{keywords:["documents","load"],char:"📂",fitzpatrick_scale:!1,category:"objects"},card_index_dividers:{keywords:["organizing","business","stationery"],char:"🗂",fitzpatrick_scale:!1,category:"objects"},newspaper_roll:{keywords:["press","headline"],char:"🗞",fitzpatrick_scale:!1,category:"objects"},newspaper:{keywords:["press","headline"],char:"📰",fitzpatrick_scale:!1,category:"objects"},notebook:{keywords:["stationery","record","notes","paper","study"],char:"📓",fitzpatrick_scale:!1,category:"objects"},closed_book:{keywords:["read","library","knowledge","textbook","learn"],char:"📕",fitzpatrick_scale:!1,category:"objects"},green_book:{keywords:["read","library","knowledge","study"],char:"📗",fitzpatrick_scale:!1,category:"objects"},blue_book:{keywords:["read","library","knowledge","learn","study"],char:"📘",fitzpatrick_scale:!1,category:"objects"},orange_book:{keywords:["read","library","knowledge","textbook","study"],char:"📙",fitzpatrick_scale:!1,category:"objects"},notebook_with_decorative_cover:{keywords:["classroom","notes","record","paper","study"],char:"📔",fitzpatrick_scale:!1,category:"objects"},ledger:{keywords:["notes","paper"],char:"📒",fitzpatrick_scale:!1,category:"objects"},books:{keywords:["literature","library","study"],char:"📚",fitzpatrick_scale:!1,category:"objects"},open_book:{keywords:["book","read","library","knowledge","literature","learn","study"],char:"📖",fitzpatrick_scale:!1,category:"objects"},safety_pin:{keywords:["diaper"],char:"🧷",fitzpatrick_scale:!1,category:"objects"},link:{keywords:["rings","url"],char:"🔗",fitzpatrick_scale:!1,category:"objects"},paperclip:{keywords:["documents","stationery"],char:"📎",fitzpatrick_scale:!1,category:"objects"},paperclips:{keywords:["documents","stationery"],char:"🖇",fitzpatrick_scale:!1,category:"objects"},scissors:{keywords:["stationery","cut"],char:"✂️",fitzpatrick_scale:!1,category:"objects"},triangular_ruler:{keywords:["stationery","math","architect","sketch"],char:"📐",fitzpatrick_scale:!1,category:"objects"},straight_ruler:{keywords:["stationery","calculate","length","math","school","drawing","architect","sketch"],char:"📏",fitzpatrick_scale:!1,category:"objects"},abacus:{keywords:["calculation"],char:"🧮",fitzpatrick_scale:!1,category:"objects"},pushpin:{keywords:["stationery","mark","here"],char:"📌",fitzpatrick_scale:!1,category:"objects"},round_pushpin:{keywords:["stationery","location","map","here"],char:"📍",fitzpatrick_scale:!1,category:"objects"},triangular_flag_on_post:{keywords:["mark","milestone","place"],char:"🚩",fitzpatrick_scale:!1,category:"objects"},white_flag:{keywords:["losing","loser","lost","surrender","give up","fail"],char:"🏳",fitzpatrick_scale:!1,category:"objects"},black_flag:{keywords:["pirate"],char:"🏴",fitzpatrick_scale:!1,category:"objects"},rainbow_flag:{keywords:["flag","rainbow","pride","gay","lgbt","glbt","queer","homosexual","lesbian","bisexual","transgender"],char:"🏳️‍🌈",fitzpatrick_scale:!1,category:"objects"},closed_lock_with_key:{keywords:["security","privacy"],char:"🔐",fitzpatrick_scale:!1,category:"objects"},lock:{keywords:["security","password","padlock"],char:"🔒",fitzpatrick_scale:!1,category:"objects"},unlock:{keywords:["privacy","security"],char:"🔓",fitzpatrick_scale:!1,category:"objects"},lock_with_ink_pen:{keywords:["security","secret"],char:"🔏",fitzpatrick_scale:!1,category:"objects"},pen:{keywords:["stationery","writing","write"],char:"🖊",fitzpatrick_scale:!1,category:"objects"},fountain_pen:{keywords:["stationery","writing","write"],char:"🖋",fitzpatrick_scale:!1,category:"objects"},black_nib:{keywords:["pen","stationery","writing","write"],char:"✒️",fitzpatrick_scale:!1,category:"objects"},memo:{keywords:["write","documents","stationery","pencil","paper","writing","legal","exam","quiz","test","study","compose"],char:"📝",fitzpatrick_scale:!1,category:"objects"},pencil2:{keywords:["stationery","write","paper","writing","school","study"],char:"✏️",fitzpatrick_scale:!1,category:"objects"},crayon:{keywords:["drawing","creativity"],char:"🖍",fitzpatrick_scale:!1,category:"objects"},paintbrush:{keywords:["drawing","creativity","art"],char:"🖌",fitzpatrick_scale:!1,category:"objects"},mag:{keywords:["search","zoom","find","detective"],char:"🔍",fitzpatrick_scale:!1,category:"objects"},mag_right:{keywords:["search","zoom","find","detective"],char:"🔎",fitzpatrick_scale:!1,category:"objects"},heart:{keywords:["love","like","valentines"],char:"❤️",fitzpatrick_scale:!1,category:"symbols"},orange_heart:{keywords:["love","like","affection","valentines"],char:"🧡",fitzpatrick_scale:!1,category:"symbols"},yellow_heart:{keywords:["love","like","affection","valentines"],char:"💛",fitzpatrick_scale:!1,category:"symbols"},green_heart:{keywords:["love","like","affection","valentines"],char:"💚",fitzpatrick_scale:!1,category:"symbols"},blue_heart:{keywords:["love","like","affection","valentines"],char:"💙",fitzpatrick_scale:!1,category:"symbols"},purple_heart:{keywords:["love","like","affection","valentines"],char:"💜",fitzpatrick_scale:!1,category:"symbols"},black_heart:{keywords:["evil"],char:"🖤",fitzpatrick_scale:!1,category:"symbols"},broken_heart:{keywords:["sad","sorry","break","heart","heartbreak"],char:"💔",fitzpatrick_scale:!1,category:"symbols"},heavy_heart_exclamation:{keywords:["decoration","love"],char:"❣",fitzpatrick_scale:!1,category:"symbols"},two_hearts:{keywords:["love","like","affection","valentines","heart"],char:"💕",fitzpatrick_scale:!1,category:"symbols"},revolving_hearts:{keywords:["love","like","affection","valentines"],char:"💞",fitzpatrick_scale:!1,category:"symbols"},heartbeat:{keywords:["love","like","affection","valentines","pink","heart"],char:"💓",fitzpatrick_scale:!1,category:"symbols"},heartpulse:{keywords:["like","love","affection","valentines","pink"],char:"💗",fitzpatrick_scale:!1,category:"symbols"},sparkling_heart:{keywords:["love","like","affection","valentines"],char:"💖",fitzpatrick_scale:!1,category:"symbols"},cupid:{keywords:["love","like","heart","affection","valentines"],char:"💘",fitzpatrick_scale:!1,category:"symbols"},gift_heart:{keywords:["love","valentines"],char:"💝",fitzpatrick_scale:!1,category:"symbols"},heart_decoration:{keywords:["purple-square","love","like"],char:"💟",fitzpatrick_scale:!1,category:"symbols"},peace_symbol:{keywords:["hippie"],char:"☮",fitzpatrick_scale:!1,category:"symbols"},latin_cross:{keywords:["christianity"],char:"✝",fitzpatrick_scale:!1,category:"symbols"},star_and_crescent:{keywords:["islam"],char:"☪",fitzpatrick_scale:!1,category:"symbols"},om:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"🕉",fitzpatrick_scale:!1,category:"symbols"},wheel_of_dharma:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"☸",fitzpatrick_scale:!1,category:"symbols"},star_of_david:{keywords:["judaism"],char:"✡",fitzpatrick_scale:!1,category:"symbols"},six_pointed_star:{keywords:["purple-square","religion","jewish","hexagram"],char:"🔯",fitzpatrick_scale:!1,category:"symbols"},menorah:{keywords:["hanukkah","candles","jewish"],char:"🕎",fitzpatrick_scale:!1,category:"symbols"},yin_yang:{keywords:["balance"],char:"☯",fitzpatrick_scale:!1,category:"symbols"},orthodox_cross:{keywords:["suppedaneum","religion"],char:"☦",fitzpatrick_scale:!1,category:"symbols"},place_of_worship:{keywords:["religion","church","temple","prayer"],char:"🛐",fitzpatrick_scale:!1,category:"symbols"},ophiuchus:{keywords:["sign","purple-square","constellation","astrology"],char:"⛎",fitzpatrick_scale:!1,category:"symbols"},aries:{keywords:["sign","purple-square","zodiac","astrology"],char:"♈",fitzpatrick_scale:!1,category:"symbols"},taurus:{keywords:["purple-square","sign","zodiac","astrology"],char:"♉",fitzpatrick_scale:!1,category:"symbols"},gemini:{keywords:["sign","zodiac","purple-square","astrology"],char:"♊",fitzpatrick_scale:!1,category:"symbols"},cancer:{keywords:["sign","zodiac","purple-square","astrology"],char:"♋",fitzpatrick_scale:!1,category:"symbols"},leo:{keywords:["sign","purple-square","zodiac","astrology"],char:"♌",fitzpatrick_scale:!1,category:"symbols"},virgo:{keywords:["sign","zodiac","purple-square","astrology"],char:"♍",fitzpatrick_scale:!1,category:"symbols"},libra:{keywords:["sign","purple-square","zodiac","astrology"],char:"♎",fitzpatrick_scale:!1,category:"symbols"},scorpius:{keywords:["sign","zodiac","purple-square","astrology","scorpio"],char:"♏",fitzpatrick_scale:!1,category:"symbols"},sagittarius:{keywords:["sign","zodiac","purple-square","astrology"],char:"♐",fitzpatrick_scale:!1,category:"symbols"},capricorn:{keywords:["sign","zodiac","purple-square","astrology"],char:"♑",fitzpatrick_scale:!1,category:"symbols"},aquarius:{keywords:["sign","purple-square","zodiac","astrology"],char:"♒",fitzpatrick_scale:!1,category:"symbols"},pisces:{keywords:["purple-square","sign","zodiac","astrology"],char:"♓",fitzpatrick_scale:!1,category:"symbols"},id:{keywords:["purple-square","words"],char:"🆔",fitzpatrick_scale:!1,category:"symbols"},atom_symbol:{keywords:["science","physics","chemistry"],char:"⚛",fitzpatrick_scale:!1,category:"symbols"},u7a7a:{keywords:["kanji","japanese","chinese","empty","sky","blue-square"],char:"🈳",fitzpatrick_scale:!1,category:"symbols"},u5272:{keywords:["cut","divide","chinese","kanji","pink-square"],char:"🈹",fitzpatrick_scale:!1,category:"symbols"},radioactive:{keywords:["nuclear","danger"],char:"☢",fitzpatrick_scale:!1,category:"symbols"},biohazard:{keywords:["danger"],char:"☣",fitzpatrick_scale:!1,category:"symbols"},mobile_phone_off:{keywords:["mute","orange-square","silence","quiet"],char:"📴",fitzpatrick_scale:!1,category:"symbols"},vibration_mode:{keywords:["orange-square","phone"],char:"📳",fitzpatrick_scale:!1,category:"symbols"},u6709:{keywords:["orange-square","chinese","have","kanji"],char:"🈶",fitzpatrick_scale:!1,category:"symbols"},u7121:{keywords:["nothing","chinese","kanji","japanese","orange-square"],char:"🈚",fitzpatrick_scale:!1,category:"symbols"},u7533:{keywords:["chinese","japanese","kanji","orange-square"],char:"🈸",fitzpatrick_scale:!1,category:"symbols"},u55b6:{keywords:["japanese","opening hours","orange-square"],char:"🈺",fitzpatrick_scale:!1,category:"symbols"},u6708:{keywords:["chinese","month","moon","japanese","orange-square","kanji"],char:"🈷️",fitzpatrick_scale:!1,category:"symbols"},eight_pointed_black_star:{keywords:["orange-square","shape","polygon"],char:"✴️",fitzpatrick_scale:!1,category:"symbols"},vs:{keywords:["words","orange-square"],char:"🆚",fitzpatrick_scale:!1,category:"symbols"},accept:{keywords:["ok","good","chinese","kanji","agree","yes","orange-circle"],char:"🉑",fitzpatrick_scale:!1,category:"symbols"},white_flower:{keywords:["japanese","spring"],char:"💮",fitzpatrick_scale:!1,category:"symbols"},ideograph_advantage:{keywords:["chinese","kanji","obtain","get","circle"],char:"🉐",fitzpatrick_scale:!1,category:"symbols"},secret:{keywords:["privacy","chinese","sshh","kanji","red-circle"],char:"㊙️",fitzpatrick_scale:!1,category:"symbols"},congratulations:{keywords:["chinese","kanji","japanese","red-circle"],char:"㊗️",fitzpatrick_scale:!1,category:"symbols"},u5408:{keywords:["japanese","chinese","join","kanji","red-square"],char:"🈴",fitzpatrick_scale:!1,category:"symbols"},u6e80:{keywords:["full","chinese","japanese","red-square","kanji"],char:"🈵",fitzpatrick_scale:!1,category:"symbols"},u7981:{keywords:["kanji","japanese","chinese","forbidden","limit","restricted","red-square"],char:"🈲",fitzpatrick_scale:!1,category:"symbols"},a:{keywords:["red-square","alphabet","letter"],char:"🅰️",fitzpatrick_scale:!1,category:"symbols"},b:{keywords:["red-square","alphabet","letter"],char:"🅱️",fitzpatrick_scale:!1,category:"symbols"},ab:{keywords:["red-square","alphabet"],char:"🆎",fitzpatrick_scale:!1,category:"symbols"},cl:{keywords:["alphabet","words","red-square"],char:"🆑",fitzpatrick_scale:!1,category:"symbols"},o2:{keywords:["alphabet","red-square","letter"],char:"🅾️",fitzpatrick_scale:!1,category:"symbols"},sos:{keywords:["help","red-square","words","emergency","911"],char:"🆘",fitzpatrick_scale:!1,category:"symbols"},no_entry:{keywords:["limit","security","privacy","bad","denied","stop","circle"],char:"⛔",fitzpatrick_scale:!1,category:"symbols"},name_badge:{keywords:["fire","forbid"],char:"📛",fitzpatrick_scale:!1,category:"symbols"},no_entry_sign:{keywords:["forbid","stop","limit","denied","disallow","circle"],char:"🚫",fitzpatrick_scale:!1,category:"symbols"},x:{keywords:["no","delete","remove","cancel","red"],char:"❌",fitzpatrick_scale:!1,category:"symbols"},o:{keywords:["circle","round"],char:"⭕",fitzpatrick_scale:!1,category:"symbols"},stop_sign:{keywords:["stop"],char:"🛑",fitzpatrick_scale:!1,category:"symbols"},anger:{keywords:["angry","mad"],char:"💢",fitzpatrick_scale:!1,category:"symbols"},hotsprings:{keywords:["bath","warm","relax"],char:"♨️",fitzpatrick_scale:!1,category:"symbols"},no_pedestrians:{keywords:["rules","crossing","walking","circle"],char:"🚷",fitzpatrick_scale:!1,category:"symbols"},do_not_litter:{keywords:["trash","bin","garbage","circle"],char:"🚯",fitzpatrick_scale:!1,category:"symbols"},no_bicycles:{keywords:["cyclist","prohibited","circle"],char:"🚳",fitzpatrick_scale:!1,category:"symbols"},"non-potable_water":{keywords:["drink","faucet","tap","circle"],char:"🚱",fitzpatrick_scale:!1,category:"symbols"},underage:{keywords:["18","drink","pub","night","minor","circle"],char:"🔞",fitzpatrick_scale:!1,category:"symbols"},no_mobile_phones:{keywords:["iphone","mute","circle"],char:"📵",fitzpatrick_scale:!1,category:"symbols"},exclamation:{keywords:["heavy_exclamation_mark","danger","surprise","punctuation","wow","warning"],char:"❗",fitzpatrick_scale:!1,category:"symbols"},grey_exclamation:{keywords:["surprise","punctuation","gray","wow","warning"],char:"❕",fitzpatrick_scale:!1,category:"symbols"},question:{keywords:["doubt","confused"],char:"❓",fitzpatrick_scale:!1,category:"symbols"},grey_question:{keywords:["doubts","gray","huh","confused"],char:"❔",fitzpatrick_scale:!1,category:"symbols"},bangbang:{keywords:["exclamation","surprise"],char:"‼️",fitzpatrick_scale:!1,category:"symbols"},interrobang:{keywords:["wat","punctuation","surprise"],char:"⁉️",fitzpatrick_scale:!1,category:"symbols"},100:{keywords:["score","perfect","numbers","century","exam","quiz","test","pass","hundred"],char:"💯",fitzpatrick_scale:!1,category:"symbols"},low_brightness:{keywords:["sun","afternoon","warm","summer"],char:"🔅",fitzpatrick_scale:!1,category:"symbols"},high_brightness:{keywords:["sun","light"],char:"🔆",fitzpatrick_scale:!1,category:"symbols"},trident:{keywords:["weapon","spear"],char:"🔱",fitzpatrick_scale:!1,category:"symbols"},fleur_de_lis:{keywords:["decorative","scout"],char:"⚜",fitzpatrick_scale:!1,category:"symbols"},part_alternation_mark:{keywords:["graph","presentation","stats","business","economics","bad"],char:"〽️",fitzpatrick_scale:!1,category:"symbols"},warning:{keywords:["exclamation","wip","alert","error","problem","issue"],char:"⚠️",fitzpatrick_scale:!1,category:"symbols"},children_crossing:{keywords:["school","warning","danger","sign","driving","yellow-diamond"],char:"🚸",fitzpatrick_scale:!1,category:"symbols"},beginner:{keywords:["badge","shield"],char:"🔰",fitzpatrick_scale:!1,category:"symbols"},recycle:{keywords:["arrow","environment","garbage","trash"],char:"♻️",fitzpatrick_scale:!1,category:"symbols"},u6307:{keywords:["chinese","point","green-square","kanji"],char:"🈯",fitzpatrick_scale:!1,category:"symbols"},chart:{keywords:["green-square","graph","presentation","stats"],char:"💹",fitzpatrick_scale:!1,category:"symbols"},sparkle:{keywords:["stars","green-square","awesome","good","fireworks"],char:"❇️",fitzpatrick_scale:!1,category:"symbols"},eight_spoked_asterisk:{keywords:["star","sparkle","green-square"],char:"✳️",fitzpatrick_scale:!1,category:"symbols"},negative_squared_cross_mark:{keywords:["x","green-square","no","deny"],char:"❎",fitzpatrick_scale:!1,category:"symbols"},white_check_mark:{keywords:["green-square","ok","agree","vote","election","answer","tick"],char:"✅",fitzpatrick_scale:!1,category:"symbols"},diamond_shape_with_a_dot_inside:{keywords:["jewel","blue","gem","crystal","fancy"],char:"💠",fitzpatrick_scale:!1,category:"symbols"},cyclone:{keywords:["weather","swirl","blue","cloud","vortex","spiral","whirlpool","spin","tornado","hurricane","typhoon"],char:"🌀",fitzpatrick_scale:!1,category:"symbols"},loop:{keywords:["tape","cassette"],char:"➿",fitzpatrick_scale:!1,category:"symbols"},globe_with_meridians:{keywords:["earth","international","world","internet","interweb","i18n"],char:"🌐",fitzpatrick_scale:!1,category:"symbols"},m:{keywords:["alphabet","blue-circle","letter"],char:"Ⓜ️",fitzpatrick_scale:!1,category:"symbols"},atm:{keywords:["money","sales","cash","blue-square","payment","bank"],char:"🏧",fitzpatrick_scale:!1,category:"symbols"},sa:{keywords:["japanese","blue-square","katakana"],char:"🈂️",fitzpatrick_scale:!1,category:"symbols"},passport_control:{keywords:["custom","blue-square"],char:"🛂",fitzpatrick_scale:!1,category:"symbols"},customs:{keywords:["passport","border","blue-square"],char:"🛃",fitzpatrick_scale:!1,category:"symbols"},baggage_claim:{keywords:["blue-square","airport","transport"],char:"🛄",fitzpatrick_scale:!1,category:"symbols"},left_luggage:{keywords:["blue-square","travel"],char:"🛅",fitzpatrick_scale:!1,category:"symbols"},wheelchair:{keywords:["blue-square","disabled","a11y","accessibility"],char:"♿",fitzpatrick_scale:!1,category:"symbols"},no_smoking:{keywords:["cigarette","blue-square","smell","smoke"],char:"🚭",fitzpatrick_scale:!1,category:"symbols"},wc:{keywords:["toilet","restroom","blue-square"],char:"🚾",fitzpatrick_scale:!1,category:"symbols"},parking:{keywords:["cars","blue-square","alphabet","letter"],char:"🅿️",fitzpatrick_scale:!1,category:"symbols"},potable_water:{keywords:["blue-square","liquid","restroom","cleaning","faucet"],char:"🚰",fitzpatrick_scale:!1,category:"symbols"},mens:{keywords:["toilet","restroom","wc","blue-square","gender","male"],char:"🚹",fitzpatrick_scale:!1,category:"symbols"},womens:{keywords:["purple-square","woman","female","toilet","loo","restroom","gender"],char:"🚺",fitzpatrick_scale:!1,category:"symbols"},baby_symbol:{keywords:["orange-square","child"],char:"🚼",fitzpatrick_scale:!1,category:"symbols"},restroom:{keywords:["blue-square","toilet","refresh","wc","gender"],char:"🚻",fitzpatrick_scale:!1,category:"symbols"},put_litter_in_its_place:{keywords:["blue-square","sign","human","info"],char:"🚮",fitzpatrick_scale:!1,category:"symbols"},cinema:{keywords:["blue-square","record","film","movie","curtain","stage","theater"],char:"🎦",fitzpatrick_scale:!1,category:"symbols"},signal_strength:{keywords:["blue-square","reception","phone","internet","connection","wifi","bluetooth","bars"],char:"📶",fitzpatrick_scale:!1,category:"symbols"},koko:{keywords:["blue-square","here","katakana","japanese","destination"],char:"🈁",fitzpatrick_scale:!1,category:"symbols"},ng:{keywords:["blue-square","words","shape","icon"],char:"🆖",fitzpatrick_scale:!1,category:"symbols"},ok:{keywords:["good","agree","yes","blue-square"],char:"🆗",fitzpatrick_scale:!1,category:"symbols"},up:{keywords:["blue-square","above","high"],char:"🆙",fitzpatrick_scale:!1,category:"symbols"},cool:{keywords:["words","blue-square"],char:"🆒",fitzpatrick_scale:!1,category:"symbols"},new:{keywords:["blue-square","words","start"],char:"🆕",fitzpatrick_scale:!1,category:"symbols"},free:{keywords:["blue-square","words"],char:"🆓",fitzpatrick_scale:!1,category:"symbols"},zero:{keywords:["0","numbers","blue-square","null"],char:"0️⃣",fitzpatrick_scale:!1,category:"symbols"},one:{keywords:["blue-square","numbers","1"],char:"1️⃣",fitzpatrick_scale:!1,category:"symbols"},two:{keywords:["numbers","2","prime","blue-square"],char:"2️⃣",fitzpatrick_scale:!1,category:"symbols"},three:{keywords:["3","numbers","prime","blue-square"],char:"3️⃣",fitzpatrick_scale:!1,category:"symbols"},four:{keywords:["4","numbers","blue-square"],char:"4️⃣",fitzpatrick_scale:!1,category:"symbols"},five:{keywords:["5","numbers","blue-square","prime"],char:"5️⃣",fitzpatrick_scale:!1,category:"symbols"},six:{keywords:["6","numbers","blue-square"],char:"6️⃣",fitzpatrick_scale:!1,category:"symbols"},seven:{keywords:["7","numbers","blue-square","prime"],char:"7️⃣",fitzpatrick_scale:!1,category:"symbols"},eight:{keywords:["8","blue-square","numbers"],char:"8️⃣",fitzpatrick_scale:!1,category:"symbols"},nine:{keywords:["blue-square","numbers","9"],char:"9️⃣",fitzpatrick_scale:!1,category:"symbols"},keycap_ten:{keywords:["numbers","10","blue-square"],char:"🔟",fitzpatrick_scale:!1,category:"symbols"},asterisk:{keywords:["star","keycap"],char:"*⃣",fitzpatrick_scale:!1,category:"symbols"},1234:{keywords:["numbers","blue-square"],char:"🔢",fitzpatrick_scale:!1,category:"symbols"},eject_button:{keywords:["blue-square"],char:"⏏️",fitzpatrick_scale:!1,category:"symbols"},arrow_forward:{keywords:["blue-square","right","direction","play"],char:"▶️",fitzpatrick_scale:!1,category:"symbols"},pause_button:{keywords:["pause","blue-square"],char:"⏸",fitzpatrick_scale:!1,category:"symbols"},next_track_button:{keywords:["forward","next","blue-square"],char:"⏭",fitzpatrick_scale:!1,category:"symbols"},stop_button:{keywords:["blue-square"],char:"⏹",fitzpatrick_scale:!1,category:"symbols"},record_button:{keywords:["blue-square"],char:"⏺",fitzpatrick_scale:!1,category:"symbols"},play_or_pause_button:{keywords:["blue-square","play","pause"],char:"⏯",fitzpatrick_scale:!1,category:"symbols"},previous_track_button:{keywords:["backward"],char:"⏮",fitzpatrick_scale:!1,category:"symbols"},fast_forward:{keywords:["blue-square","play","speed","continue"],char:"⏩",fitzpatrick_scale:!1,category:"symbols"},rewind:{keywords:["play","blue-square"],char:"⏪",fitzpatrick_scale:!1,category:"symbols"},twisted_rightwards_arrows:{keywords:["blue-square","shuffle","music","random"],char:"🔀",fitzpatrick_scale:!1,category:"symbols"},repeat:{keywords:["loop","record"],char:"🔁",fitzpatrick_scale:!1,category:"symbols"},repeat_one:{keywords:["blue-square","loop"],char:"🔂",fitzpatrick_scale:!1,category:"symbols"},arrow_backward:{keywords:["blue-square","left","direction"],char:"◀️",fitzpatrick_scale:!1,category:"symbols"},arrow_up_small:{keywords:["blue-square","triangle","direction","point","forward","top"],char:"🔼",fitzpatrick_scale:!1,category:"symbols"},arrow_down_small:{keywords:["blue-square","direction","bottom"],char:"🔽",fitzpatrick_scale:!1,category:"symbols"},arrow_double_up:{keywords:["blue-square","direction","top"],char:"⏫",fitzpatrick_scale:!1,category:"symbols"},arrow_double_down:{keywords:["blue-square","direction","bottom"],char:"⏬",fitzpatrick_scale:!1,category:"symbols"},arrow_right:{keywords:["blue-square","next"],char:"➡️",fitzpatrick_scale:!1,category:"symbols"},arrow_left:{keywords:["blue-square","previous","back"],char:"⬅️",fitzpatrick_scale:!1,category:"symbols"},arrow_up:{keywords:["blue-square","continue","top","direction"],char:"⬆️",fitzpatrick_scale:!1,category:"symbols"},arrow_down:{keywords:["blue-square","direction","bottom"],char:"⬇️",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_right:{keywords:["blue-square","point","direction","diagonal","northeast"],char:"↗️",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_right:{keywords:["blue-square","direction","diagonal","southeast"],char:"↘️",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_left:{keywords:["blue-square","direction","diagonal","southwest"],char:"↙️",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_left:{keywords:["blue-square","point","direction","diagonal","northwest"],char:"↖️",fitzpatrick_scale:!1,category:"symbols"},arrow_up_down:{keywords:["blue-square","direction","way","vertical"],char:"↕️",fitzpatrick_scale:!1,category:"symbols"},left_right_arrow:{keywords:["shape","direction","horizontal","sideways"],char:"↔️",fitzpatrick_scale:!1,category:"symbols"},arrows_counterclockwise:{keywords:["blue-square","sync","cycle"],char:"🔄",fitzpatrick_scale:!1,category:"symbols"},arrow_right_hook:{keywords:["blue-square","return","rotate","direction"],char:"↪️",fitzpatrick_scale:!1,category:"symbols"},leftwards_arrow_with_hook:{keywords:["back","return","blue-square","undo","enter"],char:"↩️",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_up:{keywords:["blue-square","direction","top"],char:"⤴️",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_down:{keywords:["blue-square","direction","bottom"],char:"⤵️",fitzpatrick_scale:!1,category:"symbols"},hash:{keywords:["symbol","blue-square","twitter"],char:"#️⃣",fitzpatrick_scale:!1,category:"symbols"},information_source:{keywords:["blue-square","alphabet","letter"],char:"ℹ️",fitzpatrick_scale:!1,category:"symbols"},abc:{keywords:["blue-square","alphabet"],char:"🔤",fitzpatrick_scale:!1,category:"symbols"},abcd:{keywords:["blue-square","alphabet"],char:"🔡",fitzpatrick_scale:!1,category:"symbols"},capital_abcd:{keywords:["alphabet","words","blue-square"],char:"🔠",fitzpatrick_scale:!1,category:"symbols"},symbols:{keywords:["blue-square","music","note","ampersand","percent","glyphs","characters"],char:"🔣",fitzpatrick_scale:!1,category:"symbols"},musical_note:{keywords:["score","tone","sound"],char:"🎵",fitzpatrick_scale:!1,category:"symbols"},notes:{keywords:["music","score"],char:"🎶",fitzpatrick_scale:!1,category:"symbols"},wavy_dash:{keywords:["draw","line","moustache","mustache","squiggle","scribble"],char:"〰️",fitzpatrick_scale:!1,category:"symbols"},curly_loop:{keywords:["scribble","draw","shape","squiggle"],char:"➰",fitzpatrick_scale:!1,category:"symbols"},heavy_check_mark:{keywords:["ok","nike","answer","yes","tick"],char:"✔️",fitzpatrick_scale:!1,category:"symbols"},arrows_clockwise:{keywords:["sync","cycle","round","repeat"],char:"🔃",fitzpatrick_scale:!1,category:"symbols"},heavy_plus_sign:{keywords:["math","calculation","addition","more","increase"],char:"➕",fitzpatrick_scale:!1,category:"symbols"},heavy_minus_sign:{keywords:["math","calculation","subtract","less"],char:"➖",fitzpatrick_scale:!1,category:"symbols"},heavy_division_sign:{keywords:["divide","math","calculation"],char:"➗",fitzpatrick_scale:!1,category:"symbols"},heavy_multiplication_x:{keywords:["math","calculation"],char:"✖️",fitzpatrick_scale:!1,category:"symbols"},infinity:{keywords:["forever"],char:"♾",fitzpatrick_scale:!1,category:"symbols"},heavy_dollar_sign:{keywords:["money","sales","payment","currency","buck"],char:"💲",fitzpatrick_scale:!1,category:"symbols"},currency_exchange:{keywords:["money","sales","dollar","travel"],char:"💱",fitzpatrick_scale:!1,category:"symbols"},copyright:{keywords:["ip","license","circle","law","legal"],char:"©️",fitzpatrick_scale:!1,category:"symbols"},registered:{keywords:["alphabet","circle"],char:"®️",fitzpatrick_scale:!1,category:"symbols"},tm:{keywords:["trademark","brand","law","legal"],char:"™️",fitzpatrick_scale:!1,category:"symbols"},end:{keywords:["words","arrow"],char:"🔚",fitzpatrick_scale:!1,category:"symbols"},back:{keywords:["arrow","words","return"],char:"🔙",fitzpatrick_scale:!1,category:"symbols"},on:{keywords:["arrow","words"],char:"🔛",fitzpatrick_scale:!1,category:"symbols"},top:{keywords:["words","blue-square"],char:"🔝",fitzpatrick_scale:!1,category:"symbols"},soon:{keywords:["arrow","words"],char:"🔜",fitzpatrick_scale:!1,category:"symbols"},ballot_box_with_check:{keywords:["ok","agree","confirm","black-square","vote","election","yes","tick"],char:"☑️",fitzpatrick_scale:!1,category:"symbols"},radio_button:{keywords:["input","old","music","circle"],char:"🔘",fitzpatrick_scale:!1,category:"symbols"},white_circle:{keywords:["shape","round"],char:"⚪",fitzpatrick_scale:!1,category:"symbols"},black_circle:{keywords:["shape","button","round"],char:"⚫",fitzpatrick_scale:!1,category:"symbols"},red_circle:{keywords:["shape","error","danger"],char:"🔴",fitzpatrick_scale:!1,category:"symbols"},large_blue_circle:{keywords:["shape","icon","button"],char:"🔵",fitzpatrick_scale:!1,category:"symbols"},small_orange_diamond:{keywords:["shape","jewel","gem"],char:"🔸",fitzpatrick_scale:!1,category:"symbols"},small_blue_diamond:{keywords:["shape","jewel","gem"],char:"🔹",fitzpatrick_scale:!1,category:"symbols"},large_orange_diamond:{keywords:["shape","jewel","gem"],char:"🔶",fitzpatrick_scale:!1,category:"symbols"},large_blue_diamond:{keywords:["shape","jewel","gem"],char:"🔷",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle:{keywords:["shape","direction","up","top"],char:"🔺",fitzpatrick_scale:!1,category:"symbols"},black_small_square:{keywords:["shape","icon"],char:"▪️",fitzpatrick_scale:!1,category:"symbols"},white_small_square:{keywords:["shape","icon"],char:"▫️",fitzpatrick_scale:!1,category:"symbols"},black_large_square:{keywords:["shape","icon","button"],char:"⬛",fitzpatrick_scale:!1,category:"symbols"},white_large_square:{keywords:["shape","icon","stone","button"],char:"⬜",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle_down:{keywords:["shape","direction","bottom"],char:"🔻",fitzpatrick_scale:!1,category:"symbols"},black_medium_square:{keywords:["shape","button","icon"],char:"◼️",fitzpatrick_scale:!1,category:"symbols"},white_medium_square:{keywords:["shape","stone","icon"],char:"◻️",fitzpatrick_scale:!1,category:"symbols"},black_medium_small_square:{keywords:["icon","shape","button"],char:"◾",fitzpatrick_scale:!1,category:"symbols"},white_medium_small_square:{keywords:["shape","stone","icon","button"],char:"◽",fitzpatrick_scale:!1,category:"symbols"},black_square_button:{keywords:["shape","input","frame"],char:"🔲",fitzpatrick_scale:!1,category:"symbols"},white_square_button:{keywords:["shape","input"],char:"🔳",fitzpatrick_scale:!1,category:"symbols"},speaker:{keywords:["sound","volume","silence","broadcast"],char:"🔈",fitzpatrick_scale:!1,category:"symbols"},sound:{keywords:["volume","speaker","broadcast"],char:"🔉",fitzpatrick_scale:!1,category:"symbols"},loud_sound:{keywords:["volume","noise","noisy","speaker","broadcast"],char:"🔊",fitzpatrick_scale:!1,category:"symbols"},mute:{keywords:["sound","volume","silence","quiet"],char:"🔇",fitzpatrick_scale:!1,category:"symbols"},mega:{keywords:["sound","speaker","volume"],char:"📣",fitzpatrick_scale:!1,category:"symbols"},loudspeaker:{keywords:["volume","sound"],char:"📢",fitzpatrick_scale:!1,category:"symbols"},bell:{keywords:["sound","notification","christmas","xmas","chime"],char:"🔔",fitzpatrick_scale:!1,category:"symbols"},no_bell:{keywords:["sound","volume","mute","quiet","silent"],char:"🔕",fitzpatrick_scale:!1,category:"symbols"},black_joker:{keywords:["poker","cards","game","play","magic"],char:"🃏",fitzpatrick_scale:!1,category:"symbols"},mahjong:{keywords:["game","play","chinese","kanji"],char:"🀄",fitzpatrick_scale:!1,category:"symbols"},spades:{keywords:["poker","cards","suits","magic"],char:"♠️",fitzpatrick_scale:!1,category:"symbols"},clubs:{keywords:["poker","cards","magic","suits"],char:"♣️",fitzpatrick_scale:!1,category:"symbols"},hearts:{keywords:["poker","cards","magic","suits"],char:"♥️",fitzpatrick_scale:!1,category:"symbols"},diamonds:{keywords:["poker","cards","magic","suits"],char:"♦️",fitzpatrick_scale:!1,category:"symbols"},flower_playing_cards:{keywords:["game","sunset","red"],char:"🎴",fitzpatrick_scale:!1,category:"symbols"},thought_balloon:{keywords:["bubble","cloud","speech","thinking","dream"],char:"💭",fitzpatrick_scale:!1,category:"symbols"},right_anger_bubble:{keywords:["caption","speech","thinking","mad"],char:"🗯",fitzpatrick_scale:!1,category:"symbols"},speech_balloon:{keywords:["bubble","words","message","talk","chatting"],char:"💬",fitzpatrick_scale:!1,category:"symbols"},left_speech_bubble:{keywords:["words","message","talk","chatting"],char:"🗨",fitzpatrick_scale:!1,category:"symbols"},clock1:{keywords:["time","late","early","schedule"],char:"🕐",fitzpatrick_scale:!1,category:"symbols"},clock2:{keywords:["time","late","early","schedule"],char:"🕑",fitzpatrick_scale:!1,category:"symbols"},clock3:{keywords:["time","late","early","schedule"],char:"🕒",fitzpatrick_scale:!1,category:"symbols"},clock4:{keywords:["time","late","early","schedule"],char:"🕓",fitzpatrick_scale:!1,category:"symbols"},clock5:{keywords:["time","late","early","schedule"],char:"🕔",fitzpatrick_scale:!1,category:"symbols"},clock6:{keywords:["time","late","early","schedule","dawn","dusk"],char:"🕕",fitzpatrick_scale:!1,category:"symbols"},clock7:{keywords:["time","late","early","schedule"],char:"🕖",fitzpatrick_scale:!1,category:"symbols"},clock8:{keywords:["time","late","early","schedule"],char:"🕗",fitzpatrick_scale:!1,category:"symbols"},clock9:{keywords:["time","late","early","schedule"],char:"🕘",fitzpatrick_scale:!1,category:"symbols"},clock10:{keywords:["time","late","early","schedule"],char:"🕙",fitzpatrick_scale:!1,category:"symbols"},clock11:{keywords:["time","late","early","schedule"],char:"🕚",fitzpatrick_scale:!1,category:"symbols"},clock12:{keywords:["time","noon","midnight","midday","late","early","schedule"],char:"🕛",fitzpatrick_scale:!1,category:"symbols"},clock130:{keywords:["time","late","early","schedule"],char:"🕜",fitzpatrick_scale:!1,category:"symbols"},clock230:{keywords:["time","late","early","schedule"],char:"🕝",fitzpatrick_scale:!1,category:"symbols"},clock330:{keywords:["time","late","early","schedule"],char:"🕞",fitzpatrick_scale:!1,category:"symbols"},clock430:{keywords:["time","late","early","schedule"],char:"🕟",fitzpatrick_scale:!1,category:"symbols"},clock530:{keywords:["time","late","early","schedule"],char:"🕠",fitzpatrick_scale:!1,category:"symbols"},clock630:{keywords:["time","late","early","schedule"],char:"🕡",fitzpatrick_scale:!1,category:"symbols"},clock730:{keywords:["time","late","early","schedule"],char:"🕢",fitzpatrick_scale:!1,category:"symbols"},clock830:{keywords:["time","late","early","schedule"],char:"🕣",fitzpatrick_scale:!1,category:"symbols"},clock930:{keywords:["time","late","early","schedule"],char:"🕤",fitzpatrick_scale:!1,category:"symbols"},clock1030:{keywords:["time","late","early","schedule"],char:"🕥",fitzpatrick_scale:!1,category:"symbols"},clock1130:{keywords:["time","late","early","schedule"],char:"🕦",fitzpatrick_scale:!1,category:"symbols"},clock1230:{keywords:["time","late","early","schedule"],char:"🕧",fitzpatrick_scale:!1,category:"symbols"},afghanistan:{keywords:["af","flag","nation","country","banner"],char:"🇦🇫",fitzpatrick_scale:!1,category:"flags"},aland_islands:{keywords:["Åland","islands","flag","nation","country","banner"],char:"🇦🇽",fitzpatrick_scale:!1,category:"flags"},albania:{keywords:["al","flag","nation","country","banner"],char:"🇦🇱",fitzpatrick_scale:!1,category:"flags"},algeria:{keywords:["dz","flag","nation","country","banner"],char:"🇩🇿",fitzpatrick_scale:!1,category:"flags"},american_samoa:{keywords:["american","ws","flag","nation","country","banner"],char:"🇦🇸",fitzpatrick_scale:!1,category:"flags"},andorra:{keywords:["ad","flag","nation","country","banner"],char:"🇦🇩",fitzpatrick_scale:!1,category:"flags"},angola:{keywords:["ao","flag","nation","country","banner"],char:"🇦🇴",fitzpatrick_scale:!1,category:"flags"},anguilla:{keywords:["ai","flag","nation","country","banner"],char:"🇦🇮",fitzpatrick_scale:!1,category:"flags"},antarctica:{keywords:["aq","flag","nation","country","banner"],char:"🇦🇶",fitzpatrick_scale:!1,category:"flags"},antigua_barbuda:{keywords:["antigua","barbuda","flag","nation","country","banner"],char:"🇦🇬",fitzpatrick_scale:!1,category:"flags"},argentina:{keywords:["ar","flag","nation","country","banner"],char:"🇦🇷",fitzpatrick_scale:!1,category:"flags"},armenia:{keywords:["am","flag","nation","country","banner"],char:"🇦🇲",fitzpatrick_scale:!1,category:"flags"},aruba:{keywords:["aw","flag","nation","country","banner"],char:"🇦🇼",fitzpatrick_scale:!1,category:"flags"},australia:{keywords:["au","flag","nation","country","banner"],char:"🇦🇺",fitzpatrick_scale:!1,category:"flags"},austria:{keywords:["at","flag","nation","country","banner"],char:"🇦🇹",fitzpatrick_scale:!1,category:"flags"},azerbaijan:{keywords:["az","flag","nation","country","banner"],char:"🇦🇿",fitzpatrick_scale:!1,category:"flags"},bahamas:{keywords:["bs","flag","nation","country","banner"],char:"🇧🇸",fitzpatrick_scale:!1,category:"flags"},bahrain:{keywords:["bh","flag","nation","country","banner"],char:"🇧🇭",fitzpatrick_scale:!1,category:"flags"},bangladesh:{keywords:["bd","flag","nation","country","banner"],char:"🇧🇩",fitzpatrick_scale:!1,category:"flags"},barbados:{keywords:["bb","flag","nation","country","banner"],char:"🇧🇧",fitzpatrick_scale:!1,category:"flags"},belarus:{keywords:["by","flag","nation","country","banner"],char:"🇧🇾",fitzpatrick_scale:!1,category:"flags"},belgium:{keywords:["be","flag","nation","country","banner"],char:"🇧🇪",fitzpatrick_scale:!1,category:"flags"},belize:{keywords:["bz","flag","nation","country","banner"],char:"🇧🇿",fitzpatrick_scale:!1,category:"flags"},benin:{keywords:["bj","flag","nation","country","banner"],char:"🇧🇯",fitzpatrick_scale:!1,category:"flags"},bermuda:{keywords:["bm","flag","nation","country","banner"],char:"🇧🇲",fitzpatrick_scale:!1,category:"flags"},bhutan:{keywords:["bt","flag","nation","country","banner"],char:"🇧🇹",fitzpatrick_scale:!1,category:"flags"},bolivia:{keywords:["bo","flag","nation","country","banner"],char:"🇧🇴",fitzpatrick_scale:!1,category:"flags"},caribbean_netherlands:{keywords:["bonaire","flag","nation","country","banner"],char:"🇧🇶",fitzpatrick_scale:!1,category:"flags"},bosnia_herzegovina:{keywords:["bosnia","herzegovina","flag","nation","country","banner"],char:"🇧🇦",fitzpatrick_scale:!1,category:"flags"},botswana:{keywords:["bw","flag","nation","country","banner"],char:"🇧🇼",fitzpatrick_scale:!1,category:"flags"},brazil:{keywords:["br","flag","nation","country","banner"],char:"🇧🇷",fitzpatrick_scale:!1,category:"flags"},british_indian_ocean_territory:{keywords:["british","indian","ocean","territory","flag","nation","country","banner"],char:"🇮🇴",fitzpatrick_scale:!1,category:"flags"},british_virgin_islands:{keywords:["british","virgin","islands","bvi","flag","nation","country","banner"],char:"🇻🇬",fitzpatrick_scale:!1,category:"flags"},brunei:{keywords:["bn","darussalam","flag","nation","country","banner"],char:"🇧🇳",fitzpatrick_scale:!1,category:"flags"},bulgaria:{keywords:["bg","flag","nation","country","banner"],char:"🇧🇬",fitzpatrick_scale:!1,category:"flags"},burkina_faso:{keywords:["burkina","faso","flag","nation","country","banner"],char:"🇧🇫",fitzpatrick_scale:!1,category:"flags"},burundi:{keywords:["bi","flag","nation","country","banner"],char:"🇧🇮",fitzpatrick_scale:!1,category:"flags"},cape_verde:{keywords:["cabo","verde","flag","nation","country","banner"],char:"🇨🇻",fitzpatrick_scale:!1,category:"flags"},cambodia:{keywords:["kh","flag","nation","country","banner"],char:"🇰🇭",fitzpatrick_scale:!1,category:"flags"},cameroon:{keywords:["cm","flag","nation","country","banner"],char:"🇨🇲",fitzpatrick_scale:!1,category:"flags"},canada:{keywords:["ca","flag","nation","country","banner"],char:"🇨🇦",fitzpatrick_scale:!1,category:"flags"},canary_islands:{keywords:["canary","islands","flag","nation","country","banner"],char:"🇮🇨",fitzpatrick_scale:!1,category:"flags"},cayman_islands:{keywords:["cayman","islands","flag","nation","country","banner"],char:"🇰🇾",fitzpatrick_scale:!1,category:"flags"},central_african_republic:{keywords:["central","african","republic","flag","nation","country","banner"],char:"🇨🇫",fitzpatrick_scale:!1,category:"flags"},chad:{keywords:["td","flag","nation","country","banner"],char:"🇹🇩",fitzpatrick_scale:!1,category:"flags"},chile:{keywords:["flag","nation","country","banner"],char:"🇨🇱",fitzpatrick_scale:!1,category:"flags"},cn:{keywords:["china","chinese","prc","flag","country","nation","banner"],char:"🇨🇳",fitzpatrick_scale:!1,category:"flags"},christmas_island:{keywords:["christmas","island","flag","nation","country","banner"],char:"🇨🇽",fitzpatrick_scale:!1,category:"flags"},cocos_islands:{keywords:["cocos","keeling","islands","flag","nation","country","banner"],char:"🇨🇨",fitzpatrick_scale:!1,category:"flags"},colombia:{keywords:["co","flag","nation","country","banner"],char:"🇨🇴",fitzpatrick_scale:!1,category:"flags"},comoros:{keywords:["km","flag","nation","country","banner"],char:"🇰🇲",fitzpatrick_scale:!1,category:"flags"},congo_brazzaville:{keywords:["congo","flag","nation","country","banner"],char:"🇨🇬",fitzpatrick_scale:!1,category:"flags"},congo_kinshasa:{keywords:["congo","democratic","republic","flag","nation","country","banner"],char:"🇨🇩",fitzpatrick_scale:!1,category:"flags"},cook_islands:{keywords:["cook","islands","flag","nation","country","banner"],char:"🇨🇰",fitzpatrick_scale:!1,category:"flags"},costa_rica:{keywords:["costa","rica","flag","nation","country","banner"],char:"🇨🇷",fitzpatrick_scale:!1,category:"flags"},croatia:{keywords:["hr","flag","nation","country","banner"],char:"🇭🇷",fitzpatrick_scale:!1,category:"flags"},cuba:{keywords:["cu","flag","nation","country","banner"],char:"🇨🇺",fitzpatrick_scale:!1,category:"flags"},curacao:{keywords:["curaçao","flag","nation","country","banner"],char:"🇨🇼",fitzpatrick_scale:!1,category:"flags"},cyprus:{keywords:["cy","flag","nation","country","banner"],char:"🇨🇾",fitzpatrick_scale:!1,category:"flags"},czech_republic:{keywords:["cz","flag","nation","country","banner"],char:"🇨🇿",fitzpatrick_scale:!1,category:"flags"},denmark:{keywords:["dk","flag","nation","country","banner"],char:"🇩🇰",fitzpatrick_scale:!1,category:"flags"},djibouti:{keywords:["dj","flag","nation","country","banner"],char:"🇩🇯",fitzpatrick_scale:!1,category:"flags"},dominica:{keywords:["dm","flag","nation","country","banner"],char:"🇩🇲",fitzpatrick_scale:!1,category:"flags"},dominican_republic:{keywords:["dominican","republic","flag","nation","country","banner"],char:"🇩🇴",fitzpatrick_scale:!1,category:"flags"},ecuador:{keywords:["ec","flag","nation","country","banner"],char:"🇪🇨",fitzpatrick_scale:!1,category:"flags"},egypt:{keywords:["eg","flag","nation","country","banner"],char:"🇪🇬",fitzpatrick_scale:!1,category:"flags"},el_salvador:{keywords:["el","salvador","flag","nation","country","banner"],char:"🇸🇻",fitzpatrick_scale:!1,category:"flags"},equatorial_guinea:{keywords:["equatorial","gn","flag","nation","country","banner"],char:"🇬🇶",fitzpatrick_scale:!1,category:"flags"},eritrea:{keywords:["er","flag","nation","country","banner"],char:"🇪🇷",fitzpatrick_scale:!1,category:"flags"},estonia:{keywords:["ee","flag","nation","country","banner"],char:"🇪🇪",fitzpatrick_scale:!1,category:"flags"},ethiopia:{keywords:["et","flag","nation","country","banner"],char:"🇪🇹",fitzpatrick_scale:!1,category:"flags"},eu:{keywords:["european","union","flag","banner"],char:"🇪🇺",fitzpatrick_scale:!1,category:"flags"},falkland_islands:{keywords:["falkland","islands","malvinas","flag","nation","country","banner"],char:"🇫🇰",fitzpatrick_scale:!1,category:"flags"},faroe_islands:{keywords:["faroe","islands","flag","nation","country","banner"],char:"🇫🇴",fitzpatrick_scale:!1,category:"flags"},fiji:{keywords:["fj","flag","nation","country","banner"],char:"🇫🇯",fitzpatrick_scale:!1,category:"flags"},finland:{keywords:["fi","flag","nation","country","banner"],char:"🇫🇮",fitzpatrick_scale:!1,category:"flags"},fr:{keywords:["banner","flag","nation","france","french","country"],char:"🇫🇷",fitzpatrick_scale:!1,category:"flags"},french_guiana:{keywords:["french","guiana","flag","nation","country","banner"],char:"🇬🇫",fitzpatrick_scale:!1,category:"flags"},french_polynesia:{keywords:["french","polynesia","flag","nation","country","banner"],char:"🇵🇫",fitzpatrick_scale:!1,category:"flags"},french_southern_territories:{keywords:["french","southern","territories","flag","nation","country","banner"],char:"🇹🇫",fitzpatrick_scale:!1,category:"flags"},gabon:{keywords:["ga","flag","nation","country","banner"],char:"🇬🇦",fitzpatrick_scale:!1,category:"flags"},gambia:{keywords:["gm","flag","nation","country","banner"],char:"🇬🇲",fitzpatrick_scale:!1,category:"flags"},georgia:{keywords:["ge","flag","nation","country","banner"],char:"🇬🇪",fitzpatrick_scale:!1,category:"flags"},de:{keywords:["german","nation","flag","country","banner"],char:"🇩🇪",fitzpatrick_scale:!1,category:"flags"},ghana:{keywords:["gh","flag","nation","country","banner"],char:"🇬🇭",fitzpatrick_scale:!1,category:"flags"},gibraltar:{keywords:["gi","flag","nation","country","banner"],char:"🇬🇮",fitzpatrick_scale:!1,category:"flags"},greece:{keywords:["gr","flag","nation","country","banner"],char:"🇬🇷",fitzpatrick_scale:!1,category:"flags"},greenland:{keywords:["gl","flag","nation","country","banner"],char:"🇬🇱",fitzpatrick_scale:!1,category:"flags"},grenada:{keywords:["gd","flag","nation","country","banner"],char:"🇬🇩",fitzpatrick_scale:!1,category:"flags"},guadeloupe:{keywords:["gp","flag","nation","country","banner"],char:"🇬🇵",fitzpatrick_scale:!1,category:"flags"},guam:{keywords:["gu","flag","nation","country","banner"],char:"🇬🇺",fitzpatrick_scale:!1,category:"flags"},guatemala:{keywords:["gt","flag","nation","country","banner"],char:"🇬🇹",fitzpatrick_scale:!1,category:"flags"},guernsey:{keywords:["gg","flag","nation","country","banner"],char:"🇬🇬",fitzpatrick_scale:!1,category:"flags"},guinea:{keywords:["gn","flag","nation","country","banner"],char:"🇬🇳",fitzpatrick_scale:!1,category:"flags"},guinea_bissau:{keywords:["gw","bissau","flag","nation","country","banner"],char:"🇬🇼",fitzpatrick_scale:!1,category:"flags"},guyana:{keywords:["gy","flag","nation","country","banner"],char:"🇬🇾",fitzpatrick_scale:!1,category:"flags"},haiti:{keywords:["ht","flag","nation","country","banner"],char:"🇭🇹",fitzpatrick_scale:!1,category:"flags"},honduras:{keywords:["hn","flag","nation","country","banner"],char:"🇭🇳",fitzpatrick_scale:!1,category:"flags"},hong_kong:{keywords:["hong","kong","flag","nation","country","banner"],char:"🇭🇰",fitzpatrick_scale:!1,category:"flags"},hungary:{keywords:["hu","flag","nation","country","banner"],char:"🇭🇺",fitzpatrick_scale:!1,category:"flags"},iceland:{keywords:["is","flag","nation","country","banner"],char:"🇮🇸",fitzpatrick_scale:!1,category:"flags"},india:{keywords:["in","flag","nation","country","banner"],char:"🇮🇳",fitzpatrick_scale:!1,category:"flags"},indonesia:{keywords:["flag","nation","country","banner"],char:"🇮🇩",fitzpatrick_scale:!1,category:"flags"},iran:{keywords:["iran,","islamic","republic","flag","nation","country","banner"],char:"🇮🇷",fitzpatrick_scale:!1,category:"flags"},iraq:{keywords:["iq","flag","nation","country","banner"],char:"🇮🇶",fitzpatrick_scale:!1,category:"flags"},ireland:{keywords:["ie","flag","nation","country","banner"],char:"🇮🇪",fitzpatrick_scale:!1,category:"flags"},isle_of_man:{keywords:["isle","man","flag","nation","country","banner"],char:"🇮🇲",fitzpatrick_scale:!1,category:"flags"},israel:{keywords:["il","flag","nation","country","banner"],char:"🇮🇱",fitzpatrick_scale:!1,category:"flags"},it:{keywords:["italy","flag","nation","country","banner"],char:"🇮🇹",fitzpatrick_scale:!1,category:"flags"},cote_divoire:{keywords:["ivory","coast","flag","nation","country","banner"],char:"🇨🇮",fitzpatrick_scale:!1,category:"flags"},jamaica:{keywords:["jm","flag","nation","country","banner"],char:"🇯🇲",fitzpatrick_scale:!1,category:"flags"},jp:{keywords:["japanese","nation","flag","country","banner"],char:"🇯🇵",fitzpatrick_scale:!1,category:"flags"},jersey:{keywords:["je","flag","nation","country","banner"],char:"🇯🇪",fitzpatrick_scale:!1,category:"flags"},jordan:{keywords:["jo","flag","nation","country","banner"],char:"🇯🇴",fitzpatrick_scale:!1,category:"flags"},kazakhstan:{keywords:["kz","flag","nation","country","banner"],char:"🇰🇿",fitzpatrick_scale:!1,category:"flags"},kenya:{keywords:["ke","flag","nation","country","banner"],char:"🇰🇪",fitzpatrick_scale:!1,category:"flags"},kiribati:{keywords:["ki","flag","nation","country","banner"],char:"🇰🇮",fitzpatrick_scale:!1,category:"flags"},kosovo:{keywords:["xk","flag","nation","country","banner"],char:"🇽🇰",fitzpatrick_scale:!1,category:"flags"},kuwait:{keywords:["kw","flag","nation","country","banner"],char:"🇰🇼",fitzpatrick_scale:!1,category:"flags"},kyrgyzstan:{keywords:["kg","flag","nation","country","banner"],char:"🇰🇬",fitzpatrick_scale:!1,category:"flags"},laos:{keywords:["lao","democratic","republic","flag","nation","country","banner"],char:"🇱🇦",fitzpatrick_scale:!1,category:"flags"},latvia:{keywords:["lv","flag","nation","country","banner"],char:"🇱🇻",fitzpatrick_scale:!1,category:"flags"},lebanon:{keywords:["lb","flag","nation","country","banner"],char:"🇱🇧",fitzpatrick_scale:!1,category:"flags"},lesotho:{keywords:["ls","flag","nation","country","banner"],char:"🇱🇸",fitzpatrick_scale:!1,category:"flags"},liberia:{keywords:["lr","flag","nation","country","banner"],char:"🇱🇷",fitzpatrick_scale:!1,category:"flags"},libya:{keywords:["ly","flag","nation","country","banner"],char:"🇱🇾",fitzpatrick_scale:!1,category:"flags"},liechtenstein:{keywords:["li","flag","nation","country","banner"],char:"🇱🇮",fitzpatrick_scale:!1,category:"flags"},lithuania:{keywords:["lt","flag","nation","country","banner"],char:"🇱🇹",fitzpatrick_scale:!1,category:"flags"},luxembourg:{keywords:["lu","flag","nation","country","banner"],char:"🇱🇺",fitzpatrick_scale:!1,category:"flags"},macau:{keywords:["macao","flag","nation","country","banner"],char:"🇲🇴",fitzpatrick_scale:!1,category:"flags"},macedonia:{keywords:["macedonia,","flag","nation","country","banner"],char:"🇲🇰",fitzpatrick_scale:!1,category:"flags"},madagascar:{keywords:["mg","flag","nation","country","banner"],char:"🇲🇬",fitzpatrick_scale:!1,category:"flags"},malawi:{keywords:["mw","flag","nation","country","banner"],char:"🇲🇼",fitzpatrick_scale:!1,category:"flags"},malaysia:{keywords:["my","flag","nation","country","banner"],char:"🇲🇾",fitzpatrick_scale:!1,category:"flags"},maldives:{keywords:["mv","flag","nation","country","banner"],char:"🇲🇻",fitzpatrick_scale:!1,category:"flags"},mali:{keywords:["ml","flag","nation","country","banner"],char:"🇲🇱",fitzpatrick_scale:!1,category:"flags"},malta:{keywords:["mt","flag","nation","country","banner"],char:"🇲🇹",fitzpatrick_scale:!1,category:"flags"},marshall_islands:{keywords:["marshall","islands","flag","nation","country","banner"],char:"🇲🇭",fitzpatrick_scale:!1,category:"flags"},martinique:{keywords:["mq","flag","nation","country","banner"],char:"🇲🇶",fitzpatrick_scale:!1,category:"flags"},mauritania:{keywords:["mr","flag","nation","country","banner"],char:"🇲🇷",fitzpatrick_scale:!1,category:"flags"},mauritius:{keywords:["mu","flag","nation","country","banner"],char:"🇲🇺",fitzpatrick_scale:!1,category:"flags"},mayotte:{keywords:["yt","flag","nation","country","banner"],char:"🇾🇹",fitzpatrick_scale:!1,category:"flags"},mexico:{keywords:["mx","flag","nation","country","banner"],char:"🇲🇽",fitzpatrick_scale:!1,category:"flags"},micronesia:{keywords:["micronesia,","federated","states","flag","nation","country","banner"],char:"🇫🇲",fitzpatrick_scale:!1,category:"flags"},moldova:{keywords:["moldova,","republic","flag","nation","country","banner"],char:"🇲🇩",fitzpatrick_scale:!1,category:"flags"},monaco:{keywords:["mc","flag","nation","country","banner"],char:"🇲🇨",fitzpatrick_scale:!1,category:"flags"},mongolia:{keywords:["mn","flag","nation","country","banner"],char:"🇲🇳",fitzpatrick_scale:!1,category:"flags"},montenegro:{keywords:["me","flag","nation","country","banner"],char:"🇲🇪",fitzpatrick_scale:!1,category:"flags"},montserrat:{keywords:["ms","flag","nation","country","banner"],char:"🇲🇸",fitzpatrick_scale:!1,category:"flags"},morocco:{keywords:["ma","flag","nation","country","banner"],char:"🇲🇦",fitzpatrick_scale:!1,category:"flags"},mozambique:{keywords:["mz","flag","nation","country","banner"],char:"🇲🇿",fitzpatrick_scale:!1,category:"flags"},myanmar:{keywords:["mm","flag","nation","country","banner"],char:"🇲🇲",fitzpatrick_scale:!1,category:"flags"},namibia:{keywords:["na","flag","nation","country","banner"],char:"🇳🇦",fitzpatrick_scale:!1,category:"flags"},nauru:{keywords:["nr","flag","nation","country","banner"],char:"🇳🇷",fitzpatrick_scale:!1,category:"flags"},nepal:{keywords:["np","flag","nation","country","banner"],char:"🇳🇵",fitzpatrick_scale:!1,category:"flags"},netherlands:{keywords:["nl","flag","nation","country","banner"],char:"🇳🇱",fitzpatrick_scale:!1,category:"flags"},new_caledonia:{keywords:["new","caledonia","flag","nation","country","banner"],char:"🇳🇨",fitzpatrick_scale:!1,category:"flags"},new_zealand:{keywords:["new","zealand","flag","nation","country","banner"],char:"🇳🇿",fitzpatrick_scale:!1,category:"flags"},nicaragua:{keywords:["ni","flag","nation","country","banner"],char:"🇳🇮",fitzpatrick_scale:!1,category:"flags"},niger:{keywords:["ne","flag","nation","country","banner"],char:"🇳🇪",fitzpatrick_scale:!1,category:"flags"},nigeria:{keywords:["flag","nation","country","banner"],char:"🇳🇬",fitzpatrick_scale:!1,category:"flags"},niue:{keywords:["nu","flag","nation","country","banner"],char:"🇳🇺",fitzpatrick_scale:!1,category:"flags"},norfolk_island:{keywords:["norfolk","island","flag","nation","country","banner"],char:"🇳🇫",fitzpatrick_scale:!1,category:"flags"},northern_mariana_islands:{keywords:["northern","mariana","islands","flag","nation","country","banner"],char:"🇲🇵",fitzpatrick_scale:!1,category:"flags"},north_korea:{keywords:["north","korea","nation","flag","country","banner"],char:"🇰🇵",fitzpatrick_scale:!1,category:"flags"},norway:{keywords:["no","flag","nation","country","banner"],char:"🇳🇴",fitzpatrick_scale:!1,category:"flags"},oman:{keywords:["om_symbol","flag","nation","country","banner"],char:"🇴🇲",fitzpatrick_scale:!1,category:"flags"},pakistan:{keywords:["pk","flag","nation","country","banner"],char:"🇵🇰",fitzpatrick_scale:!1,category:"flags"},palau:{keywords:["pw","flag","nation","country","banner"],char:"🇵🇼",fitzpatrick_scale:!1,category:"flags"},palestinian_territories:{keywords:["palestine","palestinian","territories","flag","nation","country","banner"],char:"🇵🇸",fitzpatrick_scale:!1,category:"flags"},panama:{keywords:["pa","flag","nation","country","banner"],char:"🇵🇦",fitzpatrick_scale:!1,category:"flags"},papua_new_guinea:{keywords:["papua","new","guinea","flag","nation","country","banner"],char:"🇵🇬",fitzpatrick_scale:!1,category:"flags"},paraguay:{keywords:["py","flag","nation","country","banner"],char:"🇵🇾",fitzpatrick_scale:!1,category:"flags"},peru:{keywords:["pe","flag","nation","country","banner"],char:"🇵🇪",fitzpatrick_scale:!1,category:"flags"},philippines:{keywords:["ph","flag","nation","country","banner"],char:"🇵🇭",fitzpatrick_scale:!1,category:"flags"},pitcairn_islands:{keywords:["pitcairn","flag","nation","country","banner"],char:"🇵🇳",fitzpatrick_scale:!1,category:"flags"},poland:{keywords:["pl","flag","nation","country","banner"],char:"🇵🇱",fitzpatrick_scale:!1,category:"flags"},portugal:{keywords:["pt","flag","nation","country","banner"],char:"🇵🇹",fitzpatrick_scale:!1,category:"flags"},puerto_rico:{keywords:["puerto","rico","flag","nation","country","banner"],char:"🇵🇷",fitzpatrick_scale:!1,category:"flags"},qatar:{keywords:["qa","flag","nation","country","banner"],char:"🇶🇦",fitzpatrick_scale:!1,category:"flags"},reunion:{keywords:["réunion","flag","nation","country","banner"],char:"🇷🇪",fitzpatrick_scale:!1,category:"flags"},romania:{keywords:["ro","flag","nation","country","banner"],char:"🇷🇴",fitzpatrick_scale:!1,category:"flags"},ru:{keywords:["russian","federation","flag","nation","country","banner"],char:"🇷🇺",fitzpatrick_scale:!1,category:"flags"},rwanda:{keywords:["rw","flag","nation","country","banner"],char:"🇷🇼",fitzpatrick_scale:!1,category:"flags"},st_barthelemy:{keywords:["saint","barthélemy","flag","nation","country","banner"],char:"🇧🇱",fitzpatrick_scale:!1,category:"flags"},st_helena:{keywords:["saint","helena","ascension","tristan","cunha","flag","nation","country","banner"],char:"🇸🇭",fitzpatrick_scale:!1,category:"flags"},st_kitts_nevis:{keywords:["saint","kitts","nevis","flag","nation","country","banner"],char:"🇰🇳",fitzpatrick_scale:!1,category:"flags"},st_lucia:{keywords:["saint","lucia","flag","nation","country","banner"],char:"🇱🇨",fitzpatrick_scale:!1,category:"flags"},st_pierre_miquelon:{keywords:["saint","pierre","miquelon","flag","nation","country","banner"],char:"🇵🇲",fitzpatrick_scale:!1,category:"flags"},st_vincent_grenadines:{keywords:["saint","vincent","grenadines","flag","nation","country","banner"],char:"🇻🇨",fitzpatrick_scale:!1,category:"flags"},samoa:{keywords:["ws","flag","nation","country","banner"],char:"🇼🇸",fitzpatrick_scale:!1,category:"flags"},san_marino:{keywords:["san","marino","flag","nation","country","banner"],char:"🇸🇲",fitzpatrick_scale:!1,category:"flags"},sao_tome_principe:{keywords:["sao","tome","principe","flag","nation","country","banner"],char:"🇸🇹",fitzpatrick_scale:!1,category:"flags"},saudi_arabia:{keywords:["flag","nation","country","banner"],char:"🇸🇦",fitzpatrick_scale:!1,category:"flags"},senegal:{keywords:["sn","flag","nation","country","banner"],char:"🇸🇳",fitzpatrick_scale:!1,category:"flags"},serbia:{keywords:["rs","flag","nation","country","banner"],char:"🇷🇸",fitzpatrick_scale:!1,category:"flags"},seychelles:{keywords:["sc","flag","nation","country","banner"],char:"🇸🇨",fitzpatrick_scale:!1,category:"flags"},sierra_leone:{keywords:["sierra","leone","flag","nation","country","banner"],char:"🇸🇱",fitzpatrick_scale:!1,category:"flags"},singapore:{keywords:["sg","flag","nation","country","banner"],char:"🇸🇬",fitzpatrick_scale:!1,category:"flags"},sint_maarten:{keywords:["sint","maarten","dutch","flag","nation","country","banner"],char:"🇸🇽",fitzpatrick_scale:!1,category:"flags"},slovakia:{keywords:["sk","flag","nation","country","banner"],char:"🇸🇰",fitzpatrick_scale:!1,category:"flags"},slovenia:{keywords:["si","flag","nation","country","banner"],char:"🇸🇮",fitzpatrick_scale:!1,category:"flags"},solomon_islands:{keywords:["solomon","islands","flag","nation","country","banner"],char:"🇸🇧",fitzpatrick_scale:!1,category:"flags"},somalia:{keywords:["so","flag","nation","country","banner"],char:"🇸🇴",fitzpatrick_scale:!1,category:"flags"},south_africa:{keywords:["south","africa","flag","nation","country","banner"],char:"🇿🇦",fitzpatrick_scale:!1,category:"flags"},south_georgia_south_sandwich_islands:{keywords:["south","georgia","sandwich","islands","flag","nation","country","banner"],char:"🇬🇸",fitzpatrick_scale:!1,category:"flags"},kr:{keywords:["south","korea","nation","flag","country","banner"],char:"🇰🇷",fitzpatrick_scale:!1,category:"flags"},south_sudan:{keywords:["south","sd","flag","nation","country","banner"],char:"🇸🇸",fitzpatrick_scale:!1,category:"flags"},es:{keywords:["spain","flag","nation","country","banner"],char:"🇪🇸",fitzpatrick_scale:!1,category:"flags"},sri_lanka:{keywords:["sri","lanka","flag","nation","country","banner"],char:"🇱🇰",fitzpatrick_scale:!1,category:"flags"},sudan:{keywords:["sd","flag","nation","country","banner"],char:"🇸🇩",fitzpatrick_scale:!1,category:"flags"},suriname:{keywords:["sr","flag","nation","country","banner"],char:"🇸🇷",fitzpatrick_scale:!1,category:"flags"},swaziland:{keywords:["sz","flag","nation","country","banner"],char:"🇸🇿",fitzpatrick_scale:!1,category:"flags"},sweden:{keywords:["se","flag","nation","country","banner"],char:"🇸🇪",fitzpatrick_scale:!1,category:"flags"},switzerland:{keywords:["ch","flag","nation","country","banner"],char:"🇨🇭",fitzpatrick_scale:!1,category:"flags"},syria:{keywords:["syrian","arab","republic","flag","nation","country","banner"],char:"🇸🇾",fitzpatrick_scale:!1,category:"flags"},taiwan:{keywords:["tw","flag","nation","country","banner"],char:"🇹🇼",fitzpatrick_scale:!1,category:"flags"},tajikistan:{keywords:["tj","flag","nation","country","banner"],char:"🇹🇯",fitzpatrick_scale:!1,category:"flags"},tanzania:{keywords:["tanzania,","united","republic","flag","nation","country","banner"],char:"🇹🇿",fitzpatrick_scale:!1,category:"flags"},thailand:{keywords:["th","flag","nation","country","banner"],char:"🇹🇭",fitzpatrick_scale:!1,category:"flags"},timor_leste:{keywords:["timor","leste","flag","nation","country","banner"],char:"🇹🇱",fitzpatrick_scale:!1,category:"flags"},togo:{keywords:["tg","flag","nation","country","banner"],char:"🇹🇬",fitzpatrick_scale:!1,category:"flags"},tokelau:{keywords:["tk","flag","nation","country","banner"],char:"🇹🇰",fitzpatrick_scale:!1,category:"flags"},tonga:{keywords:["to","flag","nation","country","banner"],char:"🇹🇴",fitzpatrick_scale:!1,category:"flags"},trinidad_tobago:{keywords:["trinidad","tobago","flag","nation","country","banner"],char:"🇹🇹",fitzpatrick_scale:!1,category:"flags"},tunisia:{keywords:["tn","flag","nation","country","banner"],char:"🇹🇳",fitzpatrick_scale:!1,category:"flags"},tr:{keywords:["turkey","flag","nation","country","banner"],char:"🇹🇷",fitzpatrick_scale:!1,category:"flags"},turkmenistan:{keywords:["flag","nation","country","banner"],char:"🇹🇲",fitzpatrick_scale:!1,category:"flags"},turks_caicos_islands:{keywords:["turks","caicos","islands","flag","nation","country","banner"],char:"🇹🇨",fitzpatrick_scale:!1,category:"flags"},tuvalu:{keywords:["flag","nation","country","banner"],char:"🇹🇻",fitzpatrick_scale:!1,category:"flags"},uganda:{keywords:["ug","flag","nation","country","banner"],char:"🇺🇬",fitzpatrick_scale:!1,category:"flags"},ukraine:{keywords:["ua","flag","nation","country","banner"],char:"🇺🇦",fitzpatrick_scale:!1,category:"flags"},united_arab_emirates:{keywords:["united","arab","emirates","flag","nation","country","banner"],char:"🇦🇪",fitzpatrick_scale:!1,category:"flags"},uk:{keywords:["united","kingdom","great","britain","northern","ireland","flag","nation","country","banner","british","UK","english","england","union jack"],char:"🇬🇧",fitzpatrick_scale:!1,category:"flags"},england:{keywords:["flag","english"],char:"🏴󠁧󠁢󠁥󠁮󠁧󠁿",fitzpatrick_scale:!1,category:"flags"},scotland:{keywords:["flag","scottish"],char:"🏴󠁧󠁢󠁳󠁣󠁴󠁿",fitzpatrick_scale:!1,category:"flags"},wales:{keywords:["flag","welsh"],char:"🏴󠁧󠁢󠁷󠁬󠁳󠁿",fitzpatrick_scale:!1,category:"flags"},us:{keywords:["united","states","america","flag","nation","country","banner"],char:"🇺🇸",fitzpatrick_scale:!1,category:"flags"},us_virgin_islands:{keywords:["virgin","islands","us","flag","nation","country","banner"],char:"🇻🇮",fitzpatrick_scale:!1,category:"flags"},uruguay:{keywords:["uy","flag","nation","country","banner"],char:"🇺🇾",fitzpatrick_scale:!1,category:"flags"},uzbekistan:{keywords:["uz","flag","nation","country","banner"],char:"🇺🇿",fitzpatrick_scale:!1,category:"flags"},vanuatu:{keywords:["vu","flag","nation","country","banner"],char:"🇻🇺",fitzpatrick_scale:!1,category:"flags"},vatican_city:{keywords:["vatican","city","flag","nation","country","banner"],char:"🇻🇦",fitzpatrick_scale:!1,category:"flags"},venezuela:{keywords:["ve","bolivarian","republic","flag","nation","country","banner"],char:"🇻🇪",fitzpatrick_scale:!1,category:"flags"},vietnam:{keywords:["viet","nam","flag","nation","country","banner"],char:"🇻🇳",fitzpatrick_scale:!1,category:"flags"},wallis_futuna:{keywords:["wallis","futuna","flag","nation","country","banner"],char:"🇼🇫",fitzpatrick_scale:!1,category:"flags"},western_sahara:{keywords:["western","sahara","flag","nation","country","banner"],char:"🇪🇭",fitzpatrick_scale:!1,category:"flags"},yemen:{keywords:["ye","flag","nation","country","banner"],char:"🇾🇪",fitzpatrick_scale:!1,category:"flags"},zambia:{keywords:["zm","flag","nation","country","banner"],char:"🇿🇲",fitzpatrick_scale:!1,category:"flags"},zimbabwe:{keywords:["zw","flag","nation","country","banner"],char:"🇿🇼",fitzpatrick_scale:!1,category:"flags"},united_nations:{keywords:["un","flag","banner"],char:"🇺🇳",fitzpatrick_scale:!1,category:"flags"},pirate_flag:{keywords:["skull","crossbones","flag","banner"],char:"🏴‍☠️",fitzpatrick_scale:!1,category:"flags"}});(function(){var Hr=tinymce.util.Tools.resolve("tinymce.PluginManager");const Hs=(G,le,Ce)=>{var Ve;return Ce(G,le.prototype)?!0:((Ve=G.constructor)===null||Ve===void 0?void 0:Ve.name)===le.name},is=G=>{const le=typeof G;return G===null?"null":le==="object"&&Array.isArray(G)?"array":le==="object"&&Hs(G,String,(Ce,Ve)=>Ve.isPrototypeOf(Ce))?"string":le},ms=G=>le=>is(le)===G,Dr=G=>le=>typeof le===G,Do=G=>le=>G===le,sr=ms("string"),Qn=ms("object"),Ko=ms("array"),Rn=Do(null),tn=Dr("boolean"),Yn=G=>G==null,Rr=G=>!Yn(G),Lt=Dr("function"),eo=(G,le)=>{if(Ko(G)){for(let Ce=0,Ve=G.length;Ce<Ve;++Ce)if(!le(G[Ce]))return!1;return!0}return!1},Yo=()=>{},ar=G=>()=>G,at=(G,le)=>G===le;class it{constructor(le,Ce){this.tag=le,this.value=Ce}static some(le){return new it(!0,le)}static none(){return it.singletonNone}fold(le,Ce){return this.tag?Ce(this.value):le()}isSome(){return this.tag}isNone(){return!this.tag}map(le){return this.tag?it.some(le(this.value)):it.none()}bind(le){return this.tag?le(this.value):it.none()}exists(le){return this.tag&&le(this.value)}forall(le){return!this.tag||le(this.value)}filter(le){return!this.tag||le(this.value)?this:it.none()}getOr(le){return this.tag?this.value:le}or(le){return this.tag?this:le}getOrThunk(le){return this.tag?this.value:le()}orThunk(le){return this.tag?this:le()}getOrDie(le){if(this.tag)return this.value;throw new Error(le??"Called getOrDie on None")}static from(le){return Rr(le)?it.some(le):it.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(le){this.tag&&le(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}it.singletonNone=new it(!1);const mt=Array.prototype.indexOf,ce=Array.prototype.push,Tt=(G,le)=>mt.call(G,le),ve=(G,le)=>Tt(G,le)>-1,ct=(G,le)=>{const Ce=G.length,Ve=new Array(Ce);for(let lt=0;lt<Ce;lt++){const $t=G[lt];Ve[lt]=le($t,lt)}return Ve},$r=(G,le)=>{for(let Ce=0,Ve=G.length;Ce<Ve;Ce++){const lt=G[Ce];le(lt,Ce)}},er=(G,le,Ce)=>($r(G,(Ve,lt)=>{Ce=le(Ce,Ve,lt)}),Ce),Io=G=>{const le=[];for(let Ce=0,Ve=G.length;Ce<Ve;++Ce){if(!Ko(G[Ce]))throw new Error("Arr.flatten item "+Ce+" was not an array, input: "+G);ce.apply(le,G[Ce])}return le},$e=(G,le)=>Io(ct(G,le)),Pt=(G,le)=>{for(let Ce=0;Ce<G.length;Ce++){const Ve=le(G[Ce],Ce);if(Ve.isSome())return Ve}return it.none()},T=(G,le,Ce=at)=>G.exists(Ve=>Ce(Ve,le)),_o=G=>{const le=[],Ce=Ve=>{le.push(Ve)};for(let Ve=0;Ve<G.length;Ve++)G[Ve].each(Ce);return le},Yt=(G,le)=>G?it.some(le):it.none(),Lo=G=>le=>le.options.get(G),hr=G=>{const le=G.options.register;le("link_assume_external_targets",{processor:Ce=>{const Ve=sr(Ce)||tn(Ce);return Ve?Ce===!0?{value:1,valid:Ve}:Ce==="http"||Ce==="https"?{value:Ce,valid:Ve}:{value:0,valid:Ve}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),le("link_context_toolbar",{processor:"boolean",default:!1}),le("link_list",{processor:Ce=>sr(Ce)||Lt(Ce)||eo(Ce,Qn)}),le("link_default_target",{processor:"string"}),le("link_default_protocol",{processor:"string",default:"https"}),le("link_target_list",{processor:Ce=>tn(Ce)||eo(Ce,Qn),default:!0}),le("link_rel_list",{processor:"object[]",default:[]}),le("link_class_list",{processor:"object[]",default:[]}),le("link_title",{processor:"boolean",default:!0}),le("allow_unsafe_link_target",{processor:"boolean",default:!1}),le("link_quicklink",{processor:"boolean",default:!1})},we=Lo("link_assume_external_targets"),At=Lo("link_context_toolbar"),dn=Lo("link_list"),kt=Lo("link_default_target"),nt=Lo("link_default_protocol"),Dt=Lo("link_target_list"),Wr=Lo("link_rel_list"),Nn=Lo("link_class_list"),yn=Lo("link_title"),Co=Lo("allow_unsafe_link_target"),H=Lo("link_quicklink"),ra=Object.keys,Hn=Object.hasOwnProperty,kn=(G,le)=>{const Ce=ra(G);for(let Ve=0,lt=Ce.length;Ve<lt;Ve++){const $t=Ce[Ve],To=G[$t];le(To,$t)}},yi=G=>(le,Ce)=>{G[Ce]=le},kl=(G,le,Ce,Ve)=>{kn(G,(lt,$t)=>{(le(lt,$t)?Ce:Ve)(lt,$t)})},on=(G,le)=>{const Ce={};return kl(G,le,yi(Ce),Yo),Ce},zn=(G,le)=>Hn.call(G,le),Jo=(G,le)=>zn(G,le)&&G[le]!==void 0&&G[le]!==null;var Re=tinymce.util.Tools.resolve("tinymce.util.URI"),wt=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),rt=tinymce.util.Tools.resolve("tinymce.util.Tools");const et=G=>Rr(G)&&G.nodeName.toLowerCase()==="a",Gt=G=>et(G)&&!!Tn(G),uo=(G,le)=>{if(G.collapsed)return[];{const Ce=G.cloneContents(),Ve=Ce.firstChild,lt=new wt(Ve,Ce),$t=[];let To=Ve;do le(To)&&$t.push(To);while(To=lt.next());return $t}},qo=G=>/^\w+:/i.test(G),Tn=G=>{var le,Ce;return(Ce=(le=G.getAttribute("data-mce-href"))!==null&&le!==void 0?le:G.getAttribute("href"))!==null&&Ce!==void 0?Ce:""},or=(G,le)=>{const Ce=["noopener"],Ve=G?G.split(/\s+/):[],lt=jo=>rt.trim(jo.sort().join(" ")),$t=jo=>(jo=To(jo),jo.length>0?jo.concat(Ce):Ce),To=jo=>jo.filter(Zn=>rt.inArray(Ce,Zn)===-1),Ln=le?$t(Ve):To(Ve);return Ln.length>0?lt(Ln):""},$n=G=>G.replace(/\uFEFF/g,""),vn=(G,le)=>(le=le||Vn(G.selection.getRng())[0]||G.selection.getNode(),no(le)?it.from(G.dom.select("a[href]",le)[0]):it.from(G.dom.getParent(le,"a[href]"))),Nr=(G,le)=>vn(G,le).isSome(),Js=(G,le)=>{const Ce=le.fold(()=>G.getContent({format:"text"}),Ve=>Ve.innerText||Ve.textContent||"");return $n(Ce)},Vn=G=>uo(G,Gt),_r=G=>rt.grep(G,Gt),Qo=G=>_r(G).length>0,$s=G=>Vn(G).length>0,dt=G=>{const le=G.schema.getTextInlineElements(),Ce=$t=>$t.nodeType===1&&!et($t)&&!zn(le,$t.nodeName.toLowerCase());if(vn(G).exists($t=>$t.hasAttribute("data-mce-block")))return!1;const lt=G.selection.getRng();return lt.collapsed?!0:uo(lt,Ce).length===0},no=G=>Rr(G)&&G.nodeName==="FIGURE"&&/\bimage\b/i.test(G.className),Vo=G=>er(["title","rel","class","target"],(Ce,Ve)=>(G[Ve].each(lt=>{Ce[Ve]=lt.length>0?lt:null}),Ce),{href:G.href}),Rs=(G,le)=>(le==="http"||le==="https")&&!qo(G)?le+"://"+G:G,$a=(G,le)=>{const Ce={...le};if(Wr(G).length===0&&!Co(G)){const Ve=or(Ce.rel,Ce.target==="_blank");Ce.rel=Ve||null}return it.from(Ce.target).isNone()&&Dt(G)===!1&&(Ce.target=kt(G)),Ce.href=Rs(Ce.href,we(G)),Ce},st=(G,le,Ce,Ve)=>{Ce.each(lt=>{zn(le,"innerText")?le.innerText=lt:le.textContent=lt}),G.dom.setAttribs(le,Ve),G.selection.select(le)},Ta=(G,le,Ce,Ve)=>{const lt=G.dom;no(le)?qi(lt,le,Ve):Ce.fold(()=>{G.execCommand("mceInsertLink",!1,Ve)},$t=>{G.insertContent(lt.createHTML("a",Ve,lt.encode($t)))})},Bo=(G,le,Ce)=>{const Ve=G.selection.getNode(),lt=vn(G,Ve),$t=$a(G,Vo(Ce));G.undoManager.transact(()=>{Ce.href===le.href&&le.attach(),lt.fold(()=>{Ta(G,Ve,Ce.text,$t)},To=>{G.focus(),st(G,To,Ce.text,$t)})})},vi=G=>{const le=G.dom,Ce=G.selection,Ve=Ce.getBookmark(),lt=Ce.getRng().cloneRange(),$t=le.getParent(lt.startContainer,"a[href]",G.getBody()),To=le.getParent(lt.endContainer,"a[href]",G.getBody());$t&&lt.setStartBefore($t),To&&lt.setEndAfter(To),Ce.setRng(lt),G.execCommand("unlink"),Ce.moveToBookmark(Ve)},Xn=G=>{G.undoManager.transact(()=>{const le=G.selection.getNode();no(le)?Va(G,le):vi(G),G.focus()})},ls=G=>{const{class:le,href:Ce,rel:Ve,target:lt,text:$t,title:To}=G;return on({class:le.getOrNull(),href:Ce,rel:Ve.getOrNull(),target:lt.getOrNull(),text:$t.getOrNull(),title:To.getOrNull()},(Ln,jo)=>Rn(Ln)===!1)},Wi=(G,le)=>{const Ce=G.options.get,Ve={allow_html_data_urls:Ce("allow_html_data_urls"),allow_script_urls:Ce("allow_script_urls"),allow_svg_data_urls:Ce("allow_svg_data_urls")},lt=le.href;return{...le,href:Re.isDomSafe(lt,"a",Ve)?lt:""}},Ri=(G,le,Ce)=>{const Ve=Wi(G,Ce);G.hasPlugin("rtc",!0)?G.execCommand("createlink",!1,ls(Ve)):Bo(G,le,Ve)},ti=G=>{G.hasPlugin("rtc",!0)?G.execCommand("unlink"):Xn(G)},Va=(G,le)=>{var Ce;const Ve=G.dom.select("img",le)[0];if(Ve){const lt=G.dom.getParents(Ve,"a[href]",le)[0];lt&&((Ce=lt.parentNode)===null||Ce===void 0||Ce.insertBefore(Ve,lt),G.dom.remove(lt))}},qi=(G,le,Ce)=>{var Ve;const lt=G.select("img",le)[0];if(lt){const $t=G.create("a",Ce);(Ve=lt.parentNode)===null||Ve===void 0||Ve.insertBefore($t,lt),$t.appendChild(lt)}},Mn=G=>sr(G.value)?G.value:"",po=G=>sr(G.text)?G.text:sr(G.title)?G.title:"",ha=(G,le)=>{const Ce=[];return rt.each(G,Ve=>{const lt=po(Ve);if(Ve.menu!==void 0){const $t=ha(Ve.menu,le);Ce.push({text:lt,items:$t})}else{const $t=le(Ve);Ce.push({text:lt,value:$t})}}),Ce},ps=(G=Mn)=>le=>it.from(le).map(Ce=>ha(Ce,G)),_s={sanitize:G=>ps(Mn)(G),sanitizeWith:ps,createUi:(G,le)=>Ce=>({name:G,type:"listbox",label:le,items:Ce}),getValue:Mn},Tc=G=>Jo(G,"items"),br=(G,le)=>Pt(le,Ce=>Tc(Ce)?br(G,Ce.items):Yt(Ce.value===G,Ce)),Oc=(G,le,Ce,Ve)=>{const lt=Ve[le],$t=G.length>0;return lt!==void 0?br(lt,Ce).map(To=>({url:{value:To.value,meta:{text:$t?G:To.text,attach:Yo}},text:$t?G:To.text})):it.none()},ba=(G,le)=>le==="link"?G.link:le==="anchor"?G.anchor:it.none(),ja={init:(G,le)=>{const Ce={text:G.text,title:G.title},Ve=jo=>{var Zn;return Yt(Ce.title.length<=0,it.from((Zn=jo.meta)===null||Zn===void 0?void 0:Zn.title).getOr(""))},lt=jo=>{var Zn;return Yt(Ce.text.length<=0,it.from((Zn=jo.meta)===null||Zn===void 0?void 0:Zn.text).getOr(jo.value))},$t=jo=>{const Zn=lt(jo.url),jr=Ve(jo.url);return Zn.isSome()||jr.isSome()?it.some({...Zn.map(Fo=>({text:Fo})).getOr({}),...jr.map(Fo=>({title:Fo})).getOr({})}):it.none()},To=(jo,Zn)=>{const jr=ba(le,Zn).getOr([]);return Oc(Ce.text,Zn,jr,jo)};return{onChange:(jo,Zn)=>{const jr=Zn.name;return jr==="url"?$t(jo()):ve(["anchor","link"],jr)?To(jo(),jr):((jr==="text"||jr==="title")&&(Ce[jr]=jo()[jr]),it.none())}}},getDelta:Oc};var fr=tinymce.util.Tools.resolve("tinymce.util.Delay");const Ss=(G,le,Ce)=>{const Ve=G.selection.getRng();fr.setEditorTimeout(G,()=>{G.windowManager.confirm(le,lt=>{G.selection.setRng(Ve),Ce(lt)})})},Oa=G=>{const le=G.href;return le.indexOf("@")>0&&le.indexOf("/")===-1&&le.indexOf("mailto:")===-1?it.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:Ve=>({...Ve,href:"mailto:"+le})}):it.none()},wl=(G,le)=>Ce=>{const Ve=Ce.href;return G===1&&!qo(Ve)||G===0&&/^\s*www(\.|\d\.)/i.test(Ve)?it.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${le}:// prefix?`,preprocess:$t=>({...$t,href:le+"://"+Ve})}):it.none()},Ua={preprocess:(G,le)=>Pt([Oa,wl(we(G),nt(G))],Ce=>Ce(le)).fold(()=>Promise.resolve(le),Ce=>new Promise(Ve=>{Ss(G,Ce.message,lt=>{Ve(lt?Ce.preprocess(le):le)})}))},Ql={getAnchors:G=>{const le=G.dom.select("a:not([href])"),Ce=$e(le,Ve=>{const lt=Ve.name||Ve.id;return lt?[{text:lt,value:"#"+lt}]:[]});return Ce.length>0?it.some([{text:"None",value:""}].concat(Ce)):it.none()}},ns={getClasses:G=>{const le=Nn(G);return le.length>0?_s.sanitize(le):it.none()}},sa=G=>{try{return it.some(JSON.parse(G))}catch{return it.none()}},Ni={getLinks:G=>{const le=Ve=>G.convertURL(Ve.value||Ve.url||"","href"),Ce=dn(G);return new Promise(Ve=>{sr(Ce)?fetch(Ce).then(lt=>lt.ok?lt.text().then(sa):Promise.reject()).then(Ve,()=>Ve(it.none())):Lt(Ce)?Ce(lt=>Ve(it.some(lt))):Ve(it.from(Ce))}).then(Ve=>Ve.bind(_s.sanitizeWith(le)).map(lt=>lt.length>0?[{text:"None",value:""}].concat(lt):lt))}},Vs={getRels:(G,le)=>{const Ce=Wr(G);if(Ce.length>0){const Ve=T(le,"_blank"),lt=Co(G)===!1,$t=Ln=>or(_s.getValue(Ln),Ve);return(lt?_s.sanitizeWith($t):_s.sanitize)(Ce)}return it.none()}},js=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],Bn={getTargets:G=>{const le=Dt(G);return Ko(le)?_s.sanitize(le).orThunk(()=>it.some(js)):le===!1?it.none():it.some(js)}},lr=(G,le,Ce)=>{const Ve=G.getAttrib(le,Ce);return Ve!==null&&Ve.length>0?it.some(Ve):it.none()},Mi=(G,le)=>{const Ce=G.dom,lt=dt(G)?it.some(Js(G.selection,le)):it.none(),$t=le.bind(jr=>it.from(Ce.getAttrib(jr,"href"))),To=le.bind(jr=>it.from(Ce.getAttrib(jr,"target"))),Ln=le.bind(jr=>lr(Ce,jr,"rel")),jo=le.bind(jr=>lr(Ce,jr,"class")),Zn=le.bind(jr=>lr(Ce,jr,"title"));return{url:$t,text:lt,title:Zn,target:To,rel:Ln,linkClass:jo}},rs={collect:(G,le)=>Ni.getLinks(G).then(Ce=>{const Ve=Mi(G,le);return{anchor:Ve,catalogs:{targets:Bn.getTargets(G),rels:Vs.getRels(G,Ve.target),classes:ns.getClasses(G),anchor:Ql.getAnchors(G),link:Ce},optNode:le,flags:{titleEnabled:yn(G)}}})},al=(G,le)=>Ce=>{const Ve=Ce.getData();if(!Ve.url.value){ti(G),Ce.close();return}const lt=Ln=>it.from(Ve[Ln]).filter(jo=>!T(le.anchor[Ln],jo)),$t={href:Ve.url.value,text:lt("text"),target:lt("target"),rel:lt("rel"),class:lt("linkClass"),title:lt("title")},To={href:Ve.url.value,attach:Ve.url.meta!==void 0&&Ve.url.meta.attach?Ve.url.meta.attach:Yo};Ua.preprocess(G,$t).then(Ln=>{Ri(G,To,Ln)}),Ce.close()},Mr=G=>{const le=vn(G);return rs.collect(G,le)},pn=(G,le)=>{const Ce=G.anchor,Ve=Ce.url.getOr("");return{url:{value:Ve,meta:{original:{value:Ve}}},text:Ce.text.getOr(""),title:Ce.title.getOr(""),anchor:Ve,link:Ve,rel:Ce.rel.getOr(""),target:Ce.target.or(le).getOr(""),linkClass:Ce.linkClass.getOr("")}},xi=(G,le,Ce)=>{const Ve=[{name:"url",type:"urlinput",filetype:"file",label:"URL",picker_text:"Browse links"}],lt=G.anchor.text.map(()=>({name:"text",type:"input",label:"Text to display"})).toArray(),$t=G.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],To=it.from(kt(Ce)),Ln=pn(G,To),jo=G.catalogs,Zn=ja.init(Ln,jo);return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:Io([Ve,lt,$t,_o([jo.anchor.map(_s.createUi("anchor","Anchors")),jo.rels.map(_s.createUi("rel","Rel")),jo.targets.map(_s.createUi("target","Open link in...")),jo.link.map(_s.createUi("link","Link list")),jo.classes.map(_s.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Ln,onChange:(Fo,{name:Yi})=>{Zn.onChange(Fo.getData,{name:Yi}).each(Sl=>{Fo.setData(Sl)})},onSubmit:le}},Es=G=>{Mr(G).then(Ce=>{const Ve=al(G,Ce);return xi(Ce,Ve,G)}).then(Ce=>{G.windowManager.open(Ce)})},Us=G=>{G.addCommand("mceLink",(le,Ce)=>{(Ce==null?void 0:Ce.dialog)===!0||!H(G)?Es(G):G.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"})})},ya=G=>{G.addShortcut("Meta+K","",()=>{G.execCommand("mceLink")})},Vr=G=>{let le=G;return{get:()=>le,set:lt=>{le=lt}}},ec=G=>{const le=Vr(it.none()),Ce=()=>le.get().each(G);return{clear:()=>{Ce(),le.set(it.none())},isSet:()=>le.get().isSome(),get:()=>le.get(),set:Ln=>{Ce(),le.set(it.some(Ln))}}},lo=()=>{const G=ec(Yo);return{...G,on:Ce=>G.get().each(Ce)}};var Ki=tinymce.util.Tools.resolve("tinymce.util.VK");const gs=(G,le)=>{document.body.appendChild(G),G.dispatchEvent(le),document.body.removeChild(G)},Cr=G=>{const le=document.createElement("a");le.target="_blank",le.href=G,le.rel="noreferrer noopener";const Ce=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});document.dispatchEvent(Ce),gs(le,Ce)},tc=G=>G.altKey===!0&&G.shiftKey===!1&&G.ctrlKey===!1&&G.metaKey===!1,Xo=(G,le)=>{if(le){const Ce=Tn(le);if(/^#/.test(Ce)){const Ve=G.dom.select(Ce);Ve.length&&G.selection.scrollIntoView(Ve[0],!0)}else Cr(le.href)}},il=G=>{const le=G.selection.getRng(),Ce=le.startContainer;return Gt(Ce)&&le.startContainer===le.endContainer&&G.dom.select("img",Ce).length===1},aa=(G,le)=>{const Ce=_r(G.dom.getParents(le));return Yt(Ce.length===1,Ce[0])},bo=G=>{const le=Vn(G.selection.getRng());return Yt(le.length>0,le[0]).or(aa(G,G.selection.getNode()))},ki=G=>G.selection.isCollapsed()||il(G)?aa(G,G.selection.getStart()):bo(G),Za=G=>{const le=lo(),Ce=()=>le.get().or(ki(G)),Ve=()=>Ce().each(lt=>Xo(G,lt));return G.on("contextmenu",lt=>{aa(G,lt.target).each(le.set)}),G.on("SelectionChange",()=>{le.isSet()||ki(G).each(le.set)}),G.on("click",lt=>{le.clear();const $t=_r(G.dom.getParents(lt.target));$t.length===1&&Ki.metaKeyPressed(lt)&&(lt.preventDefault(),Xo(G,$t[0]))}),G.on("keydown",lt=>{le.clear(),!lt.isDefaultPrevented()&&lt.keyCode===13&&tc(lt)&&Ce().each($t=>{lt.preventDefault(),Xo(G,$t)})}),{gotoSelectedLink:Ve}},yr=G=>()=>{G.execCommand("mceLink",!1,{dialog:!0})},Cl=(G,le)=>(G.on("NodeChange",le),()=>G.off("NodeChange",le)),Sr=G=>le=>{const Ce=()=>{le.setActive(!G.mode.isReadOnly()&&Nr(G,G.selection.getNode())),le.setEnabled(G.selection.isEditable())};return Ce(),Cl(G,Ce)},Nl=G=>le=>{const Ce=()=>{le.setEnabled(G.selection.isEditable())};return Ce(),Cl(G,Ce)},Zs=G=>le=>{const Ce=$t=>Qo($t)||$s(G.selection.getRng()),Ve=G.dom.getParents(G.selection.getStart()),lt=$t=>{le.setEnabled(Ce($t)&&G.selection.isEditable())};return lt(Ve),Cl(G,$t=>lt($t.parents))},_n=(G,le)=>{G.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",shortcut:"Meta+K",onAction:yr(G),onSetup:Sr(G)}),G.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:le.gotoSelectedLink,onSetup:Zs(G)}),G.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>ti(G),onSetup:Zs(G)})},ll=(G,le)=>{G.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:le.gotoSelectedLink,onSetup:Zs(G)}),G.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:yr(G),onSetup:Nl(G)}),G.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>ti(G),onSetup:Zs(G)})},oc=G=>{const le="link unlink openlink",Ce="link";G.ui.registry.addContextMenu("link",{update:Ve=>G.dom.isEditable(Ve)?Qo(G.dom.getParents(Ve,"a"))?le:Ce:""})},Dc=(G,le)=>{const Ce=$t=>{$t.selection.collapse(!1)},Ve=$t=>{const To=G.selection.getNode();return $t.setEnabled(Nr(G,To)),Yo},lt=$t=>{const To=vn(G),Ln=dt(G);if(To.isNone()&&Ln){const jo=Js(G.selection,To);return Yt(jo.length===0,$t)}else return it.none()};G.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:Sr(G)},label:"Link",predicate:$t=>At(G)&&Nr(G,$t),initValue:()=>vn(G).fold(ar(""),Tn),commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:$t=>{const To=G.selection.getNode();return $t.setActive(Nr(G,To)),Sr(G)($t)},onAction:$t=>{const To=$t.getValue(),Ln=lt(To);Ri(G,{href:To,attach:Yo},{href:To,text:Ln,title:it.none(),rel:it.none(),target:it.from(kt(G)),class:it.none()}),Ce(G),$t.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:Ve,onAction:$t=>{ti(G),$t.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:Ve,onAction:$t=>{le.gotoSelectedLink(),$t.hide()}}]})},vr=G=>{const le=Za(G);_n(G,le),ll(G,le),oc(G),Dc(G,le)};var va=()=>{Hr.add("link",G=>{hr(G),Us(G),vr(G),ya(G)})};va()})();(function(){var Hr=tinymce.util.Tools.resolve("tinymce.PluginManager");const Hs=(_,N,j)=>{var de;return j(_,N.prototype)?!0:((de=_.constructor)===null||de===void 0?void 0:de.name)===N.name},is=_=>{const N=typeof _;return _===null?"null":N==="object"&&Array.isArray(_)?"array":N==="object"&&Hs(_,String,(j,de)=>de.isPrototypeOf(j))?"string":N},ms=_=>N=>is(N)===_,Dr=_=>N=>typeof N===_,Do=ms("string"),sr=ms("object"),Qn=ms("array"),Ko=Dr("boolean"),Rn=_=>_==null,tn=_=>!Rn(_),Yn=Dr("function"),Rr=Dr("number"),Lt=()=>{},eo=(_,N)=>j=>_(N(j)),Yo=_=>()=>_,ar=(_,N)=>_===N;function at(_,...N){return(...j)=>{const de=N.concat(j);return _.apply(null,de)}}const it=_=>N=>!_(N),mt=Yo(!1);class ce{constructor(N,j){this.tag=N,this.value=j}static some(N){return new ce(!0,N)}static none(){return ce.singletonNone}fold(N,j){return this.tag?j(this.value):N()}isSome(){return this.tag}isNone(){return!this.tag}map(N){return this.tag?ce.some(N(this.value)):ce.none()}bind(N){return this.tag?N(this.value):ce.none()}exists(N){return this.tag&&N(this.value)}forall(N){return!this.tag||N(this.value)}filter(N){return!this.tag||N(this.value)?this:ce.none()}getOr(N){return this.tag?this.value:N}or(N){return this.tag?this:N}getOrThunk(N){return this.tag?this.value:N()}orThunk(N){return this.tag?this:N()}getOrDie(N){if(this.tag)return this.value;throw new Error(N??"Called getOrDie on None")}static from(N){return tn(N)?ce.some(N):ce.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(N){this.tag&&N(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ce.singletonNone=new ce(!1);const Tt=Array.prototype.slice,ve=Array.prototype.indexOf,ct=Array.prototype.push,$r=(_,N)=>ve.call(_,N),er=(_,N)=>$r(_,N)>-1,Io=(_,N)=>{for(let j=0,de=_.length;j<de;j++){const he=_[j];if(N(he,j))return!0}return!1},$e=(_,N)=>{const j=_.length,de=new Array(j);for(let he=0;he<j;he++){const Ke=_[he];de[he]=N(Ke,he)}return de},Pt=(_,N)=>{for(let j=0,de=_.length;j<de;j++){const he=_[j];N(he,j)}},T=(_,N)=>{const j=[];for(let de=0,he=_.length;de<he;de++){const Ke=_[de];N(Ke,de)&&j.push(Ke)}return j},_o=(_,N)=>{if(_.length===0)return[];{let j=N(_[0]);const de=[];let he=[];for(let Ke=0,io=_.length;Ke<io;Ke++){const Ro=_[Ke],xo=N(Ro);xo!==j&&(de.push(he),he=[]),j=xo,he.push(Ro)}return he.length!==0&&de.push(he),de}},Yt=(_,N,j)=>(Pt(_,(de,he)=>{j=N(j,de,he)}),j),Lo=(_,N,j)=>{for(let de=0,he=_.length;de<he;de++){const Ke=_[de];if(N(Ke,de))return ce.some(Ke);if(j(Ke,de))break}return ce.none()},hr=(_,N)=>Lo(_,N,mt),we=_=>{const N=[];for(let j=0,de=_.length;j<de;++j){if(!Qn(_[j]))throw new Error("Arr.flatten item "+j+" was not an array, input: "+_);ct.apply(N,_[j])}return N},At=(_,N)=>we($e(_,N)),dn=_=>{const N=Tt.call(_,0);return N.reverse(),N},kt=(_,N)=>N>=0&&N<_.length?ce.some(_[N]):ce.none(),nt=_=>kt(_,0),Dt=_=>kt(_,_.length-1),Wr=(_,N)=>{const j=[],de=Yn(N)?he=>Io(j,Ke=>N(Ke,he)):he=>er(j,he);for(let he=0,Ke=_.length;he<Ke;he++){const io=_[he];de(io)||j.push(io)}return j},Nn=(_,N,j=ar)=>_.exists(de=>j(de,N)),yn=(_,N,j=ar)=>Co(_,N,j).getOr(_.isNone()&&N.isNone()),Co=(_,N,j)=>_.isSome()&&N.isSome()?ce.some(j(_.getOrDie(),N.getOrDie())):ce.none(),H=8,ra=11,Hn=1,kn=3,yi=(_,N)=>{const de=(N||document).createElement("div");if(de.innerHTML=_,!de.hasChildNodes()||de.childNodes.length>1){const he="HTML does not have a single root node";throw console.error(he,_),new Error(he)}return zn(de.childNodes[0])},kl=(_,N)=>{const de=(N||document).createElement(_);return zn(de)},on=(_,N)=>{const de=(N||document).createTextNode(_);return zn(de)},zn=_=>{if(_==null)throw new Error("Node cannot be null or undefined");return{dom:_}},Re={fromHtml:yi,fromTag:kl,fromText:on,fromDom:zn,fromPoint:(_,N,j)=>ce.from(_.dom.elementFromPoint(N,j)).map(zn)},wt=(_,N)=>{const j=_.dom;if(j.nodeType!==Hn)return!1;{const de=j;if(de.matches!==void 0)return de.matches(N);if(de.msMatchesSelector!==void 0)return de.msMatchesSelector(N);if(de.webkitMatchesSelector!==void 0)return de.webkitMatchesSelector(N);if(de.mozMatchesSelector!==void 0)return de.mozMatchesSelector(N);throw new Error("Browser lacks native selectors")}},rt=(_,N)=>_.dom===N.dom,et=(_,N)=>{const j=_.dom,de=N.dom;return j===de?!1:j.contains(de)},Gt=wt,uo=typeof window<"u"?window:Function("return this;")(),qo=(_,N)=>{let j=N??uo;for(let de=0;de<_.length&&j!==void 0&&j!==null;++de)j=j[_[de]];return j},Tn=(_,N)=>{const j=_.split(".");return qo(j,N)},or=(_,N)=>Tn(_,N),$n=(_,N)=>{const j=or(_,N);if(j==null)throw new Error(_+" not available on this browser");return j},vn=Object.getPrototypeOf,Nr=_=>$n("HTMLElement",_),Js=_=>{const N=Tn("ownerDocument.defaultView",_);return sr(_)&&(Nr(N).prototype.isPrototypeOf(_)||/^HTML\w*Element$/.test(vn(_).constructor.name))},Vn=_=>_.dom.nodeName.toLowerCase(),_r=_=>_.dom.nodeType,Qo=_=>N=>_r(N)===_,$s=_=>_r(_)===H||Vn(_)==="#comment",dt=_=>no(_)&&Js(_.dom),no=Qo(Hn),Vo=Qo(kn),Rs=Qo(ra),$a=_=>N=>no(N)&&Vn(N)===_,st=_=>ce.from(_.dom.parentNode).map(Re.fromDom),Ta=_=>ce.from(_.dom.parentElement).map(Re.fromDom),Bo=_=>ce.from(_.dom.nextSibling).map(Re.fromDom),vi=_=>$e(_.dom.childNodes,Re.fromDom),Xn=(_,N)=>{const j=_.dom.childNodes;return ce.from(j[N]).map(Re.fromDom)},ls=_=>Xn(_,0),Wi=_=>Xn(_,_.dom.childNodes.length-1),Ri=_=>Rs(_)&&tn(_.dom.host),ti=_=>Re.fromDom(_.dom.getRootNode()),Va=_=>{const N=ti(_);return Ri(N)?ce.some(N):ce.none()},qi=_=>Re.fromDom(_.dom.host),Mn=_=>{const N=Vo(_)?_.dom.parentNode:_.dom;if(N==null||N.ownerDocument===null)return!1;const j=N.ownerDocument;return Va(Re.fromDom(N)).fold(()=>j.body.contains(N),eo(Mn,qi))};var po=(_,N,j,de,he)=>_(j,de)?ce.some(j):Yn(he)&&he(j)?ce.none():N(j,de,he);const ha=(_,N,j)=>{let de=_.dom;const he=Yn(j)?j:mt;for(;de.parentNode;){de=de.parentNode;const Ke=Re.fromDom(de);if(N(Ke))return ce.some(Ke);if(he(Ke))break}return ce.none()},ps=(_,N,j)=>po((he,Ke)=>Ke(he),ha,_,N,j),zc=(_,N,j)=>ha(_,de=>wt(de,N),j),Et=(_,N,j)=>po((he,Ke)=>wt(he,Ke),zc,_,N,j),_s=_=>Et(_,"[contenteditable]"),Tc=(_,N=!1)=>Mn(_)?_.dom.isContentEditable:_s(_).fold(Yo(N),j=>br(j)==="true"),br=_=>_.dom.contentEditable,Oc=(_,N)=>{st(_).each(de=>{de.dom.insertBefore(N.dom,_.dom)})},ba=(_,N)=>{Bo(_).fold(()=>{st(_).each(he=>{ja(he,N)})},de=>{Oc(de,N)})},Cs=(_,N)=>{ls(_).fold(()=>{ja(_,N)},de=>{_.dom.insertBefore(N.dom,de.dom)})},ja=(_,N)=>{_.dom.appendChild(N.dom)},fr=(_,N)=>{Pt(N,j=>{Oc(_,j)})},Ss=(_,N)=>{Pt(N,j=>{ja(_,j)})},Oa=_=>{_.dom.textContent="",Pt(vi(_),N=>{wl(N)})},wl=_=>{const N=_.dom;N.parentNode!==null&&N.parentNode.removeChild(N)};var Gi=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Ua=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),ad=tinymce.util.Tools.resolve("tinymce.util.VK");const Ql=_=>$e(_,Re.fromDom),wn=Object.keys,ns=(_,N)=>{const j=wn(_);for(let de=0,he=j.length;de<he;de++){const Ke=j[de],io=_[Ke];N(io,Ke)}},sa=_=>(N,j)=>{_[j]=N},Dd=(_,N,j,de)=>{ns(_,(he,Ke)=>{(N(he,Ke)?j:de)(he,Ke)})},Ni=(_,N)=>{const j={};return Dd(_,N,sa(j),Lt),j},id=(_,N,j)=>{if(Do(j)||Ko(j)||Rr(j))_.setAttribute(N,j+"");else throw console.error("Invalid call to Attribute.set. Key ",N,":: Value ",j,":: Element ",_),new Error("Attribute value was not simple")},Vs=(_,N)=>{const j=_.dom;ns(N,(de,he)=>{id(j,he,de)})},js=_=>Yt(_.dom.attributes,(N,j)=>(N[j.name]=j.value,N),{}),oi=(_,N)=>Re.fromDom(_.dom.cloneNode(N)),Bn=_=>oi(_,!0),lr=(_,N)=>{const j=Re.fromTag(N),de=js(_);return Vs(j,de),j},Mi=(_,N)=>{const j=lr(_,N);ba(_,j);const de=vi(_);return Ss(j,de),wl(_),j};var _l=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),rs=tinymce.util.Tools.resolve("tinymce.util.Tools");const al=_=>N=>tn(N)&&N.nodeName.toLowerCase()===_,Mr=_=>N=>tn(N)&&_.test(N.nodeName),pn=_=>tn(_)&&_.nodeType===3,xi=_=>tn(_)&&_.nodeType===1,Es=Mr(/^(OL|UL|DL)$/),Us=Mr(/^(OL|UL)$/),ya=al("ol"),Vr=Mr(/^(LI|DT|DD)$/),ec=Mr(/^(DT|DD)$/),lo=Mr(/^(TH|TD)$/),Ki=al("br"),gs=_=>{var N;return((N=_.parentNode)===null||N===void 0?void 0:N.firstChild)===_},Cr=(_,N)=>tn(N)&&N.nodeName in _.schema.getTextBlockElements(),tc=(_,N)=>tn(_)&&_.nodeName in N,Xo=(_,N)=>tn(N)&&N.nodeName in _.schema.getVoidElements(),il=(_,N)=>Ki(N)?_.isBlock(N.nextSibling)&&!Ki(N.previousSibling):!1,aa=(_,N,j)=>{const de=_.isEmpty(N);return j&&_.select("span[data-mce-type=bookmark]",N).length>0?!1:de},bo=(_,N)=>_.isChildOf(N,_.getRoot()),ki=_=>N=>N.options.get(_),Za=_=>{const N=_.options.register;N("lists_indent_on_tab",{processor:"boolean",default:!0})},yr=ki("lists_indent_on_tab"),Cl=ki("forced_root_block"),Sr=ki("forced_root_block_attrs"),Nl=(_,N,j={})=>{const de=_.dom,he=_.schema.getBlockElements(),Ke=de.createFragment(),io=Cl(_),Ro=Sr(_);let xo,Wt,Fn=!1;for(Wt=de.create(io,{...Ro,...j.style?{style:j.style}:{}}),tc(N.firstChild,he)||Ke.appendChild(Wt);xo=N.firstChild;){const cs=xo.nodeName;!Fn&&(cs!=="SPAN"||xo.getAttribute("data-mce-type")!=="bookmark")&&(Fn=!0),tc(xo,he)?(Ke.appendChild(xo),Wt=null):(Wt||(Wt=de.create(io,Ro),Ke.appendChild(Wt)),Wt.appendChild(xo))}return!Fn&&Wt&&Wt.appendChild(de.create("br",{"data-mce-bogus":"1"})),Ke},Zs=_l.DOM,_n=(_,N,j)=>{const de=Wt=>{const Fn=Wt.parentNode;Fn&&rs.each(he,cs=>{Fn.insertBefore(cs,j.parentNode)}),Zs.remove(Wt)},he=Zs.select('span[data-mce-type="bookmark"]',N),Ke=Nl(_,j),io=Zs.createRng();io.setStartAfter(j),io.setEndAfter(N);const Ro=io.extractContents();for(let Wt=Ro.firstChild;Wt;Wt=Wt.firstChild)if(Wt.nodeName==="LI"&&_.dom.isEmpty(Wt)){Zs.remove(Wt);break}_.dom.isEmpty(Ro)||Zs.insertAfter(Ro,N),Zs.insertAfter(Ke,N);const xo=j.parentElement;xo&&aa(_.dom,xo)&&de(xo),Zs.remove(j),aa(_.dom,N)&&Zs.remove(N)},ll=$a("dd"),oc=$a("dt"),Dc=(_,N)=>{ll(N)?Mi(N,"dt"):oc(N)&&Ta(N).each(j=>_n(_,j.dom,N.dom))},vr=_=>{oc(_)&&Mi(_,"dd")},va=(_,N,j)=>{N==="Indent"?Pt(j,vr):Pt(j,de=>Dc(_,de))},G=(_,N)=>{if(pn(_))return{container:_,offset:N};const j=Gi.getNode(_,N);return pn(j)?{container:j,offset:N>=_.childNodes.length?j.data.length:0}:j.previousSibling&&pn(j.previousSibling)?{container:j.previousSibling,offset:j.previousSibling.data.length}:j.nextSibling&&pn(j.nextSibling)?{container:j.nextSibling,offset:0}:{container:_,offset:N}},le=_=>{const N=_.cloneRange(),j=G(_.startContainer,_.startOffset);N.setStart(j.container,j.offset);const de=G(_.endContainer,_.endOffset);return N.setEnd(de.container,de.offset),N},Ce=["OL","UL","DL"],Ve=Ce.join(","),lt=(_,N)=>{const j=N||_.selection.getStart(!0);return _.dom.getParent(j,Ve,Sl(_,j))},$t=(_,N)=>tn(_)&&N.length===1&&N[0]===_,To=_=>T(_.querySelectorAll(Ve),Es),Ln=_=>{const N=lt(_),j=_.selection.getSelectedBlocks();return $t(N,j)?To(N):T(j,de=>Es(de)&&N!==de)},jo=(_,N)=>{const j=rs.map(N,de=>{const he=_.dom.getParent(de,"li,dd,dt",Sl(_,de));return he||de});return Wr(j)},Zn=_=>{const N=_.selection.getSelectedBlocks();return T(jo(_,N),Vr)},jr=_=>T(Zn(_),ec),Fo=(_,N)=>{const j=_.dom.getParents(N,"TD,TH");return j.length>0?j[0]:_.getBody()},Yi=(_,N)=>!Es(N)&&!Vr(N)&&Io(Ce,j=>_.isValidChild(N.nodeName,j)),Sl=(_,N)=>{const j=_.dom.getParents(N,_.dom.isBlock),de=Ke=>Ke.nodeName.toLowerCase()!==Cl(_);return hr(j,Ke=>de(Ke)&&Yi(_.schema,Ke)).getOr(_.getBody())},F=_=>st(_).exists(N=>Vr(N.dom)&&ls(N).exists(j=>!Es(j.dom))&&Wi(N).exists(j=>!Es(j.dom))),ee=(_,N)=>{const j=_.dom.getParents(N,"ol,ul",Sl(_,N));return Dt(j)},pe=_=>{const N=ee(_,_.selection.getStart()),j=T(_.selection.getSelectedBlocks(),Us);return N.toArray().concat(j)},Oe=_=>{const N=_.selection.getStart();return _.dom.getParents(N,"ol,ul",Sl(_,N))},Ht=_=>{const N=pe(_),j=Oe(_);return hr(j,de=>F(Re.fromDom(de))).fold(()=>un(_,N),de=>[de])},un=(_,N)=>{const j=$e(N,de=>ee(_,de).getOr(de));return Wr(j)},Ur=_=>/\btox\-/.test(_.className),Wa=(_,N)=>Lo(_,Es,lo).exists(j=>j.nodeName===N&&!Ur(j)),ut=(_,N)=>N!==null&&!_.dom.isEditable(N),Bi=_=>{const N=lt(_);return ut(_,N)},Da=(_,N)=>{const j=_.dom.getParent(N,"ol,ul,dl");return ut(_,j)},nc=(_,N)=>{const j=_.selection.getNode();return N({parents:_.dom.getParents(j),element:j}),_.on("NodeChange",N),()=>_.off("NodeChange",N)},ia=(_,N)=>{const de=document.createDocumentFragment();return Pt(_,he=>{de.appendChild(he.dom)}),Re.fromDom(de)},Rc=(_,N,j)=>_.dispatch("ListMutation",{action:N,element:j}),$m=(_=>N=>N.replace(_,""))(/^\s+|\s+$/g),El=_=>_.length>0,Nf=_=>!El(_),Hp=_=>_.style!==void 0&&Yn(_.style.getPropertyValue),Vg=(_,N,j)=>{if(!Do(j))throw console.error("Invalid call to CSS.set. Property ",N,":: Value ",j,":: Element ",_),new Error("CSS value must be a string: "+j);Hp(_)&&_.style.setProperty(N,j)},yb=(_,N,j)=>{const de=_.dom;Vg(de,N,j)},Mf=_=>Gt(_,"OL,UL"),rc=_=>Gt(_,"LI"),cd=_=>ls(_).exists(Mf),sc=_=>Wi(_).exists(Mf),la=_=>"listAttributes"in _,Ii=_=>"isComment"in _,Rd=_=>"isFragment"in _,gn=_=>_.depth>0,Ml=_=>_.isSelected,Uu=_=>{const N=vi(_),j=sc(_)?N.slice(0,-1):N;return $e(j,Bn)},Zu=(_,N,j)=>st(_).filter(no).map(de=>({depth:N,dirty:!1,isSelected:j,content:Uu(_),itemAttributes:js(_),listAttributes:js(de),listType:Vn(de),isInPreviousLi:!1})),wi=(_,N)=>{ja(_.item,N.list)},hs=_=>{for(let N=1;N<_.length;N++)wi(_[N-1],_[N])},Br=(_,N)=>{Co(Dt(_),nt(N),wi)},xa=(_,N)=>{const j={list:Re.fromTag(N,_),item:Re.fromTag("li",_)};return ja(j.list,j.item),j},xr=(_,N,j)=>{const de=[];for(let he=0;he<j;he++)de.push(xa(_,la(N)?N.listType:N.parentListType));return de},Nd=(_,N)=>{for(let j=0;j<_.length-1;j++)yb(_[j].item,"list-style-type","none");Dt(_).each(j=>{la(N)&&(Vs(j.list,N.listAttributes),Vs(j.item,N.itemAttributes)),Ss(j.item,N.content)})},Md=(_,N)=>{Vn(_.list)!==N.listType&&(_.list=Mi(_.list,N.listType)),Vs(_.list,N.listAttributes)},Ws=(_,N,j)=>{const de=Re.fromTag("li",_);return Vs(de,N),Ss(de,j),de},ni=(_,N)=>{ja(_.list,N),_.item=N},qa=(_,N,j)=>{const de=N.slice(0,j.depth);return Dt(de).each(he=>{if(la(j)){const Ke=Ws(_,j.itemAttributes,j.content);ni(he,Ke),Md(he,j)}else if(Rd(j))Ss(he.item,j.content);else{const Ke=Re.fromHtml(`<!--${j.content}-->`);ja(he.list,Ke)}}),de},Ns=(_,N,j)=>{const de=xr(_,j,j.depth-N.length);return hs(de),Nd(de,j),Br(N,de),N.concat(de)},dd=(_,N)=>{let j=ce.none();const de=Yt(N,(he,Ke,io)=>Ii(Ke)?io===0?(j=ce.some(Ke),he):qa(_,he,Ke):Ke.depth>he.length?Ns(_,he,Ke):qa(_,he,Ke),[]);return j.each(he=>{const Ke=Re.fromHtml(`<!--${he.content}-->`);nt(de).each(io=>{Cs(io.list,Ke)})}),nt(de).map(he=>he.list)},Go=(_,N)=>{switch(_){case"Indent":N.depth++;break;case"Outdent":N.depth--;break;case"Flatten":N.depth=0}N.dirty=!0},As=(_,N)=>{la(_)&&la(N)&&(_.listType=N.listType,_.listAttributes={...N.listAttributes})},ri=_=>{_.listAttributes=Ni(_.listAttributes,(N,j)=>j!=="start")},ac=(_,N)=>{const j=_[N].depth,de=Ke=>Ke.depth===j&&!Ke.dirty,he=Ke=>Ke.depth<j;return Lo(dn(_.slice(0,N)),de,he).orThunk(()=>Lo(_.slice(N+1),de,he))},Qs=_=>(Pt(_,(N,j)=>{ac(_,j).fold(()=>{N.dirty&&la(N)&&ri(N)},de=>As(N,de))}),_),Ut=_=>{let N=_;return{get:()=>N,set:he=>{N=he}}},Bl=(_,N,j,de)=>{var he;if($s(de))return[{depth:_+1,content:(he=de.dom.nodeValue)!==null&&he!==void 0?he:"",dirty:!1,isSelected:!1,isComment:!0}];N.each(Ro=>{rt(Ro.start,de)&&j.set(!0)});const Ke=Zu(de,_,j.get());N.each(Ro=>{rt(Ro.end,de)&&j.set(!1)});const io=Wi(de).filter(Mf).map(Ro=>Cn(_,N,j,Ro)).getOr([]);return Ke.toArray().concat(io)},Il=(_,N,j,de)=>ls(de).filter(Mf).fold(()=>Bl(_,N,j,de),he=>{const Ke=Yt(vi(de),(io,Ro,xo)=>{if(xo===0)return io;if(rc(Ro))return io.concat(Bl(_,N,j,Ro));{const Wt={isFragment:!0,depth:_,content:[Ro],isSelected:!1,dirty:!1,parentListType:Vn(he)};return io.concat(Wt)}},[]);return Cn(_,N,j,he).concat(Ke)}),Cn=(_,N,j,de)=>At(vi(de),he=>{const Ke=Mf(he)?Cn:Il,io=_+1;return Ke(io,N,j,he)}),uu=(_,N)=>{const j=Ut(!1),de=0;return $e(_,he=>({sourceList:he,entries:Cn(de,N,j,he)}))},Vm=(_,N)=>{const j=Qs(N);return $e(j,de=>{const he=Ii(de)?ia([Re.fromHtml(`<!--${de.content}-->`)]):ia(de.content),Ke=la(de)?de.itemAttributes:{};return Re.fromDom(Nl(_,he.dom,Ke))})},ic=(_,N)=>{const j=Qs(N);return dd(_.contentDocument,j).toArray()},en=(_,N)=>At(_o(N,gn),j=>nt(j).exists(gn)?ic(_,j):Vm(_,j)),Ga=(_,N)=>{Pt(T(_,Ml),j=>Go(N,j))},Wu=_=>{const N=$e(Zn(_),Re.fromDom);return Co(hr(N,it(cd)),hr(dn(N),it(cd)),(j,de)=>({start:j,end:de}))},Nc=(_,N,j)=>{const de=uu(N,Wu(_));Pt(de,he=>{Ga(he.entries,j);const Ke=en(_,he.entries);Pt(Ke,io=>{Rc(_,j==="Indent"?"IndentList":"OutdentList",io.dom)}),fr(he.sourceList,Ke),wl(he.sourceList)})},Bf=(_,N)=>{const j=Ql(Ht(_)),de=Ql(jr(_));let he=!1;if(j.length||de.length){const Ke=_.selection.getBookmark();Nc(_,j,N),va(_,N,de),_.selection.moveToBookmark(Ke),_.selection.setRng(le(_.selection.getRng())),_.nodeChanged(),he=!0}return he},Pl=(_,N)=>!Bi(_)&&Bf(_,N),si=_=>Pl(_,"Indent"),lc=_=>Pl(_,"Outdent"),Bd=_=>Pl(_,"Flatten"),me="\uFEFF",fu=_=>_===me,nr=(_,N,j)=>ha(_,N,j).isSome(),jm=(_,N)=>nr(_,at(rt,N));var qu=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const Al=_l.DOM,fn=_=>{const N={},j=de=>{let he=_[de?"startContainer":"endContainer"],Ke=_[de?"startOffset":"endOffset"];if(xi(he)){const io=Al.create("span",{"data-mce-type":"bookmark"});he.hasChildNodes()?(Ke=Math.min(Ke,he.childNodes.length-1),de?he.insertBefore(io,he.childNodes[Ke]):Al.insertAfter(io,he.childNodes[Ke])):he.appendChild(io),he=io,Ke=0}N[de?"startContainer":"endContainer"]=he,N[de?"startOffset":"endOffset"]=Ke};return j(!0),_.collapsed||j(),N},Ra=_=>{const N=de=>{const he=Ro=>{var xo;let Wt=(xo=Ro.parentNode)===null||xo===void 0?void 0:xo.firstChild,Fn=0;for(;Wt;){if(Wt===Ro)return Fn;(!xi(Wt)||Wt.getAttribute("data-mce-type")!=="bookmark")&&Fn++,Wt=Wt.nextSibling}return-1};let Ke=_[de?"startContainer":"endContainer"],io=_[de?"startOffset":"endOffset"];if(Ke){if(xi(Ke)&&Ke.parentNode){const Ro=Ke;io=he(Ke),Ke=Ke.parentNode,Al.remove(Ro),!Ke.hasChildNodes()&&Al.isBlock(Ke)&&Ke.appendChild(Al.create("br"))}_[de?"startContainer":"endContainer"]=Ke,_[de?"startOffset":"endOffset"]=io}};N(!0),N();const j=Al.createRng();return j.setStart(_.startContainer,_.startOffset),_.endContainer&&j.setEnd(_.endContainer,_.endOffset),le(j)},cl=_=>{switch(_){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},zl=(_,N,j)=>{const de=j["list-style-type"]?j["list-style-type"]:null;_.setStyle(N,"list-style-type",de)},cc=(_,N)=>{rs.each(N,(j,de)=>{_.setAttribute(de,j)})},Mc=(_,N,j)=>{cc(N,j["list-attributes"]),rs.each(_.select("li",N),de=>{cc(de,j["list-item-attributes"])})},ka=(_,N,j)=>{zl(_,N,j),Mc(_,N,j)},Id=(_,N,j)=>{rs.each(j,de=>_.setStyle(N,de,""))},Gu=(_,N)=>tn(N)&&!tc(N,_.schema.getBlockElements()),If=(_,N,j,de)=>{let he=N[j?"startContainer":"endContainer"];const Ke=N[j?"startOffset":"endOffset"];xi(he)&&(he=he.childNodes[Math.min(Ke,he.childNodes.length-1)]||he),!j&&Ki(he.nextSibling)&&(he=he.nextSibling);const io=xo=>{for(;!_.dom.isBlock(xo)&&xo.parentNode&&de!==xo;)xo=xo.parentNode;return xo},Ro=(xo,Wt)=>{var Fn;const cs=new Ua(xo,io(xo)),Yr=Wt?"next":"prev";let Vl;for(;Vl=cs[Yr]();)if(!(Xo(_,Vl)||fu(Vl.textContent)||((Fn=Vl.textContent)===null||Fn===void 0?void 0:Fn.length)===0))return ce.some(Vl);return ce.none()};if(j&&pn(he))if(fu(he.textContent))he=Ro(he,!1).getOr(he);else for(he.parentNode!==null&&Gu(_,he.parentNode)&&(he=he.parentNode);he.previousSibling!==null&&(Gu(_,he.previousSibling)||pn(he.previousSibling));)he=he.previousSibling;if(!j&&pn(he))if(fu(he.textContent))he=Ro(he,!0).getOr(he);else for(he.parentNode!==null&&Gu(_,he.parentNode)&&(he=he.parentNode);he.nextSibling!==null&&(Gu(_,he.nextSibling)||pn(he.nextSibling));)he=he.nextSibling;for(;he.parentNode!==de;){const xo=he.parentNode;if(Cr(_,he)||/^(TD|TH)$/.test(xo.nodeName))return he;he=xo}return he},ea=(_,N,j)=>{const de=[],he=_.dom,Ke=If(_,N,!0,j),io=If(_,N,!1,j);let Ro;const xo=[];for(let Wt=Ke;Wt&&(xo.push(Wt),Wt!==io);Wt=Wt.nextSibling);return rs.each(xo,Wt=>{var Fn;if(Cr(_,Wt)){de.push(Wt),Ro=null;return}if(he.isBlock(Wt)||Ki(Wt)){Ki(Wt)&&he.remove(Wt),Ro=null;return}const cs=Wt.nextSibling;if(qu.isBookmarkNode(Wt)&&(Es(cs)||Cr(_,cs)||!cs&&Wt.parentNode===j)){Ro=null;return}Ro||(Ro=he.create("p"),(Fn=Wt.parentNode)===null||Fn===void 0||Fn.insertBefore(Ro,Wt),de.push(Ro)),Ro.appendChild(Wt)}),de},to=(_,N,j)=>{const de=_.getStyle(N,"list-style-type");let he=j?j["list-style-type"]:"";return he=he===null?"":he,de===he},Bc=(_,N)=>{const j=_.selection.getStart(!0),de=If(_,N,!0,_.getBody());return jm(Re.fromDom(de),Re.fromDom(N.commonAncestorContainer))?N.commonAncestorContainer:j},mu=(_,N,j)=>{const de=_.selection.getRng();let he="LI";const Ke=Sl(_,Bc(_,de)),io=_.dom;if(io.getContentEditable(_.selection.getNode())==="false")return;N=N.toUpperCase(),N==="DL"&&(he="DT");const Ro=fn(de),xo=T(ea(_,de,Ke),_.dom.isEditable);rs.each(xo,Wt=>{let Fn;const cs=Wt.previousSibling,Yr=Wt.parentNode;Vr(Yr)||(cs&&Es(cs)&&cs.nodeName===N&&to(io,cs,j)?(Fn=cs,Wt=io.rename(Wt,he),cs.appendChild(Wt)):(Fn=io.create(N),Yr.insertBefore(Fn,Wt),Fn.appendChild(Wt),Wt=io.rename(Wt,he)),Id(io,Wt,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),ka(io,Fn,j),ud(_.dom,Fn))}),_.selection.setRng(Ra(Ro))},Na=(_,N)=>Es(_)&&_.nodeName===(N==null?void 0:N.nodeName),Ic=(_,N,j)=>{const de=_.getStyle(N,"list-style-type",!0),he=_.getStyle(j,"list-style-type",!0);return de===he},Xi=(_,N)=>_.className===N.className,Pc=(_,N,j)=>Na(N,j)&&Ic(_,N,j)&&Xi(N,j),ud=(_,N)=>{let j,de=N.nextSibling;if(Pc(_,N,de)){const he=de;for(;j=he.firstChild;)N.appendChild(j);_.remove(he)}if(de=N.previousSibling,Pc(_,N,de)){const he=de;for(;j=he.lastChild;)N.insertBefore(j,N.firstChild);_.remove(he)}},ta=(_,N,j,de)=>{if(N.nodeName!==j){const he=_.dom.rename(N,j);ka(_.dom,he,de),Rc(_,cl(j),he)}else ka(_.dom,N,de),Rc(_,cl(j),N)},Tl=(_,N,j,de)=>{if(N.classList.forEach((he,Ke,io)=>{he.startsWith("tox-")&&(io.remove(he),io.length===0&&N.removeAttribute("class"))}),N.nodeName!==j){const he=_.dom.rename(N,j);ka(_.dom,he,de),Rc(_,cl(j),he)}else ka(_.dom,N,de),Rc(_,cl(j),N)},dc=(_,N,j,de,he)=>{const Ke=Es(N);if(Ke&&N.nodeName===de&&!pu(he)&&!Ur(N))Bd(_);else{mu(_,de,he);const io=fn(_.selection.getRng()),Ro=Ke?[N,...j]:j,xo=Ke&&Ur(N)?Tl:ta;rs.each(Ro,Wt=>{xo(_,Wt,de,he)}),_.selection.setRng(Ra(io))}},pu=_=>"list-style-type"in _,$p=(_,N,j,de)=>{if(N!==_.getBody())if(N)if(N.nodeName===j&&!pu(de)&&!Ur(N))Bd(_);else{const he=fn(_.selection.getRng());Ur(N)&&N.classList.forEach((io,Ro,xo)=>{io.startsWith("tox-")&&(xo.remove(io),xo.length===0&&N.removeAttribute("class"))}),ka(_.dom,N,de);const Ke=_.dom.rename(N,j);ud(_.dom,Ke),_.selection.setRng(Ra(he)),mu(_,j,de),Rc(_,cl(j),Ke)}else mu(_,j,de),Rc(_,cl(j),N)},Lc=(_,N,j)=>{const de=lt(_);if(Da(_,de))return;const he=Ln(_),Ke=sr(j)?j:{};he.length>0?dc(_,de,he,N,Ke):$p(_,de,N,Ke)},Pd=_l.DOM,Ku=(_,N)=>{const j=N.parentElement;if(j&&j.nodeName==="LI"&&j.firstChild===N){const de=j.previousSibling;de&&de.nodeName==="LI"?(de.appendChild(N),aa(_,j)&&Pd.remove(j)):Pd.setStyle(j,"listStyleType","none")}if(Es(j)){const de=j.previousSibling;de&&de.nodeName==="LI"&&de.appendChild(N)}},Ir=(_,N)=>{const j=rs.grep(_.select("ol,ul",N));rs.each(j,de=>{Ku(_,de)})},ai=(_,N,j,de)=>{let he=N.startContainer;const Ke=N.startOffset;if(pn(he)&&(j?Ke<he.data.length:Ke>0))return he;const io=_.schema.getNonEmptyElements();xi(he)&&(he=Gi.getNode(he,Ke));const Ro=new Ua(he,de);j&&il(_.dom,he)&&Ro.next();const xo=j?Ro.next.bind(Ro):Ro.prev2.bind(Ro);for(;he=xo();)if(he.nodeName==="LI"&&!he.hasChildNodes()||io[he.nodeName]||pn(he)&&he.data.length>0)return he;return null},wa=(_,N)=>{const j=N.childNodes;return j.length===1&&!Es(j[0])&&_.isBlock(j[0])},_i=_=>ce.from(_).map(Re.fromDom).filter(dt).exists(N=>Tc(N)&&!er(["details"],Vn(N))),zs=(_,N)=>{wa(_,N)&&_i(N.firstChild)&&_.remove(N.firstChild,!0)},Pf=(_,N,j)=>{let de;const he=wa(_,j)?j.firstChild:j;if(zs(_,N),!aa(_,N,!0))for(;de=N.firstChild;)he.appendChild(de)},bs=(_,N,j)=>{let de;const he=N.parentNode;if(!bo(_,N)||!bo(_,j))return;Es(j.lastChild)&&(de=j.lastChild),he===j.lastChild&&Ki(he.previousSibling)&&_.remove(he.previousSibling);const Ke=j.lastChild;Ke&&Ki(Ke)&&N.hasChildNodes()&&_.remove(Ke),aa(_,j,!0)&&Oa(Re.fromDom(j)),Pf(_,N,j),de&&j.appendChild(de);const Ro=et(Re.fromDom(j),Re.fromDom(N))?_.getParents(N,Es,j):[];_.remove(N),Pt(Ro,xo=>{aa(_,xo)&&xo!==_.getRoot()&&_.remove(xo)})},_a=(_,N,j)=>{Oa(Re.fromDom(j)),bs(_.dom,N,j),_.selection.setCursorLocation(j,0)},Ll=(_,N,j,de)=>{const he=_.dom;if(he.isEmpty(de))_a(_,j,de);else{const Ke=fn(N);bs(he,j,de),_.selection.setRng(Ra(Ke))}},Ge=(_,N,j,de)=>{const he=fn(N);bs(_.dom,j,de);const Ke=Ra(he);_.selection.setRng(Ke)},ca=(_,N)=>{const j=_.dom,de=_.selection,he=de.getStart(),Ke=Fo(_,he),io=j.getParent(de.getStart(),"LI",Ke);if(io){const Ro=io.parentElement;if(Ro===_.getBody()&&aa(j,Ro))return!0;const xo=le(de.getRng()),Wt=j.getParent(ai(_,xo,N,Ke),"LI",Ke),Fn=Wt&&(N?j.isChildOf(io,Wt):j.isChildOf(Wt,io));if(Wt&&Wt!==io&&!Fn)return _.undoManager.transact(()=>{N?Ll(_,xo,Wt,io):gs(io)?lc(_):Ge(_,xo,io,Wt)}),!0;if(Fn&&!N&&Wt!==io)return _.undoManager.transact(()=>{if(xo.commonAncestorContainer.parentElement){const cs=fn(xo),Yr=xo.commonAncestorContainer.parentElement;Pf(j,xo.commonAncestorContainer.parentElement,Wt),Yr.remove();const Vl=Ra(cs);_.selection.setRng(Vl)}}),!0;if(!Wt&&!N&&xo.startOffset===0&&xo.endOffset===0)return _.undoManager.transact(()=>{Bd(_)}),!0}return!1},gu=(_,N,j)=>{const de=_.getParent(N.parentNode,_.isBlock,j);_.remove(N),de&&_.isEmpty(de)&&_.remove(de)},qr=(_,N)=>{const j=_.dom,de=_.selection.getStart(),he=Fo(_,de),Ke=j.getParent(de,j.isBlock,he);if(Ke&&j.isEmpty(Ke,void 0,{checkRootAsContent:!0})){const io=le(_.selection.getRng()),Ro=j.getParent(ai(_,io,N,he),"LI",he);if(Ro){const xo=Yr=>er(["td","th","caption"],Vn(Yr)),Wt=Yr=>Yr.dom===he,Fn=ps(Re.fromDom(Ro),xo,Wt),cs=ps(Re.fromDom(io.startContainer),xo,Wt);return yn(Fn,cs,rt)?(_.undoManager.transact(()=>{const Yr=Ro.parentNode;gu(j,Ke,he),ud(j,Yr),_.selection.select(Ro,!0),_.selection.collapse(N)}),!0):!1}}return!1},Fl=(_,N)=>ca(_,N)||qr(_,N),ii=_=>{const N=_.selection.getStart(),j=Fo(_,N);return _.dom.getParent(N,"LI,DT,DD",j)||Zn(_).length>0},Hl=_=>ii(_)?(_.undoManager.transact(()=>{_.execCommand("Delete"),Ir(_.dom,_.getBody())}),!0):!1,hu=(_,N)=>{const j=_.selection;return!Da(_,j.getNode())&&(j.isCollapsed()?Fl(_,N):Hl(_))},Ci=_=>{_.on("ExecCommand",N=>{const j=N.command.toLowerCase();(j==="delete"||j==="forwarddelete")&&ii(_)&&Ir(_.dom,_.getBody())}),_.on("keydown",N=>{N.keyCode===ad.BACKSPACE?hu(_,!1)&&N.preventDefault():N.keyCode===ad.DELETE&&hu(_,!0)&&N.preventDefault()})},sn=_=>({backspaceDelete:N=>{hu(_,N)}}),ys=(_,N)=>{const j=lt(_);j===null||Da(_,j)||_.undoManager.transact(()=>{sr(N.styles)&&_.dom.setStyles(j,N.styles),sr(N.attrs)&&ns(N.attrs,(de,he)=>_.dom.setAttrib(j,he,de))})},Fc=_=>{const N=dn($m(_).split("")),j=$e(N,(de,he)=>{const Ke=de.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,he)*Ke});return Yt(j,(de,he)=>de+he,0)},Gr=_=>{if(_--,_<0)return"";{const N=_%26,j=Math.floor(_/26),de=Gr(j),he=String.fromCharCode(65+N);return de+he}},Yu=_=>/^[A-Z]+$/.test(_),uc=_=>/^[a-z]+$/.test(_),Um=_=>/^[0-9]+$/.test(_),Kr=_=>Um(_)?2:Yu(_)?0:uc(_)?1:Nf(_)?3:4,Ae=_=>{switch(Kr(_)){case 2:return ce.some({listStyleType:ce.none(),start:_});case 0:return ce.some({listStyleType:ce.some("upper-alpha"),start:Fc(_).toString()});case 1:return ce.some({listStyleType:ce.some("lower-alpha"),start:Fc(_).toString()});case 3:return ce.some({listStyleType:ce.none(),start:""});case 4:return ce.none()}},li=_=>{const N=parseInt(_.start,10);return Nn(_.listStyleType,"upper-alpha")?Gr(N):Nn(_.listStyleType,"lower-alpha")?Gr(N).toLowerCase():_.start},vs=_=>{const N=lt(_);!ya(N)||Da(_,N)||_.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:li({start:_.dom.getAttrib(N,"start","1"),listStyleType:ce.from(_.dom.getStyle(N,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:j=>{const de=j.getData();Ae(de.start).each(he=>{_.execCommand("mceListUpdate",!1,{attrs:{start:he.start==="1"?"":he.start},styles:{"list-style-type":he.listStyleType.getOr("")}})}),j.close()}})},Pi=(_,N)=>()=>{const j=lt(_);return tn(j)&&j.nodeName===N},$l=_=>{_.addCommand("mceListProps",()=>{vs(_)})},Ts=_=>{_.on("BeforeExecCommand",N=>{const j=N.command.toLowerCase();j==="indent"?si(_):j==="outdent"&&lc(_)}),_.addCommand("InsertUnorderedList",(N,j)=>{Lc(_,"UL",j)}),_.addCommand("InsertOrderedList",(N,j)=>{Lc(_,"OL",j)}),_.addCommand("InsertDefinitionList",(N,j)=>{Lc(_,"DL",j)}),_.addCommand("RemoveList",()=>{Bd(_)}),$l(_),_.addCommand("mceListUpdate",(N,j)=>{sr(j)&&ys(_,j)}),_.addQueryStateHandler("InsertUnorderedList",Pi(_,"UL")),_.addQueryStateHandler("InsertOrderedList",Pi(_,"OL")),_.addQueryStateHandler("InsertDefinitionList",Pi(_,"DL"))};var kr=tinymce.util.Tools.resolve("tinymce.html.Node");const Wn=_=>_.type===3,Ma=_=>_.length===0,Li=_=>{const N=(he,Ke)=>{const io=kr.create("li");Pt(he,Ro=>io.append(Ro)),Ke?_.insert(io,Ke,!0):_.append(io)},j=(he,Ke)=>Wn(Ke)?[...he,Ke]:!Ma(he)&&!Wn(Ke)?(N(he,Ke),[]):he,de=Yt(_.children(),j,[]);Ma(de)||N(de)},Si=_=>{_.on("PreInit",()=>{const{parser:N}=_;N.addNodeFilter("ul,ol",j=>Pt(j,Li))})},dl=_=>{_.on("keydown",N=>{N.keyCode!==ad.TAB||ad.metaKeyPressed(N)||_.undoManager.transact(()=>{(N.shiftKey?lc(_):si(_))&&N.preventDefault()})})},fc=_=>{yr(_)&&dl(_),Ci(_)},Hc=(_,N)=>j=>{const de=he=>{j.setActive(Wa(he.parents,N)),j.setEnabled(!Da(_,he.element)&&_.selection.isEditable())};return j.setEnabled(_.selection.isEditable()),nc(_,de)},fd=_=>{const N=j=>()=>_.execCommand(j);_.hasPlugin("advlist")||(_.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:N("InsertOrderedList"),onSetup:Hc(_,"OL")}),_.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:N("InsertUnorderedList"),onSetup:Hc(_,"UL")}))},Lf=(_,N)=>j=>nc(_,he=>j.setEnabled(Wa(he.parents,N)&&!Da(_,he.element))),Ff=_=>{const N={text:"List properties...",icon:"ordered-list",onAction:()=>_.execCommand("mceListProps"),onSetup:Lf(_,"OL")};_.ui.registry.addMenuItem("listprops",N),_.ui.registry.addContextMenu("lists",{update:j=>{const de=lt(_,j);return ya(de)?["listprops"]:[]}})};var $c=()=>{Hr.add("lists",_=>(Za(_),Si(_),_.hasPlugin("rtc",!0)?$l(_):(fc(_),Ts(_)),fd(_),Ff(_),sn(_)))};$c()})();(function(){var Hr=tinymce.util.Tools.resolve("tinymce.PluginManager");const Hs=Object.getPrototypeOf,is=(F,ee,pe)=>{var Oe;return pe(F,ee.prototype)?!0:((Oe=F.constructor)===null||Oe===void 0?void 0:Oe.name)===ee.name},ms=F=>{const ee=typeof F;return F===null?"null":ee==="object"&&Array.isArray(F)?"array":ee==="object"&&is(F,String,(pe,Oe)=>Oe.isPrototypeOf(pe))?"string":ee},Dr=F=>ee=>ms(ee)===F,Do=F=>ee=>typeof ee===F,sr=F=>ee=>F===ee,Qn=(F,ee)=>Rn(F)&&is(F,ee,(pe,Oe)=>Hs(pe)===Oe),Ko=Dr("string"),Rn=Dr("object"),tn=F=>Qn(F,Object),Yn=Dr("array"),Rr=sr(null),Lt=Do("boolean"),eo=F=>F==null,Yo=F=>!eo(F),ar=Do("function"),at=Do("number"),it=(F,ee)=>{if(Yn(F)){for(let pe=0,Oe=F.length;pe<Oe;++pe)if(!ee(F[pe]))return!1;return!0}return!1},mt=()=>{};class ce{constructor(ee,pe){this.tag=ee,this.value=pe}static some(ee){return new ce(!0,ee)}static none(){return ce.singletonNone}fold(ee,pe){return this.tag?pe(this.value):ee()}isSome(){return this.tag}isNone(){return!this.tag}map(ee){return this.tag?ce.some(ee(this.value)):ce.none()}bind(ee){return this.tag?ee(this.value):ce.none()}exists(ee){return this.tag&&ee(this.value)}forall(ee){return!this.tag||ee(this.value)}filter(ee){return!this.tag||ee(this.value)?this:ce.none()}getOr(ee){return this.tag?this.value:ee}or(ee){return this.tag?this:ee}getOrThunk(ee){return this.tag?this.value:ee()}orThunk(ee){return this.tag?this:ee()}getOrDie(ee){if(this.tag)return this.value;throw new Error(ee??"Called getOrDie on None")}static from(ee){return Yo(ee)?ce.some(ee):ce.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(ee){this.tag&&ee(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ce.singletonNone=new ce(!1);const Tt=Object.keys,ve=Object.hasOwnProperty,ct=(F,ee)=>{const pe=Tt(F);for(let Oe=0,Ht=pe.length;Oe<Ht;Oe++){const un=pe[Oe],Ur=F[un];ee(Ur,un)}},$r=F=>(ee,pe)=>{F[pe]=ee},er=(F,ee,pe,Oe)=>{ct(F,(Ht,un)=>{(ee(Ht,un)?pe:Oe)(Ht,un)})},Io=(F,ee)=>{const pe={};return er(F,ee,$r(pe),mt),pe},$e=(F,ee)=>ve.call(F,ee),Pt=(F,ee)=>$e(F,ee)&&F[ee]!==void 0&&F[ee]!==null,T=Array.prototype.push,_o=F=>{const ee=[];for(let pe=0,Oe=F.length;pe<Oe;++pe){if(!Yn(F[pe]))throw new Error("Arr.flatten item "+pe+" was not an array, input: "+F);T.apply(ee,F[pe])}return ee},Yt=(F,ee)=>ee>=0&&ee<F.length?ce.some(F[ee]):ce.none(),Lo=F=>Yt(F,0),hr=(F,ee)=>{for(let pe=0;pe<F.length;pe++){const Oe=ee(F[pe],pe);if(Oe.isSome())return Oe}return ce.none()};typeof window<"u"||Function("return this;")();const we=(F,ee,pe)=>{if(Ko(pe)||Lt(pe)||at(pe))F.setAttribute(ee,pe+"");else throw console.error("Invalid call to Attribute.set. Key ",ee,":: Value ",pe,":: Element ",F),new Error("Attribute value was not simple")},At=(F,ee,pe)=>{we(F.dom,ee,pe)},dn=(F,ee)=>{F.dom.removeAttribute(ee)},kt=(F,ee)=>{const Oe=(ee||document).createElement("div");if(Oe.innerHTML=F,!Oe.hasChildNodes()||Oe.childNodes.length>1){const Ht="HTML does not have a single root node";throw console.error(Ht,F),new Error(Ht)}return Wr(Oe.childNodes[0])},nt=(F,ee)=>{const Oe=(ee||document).createElement(F);return Wr(Oe)},Dt=(F,ee)=>{const Oe=(ee||document).createTextNode(F);return Wr(Oe)},Wr=F=>{if(F==null)throw new Error("Node cannot be null or undefined");return{dom:F}},yn={fromHtml:kt,fromTag:nt,fromText:Dt,fromDom:Wr,fromPoint:(F,ee,pe)=>ce.from(F.dom.elementFromPoint(ee,pe)).map(Wr)};var Co=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),H=tinymce.util.Tools.resolve("tinymce.util.URI");const ra=F=>F.length>0,Hn=F=>ee=>ee.options.get(F),kn=F=>{const ee=F.options.register;ee("image_dimensions",{processor:"boolean",default:!0}),ee("image_advtab",{processor:"boolean",default:!1}),ee("image_uploadtab",{processor:"boolean",default:!0}),ee("image_prepend_url",{processor:"string",default:""}),ee("image_class_list",{processor:"object[]"}),ee("image_description",{processor:"boolean",default:!0}),ee("image_title",{processor:"boolean",default:!1}),ee("image_caption",{processor:"boolean",default:!1}),ee("image_list",{processor:pe=>{const Oe=pe===!1||Ko(pe)||it(pe,Rn)||ar(pe);return Oe?{value:pe,valid:Oe}:{valid:!1,message:"Must be false, a string, an array or a function."}},default:!1})},yi=Hn("image_dimensions"),kl=Hn("image_advtab"),on=Hn("image_uploadtab"),zn=Hn("image_prepend_url"),Jo=Hn("image_class_list"),Re=Hn("image_description"),wt=Hn("image_title"),rt=Hn("image_caption"),et=Hn("image_list"),Gt=Hn("a11y_advanced_options"),uo=Hn("automatic_uploads"),qo=F=>ra(F.options.get("images_upload_url")),Tn=F=>Yo(F.options.get("images_upload_handler")),or=(F,ee)=>Math.max(parseInt(F,10),parseInt(ee,10)),$n=F=>new Promise(ee=>{const pe=document.createElement("img"),Oe=un=>{pe.onload=pe.onerror=null,pe.parentNode&&pe.parentNode.removeChild(pe),ee(un)};pe.onload=()=>{const un=or(pe.width,pe.clientWidth),Ur=or(pe.height,pe.clientHeight),Wa={width:un,height:Ur};Oe(Promise.resolve(Wa))},pe.onerror=()=>{Oe(Promise.reject(`Failed to get image dimensions for: ${F}`))};const Ht=pe.style;Ht.visibility="hidden",Ht.position="fixed",Ht.bottom=Ht.left="0px",Ht.width=Ht.height="auto",document.body.appendChild(pe),pe.src=F}),vn=F=>(F&&(F=F.replace(/px$/,"")),F),Nr=F=>(F.length>0&&/^[0-9]+$/.test(F)&&(F+="px"),F),Js=F=>{if(F.margin){const ee=String(F.margin).split(" ");switch(ee.length){case 1:F["margin-top"]=F["margin-top"]||ee[0],F["margin-right"]=F["margin-right"]||ee[0],F["margin-bottom"]=F["margin-bottom"]||ee[0],F["margin-left"]=F["margin-left"]||ee[0];break;case 2:F["margin-top"]=F["margin-top"]||ee[0],F["margin-right"]=F["margin-right"]||ee[1],F["margin-bottom"]=F["margin-bottom"]||ee[0],F["margin-left"]=F["margin-left"]||ee[1];break;case 3:F["margin-top"]=F["margin-top"]||ee[0],F["margin-right"]=F["margin-right"]||ee[1],F["margin-bottom"]=F["margin-bottom"]||ee[2],F["margin-left"]=F["margin-left"]||ee[1];break;case 4:F["margin-top"]=F["margin-top"]||ee[0],F["margin-right"]=F["margin-right"]||ee[1],F["margin-bottom"]=F["margin-bottom"]||ee[2],F["margin-left"]=F["margin-left"]||ee[3]}delete F.margin}return F},Vn=(F,ee)=>{const pe=et(F);Ko(pe)?fetch(pe).then(Oe=>{Oe.ok&&Oe.json().then(ee)}):ar(pe)?pe(ee):ee(pe)},_r=(F,ee,pe)=>{const Oe=()=>{pe.onload=pe.onerror=null,F.selection&&(F.selection.select(pe),F.nodeChanged())};pe.onload=()=>{!ee.width&&!ee.height&&yi(F)&&F.dom.setAttribs(pe,{width:String(pe.clientWidth),height:String(pe.clientHeight)}),Oe()},pe.onerror=Oe},Qo=F=>new Promise((ee,pe)=>{const Oe=new FileReader;Oe.onload=()=>{ee(Oe.result)},Oe.onerror=()=>{var Ht;pe((Ht=Oe.error)===null||Ht===void 0?void 0:Ht.message)},Oe.readAsDataURL(F)}),$s=F=>F.nodeName==="IMG"&&(F.hasAttribute("data-mce-object")||F.hasAttribute("data-mce-placeholder")),dt=(F,ee)=>{const pe=F.options.get;return H.isDomSafe(ee,"img",{allow_html_data_urls:pe("allow_html_data_urls"),allow_script_urls:pe("allow_script_urls"),allow_svg_data_urls:pe("allow_svg_data_urls")})},no=Co.DOM,Vo=F=>F.style.marginLeft&&F.style.marginRight&&F.style.marginLeft===F.style.marginRight?vn(F.style.marginLeft):"",Rs=F=>F.style.marginTop&&F.style.marginBottom&&F.style.marginTop===F.style.marginBottom?vn(F.style.marginTop):"",$a=F=>F.style.borderWidth?vn(F.style.borderWidth):"",st=(F,ee)=>{var pe;return F.hasAttribute(ee)&&(pe=F.getAttribute(ee))!==null&&pe!==void 0?pe:""},Ta=F=>F.parentNode!==null&&F.parentNode.nodeName==="FIGURE",Bo=(F,ee,pe)=>{pe===""||pe===null?F.removeAttribute(ee):F.setAttribute(ee,pe)},vi=F=>{const ee=no.create("figure",{class:"image"});no.insertAfter(ee,F),ee.appendChild(F),ee.appendChild(no.create("figcaption",{contentEditable:"true"},"Caption")),ee.contentEditable="false"},Xn=F=>{const ee=F.parentNode;Yo(ee)&&(no.insertAfter(F,ee),no.remove(ee))},ls=F=>{Ta(F)?Xn(F):vi(F)},Wi=(F,ee)=>{const pe=F.getAttribute("style"),Oe=ee(pe!==null?pe:"");Oe.length>0?(F.setAttribute("style",Oe),F.setAttribute("data-mce-style",Oe)):F.removeAttribute("style")},Ri=(F,ee)=>(pe,Oe,Ht)=>{const un=pe.style;un[Oe]?(un[Oe]=Nr(Ht),Wi(pe,ee)):Bo(pe,Oe,Ht)},ti=(F,ee)=>F.style[ee]?vn(F.style[ee]):st(F,ee),Va=(F,ee)=>{const pe=Nr(ee);F.style.marginLeft=pe,F.style.marginRight=pe},qi=(F,ee)=>{const pe=Nr(ee);F.style.marginTop=pe,F.style.marginBottom=pe},Mn=(F,ee)=>{const pe=Nr(ee);F.style.borderWidth=pe},po=(F,ee)=>{F.style.borderStyle=ee},ha=F=>{var ee;return(ee=F.style.borderStyle)!==null&&ee!==void 0?ee:""},ps=F=>Yo(F)&&F.nodeName==="FIGURE",zc=F=>F.nodeName==="IMG",Et=F=>no.getAttrib(F,"alt").length===0&&no.getAttrib(F,"role")==="presentation",_s=F=>Et(F)?"":st(F,"alt"),Tc=()=>({src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}),br=(F,ee)=>{var pe;const Oe=document.createElement("img");return Bo(Oe,"style",ee.style),(Vo(Oe)||ee.hspace!=="")&&Va(Oe,ee.hspace),(Rs(Oe)||ee.vspace!=="")&&qi(Oe,ee.vspace),($a(Oe)||ee.border!=="")&&Mn(Oe,ee.border),(ha(Oe)||ee.borderStyle!=="")&&po(Oe,ee.borderStyle),F((pe=Oe.getAttribute("style"))!==null&&pe!==void 0?pe:"")},Oc=(F,ee)=>{const pe=document.createElement("img");if(Oa(F,{...ee,caption:!1},pe),ja(pe,ee.alt,ee.isDecorative),ee.caption){const Oe=no.create("figure",{class:"image"});return Oe.appendChild(pe),Oe.appendChild(no.create("figcaption",{contentEditable:"true"},"Caption")),Oe.contentEditable="false",Oe}else return pe},ba=(F,ee)=>({src:st(ee,"src"),alt:_s(ee),title:st(ee,"title"),width:ti(ee,"width"),height:ti(ee,"height"),class:st(ee,"class"),style:F(st(ee,"style")),caption:Ta(ee),hspace:Vo(ee),vspace:Rs(ee),border:$a(ee),borderStyle:ha(ee),isDecorative:Et(ee)}),Cs=(F,ee,pe,Oe,Ht)=>{pe[Oe]!==ee[Oe]&&Ht(F,Oe,String(pe[Oe]))},ja=(F,ee,pe)=>{if(pe){no.setAttrib(F,"role","presentation");const Oe=yn.fromDom(F);At(Oe,"alt","")}else{if(Rr(ee)){const Oe=yn.fromDom(F);dn(Oe,"alt")}else{const Oe=yn.fromDom(F);At(Oe,"alt",ee)}no.getAttrib(F,"role")==="presentation"&&no.setAttrib(F,"role","")}},fr=(F,ee,pe)=>{(pe.alt!==ee.alt||pe.isDecorative!==ee.isDecorative)&&ja(F,pe.alt,pe.isDecorative)},Ss=(F,ee)=>(pe,Oe,Ht)=>{F(pe,Ht),Wi(pe,ee)},Oa=(F,ee,pe)=>{const Oe=ba(F,pe);Cs(pe,Oe,ee,"caption",(Ht,un,Ur)=>ls(Ht)),Cs(pe,Oe,ee,"src",Bo),Cs(pe,Oe,ee,"title",Bo),Cs(pe,Oe,ee,"width",Ri("width",F)),Cs(pe,Oe,ee,"height",Ri("height",F)),Cs(pe,Oe,ee,"class",Bo),Cs(pe,Oe,ee,"style",Ss((Ht,un)=>Bo(Ht,"style",un),F)),Cs(pe,Oe,ee,"hspace",Ss(Va,F)),Cs(pe,Oe,ee,"vspace",Ss(qi,F)),Cs(pe,Oe,ee,"border",Ss(Mn,F)),Cs(pe,Oe,ee,"borderStyle",Ss(po,F)),fr(pe,Oe,ee)},wl=(F,ee)=>{const pe=F.dom.styles.parse(ee),Oe=Js(pe),Ht=F.dom.styles.parse(F.dom.styles.serialize(Oe));return F.dom.styles.serialize(Ht)},Gi=F=>{const ee=F.selection.getNode(),pe=F.dom.getParent(ee,"figure.image");return pe?F.dom.select("img",pe)[0]:ee&&(ee.nodeName!=="IMG"||$s(ee))?null:ee},Ua=(F,ee)=>{var pe;const Oe=F.dom,Ht=Io(F.schema.getTextBlockElements(),(Ur,Wa)=>!F.schema.isValidChild(Wa,"figure")),un=Oe.getParent(ee.parentNode,Ur=>Pt(Ht,Ur.nodeName),F.getBody());return un&&(pe=Oe.split(un,ee))!==null&&pe!==void 0?pe:ee},ad=F=>{const ee=Gi(F);return ee?ba(pe=>wl(F,pe),ee):Tc()},Ql=(F,ee)=>{const pe=Oc(Ht=>wl(F,Ht),ee);F.dom.setAttrib(pe,"data-mce-id","__mcenew"),F.focus(),F.selection.setContent(pe.outerHTML);const Oe=F.dom.select('*[data-mce-id="__mcenew"]')[0];if(F.dom.setAttrib(Oe,"data-mce-id",null),ps(Oe)){const Ht=Ua(F,Oe);F.selection.select(Ht)}else F.selection.select(Oe)},wn=(F,ee)=>{F.dom.setAttrib(ee,"src",ee.getAttribute("src"))},ns=(F,ee)=>{if(ee){const pe=F.dom.is(ee.parentNode,"figure.image")?ee.parentNode:ee;F.dom.remove(pe),F.focus(),F.nodeChanged(),F.dom.isEmpty(F.getBody())&&(F.setContent(""),F.selection.setCursorLocation())}},sa=(F,ee)=>{const pe=Gi(F);if(pe)if(Oa(Oe=>wl(F,Oe),ee,pe),wn(F,pe),ps(pe.parentNode)){const Oe=pe.parentNode;Ua(F,Oe),F.selection.select(pe.parentNode)}else F.selection.select(pe),_r(F,ee,pe)},Dd=(F,ee)=>{const pe=ee.src;return{...ee,src:dt(F,pe)?pe:""}},Ni=(F,ee)=>{const pe=Gi(F);if(pe){const Ht={...ba(Ur=>wl(F,Ur),pe),...ee},un=Dd(F,Ht);Ht.src?sa(F,un):ns(F,pe)}else ee.src&&Ql(F,{...Tc(),...ee})},js=(F=>(...ee)=>{if(ee.length===0)throw new Error("Can't merge zero objects");const pe={};for(let Oe=0;Oe<ee.length;Oe++){const Ht=ee[Oe];for(const un in Ht)$e(Ht,un)&&(pe[un]=F(pe[un],Ht[un]))}return pe})((F,ee)=>tn(F)&&tn(ee)?js(F,ee):ee);var oi=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),Bn=tinymce.util.Tools.resolve("tinymce.util.Tools");const lr=F=>Ko(F.value)?F.value:"",Mi=F=>Ko(F.text)?F.text:Ko(F.title)?F.title:"",_l=(F,ee)=>{const pe=[];return Bn.each(F,Oe=>{const Ht=Mi(Oe);if(Oe.menu!==void 0){const un=_l(Oe.menu,ee);pe.push({text:Ht,items:un})}else{const un=ee(Oe);pe.push({text:Ht,value:un})}}),pe},rs=(F=lr)=>ee=>ee?ce.from(ee).map(pe=>_l(pe,F)):ce.none(),al=F=>rs(lr)(F),Mr=F=>$e(F,"items"),pn=(F,ee)=>hr(F,pe=>Mr(pe)?pn(pe.items,ee):pe.value===ee?ce.some(pe):ce.none()),Es={sanitizer:rs,sanitize:al,findEntry:(F,ee)=>F.bind(pe=>pn(pe,ee))},ya={makeTab:F=>({title:"Advanced",name:"advanced",items:[{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]})},Vr=F=>{const ee=Es.sanitizer(El=>F.convertURL(El.value||El.url||"","src")),pe=new Promise(El=>{Vn(F,Nf=>{El(ee(Nf).map(Hp=>_o([[{text:"None",value:""}],Hp])))})}),Oe=Es.sanitize(Jo(F)),Ht=kl(F),un=on(F),Ur=qo(F),Wa=Tn(F),ut=ad(F),Bi=Re(F),Da=wt(F),nc=yi(F),ia=rt(F),Rc=Gt(F),ld=uo(F),$m=ce.some(zn(F)).filter(El=>Ko(El)&&El.length>0);return pe.then(El=>({image:ut,imageList:El,classList:Oe,hasAdvTab:Ht,hasUploadTab:un,hasUploadUrl:Ur,hasUploadHandler:Wa,hasDescription:Bi,hasImageTitle:Da,hasDimensions:nc,hasImageCaption:ia,prependURL:$m,hasAccessibilityOptions:Rc,automaticUploads:ld}))},ec=F=>{const ee={name:"src",type:"urlinput",filetype:"image",label:"Source",picker_text:"Browse files"},pe=F.imageList.map(Da=>({name:"images",type:"listbox",label:"Image list",items:Da})),Oe={name:"alt",type:"input",label:"Alternative description",enabled:!(F.hasAccessibilityOptions&&F.image.isDecorative)},Ht={name:"title",type:"input",label:"Image title"},un={name:"dimensions",type:"sizeinput"},Ur={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},Wa=F.classList.map(Da=>({name:"classes",type:"listbox",label:"Class",items:Da})),ut={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},Bi=Da=>Da?{type:"grid",columns:2}:{type:"panel"};return _o([[ee],pe.toArray(),F.hasAccessibilityOptions&&F.hasDescription?[Ur]:[],F.hasDescription?[Oe]:[],F.hasImageTitle?[Ht]:[],F.hasDimensions?[un]:[],[{...Bi(F.classList.isSome()&&F.hasImageCaption),items:_o([Wa.toArray(),F.hasImageCaption?[ut]:[]])}]])},Ki={makeTab:F=>({title:"General",name:"general",items:ec(F)}),makeItems:ec},Cr={makeTab:F=>({title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]})},tc=F=>({prevImage:Es.findEntry(F.imageList,F.image.src),prevAlt:F.image.alt,open:!0}),Xo=F=>({src:{value:F.src,meta:{}},images:F.src,alt:F.alt,title:F.title,dimensions:{width:F.width,height:F.height},classes:F.class,caption:F.caption,style:F.style,vspace:F.vspace,border:F.border,hspace:F.hspace,borderstyle:F.borderStyle,fileinput:[],isDecorative:F.isDecorative}),il=(F,ee)=>({src:F.src.value,alt:(F.alt===null||F.alt.length===0)&&ee?null:F.alt,title:F.title,width:F.dimensions.width,height:F.dimensions.height,class:F.classes,style:F.style,caption:F.caption,hspace:F.hspace,vspace:F.vspace,border:F.border,borderStyle:F.borderstyle,isDecorative:F.isDecorative}),aa=(F,ee)=>/^(?:[a-zA-Z]+:)?\/\//.test(ee)?ce.none():F.prependURL.bind(pe=>ee.substring(0,pe.length)!==pe?ce.some(pe+ee):ce.none()),bo=(F,ee)=>{const pe=ee.getData();aa(F,pe.src.value).each(Oe=>{ee.setData({src:{value:Oe,meta:pe.src.meta}})})},ki=(F,ee,pe)=>{F.hasDescription&&Ko(pe.alt)&&(ee.alt=pe.alt),F.hasAccessibilityOptions&&(ee.isDecorative=pe.isDecorative||ee.isDecorative||!1),F.hasImageTitle&&Ko(pe.title)&&(ee.title=pe.title),F.hasDimensions&&(Ko(pe.width)&&(ee.dimensions.width=pe.width),Ko(pe.height)&&(ee.dimensions.height=pe.height)),Ko(pe.class)&&Es.findEntry(F.classList,pe.class).each(Oe=>{ee.classes=Oe.value}),F.hasImageCaption&&Lt(pe.caption)&&(ee.caption=pe.caption),F.hasAdvTab&&(Ko(pe.style)&&(ee.style=pe.style),Ko(pe.vspace)&&(ee.vspace=pe.vspace),Ko(pe.border)&&(ee.border=pe.border),Ko(pe.hspace)&&(ee.hspace=pe.hspace),Ko(pe.borderstyle)&&(ee.borderstyle=pe.borderstyle))},Za=(F,ee)=>{const pe=ee.getData(),Oe=pe.src.meta;if(Oe!==void 0){const Ht=js({},pe);ki(F,Ht,Oe),ee.setData(Ht)}},yr=(F,ee,pe,Oe)=>{const Ht=Oe.getData(),un=Ht.src.value,Ur=Ht.src.meta||{};!Ur.width&&!Ur.height&&ee.hasDimensions&&(ra(un)?F.imageSize(un).then(Wa=>{pe.open&&Oe.setData({dimensions:Wa})}).catch(Wa=>console.error(Wa)):Oe.setData({dimensions:{width:"",height:""}}))},Cl=(F,ee,pe)=>{const Oe=pe.getData(),Ht=Es.findEntry(F.imageList,Oe.src.value);ee.prevImage=Ht,pe.setData({images:Ht.map(un=>un.value).getOr("")})},Sr=(F,ee,pe,Oe)=>{bo(ee,Oe),Za(ee,Oe),yr(F,ee,pe,Oe),Cl(ee,pe,Oe)},Nl=(F,ee,pe,Oe)=>{const Ht=Oe.getData(),un=Es.findEntry(ee.imageList,Ht.images);un.each(Ur=>{Ht.alt===""||pe.prevImage.map(ut=>ut.text===Ht.alt).getOr(!1)?Ur.value===""?Oe.setData({src:Ur,alt:pe.prevAlt}):Oe.setData({src:Ur,alt:Ur.text}):Oe.setData({src:Ur})}),pe.prevImage=un,Sr(F,ee,pe,Oe)},Zs=(F,ee,pe,Oe)=>{const Ht=Oe.getData();Oe.block("Uploading image"),Lo(Ht.fileinput).fold(()=>{Oe.unblock()},un=>{const Ur=URL.createObjectURL(un),Wa=()=>{Oe.unblock(),URL.revokeObjectURL(Ur)},ut=Bi=>{Oe.setData({src:{value:Bi,meta:{}}}),Oe.showTab("general"),Sr(F,ee,pe,Oe),Oe.focus("src")};Qo(un).then(Bi=>{const Da=F.createBlobCache(un,Ur,Bi);ee.automaticUploads?F.uploadImage(Da).then(nc=>{ut(nc.url),Wa()}).catch(nc=>{Wa(),F.alertErr(nc)}):(F.addToBlobCache(Da),ut(Da.blobUri()),Oe.unblock())})})},_n=(F,ee,pe)=>(Oe,Ht)=>{Ht.name==="src"?Sr(F,ee,pe,Oe):Ht.name==="images"?Nl(F,ee,pe,Oe):Ht.name==="alt"?pe.prevAlt=Oe.getData().alt:Ht.name==="fileinput"?Zs(F,ee,pe,Oe):Ht.name==="isDecorative"&&Oe.setEnabled("alt",!Oe.getData().isDecorative)},ll=F=>()=>{F.open=!1},oc=F=>F.hasAdvTab||F.hasUploadUrl||F.hasUploadHandler?{type:"tabpanel",tabs:_o([[Ki.makeTab(F)],F.hasAdvTab?[ya.makeTab(F)]:[],F.hasUploadTab&&(F.hasUploadUrl||F.hasUploadHandler)?[Cr.makeTab(F)]:[]])}:{type:"panel",items:Ki.makeItems(F)},Dc=(F,ee,pe)=>Oe=>{const Ht=js(Xo(ee.image),Oe.getData()),un={...Ht,style:br(pe.normalizeCss,il(Ht,!1))};F.execCommand("mceUpdateImage",!1,il(un,ee.hasAccessibilityOptions)),F.editorUpload.uploadImagesAuto(),Oe.close()},vr=F=>ee=>dt(F,ee)?$n(F.documentBaseURI.toAbsolute(ee)).then(pe=>({width:String(pe.width),height:String(pe.height)})):Promise.resolve({width:"",height:""}),va=F=>(ee,pe,Oe)=>{var Ht;return F.editorUpload.blobCache.create({blob:ee,blobUri:pe,name:(Ht=ee.name)===null||Ht===void 0?void 0:Ht.replace(/\.[^\.]+$/,""),filename:ee.name,base64:Oe.split(",")[1]})},G=F=>ee=>{F.editorUpload.blobCache.add(ee)},le=F=>ee=>{F.windowManager.alert(ee)},Ce=F=>ee=>wl(F,ee),Ve=F=>ee=>F.dom.parseStyle(ee),lt=F=>(ee,pe)=>F.dom.serializeStyle(ee,pe),$t=F=>ee=>oi(F).upload([ee],!1).then(pe=>{var Oe;return pe.length===0?Promise.reject("Failed to upload image"):pe[0].status===!1?Promise.reject((Oe=pe[0].error)===null||Oe===void 0?void 0:Oe.message):pe[0]}),To=F=>{const ee={imageSize:vr(F),addToBlobCache:G(F),createBlobCache:va(F),alertErr:le(F),normalizeCss:Ce(F),parseStyle:Ve(F),serializeStyle:lt(F),uploadImage:$t(F)};return{open:()=>{Vr(F).then(Oe=>{const Ht=tc(Oe);return{title:"Insert/Edit Image",size:"normal",body:oc(Oe),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Xo(Oe.image),onSubmit:Dc(F,Oe,ee),onChange:_n(ee,Oe,Ht),onClose:ll(Ht)}}).then(F.windowManager.open)}}},Ln=F=>{F.addCommand("mceImage",To(F).open),F.addCommand("mceUpdateImage",(ee,pe)=>{F.undoManager.transact(()=>Ni(F,pe))})},jo=F=>{const ee=F.attr("class");return Yo(ee)&&/\bimage\b/.test(ee)},Zn=F=>ee=>{let pe=ee.length;const Oe=Ht=>{Ht.attr("contenteditable",F?"true":null)};for(;pe--;){const Ht=ee[pe];jo(Ht)&&(Ht.attr("contenteditable",F?"false":null),Bn.each(Ht.getAll("figcaption"),Oe))}},jr=F=>{F.on("PreInit",()=>{F.parser.addNodeFilter("figure",Zn(!0)),F.serializer.addNodeFilter("figure",Zn(!1))})},Fo=F=>ee=>{const pe=()=>{ee.setEnabled(F.selection.isEditable())};return F.on("NodeChange",pe),pe(),()=>{F.off("NodeChange",pe)}},Yi=F=>{F.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:To(F).open,onSetup:ee=>{ee.setActive(Yo(Gi(F)));const pe=F.selection.selectorChangedWithUnbind("img:not([data-mce-object]):not([data-mce-placeholder]),figure.image",ee.setActive).unbind,Oe=Fo(F)(ee);return()=>{pe(),Oe()}}}),F.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:To(F).open,onSetup:Fo(F)}),F.ui.registry.addContextMenu("image",{update:ee=>F.selection.isEditable()&&(ps(ee)||zc(ee)&&!$s(ee))?["image"]:[]})};var Sl=()=>{Hr.add("image",F=>{kn(F),jr(F),Yi(F),Ln(F)})};Sl()})();(function(){var Hr=tinymce.util.Tools.resolve("tinymce.PluginManager");const Hs=(k,z,V)=>{var Q;return V(k,z.prototype)?!0:((Q=k.constructor)===null||Q===void 0?void 0:Q.name)===z.name},is=k=>{const z=typeof k;return k===null?"null":z==="object"&&Array.isArray(k)?"array":z==="object"&&Hs(k,String,(V,Q)=>Q.isPrototypeOf(V))?"string":z},ms=k=>z=>is(z)===k,Dr=k=>z=>typeof z===k,Do=k=>z=>k===z,sr=ms("string"),Qn=ms("array"),Ko=Dr("boolean"),Rn=Do(void 0),tn=k=>k==null,Yn=k=>!tn(k),Rr=Dr("function"),Lt=Dr("number"),eo=()=>{},Yo=(k,z)=>V=>k(z(V)),ar=k=>()=>k,at=k=>k,it=(k,z)=>k===z;function mt(k,...z){return(...V)=>{const Q=z.concat(V);return k.apply(null,Q)}}const ce=k=>{k()},Tt=ar(!1),ve=ar(!0);class ct{constructor(z,V){this.tag=z,this.value=V}static some(z){return new ct(!0,z)}static none(){return ct.singletonNone}fold(z,V){return this.tag?V(this.value):z()}isSome(){return this.tag}isNone(){return!this.tag}map(z){return this.tag?ct.some(z(this.value)):ct.none()}bind(z){return this.tag?z(this.value):ct.none()}exists(z){return this.tag&&z(this.value)}forall(z){return!this.tag||z(this.value)}filter(z){return!this.tag||z(this.value)?this:ct.none()}getOr(z){return this.tag?this.value:z}or(z){return this.tag?this:z}getOrThunk(z){return this.tag?this.value:z()}orThunk(z){return this.tag?this:z()}getOrDie(z){if(this.tag)return this.value;throw new Error(z??"Called getOrDie on None")}static from(z){return Yn(z)?ct.some(z):ct.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(z){this.tag&&z(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ct.singletonNone=new ct(!1);const $r=Object.keys,er=Object.hasOwnProperty,Io=(k,z)=>{const V=$r(k);for(let Q=0,xe=V.length;Q<xe;Q++){const We=V[Q],ht=k[We];z(ht,We)}},$e=k=>(z,V)=>{k[V]=z},Pt=(k,z,V,Q)=>{Io(k,(xe,We)=>{(z(xe,We)?V:Q)(xe,We)})},T=(k,z)=>{const V={};return Pt(k,z,$e(V),eo),V},_o=(k,z)=>{const V=[];return Io(k,(Q,xe)=>{V.push(z(Q,xe))}),V},Yt=k=>_o(k,at),Lo=k=>$r(k).length,hr=(k,z)=>we(k,z)?ct.from(k[z]):ct.none(),we=(k,z)=>er.call(k,z),At=(k,z)=>we(k,z)&&k[z]!==void 0&&k[z]!==null,dn=k=>{for(const z in k)if(er.call(k,z))return!1;return!0},kt=Array.prototype.indexOf,nt=Array.prototype.push,Dt=(k,z)=>kt.call(k,z),Wr=(k,z)=>Dt(k,z)>-1,Nn=(k,z)=>{for(let V=0,Q=k.length;V<Q;V++){const xe=k[V];if(z(xe,V))return!0}return!1},yn=(k,z)=>{const V=[];for(let Q=0;Q<k;Q++)V.push(z(Q));return V},Co=(k,z)=>{const V=k.length,Q=new Array(V);for(let xe=0;xe<V;xe++){const We=k[xe];Q[xe]=z(We,xe)}return Q},H=(k,z)=>{for(let V=0,Q=k.length;V<Q;V++){const xe=k[V];z(xe,V)}},ra=(k,z)=>{for(let V=k.length-1;V>=0;V--){const Q=k[V];z(Q,V)}},Hn=(k,z)=>{const V=[],Q=[];for(let xe=0,We=k.length;xe<We;xe++){const ht=k[xe];(z(ht,xe)?V:Q).push(ht)}return{pass:V,fail:Q}},kn=(k,z)=>{const V=[];for(let Q=0,xe=k.length;Q<xe;Q++){const We=k[Q];z(We,Q)&&V.push(We)}return V},yi=(k,z,V)=>(ra(k,(Q,xe)=>{V=z(V,Q,xe)}),V),kl=(k,z,V)=>(H(k,(Q,xe)=>{V=z(V,Q,xe)}),V),on=(k,z,V)=>{for(let Q=0,xe=k.length;Q<xe;Q++){const We=k[Q];if(z(We,Q))return ct.some(We);if(V(We,Q))break}return ct.none()},zn=(k,z)=>on(k,z,Tt),Jo=k=>{const z=[];for(let V=0,Q=k.length;V<Q;++V){if(!Qn(k[V]))throw new Error("Arr.flatten item "+V+" was not an array, input: "+k);nt.apply(z,k[V])}return z},Re=(k,z)=>Jo(Co(k,z)),wt=(k,z)=>{for(let V=0,Q=k.length;V<Q;++V){const xe=k[V];if(z(xe,V)!==!0)return!1}return!0},rt=(k,z)=>{const V={};for(let Q=0,xe=k.length;Q<xe;Q++){const We=k[Q];V[String(We)]=z(We,Q)}return V},et=(k,z)=>z>=0&&z<k.length?ct.some(k[z]):ct.none(),Gt=k=>et(k,0),uo=k=>et(k,k.length-1),qo=(k,z)=>{for(let V=0;V<k.length;V++){const Q=z(k[V],V);if(Q.isSome())return Q}return ct.none()},Tn=8,or=9,$n=11,vn=1,Nr=3,Js=(k,z)=>{const Q=(z||document).createElement("div");if(Q.innerHTML=k,!Q.hasChildNodes()||Q.childNodes.length>1){const xe="HTML does not have a single root node";throw console.error(xe,k),new Error(xe)}return Qo(Q.childNodes[0])},Vn=(k,z)=>{const Q=(z||document).createElement(k);return Qo(Q)},_r=(k,z)=>{const Q=(z||document).createTextNode(k);return Qo(Q)},Qo=k=>{if(k==null)throw new Error("Node cannot be null or undefined");return{dom:k}},dt={fromHtml:Js,fromTag:Vn,fromText:_r,fromDom:Qo,fromPoint:(k,z,V)=>ct.from(k.dom.elementFromPoint(z,V)).map(Qo)},no=(k,z)=>{const V=k.dom;if(V.nodeType!==vn)return!1;{const Q=V;if(Q.matches!==void 0)return Q.matches(z);if(Q.msMatchesSelector!==void 0)return Q.msMatchesSelector(z);if(Q.webkitMatchesSelector!==void 0)return Q.webkitMatchesSelector(z);if(Q.mozMatchesSelector!==void 0)return Q.mozMatchesSelector(z);throw new Error("Browser lacks native selectors")}},Vo=k=>k.nodeType!==vn&&k.nodeType!==or&&k.nodeType!==$n||k.childElementCount===0,Rs=(k,z)=>{const V=z===void 0?document:z.dom;return Vo(V)?[]:Co(V.querySelectorAll(k),dt.fromDom)},$a=(k,z)=>{const V=z===void 0?document:z.dom;return Vo(V)?ct.none():ct.from(V.querySelector(k)).map(dt.fromDom)},st=(k,z)=>k.dom===z.dom,Ta=no;typeof window<"u"||Function("return this;")();const Bo=k=>k.dom.nodeName.toLowerCase(),vi=k=>k.dom.nodeType,Xn=k=>z=>vi(z)===k,ls=k=>vi(k)===Tn||Bo(k)==="#comment",Wi=Xn(vn),Ri=Xn(Nr),ti=Xn(or),Va=Xn($n),qi=k=>z=>Wi(z)&&Bo(z)===k,Mn=k=>dt.fromDom(k.dom.ownerDocument),po=k=>ti(k)?k:Mn(k),ha=k=>ct.from(k.dom.parentNode).map(dt.fromDom),ps=(k,z)=>{const V=Rr(z)?z:Tt;let Q=k.dom;const xe=[];for(;Q.parentNode!==null&&Q.parentNode!==void 0;){const We=Q.parentNode,ht=dt.fromDom(We);if(xe.push(ht),V(ht)===!0)break;Q=We}return xe},zc=k=>ct.from(k.dom.previousSibling).map(dt.fromDom),Et=k=>ct.from(k.dom.nextSibling).map(dt.fromDom),_s=k=>Co(k.dom.childNodes,dt.fromDom),Tc=(k,z)=>{const V=k.dom.childNodes;return ct.from(V[z]).map(dt.fromDom)},br=k=>Tc(k,0),Oc=k=>Va(k)&&Yn(k.dom.host),ba=k=>dt.fromDom(k.dom.getRootNode()),Cs=k=>{const z=ba(k);return Oc(z)?ct.some(z):ct.none()},ja=k=>dt.fromDom(k.dom.host),fr=k=>{const z=Ri(k)?k.dom.parentNode:k.dom;if(z==null||z.ownerDocument===null)return!1;const V=z.ownerDocument;return Cs(dt.fromDom(z)).fold(()=>V.body.contains(z),Yo(fr,ja))};var Ss=(k,z,V,Q,xe)=>k(V,Q)?ct.some(V):Rr(xe)&&xe(V)?ct.none():z(V,Q,xe);const Oa=(k,z,V)=>{let Q=k.dom;const xe=Rr(V)?V:Tt;for(;Q.parentNode;){Q=Q.parentNode;const We=dt.fromDom(Q);if(z(We))return ct.some(We);if(xe(We))break}return ct.none()},wl=(k,z,V)=>Ss((xe,We)=>We(xe),Oa,k,z,V),Gi=(k,z)=>{const V=xe=>z(dt.fromDom(xe));return zn(k.dom.childNodes,V).map(dt.fromDom)},Ua=(k,z,V)=>Oa(k,Q=>no(Q,z),V),ad=(k,z)=>Gi(k,V=>no(V,z)),Ql=(k,z)=>$a(z,k),wn=(k,z,V)=>Ss((xe,We)=>no(xe,We),Ua,k,z,V),ns=k=>wn(k,"[contenteditable]"),sa=(k,z=!1)=>fr(k)?k.dom.isContentEditable:ns(k).fold(ar(z),V=>Dd(V)==="true"),Dd=k=>k.dom.contentEditable,Ni=k=>k.nodeName.toLowerCase(),id=k=>dt.fromDom(k.getBody()),Vs=k=>z=>st(z,id(k)),js=k=>k?k.replace(/px$/,""):"",oi=k=>/^\d+(\.\d+)?$/.test(k)?k+"px":k,Bn=k=>dt.fromDom(k.selection.getStart()),lr=k=>dt.fromDom(k.selection.getEnd()),Mi=k=>wl(k,qi("table")).forall(sa),_l=(k,z)=>kn(_s(k),z),rs=(k,z)=>{let V=[];return H(_s(k),Q=>{z(Q)&&(V=V.concat([Q])),V=V.concat(rs(Q,z))}),V},al=(k,z)=>_l(k,V=>no(V,z)),Mr=(k,z)=>Rs(z,k),pn=(k,z,V)=>{if(sr(V)||Ko(V)||Lt(V))k.setAttribute(z,V+"");else throw console.error("Invalid call to Attribute.set. Key ",z,":: Value ",V,":: Element ",k),new Error("Attribute value was not simple")},xi=(k,z,V)=>{pn(k.dom,z,V)},Es=(k,z)=>{const V=k.dom;Io(z,(Q,xe)=>{pn(V,xe,Q)})},Us=(k,z)=>{const V=k.dom.getAttribute(z);return V===null?void 0:V},ya=(k,z)=>ct.from(Us(k,z)),Vr=(k,z)=>{k.dom.removeAttribute(z)},ec=k=>kl(k.dom.attributes,(z,V)=>(z[V.name]=V.value,z),{}),lo=(k,z,V=it)=>k.exists(Q=>V(Q,z)),Ki=k=>{const z=[],V=Q=>{z.push(Q)};for(let Q=0;Q<k.length;Q++)k[Q].each(V);return z},gs=(k,z,V)=>k.isSome()&&z.isSome()?ct.some(V(k.getOrDie(),z.getOrDie())):ct.none(),Cr=k=>k.bind(at),tc=(k,z)=>k?ct.some(z):ct.none(),Xo=(k,z)=>k.substring(z),il=(k,z,V)=>z===""||k.length>=z.length&&k.substr(V,V+z.length)===z,aa=(k,z)=>bo(k,z)?Xo(k,z.length):k,bo=(k,z)=>il(k,z,0),Za=(k=>z=>z.replace(k,""))(/^\s+|\s+$/g),yr=k=>k.length>0,Cl=k=>!yr(k),Sr=(k,z=10)=>{const V=parseInt(k,z);return isNaN(V)?ct.none():ct.some(V)},Nl=k=>{const z=parseFloat(k);return isNaN(z)?ct.none():ct.some(z)},Zs=k=>k.style!==void 0&&Rr(k.style.getPropertyValue),_n=(k,z,V)=>{if(!sr(V))throw console.error("Invalid call to CSS.set. Property ",z,":: Value ",V,":: Element ",k),new Error("CSS value must be a string: "+V);Zs(k)&&k.style.setProperty(z,V)},ll=(k,z)=>{Zs(k)&&k.style.removeProperty(z)},oc=(k,z,V)=>{const Q=k.dom;_n(Q,z,V)},Dc=(k,z)=>{const V=k.dom,xe=window.getComputedStyle(V).getPropertyValue(z);return xe===""&&!fr(k)?vr(V,z):xe},vr=(k,z)=>Zs(k)?k.style.getPropertyValue(z):"",va=(k,z)=>{const V=k.dom,Q=vr(V,z);return ct.from(Q).filter(xe=>xe.length>0)},G=(k,z)=>{const V=k.dom;ll(V,z),lo(ya(k,"style").map(Za),"")&&Vr(k,"style")},le=(k,z,V=0)=>ya(k,z).map(Q=>parseInt(Q,10)).getOr(V),Ce=(k,z)=>Ve(k,z,ve),Ve=(k,z,V)=>Re(_s(k),Q=>no(Q,z)?V(Q)?[Q]:[]:Ve(Q,z,V)),lt=["tfoot","thead","tbody","colgroup"],$t=k=>Wr(lt,k),To=(k,z)=>({rows:k,columns:z}),Ln=(k,z,V)=>({element:k,rowspan:z,colspan:V}),jo=(k,z,V,Q,xe,We)=>({element:k,rowspan:z,colspan:V,row:Q,column:xe,isLocked:We}),Zn=(k,z,V)=>({element:k,cells:z,section:V}),jr=(k,z,V,Q)=>({startRow:k,startCol:z,finishRow:V,finishCol:Q}),Fo=(k,z,V)=>({element:k,colspan:z,column:V}),Yi=(k,z)=>({element:k,columns:z}),Sl=(k,z,V=Tt)=>{if(V(z))return ct.none();if(Wr(k,Bo(z)))return ct.some(z);const Q=xe=>no(xe,"table")||V(xe);return Ua(z,k.join(","),Q)},F=(k,z)=>Sl(["td","th"],k,z),ee=k=>Ce(k,"th,td"),pe=k=>no(k,"colgroup")?al(k,"col"):Re(un(k),z=>al(z,"col")),Oe=(k,z)=>wn(k,"table",z),Ht=k=>Ce(k,"tr"),un=k=>Oe(k).fold(ar([]),z=>al(z,"colgroup")),Ur=(k,z)=>Co(k,V=>{if(Bo(V)==="colgroup"){const Q=Co(pe(V),xe=>{const We=le(xe,"span",1);return Ln(xe,1,We)});return Zn(V,Q,"colgroup")}else{const Q=Co(ee(V),xe=>{const We=le(xe,"rowspan",1),ht=le(xe,"colspan",1);return Ln(xe,We,ht)});return Zn(V,Q,z(V))}}),Wa=k=>ha(k).map(z=>{const V=Bo(z);return $t(V)?V:"tbody"}).getOr("tbody"),ut=k=>{const z=Ht(k),Q=[...un(k),...z];return Ur(Q,Wa)},Bi="data-snooker-locked-cols",Da=k=>ya(k,Bi).bind(z=>ct.from(z.match(/\d+/g))).map(z=>rt(z,ve)),nc=(k,z)=>k+","+z,ia=(k,z,V)=>ct.from(k.access[nc(z,V)]),Rc=(k,z,V)=>{const Q=ld(k,xe=>V(z,xe.element));return Q.length>0?ct.some(Q[0]):ct.none()},ld=(k,z)=>{const V=Re(k.all,Q=>Q.cells);return kn(V,z)},$m=k=>{const z={};let V=0;return H(k.cells,Q=>{const xe=Q.colspan;yn(xe,We=>{const ht=V+We;z[ht]=Fo(Q.element,xe,ht)}),V+=xe}),z},El=k=>{const z={},V=[],xe=Gt(k).map(fa=>fa.element).bind(Oe).bind(Da).getOr({});let We=0,ht=0,bt=0;const{pass:ko,fail:Kt}=Hn(k,fa=>fa.section==="colgroup");H(Kt,fa=>{const Xr=[];H(fa.cells,gc=>{let hc=0;for(;z[nc(bt,hc)]!==void 0;)hc++;const Uc=At(xe,hc.toString()),Gm=jo(gc.element,gc.rowspan,gc.colspan,bt,hc,Uc);for(let gd=0;gd<gc.colspan;gd++)for(let ef=0;ef<gc.rowspan;ef++){const Gf=bt+ef,wu=hc+gd,tf=nc(Gf,wu);z[tf]=Gm,ht=Math.max(ht,wu+1)}Xr.push(Gm)}),We++,V.push(Zn(fa.element,Xr,fa.section)),bt++});const{columns:an,colgroups:Po}=uo(ko).map(fa=>{const Xr=$m(fa);return{colgroups:[Yi(fa.element,Yt(Xr))],columns:Xr}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:To(We,ht),access:z,all:V,columns:an,colgroups:Po}},rc={fromTable:k=>{const z=ut(k);return El(z)},generate:El,getAt:ia,findItem:Rc,filterItems:ld,justCells:k=>Re(k.all,z=>z.cells),justColumns:k=>Yt(k.columns),hasColumns:k=>$r(k.columns).length>0,getColumnAt:(k,z)=>ct.from(k.columns[z])};var cd=tinymce.util.Tools.resolve("tinymce.util.Tools");const sc=(k,z,V)=>{const Q=k.select("td,th",z);let xe;for(let We=0;We<Q.length;We++){const ht=k.getStyle(Q[We],V);if(Rn(xe)&&(xe=ht),xe!==ht)return""}return xe},la=(k,z,V)=>{cd.each("left center right".split(" "),Q=>{Q!==V&&k.formatter.remove("align"+Q,{},z)}),V&&k.formatter.apply("align"+V,{},z)},Ii=(k,z,V)=>{cd.each("top middle bottom".split(" "),Q=>{Q!==V&&k.formatter.remove("valign"+Q,{},z)}),V&&k.formatter.apply("valign"+V,{},z)},Rd=(k,z,V)=>{k.dispatch("TableModified",{...V,table:z})},gn=(k,z)=>Nl(k).getOr(z),Ml=(k,z,V)=>gn(Dc(k,z),V),Uu=(k,z,V,Q)=>{const xe=Ml(k,`padding-${V}`,0),We=Ml(k,`padding-${Q}`,0),ht=Ml(k,`border-${V}-width`,0),bt=Ml(k,`border-${Q}-width`,0);return z-xe-We-ht-bt},Zu=(k,z)=>{const V=k.dom,Q=V.getBoundingClientRect().width||V.offsetWidth;return z==="border-box"?Q:Uu(k,Q,"left","right")},hs=k=>Zu(k,"content-box");var Br=tinymce.util.Tools.resolve("tinymce.Env");const xa="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",xr=yn(5,k=>{const z=`${k+1}px`;return{title:z,value:z}}),Nd=Co(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],k=>({title:k,value:k.toLowerCase()})),Md="100%",Ws=k=>{var z;const V=k.dom,Q=(z=V.getParent(k.selection.getStart(),V.isBlock))!==null&&z!==void 0?z:k.getBody();return hs(dt.fromDom(Q))+"px"},ni=(k,z)=>Bf(k)||!Cn(k)?z:Nc(k)?{...z,width:Ws(k)}:{...z,width:Md},qa=(k,z)=>Bf(k)||Cn(k)?z:Nc(k)?{...z,width:Ws(k)}:{...z,width:Md},Ns=k=>z=>z.options.get(k),dd=k=>{const z=k.options.register;z("table_border_widths",{processor:"object[]",default:xr}),z("table_border_styles",{processor:"object[]",default:Nd}),z("table_cell_advtab",{processor:"boolean",default:!0}),z("table_row_advtab",{processor:"boolean",default:!0}),z("table_advtab",{processor:"boolean",default:!0}),z("table_appearance_options",{processor:"boolean",default:!0}),z("table_grid",{processor:"boolean",default:!Br.deviceType.isTouch()}),z("table_cell_class_list",{processor:"object[]",default:[]}),z("table_row_class_list",{processor:"object[]",default:[]}),z("table_class_list",{processor:"object[]",default:[]}),z("table_toolbar",{processor:"string",default:xa}),z("table_background_color_map",{processor:"object[]",default:[]}),z("table_border_color_map",{processor:"object[]",default:[]})},Go=Ns("table_sizing_mode"),As=Ns("table_border_widths"),ri=Ns("table_border_styles"),ac=Ns("table_cell_advtab"),Qs=Ns("table_row_advtab"),Ut=Ns("table_advtab"),Bl=Ns("table_appearance_options"),Il=Ns("table_grid"),Cn=Ns("table_style_by_css"),uu=Ns("table_cell_class_list"),Vm=Ns("table_row_class_list"),ic=Ns("table_class_list"),en=Ns("table_toolbar"),Ga=Ns("table_background_color_map"),Wu=Ns("table_border_color_map"),Nc=k=>Go(k)==="fixed",Bf=k=>Go(k)==="responsive",Pl=k=>{const z=k.options,V=z.get("table_default_styles");return z.isSet("table_default_styles")?V:ni(k,V)},si=k=>{const z=k.options,V=z.get("table_default_attributes");return z.isSet("table_default_attributes")?V:qa(k,V)},lc=(k,z)=>z.column>=k.startCol&&z.column+z.colspan-1<=k.finishCol&&z.row>=k.startRow&&z.row+z.rowspan-1<=k.finishRow,Bd=(k,z)=>{let V=!0;const Q=mt(lc,z);for(let xe=z.startRow;xe<=z.finishRow;xe++)for(let We=z.startCol;We<=z.finishCol;We++)V=V&&rc.getAt(k,xe,We).exists(Q);return V?ct.some(z):ct.none()},me=(k,z)=>jr(Math.min(k.row,z.row),Math.min(k.column,z.column),Math.max(k.row+k.rowspan-1,z.row+z.rowspan-1),Math.max(k.column+k.colspan-1,z.column+z.colspan-1)),fu=(k,z,V)=>{const Q=rc.findItem(k,z,st),xe=rc.findItem(k,V,st);return Q.bind(We=>xe.map(ht=>me(We,ht)))},nr=(k,z,V)=>fu(k,z,V).bind(Q=>Bd(k,Q)),jm=(k,z,V)=>{const Q=qu(k);return nr(Q,z,V)},qu=rc.fromTable,Al=(k,z)=>{ha(k).each(Q=>{Q.dom.insertBefore(z.dom,k.dom)})},fn=(k,z)=>{Et(k).fold(()=>{ha(k).each(xe=>{cl(xe,z)})},Q=>{Al(Q,z)})},Ra=(k,z)=>{br(k).fold(()=>{cl(k,z)},Q=>{k.dom.insertBefore(z.dom,Q.dom)})},cl=(k,z)=>{k.dom.appendChild(z.dom)},zl=(k,z)=>{Al(k,z),cl(z,k)},cc=(k,z)=>{H(z,(V,Q)=>{const xe=Q===0?k:z[Q-1];fn(xe,V)})},Mc=(k,z)=>{H(z,V=>{cl(k,V)})},ka=k=>{const z=k.dom;z.parentNode!==null&&z.parentNode.removeChild(z)},Id=k=>{const z=_s(k);z.length>0&&cc(k,z),ka(k)},If=((k,z)=>{const V=We=>{if(!k(We))throw new Error("Can only get "+z+" value of a "+z+" node");return Q(We).getOr("")},Q=We=>k(We)?ct.from(We.dom.nodeValue):ct.none();return{get:V,getOption:Q,set:(We,ht)=>{if(!k(We))throw new Error("Can only set raw "+z+" value of a "+z+" node");We.dom.nodeValue=ht}}})(Ri,"text"),ea=k=>If.get(k),to=(k,z)=>If.set(k,z);var Bc=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],mu=()=>{const k=Kt=>dt.fromDom(Kt.dom.cloneNode(!1)),z=Kt=>po(Kt).dom,V=Kt=>Wi(Kt)?Bo(Kt)==="body"?!0:Wr(Bc,Bo(Kt)):!1,Q=Kt=>Wi(Kt)?Wr(["br","img","hr","input"],Bo(Kt)):!1,xe=Kt=>Wi(Kt)&&Us(Kt,"contenteditable")==="false",We=(Kt,an)=>Kt.dom.compareDocumentPosition(an.dom),ht=(Kt,an)=>{const Po=ec(Kt);Es(an,Po)},bt=Kt=>{const an=Bo(Kt);return Wr(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],an)},ko=Kt=>Wi(Kt)?ya(Kt,"lang"):ct.none();return{up:ar({selector:Ua,closest:wn,predicate:Oa,all:ps}),down:ar({selector:Mr,predicate:rs}),styles:ar({get:Dc,getRaw:va,set:oc,remove:G}),attrs:ar({get:Us,set:xi,remove:Vr,copyTo:ht}),insert:ar({before:Al,after:fn,afterAll:cc,append:cl,appendAll:Mc,prepend:Ra,wrap:zl}),remove:ar({unwrap:Id,remove:ka}),create:ar({nu:dt.fromTag,clone:k,text:dt.fromText}),query:ar({comparePosition:We,prevSibling:zc,nextSibling:Et}),property:ar({children:_s,name:Bo,parent:ha,document:z,isText:Ri,isComment:ls,isElement:Wi,isSpecial:bt,getLanguage:ko,getText:ea,setText:to,isBoundary:V,isEmptyTag:Q,isNonEditable:xe}),eq:st,is:Ta}};const Na=(k,z,V,Q)=>{const xe=V[0],We=V.slice(1);return Q(k,z,xe,We)},Ic=(k,z,V)=>V.length>0?Na(k,z,V,Xi):ct.none(),Xi=(k,z,V,Q)=>{const xe=z(k,V);return yi(Q,(We,ht)=>{const bt=z(k,ht);return Pc(k,We,bt)},xe)},Pc=(k,z,V)=>z.bind(Q=>V.filter(mt(k.eq,Q))),ud=Ic,ta=mu(),Tl=(k,z)=>ud(ta,(V,Q)=>k(Q),z),dc=k=>Ua(k,"table"),pu=(k,z)=>{const V=Mr(k,z);return V.length>0?ct.some(V):ct.none()},$p=(k,z,V)=>Ql(k,z).bind(Q=>Ql(k,V).bind(xe=>Tl(dc,[Q,xe]).map(We=>({first:Q,last:xe,table:We})))),Lc=(k,z)=>pu(k,z),Pd=(k,z,V)=>$p(k,z,V).bind(Q=>{const xe=ko=>st(k,ko),We="thead,tfoot,tbody,table",ht=Ua(Q.first,We,xe),bt=Ua(Q.last,We,xe);return ht.bind(ko=>bt.bind(Kt=>st(ko,Kt)?jm(Q.table,Q.first,Q.last):ct.none()))}),Ku=k=>Co(k,dt.fromDom),Ir="data-mce-selected",ai="td["+Ir+"],th["+Ir+"]",wa="data-mce-first-selected",_i="td["+wa+"],th["+wa+"]",zs="data-mce-last-selected",Pf="td["+zs+"],th["+zs+"]",bs={selected:Ir,selectedSelector:ai,firstSelected:wa,firstSelectedSelector:_i,lastSelected:zs,lastSelectedSelector:Pf},_a=k=>Oe(k).bind(z=>Lc(z,bs.firstSelectedSelector)).fold(ar(k),z=>z[0]),Ll=k=>(z,V)=>{const Q=Bo(z),xe=Q==="col"||Q==="colgroup"?_a(z):z;return wn(xe,k,V)},Ge=Ll("th,td,caption"),ca=Ll("th,td"),gu=k=>Ku(k.model.table.getSelectedCells()),qr=(k,z)=>{const V=ca(k),Q=V.bind(xe=>Oe(xe)).map(xe=>Ht(xe));return gs(V,Q,(xe,We)=>kn(We,ht=>Nn(Ku(ht.dom.cells),bt=>Us(bt,z)==="1"||st(bt,xe)))).getOr([])},Fl=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],ii=k=>({value:sn(k)}),Hl=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,hu=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Ci=k=>Hl.test(k)||hu.test(k),sn=k=>aa(k,"#").toUpperCase(),ys=k=>Ci(k)?ct.some({value:sn(k)}):ct.none(),Fc=k=>{const z=k.toString(16);return(z.length===1?"0"+z:z).toUpperCase()},Gr=k=>{const z=Fc(k.red)+Fc(k.green)+Fc(k.blue);return ii(z)},Yu=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,uc=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,Um=(k,z,V,Q)=>({red:k,green:z,blue:V,alpha:Q}),Kr=(k,z,V,Q)=>{const xe=parseInt(k,10),We=parseInt(z,10),ht=parseInt(V,10),bt=parseFloat(Q);return Um(xe,We,ht,bt)},Ae=k=>{const z=Yu.exec(k);if(z!==null)return ct.some(Kr(z[1],z[2],z[3],"1"));const V=uc.exec(k);return V!==null?ct.some(Kr(V[1],V[2],V[3],V[4])):ct.none()},li=k=>ys(k).orThunk(()=>Ae(k).map(Gr)).getOrThunk(()=>{const z=document.createElement("canvas");z.height=1,z.width=1;const V=z.getContext("2d");V.clearRect(0,0,z.width,z.height),V.fillStyle="#FFFFFF",V.fillStyle=k,V.fillRect(0,0,1,1);const Q=V.getImageData(0,0,1,1).data,xe=Q[0],We=Q[1],ht=Q[2],bt=Q[3];return Gr(Um(xe,We,ht,bt))}),vs=k=>Ae(k).map(Gr).map(z=>"#"+z.value).getOr(k),Pi=k=>{let z=k;return{get:()=>z,set:xe=>{z=xe}}},$l=k=>{const z=Pi(ct.none()),V=()=>z.get().each(k);return{clear:()=>{V(),z.set(ct.none())},isSet:()=>z.get().isSome(),get:()=>z.get(),set:bt=>{V(),z.set(ct.some(bt))}}},Ts=()=>$l(k=>k.unbind()),kr=(k,z,V)=>Q=>{const xe=Ts(),We=Cl(V),ht=()=>{const bt=gu(k),ko=Kt=>k.formatter.match(z,{value:V},Kt.dom,We);We?(Q.setActive(!Nn(bt,ko)),xe.set(k.formatter.formatChanged(z,Kt=>Q.setActive(!Kt),!0))):(Q.setActive(wt(bt,ko)),xe.set(k.formatter.formatChanged(z,Q.setActive,!1,{value:V})))};return k.initialized?ht():k.on("init",ht),xe.clear},Wn=k=>At(k,"menu"),Ma=k=>Co(k,z=>{const V=z.text||z.title||"";return Wn(z)?{text:V,items:Ma(z.menu)}:{text:V,value:z.value}}),Li=k=>k.length?ct.some(Ma([{text:"Select...",value:"mce-no-match"},...k])):ct.none(),Si=(k,z,V,Q)=>Co(z,xe=>{const We=xe.text||xe.title;return Wn(xe)?{type:"nestedmenuitem",text:We,getSubmenuItems:()=>Si(k,xe.menu,V,Q)}:{text:We,type:"togglemenuitem",onAction:()=>Q(xe.value),onSetup:kr(k,V,xe.value)}}),dl=(k,z)=>V=>{k.execCommand("mceTableApplyCellStyle",!1,{[z]:V})},fc=k=>Re(k,z=>Wn(z)?[{...z,menu:fc(z.menu)}]:yr(z.value)?[z]:[]),Hc=(k,z,V,Q)=>xe=>xe(Si(k,z,V,Q)),fd=(k,z,V)=>{const Q=Co(z,xe=>({text:xe.title,value:"#"+li(xe.value).value,type:"choiceitem"}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:Q.length>0?Q:void 0,allowCustomColors:!1},onAction:xe=>{const We=xe.value==="remove"?"":xe.value;k.execCommand("mceTableApplyCellStyle",!1,{[V]:We})}}]},Lf=k=>()=>{const V=k.queryCommandValue("mceTableRowType")==="header"?"body":"header";k.execCommand("mceTableRowType",!1,{type:V})},Ff=k=>()=>{const V=k.queryCommandValue("mceTableColType")==="th"?"td":"th";k.execCommand("mceTableColType",!1,{type:V})},$c=k=>Li(uu(k)).map(z=>({name:"class",type:"listbox",label:"Class",items:z})),_=[{name:"width",type:"input",label:"Width"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:Fl}],N=k=>_.concat($c(k).toArray()),j=(k,z)=>{const Q=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(Ma(ri(k)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:z==="cell"?[{name:"borderwidth",type:"input",label:"Border width"}].concat(Q):Q}},he={normal:(k,z)=>{const V=k.dom;return{setAttrib:(ht,bt)=>{V.setAttrib(z,ht,bt)},setStyle:(ht,bt)=>{V.setStyle(z,ht,bt)},setFormat:(ht,bt)=>{bt===""?k.formatter.remove(ht,{value:null},z,!0):k.formatter.apply(ht,{value:bt},z)}}}},Ke=qi("th"),io=(k,z)=>k&&z?"sectionCells":k?"section":"cells",Ro=k=>{const z=k.section==="thead",V=lo(xo(k.cells),"th");return k.section==="tfoot"?{type:"footer"}:z||V?{type:"header",subType:io(z,V)}:{type:"body"}},xo=k=>{const z=kn(k,V=>Ke(V.element));return z.length===0?ct.some("td"):z.length===k.length?ct.some("th"):ct.none()},Wt=k=>{const z=Co(k,xe=>Ro(xe).type),V=Wr(z,"header"),Q=Wr(z,"footer");if(!V&&!Q)return ct.some("body");{const xe=Wr(z,"body");return V&&!xe&&!Q?ct.some("header"):!V&&!xe&&Q?ct.some("footer"):ct.none()}},Fn=k=>{let z=!1,V;return(...Q)=>(z||(z=!0,V=k.apply(null,Q)),V)},cs=(k,z)=>qo(k.all,V=>zn(V.cells,Q=>st(z,Q.element))),Yr=(k,z,V)=>{const Q=Co(z.selection,We=>F(We).bind(ht=>cs(k,ht)).filter(V)),xe=Ki(Q);return tc(xe.length>0,xe)},Vl=(k,z)=>z.mergable,bu=(k,z)=>z.unmergable,Ld=(k,z)=>Yr(k,z,ve),qs=(k,z)=>cs(k,z).exists(V=>!V.isLocked),jg=(k,z)=>wt(z,V=>qs(k,V)),Zm=(k,z)=>Vl(k,z).filter(V=>jg(k,V.cells)),Vp=(k,z)=>bu(k,z).filter(V=>jg(k,V));({...{generate:k=>{if(!Qn(k))throw new Error("cases must be an array");if(k.length===0)throw new Error("there must be at least one case");const z=[],V={};return H(k,(Q,xe)=>{const We=$r(Q);if(We.length!==1)throw new Error("one and only one name per case");const ht=We[0],bt=Q[ht];if(V[ht]!==void 0)throw new Error("duplicate key detected:"+ht);if(ht==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Qn(bt))throw new Error("case arguments must be an array");z.push(ht),V[ht]=(...ko)=>{const Kt=ko.length;if(Kt!==bt.length)throw new Error("Wrong number of arguments to case "+ht+". Expected "+bt.length+" ("+bt+"), got "+Kt);return{fold:(...Po)=>{if(Po.length!==k.length)throw new Error("Wrong number of arguments to fold. Expected "+k.length+", got "+Po.length);return Po[xe].apply(null,ko)},match:Po=>{const qn=$r(Po);if(z.length!==qn.length)throw new Error("Wrong number of arguments to match. Expected: "+z.join(",")+`
Actual: `+qn.join(","));if(!wt(z,Xr=>Wr(qn,Xr)))throw new Error("Not all branches were specified when using match. Specified: "+qn.join(", ")+`
Required: `+z.join(", "));return Po[ht].apply(null,ko)},log:Po=>{console.log(Po,{constructors:z,constructor:ht,params:ko})}}}}),V}}.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])});const Hf=(k,z)=>{const V=rc.fromTable(k);return Ld(V,z).bind(xe=>{const We=xe[xe.length-1],ht=xe[0].row,bt=We.row+We.rowspan,ko=V.all.slice(ht,bt);return Wt(ko)}).getOr("")},$f=k=>bo(k,"rgb")?vs(k):k,Ji=k=>{const z=dt.fromDom(k);return{borderwidth:va(z,"border-width").getOr(""),borderstyle:va(z,"border-style").getOr(""),bordercolor:va(z,"border-color").map($f).getOr(""),backgroundcolor:va(z,"background-color").map($f).getOr("")}},Ei=k=>{const z=k[0],V=k.slice(1);return H(V,Q=>{H($r(z),xe=>{Io(Q,(We,ht)=>{const bt=z[xe];bt!==""&&xe===ht&&bt!==We&&(z[xe]=xe==="class"?"mce-no-match":"")})})}),z},Vf=(k,z,V,Q)=>zn(k,xe=>!Rn(V.formatter.matchNode(Q,z+xe))).getOr(""),Vc=mt(Vf,["left","center","right"],"align"),Jy=mt(Vf,["top","middle","bottom"],"valign"),Wm=(k,z)=>{const V=Pl(k),Q=si(k),xe=()=>({borderstyle:hr(V,"border-style").getOr(""),bordercolor:$f(hr(V,"border-color").getOr("")),backgroundcolor:$f(hr(V,"background-color").getOr(""))}),We={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},ht=()=>{const an=V["border-width"];return Cn(k)&&an?{border:an}:hr(Q,"border").fold(()=>({}),Po=>({border:Po}))},bt=z?xe():{},ko=()=>{const an=hr(V,"border-spacing").or(hr(Q,"cellspacing")).fold(()=>({}),qn=>({cellspacing:qn})),Po=hr(V,"border-padding").or(hr(Q,"cellpadding")).fold(()=>({}),qn=>({cellpadding:qn}));return{...an,...Po}};return{...We,...V,...Q,...bt,...ht(),...ko()}},pd=k=>Oe(dt.fromDom(k)).map(z=>{const V={selection:Ku(k.cells)};return Hf(z,V)}).getOr(""),Fd=(k,z,V)=>{const Q=(bt,ko)=>{const Kt=va(dt.fromDom(ko),"border-width");return Cn(k)&&Kt.isSome()?Kt.getOr(""):bt.getAttrib(ko,"border")||sc(k.dom,ko,"border-width")||sc(k.dom,ko,"border")||""},xe=k.dom,We=Cn(k)?xe.getStyle(z,"border-spacing")||xe.getAttrib(z,"cellspacing"):xe.getAttrib(z,"cellspacing")||xe.getStyle(z,"border-spacing"),ht=Cn(k)?sc(xe,z,"padding")||xe.getAttrib(z,"cellpadding"):xe.getAttrib(z,"cellpadding")||sc(xe,z,"padding");return{width:xe.getStyle(z,"width")||xe.getAttrib(z,"width"),height:xe.getStyle(z,"height")||xe.getAttrib(z,"height"),cellspacing:We??"",cellpadding:ht??"",border:Q(xe,z),caption:!!xe.select("caption",z)[0],class:xe.getAttrib(z,"class",""),align:Vc(k,z),...V?Ji(z):{}}},jt=(k,z,V)=>{const Q=k.dom;return{height:Q.getStyle(z,"height")||Q.getAttrib(z,"height"),class:Q.getAttrib(z,"class",""),type:pd(z),align:Vc(k,z),...V?Ji(z):{}}},mc=(k,z,V,Q)=>{const xe=k.dom,We=Q.getOr(z);return{width:((bt,ko)=>xe.getStyle(bt,ko)||xe.getAttrib(bt,ko))(We,"width"),scope:xe.getAttrib(z,"scope"),celltype:Ni(z),class:xe.getAttrib(z,"class",""),halign:Vc(k,z),valign:Jy(k,z),...V?Ji(z):{}}},jf=(k,z)=>{const V=rc.fromTable(k),Q=rc.justCells(V),xe=kn(Q,We=>Nn(z,ht=>st(We.element,ht)));return Co(xe,We=>({element:We.element.dom,column:rc.getColumnAt(V,We.column).map(ht=>ht.element.dom)}))},Hd=(k,z,V,Q)=>{Q("scope")&&k.setAttrib("scope",V.scope),Q("class")&&V.class!=="mce-no-match"&&k.setAttrib("class",V.class),Q("width")&&z.setStyle("width",oi(V.width))},Ba=(k,z,V)=>{V("backgroundcolor")&&k.setFormat("tablecellbackgroundcolor",z.backgroundcolor),V("bordercolor")&&k.setFormat("tablecellbordercolor",z.bordercolor),V("borderstyle")&&k.setFormat("tablecellborderstyle",z.borderstyle),V("borderwidth")&&k.setFormat("tablecellborderwidth",oi(z.borderwidth))},jl=(k,z,V,Q)=>{const xe=z.length===1;H(z,We=>{const ht=We.element,bt=xe?ve:Q,ko=he.normal(k,ht),Kt=We.column.map(an=>he.normal(k,an)).getOr(ko);Hd(ko,Kt,V,bt),ac(k)&&Ba(ko,V,bt),Q("halign")&&la(k,ht,V.halign),Q("valign")&&Ii(k,ht,V.valign)})},Xu=(k,z)=>{k.execCommand("mceTableCellType",!1,{type:z.celltype,no_events:!0})},$d=(k,z,V,Q)=>{const xe=T(Q,(We,ht)=>V[ht]!==We);Lo(xe)>0&&z.length>=1&&Oe(z[0]).each(We=>{const ht=jf(We,z),bt=Lo(T(xe,(Kt,an)=>an!=="scope"&&an!=="celltype"))>0,ko=we(xe,"celltype");(bt||we(xe,"scope"))&&jl(k,ht,Q,mt(we,xe)),ko&&Xu(k,Q),Rd(k,We.dom,{structure:ko,style:bt})})},jp=(k,z,V,Q)=>{const xe=Q.getData();Q.close(),k.undoManager.transact(()=>{$d(k,z,V,xe),k.focus()})},pc=(k,z)=>{const V=Oe(z[0]).map(Q=>Co(jf(Q,z),xe=>mc(k,xe.element,ac(k),xe.column)));return Ei(V.getOrDie())},Uf=k=>{const z=gu(k);if(z.length===0)return;const V=pc(k,z),Q={type:"tabpanel",tabs:[{title:"General",name:"general",items:N(k)},j(k,"cell")]},xe={type:"panel",items:[{type:"grid",columns:2,items:N(k)}]};k.windowManager.open({title:"Cell Properties",size:"normal",body:ac(k)?Q:xe,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:V,onSubmit:mt(jp,k,z,V)})},Zf=k=>Li(Vm(k)).map(z=>({name:"class",type:"listbox",label:"Class",items:z})),pt=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],Up=k=>pt.concat(Zf(k).toArray()),Vd=(k,z,V)=>{V("class")&&z.class!=="mce-no-match"&&k.setAttrib("class",z.class),V("height")&&k.setStyle("height",oi(z.height))},Uo=(k,z,V)=>{V("backgroundcolor")&&k.setStyle("background-color",z.backgroundcolor),V("bordercolor")&&k.setStyle("border-color",z.bordercolor),V("borderstyle")&&k.setStyle("border-style",z.borderstyle)},qt=(k,z,V,Q)=>{const We=z.length===1?ve:Q;H(z,ht=>{const bt=al(dt.fromDom(ht),"td,th"),ko=he.normal(k,ht);Vd(ko,V,We),Qs(k)&&Uo(ko,V,We),Q("height")&&H(bt,Kt=>{k.dom.setStyle(Kt.dom,"height",null)}),Q("align")&&la(k,ht,V.align)})},jd=(k,z)=>{k.execCommand("mceTableRowType",!1,{type:z.type,no_events:!0})},Zr=(k,z,V,Q)=>{const xe=T(Q,(We,ht)=>V[ht]!==We);if(Lo(xe)>0){const We=we(xe,"type"),ht=We?Lo(xe)>1:!0;ht&&qt(k,z,Q,mt(we,xe)),We&&jd(k,Q),Oe(dt.fromDom(z[0])).each(bt=>Rd(k,bt.dom,{structure:We,style:ht}))}},Ul=(k,z,V,Q)=>{const xe=Q.getData();Q.close(),k.undoManager.transact(()=>{Zr(k,z,V,xe),k.focus()})},Zl=k=>{const z=qr(Bn(k),bs.selected);if(z.length===0)return;const V=Co(z,ht=>jt(k,ht.dom,Qs(k))),Q=Ei(V),xe={type:"tabpanel",tabs:[{title:"General",name:"general",items:Up(k)},j(k,"row")]},We={type:"panel",items:[{type:"grid",columns:2,items:Up(k)}]};k.windowManager.open({title:"Row Properties",size:"normal",body:Qs(k)?xe:We,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Q,onSubmit:mt(Ul,k,Co(z,ht=>ht.dom),Q)})},zo=(k,z,V)=>{const Q=V?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],xe=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],We=Bl(k)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],ht=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],bt=z.length>0?[{name:"class",type:"listbox",label:"Class",items:z}]:[];return Q.concat(xe).concat(We).concat(ht).concat(bt)},Ju=(k,z,V,Q)=>{if(z.tagName==="TD"||z.tagName==="TH")sr(V)&&Yn(Q)?k.setStyle(z,V,Q):k.setStyles(z,V);else if(z.children)for(let xe=0;xe<z.children.length;xe++)Ju(k,z.children[xe],V,Q)},vb=(k,z,V,Q)=>{const xe=k.dom,We={},ht={},bt=Cn(k),ko=Ut(k),Kt=parseFloat(V.border)===0;if(!Rn(V.class)&&V.class!=="mce-no-match"&&(We.class=V.class),ht.height=oi(V.height),bt?ht.width=oi(V.width):xe.getAttrib(z,"width")&&(We.width=js(V.width)),bt?(Kt?(We.border=0,ht["border-width"]=""):(ht["border-width"]=oi(V.border),We.border=1),ht["border-spacing"]=oi(V.cellspacing)):(We.border=Kt?0:V.border,We.cellpadding=V.cellpadding,We.cellspacing=V.cellspacing),bt&&z.children){const an={};if(Kt?an["border-width"]="":Q.border&&(an["border-width"]=oi(V.border)),Q.cellpadding&&(an.padding=oi(V.cellpadding)),ko&&Q.bordercolor&&(an["border-color"]=V.bordercolor),!dn(an))for(let Po=0;Po<z.children.length;Po++)Ju(xe,z.children[Po],an)}if(ko){const an=V;ht["background-color"]=an.backgroundcolor,ht["border-color"]=an.bordercolor,ht["border-style"]=an.borderstyle}xe.setStyles(z,{...Pl(k),...ht}),xe.setAttribs(z,{...si(k),...We})},je=(k,z,V,Q)=>{const xe=k.dom,We=Q.getData(),ht=T(We,(bt,ko)=>V[ko]!==bt);Q.close(),k.undoManager.transact(()=>{if(!z){const bt=Sr(We.cols).getOr(1),ko=Sr(We.rows).getOr(1);k.execCommand("mceInsertTable",!1,{rows:ko,columns:bt}),z=ca(Bn(k),Vs(k)).bind(Kt=>Oe(Kt,Vs(k))).map(Kt=>Kt.dom).getOrDie()}if(Lo(ht)>0){const bt={border:we(ht,"border"),bordercolor:we(ht,"bordercolor"),cellpadding:we(ht,"cellpadding")};vb(k,z,We,bt);const ko=xe.select("caption",z)[0];(ko&&!We.caption||!ko&&We.caption)&&k.execCommand("mceTableToggleCaption"),la(k,z,We.align)}if(k.focus(),k.addVisual(),Lo(ht)>0){const bt=we(ht,"caption"),ko=bt?Lo(ht)>1:!0;Rd(k,z,{structure:bt,style:ko})}})},Zp=(k,z)=>{const V=k.dom;let Q,xe=Wm(k,Ut(k));z?(xe.cols="1",xe.rows="1",Ut(k)&&(xe.borderstyle="",xe.bordercolor="",xe.backgroundcolor="")):(Q=V.getParent(k.selection.getStart(),"table",k.getBody()),Q?xe=Fd(k,Q,Ut(k)):Ut(k)&&(xe.borderstyle="",xe.bordercolor="",xe.backgroundcolor=""));const We=Li(ic(k));We.isSome()&&xe.class&&(xe.class=xe.class.replace(/\s*mce\-item\-table\s*/g,""));const ht={type:"grid",columns:2,items:zo(k,We.getOr([]),z)},bt=()=>({type:"panel",items:[ht]}),ko=()=>({type:"tabpanel",tabs:[{title:"General",name:"general",items:[ht]},j(k,"table")]}),Kt=Ut(k)?ko():bt();k.windowManager.open({title:"Table Properties",size:"normal",body:Kt,onSubmit:mt(je,k,Q,xe),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:xe})},Wf=k=>{const z=V=>{Mi(Bn(k))&&V()};Io({mceTableProps:mt(Zp,k,!1),mceTableRowProps:mt(Zl,k),mceTableCellProps:mt(Uf,k),mceInsertTableDialog:mt(Zp,k,!0)},(V,Q)=>k.addCommand(Q,()=>z(V)))},qf=(k,z)=>ad(k,z).isSome(),Qu=at,yu=k=>{const z=(Q,xe)=>ya(Q,xe).exists(We=>parseInt(We,10)>1),V=Q=>z(Q,"rowspan")||z(Q,"colspan");return k.length>0&&wt(k,V)?ct.some(k):ct.none()},xb=(k,z,V)=>z.length<=1?ct.none():Pd(k,V.firstSelectedSelector,V.lastSelectedSelector).map(Q=>({bounds:Q,cells:z})),Ud=k=>({element:k,mergable:ct.none(),unmergable:ct.none(),selection:[k]}),Er=(k,z,V)=>({element:V,mergable:xb(z,k,bs),unmergable:yu(k),selection:Qu(k)}),jc=k=>{const z=Pi(ct.none()),V=Pi([]);let Q=ct.none();const xe=qi("caption"),We=Gn=>Q.forall(Jr=>!Jr[Gn]),ht=()=>Ge(Bn(k),Vs(k)),bt=()=>Ge(lr(k),Vs(k)),ko=()=>ht().bind(Gn=>Cr(gs(Oe(Gn),bt().bind(Oe),(Jr,ci)=>st(Jr,ci)?xe(Gn)?ct.some(Ud(Gn)):ct.some(Er(gu(k),Jr,Gn)):ct.none()))),Kt=Gn=>Oe(Gn.element).map(ci=>{const ul=rc.fromTable(ci),Zg=Ld(ul,Gn).getOr([]),Km=kl(Zg,(Kf,Yf)=>(Yf.isLocked&&(Kf.onAny=!0,Yf.column===0?Kf.onFirst=!0:Yf.column+Yf.colspan>=ul.grid.columns&&(Kf.onLast=!0)),Kf),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:Zm(ul,Gn).isSome(),unmergeable:Vp(ul,Gn).isSome(),locked:Km}}),an=()=>{z.set(Fn(ko)()),Q=z.get().bind(Kt),H(V.get(),ce)},Po=Gn=>(Gn(),V.set(V.get().concat([Gn])),()=>{V.set(kn(V.get(),Jr=>Jr!==Gn))}),qn=(Gn,Jr)=>Po(()=>z.get().fold(()=>{Gn.setEnabled(!1)},ci=>{Gn.setEnabled(!Jr(ci)&&k.selection.isEditable())})),fa=(Gn,Jr,ci)=>Po(()=>z.get().fold(()=>{Gn.setEnabled(!1),Gn.setActive(!1)},ul=>{Gn.setEnabled(!Jr(ul)&&k.selection.isEditable()),Gn.setActive(ci(ul))})),Xr=Gn=>Q.exists(Jr=>Jr.locked[Gn]),gc=Gn=>qn(Gn,Jr=>!1),hc=Gn=>qn(Gn,Jr=>xe(Jr.element)),Uc=Gn=>Jr=>qn(Jr,ci=>xe(ci.element)||Xr(Gn)),Gm=Gn=>Jr=>qn(Jr,ci=>xe(ci.element)||Gn().isNone()),gd=(Gn,Jr)=>ci=>qn(ci,ul=>xe(ul.element)||Gn().isNone()||Xr(Jr)),ef=Gn=>qn(Gn,Jr=>We("mergeable")),Gf=Gn=>qn(Gn,Jr=>We("unmergeable")),wu=Gn=>fa(Gn,Tt,Jr=>Oe(Jr.element,Vs(k)).exists(ul=>qf(ul,"caption"))),tf=(Gn,Jr)=>ci=>fa(ci,ul=>xe(ul.element),()=>k.queryCommandValue(Gn)===Jr),Ug=tf("mceTableRowType","header"),_u=tf("mceTableColType","th");return k.on("NodeChange ExecCommand TableSelectorChange",an),{onSetupTable:gc,onSetupCellOrRow:hc,onSetupColumn:Uc,onSetupPasteable:Gm,onSetupPasteableColumn:gd,onSetupMergeable:ef,onSetupUnmergeable:Gf,resetTargets:an,onSetupTableWithCaption:wu,onSetupTableRowHeaders:Ug,onSetupTableColumnHeaders:_u,targets:z.get}};var Wp=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Wl="x-tinymce/dom-table-",vu=Wl+"rows",Ol=Wl+"columns",us=k=>{var z;const V=(z=Wp.read())!==null&&z!==void 0?z:[];return qo(V,Q=>ct.from(Q.getType(k)))},xu=()=>us(vu),Ms=()=>us(Ol),qm=k=>z=>{const V=()=>{z.setEnabled(k.selection.isEditable())};return k.on("NodeChange",V),V(),()=>{k.off("NodeChange",V)}},ql=(k,z)=>{k.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:qm(k),fetch:bt=>bt("inserttable | cell row column | advtablesort | tableprops deletetable")});const V=bt=>()=>k.execCommand(bt),Q=(bt,ko)=>{k.queryCommandSupported(ko.command)&&k.ui.registry.addButton(bt,{...ko,onAction:Rr(ko.onAction)?ko.onAction:V(ko.command)})},xe=(bt,ko)=>{k.queryCommandSupported(ko.command)&&k.ui.registry.addToggleButton(bt,{...ko,onAction:Rr(ko.onAction)?ko.onAction:V(ko.command)})};Q("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:z.onSetupTable}),Q("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:z.onSetupTable}),Q("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:z.onSetupCellOrRow}),Q("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:z.onSetupMergeable}),Q("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:z.onSetupUnmergeable}),Q("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:z.onSetupCellOrRow}),Q("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:z.onSetupCellOrRow}),Q("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:z.onSetupCellOrRow}),Q("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:z.onSetupCellOrRow}),Q("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:z.onSetupColumn("onFirst")}),Q("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:z.onSetupColumn("onLast")}),Q("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:z.onSetupColumn("onAny")}),Q("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:z.onSetupCellOrRow}),Q("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:z.onSetupCellOrRow}),Q("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:z.onSetupPasteable(xu)}),Q("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:z.onSetupPasteable(xu)}),Q("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:z.onSetupColumn("onAny")}),Q("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:z.onSetupColumn("onAny")}),Q("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:z.onSetupPasteableColumn(Ms,"onFirst")}),Q("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:z.onSetupPasteableColumn(Ms,"onLast")}),Q("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:qm(k)});const We=fc(ic(k));We.length!==0&&k.queryCommandSupported("mceTableToggleClass")&&k.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:Hc(k,We,"tableclass",bt=>k.execCommand("mceTableToggleClass",!1,bt)),onSetup:z.onSetupTable});const ht=fc(uu(k));ht.length!==0&&k.queryCommandSupported("mceTableCellToggleClass")&&k.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:Hc(k,ht,"tablecellclass",bt=>k.execCommand("mceTableCellToggleClass",!1,bt)),onSetup:z.onSetupCellOrRow}),k.queryCommandSupported("mceTableApplyCellStyle")&&(k.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:Hc(k,Fl,"tablecellverticalalign",dl(k,"vertical-align")),onSetup:z.onSetupCellOrRow}),k.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:Hc(k,As(k),"tablecellborderwidth",dl(k,"border-width")),onSetup:z.onSetupCellOrRow}),k.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:Hc(k,ri(k),"tablecellborderstyle",dl(k,"border-style")),onSetup:z.onSetupCellOrRow}),k.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:bt=>bt(fd(k,Ga(k),"background-color")),onSetup:z.onSetupCellOrRow}),k.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:bt=>bt(fd(k,Wu(k),"border-color")),onSetup:z.onSetupCellOrRow})),xe("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:z.onSetupTableWithCaption}),xe("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Lf(k),onSetup:z.onSetupTableRowHeaders}),xe("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Ff(k),onSetup:z.onSetupTableColumnHeaders})},da=k=>{const z=Q=>k.dom.is(Q,"table")&&k.getBody().contains(Q)&&k.dom.isEditable(Q.parentNode),V=en(k);V.length>0&&k.ui.registry.addContextToolbar("table",{predicate:z,items:V,scope:"node",position:"node"})},ft=k=>z=>{const V=()=>{z.setEnabled(k.selection.isEditable())};return k.on("NodeChange",V),V(),()=>{k.off("NodeChange",V)}},ku=(k,z)=>{const V=Po=>()=>k.execCommand(Po),Q=(Po,qn)=>k.queryCommandSupported(qn.command)?(k.ui.registry.addMenuItem(Po,{...qn,onAction:Rr(qn.onAction)?qn.onAction:V(qn.command)}),!0):!1,xe=(Po,qn)=>{k.queryCommandSupported(qn.command)&&k.ui.registry.addToggleMenuItem(Po,{...qn,onAction:Rr(qn.onAction)?qn.onAction:V(qn.command)})},We=Po=>{k.execCommand("mceInsertTable",!1,{rows:Po.numRows,columns:Po.numColumns})},ht=[Q("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:z.onSetupCellOrRow}),Q("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:z.onSetupCellOrRow}),Q("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:z.onSetupCellOrRow}),Q("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:z.onSetupCellOrRow}),Q("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:z.onSetupCellOrRow}),Q("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:z.onSetupCellOrRow}),Q("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:z.onSetupPasteable(xu)}),Q("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:z.onSetupPasteable(xu)})],bt=[Q("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:z.onSetupColumn("onFirst")}),Q("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:z.onSetupColumn("onLast")}),Q("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:z.onSetupColumn("onAny")}),Q("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:z.onSetupColumn("onAny")}),Q("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:z.onSetupColumn("onAny")}),Q("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:z.onSetupPasteableColumn(Ms,"onFirst")}),Q("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:z.onSetupPasteableColumn(Ms,"onLast")})],ko=[Q("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:z.onSetupCellOrRow}),Q("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:z.onSetupMergeable}),Q("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:z.onSetupUnmergeable})];Il(k)?k.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:We}],onSetup:ft(k)}):k.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:V("mceInsertTableDialog"),onSetup:ft(k)}),k.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:V("mceInsertTableDialog"),onSetup:ft(k)}),Q("tableprops",{text:"Table properties",onSetup:z.onSetupTable,command:"mceTableProps"}),Q("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:z.onSetupTable,command:"mceTableDelete"}),Wr(ht,!0)&&k.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:ar("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),Wr(bt,!0)&&k.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:ar("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),Wr(ko,!0)&&k.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:ar("tablecellprops tablemergecells tablesplitcells")}),k.ui.registry.addContextMenu("table",{update:()=>(z.resetTargets(),z.targets().fold(ar(""),Po=>Bo(Po.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"))});const Kt=fc(ic(k));Kt.length!==0&&k.queryCommandSupported("mceTableToggleClass")&&k.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>Si(k,Kt,"tableclass",Po=>k.execCommand("mceTableToggleClass",!1,Po)),onSetup:z.onSetupTable});const an=fc(uu(k));an.length!==0&&k.queryCommandSupported("mceTableCellToggleClass")&&k.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>Si(k,an,"tablecellclass",Po=>k.execCommand("mceTableCellToggleClass",!1,Po)),onSetup:z.onSetupCellOrRow}),k.queryCommandSupported("mceTableApplyCellStyle")&&(k.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>Si(k,Fl,"tablecellverticalalign",dl(k,"vertical-align")),onSetup:z.onSetupCellOrRow}),k.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>Si(k,As(k),"tablecellborderwidth",dl(k,"border-width")),onSetup:z.onSetupCellOrRow}),k.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>Si(k,ri(k),"tablecellborderstyle",dl(k,"border-style")),onSetup:z.onSetupCellOrRow}),k.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>fd(k,Ga(k),"background-color"),onSetup:z.onSetupCellOrRow}),k.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>fd(k,Wu(k),"border-color"),onSetup:z.onSetupCellOrRow})),xe("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:z.onSetupTableWithCaption}),xe("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Lf(k),onSetup:z.onSetupTableRowHeaders}),xe("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Ff(k),onSetup:z.onSetupTableRowHeaders})},ua=k=>{const z=jc(k);dd(k),Wf(k),ku(k,z),ql(k,z),da(k)};var kb=()=>{Hr.add("table",ua)};kb()})();document.addEventListener("DOMContentLoaded",async()=>{await tL.init({skin_url:"default",selector:".html-editor",body_class:"form-control html-content p-3 rounded-0 border-0 shadow-none",min_height:300,autoresize_bottom_margin:0,menubar:!1,branding:!1,promotion:!1,highlight_on_focus:!0,plugins:"autoresize autosave code emoticons link lists image table",content_css:"",toolbar:"restoredraft code | blocks | bold italic underline strikethrough | alignment lists outdent indent | table image link emoticons",link_default_target:"_blank",document_base_url:"/",language:"nl",convert_urls:!1,license_key:"gpl",automatic_uploads:!1,images_upload_handler:null,file_picker_callback:(Hr,Hs,is)=>{const ms=document.createElement("input");ms.setAttribute("type","file"),ms.setAttribute("accept","image/*"),ms.onchange=function(){var Rn;const Dr=this.files[0];if(!Dr)return;const Do=tL.activeEditor.getElement(),sr=Do.getAttribute("data-model")||null,Qn=Do.getAttribute("data-id")||null,Ko=new FormData;Ko.append("file",Dr),sr&&Ko.append("model",sr),Qn&&Ko.append("id",Qn),fetch("/form-upload-media",{method:"POST",headers:{"X-CSRF-TOKEN":(Rn=document.querySelector('meta[name="csrf-token"]'))==null?void 0:Rn.getAttribute("content")},body:Ko}).then(tn=>{var Rr;if((Rr=tn.headers.get("content-type"))==null?void 0:Rr.includes("application/json"))return tn.json();throw tn.status===404?new Error("No upload route found (404)"):tn.status===413?new Error("File too large (413)"):new Error(`${tn.status}`)}).then(tn=>{if(tn.url){const Yn=document.createElement("input");Yn.type="hidden",Yn.name="content_media[]",Yn.value=tn.url,Do.closest("form").querySelectorAll("form .content-media").forEach(Rr=>{Rr.appendChild(Yn)}),Hr(tn.url)}else alert(tn.error||"File upload failed: Unknown error")}).catch(tn=>{console.error("Error uploading file:",tn),alert("An error occurred while uploading the file: "+tn.message)})},ms.click()},setup:Hr=>{Hr.ui.registry.addMenuButton("alignment",{icon:"align-left",tooltip:"Alignment",fetch:Hs=>{Hs([{type:"menuitem",text:"align left",icon:"align-left",onAction:()=>Hr.execCommand("JustifyLeft")},{type:"menuitem",text:"align center",icon:"align-center",onAction:()=>Hr.execCommand("JustifyCenter")},{type:"menuitem",text:"align right",icon:"align-right",onAction:()=>Hr.execCommand("JustifyRight")},{type:"menuitem",text:"justify",icon:"align-justify",onAction:()=>Hr.execCommand("JustifyFull")}])}}),Hr.ui.registry.addMenuButton("lists",{tooltip:"Lijsten",icon:"unordered-list",fetch:Hs=>{Hs([{type:"menuitem",text:"bullet list",icon:"unordered-list",onAction:()=>Hr.execCommand("InsertUnorderedList")},{type:"menuitem",text:"numbered list",icon:"ordered-list",onAction:()=>Hr.execCommand("InsertOrderedList")}])}})}})});
