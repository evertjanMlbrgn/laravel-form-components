function cq(kn){return kn&&kn.__esModule&&Object.prototype.hasOwnProperty.call(kn,"default")?kn.default:kn}var ZB={exports:{}},KL;function dq(){return KL||(KL=1,function(kn){(function(){var ur=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var t=typeof e;return t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":t},Vr=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},$r=function(e,t){var n=Array.prototype.slice.call(e);return n.sort(t)},fr=function(e,t){return xo(function(n,r){return e.eq(t(n),t(r))})},xo=function(e){return{eq:e}},rr=xo(function(e,t){return e===t}),jn=rr,Po=function(e){return xo(function(t,n){if(t.length!==n.length)return!1;for(var r=t.length,a=0;a<r;a++)if(!e.eq(t[a],n[a]))return!1;return!0})},En=function(e,t){return fr(Po(e),function(n){return $r(n,t)})},Un=function(e){return xo(function(t,n){var r=Object.keys(t),a=Object.keys(n);if(!En(jn).eq(r,a))return!1;for(var c=r.length,u=0;u<c;u++){var g=r[u];if(!e.eq(t[g],n[g]))return!1}return!0})},ar=xo(function(e,t){if(e===t)return!0;var n=ur(e),r=ur(t);return n!==r?!1:Vr(n)?e===t:n==="array"?Po(ar).eq(e,t):n==="object"?Un(ar).eq(e,t):!1});const An=Object.getPrototypeOf,Bt=(e,t,n)=>{var r;return n(e,t.prototype)?!0:((r=e.constructor)===null||r===void 0?void 0:r.name)===t.name},Ut=e=>{const t=typeof e;return e===null?"null":t==="object"&&Array.isArray(e)?"array":t==="object"&&Bt(e,String,(n,r)=>r.isPrototypeOf(n))?"string":t},Lo=e=>t=>Ut(t)===e,sr=e=>t=>typeof t===e,rt=e=>t=>e===t,ut=(e,t)=>le(e)&&Bt(e,t,(n,r)=>An(n)===r),pt=Lo("string"),le=Lo("object"),Tt=e=>ut(e,Object),ve=Lo("array"),lt=rt(null),jr=sr("boolean"),Xn=rt(void 0),Ro=e=>e==null,Le=e=>!Ro(e),It=sr("function"),T=sr("number"),ko=(e,t)=>{if(ve(e)){for(let n=0,r=e.length;n<r;++n)if(!t(e[n]))return!1;return!0}return!1},Qt=()=>{},Oo=(e,t)=>(...n)=>e(t.apply(null,n)),_r=(e,t)=>n=>e(t(n)),Ce=e=>()=>e,zt=e=>e,tn=(e,t)=>e===t;function xt(e,...t){return(...n)=>{const r=t.concat(n);return e.apply(null,r)}}const Qe=e=>t=>!e(t),Ot=e=>()=>{throw new Error(e)},Yr=e=>e(),gn=e=>{e()},an=Ce(!1),Co=Ce(!0);class V{constructor(t,n){this.tag=t,this.value=n}static some(t){return new V(!0,t)}static none(){return V.singletonNone}fold(t,n){return this.tag?n(this.value):t()}isSome(){return this.tag}isNone(){return!this.tag}map(t){return this.tag?V.some(t(this.value)):V.none()}bind(t){return this.tag?t(this.value):V.none()}exists(t){return this.tag&&t(this.value)}forall(t){return!this.tag||t(this.value)}filter(t){return!this.tag||t(this.value)?this:V.none()}getOr(t){return this.tag?this.value:t}or(t){return this.tag?this:t}getOrThunk(t){return this.tag?this.value:t()}orThunk(t){return this.tag?this:t()}getOrDie(t){if(this.tag)return this.value;throw new Error(t??"Called getOrDie on None")}static from(t){return Le(t)?V.some(t):V.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(t){this.tag&&t(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}V.singletonNone=new V(!1);const la=Array.prototype.slice,Nn=Array.prototype.indexOf,hn=Array.prototype.push,xi=(e,t)=>Nn.call(e,t),Al=(e,t)=>{const n=xi(e,t);return n===-1?V.none():V.some(n)},Wo=(e,t)=>xi(e,t)>-1,zn=(e,t)=>{for(let n=0,r=e.length;n<r;n++){const a=e[n];if(t(a,n))return!0}return!1},$o=(e,t)=>{const n=e.length,r=new Array(n);for(let a=0;a<n;a++){const c=e[a];r[a]=t(c,a)}return r},Ne=(e,t)=>{for(let n=0,r=e.length;n<r;n++){const a=e[n];t(a,n)}},wt=(e,t)=>{for(let n=e.length-1;n>=0;n--){const r=e[n];t(r,n)}},st=(e,t)=>{const n=[],r=[];for(let a=0,c=e.length;a<c;a++){const u=e[a];(t(u,a)?n:r).push(u)}return{pass:n,fail:r}},Ye=(e,t)=>{const n=[];for(let r=0,a=e.length;r<a;r++){const c=e[r];t(c,r)&&n.push(c)}return n},to=(e,t,n)=>(wt(e,(r,a)=>{n=t(n,r,a)}),n),mo=(e,t,n)=>(Ne(e,(r,a)=>{n=t(n,r,a)}),n),Fo=(e,t,n)=>{for(let r=0,a=e.length;r<a;r++){const c=e[r];if(t(c,r))return V.some(c);if(n(c,r))break}return V.none()},Sn=(e,t)=>Fo(e,t,an),Jn=(e,t)=>{for(let n=0,r=e.length;n<r;n++){const a=e[n];if(t(a,n))return V.some(n)}return V.none()},Tn=e=>{const t=[];for(let n=0,r=e.length;n<r;++n){if(!ve(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);hn.apply(t,e[n])}return t},Mn=(e,t)=>Tn($o(e,t)),wr=(e,t)=>{for(let n=0,r=e.length;n<r;++n){const a=e[n];if(t(a,n)!==!0)return!1}return!0},Os=e=>{const t=la.call(e,0);return t.reverse(),t},Fn=(e,t)=>Ye(e,n=>!Wo(t,n)),Rr=(e,t)=>{const n={};for(let r=0,a=e.length;r<a;r++){const c=e[r];n[String(c)]=t(c,r)}return n},jo=(e,t)=>{const n=la.call(e,0);return n.sort(t),n},Ds=(e,t)=>t>=0&&t<e.length?V.some(e[t]):V.none(),mt=e=>Ds(e,0),io=e=>Ds(e,e.length-1),Mo=It(Array.from)?Array.from:e=>la.call(e),Rs=(e,t)=>{for(let n=0;n<e.length;n++){const r=t(e[n],n);if(r.isSome())return r}return V.none()},$a=(e,t)=>{const n=[],r=It(t)?a=>zn(n,c=>t(c,a)):a=>Wo(n,a);for(let a=0,c=e.length;a<c;a++){const u=e[a];r(u)||n.push(u)}return n},Je=Object.keys,Ta=Object.hasOwnProperty,To=(e,t)=>{const n=Je(e);for(let r=0,a=n.length;r<a;r++){const c=n[r],u=e[c];t(u,c)}},ki=(e,t)=>Zn(e,(n,r)=>({k:r,v:t(n,r)})),Zn=(e,t)=>{const n={};return To(e,(r,a)=>{const c=t(r,a);n[c.k]=c.v}),n},ms=e=>(t,n)=>{e[n]=t},Ji=(e,t,n,r)=>{To(e,(a,c)=>{(t(a,c)?n:r)(a,c)})},Qi=(e,t)=>{const n={},r={};return Ji(e,t,ms(n),ms(r)),{t:n,f:r}},_i=(e,t)=>{const n={};return Ji(e,t,ms(n),Qt),n},ca=(e,t)=>{const n=[];return To(e,(r,a)=>{n.push(t(r,a))}),n},el=e=>ca(e,zt),Bn=(e,t)=>go(e,t)?V.from(e[t]):V.none(),go=(e,t)=>Ta.call(e,t),Oa=(e,t)=>go(e,t)&&e[t]!==void 0&&e[t]!==null,vs=(e,t,n=ar)=>Un(n).eq(e,t),Xl=e=>{const t={};return Ne(e,n=>{t[n]={}}),Je(t)},St=e=>e.length!==void 0,Ri=Array.isArray,Da=e=>{if(Ri(e))return e;{const t=[];for(let n=0,r=e.length;n<r;n++)t[n]=e[n];return t}},Cr=(e,t,n)=>{if(!e)return!1;if(n=n||e,St(e)){for(let r=0,a=e.length;r<a;r++)if(t.call(n,e[r],r,e)===!1)return!1}else for(const r in e)if(go(e,r)&&t.call(n,e[r],r,e)===!1)return!1;return!0},Ic=(e,t)=>{const n=[];return Cr(e,(r,a)=>{n.push(t(r,a,e))}),n},da=(e,t)=>{const n=[];return Cr(e,(r,a)=>{(!t||t(r,a,e))&&n.push(r)}),n},ps=(e,t)=>{if(e){for(let n=0,r=e.length;n<r;n++)if(e[n]===t)return n}return-1},ri=(e,t,n,r)=>{let a=Xn(n)?e[0]:n;for(let c=0;c<e.length;c++)a=t.call(r,a,e[c],c);return a},mr=(e,t,n)=>{for(let r=0,a=e.length;r<a;r++)if(t.call(n,e[r],r,e))return r;return-1},ks=e=>e[e.length-1],Ra=e=>{let t=!1,n;return(...r)=>(t||(t=!0,n=e.apply(null,r)),n)},zl=(e,t,n,r)=>{const a=e.isiOS()&&/ipad/i.test(n)===!0,c=e.isiOS()&&!a,u=e.isiOS()||e.isAndroid(),g=u||r("(pointer:coarse)"),v=a||!c&&u&&r("(min-device-width:768px)"),S=c||u&&!v,R=t.isSafari()&&e.isiOS()&&/safari/i.test(n)===!1,B=!S&&!v&&!R;return{isiPad:Ce(a),isiPhone:Ce(c),isTablet:Ce(v),isPhone:Ce(S),isTouch:Ce(g),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:Ce(R),isDesktop:Ce(B)}},Ni=(e,t)=>{for(let n=0;n<e.length;n++){const r=e[n];if(r.test(t))return r}},si=(e,t)=>{const n=Ni(e,t);if(!n)return{major:0,minor:0};const r=a=>Number(t.replace(n,"$"+a));return ln(r(1),r(2))},Pc=(e,t)=>{const n=String(t).toLowerCase();return e.length===0?Lc():si(e,n)},Lc=()=>ln(0,0),ln=(e,t)=>({major:e,minor:t}),gs={nu:ln,detect:Pc,unknown:Lc},ua=(e,t)=>Rs(t.brands,n=>{const r=n.brand.toLowerCase();return Sn(e,a=>{var c;return r===((c=a.brand)===null||c===void 0?void 0:c.toLowerCase())}).map(a=>({current:a.name,version:gs.nu(parseInt(n.version,10),0)}))}),Fc=(e,t)=>{const n=String(t).toLowerCase();return Sn(e,r=>r.search(n))},Gd=(e,t)=>Fc(e,t).map(n=>{const r=gs.detect(n.versionRegexes,t);return{current:n.name,version:r}}),gd=(e,t)=>Fc(e,t).map(n=>{const r=gs.detect(n.versionRegexes,t);return{current:n.name,version:r}}),es=(e,t)=>e.substring(t),Na=(e,t,n)=>t===""||e.length>=t.length&&e.substr(n,n+t.length)===t,ai=(e,t)=>ir(e,t)?es(e,t.length):e,pr=(e,t,n=0,r)=>{const a=e.indexOf(t,n);return a!==-1?Xn(r)?!0:a+t.length<=r:!1},ir=(e,t)=>Na(e,t,0),wi=(e,t)=>Na(e,t,e.length-t.length),Ma=e=>t=>t.replace(e,""),Js=Ma(/^\s+|\s+$/g),Mi=Ma(/^\s+/g),ss=Ma(/\s+$/g),gr=e=>e.length>0,Ci=e=>!gr(e),ts=(e,t)=>t<=0?"":new Array(t+1).join(e),Qn=(e,t=10)=>{const n=parseInt(e,t);return isNaN(n)?V.none():V.some(n)},fa=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ja=e=>t=>pr(t,e),Hc=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>pr(e,"edge/")&&pr(e,"chrome")&&pr(e,"safari")&&pr(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,fa],search:e=>pr(e,"chrome")&&!pr(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>pr(e,"msie")||pr(e,"trident")},{name:"Opera",versionRegexes:[fa,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ja("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ja("firefox")},{name:"Safari",versionRegexes:[fa,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(pr(e,"safari")||pr(e,"mobile/"))&&pr(e,"applewebkit")}],po=[{name:"Windows",search:ja("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>pr(e,"iphone")||pr(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ja("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:ja("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ja("linux"),versionRegexes:[]},{name:"Solaris",search:ja("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ja("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ja("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],hs={browsers:Ce(Hc),oses:Ce(po)},as="Edge",os="Chromium",hd="IE",Sr="Opera",sl="Firefox",al="Safari",Gt=()=>Ua({current:void 0,version:gs.unknown()}),Ua=e=>{const t=e.current,n=e.version,r=a=>()=>t===a;return{current:t,version:n,isEdge:r(as),isChromium:r(os),isIE:r(hd),isOpera:r(Sr),isFirefox:r(sl),isSafari:r(al)}},ii={unknown:Gt,nu:Ua},Ns="Windows",Jl="iOS",hr="Android",Si="Linux",li="macOS",Yo="Solaris",tl="FreeBSD",il="ChromeOS",Vc=()=>xr({current:void 0,version:gs.unknown()}),xr=e=>{const t=e.current,n=e.version,r=a=>()=>t===a;return{current:t,version:n,isWindows:r(Ns),isiOS:r(Jl),isAndroid:r(hr),isMacOS:r(li),isLinux:r(Si),isSolaris:r(Yo),isFreeBSD:r(tl),isChromeOS:r(il)}},_a={unknown:Vc,nu:xr},On={detect:(e,t,n)=>{const r=hs.browsers(),a=hs.oses(),c=t.bind(v=>ua(r,v)).orThunk(()=>Gd(r,e)).fold(ii.unknown,ii.nu),u=gd(a,e).fold(_a.unknown,_a.nu),g=zl(u,c,e,n);return{browser:c,os:u,deviceType:g}}},Tl=e=>window.matchMedia(e).matches;let Ur=Ra(()=>On.detect(window.navigator.userAgent,V.from(window.navigator.userAgentData),Tl));const Ms=()=>Ur(),q=window.navigator.userAgent,ce=Ms(),_e=ce.browser,Ve=ce.os,ft=ce.deviceType,Vt=q.indexOf("Windows Phone")!==-1,Nt={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:_e.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!_e.isIE(),windowsPhone:Vt,browser:{current:_e.current,version:_e.version,isChromium:_e.isChromium,isEdge:_e.isEdge,isFirefox:_e.isFirefox,isIE:_e.isIE,isOpera:_e.isOpera,isSafari:_e.isSafari},os:{current:Ve.current,version:Ve.version,isAndroid:Ve.isAndroid,isChromeOS:Ve.isChromeOS,isFreeBSD:Ve.isFreeBSD,isiOS:Ve.isiOS,isLinux:Ve.isLinux,isMacOS:Ve.isMacOS,isSolaris:Ve.isSolaris,isWindows:Ve.isWindows},deviceType:{isDesktop:ft.isDesktop,isiPad:ft.isiPad,isiPhone:ft.isiPhone,isPhone:ft.isPhone,isTablet:ft.isTablet,isTouch:ft.isTouch,isWebView:ft.isWebView}},kr=/^\s*|\s*$/g,on=e=>Ro(e)?"":(""+e).replace(kr,""),P=(e,t)=>t?t==="array"&&Ri(e)?!0:typeof e===t:e!==void 0,Y=(e,t,n={})=>{const r=pt(e)?e.split(t||","):e||[];let a=r.length;for(;a--;)n[r[a]]={};return n},pe=go,De=(e,...t)=>{for(let n=0;n<t.length;n++){const r=t[n];for(const a in r)if(go(r,a)){const c=r[a];c!==void 0&&(e[a]=c)}}return e},Zt=function(e,t,n,r){r=r||this,e&&(n&&(e=e[n]),Cr(e,(a,c)=>t.call(r,a,c,n)===!1?!1:(Zt(a,t,n,r),!0)))},ht={trim:on,isArray:Ri,is:P,toArray:Da,makeMap:Y,each:Cr,map:Ic,grep:da,inArray:ps,hasOwn:pe,extend:De,walk:Zt,resolve:(e,t=window)=>{const n=e.split(".");for(let r=0,a=n.length;r<a&&(t=t[n[r]],!!t);r++);return t},explode:(e,t)=>ve(e)?e:e===""?[]:Ic(e.split(t||","),on),_addCacheSuffix:e=>{const t=Nt.cacheSuffix;return t&&(e+=(e.indexOf("?")===-1?"?":"&")+t),e}},Bi=(e,t,n=tn)=>e.exists(r=>n(r,t)),wa=(e,t,n=tn)=>ma(e,t,n).getOr(e.isNone()&&t.isNone()),hc=e=>{const t=[],n=r=>{t.push(r)};for(let r=0;r<e.length;r++)e[r].each(n);return t},ma=(e,t,n)=>e.isSome()&&t.isSome()?V.some(n(e.getOrDie(),t.getOrDie())):V.none(),$c=(e,t,n,r)=>e.isSome()&&t.isSome()&&n.isSome()?V.some(r(e.getOrDie(),t.getOrDie(),n.getOrDie())):V.none(),bd=(e,t)=>e?V.some(t):V.none(),zm=typeof window<"u"?window:Function("return this;")(),Ol=(e,t)=>{let n=t??zm;for(let r=0;r<e.length&&n!==void 0&&n!==null;++r)n=n[e[r]];return n},Tm=(e,t)=>{const n=e.split(".");return Ol(n,t)},Ip=(e,t)=>Tm(e,t),$g=(e,t)=>{const n=Ip(e,t);if(n==null)throw new Error(e+" not available on this browser");return n},jg=Object.getPrototypeOf,Uf=e=>$g("HTMLElement",e),jc=e=>{const t=Tm("ownerDocument.defaultView",e);return le(e)&&(Uf(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(jg(e).constructor.name))},Yd=8,Yu=9,pa=11,yd=1,bc=3,cn=e=>e.dom.nodeName.toLowerCase(),di=e=>e.dom.nodeType,pu=e=>t=>di(t)===e,Om=e=>di(e)===Yd||cn(e)==="#comment",ui=e=>Ei(e)&&jc(e.dom),Ei=pu(yd),Qs=pu(bc),yc=pu(Yu),_s=pu(pa),Ba=e=>t=>Ei(t)&&cn(t)===e,Ii=(e,t,n)=>{if(pt(n)||jr(n)||T(n))e.setAttribute(t,n+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple")},In=(e,t,n)=>{Ii(e.dom,t,n)},Dl=(e,t)=>{const n=e.dom;To(t,(r,a)=>{Ii(n,a,r)})},Ia=(e,t)=>{const n=e.dom.getAttribute(t);return n===null?void 0:n},$s=(e,t)=>V.from(Ia(e,t)),ll=(e,t)=>{const n=e.dom;return n&&n.hasAttribute?n.hasAttribute(t):!1},Dn=(e,t)=>{e.dom.removeAttribute(t)},js=e=>{const t=e.dom.attributes;return t==null||t.length===0},Ql=e=>mo(e.dom.attributes,(t,n)=>(t[n.name]=n.value,t),{}),Us=(e,t)=>{const n=Ia(e,t);return n===void 0||n===""?[]:n.split(" ")},Bs=(e,t,n)=>{const a=Us(e,t).concat([n]);return In(e,t,a.join(" ")),!0},$t=(e,t,n)=>{const r=Ye(Us(e,t),a=>a!==n);return r.length>0?In(e,t,r.join(" ")):Dn(e,t),!1},ec=e=>e.dom.classList!==void 0,vd=e=>Us(e,"class"),sn=(e,t)=>Bs(e,"class",t),Xd=(e,t)=>$t(e,"class",t),gu=(e,t)=>Wo(vd(e),t)?Xd(e,t):sn(e,t),vc=(e,t)=>{ec(e)?e.dom.classList.add(t):sn(e,t)},Zo=e=>{(ec(e)?e.dom.classList:vd(e)).length===0&&Dn(e,"class")},Pa=(e,t)=>{ec(e)?e.dom.classList.remove(t):Xd(e,t),Zo(e)},Xu=(e,t)=>{const n=ec(e)?e.dom.classList.toggle(t):gu(e,t);return Zo(e),n},hu=(e,t)=>ec(e)&&e.dom.classList.contains(t),Dm=(e,t)=>{const r=(t||document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1){const a="HTML does not have a single root node";throw console.error(a,e),new Error(a)}return xd(r.childNodes[0])},tc=(e,t)=>{const r=(t||document).createElement(e);return xd(r)},cl=(e,t)=>{const r=(t||document).createTextNode(e);return xd(r)},xd=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},me={fromHtml:Dm,fromTag:tc,fromText:cl,fromDom:xd,fromPoint:(e,t,n)=>V.from(e.dom.elementFromPoint(t,n)).map(xd)},kd=(e,t)=>{const n=[],r=c=>(n.push(c),t(c));let a=t(e);do a=a.bind(r);while(a.isSome());return n},Hn=(e,t)=>{const n=e.dom;if(n.nodeType!==yd)return!1;{const r=n;if(r.matches!==void 0)return r.matches(t);if(r.msMatchesSelector!==void 0)return r.msMatchesSelector(t);if(r.webkitMatchesSelector!==void 0)return r.webkitMatchesSelector(t);if(r.mozMatchesSelector!==void 0)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},Pp=e=>e.nodeType!==yd&&e.nodeType!==Yu&&e.nodeType!==pa||e.childElementCount===0,Qu=(e,t)=>{const n=t===void 0?document:t.dom;return Pp(n)?[]:$o(n.querySelectorAll(e),me.fromDom)},Rl=(e,t)=>{const n=t===void 0?document:t.dom;return Pp(n)?V.none():V.from(n.querySelector(e)).map(me.fromDom)},rn=(e,t)=>e.dom===t.dom,Za=(e,t)=>{const n=e.dom,r=t.dom;return n===r?!1:n.contains(r)},ol=e=>me.fromDom(e.dom.ownerDocument),dl=e=>yc(e)?e:ol(e),xc=e=>me.fromDom(dl(e).dom.documentElement),bu=e=>me.fromDom(dl(e).dom.defaultView),Wa=e=>V.from(e.dom.parentNode).map(me.fromDom),yu=e=>V.from(e.dom.parentElement).map(me.fromDom),_d=(e,t)=>{const n=It(t)?t:an;let r=e.dom;const a=[];for(;r.parentNode!==null&&r.parentNode!==void 0;){const c=r.parentNode,u=me.fromDom(c);if(a.push(u),n(u)===!0)break;r=c}return a},vu=e=>{const t=n=>Ye(n,r=>!rn(e,r));return Wa(e).map(qa).map(t).getOr([])},Is=e=>V.from(e.dom.previousSibling).map(me.fromDom),co=e=>V.from(e.dom.nextSibling).map(me.fromDom),Uc=e=>Os(kd(e,Is)),wd=e=>kd(e,co),qa=e=>$o(e.dom.childNodes,me.fromDom),Zc=(e,t)=>{const n=e.dom.childNodes;return V.from(n[t]).map(me.fromDom)},ul=e=>Zc(e,0),Cd=e=>Zc(e,e.dom.childNodes.length-1),Wc=e=>e.dom.childNodes.length,Ps=e=>{const t=e.dom.head;if(t==null)throw new Error("Head is not available yet");return me.fromDom(t)},Sd=e=>_s(e)&&Le(e.dom.host),kc=e=>me.fromDom(e.dom.getRootNode()),xu=e=>Sd(e)?e:Ps(dl(e)),ku=e=>Sd(e)?e:me.fromDom(dl(e).dom.body),Ed=e=>{const t=kc(e);return Sd(t)?V.some(t):V.none()},Jd=e=>me.fromDom(e.dom.host),_u=e=>{if(Le(e.target)){const t=me.fromDom(e.target);if(Ei(t)&&Jr(t)&&e.composed&&e.composedPath){const n=e.composedPath();if(n)return mt(n)}}return V.from(e.target)},Jr=e=>Le(e.dom.shadowRoot),La=e=>{const t=Qs(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;const n=t.ownerDocument;return Ed(me.fromDom(t)).fold(()=>n.body.contains(t),_r(La,Jd))};var Ga=(e,t,n,r,a)=>e(n,r)?V.some(n):It(a)&&a(n)?V.none():t(n,r,a);const Pi=(e,t,n)=>{let r=e.dom;const a=It(n)?n:an;for(;r.parentNode;){r=r.parentNode;const c=me.fromDom(r);if(t(c))return V.some(c);if(a(c))break}return V.none()},ea=(e,t,n)=>Ga((a,c)=>c(a),Pi,e,t,n),ef=(e,t)=>{const n=e.dom;return n.parentNode?Ls(me.fromDom(n.parentNode),r=>!rn(e,r)&&t(r)):V.none()},Ls=(e,t)=>{const n=a=>t(me.fromDom(a));return Sn(e.dom.childNodes,n).map(me.fromDom)},ta=(e,t)=>{const n=r=>{for(let a=0;a<r.childNodes.length;a++){const c=me.fromDom(r.childNodes[a]);if(t(c))return V.some(c);const u=n(r.childNodes[a]);if(u.isSome())return u}return V.none()};return n(e.dom)},qc=(e,t,n)=>Pi(e,r=>Hn(r,t),n),Ke=(e,t)=>Rl(t,e),oa=(e,t,n)=>Ga((a,c)=>Hn(a,c),qc,e,t,n),ws=e=>oa(e,"[contenteditable]"),ga=(e,t=!1)=>La(e)?e.dom.isContentEditable:ws(e).fold(Ce(t),n=>fl(n)==="true"),fl=e=>e.dom.contentEditable,Li=(e,t)=>{e.dom.contentEditable=t?"true":"false"},wu=e=>e.style!==void 0&&It(e.style.getPropertyValue),Ka=(e,t,n)=>{if(!pt(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);wu(e)&&e.style.setProperty(t,n)},bn=(e,t)=>{wu(e)&&e.style.removeProperty(t)},ml=(e,t,n)=>{const r=e.dom;Ka(r,t,n)},Nl=(e,t)=>{const n=e.dom;To(t,(r,a)=>{Ka(n,a,r)})},er=(e,t)=>{const n=e.dom,a=window.getComputedStyle(n).getPropertyValue(t);return a===""&&!La(e)?tf(n,t):a},tf=(e,t)=>wu(e)?e.style.getPropertyValue(t):"",Ya=(e,t)=>{const n=e.dom,r=tf(n,t);return V.from(r).filter(a=>a.length>0)},of=e=>{const t={},n=e.dom;if(wu(n))for(let r=0;r<n.style.length;r++){const a=n.style.item(r);t[a]=n.style[a]}return t},fi=(e,t)=>{const n=e.dom;bn(n,t),Bi($s(e,"style").map(Js),"")&&Dn(e,"style")},Te=e=>e.dom.offsetWidth,is=(e,t)=>{Wa(e).each(r=>{r.dom.insertBefore(t.dom,e.dom)})},oc=(e,t)=>{co(e).fold(()=>{Wa(e).each(a=>{lr(a,t)})},r=>{is(r,t)})},Er=(e,t)=>{ul(e).fold(()=>{lr(e,t)},r=>{e.dom.insertBefore(t.dom,r.dom)})},lr=(e,t)=>{e.dom.appendChild(t.dom)},Zs=(e,t)=>{is(e,t),lr(t,e)},br=(e,t)=>{Ne(t,(n,r)=>{const a=r===0?e:t[r-1];oc(a,n)})},Ai=(e,t)=>{Ne(t,n=>{lr(e,n)})},nc=e=>{e.dom.textContent="",Ne(qa(e),t=>{_n(t)})},_n=e=>{const t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)},na=e=>{const t=qa(e);t.length>0&&br(e,t),_n(e)},Ml=(e,t)=>{const r=(t||document).createElement("div");return r.innerHTML=e,qa(me.fromDom(r))},mi=e=>$o(e,me.fromDom),Ad=e=>e.dom.innerHTML,Bl=(e,t)=>{const r=ol(e).dom,a=me.fromDom(r.createDocumentFragment()),c=Ml(t,r);Ai(a,c),nc(e),lr(e,a)},Zf=e=>{const t=me.fromTag("div"),n=me.fromDom(e.dom.cloneNode(!0));return lr(t,n),Ad(t)},Rm=(e,t,n,r,a,c,u)=>({target:e,x:t,y:n,stop:r,prevent:a,kill:c,raw:u}),zd=e=>{const t=me.fromDom(_u(e).getOr(e.target)),n=()=>e.stopPropagation(),r=()=>e.preventDefault(),a=Oo(r,n);return Rm(t,e.clientX,e.clientY,n,r,a,e)},ha=(e,t)=>n=>{e(n)&&t(zd(n))},C=(e,t,n,r,a)=>{const c=ha(n,r);return e.dom.addEventListener(t,c,a),{unbind:xt(j,e,t,c,a)}},M=(e,t,n,r)=>C(e,t,n,r,!1),j=(e,t,n,r)=>{e.dom.removeEventListener(t,n,r)},ue=(e,t)=>({left:e,top:t,translate:(r,a)=>ue(e+r,t+a)}),ge=ue,ot=e=>{const t=e.getBoundingClientRect();return ge(t.left,t.top)},no=(e,t)=>e!==void 0?e:t!==void 0?t:0,Bo=e=>{const t=e.dom.ownerDocument,n=t.body,r=t.defaultView,a=t.documentElement;if(n===e.dom)return ge(n.offsetLeft,n.offsetTop);const c=no(r==null?void 0:r.pageYOffset,a.scrollTop),u=no(r==null?void 0:r.pageXOffset,a.scrollLeft),g=no(a.clientTop,n.clientTop),v=no(a.clientLeft,n.clientLeft);return bo(e).translate(u-v,c-g)},bo=e=>{const t=e.dom,r=t.ownerDocument.body;return r===t?ge(r.offsetLeft,r.offsetTop):La(e)?ot(t):ge(0,0)},Kt=e=>{const t=e!==void 0?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,r=t.body.scrollTop||t.documentElement.scrollTop;return ge(n,r)},Nr=(e,t,n)=>{const a=(n!==void 0?n.dom:document).defaultView;a&&a.scrollTo(e,t)},Zr=(e,t)=>{Ms().browser.isSafari()&&It(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},Il=e=>{const t=e===void 0?window:e;return Ms().browser.isFirefox()?V.none():V.from(t.visualViewport)},pi=(e,t,n,r)=>({x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}),_c=e=>{const t=e===void 0?window:e,n=t.document,r=Kt(me.fromDom(n));return Il(t).fold(()=>{const a=t.document.documentElement,c=a.clientWidth,u=a.clientHeight;return pi(r.left,r.top,c,u)},a=>pi(Math.max(a.pageLeft,r.left),Math.max(a.pageTop,r.top),a.width,a.height))},Cu=(e,t)=>Ye(qa(e),t),Wf=(e,t)=>{let n=[];return Ne(qa(e),r=>{t(r)&&(n=n.concat([r])),n=n.concat(Wf(r,t))}),n},Cs=(e,t)=>Qu(t,e),Su=(e,t,n)=>Pi(e,t,n).isSome(),Ug=(e,t)=>ef(e,t).isSome(),Ss=(e,t)=>ta(e,t).isSome();class Fa{constructor(t,n){this.node=t,this.rootNode=n,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node}prev(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node}prev2(t){return this.node=this.findPreviousNode(this.node,t),this.node}findSibling(t,n,r,a){if(t){if(!a&&t[n])return t[n];if(t!==this.rootNode){let c=t[r];if(c)return c;for(let u=t.parentNode;u&&u!==this.rootNode;u=u.parentNode)if(c=u[r],c)return c}}}findPreviousNode(t,n){if(t){const r=t.previousSibling;if(this.rootNode&&r===this.rootNode)return;if(r){if(!n){for(let c=r.lastChild;c;c=c.lastChild)if(!c.lastChild)return c}return r}const a=t.parentNode;if(a&&a!==this.rootNode)return a}}}const wc="\uFEFF",Fs=" ",Eu=e=>e===wc,Gc=e=>e.replace(/\uFEFF/g,""),pl=/^[ \t\r\n]*$/,Kc=e=>pl.test(e),Au=e=>{for(const t of e)if(!Eu(t))return!1;return!0},ib=e=>" \f	\v".indexOf(e)!==-1,qf=e=>e===`
`||e==="\r",Zg=(e,t)=>t<e.length&&t>=0?qf(e[t]):!1,nf=(e,t=4,n=!0,r=!0)=>{const a=ts(" ",t),c=e.replace(/\t/g,a);return mo(c,(g,v)=>ib(v)||v===Fs?g.pcIsSpace||g.str===""&&n||g.str.length===c.length-1&&r||Zg(c,g.str.length+1)?{pcIsSpace:!1,str:g.str+Fs}:{pcIsSpace:!0,str:g.str+" "}:{pcIsSpace:qf(v),str:g.str+v},{pcIsSpace:!1,str:""}).str},Td=e=>t=>!!t&&t.nodeType===e,Lp=e=>!!e&&!Object.getPrototypeOf(e),qt=Td(1),Pl=e=>qt(e)&&ui(me.fromDom(e)),Yc=e=>qt(e)&&e.namespaceURI==="http://www.w3.org/2000/svg",gl=e=>{const t=e.toLowerCase();return n=>Le(n)&&n.nodeName.toLowerCase()===t},gi=e=>{const t=e.map(n=>n.toLowerCase());return n=>{if(n&&n.nodeName){const r=n.nodeName.toLowerCase();return Wo(t,r)}return!1}},rf=(e,t)=>{const n=t.toLowerCase().split(" ");return r=>{if(qt(r)){const a=r.ownerDocument.defaultView;if(a)for(let c=0;c<n.length;c++){const u=a.getComputedStyle(r,null);if((u?u.getPropertyValue(e):null)===n[c])return!0}}return!1}},sf=e=>t=>qt(t)&&t.hasAttribute(e),Xc=e=>qt(e)&&e.hasAttribute("data-mce-bogus"),Wg=e=>qt(e)&&e.getAttribute("data-mce-bogus")==="all",Jc=e=>qt(e)&&e.tagName==="TABLE",Fp=e=>t=>!!(Pl(t)&&(t.contentEditable===e||t.getAttribute("data-mce-contenteditable")===e)),Gf=gi(["textarea","input"]),bt=Td(3),Xo=Td(4),oo=Td(7),Fi=Td(8),Qd=Td(9),af=Td(11),ls=gl("br"),tr=gl("img"),Hi=Fp("true"),Wr=Fp("false"),je=e=>Pl(e)&&e.isContentEditable&&Le(e.parentElement)&&!e.parentElement.isContentEditable,eu=gi(["td","th"]),rc=gi(["td","th","caption"]),hl=gi(["video","audio","object","embed"]),lf=gl("li"),Od=gl("details"),lb=gl("summary"),zu={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},Mr=(e,t,n)=>{const r=me.fromDom(t),a=me.fromDom(e),c=n.getWhitespaceElements();return Su(a,g=>go(c,cn(g)),xt(rn,r))},Dd=e=>qt(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),cb=(e,t)=>qt(e)&&go(t.getNonEmptyElements(),e.nodeName),sc=sf("data-mce-bookmark"),Hp=e=>yu(me.fromDom(e)).exists(t=>!ga(t)),Vp=(e,t,n)=>Kc(e.data)&&!Mr(e,t,n),bl=(e,t,n,r)=>bt(e)&&!Vp(e,t,n)&&(!r.includeZwsp||!Au(e.data)),Tu=(e,t,n,r)=>It(r.isContent)&&r.isContent(t)||cb(t,e)||sc(t)||Dd(t)||bl(t,n,e,r)||Wr(t)||Hi(t)&&Hp(t),ac=(e,t,n)=>{const r={...zu,...n};if(r.checkRootAsContent&&Tu(e,t,t,r))return!1;let a=t.firstChild,c=0;if(!a)return!0;const u=new Fa(a,t);do{if(r.skipBogus&&qt(a)){const g=a.getAttribute("data-mce-bogus");if(g){a=u.next(g==="all");continue}}if(Fi(a)){a=u.next(!0);continue}if(ls(a)){c++,a=u.next();continue}if(Tu(e,a,t,r))return!1;a=u.next()}while(a);return c<=1},Ca=(e,t,n)=>ac(e,t.dom,{checkRootAsContent:!0,...n}),yl=(e,t,n)=>Tu(e,t,t,{includeZwsp:zu.includeZwsp,...n}),yr=e=>{let t=e;return{get:()=>t,set:a=>{t=a}}},it=e=>{const t=yr(V.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(V.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:g=>{n(),t.set(V.some(g))}}},x1=e=>{const t=yr(V.none()),n=()=>t.get().each(g=>clearInterval(g));return{clear:()=>{n(),t.set(V.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:g=>{n(),t.set(V.some(setInterval(g,e)))}}},cs=()=>{const e=it(Qt);return{...e,on:n=>e.get().each(n)}},$p=e=>{const t=e.toLowerCase();return t==="svg"?"svg":t==="math"?"math":"html"},k=e=>$p(e)!=="html",z=e=>k(e.nodeName),$=e=>$p(e.nodeName),te=["svg","math"],xe=()=>{const e=cs(),t=()=>e.get().map($).getOr("html");return{track:a=>(z(a)?e.set(a):e.get().exists(c=>!c.contains(a))&&e.clear(),t()),current:t,reset:()=>{e.clear()}}},Ze="data-mce-block",yt=e=>Ye(Je(e),t=>!/[A-Z]/.test(t)),_t=e=>$o(yt(e),t=>{const n=CSS.escape(t);return`${n}:`+$o(te,r=>`not(${r} ${n})`).join(":")}).join(","),Ao=(e,t)=>Le(t.querySelector(e))?(t.setAttribute(Ze,"true"),t.getAttribute("data-mce-selected")==="inline-boundary"&&t.removeAttribute("data-mce-selected"),!0):(t.removeAttribute(Ze),!1),Yt=(e,t)=>{const n=_t(e.getTransparentElements()),r=_t(e.getBlockElements());return Ye(t.querySelectorAll(n),a=>Ao(r,a))},Qo=(e,t,n)=>{var r;const a=n?"lastChild":"firstChild";for(let c=t[a];c;c=c[a])if(ac(e,c,{checkRootAsContent:!0})){(r=c.parentNode)===null||r===void 0||r.removeChild(c);return}},Pn=(e,t,n)=>{const r=document.createRange(),a=t.parentNode;if(a){r.setStartBefore(t),r.setEndBefore(n);const c=r.extractContents();Qo(e,c,!0),r.setStartAfter(n),r.setEndAfter(t);const u=r.extractContents();Qo(e,u,!1),ac(e,c,{checkRootAsContent:!0})||a.insertBefore(c,t),ac(e,n,{checkRootAsContent:!0})||a.insertBefore(n,t),ac(e,u,{checkRootAsContent:!0})||a.insertBefore(u,t),a.removeChild(t)}},Wn=(e,t,n)=>{const r=e.getBlockElements(),a=me.fromDom(t),c=g=>cn(g)in r,u=g=>rn(g,a);Ne(mi(n),g=>{Pi(g,c,u).each(v=>{const S=Cu(g,R=>c(R)&&!e.isValidChild(cn(v),cn(R)));if(S.length>0){const R=yu(v);Ne(S,B=>{Pi(B,c,u).each(L=>{Pn(e,L.dom,B.dom)})}),R.each(B=>Yt(e,B.dom))}})})},vl=(e,t,n)=>{Ne([...n,...ba(e,t)?[t]:[]],r=>Ne(Cs(me.fromDom(r),r.nodeName.toLowerCase()),a=>{ou(e,a.dom)&&na(a)}))},Es=(e,t)=>{const n=Yt(e,t);Wn(e,t,n),vl(e,t,n)},Cc=(e,t)=>{if(tu(e,t)){const n=_t(e.getBlockElements());Ao(n,t)}},Qc=(e,t,n)=>{const r=c=>rn(c,me.fromDom(t)),a=_d(me.fromDom(n),r);Ds(a,a.length-2).filter(Ei).fold(()=>Es(e,t),c=>Es(e,c.dom))},Ou=e=>e.hasAttribute(Ze),Ws=(e,t)=>go(e.getTransparentElements(),t),tu=(e,t)=>qt(t)&&Ws(e,t.nodeName),ba=(e,t)=>tu(e,t)&&Ou(t),ou=(e,t)=>tu(e,t)&&!Ou(t),nu=(e,t)=>t.type===1&&Ws(e,t.name)&&pt(t.attr(Ze)),cf=Ms().browser,Nm=e=>Sn(e,Ei),jp=e=>cf.isFirefox()&&cn(e)==="table"?Nm(qa(e)).filter(t=>cn(t)==="caption").bind(t=>Nm(wd(t)).map(n=>{const r=n.dom.offsetTop,a=t.dom.offsetTop,c=t.dom.offsetHeight;return r<=a?-c:0})).getOr(0):0,yn=(e,t)=>e.children&&Wo(e.children,t),ds=(e,t,n)=>{let r=0,a=0;const c=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&er(me.fromDom(e),"position")==="static"){const g=t.getBoundingClientRect();return r=g.left+(c.documentElement.scrollLeft||e.scrollLeft)-c.documentElement.clientLeft,a=g.top+(c.documentElement.scrollTop||e.scrollTop)-c.documentElement.clientTop,{x:r,y:a}}let u=t;for(;u&&u!==n&&u.nodeType&&!yn(u,n);){const g=u;r+=g.offsetLeft||0,a+=g.offsetTop||0,u=g.offsetParent}for(u=t.parentNode;u&&u!==n&&u.nodeType&&!yn(u,n);)r-=u.scrollLeft||0,a-=u.scrollTop||0,u=u.parentNode;a+=jp(me.fromDom(t))}return{x:r,y:a}},Xa=(e,t={})=>{let n=0;const r={},a=me.fromDom(e),c=dl(a),u=he=>{t.referrerPolicy=he},g=he=>{t.contentCssCors=he},v=he=>{lr(xu(a),he)},S=he=>{const Se=xu(a);Ke(Se,"#"+he).each(_n)},R=he=>Bn(r,he).getOrThunk(()=>({id:"mce-u"+n++,passed:[],failed:[],count:0})),B=he=>new Promise((Se,ze)=>{let Me;const Xe=ht._addCacheSuffix(he),vt=R(Xe);r[Xe]=vt,vt.count++;const Lt=(Rt,ro)=>{Ne(Rt,gn),vt.status=ro,vt.passed=[],vt.failed=[],Me&&(Me.onload=null,Me.onerror=null,Me=null)},We=()=>Lt(vt.passed,2),He=()=>Lt(vt.failed,3);if(Se&&vt.passed.push(Se),ze&&vt.failed.push(ze),vt.status===1)return;if(vt.status===2){We();return}if(vt.status===3){He();return}vt.status=1;const tt=me.fromTag("link",c.dom);Dl(tt,{rel:"stylesheet",type:"text/css",id:vt.id}),t.contentCssCors&&In(tt,"crossOrigin","anonymous"),t.referrerPolicy&&In(tt,"referrerpolicy",t.referrerPolicy),Me=tt.dom,Me.onload=We,Me.onerror=He,v(tt),In(tt,"href",Xe)}),L=(he,Se)=>{const ze=R(he);r[he]=ze,ze.count++;const Me=me.fromTag("style",c.dom);Dl(Me,{rel:"stylesheet",type:"text/css",id:ze.id,"data-mce-key":he}),Me.dom.innerHTML=Se,v(Me)},G=he=>Promise.allSettled($o(he,ze=>B(ze).then(Ce(ze)))).then(ze=>{const Me=st(ze,Xe=>Xe.status==="fulfilled");return Me.fail.length>0?Promise.reject($o(Me.fail,Xe=>Xe.reason)):$o(Me.pass,Xe=>Xe.value)}),ae=he=>{const Se=ht._addCacheSuffix(he);Bn(r,Se).each(ze=>{--ze.count===0&&(delete r[Se],S(ze.id))})};return{load:B,loadRawCss:L,loadAll:G,unload:ae,unloadRawCss:he=>{Bn(r,he).each(Se=>{--Se.count===0&&(delete r[he],S(Se.id))})},unloadAll:he=>{Ne(he,Se=>{ae(Se)})},_setReferrerPolicy:u,_setContentCssCors:g}},qg=(()=>{const e=new WeakMap;return{forElement:(n,r)=>{const c=kc(n).dom;return V.from(e.get(c)).getOrThunk(()=>{const u=Xa(c,r);return e.set(c,u),u})}}})(),Gg=e=>e.nodeName.toLowerCase()==="span",Rd=(e,t)=>Le(e)&&(yl(t,e)||t.isInline(e.nodeName.toLowerCase())),Mm=(e,t,n)=>{const r=new Fa(e,t).prev(!1),a=new Fa(e,t).next(!1),c=Xn(r)||Rd(r,n),u=Xn(a)||Rd(a,n);return c&&u},Up=e=>Gg(e)&&e.getAttribute("data-mce-type")==="bookmark",k1=(e,t,n)=>bt(e)&&e.data.length>0&&Mm(e,t,n),_1=e=>qt(e)?e.childNodes.length>0:!1,Yv=e=>af(e)||Qd(e),db=(e,t,n,r)=>{var a;const c=r||t;if(qt(t)&&Up(t))return t;const u=t.childNodes;for(let g=u.length-1;g>=0;g--)db(e,u[g],n,c);if(qt(t)){const g=t.childNodes;g.length===1&&Up(g[0])&&((a=t.parentNode)===null||a===void 0||a.insertBefore(g[0],t))}return!Yv(t)&&!yl(n,t)&&!_1(t)&&!k1(t,c,n)&&e.remove(t),t},w1=ht.makeMap,Kg=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Yg=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Xg=/[<>&\"\']/g,Bm=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,C1={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},ic={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Nd={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Kf=e=>{const t=me.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e},ub=(e,t)=>{const n={};if(e){const r=e.split(",");t=t||10;for(let a=0;a<r.length;a+=2){const c=String.fromCharCode(parseInt(r[a],t));if(!ic[c]){const u="&"+r[a+1]+";";n[c]=u,n[u]=c}}return n}else return},Zp=ub("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),S1=(e,t)=>e.replace(t?Kg:Yg,n=>ic[n]||n),Im=e=>(""+e).replace(Xg,t=>ic[t]||t),Jg=(e,t)=>e.replace(t?Kg:Yg,n=>n.length>1?"&#"+((n.charCodeAt(0)-55296)*1024+(n.charCodeAt(1)-56320)+65536)+";":ic[n]||"&#"+n.charCodeAt(0)+";"),fb=(e,t,n)=>{const r=n||Zp;return e.replace(t?Kg:Yg,a=>ic[a]||r[a]||a)},Sc={encodeRaw:S1,encodeAllRaw:Im,encodeNumeric:Jg,encodeNamed:fb,getEncodeFunc:(e,t)=>{const n=ub(t)||Zp,r=(u,g)=>u.replace(g?Kg:Yg,v=>ic[v]!==void 0?ic[v]:n[v]!==void 0?n[v]:v.length>1?"&#"+((v.charCodeAt(0)-55296)*1024+(v.charCodeAt(1)-56320)+65536)+";":"&#"+v.charCodeAt(0)+";"),a=(u,g)=>fb(u,g,n),c=w1(e.replace(/\+/g,","));return c.named&&c.numeric?r:c.named?t?a:fb:c.numeric?Jg:S1},decode:e=>e.replace(Bm,(t,n)=>n?(n.charAt(0).toLowerCase()==="x"?n=parseInt(n.substr(1),16):n=parseInt(n,10),n>65535?(n-=65536,String.fromCharCode(55296+(n>>10),56320+(n&1023))):C1[n]||String.fromCharCode(n)):Nd[t]||Zp[t]||Kf(t))},us=(e,t)=>(e=ht.trim(e),e?e.split(t||" "):[]),dn=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),Fl=e=>le(e)&&e.source&&Object.prototype.toString.call(e)==="[object RegExp]",Pm=e=>{const t=n=>ve(n)?$o(n,t):Fl(n)?new RegExp(n.source,n.flags):le(n)?ki(n,t):n;return t(e)},Qg=e=>{const t=/^(~)?(.+)$/;return Mn(us(e,","),n=>{const r=t.exec(n);if(r){const c=r[1]==="~"?"span":"div",u=r[2];return[{cloneName:c,name:u}]}else return[]})},Br=e=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",...e!=="html4"?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate","itemprop","itemscope","itemtype"]:[],...e!=="html5-strict"?["xml:lang"]:[]]),A1=e=>{let t,n;t="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",n="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(t+=" article aside details dialog figure main header footer hgroup section nav "+"a ins del canvas map",n+=" audio canvas command data datalist mark meter output picture progress time wbr video ruby bdi keygen svg"),e!=="html5-strict"&&(n=[n,"acronym applet basefont big font strike tt"].join(" "),t=[t,"center dir isindex noframes"].join(" "));const r=[t,n].join(" ");return{blockContent:t,phrasingContent:n,flowContent:r}},mb=e=>{const{blockContent:t,phrasingContent:n,flowContent:r}=A1(e),a=c=>Object.freeze(c.split(" "));return Object.freeze({blockContent:a(t),phrasingContent:a(n),flowContent:a(r)})},Xv={html4:Ra(()=>mb("html4")),html5:Ra(()=>mb("html5")),"html5-strict":Ra(()=>mb("html5-strict"))},qr=(e,t)=>{const{blockContent:n,phrasingContent:r,flowContent:a}=Xv[e]();return t==="blocks"?V.some(n):t==="phrasing"?V.some(r):t==="flow"?V.some(a):V.none()},pb=e=>{const t=Br(e),{phrasingContent:n,flowContent:r}=A1(e),a={},c=(v,S,R)=>{a[v]={attributes:Rr(S,Ce({})),attributesOrder:S,children:Rr(R,Ce({}))}},u=(v,S="",R="")=>{const B=us(R),L=us(v);let G=L.length;const ae=[...t,...us(S)];for(;G--;)c(L[G],ae.slice(),B)},g=(v,S)=>{const R=us(v),B=us(S);let L=R.length;for(;L--;){const G=a[R[L]];for(let ae=0,J=B.length;ae<J;ae++)G.attributes[B[ae]]={},G.attributesOrder.push(B[ae])}};return e!=="html5-strict"&&(Ne(us("acronym applet basefont big font strike tt"),R=>{u(R,"",n)}),Ne(us("center dir isindex noframes"),R=>{u(R,"",r)})),u("html","manifest","head body"),u("head","","base command link meta noscript script style title"),u("title hr noscript br"),u("base","href target"),u("link","href rel media hreflang type sizes hreflang"),u("meta","name http-equiv content charset"),u("style","media type scoped"),u("script","src async defer type charset"),u("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",r),u("dd div","",r),u("address dt caption","",e==="html4"?n:r),u("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",n),u("blockquote","cite",r),u("ol","reversed start type","li"),u("ul","","li"),u("li","value",r),u("dl","","dt dd"),u("a","href target rel media hreflang type",e==="html4"?n:r),u("q","cite",n),u("ins del","cite datetime",r),u("img","src sizes srcset alt usemap ismap width height"),u("iframe","src name width height",r),u("embed","src type width height"),u("object","data type typemustmatch name usemap form width height",[r,"param"].join(" ")),u("param","name value"),u("map","name",[r,"area"].join(" ")),u("area","alt coords shape href target rel media hreflang type"),u("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),u("colgroup","span","col"),u("col","span"),u("tbody thead tfoot","","tr"),u("tr","","td th"),u("td","colspan rowspan headers",r),u("th","colspan rowspan headers scope abbr",r),u("form","accept-charset action autocomplete enctype method name novalidate target",r),u("fieldset","disabled form name",[r,"legend"].join(" ")),u("label","form for",n),u("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),u("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?r:n),u("select","disabled form multiple name required size","option optgroup"),u("optgroup","disabled label","option"),u("option","disabled label selected value"),u("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),u("menu","type label",[r,"li"].join(" ")),u("noscript","",r),e!=="html4"&&(u("wbr"),u("ruby","",[n,"rt rp"].join(" ")),u("figcaption","",r),u("mark rt rp bdi","",n),u("summary","",[n,"h1 h2 h3 h4 h5 h6"].join(" ")),u("canvas","width height",r),u("data","value",n),u("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[r,"track source"].join(" ")),u("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[r,"track source"].join(" ")),u("picture","","img source"),u("source","src srcset type media sizes"),u("track","kind src srclang label default"),u("datalist","",[n,"option"].join(" ")),u("article section nav aside main header footer","",r),u("hgroup","","h1 h2 h3 h4 h5 h6"),u("figure","",[r,"figcaption"].join(" ")),u("time","datetime",n),u("dialog","open",r),u("command","type label icon disabled checked radiogroup command"),u("output","for form name",n),u("progress","value max",n),u("meter","value min max low high optimum",n),u("details","open",[r,"summary"].join(" ")),u("keygen","autofocus challenge disabled form keytype name"),c("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),e!=="html5-strict"&&(g("script","language xml:space"),g("style","xml:space"),g("object","declare classid code codebase codetype archive standby align border hspace vspace"),g("embed","align name hspace vspace"),g("param","valuetype type"),g("a","charset name rev shape coords"),g("br","clear"),g("applet","codebase archive code object alt name width height align hspace vspace"),g("img","name longdesc align border hspace vspace"),g("iframe","longdesc frameborder marginwidth marginheight scrolling align"),g("font basefont","size color face"),g("input","usemap align"),g("select"),g("textarea"),g("h1 h2 h3 h4 h5 h6 div p legend caption","align"),g("ul","type compact"),g("li","type"),g("ol dl menu dir","compact"),g("pre","width xml:space"),g("hr","align noshade size width"),g("isindex","prompt"),g("table","summary width frame rules cellspacing cellpadding align bgcolor"),g("col","width align char charoff valign"),g("colgroup","width align char charoff valign"),g("thead","align char charoff valign"),g("tr","align char charoff valign bgcolor"),g("th","axis align char charoff valign nowrap bgcolor width height"),g("form","accept"),g("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),g("tfoot","align char charoff valign"),g("tbody","align char charoff valign"),g("area","nohref"),g("body","background bgcolor text link vlink alink")),e!=="html4"&&(g("input button select textarea","autofocus"),g("input textarea","placeholder"),g("a","download"),g("link script img","crossorigin"),g("img","loading"),g("iframe","sandbox seamless allow allowfullscreen loading referrerpolicy")),e!=="html4"&&Ne([a.video,a.audio],v=>{delete v.children.audio,delete v.children.video}),Ne(us("a form meter progress dfn"),v=>{a[v]&&delete a[v].children[v]}),delete a.caption.children.table,delete a.script,a},Hl=e=>e==="-"?"remove":"add",ru=e=>{const t=/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/;return V.from(t.exec(e)).map(n=>({preset:n[1]==="@",name:n[2]}))},Ec=e=>{const t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return Mn(us(e,","),n=>{const r=t.exec(n);if(r){const a=r[1],c=a?Hl(a):"replace",u=r[2],g=Mn(us(r[3],"|"),v=>ru(v).toArray());return[{operation:c,name:u,validChildren:g}]}else return[]})},Jv=(e,t)=>{const n=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,r=/[*?+]/,{attributes:a,attributesOrder:c}=t;return Ne(us(e,"|"),u=>{const g=n.exec(u);if(g){const v={},S=g[1],R=g[2].replace(/[\\:]:/g,":"),B=g[3],L=g[4];if(S==="!"&&(t.attributesRequired=t.attributesRequired||[],t.attributesRequired.push(R),v.required=!0),S==="-"){delete a[R],c.splice(ht.inArray(c,R),1);return}if(B&&(B==="="?(t.attributesDefault=t.attributesDefault||[],t.attributesDefault.push({name:R,value:L}),v.defaultValue=L):B==="~"?(t.attributesForced=t.attributesForced||[],t.attributesForced.push({name:R,value:L}),v.forcedValue=L):B==="<"&&(v.validValues=ht.makeMap(L,"?"))),r.test(R)){const G=v;t.attributePatterns=t.attributePatterns||[],G.pattern=dn(R),t.attributePatterns.push(G)}else a[R]||c.push(R),a[R]=v}})},Ft=(e,t)=>{To(e.attributes,(n,r)=>{t.attributes[r]=n}),t.attributesOrder.push(...e.attributesOrder)},Dw=(e,t)=>{const n=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return Mn(us(t,","),r=>{const a=n.exec(r);if(a){const c=a[1],u=a[2],g=a[3],v=a[4],S=a[5],R={attributes:{},attributesOrder:[]};if(e.each(B=>Ft(B,R)),c==="#"?R.paddEmpty=!0:c==="-"&&(R.removeEmpty=!0),v==="!"&&(R.removeEmptyAttrs=!0),S&&Jv(S,R),g&&(R.outputName=u),u==="@")if(e.isNone())e=V.some(R);else return[];return[g?{name:u,element:R,aliasName:g}:{name:u,element:R}]}else return[]})},Lm={},Fm=ht.makeMap,Ac=ht.each,eh=ht.extend,Hm=ht.explode,Yf=(e,t={})=>{const n=Fm(e," ",Fm(e.toUpperCase()," "));return eh(n,t)},z1=e=>Yf("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),Vm=(e,t)=>{if(e){const n={};return pt(e)&&(e={"*":e}),Ac(e,(r,a)=>{n[a]=n[a.toUpperCase()]=t==="map"?Fm(r,/[, ]/):Hm(r,/[, ]/)}),n}else return},Du=(e={})=>{var t;const n={},r={};let a=[];const c={},u={},g=(lo,Rn,xa)=>{const Oi=e[lo];if(Oi)return Fm(Oi,/[, ]/,Fm(Oi.toUpperCase(),/[, ]/));{let Xi=Lm[lo];return Xi||(Xi=Yf(Rn,xa),Lm[lo]=Xi),Xi}},v=(t=e.schema)!==null&&t!==void 0?t:"html5",S=pb(v);e.verify_html===!1&&(e.valid_elements="*[*]");const R=Vm(e.valid_styles),B=Vm(e.invalid_styles,"map"),L=Vm(e.valid_classes,"map"),G=g("whitespace_elements","pre script noscript style textarea video audio iframe object code"),ae=g("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),J=g("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),ie=g("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),he="td th iframe video audio object script code",Se=g("non_empty_elements",he+" pre svg textarea summary",J),ze=g("move_caret_before_on_enter_elements",he+" table",J),Me="h1 h2 h3 h4 h5 h6",Xe=g("text_block_elements",Me+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),vt=g("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing",Xe),Lt=g("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),We=g("transparent_elements","a ins del canvas map"),He=g("wrap_block_elements","pre "+Me);Ac("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),lo=>{u[lo]=new RegExp("</"+lo+"[^>]*>","gi")});const tt=lo=>{const Rn=V.from(n["@"]),xa=/[*?+]/;Ne(Dw(Rn,lo??""),({name:Oi,element:Xi,aliasName:vi})=>{if(vi&&(n[vi]=Xi),xa.test(Oi)){const Ys=Xi;Ys.pattern=dn(Oi),a.push(Ys)}else n[Oi]=Xi})},Rt=lo=>{a=[],Ne(Je(n),Rn=>{delete n[Rn]}),tt(lo)},ro=(lo,Rn)=>{var xa,Oi;delete Lm.text_block_elements,delete Lm.block_elements;const Xi=Rn.extends?!Mc(Rn.extends):!1,vi=Rn.extends;if(r[lo]=vi?r[vi]:{},c[lo]=vi??lo,Se[lo.toUpperCase()]={},Se[lo]={},Xi||(vt[lo.toUpperCase()]={},vt[lo]={}),vi&&!n[lo]&&n[vi]){const Ys=Pm(n[vi]);delete Ys.removeEmptyAttrs,delete Ys.removeEmpty,n[lo]=Ys}else n[lo]={attributesOrder:[],attributes:{}};if(ve(Rn.attributes)){const Ys=md=>{Xs.attributesOrder.push(md),Xs.attributes[md]={}},Xs=(xa=n[lo])!==null&&xa!==void 0?xa:{};delete Xs.attributesDefault,delete Xs.attributesForced,delete Xs.attributePatterns,delete Xs.attributesRequired,Xs.attributesOrder=[],Xs.attributes={},Ne(Rn.attributes,md=>{const Sm=Br(v);ru(md).each(({preset:Hg,name:Mp})=>{Hg?Mp==="global"&&Ne(Sm,Ys):Ys(Mp)})}),n[lo]=Xs}if(jr(Rn.padEmpty)){const Ys=(Oi=n[lo])!==null&&Oi!==void 0?Oi:{};Ys.paddEmpty=Rn.padEmpty,n[lo]=Ys}if(ve(Rn.children)){const Ys={},Xs=Sm=>{Ys[Sm]={}},md=Sm=>{qr(v,Sm).each(Hg=>{Ne(Hg,Xs)})};Ne(Rn.children,Sm=>{ru(Sm).each(({preset:Hg,name:Mp})=>{Hg?md(Mp):Xs(Mp)})}),r[lo]=Ys}vi&&To(r,(Ys,Xs)=>{Ys[vi]&&(r[Xs]=Ys=eh({},r[Xs]),Ys[lo]=Ys[vi])})},Go=lo=>{Ne(Qg(lo??""),({name:Rn,cloneName:xa})=>{ro(Rn,{extends:xa})})},Jo=lo=>{le(lo)?To(lo,(Rn,xa)=>ro(xa,Rn)):pt(lo)&&Go(lo)},nr=lo=>{Ne(Ec(lo??""),({operation:Rn,name:xa,validChildren:Oi})=>{const Xi=Rn==="replace"?{"#comment":{}}:r[xa],vi=Xs=>{Rn==="remove"?delete Xi[Xs]:Xi[Xs]={}},Ys=Xs=>{qr(v,Xs).each(md=>{Ne(md,vi)})};Ne(Oi,({preset:Xs,name:md})=>{Xs?Ys(md):vi(md)}),r[xa]=Xi})},Dr=lo=>{const Rn=n[lo];if(Rn)return Rn;let xa=a.length;for(;xa--;){const Oi=a[xa];if(Oi.pattern.test(lo))return Oi}},za=()=>{e.valid_elements?(Rt(e.valid_elements),Ac(S,(lo,Rn)=>{r[Rn]=lo.children})):(Ac(S,(lo,Rn)=>{n[Rn]={attributes:lo.attributes,attributesOrder:lo.attributesOrder},r[Rn]=lo.children}),Ac(us("strong/b em/i"),lo=>{const Rn=us(lo,"/");n[Rn[1]].outputName=Rn[0]}),Ac(Lt,(lo,Rn)=>{n[Rn]&&(e.padd_empty_block_inline_children&&(n[Rn].paddInEmptyBlock=!0),n[Rn].removeEmpty=!0)}),Ac(us("ol ul blockquote a table tbody"),lo=>{n[lo]&&(n[lo].removeEmpty=!0)}),Ac(us("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),lo=>{n[lo]&&(n[lo].paddEmpty=!0)}),Ac(us("span"),lo=>{n[lo].removeEmptyAttrs=!0})),delete n.svg,Jo(e.custom_elements),nr(e.valid_children),tt(e.extended_valid_elements),nr("+ol[ul|ol],+ul[ul|ol]"),Ac({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(lo,Rn)=>{n[Rn]&&(n[Rn].parentsRequired=us(lo))}),e.invalid_elements&&Ac(Hm(e.invalid_elements),lo=>{n[lo]&&delete n[lo]}),Dr("span")||tt("span[!data-mce-type|*]")},Ki=Ce(R),Yi=Ce(B),At=Ce(L),so=Ce(ie),Yn=Ce(vt),Pt=Ce(Xe),at=Ce(Lt),Dt=Ce(Object.seal(J)),zo=Ce(ae),Hr=Ce(Se),mn=Ce(ze),El=Ce(G),$f=Ce(We),Fg=Ce(He),ud=Ce(Object.seal(u)),Cm=(lo,Rn)=>{const xa=r[lo.toLowerCase()];return!!(xa&&xa[Rn.toLowerCase()])},Gu=(lo,Rn)=>{const xa=Dr(lo);if(xa)if(Rn){if(xa.attributes[Rn])return!0;const Oi=xa.attributePatterns;if(Oi){let Xi=Oi.length;for(;Xi--;)if(Oi[Xi].pattern.test(Rn))return!0}}else return!0;return!1},Mc=lo=>go(Yn(),lo),fd=lo=>!ir(lo,"#")&&Gu(lo)&&!Mc(lo),jf=lo=>go(Fg(),lo)||fd(lo),b1=Ce(c);return za(),{type:v,children:r,elements:n,getValidStyles:Ki,getValidClasses:At,getBlockElements:Yn,getInvalidStyles:Yi,getVoidElements:Dt,getTextBlockElements:Pt,getTextInlineElements:at,getBoolAttrs:so,getElementRule:Dr,getSelfClosingElements:zo,getNonEmptyElements:Hr,getMoveCaretBeforeOnEnterElements:mn,getWhitespaceElements:El,getTransparentElements:$f,getSpecialElements:ud,isValidChild:Cm,isValid:Gu,isBlock:Mc,isInline:fd,isWrapper:jf,getCustomElements:b1,addValidElements:tt,setValidElements:Rt,addCustomElements:Jo,addValidChildren:nr}},$m=e=>({value:Qv(e)}),Qv=e=>ai(e,"#").toUpperCase(),gb=e=>{const t=e.toString(16);return(t.length===1?"0"+t:t).toUpperCase()},hb=e=>{const t=gb(e.red)+gb(e.green)+gb(e.blue);return $m(t)},T1=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,bb=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,Rw=(e,t,n,r)=>({red:e,green:t,blue:n,alpha:r}),ex=(e,t,n,r)=>{const a=parseInt(e,10),c=parseInt(t,10),u=parseInt(n,10),g=parseFloat(r);return Rw(a,c,u,g)},Nw=e=>T1.test(e)?"rgb":bb.test(e)?"rgba":"other",tx=e=>{const t=T1.exec(e);if(t!==null)return V.some(ex(t[1],t[2],t[3],"1"));const n=bb.exec(e);return n!==null?V.some(ex(n[1],n[2],n[3],n[4])):V.none()},jm=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,th=e=>tx(e).map(hb).map(t=>"#"+t.value).getOr(e),O1=(e={},t)=>{const n=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,r=/\s*([^:]+):\s*([^;]+);?/g,a=/\s+$/,c={};let u,g;const v=wc;t&&(u=t.getValidStyles(),g=t.getInvalidStyles());const S=(`\\" \\' \\; \\: ; : `+v).split(" ");for(let B=0;B<S.length;B++)c[S[B]]=v+B,c[v+B]=S[B];const R={parse:B=>{const L={};let G=!1;const ae=e.url_converter,J=e.url_converter_scope||R,ie=(We,He,tt)=>{const Rt=L[We+"-top"+He];if(!Rt)return;const ro=L[We+"-right"+He];if(!ro)return;const Go=L[We+"-bottom"+He];if(!Go)return;const Jo=L[We+"-left"+He];if(!Jo)return;const nr=[Rt,ro,Go,Jo];let Dr=nr.length-1;for(;Dr--&&nr[Dr]===nr[Dr+1];);Dr>-1&&tt||(L[We+He]=Dr===-1?nr[0]:nr.join(" "),delete L[We+"-top"+He],delete L[We+"-right"+He],delete L[We+"-bottom"+He],delete L[We+"-left"+He])},he=We=>{const He=L[We];if(!He)return;const tt=He.indexOf(",")>-1?[He]:He.split(" ");let Rt=tt.length;for(;Rt--;)if(tt[Rt]!==tt[0])return!1;return L[We]=tt[0],!0},Se=(We,He,tt,Rt)=>{he(He)&&he(tt)&&he(Rt)&&(L[We]=L[He]+" "+L[tt]+" "+L[Rt],delete L[He],delete L[tt],delete L[Rt])},ze=We=>(G=!0,c[We]),Me=(We,He)=>(G&&(We=We.replace(/\uFEFF[0-9]/g,tt=>c[tt])),He||(We=We.replace(/\\([\'\";:])/g,"$1")),We),Xe=We=>String.fromCharCode(parseInt(We.slice(1),16)),vt=We=>We.replace(/\\[0-9a-f]+/gi,Xe),Lt=(We,He,tt,Rt,ro,Go)=>{if(ro=ro||Go,ro)return ro=Me(ro),"'"+ro.replace(/\'/g,"\\'")+"'";if(He=Me(He||tt||Rt||""),!e.allow_script_urls){const Jo=He.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(Jo)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(Jo))return""}return ae&&(He=ae.call(J,He,"style")),"url('"+He.replace(/\'/g,"\\'")+"')"};if(B){B=B.replace(/[\u0000-\u001F]/g,""),B=B.replace(/\\[\"\';:\uFEFF]/g,ze).replace(/\"[^\"]+\"|\'[^\']+\'/g,He=>He.replace(/[;:]/g,ze));let We;for(;We=r.exec(B);){r.lastIndex=We.index+We[0].length;let He=We[1].replace(a,"").toLowerCase(),tt=We[2].replace(a,"");if(He&&tt){if(He=vt(He),tt=vt(tt),He.indexOf(v)!==-1||He.indexOf('"')!==-1||!e.allow_script_urls&&(He==="behavior"||/expression\s*\(|\/\*|\*\//.test(tt)))continue;He==="font-weight"&&tt==="700"?tt="bold":(He==="color"||He==="background-color")&&(tt=tt.toLowerCase()),Nw(tt)==="rgb"&&tx(tt).each(Rt=>{tt=th(jm(Rt)).toLowerCase()}),tt=tt.replace(n,Lt),L[He]=G?Me(tt,!0):tt}}ie("border","",!0),ie("border","-width"),ie("border","-color"),ie("border","-style"),ie("padding",""),ie("margin",""),Se("border","border-width","border-style","border-color"),L.border==="medium none"&&delete L.border,L["border-image"]==="none"&&delete L["border-image"]}return L},serialize:(B,L)=>{let G="";const ae=(ie,he)=>{const Se=he[ie];if(Se)for(let ze=0,Me=Se.length;ze<Me;ze++){const Xe=Se[ze],vt=B[Xe];vt&&(G+=(G.length>0?" ":"")+Xe+": "+vt+";")}},J=(ie,he)=>{if(!g||!he)return!0;let Se=g["*"];return Se&&Se[ie]?!1:(Se=g[he],!(Se&&Se[ie]))};return L&&u?(ae("*",u),ae(L,u)):To(B,(ie,he)=>{ie&&J(he,L)&&(G+=(G.length>0?" ":"")+he+": "+ie+";")}),G}};return R},df={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},Um=e=>e instanceof Event||It(e.initEvent),ox=e=>e.isDefaultPrevented===Co||e.isDefaultPrevented===an,nx=e=>Ro(e.preventDefault)||Um(e),D1=(e,t)=>{const n=t??{};for(const r in e)go(df,r)||(n[r]=e[r]);return Le(e.composedPath)&&(n.composedPath=()=>e.composedPath()),Le(e.getModifierState)&&(n.getModifierState=r=>e.getModifierState(r)),Le(e.getTargetRanges)&&(n.getTargetRanges=()=>e.getTargetRanges()),n},yb=(e,t,n,r)=>{var a;const c=D1(t,r);return c.type=e,Ro(c.target)&&(c.target=(a=c.srcElement)!==null&&a!==void 0?a:n),nx(t)&&(c.preventDefault=()=>{c.defaultPrevented=!0,c.isDefaultPrevented=Co,It(t.preventDefault)&&t.preventDefault()},c.stopPropagation=()=>{c.cancelBubble=!0,c.isPropagationStopped=Co,It(t.stopPropagation)&&t.stopPropagation()},c.stopImmediatePropagation=()=>{c.isImmediatePropagationStopped=Co,c.stopPropagation()},ox(c)||(c.isDefaultPrevented=c.defaultPrevented===!0?Co:an,c.isPropagationStopped=c.cancelBubble===!0?Co:an,c.isImmediatePropagationStopped=an)),c},Mw="mce-data-",Bw=/^(?:mouse|contextmenu)|click/,R1=(e,t,n,r)=>{e.addEventListener(t,n,r||!1)},Ir=(e,t,n,r)=>{e.removeEventListener(t,n,r||!1)},rx=e=>Le(e)&&Bw.test(e.type),Wp=(e,t)=>{const n=yb(e.type,e,document,t);if(rx(e)&&Xn(e.pageX)&&!Xn(e.clientX)){const r=n.target.ownerDocument||document,a=r.documentElement,c=r.body,u=n;u.pageX=e.clientX+(a&&a.scrollLeft||c&&c.scrollLeft||0)-(a&&a.clientLeft||c&&c.clientLeft||0),u.pageY=e.clientY+(a&&a.scrollTop||c&&c.scrollTop||0)-(a&&a.clientTop||c&&c.clientTop||0)}return n},vb=(e,t,n)=>{const r=e.document,a={type:"ready"};if(n.domLoaded){t(a);return}const c=()=>r.readyState==="complete"||r.readyState==="interactive"&&r.body,u=()=>{Ir(e,"DOMContentLoaded",u),Ir(e,"load",u),n.domLoaded||(n.domLoaded=!0,t(a)),e=null};c()?u():R1(e,"DOMContentLoaded",u),n.domLoaded||R1(e,"load",u)};class bs{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=Mw+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(t,n,r,a){const c=this;let u;const g=window,v=L=>{c.executeHandlers(Wp(L||g.event),S)};if(!t||bt(t)||Fi(t))return r;let S;t[c.expando]?S=t[c.expando]:(S=c.count++,t[c.expando]=S,c.events[S]={}),a=a||t;const R=n.split(" ");let B=R.length;for(;B--;){let L=R[B],G=v,ae=!1,J=!1;if(L==="DOMContentLoaded"&&(L="ready"),c.domLoaded&&L==="ready"&&t.readyState==="complete"){r.call(a,Wp({type:L}));continue}!c.hasFocusIn&&(L==="focusin"||L==="focusout")&&(ae=!0,J=L==="focusin"?"focus":"blur",G=ie=>{const he=Wp(ie||g.event);he.type=he.type==="focus"?"focusin":"focusout",c.executeHandlers(he,S)}),u=c.events[S][L],u?L==="ready"&&c.domLoaded?r(Wp({type:L})):u.push({func:r,scope:a}):(c.events[S][L]=u=[{func:r,scope:a}],u.fakeName=J,u.capture=ae,u.nativeHandler=G,L==="ready"?vb(t,G,c):R1(t,J||L,G,ae))}return t=u=null,r}unbind(t,n,r){if(!t||bt(t)||Fi(t))return this;const a=t[this.expando];if(a){let c=this.events[a];if(n){const u=n.split(" ");let g=u.length;for(;g--;){const v=u[g],S=c[v];if(S){if(r){let R=S.length;for(;R--;)if(S[R].func===r){const B=S.nativeHandler,L=S.fakeName,G=S.capture,ae=S.slice(0,R).concat(S.slice(R+1));ae.nativeHandler=B,ae.fakeName=L,ae.capture=G,c[v]=ae}}(!r||S.length===0)&&(delete c[v],Ir(t,S.fakeName||v,S.nativeHandler,S.capture))}}}else To(c,(u,g)=>{Ir(t,u.fakeName||g,u.nativeHandler,u.capture)}),c={};for(const u in c)if(go(c,u))return this;delete this.events[a];try{delete t[this.expando]}catch{t[this.expando]=null}}return this}fire(t,n,r){return this.dispatch(t,n,r)}dispatch(t,n,r){if(!t||bt(t)||Fi(t))return this;const a=Wp({type:n,target:t},r);do{const c=t[this.expando];c&&this.executeHandlers(a,c),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!a.isPropagationStopped());return this}clean(t){if(!t||bt(t)||Fi(t))return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName){this.unbind(t);const n=t.getElementsByTagName("*");let r=n.length;for(;r--;)t=n[r],t[this.expando]&&this.unbind(t)}return this}destroy(){this.events={}}cancel(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1}executeHandlers(t,n){const r=this.events[n],a=r&&r[t.type];if(a)for(let c=0,u=a.length;c<u;c++){const g=a[c];if(g&&g.func.call(g.scope,t)===!1&&t.preventDefault(),t.isImmediatePropagationStopped())return}}}bs.Event=new bs;const Vi=ht.each,Ja=ht.grep,xb="data-mce-style",N1=ht.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),qp=(e,t,n)=>{Ro(n)||n===""?Dn(e,t):In(e,t,n)},kb=e=>e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),Xf=(e,t)=>{let n=0;if(e)for(let r=e.nodeType,a=e.previousSibling;a;a=a.previousSibling){const c=a.nodeType;t&&bt(a)&&(c===r||!a.data.length)||(n++,r=c)}return n},Vl=(e,t)=>{const n=Ia(t,"style"),r=e.serialize(e.parse(n),cn(t));qp(t,xb,r)},sx=(e,t)=>T(e)?go(N1,t)?e+"":e+"px":e,Ru=(e,t,n)=>{const r=kb(t);Ro(n)||n===""?fi(e,r):ml(e,r,sx(n,r))},Pr=(e,t,n)=>{const r=t.keep_values,a={set:(u,g,v)=>{const S=me.fromDom(u);It(t.url_converter)&&Le(g)&&(g=t.url_converter.call(t.url_converter_scope||n(),String(g),v,u));const R="data-mce-"+v;qp(S,R,g),qp(S,v,g)},get:(u,g)=>{const v=me.fromDom(u);return Ia(v,"data-mce-"+g)||Ia(v,g)}},c={style:{set:(u,g)=>{const v=me.fromDom(u);r&&qp(v,xb,g),Dn(v,"style"),pt(g)&&Nl(v,e.parse(g))},get:u=>{const g=me.fromDom(u),v=Ia(g,xb)||Ia(g,"style");return e.serialize(e.parse(v),cn(g))}}};return r&&(c.href=c.src=a),c},qn=(e,t={})=>{const n={},r=window,a={};let c=0;const u=!0,g=!0,v=qg.forElement(me.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),S=[],R=t.schema?t.schema:Du({}),B=O1({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),L=t.ownEvents?new bs:bs.Event,G=R.getBlockElements(),ae=Re=>pt(Re)?go(G,Re):qt(Re)&&(go(G,Re.nodeName)||ba(R,Re)),J=Re=>Re&&e&&pt(Re)?e.getElementById(Re):Re,ie=Re=>{const Be=J(Re);return Le(Be)?me.fromDom(Be):null},he=(Re,Be,Et="")=>{let kt;const vo=ie(Re);if(Le(vo)&&Ei(vo)){const $n=MD[Be];$n&&$n.get?kt=$n.get(vo.dom,Be):kt=Ia(vo,Be)}return Le(kt)?kt:Et},Se=Re=>{const Be=J(Re);return Ro(Be)?[]:Be.attributes},ze=(Re,Be,Et)=>{so(Re,kt=>{if(qt(kt)){const vo=me.fromDom(kt),$n=Et===""?null:Et,ka=Ia(vo,Be),Bp=MD[Be];Bp&&Bp.set?Bp.set(vo.dom,$n,Be):qp(vo,Be,$n),ka!==$n&&t.onSetAttrib&&t.onSetAttrib({attrElm:vo.dom,attrName:Be,attrValue:$n})}})},Me=(Re,Be)=>Re.cloneNode(Be),Xe=()=>t.root_element||e.body,vt=Re=>{const Be=_c(Re);return{x:Be.x,y:Be.y,w:Be.width,h:Be.height}},Lt=(Re,Be)=>ds(e.body,J(Re),Be),We=(Re,Be,Et)=>{so(Re,kt=>{const vo=me.fromDom(kt);Ru(vo,Be,Et),t.update_styles&&Vl(B,vo)})},He=(Re,Be)=>{so(Re,Et=>{const kt=me.fromDom(Et);To(Be,(vo,$n)=>{Ru(kt,$n,vo)}),t.update_styles&&Vl(B,kt)})},tt=(Re,Be,Et)=>{const kt=J(Re);if(!(Ro(kt)||!Pl(kt)&&!Yc(kt)))return Et?er(me.fromDom(kt),kb(Be)):(Be=Be.replace(/-(\D)/g,(vo,$n)=>$n.toUpperCase()),Be==="float"&&(Be="cssFloat"),kt.style?kt.style[Be]:void 0)},Rt=Re=>{const Be=J(Re);if(!Be)return{w:0,h:0};let Et=tt(Be,"width"),kt=tt(Be,"height");return(!Et||Et.indexOf("px")===-1)&&(Et="0"),(!kt||kt.indexOf("px")===-1)&&(kt="0"),{w:parseInt(Et,10)||Be.offsetWidth||Be.clientWidth,h:parseInt(kt,10)||Be.offsetHeight||Be.clientHeight}},ro=Re=>{const Be=J(Re),Et=Lt(Be),kt=Rt(Be);return{x:Et.x,y:Et.y,w:kt.w,h:kt.h}},Go=(Re,Be)=>{if(!Re)return!1;const Et=ve(Re)?Re:[Re];return zn(Et,kt=>Hn(me.fromDom(kt),Be))},Jo=(Re,Be,Et,kt)=>{const vo=[];let $n=J(Re);kt=kt===void 0;const ka=Et||(Xe().nodeName!=="BODY"?Xe().parentNode:null);if(pt(Be))if(Be==="*")Be=qt;else{const Bp=Be;Be=Am=>Go(Am,Bp)}for(;$n&&!($n===ka||Ro($n.nodeType)||Qd($n)||af($n));){if(!Be||Be($n))if(kt)vo.push($n);else return[$n];$n=$n.parentNode}return kt?vo:null},nr=(Re,Be,Et)=>{const kt=Jo(Re,Be,Et,!1);return kt&&kt.length>0?kt[0]:null},Dr=(Re,Be,Et)=>{let kt=Be;if(Re){pt(Be)&&(kt=vo=>Go(vo,Be));for(let vo=Re[Et];vo;vo=vo[Et])if(It(kt)&&kt(vo))return vo}return null},za=(Re,Be)=>Dr(Re,Be,"nextSibling"),Ki=(Re,Be)=>Dr(Re,Be,"previousSibling"),Yi=Re=>It(Re.querySelectorAll),At=(Re,Be)=>{var Et,kt;const vo=(kt=(Et=J(Be))!==null&&Et!==void 0?Et:t.root_element)!==null&&kt!==void 0?kt:e;return Yi(vo)?Mo(vo.querySelectorAll(Re)):[]},so=function(Re,Be,Et){const kt=Et??this;if(ve(Re)){const vo=[];return Vi(Re,($n,ka)=>{const Bp=J($n);Bp&&vo.push(Be.call(kt,Bp,ka))}),vo}else{const vo=J(Re);return vo?Be.call(kt,vo):!1}},Yn=(Re,Be)=>{so(Re,Et=>{To(Be,(kt,vo)=>{ze(Et,vo,kt)})})},Pt=(Re,Be)=>{so(Re,Et=>{const kt=me.fromDom(Et);Bl(kt,Be)})},at=(Re,Be,Et,kt,vo)=>so(Re,$n=>{const ka=pt(Be)?e.createElement(Be):Be;return Le(Et)&&Yn(ka,Et),kt&&(!pt(kt)&&kt.nodeType?ka.appendChild(kt):pt(kt)&&Pt(ka,kt)),vo?ka:$n.appendChild(ka)}),Dt=(Re,Be,Et)=>at(e.createElement(Re),Re,Be,Et,!0),zo=Sc.decode,Hr=Sc.encodeAllRaw,mn=(Re,Be,Et="")=>{let kt="<"+Re;for(const vo in Be)Oa(Be,vo)&&(kt+=" "+vo+'="'+Hr(Be[vo])+'"');return Ci(Et)&&go(R.getVoidElements(),Re)?kt+" />":kt+">"+Et+"</"+Re+">"},El=Re=>{const Be=e.createElement("div"),Et=e.createDocumentFragment();Et.appendChild(Be),Re&&(Be.innerHTML=Re);let kt;for(;kt=Be.firstChild;)Et.appendChild(kt);return Et.removeChild(Be),Et},$f=(Re,Be)=>so(Re,Et=>{const kt=me.fromDom(Et);return Be&&Ne(qa(kt),vo=>{Qs(vo)&&vo.dom.length===0?_n(vo):is(kt,vo)}),_n(kt),kt.dom}),Fg=Re=>so(Re,Be=>{const Et=Be.attributes;for(let kt=Et.length-1;kt>=0;kt--)Be.removeAttributeNode(Et.item(kt))}),ud=Re=>B.parse(Re),Cm=(Re,Be)=>B.serialize(Re,Be),Gu=Re=>{if(v1!==qn.DOM&&e===document){if(n[Re])return;n[Re]=!0}let Be=e.getElementById("mceDefaultStyles");if(!Be){Be=e.createElement("style"),Be.id="mceDefaultStyles",Be.type="text/css";const Et=e.head;Et.firstChild?Et.insertBefore(Be,Et.firstChild):Et.appendChild(Be)}Be.styleSheet?Be.styleSheet.cssText+=Re:Be.appendChild(e.createTextNode(Re))},Mc=Re=>{Re||(Re=""),Ne(Re.split(","),Be=>{a[Be]=!0,v.load(Be).catch(Qt)})},fd=(Re,Be,Et)=>{so(Re,kt=>{if(qt(kt)){const vo=me.fromDom(kt),$n=Be.split(" ");Ne($n,ka=>{Le(Et)?(Et?vc:Pa)(vo,ka):Xu(vo,ka)})}})},jf=(Re,Be)=>{fd(Re,Be,!0)},b1=(Re,Be)=>{fd(Re,Be,!1)},lo=(Re,Be)=>{const Et=ie(Re),kt=Be.split(" ");return Le(Et)&&wr(kt,vo=>hu(Et,vo))},Rn=Re=>{so(Re,Be=>fi(me.fromDom(Be),"display"))},xa=Re=>{so(Re,Be=>ml(me.fromDom(Be),"display","none"))},Oi=Re=>{const Be=ie(Re);return Le(Be)&&Bi(Ya(Be,"display"),"none")},Xi=Re=>(Re||"mce_")+c++,vi=Re=>{const Be=ie(Re);return Le(Be)?qt(Be.dom)?Be.dom.outerHTML:Zf(Be):""},Ys=(Re,Be)=>{so(Re,Et=>{qt(Et)&&(Et.outerHTML=Be)})},Xs=(Re,Be)=>{const Et=J(Be);return so(Re,kt=>{const vo=Et==null?void 0:Et.parentNode,$n=Et==null?void 0:Et.nextSibling;return vo&&($n?vo.insertBefore(kt,$n):vo.appendChild(kt)),kt})},md=(Re,Be,Et)=>so(Be,kt=>{var vo;const $n=ve(Be)?Re.cloneNode(!0):Re;return Et&&Vi(Ja(kt.childNodes),ka=>{$n.appendChild(ka)}),(vo=kt.parentNode)===null||vo===void 0||vo.replaceChild($n,kt),kt}),Sm=(Re,Be)=>{if(Re.nodeName!==Be.toUpperCase()){const Et=Dt(Be);return Vi(Se(Re),kt=>{ze(Et,kt.nodeName,he(Re,kt.nodeName))}),md(Et,Re,!0),Et}else return Re},Hg=(Re,Be)=>{let Et=Re;for(;Et;){let kt=Be;for(;kt&&Et!==kt;)kt=kt.parentNode;if(Et===kt)break;Et=Et.parentNode}return!Et&&Re.ownerDocument?Re.ownerDocument.documentElement:Et},Mp=(Re,Be,Et)=>Tt(Be)?ac(R,Re,{...Et,isContent:vo=>{const $n=vo.nodeName.toLowerCase();return!!Be[$n]}}):ac(R,Re,Et),Ew=()=>e.createRange(),Aw=(Re,Be,Et)=>{let kt=Ew(),vo,$n;if(Re&&Be&&Re.parentNode&&Be.parentNode){const ka=Re.parentNode;return kt.setStart(ka,Xf(Re)),kt.setEnd(Be.parentNode,Xf(Be)),vo=kt.extractContents(),kt=Ew(),kt.setStart(Be.parentNode,Xf(Be)+1),kt.setEnd(ka,Xf(Re)+1),$n=kt.extractContents(),ka.insertBefore(db(v1,vo,R),Re),Et?ka.insertBefore(Et,Re):ka.insertBefore(Be,Re),ka.insertBefore(db(v1,$n,R),Re),$f(Re),Et||Be}else return},Kv=(Re,Be,Et,kt)=>{if(ve(Re)){let vo=Re.length;const $n=[];for(;vo--;)$n[vo]=Kv(Re[vo],Be,Et,kt);return $n}else return t.collect&&(Re===e||Re===r)&&S.push([Re,Be,Et,kt]),L.bind(Re,Be,Et,kt||v1)},Em=(Re,Be,Et)=>{if(ve(Re)){let kt=Re.length;const vo=[];for(;kt--;)vo[kt]=Em(Re[kt],Be,Et);return vo}else{if(S.length>0&&(Re===e||Re===r)){let kt=S.length;for(;kt--;){const[vo,$n,ka]=S[kt];Re===vo&&(!Be||Be===$n)&&(!Et||Et===ka)&&L.unbind(vo,$n,ka)}}return L.unbind(Re,Be,Et)}},y1=(Re,Be,Et)=>L.dispatch(Re,Be,Et),N4=(Re,Be,Et)=>L.dispatch(Re,Be,Et),zw=Re=>{if(Re&&Pl(Re)){const Be=Re.getAttribute("data-mce-contenteditable");return Be&&Be!=="inherit"?Be:Re.contentEditable!=="inherit"?Re.contentEditable:null}else return null},v1={doc:e,settings:t,win:r,files:a,stdMode:u,boxModel:g,styleSheetLoader:v,boundEvents:S,styles:B,schema:R,events:L,isBlock:ae,root:null,clone:Me,getRoot:Xe,getViewPort:vt,getRect:ro,getSize:Rt,getParent:nr,getParents:Jo,get:J,getNext:za,getPrev:Ki,select:At,is:Go,add:at,create:Dt,createHTML:mn,createFragment:El,remove:$f,setStyle:We,getStyle:tt,setStyles:He,removeAllAttribs:Fg,setAttrib:ze,setAttribs:Yn,getAttrib:he,getPos:Lt,parseStyle:ud,serializeStyle:Cm,addStyle:Gu,loadCSS:Mc,addClass:jf,removeClass:b1,hasClass:lo,toggleClass:fd,show:Rn,hide:xa,isHidden:Oi,uniqueId:Xi,setHTML:Pt,getOuterHTML:vi,setOuterHTML:Ys,decode:zo,encode:Hr,insertAfter:Xs,replace:md,rename:Sm,findCommonAncestor:Hg,run:so,getAttribs:Se,isEmpty:Mp,createRng:Ew,nodeIndex:Xf,split:Aw,bind:Kv,unbind:Em,fire:N4,dispatch:y1,getContentEditable:zw,getContentEditableParent:Re=>{const Be=Xe();let Et=null;for(let kt=Re;kt&&kt!==Be&&(Et=zw(kt),Et===null);kt=kt.parentNode);return Et},isEditable:Re=>{if(Le(Re)){const Be=qt(Re)?Re:Re.parentElement;return Le(Be)&&Pl(Be)&&ga(me.fromDom(Be))}else return!1},destroy:()=>{if(S.length>0){let Re=S.length;for(;Re--;){const[Be,Et,kt]=S[Re];L.unbind(Be,Et,kt)}}To(a,(Re,Be)=>{v.unload(Be),delete a[Be]})},isChildOf:(Re,Be)=>Re===Be||Be.contains(Re),dumpRng:Re=>"startContainer: "+Re.startContainer.nodeName+", startOffset: "+Re.startOffset+", endContainer: "+Re.endContainer.nodeName+", endOffset: "+Re.endOffset},MD=Pr(B,t,Ce(v1));return v1};qn.DOM=qn(document),qn.nodeIndex=Xf;const oh=qn.DOM,ax=0,Zm=1,ya=2,Nu=3;class ed{constructor(t={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=t}_setReferrerPolicy(t){this.settings.referrerPolicy=t}loadScript(t){return new Promise((n,r)=>{const a=oh;let c;const u=()=>{a.remove(S),c&&(c.onerror=c.onload=c=null)},g=()=>{u(),n()},v=()=>{u(),r("Failed to load script: "+t)},S=a.uniqueId();c=document.createElement("script"),c.id=S,c.type="text/javascript",c.src=ht._addCacheSuffix(t),this.settings.referrerPolicy&&a.setAttrib(c,"referrerpolicy",this.settings.referrerPolicy),c.onload=g,c.onerror=v,(document.getElementsByTagName("head")[0]||document.body).appendChild(c)})}isDone(t){return this.states[t]===ya}markDone(t){this.states[t]=ya}add(t){const n=this;return n.queue.push(t),n.states[t]===void 0&&(n.states[t]=ax),new Promise((a,c)=>{n.scriptLoadedCallbacks[t]||(n.scriptLoadedCallbacks[t]=[]),n.scriptLoadedCallbacks[t].push({resolve:a,reject:c})})}load(t){return this.add(t)}remove(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]}loadQueue(){const t=this.queue;return this.queue=[],this.loadScripts(t)}loadScripts(t){const n=this,r=(v,S)=>{Bn(n.scriptLoadedCallbacks,S).each(R=>{Ne(R,B=>B[v](S))}),delete n.scriptLoadedCallbacks[S]},a=v=>{const S=Ye(v,R=>R.status==="rejected");return S.length>0?Promise.reject(Mn(S,({reason:R})=>ve(R)?R:[R])):Promise.resolve()},c=v=>Promise.allSettled($o(v,S=>n.states[S]===ya?(r("resolve",S),Promise.resolve()):n.states[S]===Nu?(r("reject",S),Promise.reject(S)):(n.states[S]=Zm,n.loadScript(S).then(()=>{n.states[S]=ya,r("resolve",S);const R=n.queue;return R.length>0?(n.queue=[],c(R).then(a)):Promise.resolve()},()=>(n.states[S]=Nu,r("reject",S),Promise.reject(S)))))),u=v=>(n.loading=!0,c(v).then(S=>{n.loading=!1;const R=n.queueLoadedCallbacks.shift();return V.from(R).each(gn),a(S)})),g=Xl(t);return n.loading?new Promise((v,S)=>{n.queueLoadedCallbacks.push(()=>{u(g).then(v,S)})}):u(g)}}ed.ScriptLoader=new ed;const _b=(e,t)=>{const n=e.indexOf(t);return n!==-1&&e.indexOf(t,n+1)>n},Wm=e=>le(e)&&go(e,"raw"),qm=e=>ve(e)&&e.length>1,Jf={},nh=yr("en"),M1=()=>Bn(Jf,nh.get()),zc={getData:()=>ki(Jf,e=>({...e})),setCode:e=>{e&&nh.set(e)},getCode:()=>nh.get(),add:(e,t)=>{let n=Jf[e];n||(Jf[e]=n={});const r=$o(Je(t),a=>a.toLowerCase());To(t,(a,c)=>{const u=c.toLowerCase();u!==c&&_b(r,u)?(go(t,u)||(n[u]=a),n[c]=a):n[u]=a})},translate:e=>{const t=M1().getOr({}),n=u=>It(u)?Object.prototype.toString.call(u):r(u)?"":""+u,r=u=>u===""||u===null||u===void 0,a=u=>{const g=n(u);return go(t,g)?n(t[g]):Bn(t,g.toLowerCase()).map(n).getOr(g)},c=u=>u.replace(/{context:\w+}$/,"");if(r(e))return"";if(Wm(e))return n(e.raw);if(qm(e)){const u=e.slice(1),g=a(e[0]).replace(/\{([0-9]+)\}/g,(v,S)=>go(u,S)?n(u[S]):v);return c(g)}return c(a(e))},isRtl:()=>M1().bind(e=>Bn(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>go(Jf,e)},zi=()=>{const e=[],t={},n={},r=[],a=(J,ie)=>{const he=Ye(r,Se=>Se.name===J&&Se.state===ie);Ne(he,Se=>Se.resolve())},c=J=>go(t,J),u=J=>go(n,J),g=J=>{if(n[J])return n[J].instance},v=(J,ie)=>{const he=zc.getCode(),Se=","+(ie||"")+",";!he||ie&&Se.indexOf(","+he+",")===-1||ed.ScriptLoader.add(t[J]+"/langs/"+he+".js")},S=(J,ie)=>{zi.languageLoad!==!1&&(c(J)?v(J,ie):ae(J,"loaded").then(()=>v(J,ie)))},R=(J,ie)=>(e.push(ie),n[J]={instance:ie},a(J,"added"),ie),B=J=>{delete t[J],delete n[J]},L=(J,ie)=>pt(ie)?pt(J)?{prefix:"",resource:ie,suffix:""}:{prefix:J.prefix,resource:ie,suffix:J.suffix}:ie,G=(J,ie)=>{if(t[J])return Promise.resolve();let he=pt(ie)?ie:ie.prefix+ie.resource+ie.suffix;he.indexOf("/")!==0&&he.indexOf("://")===-1&&(he=zi.baseURL+"/"+he),t[J]=he.substring(0,he.lastIndexOf("/"));const Se=()=>(a(J,"loaded"),Promise.resolve());return n[J]?Se():ed.ScriptLoader.add(he).then(Se)},ae=(J,ie="added")=>ie==="added"&&u(J)||ie==="loaded"&&c(J)?Promise.resolve():new Promise(he=>{r.push({name:J,state:ie,resolve:he})});return{items:e,urls:t,lookup:n,get:g,requireLangPack:S,add:R,remove:B,createUrl:L,load:G,waitFor:ae}};zi.languageLoad=!0,zi.baseURL="",zi.PluginManager=zi(),zi.ThemeManager=zi(),zi.ModelManager=zi();const Hs=(e,t)=>{let n=null;return{cancel:()=>{lt(n)||(clearTimeout(n),n=null)},throttle:(...c)=>{lt(n)&&(n=setTimeout(()=>{n=null,e.apply(null,c)},t))}}},qs=(e,t)=>{let n=null;const r=()=>{lt(n)||(clearTimeout(n),n=null)};return{cancel:r,throttle:(...c)=>{r(),n=setTimeout(()=>{n=null,e.apply(null,c)},t)}}},hi=(e,t,n)=>qc(e,t,n).isSome(),Sa=Ce("mce-annotation"),As=Ce("data-mce-annotation"),xs=Ce("data-mce-annotation-uid"),Km=Ce("data-mce-annotation-active"),uf=Ce("data-mce-annotation-classes"),Gp=Ce("data-mce-annotation-attrs"),rh=e=>t=>rn(t,e),ji=(e,t)=>{const n=e.selection.getRng(),r=me.fromDom(n.startContainer),a=me.fromDom(e.getBody()),c=t.fold(()=>"."+Sa(),v=>`[${As()}="${v}"]`),u=Zc(r,n.startOffset).getOr(r);return oa(u,c,rh(a)).bind(v=>$s(v,`${xs()}`).bind(S=>$s(v,`${As()}`).map(R=>{const B=Eb(e,S);return{uid:S,name:R,elements:B}})))},Ym=e=>Ei(e)&&hu(e,Sa()),Sb=(e,t)=>ll(e,"data-mce-bogus")||hi(e,'[data-mce-bogus="all"]',rh(t)),Eb=(e,t)=>{const n=me.fromDom(e.getBody()),r=Cs(n,`[${xs()}="${t}"]`);return Ye(r,a=>!Sb(a,n))},cx=(e,t)=>{const n=me.fromDom(e.getBody()),r=Cs(n,`[${As()}="${t}"]`),a={};return Ne(r,c=>{if(!Sb(c,n)){const u=Ia(c,xs()),g=Bn(a,u).getOr([]);a[u]=g.concat([c])}}),a},dx=(e,t)=>{const n=yr({}),r=()=>({listeners:[],previous:cs()}),a=(B,L)=>{c(B,G=>(L(G),G))},c=(B,L)=>{const G=n.get(),ae=Bn(G,B).getOrThunk(r),J=L(ae);G[B]=J,n.set(G)},u=(B,L,G)=>{a(B,ae=>{Ne(ae.listeners,J=>J(!0,B,{uid:L,nodes:$o(G,ie=>ie.dom)}))})},g=B=>{a(B,L=>{Ne(L.listeners,G=>G(!1,B))})},v=(B,L)=>{Ne(Eb(e,B),G=>{L?In(G,Km(),"true"):Dn(G,Km())})},S=qs(()=>{const B=jo(t.getNames());Ne(B,L=>{c(L,G=>{const ae=G.previous.get();return ji(e,V.some(L)).fold(()=>{ae.each(J=>{g(L),G.previous.clear(),v(J,!1)})},({uid:J,name:ie,elements:he})=>{Bi(ae,J)||(ae.each(Se=>v(Se,!1)),u(ie,J,he),G.previous.set(J),v(J,!0))}),{previous:G.previous,listeners:G.listeners}})})},30);return e.on("remove",()=>{S.cancel()}),e.on("NodeChange",()=>{S.throttle()}),{addListener:(B,L)=>{c(B,G=>({previous:G.previous,listeners:G.listeners.concat([L])}))}}},xl=(e,t)=>{const n=As(),r=c=>V.from(c.attr(n)).bind(t.lookup),a=c=>{var u,g;c.attr(xs(),null),c.attr(As(),null),c.attr(Km(),null);const v=V.from(c.attr(Gp())).map(L=>L.split(",")).getOr([]),S=V.from(c.attr(uf())).map(L=>L.split(",")).getOr([]);Ne(v,L=>c.attr(L,null));const R=(g=(u=c.attr("class"))===null||u===void 0?void 0:u.split(" "))!==null&&g!==void 0?g:[],B=Fn(R,[Sa()].concat(S));c.attr("class",B.length>0?B.join(" "):null),c.attr(uf(),null),c.attr(Gp(),null)};e.serializer.addTempAttr(Km()),e.serializer.addAttributeFilter(n,c=>{for(const u of c)r(u).each(g=>{g.persistent===!1&&(u.name==="span"?u.unwrap():a(u))})})},Iw=()=>{const e={};return{register:(a,c)=>{e[a]={name:a,settings:c}},lookup:a=>Bn(e,a).map(c=>c.settings),getNames:()=>Je(e)}},Qa=(e,t,n)=>Math.min(Math.max(e,t),n),Kp=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let Qf=0;const lc=e=>{const n=new Date().getTime(),r=Math.floor(Kp()*1e9);return Qf++,e+"_"+r+Qf+String(n)},ei=(e,t)=>{Ne(t,n=>{vc(e,n)})},Ab=(e,t)=>{Ne(t,n=>{Pa(e,n)})},sh=(e,t)=>me.fromDom(e.dom.cloneNode(t)),su=e=>sh(e,!1),zb=e=>sh(e,!0),ah=(e,t)=>{const n=me.fromTag(t),r=Ql(e);return Dl(n,r),n},ux=(e,t)=>{const n=ah(e,t);oc(e,n);const r=qa(e);return Ai(n,r),_n(e),n},em=(e,t,n=an)=>{const r=new Fa(e,t),a=c=>{let u;do u=r[c]();while(u&&!bt(u)&&!n(u));return V.from(u).filter(bt)};return{current:()=>V.from(r.current()).filter(bt),next:()=>a("next"),prev:()=>a("prev"),prev2:()=>a("prev2")}},au=(e,t)=>{const n=t||(u=>e.isBlock(u)||ls(u)||Wr(u)),r=(u,g,v,S)=>{if(bt(u)){const R=S(u,g,u.data);if(R!==-1)return V.some({container:u,offset:R})}return v().bind(R=>r(R.container,R.offset,v,S))};return{backwards:(u,g,v,S)=>{const R=em(u,S??e.getRoot(),n);return r(u,g,()=>R.prev().map(B=>({container:B,offset:B.length})),v).getOrNull()},forwards:(u,g,v,S)=>{const R=em(u,S??e.getRoot(),n);return r(u,g,()=>R.next().map(B=>({container:B,offset:0})),v).getOrNull()}}},Yp=((e,t)=>{const n=c=>{if(!e(c))throw new Error("Can only get "+t+" value of a "+t+" node");return r(c).getOr("")},r=c=>e(c)?V.from(c.dom.nodeValue):V.none();return{get:n,getOption:r,set:(c,u)=>{if(!e(c))throw new Error("Can only set raw "+t+" value of a "+t+" node");c.dom.nodeValue=u}}})(Qs,"text"),tm=e=>Yp.get(e),ih=e=>Yp.getOption(e),I1=(e,t)=>Yp.set(e,t),P1=["td","th"],Ti=["thead","tbody","tfoot"],Tb=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],L1=["li","dd","dt"],lh=["ul","ol","dl"],Ob=["pre","script","textarea","style"],iu=e=>{let t;return n=>(t=t||Rr(e,Co),go(t,cn(n)))},Db=e=>cn(e)==="table",Mu=e=>Ei(e)&&cn(e)==="br",Xm=iu(Tb),Jm=iu(lh),ff=iu(L1),fx=iu(Ti),Ui=iu(P1),om=iu(Ob),ch=e=>{const t=[];let n=e.dom;for(;n;)t.push(me.fromDom(n)),n=n.lastChild;return t},Rb=e=>{const t=Cs(e,"br"),n=Ye(ch(e).slice(-1),Mu);t.length===n.length&&Ne(n,_n)},td=()=>{const e=me.fromTag("br");return In(e,"data-mce-bogus","1"),e},kl=e=>{nc(e),lr(e,td())},F1=(e,t)=>{Cd(e).each(n=>{Is(n).each(r=>{t.isBlock(cn(e))&&Mu(n)&&t.isBlock(cn(r))&&_n(n)})})},Ea=wc,Md=Eu,Zi=Gc,Pw=e=>e.insertContent(Ea,{preserve_zwsp:!0}),H1=qt,nm=bt,Qm=e=>(nm(e)&&(e=e.parentNode),H1(e)&&e.hasAttribute("data-mce-caret")),rm=e=>nm(e)&&Md(e.data),cc=e=>Qm(e)||rm(e),Nb=e=>e.firstChild!==e.lastChild||!ls(e.firstChild),Lw=(e,t)=>{var n;const a=((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(Ea),c=e.parentNode;if(t){const u=e.previousSibling;if(nm(u)){if(cc(u))return u;if(fh(u))return u.splitText(u.data.length-1)}c==null||c.insertBefore(a,e)}else{const u=e.nextSibling;if(nm(u)){if(cc(u))return u;if(sm(u))return u.splitText(1),u}e.nextSibling?c==null||c.insertBefore(a,e.nextSibling):c==null||c.appendChild(a)}return a},V1=e=>{const t=e.container();return bt(t)?t.data.charAt(e.offset())===Ea||e.isAtStart()&&rm(t.previousSibling):!1},dh=e=>{const t=e.container();return bt(t)?t.data.charAt(e.offset()-1)===Ea||e.isAtEnd()&&rm(t.nextSibling):!1},uh=(e,t,n)=>{var r;const c=((r=t.ownerDocument)!==null&&r!==void 0?r:document).createElement(e);c.setAttribute("data-mce-caret",n?"before":"after"),c.setAttribute("data-mce-bogus","all"),c.appendChild(td().dom);const u=t.parentNode;return n?u==null||u.insertBefore(c,t):t.nextSibling?u==null||u.insertBefore(c,t.nextSibling):u==null||u.appendChild(c),c},sm=e=>nm(e)&&e.data[0]===Ea,fh=e=>nm(e)&&e.data[e.data.length-1]===Ea,Mb=e=>{var t;const n=e.getElementsByTagName("br"),r=n[n.length-1];Xc(r)&&((t=r.parentNode)===null||t===void 0||t.removeChild(r))},Xp=e=>e&&e.hasAttribute("data-mce-caret")?(Mb(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,$1=e=>Qm(e.startContainer),Tc=Math.round,od=e=>e?{left:Tc(e.left),top:Tc(e.top),bottom:Tc(e.bottom),right:Tc(e.right),width:Tc(e.width),height:Tc(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},Jp=(e,t)=>(e=od(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),ep=(e,t)=>e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right,j1=(e,t,n)=>e>=0&&e<=Math.min(t.height,n.height)/2,mf=(e,t)=>{const n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top?!0:e.top>t.bottom?!1:j1(t.top-e.bottom,e,t)},pf=(e,t)=>e.top>t.bottom?!0:e.bottom<t.top?!1:j1(t.bottom-e.top,e,t),tp=(e,t,n)=>t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom,mh=e=>mo(e,(t,n)=>t.fold(()=>V.some(n),r=>{const a=Math.min(n.left,r.left),c=Math.min(n.top,r.top),u=Math.max(n.right,r.right),g=Math.max(n.bottom,r.bottom);return V.some({top:c,right:u,bottom:g,left:a,width:u-a,height:g-c})}),V.none()),bi=(e,t,n)=>{const r=Math.max(Math.min(t,e.left+e.width),e.left),a=Math.max(Math.min(n,e.top+e.height),e.top);return Math.sqrt((t-r)*(t-r)+(n-a)*(n-a))},U1=(e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)),Qp=e=>{const t=e.startContainer,n=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},Bu=(e,t)=>{if(qt(e)&&e.hasChildNodes()){const n=e.childNodes,r=Qa(t,0,n.length-1);return n[r]}else return e},mx=(e,t)=>{if(!(t<0&&qt(e)&&e.hasChildNodes()))return Bu(e,t)},ph=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),Bb=e=>pt(e)&&e.charCodeAt(0)>=768&&ph.test(e),Z1=(...e)=>t=>{for(let n=0;n<e.length;n++)if(e[n](t))return!0;return!1},W1=(...e)=>t=>{for(let n=0;n<e.length;n++)if(!e[n](t))return!1;return!0},q1=Hi,Ib=Wr,Pb=ls,op=bt,G1=gi(["script","style","textarea"]),gh=gi(["img","input","textarea","hr","iframe","video","audio","object","embed"]),K1=gi(["table"]),px=cc,_l=e=>px(e)?!1:op(e)?!G1(e.parentNode):gh(e)||Pb(e)||K1(e)||Fb(e),Lb=e=>qt(e)&&e.getAttribute("unselectable")==="true",Fb=e=>!Lb(e)&&Ib(e),gx=(e,t)=>{for(let n=e.parentNode;n&&n!==t;n=n.parentNode){if(Fb(n))return!1;if(q1(n))return!0}return!0},Fw=e=>Fb(e)?!mo(Mo(e.getElementsByTagName("*")),(t,n)=>t||q1(n),!1):!1,hx=e=>gh(e)||Fw(e),bx=(e,t)=>_l(e)&&gx(e,t),yx=qt,eg=_l,np=rf("display","block table"),Y1=rf("float","left right"),Ha=W1(yx,eg,Qe(Y1)),Oc=Qe(rf("white-space","pre pre-line pre-wrap")),dc=bt,lu=ls,X1=qn.nodeIndex,am=mx,Hb=e=>e?e.createRange():qn.DOM.createRng(),gf=e=>pt(e)&&/[\r\n\t ]/.test(e),J1=e=>!!e.setStart&&!!e.setEnd,Vb=e=>{const t=e.startContainer,n=e.startOffset;if(gf(e.toString())&&Oc(t.parentNode)&&bt(t)){const r=t.data;if(gf(r[n-1])||gf(r[n+1]))return!0}return!1},Iu=e=>{const t=e.ownerDocument,n=Hb(t),r=t.createTextNode(Fs),a=e.parentNode;a.insertBefore(r,e),n.setStart(r,0),n.setEnd(r,1);const c=od(n.getBoundingClientRect());return a.removeChild(r),c},Q1=e=>{const t=e.startContainer,n=e.endContainer,r=e.startOffset,a=e.endOffset;if(t===n&&bt(n)&&r===0&&a===1){const c=e.cloneRange();return c.setEndAfter(n),Dc(c)}else return null},$b=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,Dc=e=>{var t;let n;const r=e.getClientRects();return r.length>0?n=od(r[0]):n=od(e.getBoundingClientRect()),!J1(e)&&lu(e)&&$b(n)?Iu(e):$b(n)&&J1(e)&&(t=Q1(e))!==null&&t!==void 0?t:n},Pu=(e,t)=>{const n=Jp(e,t);return n.width=1,n.right=n.left+1,n},vx=e=>{const t=[],n=u=>{u.height!==0&&(t.length>0&&ep(u,t[t.length-1])||t.push(u))},r=(u,g)=>{const v=Hb(u.ownerDocument);if(g<u.data.length){if(Bb(u.data[g]))return;if(Bb(u.data[g-1])&&(v.setStart(u,g),v.setEnd(u,g+1),!Vb(v))){n(Pu(Dc(v),!1));return}}g>0&&(v.setStart(u,g-1),v.setEnd(u,g),Vb(v)||n(Pu(Dc(v),!1))),g<u.data.length&&(v.setStart(u,g),v.setEnd(u,g+1),Vb(v)||n(Pu(Dc(v),!0)))},a=e.container(),c=e.offset();if(dc(a))return r(a,c),t;if(yx(a))if(e.isAtEnd()){const u=am(a,c);dc(u)&&r(u,u.data.length),Ha(u)&&!lu(u)&&n(Pu(Dc(u),!1))}else{const u=am(a,c);if(dc(u)&&r(u,0),Ha(u)&&e.isAtEnd())return n(Pu(Dc(u),!1)),t;const g=am(e.container(),e.offset()-1);Ha(g)&&!lu(g)&&(np(g)||np(u)||!Ha(u))&&n(Pu(Dc(g),!1)),Ha(u)&&n(Pu(Dc(u),!0))}return t},$e=(e,t,n)=>{const r=()=>(dc(e),t===0),a=()=>dc(e)?t>=e.data.length:t>=e.childNodes.length,c=()=>{const R=Hb(e.ownerDocument);return R.setStart(e,t),R.setEnd(e,t),R},u=()=>(n||(n=vx($e(e,t))),n),g=()=>u().length>0,v=R=>R&&e===R.container()&&t===R.offset(),S=R=>am(e,R?t-1:t);return{container:Ce(e),offset:Ce(t),toRange:c,getClientRects:u,isVisible:g,isAtStart:r,isAtEnd:a,isEqual:v,getNode:S}};$e.fromRangeStart=e=>$e(e.startContainer,e.startOffset),$e.fromRangeEnd=e=>$e(e.endContainer,e.endOffset),$e.after=e=>$e(e.parentNode,X1(e)+1),$e.before=e=>$e(e.parentNode,X1(e)),$e.isAbove=(e,t)=>ma(mt(t.getClientRects()),io(e.getClientRects()),mf).getOr(!1),$e.isBelow=(e,t)=>ma(io(t.getClientRects()),mt(e.getClientRects()),pf).getOr(!1),$e.isAtStart=e=>e?e.isAtStart():!1,$e.isAtEnd=e=>e?e.isAtEnd():!1,$e.isTextPosition=e=>e?bt(e.container()):!1,$e.isElementPosition=e=>!$e.isTextPosition(e);const rp=(e,t)=>{bt(t)&&t.data.length===0&&e.remove(t)},e0=(e,t,n)=>{t.insertNode(n),rp(e,n.previousSibling),rp(e,n.nextSibling)},xx=(e,t,n)=>{const r=V.from(n.firstChild),a=V.from(n.lastChild);t.insertNode(n),r.each(c=>rp(e,c.previousSibling)),a.each(c=>rp(e,c.nextSibling))},tg=(e,t,n)=>{af(n)?xx(e,t,n):e0(e,t,n)},nd=bt,kx=Xc,_x=qn.nodeIndex,wx=e=>{const t=e.parentNode;return kx(t)?wx(t):t},t0=e=>e?ri(e.childNodes,(t,n)=>(kx(n)&&n.nodeName!=="BR"?t=t.concat(t0(n)):t.push(n),t),[]):[],vn=(e,t)=>{let n=e;for(;(n=n.previousSibling)&&nd(n);)t+=n.data.length;return t},hf=e=>t=>e===t,sp=e=>{let t,n;t=t0(wx(e)),n=mr(t,hf(e),e),t=t.slice(0,n+1);const r=ri(t,(a,c,u)=>(nd(c)&&nd(t[u-1])&&a++,a),0);return t=da(t,gi([e.nodeName])),n=mr(t,hf(e),e),n-r},og=e=>(nd(e)?"text()":e.nodeName.toLowerCase())+"["+sp(e)+"]",Hw=(e,t,n)=>{const r=[];for(let a=t.parentNode;a&&a!==e;a=a.parentNode)r.push(a);return r},jb=(e,t)=>{let n=[],r=t.container(),a=t.offset(),c;if(nd(r))c=vn(r,a);else{const g=r.childNodes;a>=g.length?(c="after",a=g.length-1):c="before",r=g[a]}n.push(og(r));let u=Hw(e,r);return u=da(u,Qe(Xc)),n=n.concat(Ic(u,g=>og(g))),n.reverse().join("/")+","+c},Vw=(e,t,n)=>{let r=t0(e);return r=da(r,(a,c)=>!nd(a)||!nd(r[c-1])),r=da(r,gi([t])),r[n]},m=(e,t)=>{let n=e,r=0;for(;nd(n);){const a=n.data.length;if(t>=r&&t<=r+a){e=n,t=t-r;break}if(!nd(n.nextSibling)){e=n,t=a;break}r+=a,n=n.nextSibling}return nd(e)&&t>e.data.length&&(t=e.data.length),$e(e,t)},h=(e,t)=>{if(!t)return null;const n=t.split(","),r=n[0].split("/"),a=n.length>1?n[1]:"before",c=ri(r,(u,g)=>{const v=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(g);return v?(v[1]==="text()"&&(v[1]="#text"),Vw(u,v[1],parseInt(v[2],10))):null},e);if(!c)return null;if(!nd(c)&&c.parentNode){let u;return a==="after"?u=_x(c)+1:u=_x(c),$e(c.parentNode,u)}return m(c,parseInt(a,10))},x=Wr,E=(e,t,n)=>{let r=e(t.data.slice(0,n)).length;for(let a=t.previousSibling;a&&bt(a);a=a.previousSibling)r+=e(a.data).length;return r},D=(e,t,n,r,a)=>{const c=a?r.startContainer:r.endContainer;let u=a?r.startOffset:r.endOffset;const g=[],v=e.getRoot();if(bt(c))g.push(n?E(t,c,u):u);else{let S=0;const R=c.childNodes;u>=R.length&&R.length&&(S=1,u=Math.max(0,R.length-1)),g.push(e.nodeIndex(R[u],n)+S)}for(let S=c;S&&S!==v;S=S.parentNode)g.push(e.nodeIndex(S,n));return g},N=(e,t,n,r)=>{const a=t.dom,c=D(a,e,n,r,!0),u=t.isForward(),g=$1(r)?{isFakeCaret:!0}:{};if(t.isCollapsed())return{start:c,forward:u,...g};{const v=D(a,e,n,r,!1);return{start:c,end:v,forward:u,...g}}},H=(e,t,n)=>{let r=0;return ht.each(e.select(t),a=>{if(a.getAttribute("data-mce-bogus")!=="all"){if(a===n)return!1;r++;return}}),r},U=(e,t)=>{let n=t?e.startContainer:e.endContainer,r=t?e.startOffset:e.endOffset;if(qt(n)&&n.nodeName==="TR"){const a=n.childNodes;n=a[Math.min(t?r:r-1,a.length-1)],n&&(r=t?0:n.childNodes.length,t?e.setStart(n,r):e.setEnd(n,r))}},ee=e=>(U(e,!0),U(e,!1),e),de=(e,t)=>{if(qt(e)&&(e=Bu(e,t),x(e)))return e;if(cc(e)){bt(e)&&Qm(e)&&(e=e.parentNode);let n=e.previousSibling;if(x(n)||(n=e.nextSibling,x(n)))return n}},ke=e=>de(e.startContainer,e.startOffset)||de(e.endContainer,e.endOffset),fe=(e,t,n)=>{const r=n.getNode(),a=n.getRng();if(r.nodeName==="IMG"||x(r)){const u=r.nodeName;return{name:u,index:H(n.dom,u,r)}}const c=ke(a);if(c){const u=c.tagName;return{name:u,index:H(n.dom,u,c)}}return N(e,n,t,a)},be=e=>{const t=e.getRng();return{start:jb(e.dom.getRoot(),$e.fromRangeStart(t)),end:jb(e.dom.getRoot(),$e.fromRangeEnd(t)),forward:e.isForward()}},X=e=>({rng:e.getRng(),forward:e.isForward()}),we=(e,t,n)=>{const r={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",r,"&#xFEFF;"):e.create("span",r)},Ee=(e,t)=>{const n=e.dom;let r=e.getRng();const a=n.uniqueId(),c=e.isCollapsed(),u=e.getNode(),g=u.nodeName,v=e.isForward();if(g==="IMG")return{name:g,index:H(n,g,u)};const S=ee(r.cloneRange());if(!c){S.collapse(!1);const B=we(n,a+"_end",t);tg(n,S,B)}r=ee(r),r.collapse(!0);const R=we(n,a+"_start",t);return tg(n,r,R),e.moveToBookmark({id:a,keep:!0,forward:v}),{id:a,forward:v}},Ie=(e,t,n=!1)=>t===2?fe(Zi,n,e):t===3?be(e):t?X(e):Ee(e,!1),Ge=xt(fe,zt,!0),et=e=>{const t=c=>c(e),n=Ce(e),r=()=>a,a={tag:!0,inner:e,fold:(c,u)=>u(e),isValue:Co,isError:an,map:c=>dt.value(c(e)),mapError:r,bind:t,exists:t,forall:t,getOr:n,or:r,getOrThunk:n,orThunk:r,getOrDie:n,each:c=>{c(e)},toOptional:()=>V.some(e)};return a},ct=e=>{const t=()=>n,n={tag:!1,inner:e,fold:(r,a)=>r(e),isValue:an,isError:Co,map:t,mapError:r=>dt.error(r(e)),bind:t,exists:an,forall:Co,getOr:zt,or:zt,getOrThunk:Yr,orThunk:Yr,getOrDie:Ot(String(e)),each:Qt,toOptional:V.none};return n},dt={value:et,error:ct,fromOption:(e,t)=>e.fold(()=>ct(t),et)},jt={generate:e=>{if(!ve(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const t=[],n={};return Ne(e,(r,a)=>{const c=Je(r);if(c.length!==1)throw new Error("one and only one name per case");const u=c[0],g=r[u];if(n[u]!==void 0)throw new Error("duplicate key detected:"+u);if(u==="cata")throw new Error("cannot have a case named cata (sorry)");if(!ve(g))throw new Error("case arguments must be an array");t.push(u),n[u]=(...v)=>{const S=v.length;if(S!==g.length)throw new Error("Wrong number of arguments to case "+u+". Expected "+g.length+" ("+g+"), got "+S);return{fold:(...B)=>{if(B.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+B.length);return B[a].apply(null,v)},match:B=>{const L=Je(B);if(t.length!==L.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+`
Actual: `+L.join(","));if(!wr(t,ae=>Wo(L,ae)))throw new Error("Not all branches were specified when using match. Specified: "+L.join(", ")+`
Required: `+t.join(", "));return B[u].apply(null,v)},log:B=>{console.log(B,{constructors:t,constructor:u,params:v})}}}}),n}};jt.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const ho=e=>{const t=[],n=[];return Ne(e,r=>{r.fold(a=>{t.push(a)},a=>{n.push(a)})}),{errors:t,values:n}},un=e=>e.type==="inline-command"||e.type==="inline-format",Do=e=>e.type==="block-command"||e.type==="block-format",Uo=(e,t)=>(e.type==="block-command"||e.type==="block-format")&&e.trigger===t,Io=e=>{var t;const n=a=>dt.error({message:a,pattern:e}),r=(a,c,u)=>{if(e.format!==void 0){let g;if(ve(e.format)){if(!wr(e.format,pt))return n(a+" pattern has non-string items in the `format` array");g=e.format}else if(pt(e.format))g=[e.format];else return n(a+" pattern has non-string `format` parameter");return dt.value(c(g))}else return e.cmd!==void 0?pt(e.cmd)?dt.value(u(e.cmd,e.value)):n(a+" pattern has non-string `cmd` parameter"):n(a+" pattern is missing both `format` and `cmd` parameters")};if(!le(e))return n("Raw pattern is not an object");if(!pt(e.start))return n("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!pt(e.end))return n("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return n("Inline pattern has empty `start` and `end` parameters");let a=e.start,c=e.end;return c.length===0&&(c=a,a=""),r("Inline",u=>({type:"inline-format",start:a,end:c,format:u}),(u,g)=>({type:"inline-command",start:a,end:c,cmd:u,value:g}))}else{if(e.replacement!==void 0)return pt(e.replacement)?e.start.length===0?n("Replacement pattern has empty `start` parameter"):dt.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):n("Replacement pattern has non-string `replacement` parameter");{const a=(t=e.trigger)!==null&&t!==void 0?t:"space";return e.start.length===0?n("Block pattern has empty `start` parameter"):r("Block",c=>({type:"block-format",start:e.start,format:c[0],trigger:a}),(c,u)=>({type:"block-command",start:e.start,cmd:c,value:u,trigger:a}))}}},or=e=>Ye(e,Do),Vs=e=>Ye(e,un),Wi=(e,t)=>({inlinePatterns:Vs(e),blockPatterns:or(e),dynamicPatternsLookup:t}),ra=(e,t)=>({...e,blockPatterns:Ye(e.blockPatterns,n=>Uo(n,t))}),nl=e=>{const t=ho($o(e,Io));return Ne(t.errors,n=>console.error(n.message,n.pattern)),t.values},ap=e=>t=>{const n=e(t);return nl(n)},$l=(e,t)=>e.dispatch("PreProcess",t),ip=(e,t)=>e.dispatch("PostProcess",t),Ub=e=>{e.dispatch("remove")},hh=e=>{e.dispatch("detach")},Zb=(e,t)=>{e.dispatch("SwitchMode",{mode:t})},lp=(e,t,n,r,a)=>{e.dispatch("ObjectResizeStart",{target:t,width:n,height:r,origin:a})},ti=(e,t,n,r,a)=>{e.dispatch("ObjectResized",{target:t,width:n,height:r,origin:a})},Lu=e=>{e.dispatch("PreInit")},cu=e=>{e.dispatch("PostRender")},Cx=e=>{e.dispatch("Init")},$w=(e,t)=>{e.dispatch("PlaceholderToggle",{state:t})},F4=(e,t,n)=>{e.dispatch(t,n)},Sx=(e,t,n,r)=>{e.dispatch("FormatApply",{format:t,node:n,vars:r})},Ex=(e,t,n,r)=>{e.dispatch("FormatRemove",{format:t,node:n,vars:r})},BD=(e,t)=>e.dispatch("BeforeSetContent",t),Ax=(e,t)=>e.dispatch("SetContent",t),H4=(e,t)=>e.dispatch("BeforeGetContent",t),jw=(e,t)=>e.dispatch("GetContent",t),Uw=(e,t)=>{e.dispatch("AutocompleterStart",t)},Zw=(e,t)=>{e.dispatch("AutocompleterUpdate",t)},Ar=(e,t)=>{e.dispatch("AutocompleterUpdateActiveRange",t)},ng=e=>{e.dispatch("AutocompleterEnd")},V4=(e,t,n)=>e.dispatch("PastePreProcess",{content:t,internal:n}),$4=(e,t,n)=>e.dispatch("PastePostProcess",{node:t,internal:n}),Ww=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),qw=(e,t)=>e.dispatch("EditableRootStateChange",{state:t}),j4=(e,t)=>e.dispatch("DisabledStateChange",{state:t}),o0=Ms().deviceType,ID=o0.isTouch(),U4=qn.DOM,Gw=e=>{const t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return mo(t,(n,r)=>{const a=r.split("="),c=a[0],u=a.length>1?a[1]:c;return n[Js(c)]=Js(u),n},{})},Kw=e=>ut(e,RegExp),Wt=e=>t=>t.options.get(e),zx=e=>pt(e)||le(e),rd=(e,t="")=>n=>{const r=pt(n);if(r)if(n.indexOf("=")!==-1){const a=Gw(n);return{value:Bn(a,e.id).getOr(t),valid:r}}else return{value:n,valid:r};else return{valid:!1,message:"Must be a string."}},jl=e=>{const t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("language_load",{processor:"boolean",default:!0}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.documentBaseUrl}),t("body_id",{processor:rd(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:rd(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:n=>{const r=pt(n)&&gr(n);return r?{value:n,valid:r}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("newline_behavior",{processor:n=>{const r=Wo(["block","linebreak","invert","default"],n);return r?{value:n,valid:r}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:n=>jr(n)?{valid:!0,value:n}:pt(n)?{valid:!0,value:n}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:n=>{const r=n===!1||pt(n)||ko(n,pt);return r?pt(n)?{value:$o(n.split(","),Js),valid:r}:ve(n)?{value:n,valid:r}:n===!1?{value:[],valid:r}:{value:n,valid:r}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:o2(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:n=>{const r=pt(n)||ko(n,pt);return r?{value:ve(n)?n:$o(n.split(","),Js),valid:r}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),t("object_resizing",{processor:n=>{const r=jr(n)||pt(n);return r?n===!1||o0.isiPhone()||o0.isiPad()?{value:"",valid:r}:{value:n===!0?"table,img,figure.image,div,video,iframe":n,valid:r}:{valid:!1,message:"Must be boolean or a string"}},default:!ID}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"string"}),t("service_message",{processor:"string"}),t("theme",{processor:n=>n===!1||pt(n)||It(n),default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("format_noneditable_selector",{processor:"string",default:""}),t("preview_styles",{processor:n=>{const r=n===!1||pt(n);return r?{value:n===!1?"":n,valid:r}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("disabled",{processor:n=>jr(n)?(e.initialized&&c0(e)!==n&&Promise.resolve().then(()=>{j4(e,n)}),{valid:!0,value:n}):{valid:!1,message:"The value must be a boolean."},default:!1}),t("readonly",{processor:"boolean",default:!1}),t("editable_root",{processor:"boolean",default:!0}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area".concat(e.hasPlugin("help")?". Press ALT-0 for help.":"")}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("allow_mathml_annotation_encodings",{processor:n=>{const r=ko(n,pt);return r?{value:n,valid:r}:{valid:!1,message:"Must be an array of strings."}},default:[]}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean",default:!0}),t("pad_empty_with_br",{processor:"boolean",default:!1}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:zx}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:zx}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:zx}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:zx}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:n=>pt(n)||n===!0}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("license_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:n=>ko(n,le)||n===!1?{value:nl(n===!1?[]:n),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),t("text_patterns_lookup",{processor:n=>It(n)?{value:ap(n),valid:!0}:{valid:!1,message:"Must be a single function"},default:n=>[]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:n=>ko(n,Kw)?{value:n,valid:!0}:Kw(n)?{value:[n],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),t("highlight_on_focus",{processor:"boolean",default:!0}),t("xss_sanitization",{processor:"boolean",default:!0}),t("details_initial_state",{processor:n=>{const r=Wo(["inherited","collapsed","expanded"],n);return r?{value:n,valid:r}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("details_serialized_state",{processor:n=>{const r=Wo(["inherited","collapsed","expanded"],n);return r?{value:n,valid:r}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("init_content_sync",{processor:"boolean",default:!1}),t("newdocument_content",{processor:"string",default:""}),t("sandbox_iframes",{processor:"boolean",default:!0}),t("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),t("convert_unsafe_embeds",{processor:"boolean",default:!0}),e.on("ScriptsLoaded",()=>{t("directionality",{processor:"string",default:zc.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:U4.getAttrib(e.getElement(),"placeholder")})})},Wb=Wt("iframe_attrs"),PD=Wt("doctype"),Z4=Wt("document_base_url"),wn=Wt("body_id"),LD=Wt("body_class"),Yw=Wt("content_security_policy"),Xw=Wt("br_in_pre"),Ul=Wt("forced_root_block"),n0=Wt("forced_root_block_attrs"),FD=Wt("newline_behavior"),HD=Wt("br_newline_selector"),Jw=Wt("no_newline_selector"),Qw=Wt("keep_styles"),W4=Wt("end_container_on_empty_block"),q4=Wt("automatic_uploads"),G4=Wt("images_reuse_filename"),VD=Wt("images_replace_blob_uris"),Jt=Wt("icons"),K4=Wt("icons_url"),r0=Wt("images_upload_url"),e2=Wt("images_upload_base_path"),Y4=Wt("images_upload_credentials"),X4=Wt("images_upload_handler"),J4=Wt("content_css_cors"),Tx=Wt("referrer_policy"),Q4=Wt("language"),$D=Wt("language_url"),Gn=Wt("indent_use_margin"),jD=Wt("indentation"),cp=Wt("content_css"),im=Wt("content_style"),s0=Wt("font_css"),sd=Wt("directionality"),Ox=Wt("inline_boundaries_selector"),qb=Wt("object_resizing"),Dx=Wt("resize_img_proportional"),Gb=Wt("placeholder"),eE=Wt("event_root"),UD=Wt("service_message"),Kb=Wt("theme"),ZD=Wt("theme_url"),xn=Wt("model"),bf=Wt("model_url"),yf=Wt("inline_boundaries"),WD=Wt("formats"),a0=Wt("preview_styles"),Ln=Wt("format_empty_lines"),tE=Wt("format_noneditable_selector"),t2=Wt("custom_ui_selector"),o2=Wt("inline"),rg=Wt("hidden_input"),bh=Wt("submit_patch"),oE=Wt("add_form_submit_trigger"),qD=Wt("add_unload_trigger"),GD=Wt("custom_undo_redo_levels"),i0=Wt("disable_nodechange"),yh=Wt("readonly"),KD=Wt("editable_root"),n2=Wt("content_css_cors"),Rx=Wt("plugins"),nE=Wt("external_plugins"),YD=Wt("block_unsupported_drop"),rE=Wt("visual"),r2=Wt("visual_table_class"),Nx=Wt("visual_anchor_class"),Mx=Wt("iframe_aria_text"),sE=Wt("setup"),aE=Wt("init_instance_callback"),iE=Wt("urlconverter_callback"),Bx=Wt("auto_focus"),lE=Wt("browser_spellcheck"),cE=Wt("protect"),dE=Wt("paste_block_drop"),l0=Wt("paste_data_images"),uE=Wt("paste_preprocess"),fE=Wt("paste_postprocess"),XD=Wt("newdocument_content"),JD=Wt("paste_webkit_styles"),Ix=Wt("paste_remove_styles_if_webkit"),mE=Wt("paste_merge_formats"),pE=Wt("smart_paste"),gE=Wt("paste_as_text"),QD=Wt("paste_tab_spaces"),eR=Wt("allow_html_data_urls"),tR=Wt("text_patterns"),oR=Wt("text_patterns_lookup"),hE=Wt("noneditable_class"),bE=Wt("editable_class"),yE=Wt("noneditable_regexp"),Px=Wt("preserve_cdata"),nR=Wt("highlight_on_focus"),Lx=Wt("xss_sanitization"),rR=Wt("init_content_sync"),vE=e=>e.options.isSet("text_patterns_lookup"),xE=e=>ht.explode(e.options.get("font_size_style_values")),kE=e=>ht.explode(e.options.get("font_size_classes")),sR=e=>e.options.get("encoding")==="xml",_E=e=>ht.explode(e.options.get("images_file_types")),Fx=Wt("table_tab_navigation"),wE=Wt("details_initial_state"),CE=Wt("details_serialized_state"),s2=Wt("sandbox_iframes"),Hx=e=>e.options.get("sandbox_iframes_exclusions"),aR=Wt("convert_unsafe_embeds"),iR=Wt("license_key"),Vx=Wt("api_key"),c0=Wt("disabled"),SE=qt,EE=bt,AE=e=>{const t=e.parentNode;t&&t.removeChild(e)},zE=e=>{const t=Zi(e);return{count:e.length-t.length,text:t}},TE=e=>{let t;for(;(t=e.data.lastIndexOf(Ea))!==-1;)e.deleteData(t,1)},OE=(e,t)=>(vh(e),t),lR=(e,t)=>{const n=zE(e.data.substr(0,t.offset())),r=zE(e.data.substr(t.offset()));return(n.text+r.text).length>0?(TE(e),$e(e,t.offset()-n.count)):t},DE=(e,t)=>{const n=t.container(),r=Al(Mo(n.childNodes),e).map(a=>a<t.offset()?$e(n,t.offset()-1):t).getOr(t);return vh(e),r},cR=(e,t)=>EE(e)&&t.container()===e?lR(e,t):OE(e,t),RE=(e,t)=>t.container()===e.parentNode?DE(e,t):OE(e,t),NE=(e,t)=>$e.isTextPosition(t)?cR(e,t):RE(e,t),vh=e=>{SE(e)&&cc(e)&&(Nb(e)?e.removeAttribute("data-mce-caret"):AE(e)),EE(e)&&(TE(e),e.data.length===0&&AE(e))},dR=Wr,uR=hl,fR=eu,mR="*[contentEditable=false],video,audio,embed,object",ME=(e,t,n)=>{const r=Jp(t.getBoundingClientRect(),n);let a,c;if(e.tagName==="BODY"){const g=e.ownerDocument.documentElement;a=e.scrollLeft||g.scrollLeft,c=e.scrollTop||g.scrollTop}else{const g=e.getBoundingClientRect();a=e.scrollLeft-g.left,c=e.scrollTop-g.top}r.left+=a,r.right+=a,r.top+=c,r.bottom+=c,r.width=1;let u=t.offsetWidth-t.clientWidth;return u>0&&(n&&(u*=-1),r.left+=u,r.right+=u),r},pR=e=>{var t,n;const r=Cs(me.fromDom(e),mR);for(let a=0;a<r.length;a++){const c=r[a].dom;let u=c.previousSibling;if(fh(u)){const g=u.data;g.length===1?(t=u.parentNode)===null||t===void 0||t.removeChild(u):u.deleteData(g.length-1,1)}u=c.nextSibling,sm(u)&&(u.data.length===1?(n=u.parentNode)===null||n===void 0||n.removeChild(u):u.deleteData(0,1))}},gR=(e,t,n,r)=>{const a=cs();let c,u;const g=Ul(e),v=e.dom,S=(J,ie)=>{let he;if(R(),fR(ie))return null;if(n(ie)){const Se=uh(g,ie,J),ze=ME(t,ie,J);v.setStyle(Se,"top",ze.top),v.setStyle(Se,"caret-color","transparent"),u=Se;const Me=v.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});v.setStyles(Me,{...ze}),v.add(t,Me),a.set({caret:Me,element:ie,before:J}),J&&v.addClass(Me,"mce-visual-caret-before"),B(),he=ie.ownerDocument.createRange(),he.setStart(Se,0),he.setEnd(Se,0)}else return u=Lw(ie,J),he=ie.ownerDocument.createRange(),d0(u.nextSibling)?(he.setStart(u,0),he.setEnd(u,0)):(he.setStart(u,1),he.setEnd(u,1)),he;return he},R=()=>{pR(t),u&&(vh(u),u=null),a.on(J=>{v.remove(J.caret),a.clear()}),c&&(clearInterval(c),c=void 0)},B=()=>{c=setInterval(()=>{a.on(J=>{r()?v.toggleClass(J.caret,"mce-visual-caret-hidden"):v.addClass(J.caret,"mce-visual-caret-hidden")})},500)};return{show:S,hide:R,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{a.on(J=>{const ie=ME(t,J.element,J.before);v.setStyles(J.caret,{...ie})})},destroy:()=>clearInterval(c)}},BE=()=>Nt.browser.isFirefox(),d0=e=>dR(e)||uR(e),u0=e=>(d0(e)||Jc(e)&&BE())&&yu(me.fromDom(e)).exists(ga),hR=Hi,a2=Wr,eo=hl,i2=rf("display","block table table-cell table-row table-caption list-item"),l2=cc,IE=Qm,c2=qt,bR=bt,$x=_l,xh=e=>e===1,kh=e=>e===-1,So=(e,t)=>{let n;for(;n=e(t);)if(!IE(n))return n;return null},_o=(e,t,n,r,a)=>{const c=new Fa(e,r),u=a2(e)||IE(e);let g;if(kh(t)){if(u&&(g=So(c.prev.bind(c),!0),n(g)))return g;for(;g=So(c.prev.bind(c),a);)if(n(g))return g}if(xh(t)){if(u&&(g=So(c.next.bind(c),!0),n(g)))return g;for(;g=So(c.next.bind(c),a);)if(n(g))return g}return null},PE=(e,t)=>{const n=a=>hR(a.dom),r=a=>a.dom===t;return Pi(me.fromDom(e),n,r).map(a=>a.dom).getOr(t)},sg=(e,t)=>{for(;e&&e!==t;){if(i2(e))return e;e=e.parentNode}return null},lm=(e,t,n)=>sg(e.container(),n)===sg(t.container(),n),d2=(e,t)=>{if(!t)return V.none();const n=t.container(),r=t.offset();return c2(n)?V.from(n.childNodes[r+e]):V.none()},yo=(e,t)=>{var n;const a=((n=t.ownerDocument)!==null&&n!==void 0?n:document).createRange();return e?(a.setStartBefore(t),a.setEndBefore(t)):(a.setStartAfter(t),a.setEndAfter(t)),a},f0=(e,t,n)=>sg(t,e)===sg(n,e),u2=(e,t,n)=>{const r=e?"previousSibling":"nextSibling";let a=n;for(;a&&a!==t;){let c=a[r];if(c&&l2(c)&&(c=c[r]),a2(c)||eo(c)){if(f0(t,c,a))return c;break}if($x(c))break;a=a.parentNode}return null},Yb=xt(yo,!0),m0=xt(yo,!1),f2=(e,t,n)=>{let r;const a=xt(u2,!0,t),c=xt(u2,!1,t),u=n.startContainer,g=n.startOffset;if(Qm(u)){const v=bR(u)?u.parentNode:u,S=v.getAttribute("data-mce-caret");if(S==="before"&&(r=v.nextSibling,u0(r)))return Yb(r);if(S==="after"&&(r=v.previousSibling,u0(r)))return m0(r)}if(!n.collapsed)return n;if(bt(u)){if(l2(u)){if(e===1){if(r=c(u),r)return Yb(r);if(r=a(u),r)return m0(r)}if(e===-1){if(r=a(u),r)return m0(r);if(r=c(u),r)return Yb(r)}return n}if(fh(u)&&g>=u.data.length-1)return e===1&&(r=c(u),r)?Yb(r):n;if(sm(u)&&g<=1)return e===-1&&(r=a(u),r)?m0(r):n;if(g===u.data.length)return r=c(u),r?Yb(r):n;if(g===0)return r=a(u),r?m0(r):n}return n},m2=(e,t)=>d2(e?0:-1,t).filter(a2),p0=(e,t,n)=>{const r=f2(e,t,n);return e===-1?$e.fromRangeStart(r):$e.fromRangeEnd(r)},Ho=e=>V.from(e.getNode()).map(me.fromDom),p2=e=>V.from(e.getNode(!0)).map(me.fromDom),jx=(e,t)=>{let n=t;for(;n=e(n);)if(n.isVisible())return n;return n},_h=(e,t)=>{const n=lm(e,t);return!n&&ls(e.getNode())?!0:n},LE=Wr,vf=bt,g2=qt,Ux=ls,wh=_l,h2=hx,Zx=bx,yR=(e,t)=>{const n=[];let r=e;for(;r&&r!==t;)n.push(r),r=r.parentNode;return n},FE=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,HE=(e,t)=>{if(xh(e)){if(wh(t.previousSibling)&&!vf(t.previousSibling))return $e.before(t);if(vf(t))return $e(t,0)}if(kh(e)){if(wh(t.nextSibling)&&!vf(t.nextSibling))return $e.after(t);if(vf(t))return $e(t,t.data.length)}return kh(e)?Ux(t)?$e.before(t):$e.after(t):$e.before(t)},vR=(e,t)=>{const n=t.nextSibling;return n&&wh(n)?vf(n)?$e(n,0):$e.before(n):g0(1,$e.after(t),e)},g0=(e,t,n)=>{let r,a,c,u;if(!g2(n)||!t)return null;if(t.isEqual($e.after(n))&&n.lastChild){if(u=$e.after(n.lastChild),kh(e)&&wh(n.lastChild)&&g2(n.lastChild))return Ux(n.lastChild)?$e.before(n.lastChild):u}else u=t;const g=u.container();let v=u.offset();if(vf(g)){if(kh(e)&&v>0)return $e(g,--v);if(xh(e)&&v<g.length)return $e(g,++v);r=g}else{if(kh(e)&&v>0&&(a=FE(g,v-1),wh(a)))return!h2(a)&&(c=_o(a,e,Zx,a),c)?vf(c)?$e(c,c.data.length):$e.after(c):vf(a)?$e(a,a.data.length):$e.before(a);if(xh(e)&&v<g.childNodes.length&&(a=FE(g,v),wh(a)))return Ux(a)?vR(n,a):!h2(a)&&(c=_o(a,e,Zx,a),c)?vf(c)?$e(c,0):$e.before(c):vf(a)?$e(a,0):$e.after(a);r=a||u.getNode()}if(r&&(xh(e)&&u.isAtEnd()||kh(e)&&u.isAtStart())&&(r=_o(r,e,Co,n,!0),Zx(r,n)))return HE(e,r);a=r&&_o(r,e,Zx,n);const S=ks(Ye(yR(g,n),LE));return S&&(!a||!S.contains(a))?(xh(e)?u=$e.after(S):u=$e.before(S),u):a?HE(e,a):null},Fu=e=>({next:t=>g0(1,t,e),prev:t=>g0(-1,t,e)}),xR=(e,t,n)=>{const r=e?$e.before(n):$e.after(n);return Bd(e,t,r)},kR=e=>ls(e)?$e.before(e):$e.after(e),VE=e=>$e.isTextPosition(e)?e.offset()===0:_l(e.getNode()),$E=e=>{if($e.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}else return _l(e.getNode(!0))},b2=(e,t)=>!$e.isTextPosition(e)&&!$e.isTextPosition(t)&&e.getNode()===t.getNode(!0),Ch=e=>!$e.isTextPosition(e)&&ls(e.getNode()),jE=(e,t,n)=>e?!b2(t,n)&&!Ch(t)&&$E(t)&&VE(n):!b2(n,t)&&VE(t)&&$E(n),Bd=(e,t,n)=>{const r=Fu(t);return V.from(e?r.next(n):r.prev(n))},Xb=(e,t,n)=>Bd(e,t,n).bind(r=>lm(n,r,t)&&jE(e,n,r)?Bd(e,t,r):V.some(r)),UE=(e,t,n,r)=>Xb(e,t,n).bind(a=>r(a)?UE(e,t,a,r):V.some(a)),Sh=(e,t)=>{const n=e?t.firstChild:t.lastChild;return bt(n)?V.some($e(n,e?0:n.data.length)):n?_l(n)?V.some(e?$e.before(n):kR(n)):xR(e,t,n):V.none()},uc=xt(Bd,!0),zs=xt(Bd,!1),Zl=xt(Sh,!0),Wl=xt(Sh,!1),fs="_mce_caret",Va=e=>qt(e)&&e.id===fs,xf=(e,t)=>{let n=t;for(;n&&n!==e;){if(Va(n))return n;n=n.parentNode}return null},Wx=e=>pt(e.start),h0=e=>go(e,"rng"),_R=e=>go(e,"id"),Eh=e=>go(e,"name"),vr=e=>ht.isArray(e.start),ag=e=>!Eh(e)&&jr(e.forward)?e.forward:!0,y2=(e,t)=>(qt(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),ZE=(e,t)=>{const n=V.from(h(e.getRoot(),t.start)),r=V.from(h(e.getRoot(),t.end));return ma(n,r,(a,c)=>{const u=e.createRng();return u.setStart(a.container(),a.offset()),u.setEnd(c.container(),c.offset()),{range:u,forward:ag(t)}})},qx=(e,t)=>{var n;const a=((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(Ea);e.appendChild(a),t.setStart(a,0),t.setEnd(a,0)},v2=e=>!e.hasChildNodes(),x2=(e,t)=>Wl(e).fold(an,n=>(t.setStart(n.container(),n.offset()),t.setEnd(n.container(),n.offset()),!0)),Gx=(e,t,n)=>v2(t)&&xf(e,t)?(qx(t,n),!0):!1,Kx=(e,t,n,r)=>{const a=n[t?"start":"end"],c=e.getRoot();if(a){let u=c,g=a[0];for(let v=a.length-1;u&&v>=1;v--){const S=u.childNodes;if(Gx(c,u,r))return!0;if(a[v]>S.length-1)return Gx(c,u,r)?!0:x2(u,r);u=S[a[v]]}bt(u)&&(g=Math.min(a[0],u.data.length)),qt(u)&&(g=Math.min(a[0],u.childNodes.length)),t?r.setStart(u,g):r.setEnd(u,g)}return!0},Jb=e=>bt(e)&&e.data.length>0,Yx=(e,t,n)=>{const r=e.get(n.id+"_"+t),a=r==null?void 0:r.parentNode,c=n.keep;if(r&&a){let u,g;if(t==="start"?c?r.hasChildNodes()?(u=r.firstChild,g=1):Jb(r.nextSibling)?(u=r.nextSibling,g=0):Jb(r.previousSibling)?(u=r.previousSibling,g=r.previousSibling.data.length):(u=a,g=e.nodeIndex(r)+1):(u=a,g=e.nodeIndex(r)):c?r.hasChildNodes()?(u=r.firstChild,g=1):Jb(r.previousSibling)?(u=r.previousSibling,g=r.previousSibling.data.length):(u=a,g=e.nodeIndex(r)):(u=a,g=e.nodeIndex(r)),!c){const v=r.previousSibling,S=r.nextSibling;ht.each(ht.grep(r.childNodes),B=>{bt(B)&&(B.data=B.data.replace(/\uFEFF/g,""))});let R;for(;R=e.get(n.id+"_"+t);)e.remove(R,!0);if(bt(S)&&bt(v)&&!Nt.browser.isOpera()){const B=v.data.length;v.appendData(S.data),e.remove(S),u=v,g=B}}return V.some($e(u,g))}else return V.none()},WE=(e,t)=>{const n=e.createRng();return Kx(e,!0,t,n)&&Kx(e,!1,t,n)?V.some({range:n,forward:ag(t)}):V.none()},qE=(e,t)=>{const n=Yx(e,"start",t),r=Yx(e,"end",t);return ma(n,r.or(n),(a,c)=>{const u=e.createRng();return u.setStart(y2(e,a.container()),a.offset()),u.setEnd(y2(e,c.container()),c.offset()),{range:u,forward:ag(t)}})},GE=(e,t)=>V.from(e.select(t.name)[t.index]).map(n=>{const r=e.createRng();return r.selectNode(n),{range:r,forward:!0}}),KE=(e,t)=>{const n=e.dom;if(t){if(vr(t))return WE(n,t);if(Wx(t))return ZE(n,t);if(_R(t))return qE(n,t);if(Eh(t))return GE(n,t);if(h0(t))return V.some({range:t.rng,forward:ag(t)})}return V.none()},YE=(e,t,n)=>Ie(e,t,n),Qb=(e,t)=>{KE(e,t).each(({range:n,forward:r})=>{e.setRng(n,r)})},Id=e=>qt(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",Xx=(e=>t=>e===t)(Fs),Ah=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,Jx=e=>!Ah(e)&&!Xx(e)&&!Eu(e),Qx=e=>{const t=[];if(e)for(let n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},JE=e=>Mn(e,t=>{const n=Qp(t);return n?[me.fromDom(n)]:[]}),ek=e=>Qx(e).length>1,QE=e=>Ye(JE(e),Ui),eA=e=>Cs(e,"td[data-mce-selected],th[data-mce-selected]"),k2=(e,t)=>{const n=eA(t);return n.length>0?n:QE(e)},zh=e=>k2(Qx(e.selection.getSel()),me.fromDom(e.getBody())),ey=(e,t)=>qc(e,"table",t),tA=e=>{const t=e.startContainer,n=e.startOffset;return bt(t)?n===0?V.some(me.fromDom(t)):V.none():V.from(t.childNodes[n]).map(me.fromDom)},oA=e=>{const t=e.endContainer,n=e.endOffset;return bt(t)?n===t.data.length?V.some(me.fromDom(t)):V.none():V.from(t.childNodes[n-1]).map(me.fromDom)},_2=e=>ul(e).fold(Ce([e]),t=>[e].concat(_2(t))),tk=e=>Cd(e).fold(Ce([e]),t=>cn(t)==="br"?Is(t).map(n=>[e].concat(tk(n))).getOr([]):[e].concat(tk(t))),ok=(e,t)=>ma(tA(t),oA(t),(n,r)=>{const a=Sn(_2(e),xt(rn,n)),c=Sn(tk(e),xt(rn,r));return a.isSome()&&c.isSome()}).getOr(!1),b0=(e,t,n,r)=>{const a=n,c=new Fa(n,a),u=_i(e.schema.getMoveCaretBeforeOnEnterElements(),(v,S)=>!Wo(["td","th","table"],S.toLowerCase()));let g=n;do{if(bt(g)&&ht.trim(g.data).length!==0){r?t.setStart(g,0):t.setEnd(g,g.data.length);return}if(u[g.nodeName]){r?t.setStartBefore(g):g.nodeName==="BR"?t.setEndBefore(g):t.setEndAfter(g);return}}while(g=r?c.next():c.prev());a.nodeName==="BODY"&&(r?t.setStart(a,0):t.setEnd(a,a.childNodes.length))},y0=e=>{const t=e.selection.getSel();return Le(t)&&t.rangeCount>0},nk=(e,t)=>{const n=zh(e);n.length>0?Ne(n,r=>{const a=r.dom,c=e.dom.createRng();c.setStartBefore(a),c.setEndAfter(a),t(c,!0)}):t(e.selection.getRng(),!1)},w2=(e,t,n)=>{const r=Ee(e,t);n(r),e.moveToBookmark(r)},ty=e=>T(e==null?void 0:e.nodeType),rk=e=>qt(e)&&!Id(e)&&!Va(e)&&!Xc(e),nA=(e,t)=>{if(rk(t)&&!/^(TD|TH)$/.test(t.nodeName)){const n=e.getAttrib(t,"data-mce-selected"),r=parseInt(n,10);return!isNaN(r)&&r>0}else return!1},C2=(e,t,n)=>{const{selection:r,dom:a}=e,c=r.getNode(),u=Wr(c);w2(r,!0,()=>{t()}),u&&Wr(c)&&a.isChildOf(c,e.getBody())?e.selection.select(c):n(r.getStart())&&S2(a,r)},S2=(e,t)=>{var n,r;const a=t.getRng(),{startContainer:c,startOffset:u}=a,g=t.getNode();if(!nA(e,g)&&qt(c)){const v=c.childNodes,S=e.getRoot();let R;if(u<v.length){const B=v[u];R=new Fa(B,(n=e.getParent(B,e.isBlock))!==null&&n!==void 0?n:S)}else{const B=v[v.length-1];R=new Fa(B,(r=e.getParent(B,e.isBlock))!==null&&r!==void 0?r:S),R.next(!0)}for(let B=R.current();B;B=R.next()){if(e.getContentEditable(B)==="false")return;if(bt(B)&&!oy(B)){a.setStart(B,0),t.setRng(a);return}}}},v0=(e,t,n)=>{if(e){const r=t?"nextSibling":"previousSibling";for(e=e[r];e;e=e[r])if(qt(e)||!oy(e))return e}},sk=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||ba(e,t),Th=(e,t,n)=>e.schema.isValidChild(t,n),oy=(e,t=!1)=>{if(Le(e)&&bt(e)){const n=t?e.data.replace(/ /g," "):e.data;return Kc(n)}else return!1},E2=e=>Le(e)&&bt(e)&&e.length===0,x0=(e,t)=>{const n="[data-mce-cef-wrappable]",r=tE(e),a=Ci(r)?n:`${n},${r}`;return Hn(me.fromDom(t),a)},ak=(e,t)=>{const n=e.dom;return rk(t)&&n.getContentEditable(t)==="false"&&x0(e,t)&&n.select('[contenteditable="true"]',t).length===0},dp=(e,t)=>It(e)?e(t):(Le(t)&&(e=e.replace(/%(\w+)/g,(n,r)=>t[r]||n)),e),ig=(e,t)=>(e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),k0=(e,t)=>{if(Ro(e))return null;{let n=String(e);return(t==="color"||t==="backgroundColor")&&(n=th(n)),t==="fontWeight"&&e===700&&(n="bold"),t==="fontFamily"&&(n=n.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),n}},ny=(e,t,n)=>{const r=e.getStyle(t,n);return k0(r,n)},Oh=(e,t)=>{let n;return e.getParent(t,r=>qt(r)?(n=e.getStyle(r,"text-decoration"),!!n&&n!=="none"):!1),n},kf=(e,t,n)=>e.getParents(t,n,e.getRoot()),ik=(e,t,n)=>{const r=e.formatter.get(t);return Le(r)&&zn(r,n)},wR=(e,t)=>ik(e,t,r=>{const a=c=>It(c)||c.length>1&&c.charAt(0)==="%";return zn(["styles","attributes"],c=>Bn(r,c).exists(u=>{const g=ve(u)?u:el(u);return zn(g,a)}))}),CR=(e,t,n)=>{const r=["inline","block","selector","attributes","styles","classes"],a=c=>_i(c,(u,g)=>zn(r,v=>v===g));return ik(e,t,c=>{const u=a(c);return ik(e,n,g=>{const v=a(g);return vs(u,v)})})},_f=e=>Oa(e,"block"),rA=e=>_f(e)&&e.wrapper===!0,sA=e=>_f(e)&&e.wrapper!==!0,rl=e=>Oa(e,"selector"),sa=e=>Oa(e,"inline"),qi=e=>rl(e)&&sa(e)&&Bi(Bn(e,"mixed"),!0),wf=e=>rl(e)&&e.expand!==!1&&!sa(e),Kn=e=>{const t=[];let n=e;for(;n;){if(bt(n)&&n.data!==Ea||n.childNodes.length>1)return[];qt(n)&&t.push(n),n=n.firstChild}return t},aA=e=>Kn(e).length>0,A2=e=>Va(e.dom)&&aA(e.dom),cr=Id,z2=kf,ry=oy,_0=sk,w0=e=>ls(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,sy=(e,t)=>{let n=t;for(;n;){if(qt(n)&&e.getContentEditable(n))return e.getContentEditable(n)==="false"?n:t;n=n.parentNode}return t},T2=(e,t,n,r)=>{const a=t.data;if(e){for(let c=n;c>0;c--)if(r(a.charAt(c-1)))return c}else for(let c=n;c<a.length;c++)if(r(a.charAt(c)))return c;return-1},SR=(e,t,n)=>T2(e,t,n,r=>Xx(r)||Ah(r)),ER=(e,t,n)=>T2(e,t,n,Jx),iA=(e,t,n,r,a,c)=>{let u;const g=e.getParent(n,B=>je(B)||e.isBlock(B)),v=Le(g)?g:t,S=(B,L,G)=>{const ae=au(e),J=a?ae.backwards:ae.forwards;return V.from(J(B,L,(ie,he)=>cr(ie.parentNode)?-1:(u=ie,G(a,ie,he)),v))};return S(n,r,SR).bind(B=>c?S(B.container,B.offset+(a?-1:0),ER):V.some(B)).orThunk(()=>u?V.some({container:u,offset:a?0:u.length}):V.none())},lA=(e,t,n,r,a)=>{const c=r[a];bt(r)&&Ci(r.data)&&c&&(r=c);const u=z2(e,r);for(let g=0;g<u.length;g++)for(let v=0;v<t.length;v++){const S=t[v];if(!(Le(S.collapsed)&&S.collapsed!==n.collapsed)&&rl(S)&&e.is(u[g],S.selector))return u[g]}return r},ys=(e,t,n,r)=>{var a;let c=n;const u=e.getRoot(),g=t[0];if(_f(g)&&(c=g.wrapper?null:e.getParent(n,g.block,u)),!c){const v=(a=e.getParent(n,"LI,TD,TH,SUMMARY"))!==null&&a!==void 0?a:u;c=e.getParent(bt(n)?n.parentNode:n,S=>S!==u&&_0(e.schema,S),v)}if(c&&_f(g)&&g.wrapper&&(c=z2(e,c,"ul,ol").reverse()[0]||c),!c)for(c=n;c&&c[r]&&!e.isBlock(c[r])&&(c=c[r],!ig(c,"br")););return c||n},O2=(e,t,n,r)=>{const a=n.parentNode;return Le(n[r])?!1:a===t||Ro(a)||e.isBlock(a)?!0:O2(e,t,a,r)},C0=(e,t,n,r,a,c)=>{let u=n;const g=a?"previousSibling":"nextSibling",v=e.getRoot();if(bt(n)&&!ry(n)&&(a?r>0:r<n.data.length))return n;for(;u;){if(je(u))return n;if(!t[0].block_expand&&e.isBlock(u))return c?u:n;for(let S=u[g];S;S=S[g]){const R=bt(S)&&!O2(e,v,S,g);if(!cr(S)&&!w0(S)&&!ry(S,R))return u}if(u===v||u.parentNode===v){n=u;break}u=u.parentNode}return n},cA=e=>cr(e.parentNode)||cr(e),Dh=(e,t,n,r={})=>{const{includeTrailingSpace:a=!1,expandToBlock:c=!0}=r,u=e.getParent(t.commonAncestorContainer,G=>je(G)),g=Le(u)?u:e.getRoot();let{startContainer:v,startOffset:S,endContainer:R,endOffset:B}=t;const L=n[0];return qt(v)&&v.hasChildNodes()&&(v=Bu(v,S),bt(v)&&(S=0)),qt(R)&&R.hasChildNodes()&&(R=Bu(R,t.collapsed?B:B-1),bt(R)&&(B=R.data.length)),v=sy(e,v),R=sy(e,R),cA(v)&&(v=cr(v)?v:v.parentNode,t.collapsed?v=v.previousSibling||v:v=v.nextSibling||v,bt(v)&&(S=t.collapsed?v.length:0)),cA(R)&&(R=cr(R)?R:R.parentNode,t.collapsed?R=R.nextSibling||R:R=R.previousSibling||R,bt(R)&&(B=t.collapsed?0:R.length)),t.collapsed&&(iA(e,g,v,S,!0,a).each(({container:J,offset:ie})=>{v=J,S=ie}),iA(e,g,R,B,!1,a).each(({container:J,offset:ie})=>{R=J,B=ie})),(sa(L)||L.block_expand)&&((!sa(L)||!bt(v)||S===0)&&(v=C0(e,n,v,S,!0,c)),(!sa(L)||!bt(R)||B===R.data.length)&&(R=C0(e,n,R,B,!1,c))),wf(L)&&(v=lA(e,n,t,v,"previousSibling"),R=lA(e,n,t,R,"nextSibling")),(_f(L)||rl(L))&&(v=ys(e,n,v,"previousSibling"),R=ys(e,n,R,"nextSibling"),_f(L)&&(e.isBlock(v)||(v=C0(e,n,v,S,!0,c),bt(v)&&(S=0)),e.isBlock(R)||(R=C0(e,n,R,B,!1,c),bt(R)&&(B=R.data.length)))),qt(v)&&v.parentNode&&(S=e.nodeIndex(v),v=v.parentNode),qt(R)&&R.parentNode&&(B=e.nodeIndex(R)+1,R=R.parentNode),{startContainer:v,startOffset:S,endContainer:R,endOffset:B}},S0=(e,t,n)=>{var r;const a=t.startOffset,c=Bu(t.startContainer,a),u=t.endOffset,g=Bu(t.endContainer,u-1),v=ie=>{const he=ie[0];bt(he)&&he===c&&a>=he.data.length&&ie.splice(0,1);const Se=ie[ie.length-1];return u===0&&ie.length>0&&Se===g&&bt(Se)&&ie.splice(ie.length-1,1),ie},S=(ie,he,Se)=>{const ze=[];for(;ie&&ie!==Se;ie=ie[he])ze.push(ie);return ze},R=(ie,he)=>e.getParent(ie,Se=>Se.parentNode===he,he),B=(ie,he,Se)=>{const ze=Se?"nextSibling":"previousSibling";for(let Me=ie,Xe=Me.parentNode;Me&&Me!==he;Me=Xe){Xe=Me.parentNode;const vt=S(Me===ie?Me:Me[ze],ze);vt.length&&(Se||vt.reverse(),n(v(vt)))}};if(c===g)return n(v([c]));const L=(r=e.findCommonAncestor(c,g))!==null&&r!==void 0?r:e.getRoot();if(e.isChildOf(c,g))return B(c,L,!0);if(e.isChildOf(g,c))return B(g,L);const G=R(c,L)||c,ae=R(g,L)||g;B(c,G,!0);const J=S(G===c?G:G.nextSibling,"nextSibling",ae===g?ae.nextSibling:ae);J.length&&n(v(J)),B(g,ae)},ad=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],Hu=e=>Qs(e)&&tm(e)===Ea,dA=(e,t,n,r)=>Wa(t).fold(()=>"skipping",a=>r==="br"||Hu(t)?"valid":Ym(t)?"existing":Va(t.dom)?"caret":zn(ad,c=>Hn(t,c))?"valid-block":!Th(e,n,r)||!Th(e,cn(a),n)?"invalid-child":"valid"),D2=(e,t)=>{const n=Dh(e.dom,t,[{inline:"span"}]);t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)},lk=(e,t,n,r,a,c)=>{const{uid:u=t,...g}=n;vc(e,Sa()),In(e,`${xs()}`,u),In(e,`${As()}`,r);const{attributes:v={},classes:S=[]}=a(u,g);if(Dl(e,v),ei(e,S),c){S.length>0&&In(e,`${uf()}`,S.join(","));const R=Je(v);R.length>0&&In(e,`${Gp()}`,R.join(","))}},ck=e=>{Pa(e,Sa()),Dn(e,`${xs()}`),Dn(e,`${As()}`),Dn(e,`${Km()}`);const t=$s(e,`${Gp()}`).map(r=>r.split(",")).getOr([]),n=$s(e,`${uf()}`).map(r=>r.split(",")).getOr([]);Ne(t,r=>Dn(e,r)),Ab(e,n),Dn(e,`${uf()}`),Dn(e,`${Gp()}`)},uA=(e,t,n,r,a)=>{const c=me.fromTag("span",e);return lk(c,t,n,r,a,!1),c},fA=(e,t,n,r,a,c)=>{const u=[],g=uA(e.getDoc(),n,c,r,a),v=cs(),S=()=>{v.clear()},R=()=>v.get().getOrThunk(()=>{const ae=su(g);return u.push(ae),v.set(ae),ae}),B=ae=>{Ne(ae,L)},L=ae=>{switch(dA(e,ae,"span",cn(ae))){case"invalid-child":{S();const ie=qa(ae);B(ie),S();break}case"valid-block":{S(),lk(ae,n,c,r,a,!0);break}case"valid":{const ie=R();Zs(ae,ie);break}}},G=ae=>{const J=$o(ae,me.fromDom);B(J)};return S0(e.dom,t,ae=>{S(),G(ae)}),u},E0=(e,t,n,r)=>{e.undoManager.transact(()=>{const a=e.selection,c=a.getRng(),u=zh(e).length>0,g=lc("mce-annotation");if(c.collapsed&&!u&&D2(e,c),a.getRng().collapsed&&!u){const v=uA(e.getDoc(),g,r,t,n.decorate);Bl(v,Fs),a.getRng().insertNode(v.dom),a.select(v.dom)}else w2(a,!1,()=>{nk(e,v=>{fA(e,v,g,t,n.decorate,r)})})})},mA=e=>{const t=Iw();xl(e,t);const n=dx(e,t),r=Ba("span"),a=c=>{Ne(c,u=>{r(u)?na(u):ck(u)})};return{register:(c,u)=>{t.register(c,u)},annotate:(c,u)=>{t.lookup(c).each(g=>{E0(e,c,g,u)})},annotationChanged:(c,u)=>{n.addListener(c,u)},remove:c=>{ji(e,V.some(c)).each(({elements:u})=>{const g=e.selection.getBookmark();a(u),e.selection.moveToBookmark(g)})},removeAll:c=>{const u=e.selection.getBookmark();To(cx(e,c),(g,v)=>{a(g)}),e.selection.moveToBookmark(u)},getAll:c=>{const u=cx(e,c);return ki(u,g=>$o(g,v=>v.dom))}}},lg=e=>({getBookmark:xt(YE,e),moveToBookmark:xt(Qb,e)});lg.isBookmarkNode=Id;const dk=(e,t,n)=>n.collapsed?!1:zn(n.getClientRects(),r=>tp(r,e,t)),R2=()=>me.fromDom(document),ay=(e,t=!1)=>e.dom.focus({preventScroll:t}),pA=e=>{const t=kc(e).dom;return e.dom===t.activeElement},N2=(e=R2())=>V.from(e.dom.activeElement).map(me.fromDom),Cf=e=>N2(kc(e)).filter(t=>e.dom.contains(t.dom)),iy={create:(e,t,n,r)=>({start:e,soffset:t,finish:n,foffset:r})},uk=jt.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),id=(e,t,n,r)=>e.fold(t,n,r),Gr=e=>e.fold(zt,zt,zt),AR=uk.before,Rh=uk.on,A0=uk.after,cm={before:AR,on:Rh,after:A0,cata:id,getStart:Gr},ly=jt.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),M2=e=>ly.exact(e.start,e.soffset,e.finish,e.foffset),zR=e=>e.match({domRange:t=>me.fromDom(t.startContainer),relative:(t,n)=>cm.getStart(t),exact:(t,n,r,a)=>t}),B2=ly.domRange,TR=ly.relative,gA=ly.exact,hA=e=>{const t=zR(e);return bu(t)},I2=iy.create,Nh={domRange:B2,relative:TR,exact:gA,exactFromRange:M2,getWin:hA,range:I2},z0=(e,t)=>{const n=Qs(t)?tm(t).length:qa(t).length+1;return e>n?n:e<0?0:e},OR=e=>Nh.range(e.start,z0(e.soffset,e.start),e.finish,z0(e.foffset,e.finish)),bA=(e,t)=>!Lp(t.dom)&&(Za(e,t)||rn(e,t)),yA=e=>t=>bA(e,t.start)&&bA(e,t.finish),DR=e=>e.inline||Nt.browser.isFirefox(),RR=e=>Nh.range(me.fromDom(e.startContainer),e.startOffset,me.fromDom(e.endContainer),e.endOffset),vA=e=>{const t=e.getSelection();return(!t||t.rangeCount===0?V.none():V.from(t.getRangeAt(0))).map(RR)},NR=e=>{const t=bu(e);return vA(t.dom).filter(yA(e))},MR=(e,t)=>V.from(t).filter(yA(e)).map(OR),xA=e=>{const t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),V.some(t)}catch{return V.none()}},fk=e=>{const t=DR(e)?NR(me.fromDom(e.getBody())):V.none();e.bookmark=t.isSome()?t:e.bookmark},mk=e=>(e.bookmark?e.bookmark:V.none()).bind(n=>MR(me.fromDom(e.getBody()),n)).bind(xA),BR=e=>{mk(e).each(t=>e.selection.setRng(t))},P2={isEditorUIElement:e=>{const t=e.className.toString();return t.indexOf("tox-")!==-1||t.indexOf("mce-")!==-1}},du=(e,t)=>(T(t)||(t=0),setTimeout(e,t)),IR=(e,t)=>(T(t)||(t=0),setInterval(e,t)),Ld={setEditorTimeout:(e,t,n)=>du(()=>{e.removed||t()},n),setEditorInterval:(e,t,n)=>{const r=IR(()=>{e.removed?clearInterval(r):t()},n);return r}},L2=e=>e.type==="nodechange"&&e.selectionChange,F2=(e,t)=>{const n=()=>{t.throttle()};qn.DOM.bind(document,"mouseup",n),e.on("remove",()=>{qn.DOM.unbind(document,"mouseup",n)})},kA=(e,t)=>{e.on("mouseup touchend",n=>{t.throttle()})},_A=(e,t)=>{kA(e,t),e.on("keyup NodeChange AfterSetSelectionRange",n=>{L2(n)||fk(e)})},wA=e=>{const t=Hs(()=>{fk(e)},0);e.on("init",()=>{e.inline&&F2(e,t),_A(e,t)}),e.on("remove",()=>{t.cancel()})};let Mh;const Rc=qn.DOM,PR=e=>qt(e)&&P2.isEditorUIElement(e),T0=e=>{const t=e.classList;return t!==void 0?t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"):!1},pk=(e,t)=>{const n=t2(e);return Rc.getParent(t,a=>PR(a)||(n?e.dom.is(a,n):!1))!==null},O0=e=>{try{const t=kc(me.fromDom(e.getElement()));return N2(t).fold(()=>document.body,n=>n.dom)}catch{return document.body}},Sf=(e,t)=>{const n=t.editor;wA(n);const r=(a,c)=>{if(nR(a)&&a.inline!==!0){const u=me.fromDom(a.getContainer());c(u,"tox-edit-focus")}};n.on("focusin",()=>{const a=e.focusedEditor;T0(O0(n))&&r(n,vc),a!==n&&(a&&a.dispatch("blur",{focusedEditor:n}),e.setActive(n),e.focusedEditor=n,n.dispatch("focus",{blurredEditor:a}),n.focus(!0))}),n.on("focusout",()=>{Ld.setEditorTimeout(n,()=>{const a=e.focusedEditor;(!T0(O0(n))||a!==n)&&r(n,Pa),!pk(n,O0(n))&&a===n&&(n.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),Mh||(Mh=a=>{const c=e.activeEditor;c&&_u(a).each(u=>{const g=u;g.ownerDocument===document&&g!==document.body&&!pk(c,g)&&e.focusedEditor===c&&(c.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},Rc.bind(document,"focusin",Mh))},H2=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&Mh&&(Rc.unbind(document,"focusin",Mh),Mh=null)},gk=e=>{e.on("AddEditor",xt(Sf,e)),e.on("RemoveEditor",xt(H2,e))},CA=(e,t)=>e.dom.getParent(t,n=>e.dom.getContentEditable(n)==="true"),LR=(e,t)=>e.dom.getParent(t,n=>e.dom.getContentEditable(n)==="false")!==null,SA=e=>e.collapsed?V.from(Bu(e.startContainer,e.startOffset)).map(me.fromDom):V.none(),EA=(e,t)=>SA(t).bind(n=>fx(n)?V.some(n):Za(e,n)?V.none():V.some(e)),hk=(e,t)=>{EA(me.fromDom(e.getBody()),t).bind(n=>Zl(n.dom)).fold(()=>{e.selection.normalize()},n=>e.selection.setRng(n.toRange()))},D0=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},Bh=e=>pA(e)||Cf(e).isSome(),AA=e=>Le(e.iframeElement)&&pA(me.fromDom(e.iframeElement)),zA=e=>{const t=e.getBody();return t&&Bh(me.fromDom(t))},TA=e=>{const t=kc(me.fromDom(e.getElement()));return N2(t).filter(n=>!T0(n.dom)&&pk(e,n.dom)).isSome()},cy=e=>e.inline?zA(e):AA(e),R0=e=>cy(e)||TA(e),Ih=e=>{const t=e.selection,n=e.getBody();let r=t.getRng();e.quirks.refreshContentEditable();const a=u=>{mk(u).each(g=>{u.selection.setRng(g),r=g})};!cy(e)&&e.hasEditableRoot()&&a(e);const c=CA(e,t.getNode());if(c&&e.dom.isChildOf(c,n)){LR(e,c)||D0(n),D0(c),e.hasEditableRoot()||a(e),hk(e,r),V2(e);return}e.inline||(Nt.browser.isOpera()||D0(n),e.getWin().focus()),(Nt.browser.isFirefox()||e.inline)&&(D0(n),hk(e,r)),V2(e)},V2=e=>e.editorManager.setActive(e),FR=(e,t)=>{e.removed||(t?V2(e):Ih(e))},Ht={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||Ht.metaKeyPressed(e),metaKeyPressed:e=>Nt.os.isMacOS()||Nt.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},cg="data-mce-selected",OA="table,img,figure.image,hr,video,span.mce-preview-object,details",DA=Math.abs,N0=Math.round,Ef={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},RA=e=>e.type==="longpress"||e.type.indexOf("touch")===0,$2=(e,t)=>{const n=t.dom,r=t.getDoc(),a=document,c=t.getBody();let u,g,v,S,R,B,L,G,ae,J,ie,he,Se,ze,Me;const Xe=at=>Le(at)&&(tr(at)||n.is(at,"figure.image")),vt=at=>hl(at)||n.hasClass(at,"mce-preview-object"),Lt=(at,Dt)=>{if(RA(at)){const zo=at.touches[0];return Xe(at.target)&&!dk(zo.clientX,zo.clientY,Dt)}else return Xe(at.target)&&!dk(at.clientX,at.clientY,Dt)},We=at=>{const Dt=at.target;Lt(at,t.selection.getRng())&&!at.isDefaultPrevented()&&t.selection.select(Dt)},He=at=>n.hasClass(at,"mce-preview-object")&&Le(at.firstElementChild)?[at,at.firstElementChild]:n.is(at,"figure.image")?[at.querySelector("img")]:[at],tt=at=>{const Dt=qb(t);return!Dt||t.mode.isReadOnly()||at.getAttribute("data-mce-resize")==="false"||at===t.getBody()?!1:n.hasClass(at,"mce-preview-object")&&Le(at.firstElementChild)?Hn(me.fromDom(at.firstElementChild),Dt):Hn(me.fromDom(at),Dt)},Rt=(at,Dt)=>{if(vt(Dt))return at.create("img",{src:Nt.transparentSrc});if(Jc(Dt)){const Hr=ir(S.name,"n")?mt:io,mn=Dt.cloneNode(!0);return Hr(at.select("tr",mn)).each(El=>{const $f=at.select("td,th",El);at.setStyle(El,"height",null),Ne($f,Fg=>at.setStyle(Fg,"height",null))}),mn}else return Dt.cloneNode(!0)},ro=(at,Dt,zo)=>{if(Le(zo)){const Hr=He(at);Ne(Hr,mn=>{mn.style[Dt]||!t.schema.isValid(mn.nodeName.toLowerCase(),Dt)?n.setStyle(mn,Dt,zo):n.setAttrib(mn,Dt,""+zo)})}},Go=(at,Dt,zo)=>{ro(at,"width",Dt),ro(at,"height",zo)},Jo=at=>{let Dt,zo,Hr,mn,El;Dt=at.screenX-B,zo=at.screenY-L,he=Dt*S[2]+G,Se=zo*S[3]+ae,he=he<5?5:he,Se=Se<5?5:Se,(Xe(u)||vt(u))&&Dx(t)!==!1?Hr=!Ht.modifierPressed(at):Hr=Ht.modifierPressed(at),Hr&&(DA(Dt)>DA(zo)?(Se=N0(he*J),he=N0(Se/J)):(he=N0(Se/J),Se=N0(he*J))),Go(g,he,Se),mn=S.startPos.x+Dt,El=S.startPos.y+zo,mn=mn>0?mn:0,El=El>0?El:0,n.setStyles(v,{left:mn,top:El,display:"block"}),v.innerHTML=he+" &times; "+Se,Dt=c.scrollWidth-ze,zo=c.scrollHeight-Me,Dt+zo!==0&&n.setStyles(v,{left:mn-Dt,top:El-zo}),ie||(lp(t,u,G,ae,"corner-"+S.name),ie=!0)},nr=()=>{const at=ie;ie=!1,at&&(ro(u,"width",he),ro(u,"height",Se)),n.unbind(r,"mousemove",Jo),n.unbind(r,"mouseup",nr),a!==r&&(n.unbind(a,"mousemove",Jo),n.unbind(a,"mouseup",nr)),n.remove(g),n.remove(v),n.remove(R),Dr(u),at&&(ti(t,u,he,Se,"corner-"+S.name),n.setAttrib(u,"style",n.getAttrib(u,"style"))),t.nodeChanged()},Dr=at=>{so();const Dt=n.getPos(at,c),zo=Dt.x,Hr=Dt.y,mn=at.getBoundingClientRect(),El=mn.width||mn.right-mn.left,$f=mn.height||mn.bottom-mn.top;u!==at&&(Ki(),u=at,he=Se=0);const Fg=t.dispatch("ObjectSelected",{target:at});tt(at)&&!Fg.isDefaultPrevented()?To(Ef,(ud,Cm)=>{const Gu=fd=>{const jf=He(u)[0];B=fd.screenX,L=fd.screenY,G=jf.clientWidth,ae=jf.clientHeight,J=ae/G,S=ud,S.name=Cm,S.startPos={x:El*ud[0]+zo,y:$f*ud[1]+Hr},ze=c.scrollWidth,Me=c.scrollHeight,R=n.add(c,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),n.setStyles(R,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),g=Rt(n,u),n.addClass(g,"mce-clonedresizable"),n.setAttrib(g,"data-mce-bogus","all"),g.contentEditable="false",n.setStyles(g,{left:zo,top:Hr,margin:0}),Go(g,El,$f),g.removeAttribute(cg),c.appendChild(g),n.bind(r,"mousemove",Jo),n.bind(r,"mouseup",nr),a!==r&&(n.bind(a,"mousemove",Jo),n.bind(a,"mouseup",nr)),v=n.add(c,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},G+" &times; "+ae)};let Mc=n.get("mceResizeHandle"+Cm);Mc&&n.remove(Mc),Mc=n.add(c,"div",{id:"mceResizeHandle"+Cm,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Cm+"-resize; margin:0; padding:0"}),n.bind(Mc,"mousedown",fd=>{fd.stopImmediatePropagation(),fd.preventDefault(),Gu(fd)}),ud.elm=Mc,n.setStyles(Mc,{left:El*ud[0]+zo-Mc.offsetWidth/2,top:$f*ud[1]+Hr-Mc.offsetHeight/2})}):Ki(!1)},za=Hs(Dr,0),Ki=(at=!0)=>{za.cancel(),so(),u&&at&&u.removeAttribute(cg),To(Ef,(Dt,zo)=>{const Hr=n.get("mceResizeHandle"+zo);Hr&&(n.unbind(Hr),n.remove(Hr))})},Yi=(at,Dt)=>n.isChildOf(at,Dt),At=at=>{if(ie||t.removed||t.composing)return;const Dt=at.type==="mousedown"?at.target:e.getNode(),zo=oa(me.fromDom(Dt),OA).map(mn=>mn.dom).filter(mn=>n.isEditable(mn.parentElement)||mn.nodeName==="IMG"&&n.isEditable(mn)).getOrUndefined(),Hr=Le(zo)?n.getAttrib(zo,cg,"1"):"1";if(Ne(n.select(`img[${cg}],hr[${cg}]`),mn=>{mn.removeAttribute(cg)}),Le(zo)&&Yi(zo,c)&&R0(t)){Yn();const mn=e.getStart(!0);if(Yi(mn,zo)&&Yi(e.getEnd(!0),zo)){n.setAttrib(zo,cg,Hr),za.throttle(zo);return}}Ki()},so=()=>{To(Ef,at=>{at.elm&&(n.unbind(at.elm),delete at.elm)})},Yn=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return t.on("init",()=>{Yn(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",At),t.on("keyup compositionend",at=>{u&&u.nodeName==="TABLE"&&At(at)}),t.on("hide blur",Ki),t.on("contextmenu longpress",We,!0)}),t.on("remove",so),{isResizable:tt,showResizeRect:Dr,hideResizeRect:Ki,updateResizeRect:At,destroy:()=>{za.cancel(),u=g=R=null}}},NA=(e,t)=>{t.fold(n=>{e.setStartBefore(n.dom)},(n,r)=>{e.setStart(n.dom,r)},n=>{e.setStartAfter(n.dom)})},bk=(e,t)=>{t.fold(n=>{e.setEndBefore(n.dom)},(n,r)=>{e.setEnd(n.dom,r)},n=>{e.setEndAfter(n.dom)})},j2=(e,t,n)=>{const r=e.document.createRange();return NA(r,t),bk(r,n),r},yk=(e,t,n,r,a)=>{const c=e.document.createRange();return c.setStart(t.dom,n),c.setEnd(r.dom,a),c},M0=jt.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),B0=(e,t,n)=>t(me.fromDom(n.startContainer),n.startOffset,me.fromDom(n.endContainer),n.endOffset),MA=(e,t)=>t.match({domRange:n=>({ltr:Ce(n),rtl:V.none}),relative:(n,r)=>({ltr:Ra(()=>j2(e,n,r)),rtl:Ra(()=>V.some(j2(e,r,n)))}),exact:(n,r,a,c)=>({ltr:Ra(()=>yk(e,n,r,a,c)),rtl:Ra(()=>V.some(yk(e,a,c,n,r)))})}),U2=(e,t)=>{const n=t.ltr();return n.collapsed?t.rtl().filter(a=>a.collapsed===!1).map(a=>M0.rtl(me.fromDom(a.endContainer),a.endOffset,me.fromDom(a.startContainer),a.startOffset)).getOrThunk(()=>B0(e,M0.ltr,n)):B0(e,M0.ltr,n)},BA=(e,t)=>{const n=MA(e,t);return U2(e,n)};M0.ltr,M0.rtl;const Z2=(e,t,n)=>{var r;return V.from((r=e.caretPositionFromPoint)===null||r===void 0?void 0:r.call(e,t,n)).bind(a=>{if(a.offsetNode===null)return V.none();const c=e.createRange();return c.setStart(a.offsetNode,a.offset),c.collapse(),V.some(c)})},IA=(e,t,n)=>{var r;return V.from((r=e.caretRangeFromPoint)===null||r===void 0?void 0:r.call(e,t,n))},vk=(e,t,n)=>e.caretPositionFromPoint?Z2(e,t,n):e.caretRangeFromPoint?IA(e,t,n):V.none(),up=(e,t,n)=>{const r=e.document;return vk(r,t,n).map(a=>iy.create(me.fromDom(a.startContainer),a.startOffset,me.fromDom(a.endContainer),a.endOffset))},xk=(e,t)=>{const n=cn(e);return n==="input"?cm.after(e):Wo(["br","img"],n)?t===0?cm.before(e):cm.after(e):cm.on(e,t)},W2=(e,t)=>{const n=e.fold(cm.before,xk,cm.after),r=t.fold(cm.before,xk,cm.after);return Nh.relative(n,r)},aa=(e,t,n,r)=>{const a=xk(e,t),c=xk(n,r);return Nh.relative(a,c)},q2=e=>e.match({domRange:t=>{const n=me.fromDom(t.startContainer),r=me.fromDom(t.endContainer);return aa(n,t.startOffset,r,t.endOffset)},relative:W2,exact:aa}),I0=(e,t)=>{const r=document.createDocumentFragment();return Ne(e,a=>{r.appendChild(a.dom)}),me.fromDom(r)},fp=e=>{const t=Nh.getWin(e).dom,n=(a,c,u,g)=>yk(t,a,c,u,g),r=q2(e);return BA(t,r).match({ltr:n,rtl:n})},PA=(e,t,n)=>up(e,t,n),G2=(e,t,n)=>{const r=bu(me.fromDom(n));return PA(r.dom,e,t).map(a=>{const c=n.createRange();return c.setStart(a.start.dom,a.soffset),c.setEnd(a.finish.dom,a.foffset),c}).getOrUndefined()},Ph=(e,t)=>Le(e)&&Le(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,HR=(e,t,n)=>{let r=e;for(;r&&r!==t;){if(n(r))return r;r=r.parentNode}return null},LA=(e,t,n)=>HR(e,t,n)!==null,dy=(e,t,n)=>LA(e,t,r=>r.nodeName===n),VR=(e,t)=>cc(e)&&!LA(e,t,Va),dg=(e,t,n)=>{const r=t.parentNode;if(r){const a=new Fa(t,e.getParent(r,e.isBlock)||e.getRoot());let c;for(;c=a[n?"prev":"next"]();)if(ls(c))return!0}return!1},$R=(e,t)=>{var n;return((n=e.previousSibling)===null||n===void 0?void 0:n.nodeName)===t},ug=(e,t)=>{let n=t;for(;n&&n!==e;){if(Wr(n))return!0;n=n.parentNode}return!1},K2=(e,t,n,r,a)=>{const c=e.getRoot(),u=e.schema.getNonEmptyElements(),g=a.parentNode;let v,S;if(!g)return V.none();const R=e.getParent(g,e.isBlock)||c;if(r&&ls(a)&&t&&e.isEmpty(R))return V.some($e(g,e.nodeIndex(a)));const B=new Fa(a,R);for(;S=B[r?"prev":"next"]();){if(e.getContentEditableParent(S)==="false"||VR(S,c))return V.none();if(bt(S)&&S.data.length>0)return dy(S,c,"A")?V.none():V.some($e(S,r?S.data.length:0));if(e.isBlock(S)||u[S.nodeName.toLowerCase()])return V.none();v=S}return Fi(v)?V.none():n&&v?V.some($e(v,0)):V.none()},Fd=(e,t,n,r)=>{const a=e.getRoot();let c,u=!1,g=n?r.startContainer:r.endContainer,v=n?r.startOffset:r.endOffset;const S=qt(g)&&v===g.childNodes.length,R=e.schema.getNonEmptyElements();let B=n;if(cc(g))return V.none();if(qt(g)&&v>g.childNodes.length-1&&(B=!1),Qd(g)&&(g=a,v=0),g===a){if(B&&(c=g.childNodes[v>0?v-1:0],c&&(cc(c)||R[c.nodeName]||Jc(c))))return V.none();if(g.hasChildNodes()){if(v=Math.min(!B&&v>0?v-1:v,g.childNodes.length-1),g=g.childNodes[v],v=bt(g)&&S?g.data.length:0,!t&&g===a.lastChild&&Jc(g)||ug(a,g)||cc(g)||Od(g))return V.none();if(g.hasChildNodes()&&!Jc(g)){c=g;const L=new Fa(g,a);do{if(Wr(c)||cc(c)){u=!1;break}if(bt(c)&&c.data.length>0){v=B?0:c.data.length,g=c,u=!0;break}if(R[c.nodeName.toLowerCase()]&&!rc(c)){v=e.nodeIndex(c),g=c.parentNode,B||v++,u=!0;break}}while(c=B?L.next():L.prev())}}}return t&&(bt(g)&&v===0&&K2(e,S,t,!0,g).each(L=>{g=L.container(),v=L.offset(),u=!0}),qt(g)&&(c=g.childNodes[v],c||(c=g.childNodes[v-1]),c&&ls(c)&&!$R(c,"A")&&!dg(e,c,!1)&&!dg(e,c,!0)&&K2(e,S,t,!0,c).each(L=>{g=L.container(),v=L.offset(),u=!0}))),B&&!t&&bt(g)&&v===g.data.length&&K2(e,S,t,!1,g).each(L=>{g=L.container(),v=L.offset(),u=!0}),u&&g?V.some($e(g,v)):V.none()},fg=(e,t)=>{const n=t.collapsed,r=t.cloneRange(),a=$e.fromRangeStart(t);return Fd(e,n,!0,r).each(c=>{(!n||!$e.isAbove(a,c))&&r.setStart(c.container(),c.offset())}),n||Fd(e,n,!1,r).each(c=>{r.setEnd(c.container(),c.offset())}),n&&r.collapse(!0),Ph(t,r)?V.none():V.some(r)},uy=(e,t)=>e.splitText(t),fy=e=>{let t=e.startContainer,n=e.startOffset,r=e.endContainer,a=e.endOffset;if(t===r&&bt(t)){if(n>0&&n<t.data.length)if(r=uy(t,n),t=r.previousSibling,a>n){a=a-n;const c=uy(r,a).previousSibling;t=r=c,a=c.data.length,n=0}else a=0}else if(bt(t)&&n>0&&n<t.data.length&&(t=uy(t,n),n=0),bt(r)&&a>0&&a<r.data.length){const c=uy(r,a).previousSibling;r=c,a=c.data.length}return{startContainer:t,startOffset:n,endContainer:r,endOffset:a}},Lh=e=>({walk:(c,u)=>S0(e,c,u),split:fy,expand:(c,u={type:"word"})=>{if(u.type==="word"){const g=Dh(e,c,[{inline:"span"}],{includeTrailingSpace:!1,expandToBlock:!1}),v=e.createRng();return v.setStart(g.startContainer,g.startOffset),v.setEnd(g.endContainer,g.endOffset),v}return c},normalize:c=>fg(e,c).fold(an,u=>(c.setStart(u.startContainer,u.startOffset),c.setEnd(u.endContainer,u.endOffset),!0))});Lh.compareRanges=Ph,Lh.getCaretRangeFromPoint=G2,Lh.getSelectedNode=Qp,Lh.getNode=Bu;const jR=((e,t)=>{const n=(g,v)=>{if(!T(v)&&!v.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+v);const S=g.dom;wu(S)&&(S.style[e]=v+"px")},r=g=>{const v=t(g);if(v<=0||v===null){const S=er(g,e);return parseFloat(S)||0}return v},a=r,c=(g,v)=>mo(v,(S,R)=>{const B=er(g,R),L=B===void 0?0:parseInt(B,10);return isNaN(L)?S:S+L},0);return{set:n,get:r,getOuter:a,aggregate:c,max:(g,v,S)=>{const R=c(g,S);return v>R?v-R:0}}})("height",e=>{const t=e.dom;return La(e)?t.getBoundingClientRect().height:t.offsetHeight}),Vu=e=>jR.get(e),P0=(e,t)=>e.view(t).fold(Ce([]),r=>{const a=e.owner(r),c=P0(e,a);return[r].concat(c)}),FA=(e,t)=>{const n=t.owner(e);return P0(t,n)};var my=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?V.none():V.from((t=e.dom.defaultView)===null||t===void 0?void 0:t.frameElement)).map(me.fromDom)},owner:e=>dl(e)});const X2=e=>{const t=R2(),n=Kt(t),r=FA(e,my),a=bo(e),c=to(r,(u,g)=>{const v=bo(g);return{left:u.left+v.left,top:u.top+v.top}},{left:0,top:0});return ge(c.left+a.left+n.left,c.top+a.top+n.top)},kk=e=>cn(e)==="textarea",UR=(e,t)=>e.dispatch("ScrollIntoView",t).isDefaultPrevented(),L0=(e,t)=>{e.dispatch("AfterScrollIntoView",t)},ZR=(e,t)=>{const n=qa(e);if(n.length===0||kk(e))return{element:e,offset:t};if(t<n.length&&!kk(n[t]))return{element:n[t],offset:0};{const r=n[n.length-1];return kk(r)?{element:e,offset:t}:cn(r)==="img"?{element:r,offset:1}:Qs(r)?{element:r,offset:tm(r).length}:{element:r,offset:qa(r).length}}},J2=(e,t)=>{const n=Bo(e),r=Vu(e);return{element:e,bottom:n.top+r,height:r,pos:n,cleanup:t}},Q2=(e,t)=>{const n=ZR(e,t),r=me.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+Ea+"</span>");return is(n.element,r),J2(r,()=>_n(r))},WR=e=>J2(me.fromDom(e),Qt),eC=(e,t,n,r)=>{GR(e,(a,c)=>qR(e,t,n,r),n)},F0=(e,t,n,r,a)=>{const c={elm:r.element.dom,alignToTop:a};if(UR(e,c))return;const u=Kt(t).top;n(e,t,u,r,a),L0(e,c)},qR=(e,t,n,r)=>{const a=me.fromDom(e.getBody()),c=me.fromDom(e.getDoc());Te(a);const u=Q2(me.fromDom(n.startContainer),n.startOffset);F0(e,c,t,u,r),u.cleanup()},$A=(e,t,n,r)=>{const a=me.fromDom(e.getDoc());F0(e,a,n,WR(t),r)},GR=(e,t,n)=>{const r=n.startContainer,a=n.startOffset,c=n.endContainer,u=n.endOffset;t(me.fromDom(r),me.fromDom(c));const g=e.dom.createRng();g.setStart(r,a),g.setEnd(c,u),e.selection.setRng(n)},tC=(e,t,n,r,a)=>{const c=t.pos;if(r)Nr(c.left,c.top,a);else{const u=c.top-n+t.height;Nr(-e.getBody().getBoundingClientRect().left,u,a)}},_k=(e,t,n,r,a,c)=>{const u=r+n,g=a.pos.top,v=a.bottom,S=v-g>=r;g<n?tC(e,a,r,c!==!1,t):g>u?tC(e,a,r,S?c!==!1:c===!0,t):v>u&&!S&&tC(e,a,r,c===!0,t)},jA=(e,t,n,r,a)=>{const c=bu(t).dom.innerHeight;_k(e,t,n,c,r,a)},UA=(e,t,n,r,a)=>{const c=bu(t).dom.innerHeight;_k(e,t,n,c,r,a);const u=X2(r.element),g=_c(window);u.top<g.y?Zr(r.element,a!==!1):u.top>g.bottom&&Zr(r.element,a===!0)},KR=(e,t,n)=>eC(e,jA,t,n),YR=(e,t,n)=>$A(e,t,jA,n),XR=(e,t,n)=>eC(e,UA,t,n),JR=(e,t,n)=>$A(e,t,UA,n),QR=(e,t,n)=>{(e.inline?YR:JR)(e,t,n)},H0=(e,t,n)=>{(e.inline?KR:XR)(e,t,n)},ZA=(e,t)=>t.collapsed?e.isEditable(t.startContainer):e.isEditable(t.startContainer)&&e.isEditable(t.endContainer),WA=(e,t,n,r,a)=>{const c=n?t.startContainer:t.endContainer,u=n?t.startOffset:t.endOffset;return V.from(c).map(me.fromDom).map(g=>!r||!t.collapsed?Zc(g,a(g,u)).getOr(g):g).bind(g=>Ei(g)?V.some(g):Wa(g).filter(Ei)).map(g=>g.dom).getOr(e)},oC=(e,t,n=!1)=>WA(e,t,!0,n,(r,a)=>Math.min(Wc(r),a)),qA=(e,t,n=!1)=>WA(e,t,!1,n,(r,a)=>a>0?a-1:a),Fh=(e,t)=>{const n=e;for(;e&&bt(e)&&e.length===0;)e=t?e.nextSibling:e.previousSibling;return e||n},eN=(e,t)=>{if(!t)return e;let n=t.startContainer,r=t.endContainer;const a=t.startOffset,c=t.endOffset;let u=t.commonAncestorContainer;t.collapsed||(n===r&&c-a<2&&n.hasChildNodes()&&(u=n.childNodes[a]),bt(n)&&bt(r)&&(n.length===a?n=Fh(n.nextSibling,!0):n=n.parentNode,c===0?r=Fh(r.previousSibling,!1):r=r.parentNode,n&&n===r&&(u=n)));const g=bt(u)?u.parentNode:u;return Pl(g)?g:e},tN=(e,t,n,r)=>{const a=[],c=e.getRoot(),u=e.getParent(n||oC(c,t,t.collapsed),e.isBlock),g=e.getParent(r||qA(c,t,t.collapsed),e.isBlock);if(u&&u!==c&&a.push(u),u&&g&&u!==g){let v;const S=new Fa(u,c);for(;(v=S.next())&&v!==g;)e.isBlock(v)&&a.push(v)}return g&&u!==g&&g!==c&&a.push(g),a},GA=(e,t,n)=>V.from(t).bind(r=>V.from(r.parentNode).map(a=>{const c=e.nodeIndex(r),u=e.createRng();return u.setStart(a,c),u.setEnd(a,c+1),n&&(b0(e,u,r,!0),b0(e,u,r,!1)),u})),nC=(e,t)=>$o(t,n=>{const r=e.dispatch("GetSelectionRange",{range:n});return r.range!==n?r.range:n}),oN={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},wk=(e,t,n)=>{const r=n?"lastChild":"firstChild",a=n?"prev":"next";if(e[r])return e[r];if(e!==t){let c=e[a];if(c)return c;for(let u=e.parent;u&&u!==t;u=u.parent)if(c=u[a],c)return c}},nN=e=>{var t;const n=(t=e.value)!==null&&t!==void 0?t:"";if(!Kc(n))return!1;const r=e.parent;return!(r&&(r.name!=="span"||r.attr("style"))&&/^[ ]+$/.test(n))},KA=e=>{const t=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class fc{static create(t,n){const r=new fc(t,oN[t]||1);return n&&To(n,(a,c)=>{r.attr(c,a)}),r}constructor(t,n){this.name=t,this.type=n,n===1&&(this.attributes=[],this.attributes.map={})}replace(t){const n=this;return t.parent&&t.remove(),n.insert(t,n),n.remove(),n}attr(t,n){const r=this;if(!pt(t))return Le(t)&&To(t,(c,u)=>{r.attr(u,c)}),r;const a=r.attributes;if(a){if(n!==void 0){if(n===null){if(t in a.map){delete a.map[t];let c=a.length;for(;c--;)if(a[c].name===t)return a.splice(c,1),r}return r}if(t in a.map){let c=a.length;for(;c--;)if(a[c].name===t){a[c].value=n;break}}else a.push({name:t,value:n});return a.map[t]=n,r}return a.map[t]}}clone(){const t=this,n=new fc(t.name,t.type),r=t.attributes;if(r){const a=[];a.map={};for(let c=0,u=r.length;c<u;c++){const g=r[c];g.name!=="id"&&(a[a.length]={name:g.name,value:g.value},a.map[g.name]=g.value)}n.attributes=a}return n.value=t.value,n}wrap(t){const n=this;return n.parent&&(n.parent.insert(t,n),t.append(n)),n}unwrap(){const t=this;for(let n=t.firstChild;n;){const r=n.next;t.insert(n,t,!0),n=r}t.remove()}remove(){const t=this,n=t.parent,r=t.next,a=t.prev;return n&&(n.firstChild===t?(n.firstChild=r,r&&(r.prev=null)):a&&(a.next=r),n.lastChild===t?(n.lastChild=a,a&&(a.next=null)):r&&(r.prev=a),t.parent=t.next=t.prev=null),t}append(t){const n=this;t.parent&&t.remove();const r=n.lastChild;return r?(r.next=t,t.prev=r,n.lastChild=t):n.lastChild=n.firstChild=t,t.parent=n,t}insert(t,n,r){t.parent&&t.remove();const a=n.parent||this;return r?(n===a.firstChild?a.firstChild=t:n.prev&&(n.prev.next=t),t.prev=n.prev,t.next=n,n.prev=t):(n===a.lastChild?a.lastChild=t:n.next&&(n.next.prev=t),t.next=n.next,t.prev=n,n.next=t),t.parent=a,t}getAll(t){const n=this,r=[];for(let a=n.firstChild;a;a=wk(a,n))a.name===t&&r.push(a);return r}children(){const t=this,n=[];for(let r=t.firstChild;r;r=r.next)n.push(r);return n}empty(){const t=this;if(t.firstChild){const n=[];for(let a=t.firstChild;a;a=wk(a,t))n.push(a);let r=n.length;for(;r--;){const a=n[r];a.parent=a.firstChild=a.lastChild=a.next=a.prev=null}}return t.firstChild=t.lastChild=null,t}isEmpty(t,n={},r){var a;const c=this;let u=c.firstChild;if(KA(c))return!1;if(u)do{if(u.type===1){if(u.attr("data-mce-bogus"))continue;if(t[u.name]||KA(u))return!1}if(u.type===8||u.type===3&&!nN(u)||u.type===3&&u.parent&&n[u.parent.name]&&Kc((a=u.value)!==null&&a!==void 0?a:"")||r&&r(u))return!1}while(u=wk(u,c));return!0}walk(t){return wk(this,null,t)}}const rC=ht.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),py=e=>pt(e.nodeValue)&&e.nodeValue.includes(Ea),sC=e=>`${e.length===0?"":`${$o(e,t=>`[${t}]`).join(",")},`}[data-mce-bogus="all"]`,V0=(e,t)=>t.querySelectorAll(sC(e)),aC=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,t=>py(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),$0=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,t=>{if(py(t)){const n=t.parentNode;return n&&go(rC,n.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),Ck=e=>aC(e).nextNode()!==null,Af=e=>$0(e).nextNode()!==null,zf=(e,t)=>t.querySelector(sC(e))!==null,YA=(e,t)=>{Ne(V0(e,t),n=>{const r=me.fromDom(n);Ia(r,"data-mce-bogus")==="all"?_n(r):Ne(e,a=>{ll(r,a)&&Dn(r,a)})})},gy=e=>{let t=e.nextNode();for(;t!==null;)t.nodeValue=null,t=e.nextNode()},XA=Oo(gy,aC),rN=Oo(gy,$0),hy=(e,t)=>{const n=[{condition:xt(zf,t),action:xt(YA,t)},{condition:Ck,action:XA},{condition:Af,action:rN}];let r=e,a=!1;return Ne(n,({condition:c,action:u})=>{c(r)&&(a||(r=e.cloneNode(!0),a=!0),u(r))}),r},iC=e=>{const t=Cs(e,"[data-mce-bogus]");Ne(t,n=>{Ia(n,"data-mce-bogus")==="all"?_n(n):Mu(n)?(is(n,me.fromText(wc)),_n(n)):na(n)})},Gs=e=>{const t=Cs(e,"input");Ne(t,n=>{Dn(n,"name")})},sN=(e,t)=>{const n=Ul(e),r=new RegExp(`^(<${n}[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/${n}>[\r
]*|<br \\/>[\r
]*)$`);return t.replace(r,"")},aN=(e,t)=>{const n=e.getDoc(),r=kc(me.fromDom(e.getBody())),a=me.fromTag("div",n);In(a,"data-mce-bogus","all"),Nl(a,{position:"fixed",left:"-9999999px",top:"0"}),Bl(a,t.innerHTML),iC(a),Gs(a);const c=ku(r);lr(c,a);const u=Zi(a.dom.innerText);return _n(a),u},by=(e,t,n)=>{let r;return t.format==="raw"?r=ht.trim(Zi(hy(n,e.serializer.getTempAttrs()).innerHTML)):t.format==="text"?r=aN(e,n):t.format==="tree"?r=e.serializer.serialize(n,t):r=sN(e,e.serializer.serialize(n,t)),t.format!=="text"&&!om(me.fromDom(n))&&pt(r)?ht.trim(r):r},yy=(e,t)=>V.from(e.getBody()).fold(Ce(t.format==="tree"?new fc("body",11):""),n=>by(e,t,n)),Hh=ht.makeMap,Sk=e=>{const t=[];e=e||{};const n=e.indent,r=Hh(e.indent_before||""),a=Hh(e.indent_after||""),c=Sc.getEncodeFunc(e.entity_encoding||"raw",e.entities),u=e.element_format!=="xhtml";return{start:(g,v,S)=>{if(n&&r[g]&&t.length>0){const R=t[t.length-1];R.length>0&&R!==`
`&&t.push(`
`)}if(t.push("<",g),v)for(let R=0,B=v.length;R<B;R++){const L=v[R];t.push(" ",L.name,'="',c(L.value,!0),'"')}if(!S||u?t[t.length]=">":t[t.length]=" />",S&&n&&a[g]&&t.length>0){const R=t[t.length-1];R.length>0&&R!==`
`&&t.push(`
`)}},end:g=>{let v;t.push("</",g,">"),n&&a[g]&&t.length>0&&(v=t[t.length-1],v.length>0&&v!==`
`&&t.push(`
`))},text:(g,v)=>{g.length>0&&(t[t.length]=v?g:c(g))},cdata:g=>{t.push("<![CDATA[",g,"]]>")},comment:g=>{t.push("<!--",g,"-->")},pi:(g,v)=>{v?t.push("<?",g," ",c(v),"?>"):t.push("<?",g,"?>"),n&&t.push(`
`)},doctype:g=>{t.push("<!DOCTYPE",g,">",n?`
`:"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},dm=(e={},t=Du())=>{const n=Sk(e);return e.validate="validate"in e?e.validate:!0,{serialize:a=>{const c=e.validate,u={3:v=>{var S;n.text((S=v.value)!==null&&S!==void 0?S:"",v.raw)},8:v=>{var S;n.comment((S=v.value)!==null&&S!==void 0?S:"")},7:v=>{n.pi(v.name,v.value)},10:v=>{var S;n.doctype((S=v.value)!==null&&S!==void 0?S:"")},4:v=>{var S;n.cdata((S=v.value)!==null&&S!==void 0?S:"")},11:v=>{let S=v;if(S=S.firstChild)do g(S);while(S=S.next)}};n.reset();const g=v=>{var S;const R=u[v.type];if(R)R(v);else{const B=v.name,L=B in t.getVoidElements();let G=v.attributes;if(c&&G&&G.length>1){const ae=[];ae.map={};const J=t.getElementRule(v.name);if(J){for(let ie=0,he=J.attributesOrder.length;ie<he;ie++){const Se=J.attributesOrder[ie];if(Se in G.map){const ze=G.map[Se];ae.map[Se]=ze,ae.push({name:Se,value:ze})}}for(let ie=0,he=G.length;ie<he;ie++){const Se=G[ie].name;if(!(Se in ae.map)){const ze=G.map[Se];ae.map[Se]=ze,ae.push({name:Se,value:ze})}}G=ae}}if(n.start(B,G,L),k(B))pt(v.value)&&n.text(v.value,!0),n.end(B);else if(!L){let ae=v.firstChild;if(ae){(B==="pre"||B==="textarea")&&ae.type===3&&((S=ae.value)===null||S===void 0?void 0:S[0])===`
`&&n.text(`
`,!0);do g(ae);while(ae=ae.next)}n.end(B)}}};return a.type===1&&!e.inner?g(a):a.type===3?u[3](a):u[11](a),n.getContent()}}},lC=new Set;Ne(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],t=>{lC.add(t)});const cC=new Set;Ne(["background-color"],t=>{cC.add(t)});const JA=["font","text-decoration","text-emphasis"],iN=(e,t)=>e.parseStyle(e.getAttrib(t,"style")),Vh=(e,t)=>Je(iN(e,t)),QA=e=>lC.has(e),j0=e=>cC.has(e),dC=(e,t)=>zn(Vh(e,t),n=>QA(n)),ez=(e,t)=>dC(e,t)&&zn(Vh(e,t),n=>j0(n)),tz=e=>Ye(e,t=>zn(JA,n=>ir(t,n))),oz=(e,t,n)=>{const r=Vh(e,t),a=Vh(e,n),c=u=>{var g,v;const S=(g=e.getStyle(t,u))!==null&&g!==void 0?g:"",R=(v=e.getStyle(n,u))!==null&&v!==void 0?v:"";return gr(S)&&gr(R)&&S!==R};return zn(r,u=>{const g=v=>zn(v,S=>S===u);if(!g(a)&&g(JA)){const v=tz(a);return zn(v,c)}else return c(u)})},uC=(e,t,n)=>V.from(n.container()).filter(bt).exists(r=>{const a=e?0:-1;return t(r.data.charAt(n.offset()+a))}),Ek=xt(uC,!0,Ah),Ak=xt(uC,!1,Ah),nz=e=>{const t=e.container();return bt(t)&&(t.data.length===0||Md(t.data)&&lg.isBookmarkNode(t.parentNode))},mp=(e,t)=>n=>d2(e?0:-1,n).filter(t).isSome(),zk=e=>tr(e)&&er(me.fromDom(e),"display")==="block",vy=e=>Wr(e)&&!Wg(e),rz=mp(!0,zk),sz=mp(!1,zk),mg=mp(!0,hl),U0=mp(!1,hl),az=mp(!0,Jc),pp=mp(!1,Jc),um=mp(!0,vy),gp=mp(!1,vy),Z0=e=>e.slice(0,-1),iz=(e,t,n)=>Za(t,e)?Z0(_d(e,r=>n(r)||rn(r,t))):[],Tk=(e,t)=>iz(e,t,an),fm=(e,t)=>[e].concat(Tk(e,t)),Ok=(e,t,n)=>UE(e,t,n,nz),fC=e=>t=>e.isBlock(cn(t)),mC=(e,t,n)=>Sn(fm(me.fromDom(t.container()),e),fC(n)),lz=(e,t,n,r)=>Ok(e,t.dom,n).forall(a=>mC(t,n,r).fold(()=>!lm(a,n,t.dom),c=>!lm(a,n,t.dom)&&Za(c,me.fromDom(a.container())))),pC=(e,t,n,r)=>mC(t,n,r).fold(()=>Ok(e,t.dom,n).forall(a=>!lm(a,n,t.dom)),a=>Ok(e,a.dom,n).isNone()),xy=xt(pC,!1),wl=xt(pC,!0),Dk=xt(lz,!1),$h=xt(lz,!0),cz=e=>Ho(e).exists(Mu),ql=(e,t,n,r)=>{const a=Ye(fm(me.fromDom(n.container()),t),u=>r.isBlock(cn(u))),c=mt(a).getOr(t);return Bd(e,c.dom,n).filter(cz)},hp=(e,t,n)=>Ho(t).exists(Mu)||ql(!0,e,t,n).isSome(),W0=(e,t,n)=>p2(t).exists(Mu)||ql(!1,e,t,n).isSome(),gC=xt(ql,!1),dz=xt(ql,!0),ky=e=>$e.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),Rk=(e,t,n)=>{const r=Ye(fm(me.fromDom(t.container()),e),a=>n.isBlock(cn(a)));return mt(r).getOr(e)},hC=(e,t,n)=>ky(t)?Ak(t):Ak(t)||zs(Rk(e,t,n).dom,t).exists(Ak),Nk=(e,t,n)=>ky(t)?Ek(t):Ek(t)||uc(Rk(e,t,n).dom,t).exists(Ek),bC=e=>Wo(["pre","pre-wrap"],e),Mk=e=>Ho(e).bind(t=>ea(t,Ei)).exists(t=>bC(er(t,"white-space"))),Tf=(e,t)=>zs(e.dom,t).isNone(),yC=(e,t)=>uc(e.dom,t).isNone(),Bk=(e,t,n)=>Tf(e,t)||yC(e,t)||xy(e,t,n)||wl(e,t,n)||W0(e,t,n)||hp(e,t,n),vC=e=>Le(e)&&Wr(e)&&i2(e),xC=(e,t)=>n=>vC(new Fa(n,e)[t]()),uz=(e,t)=>{const n=uc(e.dom,t).getOr(t),r=xC(e.dom,"next");return t.isAtEnd()&&(r(t.container())||r(n.container()))},fz=(e,t)=>{const n=zs(e.dom,t).getOr(t),r=xC(e.dom,"prev");return t.isAtStart()&&(r(t.container())||r(n.container()))},mz=(e,t,n)=>Mk(t)?!1:Bk(e,t,n)||hC(e,t,n)||Nk(e,t,n),q0=(e,t,n)=>Mk(t)?!1:xy(e,t,n)||Dk(e,t,n)||W0(e,t,n)||hC(e,t,n)||fz(e,t),pz=e=>{const t=e.container(),n=e.offset();return bt(t)&&n<t.data.length?$e(t,n+1):e},_y=(e,t,n)=>Mk(t)?!1:wl(e,t,n)||$h(e,t,n)||hp(e,t,n)||Nk(e,t,n)||uz(e,t),G0=(e,t,n)=>q0(e,t,n)||_y(e,pz(t),n),Ik=(e,t)=>Xx(e.charAt(t)),kC=(e,t)=>Ah(e.charAt(t)),_C=e=>{const t=e.container();return bt(t)&&pr(t.data,Fs)},gz=e=>{const t=e.split("");return $o(t,(n,r)=>Xx(n)&&r>0&&r<t.length-1&&Jx(t[r-1])&&Jx(t[r+1])?" ":n).join("")},wC=(e,t,n,r)=>{const a=t.data,c=$e(t,0);return!n&&Ik(a,0)&&!G0(e,c,r)?(t.data=" "+a.slice(1),!0):n&&kC(a,0)&&q0(e,c,r)?(t.data=Fs+a.slice(1),!0):!1},CC=e=>{const t=e.data,n=gz(t);return n!==t?(e.data=n,!0):!1},SC=(e,t,n,r)=>{const a=t.data,c=$e(t,a.length-1);return!n&&Ik(a,a.length-1)&&!G0(e,c,r)?(t.data=a.slice(0,-1)+" ",!0):n&&kC(a,a.length-1)&&_y(e,c,r)?(t.data=a.slice(0,-1)+Fs,!0):!1},hz=(e,t,n)=>{const r=t.container();if(!bt(r))return V.none();if(_C(t)){const a=wC(e,r,!1,n)||CC(r)||SC(e,r,!1,n);return bd(a,t)}else if(G0(e,t,n)){const a=wC(e,r,!0,n)||SC(e,r,!0,n);return bd(a,t)}else return V.none()},bz=e=>{const t=me.fromDom(e.getBody());e.selection.isCollapsed()&&hz(t,$e.fromRangeStart(e.selection.getRng()),e.schema).each(n=>{e.selection.setRng(n.toRange())})},Pk=(e,t,n,r)=>{if(n===0)return;const a=me.fromDom(e),c=Pi(a,S=>r.isBlock(cn(S))).getOr(a),u=e.data.slice(t,t+n),g=t+n>=e.data.length&&_y(c,$e(e,e.data.length),r),v=t===0&&q0(c,$e(e,0),r);e.replaceData(t,n,nf(u,4,v,g))},Lk=(e,t,n)=>{const r=e.data.slice(t),a=r.length-Mi(r).length;Pk(e,t,a,n)},wy=(e,t,n)=>{const r=e.data.slice(0,t),a=r.length-ss(r).length;Pk(e,t-a,a,n)},Fk=(e,t,n,r,a=!0)=>{const c=ss(e.data).length,u=a?e:t,g=a?t:e;return a?u.appendData(g.data):u.insertData(0,g.data),_n(me.fromDom(g)),r&&Lk(u,c,n),u},yz=(e,t)=>{const n=e.container(),r=e.offset();return!$e.isTextPosition(e)&&n===t.parentNode&&r>$e.before(t).offset()},lN=(e,t)=>yz(t,e)?$e(t.container(),t.offset()-1):t,cN=e=>bt(e)?$e(e,0):$e.before(e),vz=e=>bt(e)?$e(e,e.data.length):$e.after(e),xz=e=>_l(e.previousSibling)?V.some(vz(e.previousSibling)):e.previousSibling?Wl(e.previousSibling):V.none(),EC=e=>_l(e.nextSibling)?V.some(cN(e.nextSibling)):e.nextSibling?Zl(e.nextSibling):V.none(),dN=(e,t)=>V.from(t.previousSibling?t.previousSibling:t.parentNode).bind(n=>zs(e,$e.before(n))).orThunk(()=>uc(e,$e.after(t))),uN=(e,t)=>uc(e,$e.after(t)).orThunk(()=>zs(e,$e.before(t))),fN=(e,t)=>xz(t).orThunk(()=>EC(t)).orThunk(()=>dN(e,t)),Ks=(e,t)=>EC(t).orThunk(()=>xz(t)).orThunk(()=>uN(e,t)),AC=(e,t,n)=>e?Ks(t,n):fN(t,n),mN=(e,t,n)=>AC(e,t,n).map(xt(lN,n)),kz=(e,t,n)=>{n.fold(()=>{e.focus()},r=>{e.selection.setRng(r.toRange(),t)})},Cy=e=>t=>t.dom===e,pg=(e,t)=>t&&go(e.schema.getBlockElements(),cn(t)),bp=(e,t,n)=>{if(Ca(e,t)){const r=me.fromHtml('<br data-mce-bogus="1">');return n?Ne(qa(t),a=>{A2(a)||_n(a)}):nc(t),lr(t,r),V.some($e.before(r.dom))}else return V.none()},_z=(e,t,n,r)=>{const a=Is(e).filter(Qs),c=co(e).filter(Qs);return _n(e),$c(a,c,t,(u,g,v)=>{const S=u.dom,R=g.dom,B=S.data.length;return Fk(S,R,n,r),v.container()===R?$e(S,B):v}).orThunk(()=>(r&&(a.each(u=>wy(u.dom,u.dom.length,n)),c.each(u=>Lk(u.dom,0,n))),t))},wz=(e,t)=>go(e.schema.getTextInlineElements(),cn(t)),gg=(e,t,n,r=!0,a=!1)=>{const c=mN(t,e.getBody(),n.dom),u=Pi(n,xt(pg,e),Cy(e.getBody())),g=_z(n,c,e.schema,wz(e,n));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):u.bind(v=>bp(e.schema,v,a)).fold(()=>{r&&kz(e,t,g)},v=>{r&&kz(e,t,V.some(v))})},Hk=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,pN=e=>Hk.test(e),yp=(e,t)=>Hn(me.fromDom(t),Ox(e))&&!ba(e.schema,t)&&e.dom.isEditable(t),zC=e=>{var t;return qn.DOM.getStyle(e,"direction",!0)==="rtl"||pN((t=e.textContent)!==null&&t!==void 0?t:"")},Cz=(e,t,n)=>Ye(qn.DOM.getParents(n.container(),"*",t),e),mm=(e,t,n)=>{const r=Cz(e,t,n);return V.from(r[r.length-1])},Sz=(e,t,n)=>{const r=sg(t,e),a=sg(n,e);return Le(r)&&r===a},TC=e=>V1(e)||dh(e),uu=(e,t)=>{const n=t.container(),r=t.offset();return e?rm(n)?bt(n.nextSibling)?$e(n.nextSibling,0):$e.after(n):V1(t)?$e(n,r+1):t:rm(n)?bt(n.previousSibling)?$e(n.previousSibling,n.previousSibling.data.length):$e.before(n):dh(t)?$e(n,r-1):t},Ez=xt(uu,!0),ld=xt(uu,!1),OC=(e,t)=>{const n=r=>r.stopImmediatePropagation();e.on("beforeinput input",n,!0),e.getDoc().execCommand(t),e.off("beforeinput input",n)},gN=e=>{e.execCommand("delete")},Vk=e=>OC(e,"Delete"),K0=e=>OC(e,"ForwardDelete"),hN=e=>t=>Bi(Wa(t),e,rn),bN=e=>Xm(e)||ff(e),Y0=(e,t)=>Za(e,t)?ea(t,bN,hN(e)):V.none(),X0=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},Az=(e,t,n)=>ma(Zl(n),Wl(n),(r,a)=>{const c=uu(!0,r),u=uu(!1,a),g=uu(!1,t);return e?uc(n,g).exists(v=>v.isEqual(u)&&t.isEqual(c)):zs(n,g).exists(v=>v.isEqual(c)&&t.isEqual(u))}).getOr(!0),zz=e=>(Om(e)?Is(e):Cd(e)).bind(zz).orThunk(()=>V.some(e)),Sy=(e,t,n,r=!0)=>{var a;t.deleteContents();const c=zz(n).getOr(n),u=me.fromDom((a=e.dom.getParent(c.dom,e.dom.isBlock))!==null&&a!==void 0?a:n.dom);if(u.dom===e.getBody()?X0(e,r):Ca(e.schema,u,{checkRootAsContent:!1})&&(kl(u),r&&e.selection.setCursorLocation(u.dom,0)),!rn(n,u)){const g=Bi(Wa(u),n)?[]:vu(u);Ne(g.concat(qa(n)),v=>{!rn(v,u)&&!Za(v,u)&&Ca(e.schema,v)&&_n(v)})}},Tz=e=>t=>rn(e,t),$k=e=>Cs(e,"td,th"),Oz=(e,t)=>ey(me.fromDom(e),t),Dz=e=>ma(e.startTable,e.endTable,(t,n)=>{const r=Ss(t,c=>rn(c,n)),a=Ss(n,c=>rn(c,t));return!r&&!a?e:{...e,startTable:r?V.none():e.startTable,endTable:a?V.none():e.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(e),J0=e=>Dz(e),Rz=(e,t)=>{const n=Oz(e.startContainer,t),r=Oz(e.endContainer,t),a=n.isSome(),c=r.isSome(),u=ma(n,r,rn).getOr(!1);return J0({startTable:n,endTable:r,isStartInTable:a,isEndInTable:c,isSameTable:u,isMultiTable:!u&&a&&c})},jk=(e,t)=>({start:e,end:t}),Nz=(e,t,n)=>({rng:e,table:t,cells:n}),Q0=jt.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),Hd=(e,t)=>oa(me.fromDom(e),"td,th",t),Uk=e=>!rn(e.start,e.end),Mz=(e,t)=>ey(e.start,t).bind(n=>ey(e.end,t).bind(r=>bd(rn(n,r),n))),yN=(e,t)=>!Uk(e)&&Mz(e,t).exists(n=>{const r=n.dom.rows;return r.length===1&&r[0].cells.length===1}),qo=(e,t)=>{const n=Hd(e.startContainer,t),r=Hd(e.endContainer,t);return ma(n,r,jk)},vN=e=>t=>ey(t,e).bind(n=>io($k(n)).map(r=>jk(t,r))),ev=e=>t=>ey(t,e).bind(n=>mt($k(n)).map(r=>jk(r,t))),DC=e=>t=>Mz(t,e).map(n=>Nz(t,n,$k(n))),RC=(e,t,n,r)=>{if(n.collapsed||!e.forall(Uk))return V.none();if(t.isSameTable){const a=e.bind(DC(r));return V.some({start:a,end:a})}else{const a=Hd(n.startContainer,r),c=Hd(n.endContainer,r),u=a.bind(vN(r)).bind(DC(r)),g=c.bind(ev(r)).bind(DC(r));return V.some({start:u,end:g})}},vp=(e,t)=>Jn(e,n=>rn(n,t)),Gl=e=>ma(vp(e.cells,e.rng.start),vp(e.cells,e.rng.end),(t,n)=>e.cells.slice(t,n+1)),Bz=(e,t,n)=>e.exists(r=>yN(r,n)&&ok(r.start,t)),Ey=(e,t)=>{const{startTable:n,endTable:r}=t,a=e.cloneRange();return n.each(c=>a.setStartAfter(c.dom)),r.each(c=>a.setEndBefore(c.dom)),a},hg=(e,t,n,r)=>RC(e,t,n,r).bind(({start:a,end:c})=>a.or(c)).bind(a=>{const{isSameTable:c}=t,u=Gl(a).getOr([]);if(c&&a.cells.length===u.length)return V.some(Q0.fullTable(a.table));if(u.length>0){if(c)return V.some(Q0.partialTable(u,V.none()));{const g=Ey(n,t);return V.some(Q0.partialTable(u,V.some({...t,rng:g})))}}else return V.none()}),pm=(e,t,n,r)=>RC(e,t,n,r).bind(({start:a,end:c})=>{const u=a.bind(Gl).getOr([]),g=c.bind(Gl).getOr([]);if(u.length>0&&g.length>0){const v=Ey(n,t);return V.some(Q0.multiTable(u,g,v))}else return V.none()}),tv=(e,t)=>{const n=Tz(e),r=qo(t,n),a=Rz(t,n);return Bz(r,t,n)?r.map(c=>Q0.singleCellTable(t,c.start)):a.isMultiTable?pm(r,a,t,n):hg(r,a,t,n)},Zk=e=>Ne(e,t=>{Dn(t,"contenteditable"),kl(t)}),NC=(e,t)=>V.from(e.dom.getParent(t,e.dom.isBlock)).map(me.fromDom),Iz=(e,t,n)=>{n.each(r=>{t?_n(r):(kl(r),e.selection.setCursorLocation(r.dom,0))})},Wk=(e,t,n,r)=>{const a=n.cloneRange();r?(a.setStart(n.startContainer,n.startOffset),a.setEndAfter(t.dom.lastChild)):(a.setStartBefore(t.dom.firstChild),a.setEnd(n.endContainer,n.endOffset)),qk(e,a,t,!1).each(c=>c())},Pz=e=>{const t=zh(e),n=me.fromDom(e.selection.getNode());eu(n.dom)&&Ca(e.schema,n)?e.selection.setCursorLocation(n.dom,0):e.selection.collapse(!0),t.length>1&&zn(t,r=>rn(r,n))&&In(n,"data-mce-selected","1")},Lz=(e,t,n)=>V.some(()=>{const r=e.selection.getRng(),a=n.bind(({rng:c,isStartInTable:u})=>{const g=NC(e,u?c.endContainer:c.startContainer);c.deleteContents(),Iz(e,u,g.filter(xt(Ca,e.schema)));const v=u?t[0]:t[t.length-1];return Wk(e,v,r,u),Ca(e.schema,v)?V.none():V.some(u?t.slice(1):t.slice(0,-1))}).getOr(t);Zk(a),Pz(e)}),Fz=(e,t,n,r)=>V.some(()=>{const a=e.selection.getRng(),c=t[0],u=n[n.length-1];Wk(e,c,a,!0),Wk(e,u,a,!1);const g=Ca(e.schema,c)?t:t.slice(1),v=Ca(e.schema,u)?n:n.slice(0,-1);Zk(g.concat(v)),r.deleteContents(),Pz(e)}),qk=(e,t,n,r=!0)=>V.some(()=>{Sy(e,t,n,r)}),Hz=(e,t)=>V.some(()=>gg(e,!1,t)),Vz=(e,t,n)=>tv(t,n).bind(r=>r.fold(xt(qk,e),xt(Hz,e),xt(Lz,e),xt(Fz,e))),MC=(e,t)=>nv(e,t),xN=(e,t,n,r)=>$u(t,r).fold(()=>Vz(e,t,n),a=>MC(e,a)),kN=(e,t,n)=>{const r=me.fromDom(e.getBody()),a=e.selection.getRng();return n.length!==0?Lz(e,n,V.none()):xN(e,r,a,t)},$z=(e,t)=>Sn(fm(t,e),Ui),$u=(e,t)=>Sn(fm(t,e),Ba("caption")),ov=(e,t,n,r,a)=>Xb(n,e.getBody(),a).bind(c=>$z(t,me.fromDom(c.getNode())).bind(u=>rn(u,r)?V.none():V.some(Qt))),nv=(e,t)=>V.some(()=>{kl(t),e.selection.setCursorLocation(t.dom,0)}),jz=(e,t,n,r)=>Zl(e.dom).bind(a=>Wl(e.dom).map(c=>t?n.isEqual(a)&&r.isEqual(c):n.isEqual(c)&&r.isEqual(a))).getOr(!0),Uz=(e,t)=>nv(e,t),_N=(e,t,n)=>$u(e,me.fromDom(n.getNode())).fold(()=>V.some(Qt),r=>bd(!rn(r,t),Qt)),bg=(e,t,n,r,a)=>Xb(n,e.getBody(),a).fold(()=>V.some(Qt),c=>jz(r,n,a,c)?Uz(e,r):_N(t,r,c)),wN=(e,t,n,r)=>{const a=$e.fromRangeStart(e.selection.getRng());return $z(n,r).bind(c=>Ca(e.schema,c,{checkRootAsContent:!1})?nv(e,c):ov(e,n,t,c,a))},CN=(e,t,n,r)=>{const a=$e.fromRangeStart(e.selection.getRng());return Ca(e.schema,r)?nv(e,r):bg(e,n,t,r,a)},Zz=(e,t)=>e?az(t):pp(t),SN=(e,t)=>{const n=$e.fromRangeStart(e.selection.getRng());return Zz(t,n)||Bd(t,e.getBody(),n).exists(r=>Zz(t,r))},EN=(e,t,n)=>{const r=me.fromDom(e.getBody());return $u(r,n).fold(()=>wN(e,t,r,n).orThunk(()=>bd(SN(e,t),Qt)),a=>CN(e,t,r,a))},BC=(e,t)=>{const n=me.fromDom(e.selection.getStart(!0)),r=zh(e);return e.selection.isCollapsed()&&r.length===0?EN(e,t,n):kN(e,n,r)},jh=(e,t)=>{let n=t;for(;n&&n!==e;){if(Hi(n)||Wr(n))return n;n=n.parentNode}return null},AN=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],zN=ht.each,Ay=e=>{const t=e.dom,n=new Set(e.serializer.getTempAttrs()),r=(c,u)=>{if(c.nodeName!==u.nodeName||c.nodeType!==u.nodeType)return!1;const g=S=>{const R={};return zN(t.getAttribs(S),B=>{const L=B.nodeName.toLowerCase();L!=="style"&&!a(L)&&(R[L]=t.getAttrib(S,L))}),R},v=(S,R)=>{for(const B in S)if(go(S,B)){const L=R[B];if(Xn(L)||S[B]!==L)return!1;delete R[B]}for(const B in R)if(go(R,B))return!1;return!0};return qt(c)&&qt(u)&&(!v(g(c),g(u))||!v(t.parseStyle(t.getAttrib(c,"style")),t.parseStyle(t.getAttrib(u,"style"))))?!1:!Id(c)&&!Id(u)},a=c=>zn(AN,u=>ir(c,u))||n.has(c);return{compare:r,isAttributeInternal:a}},Wz=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),rv=e=>e.name==="summary",IC=(e,t)=>{let n=e;for(;n=n.walk();)t(n)},yg=(e,t,n,r)=>{const a=n.name;for(let c=0,u=e.length;c<u;c++){const g=e[c];if(g.name===a){const v=r.nodes[a];v?v.nodes.push(n):r.nodes[a]={filter:g,nodes:[n]}}}if(n.attributes)for(let c=0,u=t.length;c<u;c++){const g=t[c],v=g.name;if(v in n.attributes.map){const S=r.attributes[v];S?S.nodes.push(n):r.attributes[v]={filter:g,nodes:[n]}}}},Uh=(e,t,n)=>{const r={nodes:{},attributes:{}};return n.firstChild&&IC(n,a=>{yg(e,t,a,r)}),r},sv=(e,t)=>{const n=(r,a)=>{To(r,c=>{const u=Mo(c.nodes);Ne(c.filter.callbacks,g=>{for(let v=u.length-1;v>=0;v--){const S=u[v];(!(a?S.attr(c.filter.name)!==void 0:S.name===c.filter.name)||Ro(S.parent))&&u.splice(v,1)}u.length>0&&g(u,c.filter.name,t)})})};n(e.nodes,!1),n(e.attributes,!0)},av=(e,t,n,r={})=>{const a=Uh(e,t,n);sv(a,r)},xp=(e,t,n,r)=>{if((e.pad_empty_with_br||t.insert)&&n(r)){const c=new fc("br",1);t.insert&&c.attr("data-mce-bogus","1"),r.empty().append(c)}else r.empty().append(new fc("#text",3)).value=Fs},Zh=e=>{var t;return iv(e,"#text")&&((t=e==null?void 0:e.firstChild)===null||t===void 0?void 0:t.value)===Fs},iv=(e,t)=>{const n=e==null?void 0:e.firstChild;return Le(n)&&n===e.lastChild&&n.name===t},Gk=(e,t)=>{const n=e.getElementRule(t.name);return(n==null?void 0:n.paddEmpty)===!0},zy=(e,t,n,r)=>r.isEmpty(t,n,a=>Gk(e,a)),PC=(e,t)=>Le(e)&&(t(e)||e.name==="br"),LC=e=>{let t;for(let n=e;n;n=n.parent){const r=n.attr("contenteditable");if(r==="false")break;r==="true"&&(t=n)}return V.from(t)},Kk=(e,t,n=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{const r=e.children();for(const a of r)n&&!t.isValidChild(n.name,a.name)&&Kk(a,t,n);e.unwrap()}},Yk=(e,t,n,r=Qt)=>{const a=t.getTextBlockElements(),c=t.getNonEmptyElements(),u=t.getWhitespaceElements(),g=ht.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),v=new Set,S=R=>R!==n&&!g[R.name];for(let R=0;R<e.length;R++){const B=e[R];let L,G,ae;if(!B.parent||v.has(B))continue;if(a[B.name]&&B.parent.name==="li"){let ie=B.next;for(;ie&&a[ie.name];){ie.name="li",v.add(ie),B.parent.insert(ie,B.parent);ie=ie.next}B.unwrap();continue}const J=[B];for(L=B.parent;L&&!t.isValidChild(L.name,B.name)&&S(L);L=L.parent)J.push(L);if(L&&J.length>1)if(Xk(t,B,L))Kk(B,t);else{J.reverse(),G=J[0].clone(),r(G);let ie=G;for(let he=0;he<J.length-1;he++){t.isValidChild(ie.name,J[he].name)&&he>0?(ae=J[he].clone(),r(ae),ie.append(ae)):ae=ie;for(let Se=J[he].firstChild;Se&&Se!==J[he+1];){const ze=Se.next;ae.append(Se),Se=ze}ie=ae}zy(t,c,u,G)?L.insert(B,J[0],!0):(L.insert(G,J[0],!0),L.insert(B,G)),L=J[0],(zy(t,c,u,L)||iv(L,"br"))&&L.empty().remove()}else if(B.parent){if(B.name==="li"){let ie=B.prev;if(ie&&(ie.name==="ul"||ie.name==="ol")){ie.append(B);continue}if(ie=B.next,ie&&(ie.name==="ul"||ie.name==="ol")&&ie.firstChild){ie.insert(B,ie.firstChild,!0);continue}const he=new fc("ul",1);r(he),B.wrap(he);continue}if(t.isValidChild(B.parent.name,"div")&&t.isValidChild("div",B.name)){const ie=new fc("div",1);r(ie),B.wrap(ie)}else Kk(B,t)}}},Ty=(e,t)=>{let n=e;for(;n;){if(n.name===t)return!0;n=n.parent}return!1},Xk=(e,t,n=t.parent)=>n?e.children[t.name]&&!e.isValidChild(n.name,t.name)||t.name==="a"&&Ty(n,"a")?!0:rv(n)&&Wz(t)?!((n==null?void 0:n.firstChild)===t&&(n==null?void 0:n.lastChild)===t):!1:!1,qz=(e,t,n,r)=>{const a=document.createRange();return a.setStart(e,t),a.setEnd(n,r),a},Gz=e=>{const t=$e.fromRangeStart(e),n=$e.fromRangeEnd(e),r=e.commonAncestorContainer;return Bd(!1,r,n).map(a=>!lm(t,n,r)&&lm(t,a,r)?qz(t.container(),t.offset(),a.container(),a.offset()):e).getOr(e)},Oy=e=>e.collapsed?e:Gz(e),Kz=e=>Le(e.firstChild)&&e.firstChild===e.lastChild,Yz=e=>e.name==="br"||e.value===Fs,Xz=(e,t)=>e.getBlockElements()[t.name]&&Kz(t)&&Yz(t.firstChild),Jz=(e,t)=>{const n=e.getNonEmptyElements();return Le(t)&&(t.isEmpty(n)||Xz(e,t))},kp=(e,t)=>{let n=t.firstChild,r=t.lastChild;return n&&n.name==="meta"&&(n=n.next),r&&r.attr("id")==="mce_marker"&&(r=r.prev),Jz(e,r)&&(r=r==null?void 0:r.prev),!n||n!==r?!1:n.name==="ul"||n.name==="ol"},vg=e=>{var t,n;const r=e.firstChild,a=e.lastChild;return r&&r.nodeName==="META"&&((t=r.parentNode)===null||t===void 0||t.removeChild(r)),a&&a.id==="mce_marker"&&((n=a.parentNode)===null||n===void 0||n.removeChild(a)),e},ju=(e,t,n)=>{const r=t.serialize(n),a=e.createFragment(r);return vg(a)},FC=e=>{var t;return Ye((t=e==null?void 0:e.childNodes)!==null&&t!==void 0?t:[],n=>n.nodeName==="LI")},HC=e=>e.data===Fs||ls(e),Qz=e=>Le(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&HC(e.firstChild),eT=e=>!e.firstChild||Qz(e),tT=e=>e.length>0&&eT(e[e.length-1])?e.slice(0,-1):e,lv=(e,t)=>{const n=e.getParent(t,e.isBlock);return n&&n.nodeName==="LI"?n:null},oT=(e,t)=>!!lv(e,t),nT=(e,t)=>{const n=t.cloneRange(),r=t.cloneRange();return n.setStartBefore(e),r.setEndAfter(e),[n.cloneContents(),r.cloneContents()]},VC=(e,t)=>{const n=$e.before(e),a=Fu(t).next(n);return a?a.toRange():null},Of=(e,t)=>{const n=$e.after(e),a=Fu(t).prev(n);return a?a.toRange():null},Uu=(e,t,n,r)=>{const a=nT(e,r),c=e.parentNode;return c&&(c.insertBefore(a[0],e),ht.each(t,u=>{c.insertBefore(u,e)}),c.insertBefore(a[1],e),c.removeChild(e)),Of(t[t.length-1],n)},Jk=(e,t,n)=>{const r=e.parentNode;return r&&ht.each(t,a=>{r.insertBefore(a,e)}),VC(e,n)},rT=(e,t,n,r)=>(r.insertAfter(t.reverse(),e),Of(t[0],n)),Qk=(e,t,n,r)=>{const a=ju(t,e,r),c=lv(t,n.startContainer),u=tT(FC(a.firstChild)),g=1,v=2,S=t.getRoot(),R=B=>{const L=$e.fromRangeStart(n),G=Fu(t.getRoot()),ae=B===g?G.prev(L):G.next(L),J=ae==null?void 0:ae.getNode();return J?lv(t,J)!==c:!0};return c?R(g)?Jk(c,u,S):R(v)?rT(c,u,S,t):Uu(c,u,S,n):null},sT=["pre"],aT=(e,t,n,r)=>{var a;const c=t.firstChild,u=t.lastChild,g=u.attr("data-mce-type")==="bookmark"?u.prev:u,v=c===g,S=Wo(sT,c.name);if(v&&S){const R=c.attr("contenteditable")!=="false",B=((a=e.getParent(n,e.isBlock))===null||a===void 0?void 0:a.nodeName.toLowerCase())===c.name,L=V.from(jh(r,n)).forall(Hi);return R&&B&&L}else return!1},e_=eu,iT=(e,t,n)=>{if(Le(n)){const r=e.getParent(t.endContainer,e_);return n===r&&ok(me.fromDom(n),t)}else return!1},lT=(e,t)=>{if(e.isBlock(t)&&e.isEditable(t)){const n=t.childNodes;return n.length===1&&ls(n[0])||n.length===0}else return!1},cT=(e,t,n)=>{var r;n.getAttribute("data-mce-bogus")==="all"?(r=n.parentNode)===null||r===void 0||r.insertBefore(e.dom.createFragment(t),n):lT(e.dom,n)?e.dom.setHTML(n,t):e.selection.setContent(t,{no_events:!0})},t_=(e,t,n)=>{V.from(e.getParent(t,"td,th")).map(me.fromDom).each(r=>F1(r,n))},$C=(e,t)=>{const n=e.schema.getTextInlineElements(),r=e.dom;if(t){const a=e.getBody(),c=Ay(e),u="*[data-mce-fragment]",g=r.select(u);ht.each(g,v=>{const S=L=>Le(n[L.nodeName.toLowerCase()]),R=L=>L.childNodes.length===1;if((L=>!(dC(r,L)||ez(r,L)))(v)&&S(v)&&R(v)){const L=Vh(r,v),G=(he,Se)=>wr(he,ze=>Wo(Se,ze)),ae=he=>R(v)&&r.is(he,u)&&S(he)&&(he.nodeName===v.nodeName&&G(L,Vh(r,he))||ae(he.children[0])),J=he=>Le(he)&&he!==a&&(c.compare(v,he)||J(he.parentElement)),ie=he=>Le(he)&&he!==a&&r.is(he,u)&&(oz(r,v,he)||ie(he.parentElement));(ae(v.children[0])||J(v.parentElement)&&!ie(v.parentElement))&&r.remove(v,!0)}})}},dT=e=>{let t=e;for(;t=t.walk();)t.type===1&&t.attr("data-mce-fragment","1")},jC=e=>{ht.each(e.getElementsByTagName("*"),t=>{t.removeAttribute("data-mce-fragment")})},TN=e=>!!e.getAttribute("data-mce-fragment"),ON=(e,t)=>Le(t)&&!e.schema.getVoidElements()[t.nodeName],DN=(e,t)=>{var n,r,a;let c;const u=e.dom,g=e.selection;if(!t)return;g.scrollIntoView(t);const v=jh(e.getBody(),t);if(v&&u.getContentEditable(v)==="false"){u.remove(t),g.select(v);return}let S=u.createRng();const R=t.previousSibling;if(bt(R)){S.setStart(R,(r=(n=R.nodeValue)===null||n===void 0?void 0:n.length)!==null&&r!==void 0?r:0);const G=t.nextSibling;bt(G)&&(R.appendData(G.data),(a=G.parentNode)===null||a===void 0||a.removeChild(G))}else S.setStartBefore(t),S.setEndBefore(t);const B=G=>{let ae=$e.fromRangeStart(G);return ae=Fu(e.getBody()).next(ae),ae==null?void 0:ae.toRange()},L=u.getParent(t,u.isBlock);if(u.remove(t),L&&u.isEmpty(L)){const G=e_(L);nc(me.fromDom(L)),S.setStart(L,0),S.setEnd(L,0),!G&&!TN(L)&&(c=B(S))?(S=c,u.remove(L)):u.add(L,u.create("br",G?{}:{"data-mce-bogus":"1"}))}g.setRng(S)},RN=e=>{const t=e.dom,n=Oy(e.selection.getRng());e.selection.setRng(n);const r=t.getParent(n.startContainer,e_);iT(t,n,r)?qk(e,n,me.fromDom(r)):n.startContainer===n.endContainer&&n.endOffset-n.startOffset===1&&bt(n.startContainer.childNodes[n.startOffset])?n.deleteContents():e.getDoc().execCommand("Delete",!1)},NN=e=>{for(let t=e;t;t=t.walk())if(t.attr("id")==="mce_marker")return V.some(t);return V.none()},MN=(e,t,n)=>{var r;return zn(n.children(),Wz)&&((r=e.getParent(t,e.isBlock))===null||r===void 0?void 0:r.nodeName)==="SUMMARY"},o_=(e,t,n)=>{var r,a;const c=e.selection,u=e.dom,g=e.parser,v=n.merge,S=dm({validate:!0},e.schema),R='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';n.preserve_zwsp||(t=Zi(t)),t.indexOf("{$caret}")===-1&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,R);let B=c.getRng();const L=B.startContainer,G=e.getBody();L===G&&c.isCollapsed()&&u.isBlock(G.firstChild)&&ON(e,G.firstChild)&&u.isEmpty(G.firstChild)&&(B=u.createRng(),B.setStart(G.firstChild,0),B.setEnd(G.firstChild,0),c.setRng(B)),c.isCollapsed()||RN(e);const ae=c.getNode(),J={context:ae.nodeName.toLowerCase(),data:n.data,insert:!0},ie=g.parse(t,J);if(n.paste===!0&&kp(e.schema,ie)&&oT(u,ae))return B=Qk(S,u,c.getRng(),ie),B&&c.setRng(B),t;n.paste===!0&&aT(u,ie,ae,e.getBody())&&((r=ie.firstChild)===null||r===void 0||r.unwrap()),dT(ie);let he=ie.lastChild;if(he&&he.attr("id")==="mce_marker"){const Se=he;for(he=he.prev;he&&he.name!=="table";he=he.walk(!0))if(he.type===3||!u.isBlock(he.name)){he.parent&&e.schema.isValidChild(he.parent.name,"span")&&he.parent.insert(Se,he,he.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(ae),!J.invalid&&!MN(u,ae,ie))t=S.serialize(ie),cT(e,t,ae);else{e.selection.setContent(R);let Se=c.getNode(),ze;const Me=e.getBody();for(Qd(Se)?Se=ze=Me:ze=Se;ze&&ze!==Me;)Se=ze,ze=ze.parentNode;t=Se===Me?Me.innerHTML:u.getOuterHTML(Se);const Xe=g.parse(t),vt=NN(Xe),Lt=vt.bind(LC).getOr(Xe);vt.each(Rt=>Rt.replace(ie));const We=ie.children(),He=(a=ie.parent)!==null&&a!==void 0?a:Xe;ie.unwrap();const tt=Ye(We,Rt=>Xk(e.schema,Rt,He));Yk(tt,e.schema,Lt),av(g.getNodeFilters(),g.getAttributeFilters(),Xe),t=S.serialize(Xe),Se===Me?u.setHTML(Me,t):u.setOuterHTML(Se,t)}return $C(e,v),DN(e,u.get("mce_marker")),jC(e.getBody()),t_(u,c.getStart(),e.schema),Qc(e.schema,e.getBody(),c.getStart()),t},Dy=e=>e instanceof fc,uT=e=>{cy(e)&&Zl(e.getBody()).each(t=>{const n=t.getNode(),r=Jc(n)?Zl(n).getOr(t):t;e.selection.setRng(r.toRange())})},cv=(e,t,n)=>{e.dom.setHTML(e.getBody(),t),n!==!0&&uT(e)},BN=(e,t,n,r)=>{if(n=Zi(n),n.length===0||/^\s+$/.test(n)){const a='<br data-mce-bogus="1">';t.nodeName==="TABLE"?n="<tr><td>"+a+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(n="<li>"+a+"</li>");const c=Ul(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),c.toLowerCase())?(n=a,n=e.dom.createHTML(c,n0(e),n)):n||(n=a),cv(e,n,r.no_selection),{content:n,html:n}}else{r.format!=="raw"&&(n=dm({validate:!1},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0})));const a=om(me.fromDom(t))?n:ht.trim(n);return cv(e,a,r.no_selection),{content:a,html:a}}},IN=(e,t,n,r)=>{av(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);const a=dm({validate:!1},e.schema).serialize(n),c=Zi(om(me.fromDom(t))?a:ht.trim(a));return cv(e,c,r.no_selection),{content:n,html:c}},PN=(e,t,n)=>V.from(e.getBody()).map(r=>Dy(t)?IN(e,r,t,n):BN(e,r,t,n)).getOr({content:t,html:Dy(n.content)?"":n.content}),fT=e=>It(e)?e:an,LN=(e,t,n)=>{let r=e.dom;const a=fT(n);for(;r.parentNode;){r=r.parentNode;const c=me.fromDom(r),u=t(c);if(u.isSome())return u;if(a(c))break}return V.none()},UC=(e,t,n)=>{const r=t(e),a=fT(n);return r.orThunk(()=>a(e)?V.none():LN(e,t,a))},Ry=ig,dv=(e,t,n)=>{const r=e.formatter.get(n);if(r)for(let a=0;a<r.length;a++){const c=r[a];if(rl(c)&&c.inherit===!1&&e.dom.is(t,c.selector))return!0}return!1},Ny=(e,t,n,r,a)=>{const c=e.dom.getRoot();if(t===c)return!1;const u=e.dom.getParent(t,g=>dv(e,g,n)?!0:g.parentNode===c||!!gm(e,g,n,r,!0));return!!gm(e,u,n,r,a)},n_=(e,t,n)=>sa(n)&&Ry(t,n.inline)||_f(n)&&Ry(t,n.block)?!0:rl(n)?qt(t)&&e.is(t,n.selector):!1,mT=(e,t,n,r,a,c)=>{const u=n[r],g=r==="attributes";if(It(n.onmatch))return n.onmatch(t,n,r);if(u){if(St(u)){for(let v=0;v<u.length;v++)if(g?e.getAttrib(t,u[v]):ny(e,t,u[v]))return!0}else for(const v in u)if(go(u,v)){const S=g?e.getAttrib(t,v):ny(e,t,v),R=dp(u[v],c),B=Ro(S)||Ci(S);if(B&&Ro(R))continue;if(a&&B&&!n.exact||(!a||n.exact)&&!Ry(S,k0(R,v)))return!1}}return!0},gm=(e,t,n,r,a)=>{const c=e.formatter.get(n),u=e.dom;if(c&&qt(t))for(let g=0;g<c.length;g++){const v=c[g];if(n_(e.dom,t,v)&&mT(u,t,v,"attributes",a,r)&&mT(u,t,v,"styles",a,r)){const S=v.classes;if(S){for(let R=0;R<S.length;R++)if(!e.dom.hasClass(t,dp(S[R],r)))return}return v}}},ZC=(e,t,n,r,a)=>{if(r)return Ny(e,r,t,n,a);if(r=e.selection.getNode(),Ny(e,r,t,n,a))return!0;const c=e.selection.getStart();return!!(c!==r&&Ny(e,c,t,n,a))},FN=(e,t,n)=>{const r=[],a={},c=e.selection.getStart();return e.dom.getParent(c,u=>{for(let g=0;g<t.length;g++){const v=t[g];!a[v]&&gm(e,u,v,n)&&(a[v]=!0,r.push(v))}},e.dom.getRoot()),r},HN=(e,t)=>{const n=a=>rn(a,me.fromDom(e.getBody())),r=(a,c)=>gm(e,a.dom,c)?V.some(c):V.none();return V.from(e.selection.getStart(!0)).bind(a=>UC(me.fromDom(a),c=>Rs(t,u=>r(c,u)),n)).getOrNull()},Zu=(e,t)=>{const n=e.formatter.get(t),r=e.dom;if(n&&e.selection.isEditable()){const a=e.selection.getStart(),c=kf(r,a);for(let u=n.length-1;u>=0;u--){const g=n[u];if(!rl(g))return!0;for(let v=c.length-1;v>=0;v--)if(r.is(c[v],g.selector))return!0}}return!1},WC=(e,t,n)=>mo(n,(r,a)=>{const c=wR(e,a);return e.formatter.matchNode(t,a,{},c)?r.concat([a]):r},[]),My=Ea,pT=(e,t)=>e.importNode(t,!0),qC=e=>{if(e){const t=new Fa(e,e);for(let n=t.current();n;n=t.next())if(bt(n))return n}return null},GC=e=>{const t=me.fromTag("span");return Dl(t,{id:fs,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&lr(t,me.fromText(My)),t},gT=e=>{const t=qC(e);return t&&t.data.charAt(0)===My&&t.deleteData(0,1),t},KC=(e,t,n)=>{const r=e.dom,a=e.selection;if(aA(t))gg(e,!1,me.fromDom(t),n,!0);else{const c=a.getRng(),u=r.getParent(t,r.isBlock),g=c.startContainer,v=c.startOffset,S=c.endContainer,R=c.endOffset,B=gT(t);r.remove(t,!0),g===B&&v>0&&c.setStart(B,v-1),S===B&&R>0&&c.setEnd(B,R-1),u&&r.isEmpty(u)&&kl(me.fromDom(u)),a.setRng(c)}},xg=(e,t,n)=>{const r=e.dom,a=e.selection;if(t)KC(e,t,n);else if(t=xf(e.getBody(),a.getStart()),!t)for(;t=r.get(fs);)KC(e,t,n)},hT=(e,t,n)=>{var r,a;const c=e.dom,u=c.getParent(n,xt(sk,e.schema));u&&c.isEmpty(u)?(r=n.parentNode)===null||r===void 0||r.replaceChild(t,n):(Rb(me.fromDom(n)),c.isEmpty(n)?(a=n.parentNode)===null||a===void 0||a.replaceChild(t,n):c.insertAfter(t,n))},YC=(e,t)=>(e.appendChild(t),t),XC=(e,t)=>{var n;const r=to(e,(c,u)=>YC(c,u.cloneNode(!1)),t),a=(n=r.ownerDocument)!==null&&n!==void 0?n:document;return YC(r,a.createTextNode(My))},JC=(e,t,n,r,a,c)=>{const u=e.formatter,g=e.dom,v=Ye(Je(u.get()),B=>B!==r&&!pr(B,"removeformat")),S=WC(e,n,v);if(Ye(S,B=>!CR(e,B,r)).length>0){const B=n.cloneNode(!1);return g.add(t,B),u.remove(r,a,B,c),g.remove(B),V.some(B)}else return V.none()},bT=e=>I1(e,tm(e).replace(new RegExp(`${Fs}$`)," ")),yT=(e,t)=>{const n=()=>{t!==null&&!e.dom.isEmpty(t)&&Is(me.fromDom(t)).each(r=>{Qs(r)?bT(r):ta(r,a=>Qs(a)).each(a=>{Qs(a)&&bT(a)})})};e.once("input",r=>{r.data&&!Ah(r.data)&&(r.isComposing?e.once("compositionend",()=>{n()}):n())})},VN=(e,t,n)=>{let r;const a=e.selection,c=e.formatter.get(t);if(!c)return;const u=a.getRng();let g=u.startOffset;const S=u.startContainer.nodeValue;r=xf(e.getBody(),a.getStart());const R=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(S&&g>0&&g<S.length&&R.test(S.charAt(g))&&R.test(S.charAt(g-1))){const B=a.getBookmark();u.collapse(!0);let L=Dh(e.dom,u,c);L=fy(L),e.formatter.apply(t,n,L),a.moveToBookmark(B)}else{let B=r?qC(r):null;(!r||(B==null?void 0:B.data)!==My)&&(r=pT(e.getDoc(),GC(!0).dom),B=r.firstChild,u.insertNode(r),g=1,yT(e,r)),e.formatter.apply(t,n,r),a.setCursorLocation(B,g)}},kg=(e,t,n,r)=>{const a=e.dom,c=e.selection;let u=!1;const g=e.formatter.get(t);if(!g)return;const v=c.getRng(),S=v.startContainer,R=v.startOffset;let B=S;bt(S)&&(R!==S.data.length&&(u=!0),B=B.parentNode);const L=[];let G;for(;B;){if(gm(e,B,t,n,r)){G=B;break}B.nextSibling&&(u=!0),L.push(B),B=B.parentNode}if(G)if(u){const ae=c.getBookmark();v.collapse(!0);let J=Dh(a,v,g,{includeTrailingSpace:!0});J=fy(J),e.formatter.remove(t,n,J,r),c.moveToBookmark(ae)}else{const ae=xf(e.getBody(),G),J=Le(ae)?a.getParents(G.parentNode,Co,ae):[],ie=GC(!1).dom;hT(e,ie,ae??G);const he=JC(e,ie,G,t,n,r),Se=XC([...L,...he.toArray(),...J],ie);ae&&KC(e,ae,Le(ae)),c.setCursorLocation(Se,1),yT(e,ie),a.isEmpty(G)&&a.remove(G)}},QC=(e,t,n)=>{const r=e.selection,a=e.getBody();xg(e,null,n),(t===8||t===46)&&r.isCollapsed()&&r.getStart().innerHTML===My&&xg(e,xf(a,r.getStart()),!0),(t===37||t===39)&&xg(e,xf(a,r.getStart()),!0)},$N=e=>bt(e)&&wi(e.data,Fs),jN=e=>{e.on("mouseup keydown",t=>{QC(e,t.keyCode,$N(e.selection.getRng().endContainer))})},_g=e=>{const t=GC(!1),n=XC(e,t.dom);return{caretContainer:t,caretPosition:$e(n,0)}},eS=(e,t)=>{const{caretContainer:n,caretPosition:r}=_g(t);return is(me.fromDom(e),n),_n(me.fromDom(e)),r},r_=(e,t)=>{const{caretContainer:n,caretPosition:r}=_g(t);return e.insertNode(n.dom),r},vT=(e,t)=>{if(Va(t.dom))return!1;const n=e.schema.getTextInlineElements();return go(n,cn(t))&&!Va(t.dom)&&!Xc(t.dom)},uv={},tS=gi(["pre"]),_p=(e,t)=>{uv[e]||(uv[e]=[]),uv[e].push(t)},oS=(e,t)=>{go(uv,e)&&Ne(uv[e],n=>{n(t)})};_p("pre",e=>{const t=e.selection.getRng(),n=a=>c=>{const u=c.previousSibling;return tS(u)&&Wo(a,u)},r=(a,c)=>{const u=me.fromDom(c),g=dl(u).dom;_n(u),Ai(me.fromDom(a),[me.fromTag("br",g),me.fromTag("br",g),...qa(u)])};if(!t.collapsed){const a=e.selection.getSelectedBlocks(),c=Ye(Ye(a,tS),n(a));Ne(c,u=>{r(u.previousSibling,u)})}});const xT=["fontWeight","fontStyle","color","fontSize","fontFamily"],nS=e=>le(e.styles)&&zn(Je(e.styles),t=>Wo(xT,t)),rS=e=>Sn(e,t=>sa(t)&&t.inline==="span"&&nS(t)),s_=(e,t)=>{const n=e.get(t);return ve(n)?rS(n):V.none()},sS=(e,t)=>zs(t,$e.fromRangeStart(e)).isNone(),aS=(e,t)=>uc(t,$e.fromRangeEnd(e)).exists(n=>!ls(n.getNode())||uc(t,n).isSome())===!1,iS=e=>t=>lf(t)&&e.isEditable(t),UN=e=>{const t=e.getSelectedBlocks(),n=e.getRng();if(e.isCollapsed())return[];if(t.length===1)return sS(n,t[0])&&aS(n,t[0])?t:[];{const r=mt(t).filter(u=>sS(n,u)).toArray(),a=io(t).filter(u=>aS(n,u)).toArray(),c=t.slice(1,-1);return r.concat(c).concat(a)}},fv=e=>Ye(UN(e),iS(e.dom)),mv=e=>Ye(e.getSelectedBlocks(),iS(e.dom)),a_=ht.each,i_=e=>qt(e)&&!Id(e)&&!Va(e)&&!Xc(e),lS=(e,t)=>{for(let n=e;n;n=n[t]){if(bt(n)&&gr(n.data))return e;if(qt(n)&&!Id(n))return n}return e},cS=(e,t,n)=>{const r=Ay(e),a=Pl(t)&&e.dom.isEditable(t),c=Pl(n)&&e.dom.isEditable(n);if(a&&c){const u=lS(t,"previousSibling"),g=lS(n,"nextSibling");if(r.compare(u,g)){for(let v=u.nextSibling;v&&v!==g;){const S=v;v=v.nextSibling,u.appendChild(S)}return e.dom.remove(g),ht.each(ht.grep(g.childNodes),v=>{u.appendChild(v)}),u}}return n},pv=(e,t,n,r)=>{var a;if(r&&t.merge_siblings!==!1){const c=(a=cS(e,v0(r),r))!==null&&a!==void 0?a:r;cS(e,c,v0(c,!0))}},dS=(e,t,n)=>{if(t.clear_child_styles){const r=t.links?"*:not(a)":"*";a_(e.select(r,n),a=>{i_(a)&&e.isEditable(a)&&a_(t.styles,(c,u)=>{e.setStyle(a,u,"")})})}},Wh=(e,t,n)=>{a_(e.childNodes,r=>{i_(r)&&(t(r)&&n(r),r.hasChildNodes()&&Wh(r,t,n))})},ZN=(e,t)=>{t.nodeName==="SPAN"&&e.getAttribs(t).length===0&&e.remove(t,!0)},uS=(e,t)=>n=>!!(n&&ny(e,n,t)),kT=(e,t,n)=>r=>{e.setStyle(r,t,n),r.getAttribute("style")===""&&r.removeAttribute("style"),ZN(e,r)},qh=jt.generate([{keep:[]},{rename:["name"]},{removed:[]}]),_T=/^(src|href|style)$/,l_=ht.each,c_=ig,wT=e=>/^(TR|TH|TD)$/.test(e.nodeName),wp=(e,t,n)=>e.isChildOf(t,n)&&t!==n&&!e.isBlock(n),fS=(e,t,n)=>{let r=t[n?"startContainer":"endContainer"],a=t[n?"startOffset":"endOffset"];if(qt(r)){const c=r.childNodes.length-1;!n&&a&&a--,r=r.childNodes[a>c?c:a]}return bt(r)&&n&&a>=r.data.length&&(r=new Fa(r,e.getBody()).next()||r),bt(r)&&!n&&a===0&&(r=new Fa(r,e.getBody()).prev()||r),r},d_=(e,t)=>{const n=t?"firstChild":"lastChild",r=e[n];return wT(e)&&r?e.nodeName==="TR"&&r[n]||r:e},u_=(e,t,n,r)=>{var a;const c=e.create(n,r);return(a=t.parentNode)===null||a===void 0||a.insertBefore(c,t),c.appendChild(t),c},f_=(e,t,n,r,a)=>{const c=me.fromDom(t),u=me.fromDom(e.create(r,a)),g=n?wd(c):Uc(c);return Ai(u,g),n?(is(c,u),Er(u,c)):(oc(c,u),lr(u,c)),u.dom},wg=(e,t)=>t.links&&e.nodeName==="A",mS=(e,t,n)=>{const r=t.parentNode;let a;const c=e.dom,u=Ul(e);_f(n)&&r===c.getRoot()&&(!n.list_block||!c_(t,n.list_block))&&Ne(Mo(t.childNodes),g=>{Th(e,u,g.nodeName.toLowerCase())?a?a.appendChild(g):(a=u_(c,g,u),c.setAttribs(a,n0(e))):a=null}),!(qi(n)&&!c_(n.inline,t))&&c.remove(t,!0)},Vd=(e,t,n)=>T(e)?{name:t,value:null}:{name:e,value:dp(t,n)},Cg=(e,t)=>{e.getAttrib(t,"style")===""&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},m_=(e,t,n,r,a)=>{let c=!1;l_(n.styles,(u,g)=>{const{name:v,value:S}=Vd(g,u,r),R=k0(S,v);(n.remove_similar||lt(S)||!qt(a)||c_(ny(e,a,v),R))&&e.setStyle(t,v,""),c=!0}),c&&Cg(e,t)},CT=(e,t,n)=>{t==="removeformat"?Ne(mv(e.selection),r=>{Ne(xT,a=>e.dom.setStyle(r,a,"")),Cg(e.dom,r)}):s_(e.formatter,t).each(r=>{Ne(mv(e.selection),a=>m_(e.dom,a,r,n,null))})},ST=(e,t,n,r,a)=>{const c=e.dom,u=Ay(e),g=e.schema;if(sa(t)&&Ws(g,t.inline)&&ba(g,r)&&r.parentElement===e.getBody())return mS(e,r,t),qh.removed();if(!t.ceFalseOverride&&r&&c.getContentEditableParent(r)==="false"||r&&!n_(c,r,t)&&!wg(r,t))return qh.keep();const v=r,S=t.preserve_attributes;if(sa(t)&&t.remove==="all"&&ve(S)){const R=Ye(c.getAttribs(v),B=>Wo(S,B.name.toLowerCase()));if(c.removeAllAttribs(v),Ne(R,B=>c.setAttrib(v,B.name,B.value)),R.length>0)return qh.rename("span")}if(t.remove!=="all"){m_(c,v,t,n,a),l_(t.attributes,(B,L)=>{const{name:G,value:ae}=Vd(L,B,n);if(t.remove_similar||lt(ae)||!qt(a)||c_(c.getAttrib(a,G),ae)){if(G==="class"){const J=c.getAttrib(v,G);if(J){let ie="";if(Ne(J.split(/\s+/),he=>{/mce\-\w+/.test(he)&&(ie+=(ie?" ":"")+he)}),ie){c.setAttrib(v,G,ie);return}}}if(_T.test(G)&&v.removeAttribute("data-mce-"+G),G==="style"&&gi(["li"])(v)&&c.getStyle(v,"list-style-type")==="none"){v.removeAttribute(G),c.setStyle(v,"list-style-type","none");return}G==="class"&&v.removeAttribute("className"),v.removeAttribute(G)}}),l_(t.classes,B=>{B=dp(B,n),(!qt(a)||c.hasClass(a,B))&&c.removeClass(v,B)});const R=c.getAttribs(v);for(let B=0;B<R.length;B++){const L=R[B].nodeName;if(!u.isAttributeInternal(L))return qh.keep()}}return t.remove!=="none"?(mS(e,v,t),qh.removed()):qh.keep()},ET=(e,t,n,r,a)=>{let c;return t.parentNode&&Ne(kf(e.dom,t.parentNode).reverse(),u=>{if(!c&&qt(u)&&u.id!=="_start"&&u.id!=="_end"){const g=gm(e,u,n,r,a);g&&g.split!==!1&&(c=u)}}),c},By=(e,t,n,r)=>ST(e,t,n,r,r).fold(Ce(r),a=>(e.dom.createFragment().appendChild(r),e.dom.rename(r,a)),Ce(null)),p_=(e,t,n,r,a,c,u,g)=>{var v,S;let R,B;const L=e.dom;if(n){const G=n.parentNode;for(let ae=r.parentNode;ae&&ae!==G;ae=ae.parentNode){let J=L.clone(ae,!1);for(let ie=0;ie<t.length&&(J=By(e,t[ie],g,J),J!==null);ie++);J&&(R&&J.appendChild(R),B||(B=J),R=J)}(!u.mixed||!L.isBlock(n))&&(r=(v=L.split(n,r))!==null&&v!==void 0?v:r),R&&B&&((S=a.parentNode)===null||S===void 0||S.insertBefore(R,a),B.appendChild(a),sa(u)&&pv(e,u,g,R))}return r},AT=(e,t,n,r,a)=>{const c=e.formatter.get(t),u=c[0],g=e.dom,v=e.selection,S=J=>{const ie=ET(e,J,t,n,a);return p_(e,c,ie,J,J,!0,u,n)},R=J=>Id(J)&&qt(J)&&(J.id==="_start"||J.id==="_end"),B=J=>zn(c,ie=>Gh(e,ie,n,J,J)),L=J=>{const ie=Mo(J.childNodes),Se=B(J)||zn(c,Xe=>n_(g,J,Xe)),ze=J.parentNode;if(!Se&&Le(ze)&&wf(u)&&B(ze),u.deep&&ie.length)for(let Xe=0;Xe<ie.length;Xe++)L(ie[Xe]);Ne(["underline","line-through","overline"],Xe=>{qt(J)&&e.dom.getStyle(J,"text-decoration")===Xe&&J.parentNode&&Oh(g,J.parentNode)===Xe&&Gh(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:Xe}},void 0,J)})},G=J=>{const ie=g.get(J?"_start":"_end");if(ie){let he=ie[J?"firstChild":"lastChild"];return R(he)&&(he=he[J?"firstChild":"lastChild"]),bt(he)&&he.data.length===0&&(he=J?ie.previousSibling||ie.nextSibling:ie.nextSibling||ie.previousSibling),g.remove(ie,!0),he}else return null},ae=J=>{let ie,he,Se=Dh(g,J,c,{includeTrailingSpace:J.collapsed});if(u.split){if(Se=fy(Se),ie=fS(e,Se,!0),he=fS(e,Se),ie!==he){if(ie=d_(ie,!0),he=d_(he,!1),wp(g,ie,he)){const Me=V.from(ie.firstChild).getOr(ie);S(f_(g,Me,!0,"span",{id:"_start","data-mce-type":"bookmark"})),G(!0);return}if(wp(g,he,ie)){const Me=V.from(he.lastChild).getOr(he);S(f_(g,Me,!1,"span",{id:"_end","data-mce-type":"bookmark"})),G(!1);return}ie=u_(g,ie,"span",{id:"_start","data-mce-type":"bookmark"}),he=u_(g,he,"span",{id:"_end","data-mce-type":"bookmark"});const ze=g.createRng();ze.setStartAfter(ie),ze.setEndBefore(he),S0(g,ze,Me=>{Ne(Me,Xe=>{!Id(Xe)&&!Id(Xe.parentNode)&&S(Xe)})}),S(ie),S(he),ie=G(!0),he=G()}else ie=he=S(ie);Se.startContainer=ie.parentNode?ie.parentNode:ie,Se.startOffset=g.nodeIndex(ie),Se.endContainer=he.parentNode?he.parentNode:he,Se.endOffset=g.nodeIndex(he)+1}S0(g,Se,ze=>{Ne(ze,L)})};if(r){if(ty(r)){const J=g.createRng();J.setStartBefore(r),J.setEndAfter(r),ae(J)}else ae(r);Ex(e,t,r,n);return}!v.isCollapsed()||!sa(u)||zh(e).length?(C2(e,()=>nk(e,ae),J=>sa(u)&&ZC(e,t,n,J)),e.nodeChanged()):kg(e,t,n,a),CT(e,t,n),Ex(e,t,r,n)},pS=(e,t,n,r,a)=>{(r||e.selection.isEditable())&&AT(e,t,n,r,a)},Gh=(e,t,n,r,a)=>ST(e,t,n,r,a).fold(an,c=>(e.dom.rename(r,c),!0),Co),zT=ht.each,WN=(e,t,n,r)=>{const a=c=>{if(Pl(c)&&qt(c.parentNode)&&e.isEditable(c)){const u=Oh(e,c.parentNode);e.getStyle(c,"color")&&u?e.setStyle(c,"text-decoration",u):e.getStyle(c,"text-decoration")===u&&e.setStyle(c,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(ht.walk(r,a,"childNodes"),a(r))},TT=(e,t,n,r)=>{if(t.styles&&t.styles.backgroundColor){const a=uS(e,"fontSize");Wh(r,c=>a(c)&&e.isEditable(c),kT(e,"backgroundColor",dp(t.styles.backgroundColor,n)))}},qN=(e,t,n,r)=>{if(sa(t)&&(t.inline==="sub"||t.inline==="sup")){const a=uS(e,"fontSize");Wh(r,u=>a(u)&&e.isEditable(u),kT(e,"fontSize",""));const c=Ye(e.select(t.inline==="sup"?"sub":"sup",r),e.isEditable);e.remove(c,!0)}},ia=(e,t,n,r)=>{zT(t,a=>{sa(a)&&zT(e.dom.select(a.inline,r),c=>{i_(c)&&Gh(e,a,n,c,a.exact?c:null)}),dS(e.dom,a,r)})},OT=(e,t,n,r,a)=>{const c=a.parentNode;gm(e,c,n,r)&&Gh(e,t,r,a)||t.merge_with_parents&&c&&e.dom.getParent(c,u=>gm(e,u,n,r)?(Gh(e,t,r,a),!0):!1)},Kh=ht.each,DT=(e,t,n,r)=>{if(Ln(e)&&sa(t)&&n.parentNode){const a=z1(e.schema),c=Ug(me.fromDom(n),u=>Va(u.dom));return Oa(a,r)&&ac(e.schema,n.parentNode,{skipBogus:!1,includeZwsp:!0})&&!c}else return!1},gv=(e,t,n,r)=>{if(Kh(n.styles,(a,c)=>{e.setStyle(t,c,dp(a,r))}),n.styles){const a=e.getAttrib(t,"style");a&&e.setAttrib(t,"data-mce-style",a)}},RT=(e,t,n,r)=>{const a=e.formatter.get(t),c=a[0],u=!r&&e.selection.isCollapsed(),g=e.dom,v=e.selection,S=(ae,J=c)=>{It(J.onformat)&&J.onformat(ae,J,n,r),gv(g,ae,J,n),Kh(J.attributes,(ie,he)=>{g.setAttrib(ae,he,dp(ie,n))}),Kh(J.classes,ie=>{const he=dp(ie,n);g.hasClass(ae,he)||g.addClass(ae,he)})},R=(ae,J)=>{let ie=!1;return Kh(ae,he=>rl(he)?g.getContentEditable(J)==="false"&&!he.ceFalseOverride||Le(he.collapsed)&&he.collapsed!==u?!0:g.is(J,he.selector)&&!Va(J)?(S(J,he),ie=!0,!1):!0:!1),ie},B=ae=>{if(pt(ae)){const J=g.create(ae);return S(J),J}else return null},L=(ae,J,ie)=>{const he=[];let Se=!0;const ze=c.inline||c.block,Me=B(ze),Xe=We=>rA(c)&&gm(e,We,t,n),vt=(We,He,tt)=>{const Rt=sA(c)&&sk(e.schema,We)&&Th(e,He,ze);return tt&&Rt},Lt=(We,He,tt,Rt)=>{const ro=We.nodeName.toLowerCase(),Go=Th(e,ze,ro)&&Th(e,He,ze),Jo=!ie&&bt(We)&&Md(We.data),nr=Va(We),Dr=!sa(c)||!ae.isBlock(We);return(tt||Rt)&&Go&&!Jo&&!nr&&Dr};S0(ae,J,We=>{let He;const tt=Rt=>{let ro=!1,Go=Se,Jo=!1;const nr=Rt.parentNode,Dr=nr.nodeName.toLowerCase(),za=ae.getContentEditable(Rt);Le(za)&&(Go=Se,Se=za==="true",ro=!0,Jo=ak(e,Rt));const Ki=Se&&!ro;if(ls(Rt)&&!DT(e,c,Rt,Dr)){He=null,_f(c)&&ae.remove(Rt);return}if(Xe(Rt)){He=null;return}if(vt(Rt,Dr,Ki)){const Yi=ae.rename(Rt,ze);S(Yi),he.push(Yi),He=null;return}if(rl(c)){let Yi=R(a,Rt);if(!Yi&&Le(nr)&&wf(c)&&(Yi=R(a,nr)),!sa(c)||Yi){He=null;return}}Le(Me)&&Lt(Rt,Dr,Ki,Jo)?(He||(He=ae.clone(Me,!1),nr.insertBefore(He,Rt),he.push(He)),Jo&&ro&&(Se=Go),He.appendChild(Rt)):(He=null,Ne(Mo(Rt.childNodes),tt),ro&&(Se=Go),He=null)};Ne(We,tt)}),c.links===!0&&Ne(he,We=>{const He=tt=>{tt.nodeName==="A"&&S(tt,c),Ne(Mo(tt.childNodes),He)};He(We)}),Ne(he,We=>{const He=ro=>{let Go=0;return Ne(ro.childNodes,Jo=>{!E2(Jo)&&!Id(Jo)&&Go++}),Go},tt=ro=>Sn(ro.childNodes,rk).filter(Jo=>ae.getContentEditable(Jo)!=="false"&&n_(ae,Jo,c)).map(Jo=>{const nr=ae.clone(Jo,!1);return S(nr),ae.replace(nr,ro,!0),ae.remove(Jo,!0),nr}).getOr(ro),Rt=He(We);if((he.length>1||!ae.isBlock(We))&&Rt===0){ae.remove(We,!0);return}(sa(c)||_f(c)&&c.wrapper)&&(!c.exact&&Rt===1&&(We=tt(We)),ia(e,a,n,We),OT(e,c,t,n,We),TT(ae,c,n,We),WN(ae,c,n,We),qN(ae,c,n,We),pv(e,c,n,We))})},G=ty(r)?r:v.getNode();if(g.getContentEditable(G)==="false"&&!ak(e,G)){r=G,R(a,r),Sx(e,t,r,n);return}if(c){if(r)if(ty(r)){if(!R(a,r)){const ae=g.createRng();ae.setStartBefore(r),ae.setEndAfter(r),L(g,Dh(g,ae,a),!0)}}else L(g,r,!0);else!u||!sa(c)||zh(e).length?(v.setRng(Oy(v.getRng())),C2(e,()=>{nk(e,(ae,J)=>{const ie=J?ae:Dh(g,ae,a);L(g,ie,!1)})},Co),e.nodeChanged()):VN(e,t,n),s_(e.formatter,t).each(ae=>{Ne(fv(e.selection),J=>gv(g,J,ae,n))});oS(t,e)}Sx(e,t,r,n)},gS=(e,t,n,r)=>{(r||e.selection.isEditable())&&RT(e,t,n,r)},Iy=e=>go(e,"vars"),Cp=(e,t)=>{e.set({}),t.on("NodeChange",n=>{h_(t,n.element,e.get())}),t.on("FormatApply FormatRemove",n=>{const r=V.from(n.node).map(a=>ty(a)?a:a.startContainer).bind(a=>qt(a)?V.some(a):V.from(a.parentElement)).getOrThunk(()=>Sg(t));h_(t,r,e.get())})},Sg=e=>e.selection.getStart(),hv=(e,t,n,r,a)=>Fo(t,g=>{const v=e.formatter.matchNode(g,n,a??{},r);return!Xn(v)},g=>dv(e,g,n)?!0:r?!1:Le(e.formatter.matchNode(g,n,a,!0))),g_=(e,t)=>{const n=t??Sg(e);return Ye(kf(e.dom,n),r=>qt(r)&&!Xc(r))},h_=(e,t,n)=>{const r=g_(e,t);To(n,(a,c)=>{const u=g=>{const v=hv(e,r,c,g.similar,Iy(g)?g.vars:void 0),S=v.isSome();if(g.state.get()!==S){g.state.set(S);const R=v.getOr(t);Iy(g)?g.callback(S,{node:R,format:c,parents:r}):Ne(g.callbacks,B=>B(S,{node:R,format:c,parents:r}))}};Ne([a.withSimilar,a.withoutSimilar],u),Ne(a.withVars,u)})},NT=(e,t,n,r,a,c)=>{const u=t.get();Ne(n.split(","),g=>{const v=Bn(u,g).getOrThunk(()=>{const R={withSimilar:{state:yr(!1),similar:!0,callbacks:[]},withoutSimilar:{state:yr(!1),similar:!1,callbacks:[]},withVars:[]};return u[g]=R,R}),S=()=>{const R=g_(e);return hv(e,R,g,a,c).isSome()};if(Xn(c)){const R=a?v.withSimilar:v.withoutSimilar;R.callbacks.push(r),R.callbacks.length===1&&R.state.set(S())}else v.withVars.push({state:yr(S()),similar:a,vars:c,callback:r})}),t.set(u)},GN=(e,t,n)=>{const r=e.get();Ne(t.split(","),a=>Bn(r,a).each(c=>{r[a]={withSimilar:{...c.withSimilar,callbacks:Ye(c.withSimilar.callbacks,u=>u!==n)},withoutSimilar:{...c.withoutSimilar,callbacks:Ye(c.withoutSimilar.callbacks,u=>u!==n)},withVars:Ye(c.withVars,u=>u.callback!==n)}})),e.set(r)},MT=(e,t,n,r,a,c)=>(NT(e,t,n,r,a,c),{unbind:()=>GN(t,n,r)}),BT=(e,t,n,r)=>{const a=e.formatter.get(t);a&&(ZC(e,t,n,r)&&(!("toggle"in a[0])||a[0].toggle)?pS(e,t,n,r):gS(e,t,n,r))},hS=ht.explode,bS=()=>{const e={};return{addFilter:(a,c)=>{Ne(hS(a),u=>{go(e,u)||(e[u]={name:u,callbacks:[]}),e[u].callbacks.push(c)})},getFilters:()=>el(e),removeFilter:(a,c)=>{Ne(hS(a),u=>{if(go(e,u))if(Le(c)){const g=e[u],v=Ye(g.callbacks,S=>S!==c);v.length>0?g.callbacks=v:delete e[u]}else delete e[u]})}}},KN=(e,t)=>{Ne(t,n=>{e.attr(n,null)})},YN=(e,t,n)=>{e.addNodeFilter("font",r=>{Ne(r,a=>{const c=t.parse(a.attr("style")),u=a.attr("color"),g=a.attr("face"),v=a.attr("size");u&&(c.color=u),g&&(c["font-family"]=g),v&&Qn(v).each(S=>{c["font-size"]=n[S-1]}),a.name="span",a.attr("style",t.serialize(c)),KN(a,["color","face","size"])})})},XN=(e,t,n)=>{e.addNodeFilter("strike",r=>{const a=t.type!=="html4";Ne(r,c=>{if(a)c.name="s";else{const u=n.parse(c.attr("style"));u["text-decoration"]="line-through",c.name="span",c.attr("style",n.serialize(u))}})})},Nc=(e,t,n)=>{var r;const a=O1();t.convert_fonts_to_spans&&YN(e,a,ht.explode((r=t.font_size_legacy_values)!==null&&r!==void 0?r:"")),XN(e,n,a)},IT=(e,t,n)=>{t.inline_styles&&Nc(e,t,n)},bv=e=>fetch(e).then(t=>t.ok?t.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),JN=e=>{const t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""},PT=e=>{try{return decodeURIComponent(e)}catch{return e}},b_=e=>{const[t,...n]=e.split(","),r=n.join(","),a=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(a){const c=a[2]===";base64",u=PT(r),g=c?JN(u):u;return V.some({type:a[1],data:g,base64Encoded:c})}else return V.none()},yS=(e,t,n=!0)=>{let r=t;if(n)try{r=atob(t)}catch{return V.none()}const a=new Uint8Array(r.length);for(let c=0;c<a.length;c++)a[c]=r.charCodeAt(c);return V.some(new Blob([a],{type:e}))},vS=e=>new Promise((t,n)=>{b_(e).bind(({type:r,data:a,base64Encoded:c})=>yS(r,a,c)).fold(()=>n("Invalid data URI"),t)}),LT=e=>ir(e,"blob:")?bv(e):ir(e,"data:")?vS(e):Promise.reject("Unknown URI format"),xS=e=>new Promise((t,n)=>{const r=new FileReader;r.onloadend=()=>{t(r.result)},r.onerror=()=>{var a;n((a=r.error)===null||a===void 0?void 0:a.message)},r.readAsDataURL(e)});let QN=0;const e7=e=>"blobid"+QN++,FT=(e,t,n)=>b_(e).bind(({data:r,type:a,base64Encoded:c})=>{if(t&&!c)return V.none();{const u=c?r:btoa(r);return n(u,a)}}),y_=(e,t,n)=>{const r=e.create(e7(),t,n);return e.add(r),r},HT=(e,t,n=!1)=>FT(t,n,(r,a)=>V.from(e.getByData(r,a)).orThunk(()=>yS(a,r).map(c=>y_(e,c,r)))),t7=(e,t)=>{const n=()=>Promise.reject("Invalid data URI");if(ir(t,"blob:")){const r=e.getByUri(t);return Le(r)?Promise.resolve(r):LT(t).then(a=>xS(a).then(c=>FT(c,!1,u=>V.some(y_(e,a,u))).getOrThunk(n)))}else return ir(t,"data:")?HT(e,t).fold(n,r=>Promise.resolve(r)):Promise.reject("Unknown image data format")},VT=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,o7=e=>V.from(e.match(VT)).bind(t=>Ds(t,1)).map(t=>ir(t,"www.")?t.substring(4):t),$T=(e,t)=>{V.from(e.attr("src")).bind(o7).forall(n=>!Wo(t,n))&&e.attr("sandbox","")},yv=(e,t)=>ir(e,`${t}/`),v_=e=>Xn(e)?"iframe":yv(e,"image")?"img":yv(e,"video")?"video":yv(e,"audio")?"audio":"iframe",jT=({type:e,src:t,width:n,height:r}={},a,c)=>{const u=v_(e),g=new fc(u,1);return g.attr(u==="audio"?{src:t}:{src:t,width:n,height:r}),(u==="audio"||u==="video")&&g.attr("controls",""),u==="iframe"&&a&&$T(g,c),g},UT=e=>Le(e.attr("data-mce-bogus")),kS=e=>e.attr("src")===Nt.transparentSrc||Le(e.attr("data-mce-placeholder")),n7=(e,t)=>{const{blob_cache:n}=t;if(n){const r=a=>{const c=a.attr("src");kS(a)||UT(a)||Ro(c)||HT(n,c,!0).each(u=>{a.attr("src",u.blobUri())})};e.addAttributeFilter("src",a=>Ne(a,r))}},r7=(e,t)=>{var n,r;const a=e.schema;e.addAttributeFilter("href",v=>{let S=v.length;const R=L=>L.split(" ").filter(ae=>ae.length>0).concat(["noopener"]).sort().join(" "),B=L=>{const G=L?ht.trim(L):"";return/\b(noopener)\b/g.test(G)?G:R(G)};if(!t.allow_unsafe_link_target)for(;S--;){const L=v[S];L.name==="a"&&L.attr("target")==="_blank"&&L.attr("rel",B(L.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",v=>{let S=v.length,R,B,L,G;for(;S--;)if(G=v[S],G.name==="a"&&G.firstChild&&!G.attr("href"))for(L=G.parent,R=G.lastChild;R&&L;)B=R.prev,L.insert(R,G),R=B}),t.fix_list_elements&&e.addNodeFilter("ul,ol",v=>{let S=v.length,R,B;for(;S--;)if(R=v[S],B=R.parent,B&&(B.name==="ul"||B.name==="ol"))if(R.prev&&R.prev.name==="li")R.prev.append(R);else{const L=new fc("li",1);L.attr("style","list-style-type: none"),R.wrap(L)}});const c=a.getValidClasses();t.validate&&c&&e.addAttributeFilter("class",v=>{var S;let R=v.length;for(;R--;){const B=v[R],L=(S=B.attr("class"))!==null&&S!==void 0?S:"",G=ht.explode(L," ");let ae="";for(let J=0;J<G.length;J++){const ie=G[J];let he=!1,Se=c["*"];Se&&Se[ie]&&(he=!0),Se=c[B.name],!he&&Se&&Se[ie]&&(he=!0),he&&(ae&&(ae+=" "),ae+=ie)}ae.length||(ae=null),B.attr("class",ae)}}),n7(e,t);const u=(n=t.sandbox_iframes)!==null&&n!==void 0?n:!1,g=$a((r=t.sandbox_iframes_exclusions)!==null&&r!==void 0?r:[]);t.convert_unsafe_embeds&&e.addNodeFilter("object,embed",v=>Ne(v,S=>{S.replace(jT({type:S.attr("type"),src:S.name==="object"?S.attr("data"):S.attr("src"),width:S.attr("width"),height:S.attr("height")},u,g))})),u&&e.addNodeFilter("iframe",v=>Ne(v,S=>$T(S,g)))};/*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE */const{entries:ZT,setPrototypeOf:Eg,isFrozen:s7,getPrototypeOf:x_,getOwnPropertyDescriptor:a7}=Object;let{freeze:mc,seal:fu,create:_S}=Object,{apply:k_,construct:Py}=typeof Reflect<"u"&&Reflect;mc||(mc=function(t){return t}),fu||(fu=function(t){return t}),k_||(k_=function(t,n,r){return t.apply(n,r)}),Py||(Py=function(t,n){return new t(...n)});const __=cd(Array.prototype.forEach),i7=cd(Array.prototype.lastIndexOf),w_=cd(Array.prototype.pop),Ly=cd(Array.prototype.push),l7=cd(Array.prototype.splice),C_=cd(String.prototype.toLowerCase),wS=cd(String.prototype.toString),WT=cd(String.prototype.match),Yh=cd(String.prototype.replace),qT=cd(String.prototype.indexOf),c7=cd(String.prototype.trim),Df=cd(Object.prototype.hasOwnProperty),Lr=cd(RegExp.prototype.test),vv=GT(TypeError);function cd(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return k_(e,t,r)}}function GT(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Py(e,n)}}function zr(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:C_;Eg&&Eg(e,null);let r=t.length;for(;r--;){let a=t[r];if(typeof a=="string"){const c=n(a);c!==a&&(s7(t)||(t[r]=c),a=c)}e[a]=!0}return e}function KT(e){for(let t=0;t<e.length;t++)Df(e,t)||(e[t]=null);return e}function $d(e){const t=_S(null);for(const[n,r]of ZT(e))Df(e,n)&&(Array.isArray(r)?t[n]=KT(r):r&&typeof r=="object"&&r.constructor===Object?t[n]=$d(r):t[n]=r);return t}function Xh(e,t){for(;e!==null;){const r=a7(e,t);if(r){if(r.get)return cd(r.get);if(typeof r.value=="function")return cd(r.value)}e=x_(e)}function n(){return null}return n}const CS=mc(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),xv=mc(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),kv=mc(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),SS=mc(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),S_=mc(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),E_=mc(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),_v=mc(["#text"]),Fy=mc(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Jh=mc(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),mu=mc(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ag=mc(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),YT=fu(/\{\{[\w\W]*|[\w\W]*\}\}/gm),XT=fu(/<%[\w\W]*|[\w\W]*%>/gm),d7=fu(/\$\{[\w\W]*/gm),JT=fu(/^data-[\-\w.\u00B7-\uFFFF]+$/),u7=fu(/^aria-[\-\w]+$/),QT=fu(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),wv=fu(/^(?:\w+script|data):/i),f7=fu(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),e5=fu(/^html$/i),m7=fu(/^[a-z][.\w]*(-[.\w]+)+$/i);var t5=Object.freeze({__proto__:null,ARIA_ATTR:u7,ATTR_WHITESPACE:f7,CUSTOM_ELEMENT:m7,DATA_ATTR:JT,DOCTYPE_NAME:e5,ERB_EXPR:XT,IS_ALLOWED_URI:QT,IS_SCRIPT_OR_DATA:wv,MUSTACHE_EXPR:YT,TMPLIT_EXPR:d7});const Cv={element:1,text:3,progressingInstruction:7,comment:8,document:9},p7=function(){return typeof window>"u"?null:window},g7=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let r=null;const a="data-tt-policy-suffix";n&&n.hasAttribute(a)&&(r=n.getAttribute(a));const c="dompurify"+(r?"#"+r:"");try{return t.createPolicy(c,{createHTML(u){return u},createScriptURL(u){return u}})}catch{return console.warn("TrustedTypes policy "+c+" could not be created."),null}},o5=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function n5(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p7();const t=pn=>n5(pn);if(t.version="3.2.4",t.removed=[],!e||!e.document||e.document.nodeType!==Cv.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e;const r=n,a=r.currentScript,{DocumentFragment:c,HTMLTemplateElement:u,Node:g,Element:v,NodeFilter:S,NamedNodeMap:R=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:B,DOMParser:L,trustedTypes:G}=e,ae=v.prototype,J=Xh(ae,"cloneNode"),ie=Xh(ae,"remove"),he=Xh(ae,"nextSibling"),Se=Xh(ae,"childNodes"),ze=Xh(ae,"parentNode");if(typeof u=="function"){const pn=n.createElement("template");pn.content&&pn.content.ownerDocument&&(n=pn.content.ownerDocument)}let Me,Xe="";const{implementation:vt,createNodeIterator:Lt,createDocumentFragment:We,getElementsByTagName:He}=n,{importNode:tt}=r;let Rt=o5();t.isSupported=typeof ZT=="function"&&typeof ze=="function"&&vt&&vt.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:ro,ERB_EXPR:Go,TMPLIT_EXPR:Jo,DATA_ATTR:nr,ARIA_ATTR:Dr,IS_SCRIPT_OR_DATA:za,ATTR_WHITESPACE:Ki,CUSTOM_ELEMENT:Yi}=t5;let{IS_ALLOWED_URI:At}=t5,so=null;const Yn=zr({},[...CS,...xv,...kv,...S_,..._v]);let Pt=null;const at=zr({},[...Fy,...Jh,...mu,...Ag]);let Dt=Object.seal(_S(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),zo=null,Hr=null,mn=!0,El=!0,$f=!1,Fg=!0,ud=!1,Cm=!0,Gu=!1,Mc=!1,fd=!1,jf=!1,b1=!1,lo=!1,Rn=!0,xa=!1;const Oi="user-content-";let Xi=!0,vi=!1,Ys={},Xs=null;const md=zr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Sm=null;const Hg=zr({},["audio","video","img","source","image","track"]);let Mp=null;const Ew=zr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Aw="http://www.w3.org/1998/Math/MathML",Kv="http://www.w3.org/2000/svg",Em="http://www.w3.org/1999/xhtml";let y1=Em,N4=!1,zw=null;const LL=zr({},[Aw,Kv,Em],wS);let M4=zr({},["mi","mo","mn","ms","mtext"]),B4=zr({},["annotation-xml"]);const FL=zr({},["title","style","font","a","script"]);let Tw=null;const v1=["application/xhtml+xml","text/html"],MD="text/html";let Re=null,Be=null;const Et=n.createElement("form"),kt=function(Pe){return Pe instanceof RegExp||Pe instanceof Function},vo=function(){let Pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Be&&Be===Pe)){if((!Pe||typeof Pe!="object")&&(Pe={}),Pe=$d(Pe),Tw=v1.indexOf(Pe.PARSER_MEDIA_TYPE)===-1?MD:Pe.PARSER_MEDIA_TYPE,Re=Tw==="application/xhtml+xml"?wS:C_,so=Df(Pe,"ALLOWED_TAGS")?zr({},Pe.ALLOWED_TAGS,Re):Yn,Pt=Df(Pe,"ALLOWED_ATTR")?zr({},Pe.ALLOWED_ATTR,Re):at,zw=Df(Pe,"ALLOWED_NAMESPACES")?zr({},Pe.ALLOWED_NAMESPACES,wS):LL,Mp=Df(Pe,"ADD_URI_SAFE_ATTR")?zr($d(Ew),Pe.ADD_URI_SAFE_ATTR,Re):Ew,Sm=Df(Pe,"ADD_DATA_URI_TAGS")?zr($d(Hg),Pe.ADD_DATA_URI_TAGS,Re):Hg,Xs=Df(Pe,"FORBID_CONTENTS")?zr({},Pe.FORBID_CONTENTS,Re):md,zo=Df(Pe,"FORBID_TAGS")?zr({},Pe.FORBID_TAGS,Re):{},Hr=Df(Pe,"FORBID_ATTR")?zr({},Pe.FORBID_ATTR,Re):{},Ys=Df(Pe,"USE_PROFILES")?Pe.USE_PROFILES:!1,mn=Pe.ALLOW_ARIA_ATTR!==!1,El=Pe.ALLOW_DATA_ATTR!==!1,$f=Pe.ALLOW_UNKNOWN_PROTOCOLS||!1,Fg=Pe.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ud=Pe.SAFE_FOR_TEMPLATES||!1,Cm=Pe.SAFE_FOR_XML!==!1,Gu=Pe.WHOLE_DOCUMENT||!1,jf=Pe.RETURN_DOM||!1,b1=Pe.RETURN_DOM_FRAGMENT||!1,lo=Pe.RETURN_TRUSTED_TYPE||!1,fd=Pe.FORCE_BODY||!1,Rn=Pe.SANITIZE_DOM!==!1,xa=Pe.SANITIZE_NAMED_PROPS||!1,Xi=Pe.KEEP_CONTENT!==!1,vi=Pe.IN_PLACE||!1,At=Pe.ALLOWED_URI_REGEXP||QT,y1=Pe.NAMESPACE||Em,M4=Pe.MATHML_TEXT_INTEGRATION_POINTS||M4,B4=Pe.HTML_INTEGRATION_POINTS||B4,Dt=Pe.CUSTOM_ELEMENT_HANDLING||{},Pe.CUSTOM_ELEMENT_HANDLING&&kt(Pe.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Dt.tagNameCheck=Pe.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Pe.CUSTOM_ELEMENT_HANDLING&&kt(Pe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Dt.attributeNameCheck=Pe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Pe.CUSTOM_ELEMENT_HANDLING&&typeof Pe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Dt.allowCustomizedBuiltInElements=Pe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ud&&(El=!1),b1&&(jf=!0),Ys&&(so=zr({},_v),Pt=[],Ys.html===!0&&(zr(so,CS),zr(Pt,Fy)),Ys.svg===!0&&(zr(so,xv),zr(Pt,Jh),zr(Pt,Ag)),Ys.svgFilters===!0&&(zr(so,kv),zr(Pt,Jh),zr(Pt,Ag)),Ys.mathMl===!0&&(zr(so,S_),zr(Pt,mu),zr(Pt,Ag))),Pe.ADD_TAGS&&(so===Yn&&(so=$d(so)),zr(so,Pe.ADD_TAGS,Re)),Pe.ADD_ATTR&&(Pt===at&&(Pt=$d(Pt)),zr(Pt,Pe.ADD_ATTR,Re)),Pe.ADD_URI_SAFE_ATTR&&zr(Mp,Pe.ADD_URI_SAFE_ATTR,Re),Pe.FORBID_CONTENTS&&(Xs===md&&(Xs=$d(Xs)),zr(Xs,Pe.FORBID_CONTENTS,Re)),Xi&&(so["#text"]=!0),Gu&&zr(so,["html","head","body"]),so.table&&(zr(so,["tbody"]),delete zo.tbody),Pe.TRUSTED_TYPES_POLICY){if(typeof Pe.TRUSTED_TYPES_POLICY.createHTML!="function")throw vv('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Pe.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw vv('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Me=Pe.TRUSTED_TYPES_POLICY,Xe=Me.createHTML("")}else Me===void 0&&(Me=g7(G,a)),Me!==null&&typeof Xe=="string"&&(Xe=Me.createHTML(""));mc&&mc(Pe),Be=Pe}},$n=zr({},[...xv,...kv,...SS]),ka=zr({},[...S_,...E_]),Bp=function(Pe){let ao=ze(Pe);(!ao||!ao.tagName)&&(ao={namespaceURI:y1,tagName:"template"});const Ko=C_(Pe.tagName),Di=C_(ao.tagName);return zw[Pe.namespaceURI]?Pe.namespaceURI===Kv?ao.namespaceURI===Em?Ko==="svg":ao.namespaceURI===Aw?Ko==="svg"&&(Di==="annotation-xml"||M4[Di]):!!$n[Ko]:Pe.namespaceURI===Aw?ao.namespaceURI===Em?Ko==="math":ao.namespaceURI===Kv?Ko==="math"&&B4[Di]:!!ka[Ko]:Pe.namespaceURI===Em?ao.namespaceURI===Kv&&!B4[Di]||ao.namespaceURI===Aw&&!M4[Di]?!1:!ka[Ko]&&(FL[Ko]||!$n[Ko]):!!(Tw==="application/xhtml+xml"&&zw[Pe.namespaceURI]):!1},Am=function(Pe){Ly(t.removed,{element:Pe});try{ze(Pe).removeChild(Pe)}catch{ie(Pe)}},I4=function(Pe,ao){try{Ly(t.removed,{attribute:ao.getAttributeNode(Pe),from:ao})}catch{Ly(t.removed,{attribute:null,from:ao})}if(ao.removeAttribute(Pe),Pe==="is")if(jf||b1)try{Am(ao)}catch{}else try{ao.setAttribute(Pe,"")}catch{}},HL=function(Pe){let ao=null,Ko=null;if(fd)Pe="<remove></remove>"+Pe;else{const Bc=WT(Pe,/^[\r\n\t ]+/);Ko=Bc&&Bc[0]}Tw==="application/xhtml+xml"&&y1===Em&&(Pe='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Pe+"</body></html>");const Di=Me?Me.createHTML(Pe):Pe;if(y1===Em)try{ao=new L().parseFromString(Di,Tw)}catch{}if(!ao||!ao.documentElement){ao=vt.createDocument(y1,"template",null);try{ao.documentElement.innerHTML=N4?Xe:Di}catch{}}const qd=ao.body||ao.documentElement;return Pe&&Ko&&qd.insertBefore(n.createTextNode(Ko),qd.childNodes[0]||null),y1===Em?He.call(ao,Gu?"html":"body")[0]:Gu?ao.documentElement:qd},VL=function(Pe){return Lt.call(Pe.ownerDocument||Pe,Pe,S.SHOW_ELEMENT|S.SHOW_COMMENT|S.SHOW_TEXT|S.SHOW_PROCESSING_INSTRUCTION|S.SHOW_CDATA_SECTION,null)},UB=function(Pe){return Pe instanceof B&&(typeof Pe.nodeName!="string"||typeof Pe.textContent!="string"||typeof Pe.removeChild!="function"||!(Pe.attributes instanceof R)||typeof Pe.removeAttribute!="function"||typeof Pe.setAttribute!="function"||typeof Pe.namespaceURI!="string"||typeof Pe.insertBefore!="function"||typeof Pe.hasChildNodes!="function")},$L=function(Pe){return typeof g=="function"&&Pe instanceof g};function ab(pn,Pe,ao){__(pn,Ko=>{Ko.call(t,Pe,ao,Be)})}const jL=function(Pe){let ao=null;if(ab(Rt.beforeSanitizeElements,Pe,null),UB(Pe))return Am(Pe),!0;const Ko=Re(Pe.nodeName);if(ab(Rt.uponSanitizeElement,Pe,{tagName:Ko,allowedTags:so}),Pe.hasChildNodes()&&!$L(Pe.firstElementChild)&&Lr(/<[/\w]/g,Pe.innerHTML)&&Lr(/<[/\w]/g,Pe.textContent)||Pe.nodeType===Cv.progressingInstruction||Cm&&Pe.nodeType===Cv.comment&&Lr(/<[/\w]/g,Pe.data))return Am(Pe),!0;if(!so[Ko]||zo[Ko]){if(!zo[Ko]&&ZL(Ko)&&(Dt.tagNameCheck instanceof RegExp&&Lr(Dt.tagNameCheck,Ko)||Dt.tagNameCheck instanceof Function&&Dt.tagNameCheck(Ko)))return!1;if(Xi&&!Xs[Ko]){const Di=ze(Pe)||Pe.parentNode,qd=Se(Pe)||Pe.childNodes;if(qd&&Di){const Bc=qd.length;for(let Ku=Bc-1;Ku>=0;--Ku){const Vg=J(qd[Ku],!0);Vg.__removalCount=(Pe.__removalCount||0)+1,Di.insertBefore(Vg,he(Pe))}}}return Am(Pe),!0}return Pe instanceof v&&!Bp(Pe)||(Ko==="noscript"||Ko==="noembed"||Ko==="noframes")&&Lr(/<\/no(script|embed|frames)/i,Pe.innerHTML)?(Am(Pe),!0):(ud&&Pe.nodeType===Cv.text&&(ao=Pe.textContent,__([ro,Go,Jo],Di=>{ao=Yh(ao,Di," ")}),Pe.textContent!==ao&&(Ly(t.removed,{element:Pe.cloneNode()}),Pe.textContent=ao)),ab(Rt.afterSanitizeElements,Pe,null),!1)},UL=function(Pe,ao,Ko){if(Rn&&(ao==="id"||ao==="name")&&(Ko in n||Ko in Et))return!1;if(!(El&&!Hr[ao]&&Lr(nr,ao))){if(!(mn&&Lr(Dr,ao))){if(!Pt[ao]||Hr[ao]){if(!(ZL(Pe)&&(Dt.tagNameCheck instanceof RegExp&&Lr(Dt.tagNameCheck,Pe)||Dt.tagNameCheck instanceof Function&&Dt.tagNameCheck(Pe))&&(Dt.attributeNameCheck instanceof RegExp&&Lr(Dt.attributeNameCheck,ao)||Dt.attributeNameCheck instanceof Function&&Dt.attributeNameCheck(ao))||ao==="is"&&Dt.allowCustomizedBuiltInElements&&(Dt.tagNameCheck instanceof RegExp&&Lr(Dt.tagNameCheck,Ko)||Dt.tagNameCheck instanceof Function&&Dt.tagNameCheck(Ko))))return!1}else if(!Mp[ao]){if(!Lr(At,Yh(Ko,Ki,""))){if(!((ao==="src"||ao==="xlink:href"||ao==="href")&&Pe!=="script"&&qT(Ko,"data:")===0&&Sm[Pe])){if(!($f&&!Lr(za,Yh(Ko,Ki,"")))){if(Ko)return!1}}}}}}return!0},ZL=function(Pe){return Pe!=="annotation-xml"&&WT(Pe,Yi)},WL=function(Pe){ab(Rt.beforeSanitizeAttributes,Pe,null);const{attributes:ao}=Pe;if(!ao||UB(Pe))return;const Ko={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Pt,forceKeepAttr:void 0};let Di=ao.length;for(;Di--;){const qd=ao[Di],{name:Bc,namespaceURI:Ku,value:Vg}=qd,P4=Re(Bc);let pd=Bc==="value"?Vg:c7(Vg);const lq=pd;if(Ko.attrName=P4,Ko.attrValue=pd,Ko.keepAttr=!0,Ko.forceKeepAttr=void 0,ab(Rt.uponSanitizeAttribute,Pe,Ko),pd=Ko.attrValue,xa&&(P4==="id"||P4==="name")&&(I4(Bc,Pe),pd=Oi+pd),Cm&&Lr(/((--!?|])>)|<\/(style|title)/i,pd)){I4(Bc,Pe);continue}if(Ko.forceKeepAttr)continue;if(!Ko.keepAttr){I4(Bc,Pe);continue}if(!Fg&&Lr(/\/>/i,pd)){I4(Bc,Pe);continue}ud&&__([ro,Go,Jo],GL=>{pd=Yh(pd,GL," ")});const qL=Re(Pe.nodeName);if(!UL(qL,P4,pd)){I4(Bc,Pe);continue}if(Me&&typeof G=="object"&&typeof G.getAttributeType=="function"&&!Ku)switch(G.getAttributeType(qL,P4)){case"TrustedHTML":{pd=Me.createHTML(pd);break}case"TrustedScriptURL":{pd=Me.createScriptURL(pd);break}}if(pd!==lq)try{Ku?Pe.setAttributeNS(Ku,Bc,pd):Pe.setAttribute(Bc,pd),UB(Pe)?Am(Pe):w_(t.removed)}catch{}}ab(Rt.afterSanitizeAttributes,Pe,null)},iq=function pn(Pe){let ao=null;const Ko=VL(Pe);for(ab(Rt.beforeSanitizeShadowDOM,Pe,null);ao=Ko.nextNode();)ab(Rt.uponSanitizeShadowNode,ao,null),jL(ao),WL(ao),ao.content instanceof c&&pn(ao.content);ab(Rt.afterSanitizeShadowDOM,Pe,null)};return t.sanitize=function(pn){let Pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ao=null,Ko=null,Di=null,qd=null;if(N4=!pn,N4&&(pn="<!-->"),typeof pn!="string"&&!$L(pn))if(typeof pn.toString=="function"){if(pn=pn.toString(),typeof pn!="string")throw vv("dirty is not a string, aborting")}else throw vv("toString is not a function");if(!t.isSupported)return pn;if(Mc||vo(Pe),t.removed=[],typeof pn=="string"&&(vi=!1),vi){if(pn.nodeName){const Vg=Re(pn.nodeName);if(!so[Vg]||zo[Vg])throw vv("root node is forbidden and cannot be sanitized in-place")}}else if(pn instanceof g)ao=HL("<!---->"),Ko=ao.ownerDocument.importNode(pn,!0),Ko.nodeType===Cv.element&&Ko.nodeName==="BODY"||Ko.nodeName==="HTML"?ao=Ko:ao.appendChild(Ko);else{if(!jf&&!ud&&!Gu&&pn.indexOf("<")===-1)return Me&&lo?Me.createHTML(pn):pn;if(ao=HL(pn),!ao)return jf?null:lo?Xe:""}ao&&fd&&Am(ao.firstChild);const Bc=VL(vi?pn:ao);for(;Di=Bc.nextNode();)jL(Di),WL(Di),Di.content instanceof c&&iq(Di.content);if(vi)return pn;if(jf){if(b1)for(qd=We.call(ao.ownerDocument);ao.firstChild;)qd.appendChild(ao.firstChild);else qd=ao;return(Pt.shadowroot||Pt.shadowrootmode)&&(qd=tt.call(r,qd,!0)),qd}let Ku=Gu?ao.outerHTML:ao.innerHTML;return Gu&&so["!doctype"]&&ao.ownerDocument&&ao.ownerDocument.doctype&&ao.ownerDocument.doctype.name&&Lr(e5,ao.ownerDocument.doctype.name)&&(Ku="<!DOCTYPE "+ao.ownerDocument.doctype.name+`>
`+Ku),ud&&__([ro,Go,Jo],Vg=>{Ku=Yh(Ku,Vg," ")}),Me&&lo?Me.createHTML(Ku):Ku},t.setConfig=function(){let pn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};vo(pn),Mc=!0},t.clearConfig=function(){Be=null,Mc=!1},t.isValidAttribute=function(pn,Pe,ao){Be||vo({});const Ko=Re(pn),Di=Re(Pe);return UL(Ko,Di,ao)},t.addHook=function(pn,Pe){typeof Pe=="function"&&Ly(Rt[pn],Pe)},t.removeHook=function(pn,Pe){if(Pe!==void 0){const ao=i7(Rt[pn],Pe);return ao===-1?void 0:l7(Rt[pn],ao,1)[0]}return w_(Rt[pn])},t.removeHooks=function(pn){Rt[pn]=[]},t.removeAllHooks=function(){Rt=o5()},t}var ES=n5();const r5=ht.each,s5=ht.trim,a5=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],i5={ftp:21,http:80,https:443,mailto:25},l5=["img","video"],c5=(e,t)=>Le(e)?!e:Le(t)?!Wo(l5,t):!0,d5=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},AS=(e,t,n)=>{const r=d5(t).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(r)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(r)?c5(e.allow_svg_data_urls,n)&&/^data:image\/svg\+xml/i.test(r):/^data:/i.test(r)};class Wu{static parseDataUri(t){let n;const r=decodeURIComponent(t).split(","),a=/data:([^;]+)/.exec(r[0]);return a&&(n=a[1]),{type:n,data:r[1]}}static isDomSafe(t,n,r={}){if(r.allow_script_urls)return!0;{const a=Sc.decode(t).replace(/[\s\u0000-\u001F]+/g,"");return!AS(r,a,n)}}static getDocumentBaseUrl(t){var n;let r;return t.protocol.indexOf("http")!==0&&t.protocol!=="file:"?r=(n=t.href)!==null&&n!==void 0?n:"":r=t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/")),r}constructor(t,n={}){this.path="",this.directory="",t=s5(t),this.settings=n;const r=n.base_uri,a=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)){a.source=t;return}const c=t.indexOf("//")===0;if(t.indexOf("/")===0&&!c&&(t=(r&&r.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){const g=r?r.path:new Wu(document.location.href).directory;if((r==null?void 0:r.protocol)==="")t="//mce_host"+a.toAbsPath(g,t);else{const v=/([^#?]*)([#?]?.*)/.exec(t);v&&(t=(r&&r.protocol||"http")+"://mce_host"+a.toAbsPath(g,v[1])+v[2])}}t=t.replace(/@@/g,"(mce_at)");const u=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);u&&r5(a5,(g,v)=>{let S=u[v];S&&(S=S.replace(/\(mce_at\)/g,"@@")),a[g]=S}),r&&(a.protocol||(a.protocol=r.protocol),a.userInfo||(a.userInfo=r.userInfo),!a.port&&a.host==="mce_host"&&(a.port=r.port),(!a.host||a.host==="mce_host")&&(a.host=r.host),a.source=""),c&&(a.protocol="")}setPath(t){const n=/^(.*?)\/?(\w+)?$/.exec(t);n&&(this.path=n[0],this.directory=n[1],this.file=n[2]),this.source="",this.getURI()}toRelative(t){if(t==="./")return t;const n=new Wu(t,{base_uri:this});if(n.host!=="mce_host"&&this.host!==n.host&&n.host||this.port!==n.port||this.protocol!==n.protocol&&n.protocol!=="")return n.getURI();const r=this.getURI(),a=n.getURI();if(r===a||r.charAt(r.length-1)==="/"&&r.substr(0,r.length-1)===a)return r;let c=this.toRelPath(this.path,n.path);return n.query&&(c+="?"+n.query),n.anchor&&(c+="#"+n.anchor),c}toAbsolute(t,n){const r=new Wu(t,{base_uri:this});return r.getURI(n&&this.isSameOrigin(r))}isSameOrigin(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;const n=this.protocol?i5[this.protocol]:null;if(n&&(this.port||n)==(t.port||n))return!0}return!1}toRelPath(t,n){let r=0,a="",c,u;const g=t.substring(0,t.lastIndexOf("/")).split("/"),v=n.split("/");if(g.length>=v.length){for(c=0,u=g.length;c<u;c++)if(c>=v.length||g[c]!==v[c]){r=c+1;break}}if(g.length<v.length){for(c=0,u=v.length;c<u;c++)if(c>=g.length||g[c]!==v[c]){r=c+1;break}}if(r===1)return n;for(c=0,u=g.length-(r-1);c<u;c++)a+="../";for(c=r-1,u=v.length;c<u;c++)c!==r-1?a+="/"+v[c]:a+=v[c];return a}toAbsPath(t,n){let r=0;const a=/\/$/.test(n)?"/":"",c=t.split("/"),u=n.split("/"),g=[];r5(c,B=>{B&&g.push(B)});const v=[];for(let B=u.length-1;B>=0;B--)if(!(u[B].length===0||u[B]===".")){if(u[B]===".."){r++;continue}if(r>0){r--;continue}v.push(u[B])}const S=g.length-r;let R;return S<=0?R=Os(v).join("/"):R=g.slice(0,S).join("/")+"/"+Os(v).join("/"),R.indexOf("/")!==0&&(R="/"+R),a&&R.lastIndexOf("/")!==R.length-1&&(R+=a),R}getURI(t=!1){let n;return(!this.source||t)&&(n="",t||(this.protocol?n+=this.protocol+"://":n+="//",this.userInfo&&(n+=this.userInfo+"@"),this.host&&(n+=this.host),this.port&&(n+=":"+this.port)),this.path&&(n+=this.path),this.query&&(n+="?"+this.query),this.anchor&&(n+="#"+this.anchor),this.source=n),this.source}}const h7=ht.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),A_="data-mce-type";let u5=0;const f5=(e,t,n,r,a)=>{var c,u,g,v;const S=t.validate,R=n.getSpecialElements();e.nodeType===Yd&&!t.allow_conditional_comments&&/^\[if/i.test((c=e.nodeValue)!==null&&c!==void 0?c:"")&&(e.nodeValue=" "+e.nodeValue);const B=(u=a==null?void 0:a.tagName)!==null&&u!==void 0?u:e.nodeName.toLowerCase();if(r!=="html"&&n.isValid(r)){Le(a)&&(a.allowedTags[B]=!0);return}if(e.nodeType!==yd||B==="body")return;const L=me.fromDom(e),G=ll(L,A_),ae=Ia(L,"data-mce-bogus");if(!G&&pt(ae)){ae==="all"?_n(L):na(L);return}const J=n.getElementRule(B);if(S&&!J){go(R,B)?_n(L):na(L);return}else Le(a)&&(a.allowedTags[B]=!0);if(S&&J&&!G){if(Ne((g=J.attributesForced)!==null&&g!==void 0?g:[],ie=>{In(L,ie.name,ie.value==="{$uid}"?`mce_${u5++}`:ie.value)}),Ne((v=J.attributesDefault)!==null&&v!==void 0?v:[],ie=>{ll(L,ie.name)||In(L,ie.name,ie.value==="{$uid}"?`mce_${u5++}`:ie.value)}),J.attributesRequired&&!zn(J.attributesRequired,ie=>ll(L,ie))){na(L);return}if(J.removeEmptyAttrs&&js(L)){na(L);return}J.outputName&&J.outputName!==B&&ux(L,J.outputName)}},m5=(e,t,n,r,a)=>{const c=e.tagName.toLowerCase(),{attrName:u,attrValue:g}=a;a.keepAttr=zS(t,n,r,c,u,g),a.keepAttr?(a.allowedAttributes[u]=!0,TS(u,n)&&(a.attrValue=u),t.allow_svg_data_urls&&ir(g,"data:image/svg+xml")&&(a.forceKeepAttr=!0)):p5(e,u)&&(a.forceKeepAttr=!0)},zS=(e,t,n,r,a,c)=>n!=="html"&&!k(r)?!0:!(a in h7&&AS(e,c,r))&&(!e.validate||t.isValid(r,a)||ir(a,"data-")||ir(a,"aria-")),p5=(e,t)=>e.hasAttribute(A_)&&(t==="id"||t==="class"||t==="style"),TS=(e,t)=>e in t.getBoolAttrs(),g5=(e,t,n,r)=>{const{attributes:a}=e;for(let c=a.length-1;c>=0;c--){const u=a[c],g=u.name,v=u.value;!zS(t,n,r,e.tagName.toLowerCase(),g,v)&&!p5(e,g)?e.removeAttribute(g):TS(g,n)&&e.setAttribute(g,g)}},b7=(e,t,n)=>{const r=ES();return r.addHook("uponSanitizeElement",(a,c)=>{f5(a,e,t,n.track(a),c)}),r.addHook("uponSanitizeAttribute",(a,c)=>{m5(a,e,t,n.current(),c)}),r},y7=(e,t)=>{const r={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[],SAFE_FOR_XML:!1}};return r.PARSER_MEDIA_TYPE=t,e.allow_script_urls?r.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(r.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),r},v7=e=>{const t=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(r=>`xlink:${r}`),n={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:t};ES().sanitize(e,n)},x7=(e,t)=>{const n={IN_PLACE:!0,USE_PROFILES:{mathMl:!0}},r=ES(),a=t.allow_mathml_annotation_encodings,c=ve(a)&&a.length>0,u=g=>{const v=g.getAttribute("encoding");return c&&pt(v)&&Wo(a,v)};r.addHook("uponSanitizeElement",(g,v)=>{var S;const R=(S=v.tagName)!==null&&S!==void 0?S:g.nodeName.toLowerCase();if(c&&R==="semantics"&&(v.allowedTags[R]=!0),R==="annotation"){const B=g,L=u(B);v.allowedTags[R]=L,L||B.remove()}}),r.sanitize(e,n)},k7=e=>t=>{const n=$(t);if(n==="svg")v7(t);else if(n==="math")x7(t,e);else throw new Error("Not a namespace element")},z_=(e,t)=>{const n=xe();if(e.sanitize){const r=b7(e,t,n);return{sanitizeHtmlElement:(c,u)=>{r.sanitize(c,y7(e,u)),r.removed=[],n.reset()},sanitizeNamespaceElement:k7(e)}}else return{sanitizeHtmlElement:(c,u)=>{const g=document.createNodeIterator(c,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let v;for(;v=g.nextNode();){const S=n.track(v);f5(v,e,t,S),qt(v)&&g5(v,e,t,S)}n.reset()},sanitizeNamespaceElement:Qt}},OS=ht.makeMap,DS=ht.extend,RS=(e,t,n,r)=>{const a=e.name,c=a in n&&a!=="title"&&a!=="textarea"&&a!=="noscript",u=t.childNodes;for(let g=0,v=u.length;g<v;g++){const S=u[g],R=new fc(S.nodeName.toLowerCase(),S.nodeType);if(qt(S)){const B=S.attributes;for(let L=0,G=B.length;L<G;L++){const ae=B[L];R.attr(ae.name,ae.value)}k(R.name)&&(r(S),R.value=S.innerHTML)}else bt(S)?(R.value=S.data,c&&(R.raw=!0)):(Fi(S)||Xo(S)||oo(S))&&(R.value=S.data);k(R.name)||RS(R,S,n,r),e.append(R)}},_7=(e,t,n)=>{const r=[];for(let a=e,c=a;a;c=a,a=a.walk()){const u=a;Ne(t,g=>g(u)),Ro(u.parent)&&u!==e?a=c:r.push(u)}for(let a=r.length-1;a>=0;a--){const c=r[a];Ne(n,u=>u(c))}},w7=(e,t,n,r)=>{const a=n.validate,c=t.getNonEmptyElements(),u=t.getWhitespaceElements(),g=DS(OS("script,style,head,html,body,title,meta,param"),t.getBlockElements()),v=z1(t),S=/[ \t\r\n]+/g,R=/^[ \t\r\n]+/,B=/[ \t\r\n]+$/,L=Se=>{let ze=Se.parent;for(;Le(ze);){if(ze.name in u)return!0;ze=ze.parent}return!1},G=Se=>{let ze=Se;for(;Le(ze);){if(ze.name in v)return zy(t,c,u,ze);ze=ze.parent}return!1},ae=Se=>Se.name in g||nu(t,Se)||k(Se.name)&&Se.parent===e,J=(Se,ze)=>{const Me=ze?Se.prev:Se.next;return Le(Me)||Ro(Se.parent)?!1:ae(Se.parent)&&(Se.parent!==e||r.isRootContent===!0)};return[Se=>{var ze;if(Se.type===3&&!L(Se)){let Me=(ze=Se.value)!==null&&ze!==void 0?ze:"";Me=Me.replace(S," "),(PC(Se.prev,ae)||J(Se,!0))&&(Me=Me.replace(R,"")),Me.length===0||Me===" "&&Se.prev&&Se.prev.type===Yd&&Se.next&&Se.next.type===Yd?Se.remove():Se.value=Me}},Se=>{var ze;if(Se.type===1){const Me=t.getElementRule(Se.name);if(a&&Me){const Xe=zy(t,c,u,Se);Me.paddInEmptyBlock&&Xe&&G(Se)?xp(n,r,ae,Se):Me.removeEmpty&&Xe?ae(Se)?Se.remove():Se.unwrap():Me.paddEmpty&&(Xe||Zh(Se))&&xp(n,r,ae,Se)}}else if(Se.type===3&&!L(Se)){let Me=(ze=Se.value)!==null&&ze!==void 0?ze:"";(Se.next&&ae(Se.next)||J(Se,!1))&&(Me=Me.replace(B,"")),Me.length===0?Se.remove():Se.value=Me}}]},h5=(e,t)=>{var n;const r=(n=t.forced_root_block)!==null&&n!==void 0?n:e.forced_root_block;return r===!1?"":r===!0?"p":r},Hy=(e={},t=Du())=>{const n=bS(),r=bS(),a={validate:!0,root_name:"body",sanitize:!0,...e},c=new DOMParser,u=z_(a,t),g=(ze,Me,Xe="html")=>{const vt=Xe==="xhtml"?"application/xhtml+xml":"text/html",Lt=go(t.getSpecialElements(),Me.toLowerCase()),We=Lt?`<${Me}>${ze}</${Me}>`:ze,He=()=>Xe==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${We}</body></html>`:/^[\s]*<head/i.test(ze)||/^[\s]*<html/i.test(ze)||/^[\s]*<!DOCTYPE/i.test(ze)?`<html>${We}</html>`:`<body>${We}</body>`,tt=c.parseFromString(He(),vt).body;return u.sanitizeHtmlElement(tt,vt),Lt?tt.firstChild:tt},v=n.addFilter,S=n.getFilters,R=n.removeFilter,B=r.addFilter,L=r.getFilters,G=r.removeFilter,ae=(ze,Me)=>{Xk(t,ze)&&Me.push(ze)},J=(ze,Me)=>{const Xe=pt(Me.attr(A_)),vt=Me.type===1&&!go(ze,Me.name)&&!nu(t,Me)&&!k(Me.name);return Me.type===3||vt&&!Xe},ie=(ze,Me)=>{const Xe=DS(OS("script,style,head,html,body,title,meta,param"),t.getBlockElements()),vt=/^[ \t\r\n]+/,Lt=/[ \t\r\n]+$/;let We=ze.firstChild,He=null;const tt=Rt=>{var ro,Go;Rt&&(We=Rt.firstChild,We&&We.type===3&&(We.value=(ro=We.value)===null||ro===void 0?void 0:ro.replace(vt,"")),We=Rt.lastChild,We&&We.type===3&&(We.value=(Go=We.value)===null||Go===void 0?void 0:Go.replace(Lt,"")))};if(t.isValidChild(ze.name,Me.toLowerCase())){for(;We;){const Rt=We.next;J(Xe,We)?(He||(He=new fc(Me,1),He.attr(a.forced_root_block_attrs),ze.insert(He,We)),He.append(We)):(tt(He),He=null),We=Rt}tt(He)}},Se={schema:t,addAttributeFilter:B,getAttributeFilters:L,removeAttributeFilter:G,addNodeFilter:v,getNodeFilters:S,removeNodeFilter:R,parse:(ze,Me={})=>{var Xe;const vt=a.validate,Lt=(Xe=Me.context)!==null&&Xe!==void 0?Xe:a.root_name,We=g(ze,Lt,Me.format);Es(t,We);const He=new fc(Lt,11);RS(He,We,t.getSpecialElements(),u.sanitizeNamespaceElement),We.innerHTML="";const[tt,Rt]=w7(He,t,a,Me),ro=[],Go=vt?za=>ae(za,ro):Qt,Jo={nodes:{},attributes:{}},nr=za=>yg(S(),L(),za,Jo);if(_7(He,[tt,nr],[Rt,Go]),ro.reverse(),vt&&ro.length>0)if(Me.context){const{pass:za,fail:Ki}=st(ro,Yi=>Yi.parent===He);Yk(Ki,t,He,nr),Me.invalid=za.length>0}else Yk(ro,t,He,nr);const Dr=h5(a,Me);return Dr&&(He.name==="body"||Me.isRootContent)&&ie(He,Dr),Me.invalid||sv(Jo,Me),He}};return r7(Se,a),IT(Se,a,t),Se},NS=e=>Dy(e)?dm({validate:!1}).serialize(e):e,MS=(e,t,n)=>{const r=NS(e),a=t(r);if(a.isDefaultPrevented())return a;if(Dy(e))if(a.content!==r){const c=Hy({validate:!1,forced_root_block:!1,...n}).parse(a.content,{context:e.name});return{...a,content:c}}else return{...a,content:e};else return a},b5=e=>({sanitize:Lx(e),sandbox_iframes:s2(e),sandbox_iframes_exclusions:Hx(e)}),oi=(e,t)=>{if(t.no_events)return dt.value(t);{const n=H4(e,t);return n.isDefaultPrevented()?dt.error(jw(e,{content:"",...n}).content):dt.value(n)}},Rf=(e,t,n)=>n.no_events?t:MS(t,a=>jw(e,{...n,content:a}),b5(e)).content,BS=(e,t)=>{if(t.no_events)return dt.value(t);{const n=MS(t.content,r=>BD(e,{...t,content:r}),b5(e));return n.isDefaultPrevented()?(Ax(e,n),dt.error(void 0)):dt.value(n)}},IS=(e,t,n)=>{n.no_events||Ax(e,{...n,content:t})},PS=(e,t,n)=>({element:e,width:t,rows:n}),LS=(e,t)=>({element:e,cells:t}),Vy=(e,t)=>({x:e,y:t}),y5=(e,t)=>$s(e,t).bind(Qn).getOr(1),Nf=(e,t,n,r,a)=>{const c=y5(a,"rowspan"),u=y5(a,"colspan"),g=e.rows;for(let v=n;v<n+c;v++){g[v]||(g[v]=LS(zb(r),[]));for(let S=t;S<t+u;S++){const R=g[v].cells;R[S]=v===n&&S===t?a:su(a)}}},C7=(e,t,n)=>{const r=e.rows;return!!(r[n]?r[n].cells:[])[t]},S7=(e,t,n)=>{for(;C7(e,t,n);)t++;return t},FS=e=>mo(e,(t,n)=>n.cells.length>t?n.cells.length:t,0),HS=(e,t)=>{const n=e.rows;for(let r=0;r<n.length;r++){const a=n[r].cells;for(let c=0;c<a.length;c++)if(rn(a[c],t))return V.some(Vy(c,r))}return V.none()},v5=(e,t,n,r,a)=>{const c=[],u=e.rows;for(let g=n;g<=a;g++){const v=u[g].cells,S=t<r?v.slice(t,r+1):v.slice(r,t+1);c.push(LS(u[g].element,S))}return c},VS=(e,t,n)=>{const r=t.x,a=t.y,c=n.x,u=n.y,g=a<u?v5(e,r,a,c,u):v5(e,r,u,c,a);return PS(e.element,FS(g),g)},hm=(e,t)=>{const n=su(e.element),r=me.fromTag("tbody");return Ai(r,t),lr(n,r),n},x5=e=>$o(e.rows,t=>{const n=$o(t.cells,a=>{const c=zb(a);return Dn(c,"colspan"),Dn(c,"rowspan"),c}),r=su(t.element);return Ai(r,n),r}),k5=e=>{const t=PS(su(e),0,[]);return Ne(Cs(e,"tr"),(n,r)=>{Ne(Cs(n,"td,th"),(a,c)=>{Nf(t,S7(t,c,r),r,n,a)})}),PS(t.element,FS(t.rows),t.rows)},T_=e=>hm(e,x5(e)),$S=(e,t,n)=>HS(e,t).bind(r=>HS(e,n).map(a=>VS(e,r,a))),_5=e=>Sn(e,t=>cn(t)==="ul"||cn(t)==="ol"),w5=(e,t)=>Sn(e,n=>cn(n)==="li"&&ok(n,t)).fold(Ce([]),n=>_5(e).map(r=>{const a=me.fromTag(cn(r)),c=_i(of(r),(u,g)=>ir(g,"list-style"));return Nl(a,c),[me.fromTag("li"),a]}).getOr([])),C5=(e,t)=>{const n=mo(t,(r,a)=>(lr(a,r),a),e);return t.length>0?I0([n]):n},E7=e=>ff(e)?Wa(e).filter(Jm).fold(Ce([]),t=>[e,t]):Jm(e)?[e]:[],A7=(e,t,n)=>{const r=me.fromDom(t.commonAncestorContainer),a=fm(r,e),c=Ye(a,v=>n.isWrapper(cn(v))),u=w5(a,t),g=c.concat(u.length?u:E7(r));return $o(g,su)},S5=()=>I0([]),E5=(e,t,n)=>C5(me.fromDom(t.cloneContents()),A7(e,t,n)),A5=(e,t)=>qc(t,"table",xt(rn,e)),z7=(e,t)=>A5(e,t[0]).bind(n=>{const r=t[0],a=t[t.length-1],c=k5(n);return $S(c,r,a).map(u=>I0([T_(u)]))}).getOrThunk(S5),jS=(e,t,n)=>t.length>0&&t[0].collapsed?S5():E5(e,t[0],n),z5=(e,t,n)=>{const r=k2(t,e);return r.length>0?z7(e,r):jS(e,t,n)},O_=(e,t)=>t>=0&&t<e.length&&Ah(e.charAt(t)),US=e=>Zi(e.innerText),T7=e=>e.map(t=>t.nodeName).getOr("div").toLowerCase(),Cl=e=>V.from(e.selection.getRng()).map(t=>{var n;const r=V.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),a=e.getBody(),c=T7(r),u=me.fromDom(t.cloneContents());iC(u),Gs(u);const g=e.dom.add(a,c,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},u.dom),v=US(g),S=Zi((n=g.textContent)!==null&&n!==void 0?n:"");if(e.dom.remove(g),O_(S,0)||O_(S,S.length-1)){const R=r.getOr(a),B=US(R),L=B.indexOf(v);if(L===-1)return v;{const G=O_(B,L-1),ae=O_(B,L+v.length);return(G?" ":"")+v+(ae?" ":"")}}else return v}).getOr(""),O7=(e,t)=>{const n=e.selection.getRng(),r=e.dom.create("body"),a=e.selection.getSel(),c=nC(e,Qx(a)),u=t.contextual?z5(me.fromDom(e.getBody()),c,e.schema).dom:n.cloneContents();return u&&r.appendChild(u),e.selection.serializer.serialize(r,t)},D7=(e,t)=>{if(t.format==="text")return Cl(e);{const n=O7(e,t);return t.format==="tree"?n:e.selection.isCollapsed()?"":n}},R7=(e,t)=>({...e,format:t,get:!0,selection:!0,getInner:!0}),N7=(e,t,n={})=>{const r=R7(n,t);return oi(e,r).fold(zt,a=>{const c=D7(e,a);return Rf(e,c,a)})},$y=0,T5=1,D_=2,ZS=(e,t)=>{const n=e.length+t.length+2,r=new Array(n),a=new Array(n),c=(R,B,L)=>({start:R,end:B,diag:L}),u=(R,B,L,G,ae)=>{const J=v(R,B,L,G);if(J===null||J.start===B&&J.diag===B-G||J.end===R&&J.diag===R-L){let ie=R,he=L;for(;ie<B||he<G;)ie<B&&he<G&&e[ie]===t[he]?(ae.push([$y,e[ie]]),++ie,++he):B-R>G-L?(ae.push([D_,e[ie]]),++ie):(ae.push([T5,t[he]]),++he)}else{u(R,J.start,L,J.start-J.diag,ae);for(let ie=J.start;ie<J.end;++ie)ae.push([$y,e[ie]]);u(J.end,B,J.end-J.diag,G,ae)}},g=(R,B,L,G)=>{let ae=R;for(;ae-B<G&&ae<L&&e[ae]===t[ae-B];)++ae;return c(R,ae,B)},v=(R,B,L,G)=>{const ae=B-R,J=G-L;if(ae===0||J===0)return null;const ie=ae-J,he=J+ae,Se=(he%2===0?he:he+1)/2;r[1+Se]=R,a[1+Se]=B+1;let ze,Me,Xe,vt,Lt;for(ze=0;ze<=Se;++ze){for(Me=-ze;Me<=ze;Me+=2){for(Xe=Me+Se,Me===-ze||Me!==ze&&r[Xe-1]<r[Xe+1]?r[Xe]=r[Xe+1]:r[Xe]=r[Xe-1]+1,vt=r[Xe],Lt=vt-R+L-Me;vt<B&&Lt<G&&e[vt]===t[Lt];)r[Xe]=++vt,++Lt;if(ie%2!==0&&ie-ze<=Me&&Me<=ie+ze&&a[Xe-ie]<=r[Xe])return g(a[Xe-ie],Me+R-L,B,G)}for(Me=ie-ze;Me<=ie+ze;Me+=2){for(Xe=Me+Se-ie,Me===ie-ze||Me!==ie+ze&&a[Xe+1]<=a[Xe-1]?a[Xe]=a[Xe+1]-1:a[Xe]=a[Xe-1],vt=a[Xe]-1,Lt=vt-R+L-Me;vt>=R&&Lt>=L&&e[vt]===t[Lt];)a[Xe]=vt--,Lt--;if(ie%2===0&&-ze<=Me&&Me<=ze&&a[Xe]<=r[Xe+ie])return g(a[Xe],Me+R-L,B,G)}}return null},S=[];return u(0,e.length,0,t.length,S),S},O5=e=>qt(e)?e.outerHTML:bt(e)?Sc.encodeRaw(e.data,!1):Fi(e)?"<!--"+e.data+"-->":"",M7=e=>{let t;const n=document.createElement("div"),r=document.createDocumentFragment();for(e&&(n.innerHTML=e);t=n.firstChild;)r.appendChild(t);return r},Mf=(e,t,n)=>{const r=M7(t);if(e.hasChildNodes()&&n<e.childNodes.length){const a=e.childNodes[n];e.insertBefore(r,a)}else e.appendChild(r)},D5=(e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){const n=e.childNodes[t];e.removeChild(n)}},B7=(e,t)=>{let n=0;Ne(e,r=>{r[0]===$y?n++:r[0]===T5?(Mf(t,r[1],n),n++):r[0]===D_&&D5(t,n)})},WS=(e,t)=>Ye($o(Mo(e.childNodes),Oo(Zi,O5)),n=>n.length>0),R5=(e,t)=>{const n=$o(Mo(t.childNodes),O5);return B7(ZS(n,e),t),t},R_=Ra(()=>document.implementation.createHTMLDocument("undo")),N5=e=>e.querySelector("iframe")!==null,M5=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),B5=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),N_=e=>{const t=e.serializer.getTempAttrs(),n=hy(e.getBody(),t);return N5(n)?M5(WS(n)):B5(Zi(n.innerHTML))},qS=(e,t,n)=>{const r=n?t.beforeBookmark:t.bookmark;t.type==="fragmented"?R5(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:Le(r)&&vr(r)?!r.isFakeCaret:!0}),r&&(e.selection.moveToBookmark(r),e.selection.scrollIntoView())},Sv=e=>e.type==="fragmented"?e.fragments.join(""):e.content,I5=e=>{const t=me.fromTag("body",R_());return Bl(t,Sv(e)),Ne(Cs(t,"*[data-mce-bogus]"),na),Ad(t)},I7=(e,t)=>Sv(e)===Sv(t),M_=(e,t)=>I5(e)===I5(t),Ev=(e,t)=>!e||!t?!1:I7(e,t)?!0:M_(e,t),Av=e=>e.get()===0,zv=(e,t,n)=>{Av(n)&&(e.typing=t)},Sp=(e,t)=>{e.typing&&(zv(e,!1,t),e.add())},P7=e=>{e.typing&&(e.typing=!1,e.add())},L7=(e,t,n)=>{Av(t)&&n.set(Ge(e.selection))},B_=(e,t,n,r,a,c,u)=>{const g=N_(e),v=ht.extend(c||{},g);if(!Av(r)||e.removed)return null;const S=t.data[n.get()];if(e.dispatch("BeforeAddUndo",{level:v,lastLevel:S,originalEvent:u}).isDefaultPrevented()||S&&Ev(S,v))return null;t.data[n.get()]&&a.get().each(L=>{t.data[n.get()].beforeBookmark=L});const R=GD(e);if(R&&t.data.length>R){for(let L=0;L<t.data.length-1;L++)t.data[L]=t.data[L+1];t.data.length--,n.set(t.data.length)}v.bookmark=Ge(e.selection),n.get()<t.data.length-1&&(t.data.length=n.get()+1),t.data.push(v),n.set(t.data.length-1);const B={level:v,lastLevel:S,originalEvent:u};return n.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",B),e.dispatch("change",B)):e.dispatch("AddUndo",B),v},P5=(e,t,n)=>{t.data=[],n.set(0),t.typing=!1,e.dispatch("ClearUndos")},L5=(e,t,n,r,a)=>{if(t.transact(r)){const c=t.data[n.get()].bookmark,u=t.data[n.get()-1];qS(e,u,!0),t.transact(a)&&(t.data[n.get()-1].beforeBookmark=c)}},F5=(e,t,n)=>{let r;return t.get()<n.length-1&&(t.set(t.get()+1),r=n[t.get()],qS(e,r,!1),e.setDirty(!0),e.dispatch("Redo",{level:r})),r},F7=(e,t,n,r)=>{let a;return t.typing&&(t.add(),t.typing=!1,zv(t,!1,n)),r.get()>0&&(r.set(r.get()-1),a=t.data[r.get()],qS(e,a,!0),e.setDirty(!0),e.dispatch("Undo",{level:a})),a},H7=e=>{e.clear(),e.add()},GS=(e,t,n)=>n.get()>0||t.typing&&t.data[0]&&!Ev(N_(e),t.data[0]),KS=(e,t)=>t.get()<e.data.length-1&&!e.typing,YS=(e,t,n)=>(Sp(e,t),e.beforeChange(),e.ignore(n),e.add()),H5=(e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},I_=(e,t)=>{const n=e.dom,r=Le(t)?t:e.getBody();Ne(n.select("table,a",r),a=>{switch(a.nodeName){case"TABLE":const c=r2(e),u=n.getAttrib(a,"border");(!u||u==="0")&&e.hasVisual?n.addClass(a,c):n.removeClass(a,c);break;case"A":if(!n.getAttrib(a,"href")){const g=n.getAttrib(a,"name")||a.id,v=Nx(e);g&&e.hasVisual?n.addClass(a,v):n.removeClass(a,v)}break}}),e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})},XS=e=>({init:{bindEvents:Qt},undoManager:{beforeChange:(t,n)=>L7(e,t,n),add:(t,n,r,a,c,u)=>B_(e,t,n,r,a,c,u),undo:(t,n,r)=>F7(e,t,n,r),redo:(t,n)=>F5(e,t,n),clear:(t,n)=>P5(e,t,n),reset:t=>H7(t),hasUndo:(t,n)=>GS(e,t,n),hasRedo:(t,n)=>KS(t,n),transact:(t,n,r)=>YS(t,n,r),ignore:(t,n)=>H5(t,n),extra:(t,n,r,a)=>L5(e,t,n,r,a)},formatter:{match:(t,n,r,a)=>ZC(e,t,n,r,a),matchAll:(t,n)=>FN(e,t,n),matchNode:(t,n,r,a)=>gm(e,t,n,r,a),canApply:t=>Zu(e,t),closest:t=>HN(e,t),apply:(t,n,r)=>gS(e,t,n,r),remove:(t,n,r,a)=>pS(e,t,n,r,a),toggle:(t,n,r)=>BT(e,t,n,r),formatChanged:(t,n,r,a,c)=>MT(e,t,n,r,a,c)},editor:{getContent:t=>yy(e,t),setContent:(t,n)=>PN(e,t,n),insertContent:(t,n)=>o_(e,t,n),addVisual:t=>I_(e,t)},selection:{getContent:(t,n)=>N7(e,t,n)},autocompleter:{addDecoration:Qt,removeDecoration:Qt},raw:{getModel:()=>V.none()}}),V5=e=>{const t=S=>le(S)?S:{},{init:n,undoManager:r,formatter:a,editor:c,selection:u,autocompleter:g,raw:v}=e;return{init:{bindEvents:n.bindEvents},undoManager:{beforeChange:r.beforeChange,add:r.add,undo:r.undo,redo:r.redo,clear:r.clear,reset:r.reset,hasUndo:r.hasUndo,hasRedo:r.hasRedo,transact:(S,R,B)=>r.transact(B),ignore:(S,R)=>r.ignore(R),extra:(S,R,B,L)=>r.extra(B,L)},formatter:{match:(S,R,B,L)=>a.match(S,t(R),L),matchAll:a.matchAll,matchNode:a.matchNode,canApply:S=>a.canApply(S),closest:S=>a.closest(S),apply:(S,R,B)=>a.apply(S,t(R)),remove:(S,R,B,L)=>a.remove(S,t(R)),toggle:(S,R,B)=>a.toggle(S,t(R)),formatChanged:(S,R,B,L,G)=>a.formatChanged(R,B,L,G)},editor:{getContent:S=>c.getContent(S),setContent:(S,R)=>({content:c.setContent(S,R),html:""}),insertContent:(S,R)=>(c.insertContent(S),""),addVisual:c.addVisual},selection:{getContent:(S,R)=>u.getContent(R)},autocompleter:{addDecoration:g.addDecoration,removeDecoration:g.removeDecoration},raw:{getModel:()=>V.some(v.getRawModel())}}},V7=()=>{const e=Ce(null),t=Ce("");return{init:{bindEvents:Qt},undoManager:{beforeChange:Qt,add:e,undo:e,redo:e,clear:Qt,reset:Qt,hasUndo:an,hasRedo:an,transact:e,ignore:Qt,extra:Qt},formatter:{match:an,matchAll:Ce([]),matchNode:Ce(void 0),canApply:an,closest:t,apply:Qt,remove:Qt,toggle:Qt,formatChanged:Ce({unbind:Qt})},editor:{getContent:t,setContent:Ce({content:"",html:""}),insertContent:Ce(""),addVisual:Qt},selection:{getContent:t},autocompleter:{addDecoration:Qt,removeDecoration:Qt},raw:{getModel:Ce(V.none())}}},bm=e=>go(e.plugins,"rtc"),JS=e=>Bn(e.plugins,"rtc").bind(t=>V.from(t.setup)),$5=e=>{const t=e;return JS(e).fold(()=>(t.rtcInstance=XS(e),V.none()),n=>(t.rtcInstance=V7(),V.some(()=>n().then(r=>(t.rtcInstance=V5(r),r.rtc.isRemote)))))},P_=e=>e.rtcInstance?e.rtcInstance:XS(e),yi=e=>{const t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},$7=(e,t,n)=>{yi(e).undoManager.beforeChange(t,n)},j7=(e,t,n,r,a,c,u)=>yi(e).undoManager.add(t,n,r,a,c,u),j5=(e,t,n,r)=>yi(e).undoManager.undo(t,n,r),U5=(e,t,n)=>yi(e).undoManager.redo(t,n),U7=(e,t,n)=>{yi(e).undoManager.clear(t,n)},Z7=(e,t)=>{yi(e).undoManager.reset(t)},jy=(e,t,n)=>yi(e).undoManager.hasUndo(t,n),W7=(e,t,n)=>yi(e).undoManager.hasRedo(t,n),q7=(e,t,n,r)=>yi(e).undoManager.transact(t,n,r),Z5=(e,t,n)=>{yi(e).undoManager.ignore(t,n)},W5=(e,t,n,r,a)=>{yi(e).undoManager.extra(t,n,r,a)},L_=(e,t,n,r,a)=>yi(e).formatter.match(t,n,r,a),G7=(e,t,n)=>yi(e).formatter.matchAll(t,n),K7=(e,t,n,r,a)=>yi(e).formatter.matchNode(t,n,r,a),Y7=(e,t)=>yi(e).formatter.canApply(t),X7=(e,t)=>yi(e).formatter.closest(t),J7=(e,t,n,r)=>{yi(e).formatter.apply(t,n,r)},Q7=(e,t,n,r,a)=>{yi(e).formatter.remove(t,n,r,a)},e8=(e,t,n,r)=>{yi(e).formatter.toggle(t,n,r)},t8=(e,t,n,r,a,c)=>yi(e).formatter.formatChanged(t,n,r,a,c),o8=(e,t)=>P_(e).editor.getContent(t),n8=(e,t,n)=>P_(e).editor.setContent(t,n),Kr=(e,t,n)=>P_(e).editor.insertContent(t,n),q5=(e,t,n)=>yi(e).selection.getContent(t,n),QS=(e,t)=>yi(e).editor.addVisual(t),e3=e=>yi(e).init.bindEvents(),G5=(e,t={})=>{const n=t.format?t.format:"html";return q5(e,n,t)},Tv=e=>e.dom.length===0?(_n(e),V.none()):V.some(e),r8=(e,t)=>e.filter(n=>lg.isBookmarkNode(n.dom)).bind(t?co:Is),t3=(e,t,n,r,a)=>{const c=e.dom,u=t.dom,g=r?c.length:u.length;r?(Fk(c,u,a,!1,!r),n.setStart(u,g)):(Fk(u,c,a,!1,!r),n.setEnd(u,g))},s8=(e,t,n)=>{Wa(e).each(r=>{const a=e.dom;t&&q0(r,$e(a,0),n)?Lk(a,0,n):!t&&_y(r,$e(a,a.length),n)&&wy(a,a.length,n)})},K5=(e,t,n,r,a)=>{e.bind(c=>((r?wy:Lk)(c.dom,r?c.dom.length:0,a),t.filter(Qs).map(g=>t3(c,g,n,r,a)))).orThunk(()=>r8(t,r).or(t).filter(Qs).map(u=>s8(u,r,a)))},Y5=(e,t,n)=>{const r=V.from(t.firstChild).map(me.fromDom),a=V.from(t.lastChild).map(me.fromDom);e.deleteContents(),e.insertNode(t);const c=r.bind(Is).filter(Qs).bind(Tv),u=a.bind(co).filter(Qs).bind(Tv);K5(c,r,e,!0,n),K5(u,a,e,!1,n),e.collapse(!1)},a8=(e,t)=>({format:"html",...e,set:!0,selection:!0,content:t}),i8=(e,t)=>{if(t.format!=="raw"){const n=e.selection.getRng(),r=e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock),a=r?{context:r.nodeName.toLowerCase()}:{},c=e.parser.parse(t.content,{forced_root_block:!1,...a,...t});return dm({validate:!1},e.schema).serialize(c)}else return t.content},Uy=(e,t,n={})=>{const r=a8(n,t);BS(e,r).each(a=>{const c=i8(e,a),u=e.selection.getRng();Y5(u,u.createContextualFragment(c),e.schema),e.selection.setRng(u),H0(e,u),IS(e,c,a)})},X5=(e,t,n)=>{if(go(e,t)){const r=Ye(e[t],a=>a!==n);r.length===0?delete e[t]:e[t]=r}};var Zy=(e,t)=>{let n,r;const a=(g,v)=>Sn(v,S=>e.is(S,g)),c=g=>e.getParents(g,void 0,e.getRoot()),u=()=>{n={},r={},t.on("NodeChange",g=>{const v=g.element,S=c(v),R={};To(n,(B,L)=>{a(L,S).each(G=>{r[L]||(Ne(B,ae=>{ae(!0,{node:G,selector:L,parents:S})}),r[L]=B),R[L]=B})}),To(r,(B,L)=>{R[L]||(delete r[L],Ne(B,G=>{G(!1,{node:v,selector:L,parents:S})}))})})};return{selectorChangedWithUnbind:(g,v)=>(n||u(),n[g]||(n[g]=[]),n[g].push(v),a(g,c(t.selection.getStart())).each(()=>{r[g]=n[g]}),{unbind:()=>{X5(n,g,v),X5(r,g,v)}})}};const Wy=e=>!!(e&&e.ownerDocument)&&Za(me.fromDom(e.ownerDocument),me.fromDom(e)),qy=e=>e?Wy(e.startContainer)&&Wy(e.endContainer):!1,F_=(e,t,n,r)=>{let a,c;const{selectorChangedWithUnbind:u}=Zy(e,r),g=(At,so)=>{const Yn=e.createRng();Le(At)&&Le(so)?(Yn.setStart(At,so),Yn.setEnd(At,so),Me(Yn),he(!1)):(b0(e,Yn,r.getBody(),!0),Me(Yn))},v=At=>G5(r,At),S=(At,so)=>Uy(r,At,so),R=At=>oC(r.getBody(),ze(),At),B=At=>qA(r.getBody(),ze(),At),L=(At,so)=>Ki.getBookmark(At,so),G=At=>Ki.moveToBookmark(At),ae=(At,so)=>(GA(e,At,so).each(Me),At),J=()=>{const At=ze(),so=Se();return!At||At.item?!1:At.compareEndPoints?At.compareEndPoints("StartToEnd",At)===0:!so||At.collapsed},ie=()=>{if(r.mode.isReadOnly())return!1;const At=ze(),so=r.getBody().querySelectorAll('[data-mce-selected="1"]');return so.length>0?wr(so,Yn=>e.isEditable(Yn.parentElement)):ZA(e,At)},he=At=>{const so=ze();so.collapse(!!At),Me(so)},Se=()=>t.getSelection?t.getSelection():t.document.selection,ze=()=>{let At;const so=(Pt,at,Dt)=>{try{return at.compareBoundaryPoints(Pt,Dt)}catch{return-1}},Yn=t.document;if(Le(r.bookmark)&&!cy(r)){const Pt=mk(r);if(Pt.isSome())return Pt.map(at=>nC(r,[at])[0]).getOr(Yn.createRange())}try{const Pt=Se();Pt&&!Lp(Pt.anchorNode)&&(Pt.rangeCount>0?At=Pt.getRangeAt(0):At=Yn.createRange(),At=nC(r,[At])[0])}catch{}if(At||(At=Yn.createRange()),Qd(At.startContainer)&&At.collapsed){const Pt=e.getRoot();At.setStart(Pt,0),At.setEnd(Pt,0)}return a&&c&&(so(At.START_TO_START,At,a)===0&&so(At.END_TO_END,At,a)===0?At=c:(a=null,c=null)),At},Me=(At,so)=>{if(!qy(At))return;const Yn=Se();if(At=r.dispatch("SetSelectionRange",{range:At,forward:so}).range,Yn){c=At;try{Yn.removeAllRanges(),Yn.addRange(At)}catch{}so===!1&&Yn.extend&&(Yn.collapse(At.endContainer,At.endOffset),Yn.extend(At.startContainer,At.startOffset)),a=Yn.rangeCount>0?Yn.getRangeAt(0):null}if(!At.collapsed&&At.startContainer===At.endContainer&&(Yn!=null&&Yn.setBaseAndExtent)&&At.endOffset-At.startOffset<2&&At.startContainer.hasChildNodes()){const at=At.startContainer.childNodes[At.startOffset];at&&at.nodeName==="IMG"&&(Yn.setBaseAndExtent(At.startContainer,At.startOffset,At.endContainer,At.endOffset),(Yn.anchorNode!==At.startContainer||Yn.focusNode!==At.endContainer)&&Yn.setBaseAndExtent(at,0,at,1))}r.dispatch("AfterSetSelectionRange",{range:At,forward:so})},Xe=At=>(S(e.getOuterHTML(At)),At),vt=()=>eN(r.getBody(),ze()),Lt=(At,so)=>tN(e,ze(),At,so),We=()=>{const At=Se(),so=At==null?void 0:At.anchorNode,Yn=At==null?void 0:At.focusNode;if(!At||!so||!Yn||Lp(so)||Lp(Yn))return!0;const Pt=e.createRng(),at=e.createRng();try{Pt.setStart(so,At.anchorOffset),Pt.collapse(!0),at.setStart(Yn,At.focusOffset),at.collapse(!0)}catch{return!0}return Pt.compareBoundaryPoints(Pt.START_TO_START,at)<=0},za={dom:e,win:t,serializer:n,editor:r,expand:(At={type:"word"})=>Me(Lh(e).expand(ze(),At)),collapse:he,setCursorLocation:g,getContent:v,setContent:S,getBookmark:L,moveToBookmark:G,select:ae,isCollapsed:J,isEditable:ie,isForward:We,setNode:Xe,getNode:vt,getSel:Se,setRng:Me,getRng:ze,getStart:R,getEnd:B,getSelectedBlocks:Lt,normalize:()=>{const At=ze(),so=Se();if(!ek(so)&&y0(r)){const Yn=fg(e,At);return Yn.each(Pt=>{Me(Pt,We())}),Yn.getOr(At)}return At},selectorChanged:(At,so)=>(u(At,so),za),selectorChangedWithUnbind:u,getScrollContainer:()=>{let At,so=e.getRoot();for(;so&&so.nodeName!=="BODY";){if(so.scrollHeight>so.clientHeight){At=so;break}so=so.parentNode}return At},scrollIntoView:(At,so)=>{Le(At)?QR(r,At,so):H0(r,ze(),so)},placeCaretAt:(At,so)=>Me(G2(At,so,r.getDoc())),getBoundingClientRect:()=>{const At=ze();return At.collapsed?$e.fromRangeStart(At).getClientRects()[0]:At.getBoundingClientRect()},destroy:()=>{t=a=c=null,Yi.destroy()}},Ki=lg(za),Yi=$2(za,r);return za.bookmarkManager=Ki,za.controlSelection=Yi,za},J5=(e,t,n)=>{t.addNodeFilter("br",(r,a,c)=>{const u=ht.extend({},n.getBlockElements()),g=n.getNonEmptyElements(),v=n.getWhitespaceElements();u.body=1;const S=R=>R.name in u||nu(n,R);for(let R=0,B=r.length;R<B;R++){let L=r[R],G=L.parent;if(G&&S(G)&&L===G.lastChild){let ae=L.prev;for(;ae;){const J=ae.name;if(J!=="span"||ae.attr("data-mce-type")!=="bookmark"){J==="br"&&(L=null);break}ae=ae.prev}if(L&&(L.remove(),zy(n,g,v,G))){const J=n.getElementRule(G.name);J&&(J.removeEmpty?G.remove():J.paddEmpty&&xp(e,c,S,G))}}else{let ae=L;for(;G&&G.firstChild===ae&&G.lastChild===ae&&(ae=G,!u[G.name]);)G=G.parent;if(ae===G){const J=new fc("#text",3);J.value=Fs,L.replace(J)}}}})},Q5=(e,t,n)=>{e.addAttributeFilter("data-mce-tabindex",(r,a)=>{let c=r.length;for(;c--;){const u=r[c];u.attr("tabindex",u.attr("data-mce-tabindex")),u.attr(a,null)}}),e.addAttributeFilter("src,href,style",(r,a)=>{const c="data-mce-"+a,u=t.url_converter,g=t.url_converter_scope;let v=r.length;for(;v--;){const S=r[v];let R=S.attr(c);R!==void 0?(S.attr(a,R.length>0?R:null),S.attr(c,null)):(R=S.attr(a),a==="style"?R=n.serializeStyle(n.parseStyle(R),S.name):u&&(R=u.call(g,R,a,S.name)),S.attr(a,R.length>0?R:null))}}),e.addAttributeFilter("class",r=>{let a=r.length;for(;a--;){const c=r[a];let u=c.attr("class");u&&(u=u.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),c.attr("class",u.length>0?u:null))}}),e.addAttributeFilter("data-mce-type",(r,a,c)=>{let u=r.length;for(;u--;){const g=r[u];g.attr("data-mce-type")==="bookmark"&&!c.cleanup&&(V.from(g.firstChild).exists(S=>{var R;return!Md((R=S.value)!==null&&R!==void 0?R:"")})?g.unwrap():g.remove())}}),e.addNodeFilter("script,style",(r,a)=>{var c;const u=v=>v.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let g=r.length;for(;g--;){const v=r[g],S=v.firstChild,R=(c=S==null?void 0:S.value)!==null&&c!==void 0?c:"";if(a==="script"){const B=v.attr("type");B&&v.attr("type",B==="mce-no/type"?null:B.replace(/^mce\-/,"")),t.element_format==="xhtml"&&S&&R.length>0&&(S.value=`// <![CDATA[
`+u(R)+`
// ]]>`)}else t.element_format==="xhtml"&&S&&R.length>0&&(S.value=`<!--
`+u(R)+`
-->`)}}),e.addNodeFilter("#comment",r=>{let a=r.length;for(;a--;){const c=r[a],u=c.value;t.preserve_cdata&&(u==null?void 0:u.indexOf("[CDATA["))===0?(c.name="#cdata",c.type=4,c.value=n.decode(u.replace(/^\[CDATA\[|\]\]$/g,""))):(u==null?void 0:u.indexOf("mce:protected "))===0&&(c.name="#text",c.type=3,c.raw=!0,c.value=unescape(u).substr(14))}}),e.addNodeFilter("xml:namespace,input",(r,a)=>{let c=r.length;for(;c--;){const u=r[c];u.type===7?u.remove():u.type===1&&a==="input"&&!u.attr("type")&&u.attr("type","text")}}),e.addAttributeFilter("data-mce-type",r=>{Ne(r,a=>{a.attr("data-mce-type")==="format-caret"&&(a.isEmpty(e.schema.getNonEmptyElements())?a.remove():a.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(r,a)=>{let c=r.length;for(;c--;)r[c].attr(a,null)}),t.remove_trailing_brs&&J5(t,e,e.schema)},o3=e=>{const t=r=>(r==null?void 0:r.name)==="br",n=e.lastChild;if(t(n)){const r=n.prev;t(r)&&(n.remove(),r.remove())}},eO=(e,t,n)=>{let r;const a=e.dom;let c=t.cloneNode(!0);const u=document.implementation;if(u.createHTMLDocument){const g=u.createHTMLDocument("");ht.each(c.nodeName==="BODY"?c.childNodes:[c],v=>{g.body.appendChild(g.importNode(v,!0))}),c.nodeName!=="BODY"?c=g.body.firstChild:c=g.body,r=a.doc,a.doc=g}return $l(e,{...n,node:c}),r&&(a.doc=r),c},tO=(e,t)=>Le(e)&&e.hasEventListeners("PreProcess")&&!t.no_events,oO=(e,t,n)=>tO(e,n)?eO(e,t,n):t,n3=(e,t,n)=>{ht.inArray(t,n)===-1&&(e.addAttributeFilter(n,(r,a)=>{let c=r.length;for(;c--;)r[c].attr(a,null)}),t.push(n))},nO=(e,t,n)=>!t.no_events&&e?ip(e,{...t,content:n}).content:n,rO=(e,t,n)=>{const r=Zi(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||om(me.fromDom(t))?r:ht.trim(r)},r3=(e,t,n)=>{const r=n.selection?{forced_root_block:!1,...n}:n,a=e.parse(t,r);return o3(a),a},l8=(e,t,n)=>dm(e,t).serialize(n),sO=(e,t,n,r,a)=>{const c=l8(t,n,r);return nO(e,a,c)},aO=(e,t)=>{const n=["data-mce-selected"],r={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},a=t&&t.dom?t.dom:qn.DOM,c=t&&t.schema?t.schema:Du(r),u=Hy(r,c);Q5(u,r,a);const g=(v,S={})=>{const R={format:"html",...S},B=oO(t,v,R),L=rO(a,B,R),G=r3(u,L,R);return R.format==="tree"?G:sO(t,r,c,G,R)};return{schema:c,addNodeFilter:u.addNodeFilter,addAttributeFilter:u.addAttributeFilter,serialize:g,addRules:c.addValidElements,setRules:c.setValidElements,addTempAttr:xt(n3,u,n),getTempAttrs:Ce(n),getNodeFilters:u.getNodeFilters,getAttributeFilters:u.getAttributeFilters,removeNodeFilter:u.removeNodeFilter,removeAttributeFilter:u.removeAttributeFilter}},s3=(e,t)=>{const n=aO(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters,removeNodeFilter:n.removeNodeFilter,removeAttributeFilter:n.removeAttributeFilter}},c8="html",d8=(e,t)=>({...e,format:t,get:!0,getInner:!0}),H_=(e,t={})=>{const n=t.format?t.format:c8,r=d8(t,n);return oi(e,r).fold(zt,a=>{const c=o8(e,a);return Rf(e,c,a)})},iO="html",lO=(e,t)=>({format:iO,...e,set:!0,content:t}),V_=(e,t,n={})=>{const r=lO(n,t);return BS(e,r).map(a=>{const c=n8(e,a.content,a);return IS(e,c.html,a),c.content}).getOr(t)},u8="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),f8=[],m8="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),cO=[],a3=(e,t)=>{const n=Ye(t,r=>go(e,r));return jo(n)},dO=e=>{const t=a3(e,u8),n=e.forced_root_block;return(n===!1||n==="")&&t.push("forced_root_block (false only)"),jo(t)},uO=e=>a3(e,f8),fO=(e,t)=>{const n=ht.makeMap(e.plugins," "),a=Ye(t,c=>go(n,c));return jo(a)},p8=e=>fO(e,m8),g8=e=>fO(e,cO.map(t=>t.name)),h8=(e,t)=>{const n=dO(e),r=p8(t),a=r.length>0,c=n.length>0,u=t.theme==="mobile";if(a||c||u){const g=`
- `,v=u?`

Themes:${g}mobile`:"",S=a?`

Plugins:${g}${r.join(g)}`:"",R=c?`

Options:${g}${n.join(g)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 7.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/7/migration-from-6x/ for more information."+v+S+R)}},$_=e=>Sn(cO,t=>t.name===e).fold(()=>e,t=>t.replacedWith?`${e}, replaced by ${t.replacedWith}`:e),mO=(e,t)=>{const n=uO(e),r=g8(t),a=r.length>0,c=n.length>0;if(a||c){const u=`
- `,g=a?`

Plugins:${u}${r.map($_).join(u)}`:"",v=c?`

Options:${u}${n.join(u)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+g+v)}},b8=(e,t)=>{h8(e,t),mO(e,t)},Ov=qn.DOM,pO=e=>{Ov.setStyle(e.id,"display",e.orgDisplay)},Gy=e=>V.from(e).each(t=>t.destroy()),gO=e=>{const t=e;t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null;const n=e.selection;if(n){const r=n.dom;t.selection=n.win=n.dom=r.doc=null}},hO=e=>{const t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,delete t._mceOldSubmit),Ov.unbind(t,"submit reset",e.formEventDelegate))},bO=e=>{if(!e.removed){const{_selectionOverrides:t,editorUpload:n}=e,r=e.getBody(),a=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&Le(a==null?void 0:a.nextSibling)&&Ov.remove(a.nextSibling),Ub(e),e.editorManager.remove(e),!e.inline&&r&&pO(e),hh(e),Ov.remove(e.getContainer()),Gy(t),Gy(n),e.destroy()}},y8=(e,t)=>{const{selection:n,dom:r}=e;if(!e.destroyed){if(!t&&!e.removed){e.remove();return}t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),Gy(n),Gy(r)),hO(e),gO(e),e.destroyed=!0}},zg=(()=>{const e={};return{add:(a,c)=>{e[a]=c},get:a=>e[a]?e[a]:{icons:{}},has:a=>go(e,a)}})(),Ky=zi.ModelManager,i3=(e,t)=>t.dom[e],Dv=(e,t)=>parseInt(er(t,e),10),yO=xt(i3,"clientWidth"),vO=xt(i3,"clientHeight"),v8=xt(Dv,"margin-top"),x8=xt(Dv,"margin-left"),xO=e=>e.dom.getBoundingClientRect(),l3=(e,t,n)=>{const r=yO(e),a=vO(e);return t>=0&&n>=0&&t<=r&&n<=a},j_=(e,t,n,r)=>{const a=xO(t),c=e?a.left+t.dom.clientLeft+x8(t):0,u=e?a.top+t.dom.clientTop+v8(t):0,g=n-c,v=r-u;return{x:g,y:v}},kO=(e,t,n)=>{const r=me.fromDom(e.getBody()),a=e.inline?r:xc(r),c=j_(e.inline,a,t,n);return l3(a,c.x,c.y)},c3=e=>V.from(e).map(me.fromDom),_O=e=>{const t=e.inline?e.getBody():e.getContentAreaContainer();return c3(t).map(La).getOr(!1)};var k8=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const d3=e=>{const t=[],n=()=>{const L=e.theme;return L&&L.getNotificationManagerImpl?L.getNotificationManagerImpl():k8()},r=()=>V.from(t[0]),a=(L,G)=>L.type===G.type&&L.text===G.text&&!L.progressBar&&!L.timeout&&!G.progressBar&&!G.timeout,c=()=>{r().each(L=>{L.reposition()})},u=L=>{t.push(L)},g=L=>{Jn(t,G=>G===L).each(G=>{t.splice(G,1)})},v=(L,G=!0)=>e.removed||!_O(e)?{}:(G&&e.dispatch("BeforeOpenNotification",{notification:L}),Sn(t,ae=>a(n().getArgs(ae),L)).getOrThunk(()=>{e.editorManager.setActive(e);const ae=n().open(L,()=>{g(ae)},()=>R0(e));return u(ae),c(),e.dispatch("OpenNotification",{notification:{...ae}}),ae})),S=()=>{r().each(L=>{n().close(L),g(L),c()})},R=Ce(t);return(L=>{L.on("SkinLoaded",()=>{const G=UD(L);G&&v({text:G,type:"warning",timeout:0},!1),c()}),L.on("show ResizeEditor ResizeWindow NodeChange ToggleView FullscreenStateChanged",()=>{requestAnimationFrame(c)}),L.on("remove",()=>{Ne(t.slice(),G=>{n().close(G)})}),L.on("keydown",G=>{var ae;const J=((ae=G.key)===null||ae===void 0?void 0:ae.toLowerCase())==="f12"||G.keyCode===123;G.altKey&&J&&(G.preventDefault(),r().map(ie=>me.fromDom(ie.getEl())).each(ie=>ay(ie)))})})(e),{open:v,close:S,getNotifications:R}},Yy=zi.PluginManager,Tg=zi.ThemeManager;var u3=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const f3=e=>{let t=[];const n=()=>{const J=e.theme;return J&&J.getWindowManagerImpl?J.getWindowManagerImpl():u3()},r=(J,ie)=>(...he)=>ie?ie.apply(J,he):void 0,a=J=>{e.dispatch("OpenWindow",{dialog:J})},c=J=>{e.dispatch("CloseWindow",{dialog:J})},u=J=>{t.push(J),a(J)},g=J=>{c(J),t=Ye(t,ie=>ie!==J),t.length===0&&e.focus()},v=()=>V.from(t[t.length-1]),S=J=>{e.editorManager.setActive(e),fk(e),e.ui.show();const ie=J();return u(ie),ie},R=(J,ie)=>S(()=>n().open(J,ie,g)),B=J=>S(()=>n().openUrl(J,g)),L=(J,ie,he)=>{const Se=n();Se.alert(J,r(he||Se,ie))},G=(J,ie,he)=>{const Se=n();Se.confirm(J,r(he||Se,ie))},ae=()=>{v().each(J=>{n().close(J),g(J)})};return e.on("remove",()=>{Ne(t,J=>{n().close(J)})}),{open:R,openUrl:B,alert:L,confirm:G,close:ae}},U_=(e,t)=>{e.notificationManager.open({type:"error",text:t})},Xy=(e,t)=>{e._skinLoaded?U_(e,t):e.on("SkinLoaded",()=>{U_(e,t)})},m3=(e,t)=>{Xy(e,zc.translate(["Failed to upload image: {0}",t]))},jd=(e,t,n)=>{F4(e,t,{message:n}),console.error(n)},Jy=(e,t,n)=>n?`Failed to load ${e}: ${n} from url ${t}`:`Failed to load ${e} url: ${t}`,wO=(e,t,n)=>{jd(e,"PluginLoadError",Jy("plugin",t,n))},_8=(e,t,n)=>{jd(e,"IconsLoadError",Jy("icons",t,n))},CO=(e,t,n)=>{jd(e,"LanguageLoadError",Jy("language",t,n))},w8=(e,t,n)=>{jd(e,"ThemeLoadError",Jy("theme",t,n))},C8=(e,t,n)=>{jd(e,"ModelLoadError",Jy("model",t,n))},p3=(e,t,n)=>{const r=zc.translate(["Failed to initialize plugin: {0}",t]);F4(e,"PluginLoadError",{message:r}),Z_(r,n),Xy(e,r)},Z_=(e,...t)=>{const n=window.console;n&&(n.error?n.error(e,...t):n.log(e,...t))},SO=e=>{V.from(e.selection.getNode()).each(t=>{t.removeAttribute("data-mce-selected")})},Rv=(e,t,n)=>{try{e.getDoc().execCommand(t,!1,String(n))}catch{}},EO=(e,t)=>{Rv(e,"StyleWithCSS",t),Rv(e,"enableInlineTableEditing",t),Rv(e,"enableObjectResizing",t)},AO=e=>{e.selection.setRng(e.selection.getRng())},g3=(e,t,n)=>{hu(e,t)&&!n?Pa(e,t):n&&vc(e,t)},h3=e=>{const t=me.fromDom(e.getBody());g3(t,"mce-content-readonly",!0),e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),SO(e)},zO=e=>{const t=me.fromDom(e.getBody());g3(t,"mce-content-readonly",!1),e.hasEditableRoot()&&Li(t,!0),EO(e,!1),R0(e)&&e.focus(),AO(e),e.nodeChanged()},Ep=e=>c0(e),Ap="data-mce-contenteditable",S8=e=>{Ne(Cs(e,'*[contenteditable="true"]'),t=>{In(t,Ap,"true"),Li(t,!1)})},b3=e=>{Ne(Cs(e,`*[${Ap}="true"]`),t=>{Dn(t,Ap),Li(t,!0)})},TO=(e,t)=>{const n=me.fromDom(e.getBody());t?(h3(e),Li(n,!1),S8(n)):(b3(n),zO(e))},OO=e=>{e.serializer?DO(e):e.on("PreInit",()=>{DO(e)})},DO=e=>{e.parser.addAttributeFilter("contenteditable",t=>{Ep(e)&&Ne(t,n=>{n.attr(Ap,n.attr("contenteditable")),n.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(Ap,t=>{Ep(e)&&Ne(t,n=>{n.attr("contenteditable",n.attr(Ap))})}),e.serializer.addTempAttr(Ap)},E8=e=>e.type==="click",RO=["copy"],y3=e=>Wo(RO,e.type),A8=(e,t)=>oa(t,"a",r=>rn(r,me.fromDom(e.getBody()))).bind(r=>$s(r,"href")),W_=(e,t)=>{if(E8(t)&&!Ht.metaKeyPressed(t)){const n=me.fromDom(t.target);A8(e,n).each(r=>{if(t.preventDefault(),/^#/.test(r)){const a=e.dom.select(`${r},[name="${ai(r,"#")}"]`);a.length&&e.selection.scrollIntoView(a[0],!0)}else window.open(r,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else y3(t)&&e.dispatch(t.type,t)},z8=e=>{e.on("ShowCaret ObjectSelected",t=>{Ep(e)&&t.preventDefault()}),e.on("DisabledStateChange",t=>{t.isDefaultPrevented()||TO(e,t.state)})},T8=e=>{OO(e),z8(e)},O8=e=>/^[a-z0-9\-]+$/i.test(e),q_=e=>"content/"+e+"/content.css",NO=e=>tinymce.Resource.has(q_(e)),D8=e=>Qy(e,cp(e)),MO=e=>Qy(e,s0(e)),Qy=(e,t)=>{const n=e.editorManager.baseURL+"/skins/content",a=`content${e.editorManager.suffix}.css`;return $o(t,c=>NO(c)?c:O8(c)&&!e.inline?`${n}/${c}/${a}`:e.documentBaseURI.toAbsolute(c))},BO=e=>{e.contentCSS=e.contentCSS.concat(D8(e),MO(e))},R8=e=>e?Mo(e.getElementsByTagName("img")):[],IO=(e,t)=>{const n={};return{findAll:(a,c=Co)=>{const u=Ye(R8(a),v=>{const S=v.src;return v.hasAttribute("data-mce-bogus")||v.hasAttribute("data-mce-placeholder")||!S||S===Nt.transparentSrc?!1:ir(S,"blob:")?!e.isUploaded(S)&&c(v):ir(S,"data:")?c(v):!1}),g=$o(u,v=>{const S=v.src;if(go(n,S))return n[S].then(R=>pt(R)?R:{image:v,blobInfo:R.blobInfo});{const R=t7(t,S).then(B=>(delete n[S],{image:v,blobInfo:B})).catch(B=>(delete n[S],B));return n[S]=R,R}});return Promise.all(g)}}},v3=()=>{let n={};const r=(L,G)=>({status:L,resultUri:G}),a=L=>L in n;return{hasBlobUri:a,getResultUri:L=>{const G=n[L];return G?G.resultUri:null},isPending:L=>a(L)?n[L].status===1:!1,isUploaded:L=>a(L)?n[L].status===2:!1,markPending:L=>{n[L]=r(1,null)},markUploaded:(L,G)=>{n[L]=r(2,G)},removeFailed:L=>{delete n[L]},destroy:()=>{n={}}}};let N8=0;const M8=()=>{const e=()=>Math.round(Kp()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},B8=e=>e+N8+++M8(),I8=()=>{let e=[];const t=B=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[B.toLowerCase()]||"dat",n=(B,L,G,ae,J)=>{if(pt(B))return r({id:B,name:ae,filename:J,blob:L,base64:G});if(le(B))return r(B);throw new Error("Unknown input type")},r=B=>{if(!B.blob||!B.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const L=B.id||B8("blobid"),G=B.name||L,ae=B.blob;return{id:Ce(L),name:Ce(G),filename:Ce(B.filename||G+"."+t(ae.type)),blob:Ce(ae),base64:Ce(B.base64),blobUri:Ce(B.blobUri||URL.createObjectURL(ae)),uri:Ce(B.uri)}},a=B=>{u(B.id())||e.push(B)},c=B=>Sn(e,B).getOrUndefined(),u=B=>c(L=>L.id()===B);return{create:n,add:a,get:u,getByUri:B=>c(L=>L.blobUri()===B),getByData:(B,L)=>c(G=>G.base64()===B&&G.blob().type===L),findFirst:c,removeByUri:B=>{e=Ye(e,L=>L.blobUri()===B?(URL.revokeObjectURL(L.blobUri()),!1):!0)},destroy:()=>{Ne(e,B=>{URL.revokeObjectURL(B.blobUri())}),e=[]}}},PO=(e,t)=>{const n={},r=(J,ie)=>J?J.replace(/\/$/,"")+"/"+ie.replace(/^\//,""):ie,a=(J,ie)=>new Promise((he,Se)=>{const ze=new XMLHttpRequest;ze.open("POST",t.url),ze.withCredentials=t.credentials,ze.upload.onprogress=Xe=>{ie(Xe.loaded/Xe.total*100)},ze.onerror=()=>{Se("Image upload failed due to a XHR Transport error. Code: "+ze.status)},ze.onload=()=>{if(ze.status<200||ze.status>=300){Se("HTTP Error: "+ze.status);return}const Xe=JSON.parse(ze.responseText);if(!Xe||!pt(Xe.location)){Se("Invalid JSON: "+ze.responseText);return}he(r(t.basePath,Xe.location))};const Me=new FormData;Me.append("file",J.blob(),J.filename()),ze.send(Me)}),c=It(t.handler)?t.handler:a,u=()=>new Promise(J=>{J([])}),g=(J,ie)=>({url:ie,blobInfo:J,status:!0}),v=(J,ie)=>({url:"",blobInfo:J,status:!1,error:ie}),S=(J,ie)=>{ht.each(n[J],he=>{he(ie)}),delete n[J]},R=(J,ie,he)=>(e.markPending(J.blobUri()),new Promise(Se=>{let ze,Me;try{const Xe=()=>{ze&&(ze.close(),Me=Qt)},vt=We=>{Xe(),e.markUploaded(J.blobUri(),We),S(J.blobUri(),g(J,We)),Se(g(J,We))},Lt=We=>{Xe(),e.removeFailed(J.blobUri()),S(J.blobUri(),v(J,We)),Se(v(J,We))};Me=We=>{We<0||We>100||V.from(ze).orThunk(()=>V.from(he).map(Yr)).each(He=>{ze=He,He.progressBar.value(We)})},ie(J,Me).then(vt,We=>{Lt(pt(We)?{message:We}:We)})}catch(Xe){Se(v(J,Xe))}})),B=J=>J===a,L=J=>{const ie=J.blobUri();return new Promise(he=>{n[ie]=n[ie]||[],n[ie].push(he)})},G=(J,ie)=>(J=ht.grep(J,he=>!e.isUploaded(he.blobUri())),Promise.all(ht.map(J,he=>e.isPending(he.blobUri())?L(he):R(he,c,ie))));return{upload:(J,ie)=>!t.url&&B(c)?u():G(J,ie)}},G_=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),x3=(e,t)=>PO(t,{url:r0(e),basePath:e2(e),credentials:Y4(e),handler:X4(e)}),LO=e=>{const t=v3(),n=x3(e,t);return{upload:(r,a=!0)=>n.upload(r,a?G_(e):void 0)}},FO=(e,t)=>e.dom.isEmpty(t.dom)&&Le(e.schema.getTextBlockElements()[cn(t)]),HO=e=>t=>{FO(e,t)&&lr(t,me.fromHtml('<br data-mce-bogus="1" />'))},P8=e=>{const t=I8();let n,r;const a=v3(),c=[],u=ze=>Me=>e.selection?ze(Me):[],g=ze=>ze+(ze.indexOf("?")===-1?"?":"&")+new Date().getTime(),v=(ze,Me,Xe)=>{let vt=0;do vt=ze.indexOf(Me,vt),vt!==-1&&(ze=ze.substring(0,vt)+Xe+ze.substr(vt+Me.length),vt+=Xe.length-Me.length+1);while(vt!==-1);return ze},S=(ze,Me,Xe)=>{const vt=`src="${Xe}"${Xe===Nt.transparentSrc?' data-mce-placeholder="1"':""}`;return ze=v(ze,`src="${Me}"`,vt),ze=v(ze,'data-mce-src="'+Me+'"','data-mce-src="'+Xe+'"'),ze},R=(ze,Me)=>{Ne(e.undoManager.data,Xe=>{Xe.type==="fragmented"?Xe.fragments=$o(Xe.fragments,vt=>S(vt,ze,Me)):Xe.content=S(Xe.content,ze,Me)})},B=(ze,Me)=>{const Xe=e.convertURL(Me,"src");R(ze.src,Me),Dl(me.fromDom(ze),{src:G4(e)?g(Me):Me,"data-mce-src":Xe})},L=()=>(n||(n=x3(e,a)),ie().then(u(ze=>{const Me=$o(ze,Xe=>Xe.blobInfo);return n.upload(Me,G_(e)).then(u(Xe=>{const vt=[];let Lt=!1;const We=$o(Xe,(He,tt)=>{const{blobInfo:Rt,image:ro}=ze[tt];let Go=!1;return He.status&&VD(e)?(He.url&&!pr(ro.src,He.url)&&(Lt=!0),t.removeByUri(ro.src),bm(e)||B(ro,He.url)):He.error&&(He.error.remove&&(R(ro.src,Nt.transparentSrc),vt.push(ro),Go=!0),m3(e,He.error.message)),{element:ro,status:He.status,uploadUri:He.url,blobInfo:Rt,removed:Go}});return vt.length>0&&!bm(e)?e.undoManager.transact(()=>{Ne(mi(vt),He=>{const tt=Wa(He);_n(He),tt.each(HO(e)),t.removeByUri(He.dom.src)})}):Lt&&e.undoManager.dispatchChange(),We}))}))),G=()=>q4(e)?L():Promise.resolve([]),ae=ze=>wr(c,Me=>Me(ze)),J=ze=>{c.push(ze)},ie=()=>(r||(r=IO(a,t)),r.findAll(e.getBody(),ae).then(u(ze=>{const Me=Ye(ze,Xe=>pt(Xe)?(Xy(e,Xe),!1):Xe.uriType!=="blob");return bm(e)||Ne(Me,Xe=>{R(Xe.image.src,Xe.blobInfo.blobUri()),Xe.image.src=Xe.blobInfo.blobUri(),Xe.image.removeAttribute("data-mce-src")}),Me}))),he=()=>{t.destroy(),a.destroy(),r=n=null},Se=ze=>ze.replace(/src="(blob:[^"]+)"/g,(Me,Xe)=>{const vt=a.getResultUri(Xe);if(vt)return'src="'+vt+'"';let Lt=t.getByUri(Xe);return Lt||(Lt=mo(e.editorManager.get(),(We,He)=>We||He.editorUpload&&He.editorUpload.blobCache.getByUri(Xe),void 0)),Lt?'src="data:'+Lt.blob().type+";base64,"+Lt.base64()+'"':Me});return e.on("SetContent",()=>{q4(e)?G():ie()}),e.on("RawSaveContent",ze=>{ze.content=Se(ze.content)}),e.on("GetContent",ze=>{ze.source_view||ze.format==="raw"||ze.format==="tree"||(ze.content=Se(ze.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",ze=>{Ne(ze,Me=>{const Xe=Me.attr("src");if(!Xe||t.getByUri(Xe))return;const vt=a.getResultUri(Xe);vt&&Me.attr("src",vt)})})}),{blobCache:t,addFilter:J,uploadImages:L,uploadImagesAuto:G,scanForImages:ie,destroy:he}},k3=e=>{const t=e.dom,n=e.schema.type,r={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:".mce-placeholder",styles:{float:"left"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:a=>{t.setStyle(a,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:".mce-placeholder",styles:{display:"block",marginLeft:"auto",marginRight:"auto"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:".mce-placeholder",styles:{float:"right"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:a=>{t.setStyle(a,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const a={inline:"span",styles:{textDecoration:"line-through"},exact:!0},c={inline:"strike",remove:"all",preserve_attributes:["class","style"]},u={inline:"s",remove:"all",preserve_attributes:["class","style"]};return n!=="html4"?[u,a,c]:[a,u,c]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},samp:{inline:"samp"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(a,c,u)=>qt(a)&&a.hasAttribute("href"),onformat:(a,c,u)=>{ht.each(u,(g,v)=>{t.setAttrib(a,v,g)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":a=>{var c;return(c=a==null?void 0:a.customValue)!==null&&c!==void 0?c:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return ht.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd".split(/\s/),a=>{r[a]={block:a,remove:"all"}}),r},Nv={remove_similar:!0,inherit:!1},zp={selector:"td,th",...Nv},Tp={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...zp},tablecellverticalalign:{styles:{"vertical-align":"%value"},...zp},tablecellbordercolor:{styles:{borderColor:"%value"},...zp},tablecellclass:{classes:["%value"],...zp},tableclass:{selector:"table",classes:["%value"],...Nv},tablecellborderstyle:{styles:{borderStyle:"%value"},...zp},tablecellborderwidth:{styles:{borderWidth:"%value"},...zp}},K_=Ce(Tp),e1=e=>{const t={},n=u=>Le(u)?t[u]:t,r=u=>go(t,u),a=(u,g)=>{u&&(pt(u)?(ve(g)||(g=[g]),Ne(g,v=>{Xn(v.deep)&&(v.deep=!rl(v)),Xn(v.split)&&(v.split=!rl(v)||sa(v)),Xn(v.remove)&&rl(v)&&!sa(v)&&(v.remove="none"),rl(v)&&sa(v)&&(v.mixed=!0,v.block_expand=!0),pt(v.classes)&&(v.classes=v.classes.split(/\s+/))}),t[u]=g):To(u,(v,S)=>{a(S,v)}))},c=u=>(u&&t[u]&&delete t[u],t);return a(k3(e)),a(K_()),a(WD(e)),{get:n,has:r,register:a,unregister:c}},Mv=ht.each,Ud=qn.DOM,Bv=e=>Le(e)&&le(e),Iv=(e,t)=>{const n=t&&t.schema||Du({}),r=(v,S)=>{S.classes.length>0&&Ud.addClass(v,S.classes.join(" ")),Ud.setAttribs(v,S.attrs)},a=v=>{const S=pt(v)?{name:v,classes:[],attrs:{}}:v,R=Ud.create(S.name);return r(R,S),R},c=(v,S)=>{const R=n.getElementRule(v.nodeName.toLowerCase()),B=R==null?void 0:R.parentsRequired;return B&&B.length?S&&Wo(B,S)?S:B[0]:!1},u=(v,S,R)=>{let B;const L=S[0],G=Bv(L)?L.name:void 0,ae=c(v,G);if(ae)G===ae?(B=L,S=S.slice(1)):B=ae;else if(L)B=L,S=S.slice(1);else if(!R)return v;const J=B?a(B):Ud.create("div");J.appendChild(v),R&&ht.each(R,he=>{const Se=a(he);J.insertBefore(Se,v)});const ie=Bv(B)?B.siblings:void 0;return u(J,S,ie)},g=Ud.create("div");if(e.length>0){const v=e[0],S=a(v),R=Bv(v)?v.siblings:void 0;g.appendChild(u(S,e.slice(1),R))}return g},Og=e=>{e=ht.trim(e);let t="div";const n={name:t,classes:[],attrs:{},selector:e};return e!=="*"&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(r,a,c,u,g)=>{switch(a){case"#":n.attrs.id=c;break;case".":n.classes.push(c);break;case":":ht.inArray("checked disabled enabled read-only required".split(" "),c)!==-1&&(n.attrs[c]=c);break}if(u==="["){const v=g.match(/([\w\-]+)(?:\=\"([^\"]+))?/);v&&(n.attrs[v[1]]=v[2])}return""})),n.name=t||"div",n},Qh=e=>pt(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),ht.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),t=>{const n=ht.map(t.split(/(?:~\+|~|\+)/),Og),r=n.pop();return n.length&&(r.siblings=n),r}).reverse()):[],VO=(e,t)=>{let n="",r=a0(e);if(r==="")return"";const a=L=>pt(L)?L.replace(/%(\w+)/g,""):"",c=(L,G)=>Ud.getStyle(G??e.getBody(),L,!0);if(pt(t)){const L=e.formatter.get(t);if(!L)return"";t=L[0]}if("preview"in t){const L=t.preview;if(L===!1)return"";r=L||r}let u=t.block||t.inline||"span",g;const v=Qh(t.selector);v.length>0?(v[0].name||(v[0].name=u),u=t.selector,g=Iv(v,e)):g=Iv([u],e);const S=Ud.select(u,g)[0]||g.firstChild;Mv(t.styles,(L,G)=>{const ae=a(L);ae&&Ud.setStyle(S,G,ae)}),Mv(t.attributes,(L,G)=>{const ae=a(L);ae&&Ud.setAttrib(S,G,ae)}),Mv(t.classes,L=>{const G=a(L);Ud.hasClass(S,G)||Ud.addClass(S,G)}),e.dispatch("PreviewFormats"),Ud.setStyles(g,{position:"absolute",left:-65535}),e.getBody().appendChild(g);const R=c("fontSize"),B=/px$/.test(R)?parseInt(R,10):0;return Mv(r.split(" "),L=>{let G=c(L,S);if(!(L==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(G)&&(G=c(L),th(G).toLowerCase()==="#ffffff"))&&!(L==="color"&&th(G).toLowerCase()==="#000000")){if(L==="font-size"&&/em|%$/.test(G)){if(B===0)return;G=parseFloat(G)/(/%$/.test(G)?100:1)*B+"px"}L==="border"&&G&&(n+="padding:0 2px;"),n+=L+":"+G+";"}}),e.dispatch("AfterPreviewFormats"),Ud.remove(g),n},L8=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},_3=e=>{const t=e1(e),n=yr({});return L8(e),jN(e),bm(e)||Cp(n,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(r,a,c)=>{J7(e,r,a,c)},remove:(r,a,c,u)=>{Q7(e,r,a,c,u)},toggle:(r,a,c)=>{e8(e,r,a,c)},match:(r,a,c,u)=>L_(e,r,a,c,u),closest:r=>X7(e,r),matchAll:(r,a)=>G7(e,r,a),matchNode:(r,a,c,u)=>K7(e,r,a,c,u),canApply:r=>Y7(e,r),formatChanged:(r,a,c,u)=>t8(e,n,r,a,c,u),getCssText:xt(VO,e)}},$O=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},F8=(e,t,n)=>{const r=yr(!1),a=v=>{zv(t,!1,n),t.add({},v)};e.on("init",()=>{t.add()}),e.on("BeforeExecCommand",v=>{const S=v.command;$O(S)||(Sp(t,n),t.beforeChange())}),e.on("ExecCommand",v=>{const S=v.command;$O(S)||a(v)}),e.on("ObjectResizeStart cut",()=>{t.beforeChange()}),e.on("SaveContent ObjectResized blur",a),e.on("dragend",a),e.on("keyup",v=>{const S=v.keyCode;if(v.isDefaultPrevented())return;const R=Nt.os.isMacOS()&&v.key==="Meta";(S>=33&&S<=36||S>=37&&S<=40||S===45||v.ctrlKey||R)&&(a(),e.nodeChanged()),(S===46||S===8)&&e.nodeChanged(),r.get()&&t.typing&&!Ev(N_(e),t.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),r.set(!1),e.nodeChanged())}),e.on("keydown",v=>{const S=v.keyCode;if(v.isDefaultPrevented())return;if(S>=33&&S<=36||S>=37&&S<=40||S===45){t.typing&&a(v);return}const R=v.ctrlKey&&!v.altKey||v.metaKey;if((S<16||S>20)&&S!==224&&S!==91&&!t.typing&&!R){t.beforeChange(),zv(t,!0,n),t.add({},v),r.set(!0);return}(Nt.os.isMacOS()?v.metaKey:v.ctrlKey&&!v.altKey)&&t.beforeChange()}),e.on("mousedown",v=>{t.typing&&a(v)});const c=v=>v.inputType==="insertReplacementText",u=v=>v.inputType==="insertText"&&v.data===null,g=v=>v.inputType==="insertFromPaste"||v.inputType==="insertFromDrop";e.on("input",v=>{v.inputType&&(c(v)||u(v)||g(v))&&a(v)}),e.on("AddUndo Undo Redo ClearUndos",v=>{v.isDefaultPrevented()||e.nodeChanged()})},H8=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},Y_=e=>{const t=cs(),n=yr(0),r=yr(0),a={data:[],typing:!1,beforeChange:()=>{$7(e,n,t)},add:(c,u)=>j7(e,a,r,n,t,c,u),dispatchChange:()=>{e.setDirty(!0);const c=N_(e);c.bookmark=Ge(e.selection),e.dispatch("change",{level:c,lastLevel:Ds(a.data,r.get()).getOrUndefined()})},undo:()=>j5(e,a,n,r),redo:()=>U5(e,r,a.data),clear:()=>{U7(e,a,r)},reset:()=>{Z7(e,a)},hasUndo:()=>jy(e,a,r),hasRedo:()=>W7(e,a,r),transact:c=>q7(e,a,n,c),ignore:c=>{Z5(e,n,c)},extra:(c,u)=>{W5(e,a,r,c,u)}};return bm(e)||F8(e,a,n),H8(e),a},jO=[9,27,Ht.HOME,Ht.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Ht.DOWN,Ht.UP,Ht.LEFT,Ht.RIGHT].concat(Nt.browser.isFirefox()?[224]:[]),UO="data-mce-placeholder",w3=e=>e.type==="keydown"||e.type==="keyup",ZO=e=>{const t=e.keyCode;return t===Ht.BACKSPACE||t===Ht.DELETE},C3=e=>{if(w3(e)){const t=e.keyCode;return!ZO(e)&&(Ht.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||Wo(jO,t))}else return!1},V8=e=>w3(e)&&!(ZO(e)||e.type==="keyup"&&e.keyCode===229),WO=(e,t,n)=>{if(e.isEmpty(t,void 0,{skipBogus:!1,includeZwsp:!0})){const r=t.firstElementChild;return r?e.getStyle(t.firstElementChild,"padding-left")||e.getStyle(t.firstElementChild,"padding-right")?!1:n===r.nodeName.toLowerCase():!0}else return!1},S3=e=>{var t;const n=e.dom,r=Ul(e),a=(t=Gb(e))!==null&&t!==void 0?t:"",c=(u,g)=>{if(C3(u))return;const v=e.getBody(),S=V8(u)?!1:WO(n,v,r);(n.getAttrib(v,UO)!==""!==S||g)&&(n.setAttrib(v,UO,S?a:null),$w(e,S),e.on(S?"keydown":"keyup",c),e.off(S?"keyup":"keydown",c))};gr(a)&&e.on("init",u=>{c(u,!0),e.on("change SetContent ExecCommand",c),e.on("paste",g=>Ld.setEditorTimeout(e,()=>c(g)))})},qO=(e,t)=>({block:e,position:t}),E3=(e,t)=>({from:e,to:t}),A3=(e,t)=>{const n=me.fromDom(e),r=me.fromDom(t.container());return Y0(n,r).map(a=>qO(a,t))},GO=e=>!(Za(e.to.block,e.from.block)||Za(e.from.block,e.to.block)),$8=e=>!rn(e.from.block,e.to.block),z3=(e,t)=>ea(t,a=>Ui(a)||Hi(a.dom),a=>rn(a,e)).filter(Ei).getOr(e),KO=(e,t)=>{const n=me.fromDom(e);return rn(z3(n,t.from.block),z3(n,t.to.block))},j8=e=>Wr(e.from.block.dom)===!1&&Wr(e.to.block.dom)===!1,U8=e=>{const t=n=>Xm(n)||Ou(n.dom)||ff(n);return t(e.from.block)&&t(e.to.block)},Z8=(e,t,n,r)=>ls(r.position.getNode())&&!Ca(e,r.block)?Sh(!1,r.block.dom).bind(a=>a.isEqual(r.position)?Bd(n,t,a).bind(c=>A3(t,c)):V.some(r)).getOr(r):r,W8=(e,t,n,r)=>{const a=A3(t,$e.fromRangeStart(r)),c=a.bind(u=>Bd(n,t,u.position).bind(g=>A3(t,g).map(v=>Z8(e,t,n,v))));return ma(a,c,E3).filter(u=>$8(u)&&KO(t,u)&&j8(u)&&U8(u)&&GO(u))},q8=(e,t,n,r)=>r.collapsed?W8(e,t,n,r):V.none(),eb=(e,t)=>{const n=qa(e);return Jn(n,r=>t.isBlock(cn(r))).fold(Ce(n),r=>n.slice(0,r))},T3=(e,t)=>{const n=eb(e,t);return Ne(n,_n),n},O3=(e,t,n)=>{const r=fm(n,t);return Sn(r.reverse(),a=>Ca(e,a)).each(_n)},YO=(e,t)=>Ye(Uc(t),n=>!Ca(e,n)).length===0,G8=(e,t,n,r,a)=>{if(Ca(r,n))return kl(n),Zl(n.dom);YO(r,a)&&Ca(r,t)&&is(a,me.fromTag("br"));const c=zs(n.dom,$e.before(a.dom));return Ne(T3(t,r),u=>{is(a,u)}),O3(r,e,t),c},K8=(e,t)=>e.isInline(cn(t)),Dg=(e,t,n,r)=>{if(Ca(r,n)){if(Ca(r,t)){const u=to((g=>{const v=(S,R)=>ul(S).fold(()=>R,B=>K8(r,B)?v(B,R.concat(su(B))):R);return v(g,[])})(n),(g,v)=>(Zs(g,v),v),td());nc(t),lr(t,u)}return _n(n),Zl(t.dom)}const a=Wl(n.dom);return Ne(T3(t,r),c=>{lr(n,c)}),O3(r,e,t),a},XO=(e,t)=>{const n=fm(t,e);return V.from(n[n.length-1])},X_=(e,t)=>Za(t,e)?XO(t,e):V.none(),JO=(e,t)=>{Sh(e,t.dom).bind(n=>V.from(n.getNode())).map(me.fromDom).filter(Mu).each(_n)},D3=(e,t,n,r)=>(JO(!0,t),JO(!1,n),X_(t,n).fold(xt(Dg,e,t,n,r),xt(G8,e,t,n,r))),QO=(e,t,n,r,a)=>t?D3(e,r,n,a):D3(e,n,r,a),R3=(e,t)=>{const n=me.fromDom(e.getBody());return q8(e.schema,n.dom,t,e.selection.getRng()).map(a=>()=>{QO(n,t,a.from.block,a.to.block,e.schema).each(c=>{e.selection.setRng(c.toRange())})})},N3=(e,t,n)=>{const r=t.getRng();return ma(Y0(e,me.fromDom(r.startContainer)),Y0(e,me.fromDom(r.endContainer)),(a,c)=>rn(a,c)?V.none():V.some(()=>{r.deleteContents(),QO(e,!0,a,c,n).each(u=>{t.setRng(u.toRange())})})).getOr(V.none())},e6=(e,t)=>{const n=me.fromDom(t),r=xt(rn,e);return Pi(n,Ui,r).isSome()},ni=(e,t)=>e6(e,t.startContainer)||e6(e,t.endContainer),Y8=(e,t)=>{const n=zs(e.dom,$e.fromRangeStart(t)).isNone(),r=uc(e.dom,$e.fromRangeEnd(t)).isNone();return!ni(e,t)&&n&&r},X8=e=>V.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),M3=e=>{const t=me.fromDom(e.getBody()),n=e.selection.getRng();return Y8(t,n)?X8(e):N3(t,e.selection,e.schema)},J_=(e,t)=>e.selection.isCollapsed()?V.none():M3(e),Bf=(e,t,n,r,a)=>V.from(t._selectionOverrides.showCaret(e,n,r,a)),J8=e=>{const t=e.ownerDocument.createRange();return t.selectNode(e),t},Pv=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?V.none():V.some(J8(t)),Q8=(e,t,n)=>{const r=f2(1,e.getBody(),t),a=$e.fromRangeStart(r),c=a.getNode();if(d0(c))return Bf(1,e,c,!a.isAtEnd(),!1);const u=a.getNode(!0);if(d0(u))return Bf(1,e,u,!1,!1);const g=jh(e.dom.getRoot(),a.getNode());return d0(g)?Bf(1,e,g,!1,n):V.none()},B3=(e,t,n)=>t.collapsed?Q8(e,t,n).getOr(t):t,eM=e=>um(e)||mg(e),tM=e=>gp(e)||U0(e),oM=(e,t)=>{bt(t)&&t.data.length===0&&e.remove(t)},tb=(e,t,n,r,a,c)=>{Bf(r,e,c.getNode(!a),a,!0).each(u=>{if(t.collapsed){const g=t.cloneRange();a?g.setEnd(u.startContainer,u.startOffset):g.setStart(u.endContainer,u.endOffset),g.deleteContents()}else t.deleteContents();e.selection.setRng(u)}),oM(e.dom,n)},If=(e,t)=>{const n=e.selection.getRng();if(!bt(n.commonAncestorContainer))return V.none();const r=t?1:-1,a=Fu(e.getBody()),c=xt(jx,t?a.next:a.prev),u=t?eM:tM,g=p0(r,e.getBody(),n),v=c(g),S=v&&uu(t,v);if(!S||!_h(g,S))return V.none();if(u(S))return V.some(()=>tb(e,n,g.getNode(),r,t,S));const R=c(S);return R&&u(R)&&_h(S,R)?V.some(()=>tb(e,n,g.getNode(),r,t,R)):V.none()},I3=(e,t)=>If(e,t),P3=(e,t)=>{const n=e.getBody();return t?Zl(n).filter(um):Wl(n).filter(gp)},L3=e=>{const t=e.selection.getRng();return!t.collapsed&&(P3(e,!0).exists(n=>n.isEqual($e.fromRangeStart(t)))||P3(e,!1).exists(n=>n.isEqual($e.fromRangeEnd(t))))},nM=e=>Le(e)&&(Ui(me.fromDom(e))||ff(me.fromDom(e))),Zd=jt.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),rM=(e,t)=>{const n=t.getNode(!e),r=e?"after":"before";return qt(n)&&n.getAttribute("data-mce-caret")===r},sM=(e,t,n,r,a)=>{const c=u=>a.isInline(u.nodeName.toLowerCase())&&!lm(n,r,e);return m2(!t,n).fold(()=>m2(t,r).fold(an,c),c)},t6=(e,t,n,r,a)=>{const c=a.getNode(!n);return Y0(me.fromDom(t),me.fromDom(r.getNode())).map(u=>Ca(e,u)?Zd.remove(u.dom):Zd.moveToElement(c)).orThunk(()=>V.some(Zd.moveToElement(c)))},o6=(e,t,n,r)=>Bd(t,e,n).bind(a=>nM(a.getNode())||sM(e,t,n,a,r)?V.none():t&&Wr(a.getNode())||!t&&Wr(a.getNode(!0))?t6(r,e,t,n,a):t&&gp(n)||!t&&um(n)?V.some(Zd.moveToPosition(a)):V.none()),aM=(e,t)=>Ro(t)?V.none():e&&Wr(t.nextSibling)?V.some(Zd.moveToElement(t.nextSibling)):!e&&Wr(t.previousSibling)?V.some(Zd.moveToElement(t.previousSibling)):V.none(),iM=(e,t,n)=>n.fold(r=>V.some(Zd.remove(r)),r=>V.some(Zd.moveToElement(r)),r=>lm(t,r,e)?V.none():V.some(Zd.moveToPosition(r))),lM=(e,t,n,r)=>rM(t,n)?aM(t,n.getNode(!t)).orThunk(()=>o6(e,t,n,r)):o6(e,t,n,r).bind(a=>iM(e,n,a)),cM=(e,t,n,r)=>{const a=f2(t?1:-1,e,n),c=$e.fromRangeStart(a),u=me.fromDom(e);return!t&&gp(c)?V.some(Zd.remove(c.getNode(!0))):t&&um(c)?V.some(Zd.remove(c.getNode())):!t&&um(c)&&W0(u,c,r)?gC(u,c,r).map(g=>Zd.remove(g.getNode())):t&&gp(c)&&hp(u,c,r)?dz(u,c,r).map(g=>Zd.remove(g.getNode())):lM(e,t,c,r)},dM=(e,t)=>n=>(e._selectionOverrides.hideFakeCaret(),gg(e,t,me.fromDom(n)),!0),uM=(e,t)=>n=>{const r=t?$e.before(n):$e.after(n);return e.selection.setRng(r.toRange()),!0},fM=e=>t=>(e.selection.setRng(t.toRange()),!0),n6=(e,t)=>V.from(jh(e.getBody(),t)),mM=(e,t)=>{const n=e.selection.getNode();return n6(e,n).filter(Wr).fold(()=>cM(e.getBody(),t,e.selection.getRng(),e.schema).map(r=>()=>r.fold(dM(e,t),uM(e,t),fM(e))),()=>V.some(Qt))},pM=e=>{Ne(Cs(e,".mce-offscreen-selection"),_n)},gM=(e,t)=>{const n=e.selection.getNode();return Wr(n)&&!eu(n)?n6(e,n.parentNode).filter(Wr).fold(()=>V.some(()=>{pM(me.fromDom(e.getBody())),gg(e,t,me.fromDom(e.selection.getNode())),X0(e)}),()=>V.some(Qt)):L3(e)?V.some(()=>{Sy(e,e.selection.getRng(),me.fromDom(e.getBody()))}):V.none()},r6=e=>{const t=e.dom,n=e.selection,r=jh(e.getBody(),n.getNode());if(Hi(r)&&t.isBlock(r)&&t.isEmpty(r)){const a=t.create("br",{"data-mce-bogus":"1"});t.setHTML(r,""),r.appendChild(a),n.setRng($e.before(a).toRange())}return!0},F3=(e,t)=>e.selection.isCollapsed()?mM(e,t):gM(e,t),s6=e=>e.hasOwnProperty("text"),a6=e=>e.hasOwnProperty("marker"),i6=(e,t)=>{const n=(c,u)=>{if(bt(c))return{text:c,offset:u};{const g=t(),v=c.childNodes;return u<v.length?(c.insertBefore(g,v[u]),{marker:g,before:!0}):(c.appendChild(g),{marker:g,before:!1})}},r=n(e.endContainer,e.endOffset);return{start:n(e.startContainer,e.startOffset),end:r}},l6=e=>{var t,n;const{start:r,end:a}=e,c=new window.Range;return s6(r)?c.setStart(r.text,r.offset):a6(r)&&(r.before?c.setStartBefore(r.marker):c.setStartAfter(r.marker),(t=r.marker.parentNode)===null||t===void 0||t.removeChild(r.marker)),s6(a)?c.setEnd(a.text,a.offset):a6(a)&&(a.before?c.setEndBefore(a.marker):c.setEndAfter(a.marker),(n=a.marker.parentNode)===null||n===void 0||n.removeChild(a.marker)),c},H3=(e,t)=>{var n;const r=e.dom,a=r.getParent(e.selection.getStart(),r.isBlock),c=r.getParent(e.selection.getEnd(),r.isBlock),u=e.getBody();if(((n=a==null?void 0:a.nodeName)===null||n===void 0?void 0:n.toLowerCase())==="div"&&a&&c&&a===u.firstChild&&c===u.lastChild&&!r.isEmpty(u)){const v=a.cloneNode(!1),S=()=>{if(t?K0(e):Vk(e),u.firstChild!==a){const R=i6(e.selection.getRng(),()=>document.createElement("span"));Array.from(u.childNodes).forEach(B=>v.appendChild(B)),u.appendChild(v),e.selection.setRng(l6(R))}};return V.some(S)}return V.none()},hM=(e,t)=>{const n=$e.fromRangeStart(e.selection.getRng());return Bd(t,e.getBody(),n).filter(r=>t?rz(r):sz(r)).bind(r=>d2(t?0:-1,r)).map(r=>()=>e.selection.select(r))},V3=(e,t)=>e.selection.isCollapsed()?hM(e,t):V.none(),t1=bt,c6=e=>t1(e)&&e.data[0]===Ea,d6=e=>t1(e)&&e.data[e.data.length-1]===Ea,$3=e=>{var t;return((t=e.ownerDocument)!==null&&t!==void 0?t:document).createTextNode(Ea)},bM=e=>{var t;if(t1(e.previousSibling))return d6(e.previousSibling)||e.previousSibling.appendData(Ea),e.previousSibling;if(t1(e))return c6(e)||e.insertData(0,Ea),e;{const n=$3(e);return(t=e.parentNode)===null||t===void 0||t.insertBefore(n,e),n}},yM=e=>{var t,n;if(t1(e.nextSibling))return c6(e.nextSibling)||e.nextSibling.insertData(0,Ea),e.nextSibling;if(t1(e))return d6(e)||e.appendData(Ea),e;{const r=$3(e);return e.nextSibling?(t=e.parentNode)===null||t===void 0||t.insertBefore(r,e.nextSibling):(n=e.parentNode)===null||n===void 0||n.appendChild(r),r}},Q_=(e,t)=>e?bM(t):yM(t),vM=xt(Q_,!0),xM=xt(Q_,!1),u6=(e,t)=>bt(e.container())?Q_(t,e.container()):Q_(t,e.getNode()),f6=(e,t)=>{const n=t.get();return n&&e.container()===n&&rm(n)},j3=(e,t)=>t.fold(n=>{vh(e.get());const r=vM(n);return e.set(r),V.some($e(r,r.length-1))},n=>Zl(n).map(r=>{if(f6(r,e)){const a=e.get();return $e(a,1)}else{vh(e.get());const a=u6(r,!0);return e.set(a),$e(a,1)}}),n=>Wl(n).map(r=>{if(f6(r,e)){const a=e.get();return $e(a,a.length-1)}else{vh(e.get());const a=u6(r,!1);return e.set(a),$e(a,a.length-1)}}),n=>{vh(e.get());const r=xM(n);return e.set(r),V.some($e(r,1))}),U3=(e,t)=>{for(let n=0;n<e.length;n++){const r=e[n].apply(null,t);if(r.isSome())return r}return V.none()},pc=jt.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),m6=(e,t)=>{const n=sg(t,e);return n||e},kM=(e,t,n)=>{const r=Ez(n),a=m6(t,r.container());return mm(e,a,r).fold(()=>uc(a,r).bind(xt(mm,e,a)).map(c=>pc.before(c)),V.none)},_M=(e,t)=>xf(e,t)===null,p6=(e,t,n)=>mm(e,t,n).filter(xt(_M,t)),wM=(e,t,n)=>{const r=ld(n);return p6(e,t,r).bind(a=>zs(a,r).isNone()?V.some(pc.start(a)):V.none())},CM=(e,t,n)=>{const r=Ez(n);return p6(e,t,r).bind(a=>uc(a,r).isNone()?V.some(pc.end(a)):V.none())},SM=(e,t,n)=>{const r=ld(n),a=m6(t,r.container());return mm(e,a,r).fold(()=>zs(a,r).bind(xt(mm,e,a)).map(c=>pc.after(c)),V.none)},Z3=e=>!zC(W3(e)),Pf=(e,t,n)=>U3([kM,wM,CM,SM],[e,t,n]).filter(Z3),W3=e=>e.fold(zt,zt,zt,zt),q3=e=>e.fold(Ce("before"),Ce("start"),Ce("end"),Ce("after")),ew=e=>e.fold(pc.before,pc.before,pc.after,pc.after),G3=e=>e.fold(pc.start,pc.start,pc.end,pc.end),EM=(e,t)=>q3(e)===q3(t)&&W3(e)===W3(t),AM=(e,t,n,r,a,c)=>ma(mm(t,n,r),mm(t,n,a),(u,g)=>u!==g&&Sz(n,u,g)?pc.after(e?u:g):c).getOr(c),zM=(e,t)=>e.fold(Co,n=>!EM(n,t)),TM=(e,t,n,r,a)=>{const c=uu(e,a);return Bd(e,n,c).map(xt(uu,e)).fold(()=>r.map(ew),v=>Pf(t,n,v).map(xt(AM,e,t,n,c,v)).filter(xt(zM,r))).filter(Z3)},K3=(e,t)=>e?t.fold(Oo(V.some,pc.start),V.none,Oo(V.some,pc.after),V.none):t.fold(V.none,Oo(V.some,pc.before),V.none,Oo(V.some,pc.end)),Y3=(e,t,n,r)=>{const a=uu(e,r),c=Pf(t,n,a);return Pf(t,n,a).bind(xt(K3,e)).orThunk(()=>TM(e,t,n,c,r))},OM=e=>It(e.selection.getSel().modify),X3=(e,t,n)=>{const r=e?1:-1;return t.setRng($e(n.container(),n.offset()+r).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},DM=(e,t)=>{const n=t.selection.getRng(),r=e?$e.fromRangeEnd(n):$e.fromRangeStart(n);return OM(t)?e&&V1(r)?X3(!0,t.selection,r):!e&&dh(r)?X3(!1,t.selection,r):!1:!1};var ym;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(ym||(ym={}));const tw=(e,t)=>e===-1?Os(t):t,RM=(e,t,n)=>e===1?t.next(n):t.prev(n),NM=(e,t,n,r)=>ls(r.getNode(t===1))?ym.Br:lm(n,r)===!1?ym.Block:ym.Wrap,g6=(e,t,n,r)=>{const a=Fu(n);let c=r;const u=[];for(;c;){const g=RM(t,a,c);if(!g)break;if(ls(g.getNode(!1)))return t===1?{positions:tw(t,u).concat([g]),breakType:ym.Br,breakAt:V.some(g)}:{positions:tw(t,u),breakType:ym.Br,breakAt:V.some(g)};if(!g.isVisible()){c=g;continue}if(e(c,g)){const v=NM(n,t,c,g);return{positions:tw(t,u),breakType:v,breakAt:V.some(g)}}u.push(g),c=g}return{positions:tw(t,u),breakType:ym.Eol,breakAt:V.none()}},h6=(e,t,n,r)=>t(n,r).breakAt.map(a=>{const c=t(n,a).positions;return e===-1?c.concat(a):[a].concat(c)}).getOr([]),J3=(e,t)=>mo(e,(n,r)=>n.fold(()=>V.some(r),a=>ma(mt(a.getClientRects()),mt(r.getClientRects()),(c,u)=>{const g=Math.abs(t-c.left);return Math.abs(t-u.left)<=g?r:a}).or(n)),V.none()),o1=(e,t)=>mt(t.getClientRects()).bind(n=>J3(e,n.left)),Lv=xt(g6,$e.isAbove,-1),Fv=xt(g6,$e.isBelow,1),b6=xt(h6,-1,Lv),Q3=xt(h6,1,Fv),Rg=(e,t)=>Lv(e,t).breakAt.isNone(),y6=(e,t)=>Fv(e,t).breakAt.isNone(),MM=e=>Zl(e).map(t=>[t].concat(Fv(e,t).positions)).getOr([]),BM=e=>Wl(e).map(t=>Lv(e,t).positions.concat(t)).getOr([]),dd=(e,t)=>o1(b6(e,t),t),v6=(e,t)=>o1(Q3(e,t),t),IM=Wr,x6=(e,t)=>Math.abs(e.left-t),k6=(e,t)=>Math.abs(e.right-t),PM=e=>Oa(e,"node"),_6=(e,t)=>ri(e,(n,r)=>{const a=Math.min(x6(n,t),k6(n,t)),c=Math.min(x6(r,t),k6(r,t));return c===a&&PM(r)&&IM(r.node)||c<a?r:n}),w6=e=>{const t=n=>$o(n,r=>{const a=od(r);return a.node=e,a});if(qt(e))return t(e.getClientRects());if(bt(e)){const n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}else return[]},C6=e=>Mn(e,w6);var ob;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(ob||(ob={}));const LM=(e,t,n,r)=>{let a=r;for(;a=_o(a,e,bx,t);)if(n(a))return},S6=(e,t,n,r,a,c)=>{let u=0;const g=[],v=B=>{let L=C6([B]);e===ob.Up&&(L=L.reverse());for(let G=0;G<L.length;G++){const ae=L[G];if(!n(ae,S)){if(g.length>0&&t(ae,ks(g))&&u++,ae.line=u,a(ae))return!0;g.push(ae)}}return!1},S=ks(c.getClientRects());if(!S)return g;const R=c.getNode();return R&&(v(R),LM(e,r,v,R)),g},FM=(e,t)=>t.line>e,n1=(e,t)=>t.line===e,E6=xt(S6,ob.Up,mf,pf),ow=xt(S6,ob.Down,pf,mf),nw=e=>ks(e.getClientRects()),A6=(e,t,n,r)=>{const a=Fu(t);let c,u,g,v;const S=[];let R=0;e===ob.Down?(c=a.next,u=pf,g=mf,v=$e.after(r)):(c=a.prev,u=mf,g=pf,v=$e.before(r));const B=nw(v);do{if(!v.isVisible())continue;const L=nw(v);if(g(L,B))continue;S.length>0&&u(L,ks(S))&&R++;const G=od(L);if(G.position=v,G.line=R,n(G))return S;S.push(G)}while(v=c(v));return S},e4=e=>t=>FM(e,t),t4=e=>t=>n1(e,t),vm=(e,t)=>{e.selection.setRng(t),H0(e,e.selection.getRng())},o4=(e,t,n)=>V.some(B3(e,t,n)),n4=(e,t,n,r,a,c)=>{const u=t===1,g=Fu(e.getBody()),v=xt(jx,u?g.next:g.prev),S=u?r:a;if(!n.collapsed){const ae=Qp(n);if(c(ae))return Bf(t,e,ae,t===-1,!1);if(L3(e)){const J=n.cloneRange();return J.collapse(t===-1),V.from(J)}}const R=p0(t,e.getBody(),n);if(S(R))return Pv(e,R.getNode(!u));let B=v(R);const L=$1(n);if(B)B=uu(u,B);else return L?V.some(n):V.none();if(S(B))return Bf(t,e,B.getNode(!u),u,!1);const G=v(B);return G&&S(G)&&_h(B,G)?Bf(t,e,G.getNode(!u),u,!1):L?o4(e,B.toRange(),!1):V.none()},r4=(e,t,n,r,a,c)=>{const u=p0(t,e.getBody(),n),g=ks(u.getClientRects()),v=t===ob.Down,S=e.getBody();if(!g)return V.none();if(L3(e)){const ie=v?$e.fromRangeEnd(n):$e.fromRangeStart(n);return(v?v6:dd)(S,ie).orThunk(()=>V.from(ie)).map(Se=>Se.toRange())}const B=(v?ow:E6)(S,e4(1),u),L=Ye(B,t4(1)),G=g.left,ae=_6(L,G);if(ae&&c(ae.node)){const ie=Math.abs(G-ae.left),he=Math.abs(G-ae.right);return Bf(t,e,ae.node,ie<he,!1)}let J;if(r(u)?J=u.getNode():a(u)?J=u.getNode(!0):J=Qp(n),J){const ie=A6(t,S,e4(1),J);let he=_6(Ye(ie,t4(1)),G);if(he||(he=ks(Ye(ie,t4(0))),he))return o4(e,he.position.toRange(),!1)}return L.length===0?rw(e,v).filter(v?a:r).map(ie=>B3(e,ie.toRange(),!1)):V.none()},rw=(e,t)=>{const n=e.selection.getRng(),r=t?$e.fromRangeEnd(n):$e.fromRangeStart(n),a=PE(r.container(),e.getBody());if(t){const c=Fv(a,r);return io(c.positions)}else{const c=Lv(a,r);return mt(c.positions)}},s4=(e,t,n)=>rw(e,t).filter(n).exists(r=>(e.selection.setRng(r.toRange()),!0)),Hv=(e,t)=>{const n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},a4=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},sw=(e,t,n)=>j3(t,n).map(r=>(Hv(e,r),n)),z6=(e,t,n)=>{const r=$e.fromRangeStart(e);if(e.collapsed)return r;{const a=$e.fromRangeEnd(e);return n?zs(t,a).getOr(a):uc(t,r).getOr(r)}},T6=(e,t,n)=>{const r=e.getBody(),a=z6(e.selection.getRng(),r,n),c=xt(yp,e);return Y3(n,c,r,a).bind(g=>sw(e,t,g))},O6=(e,t,n)=>{const r=$o(Cs(me.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),u=>u.dom),a=Ye(r,e),c=Ye(n,e);Ne(Fn(a,c),xt(a4,!1)),Ne(Fn(c,a),xt(a4,!0))},D6=(e,t)=>{const n=t.get();if(e.selection.isCollapsed()&&!e.composing&&n){const r=$e.fromRangeStart(e.selection.getRng());$e.isTextPosition(r)&&!TC(r)&&(Hv(e,NE(n,r)),t.set(null))}},R6=(e,t,n,r)=>{if(t.selection.isCollapsed()){const a=Ye(r,e);Ne(a,c=>{const u=$e.fromRangeStart(t.selection.getRng());Pf(e,t.getBody(),u).bind(g=>sw(t,n,g))})}},i4=(e,t,n)=>yf(e)?T6(e,t,n).isSome():!1,l4=(e,t,n)=>yf(t)?DM(e,t):!1,c4=e=>{const t=yr(null),n=xt(yp,e);return e.on("NodeChange",r=>{yf(e)&&(O6(n,e.dom,r.parents),D6(e,t),R6(n,e,t,r.parents))}),t},d4=xt(l4,!0),aw=xt(l4,!1),Vv=(e,t,n)=>{if(yf(e)){const r=rw(e,t).getOrThunk(()=>{const a=e.selection.getRng();return t?$e.fromRangeEnd(a):$e.fromRangeStart(a)});return Pf(xt(yp,e),e.getBody(),r).exists(a=>{const c=ew(a);return j3(n,c).exists(u=>(Hv(e,u),!0))})}else return!1},N6=(e,t)=>{const n=document.createRange();return n.setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n},M6=e=>ma(Zl(e),Wl(e),(t,n)=>{const r=uu(!0,t),a=uu(!1,n);return uc(e,r).forall(c=>c.isEqual(a))}).getOr(!0),iw=(e,t)=>n=>j3(t,n).map(r=>()=>Hv(e,r)),u4=(e,t,n,r)=>{const a=e.getBody(),c=xt(yp,e);e.undoManager.ignore(()=>{e.selection.setRng(N6(n,r)),Vk(e),Pf(c,a,$e.fromRangeStart(e.selection.getRng())).map(G3).bind(iw(e,t)).each(gn)}),e.nodeChanged()},B6=(e,t)=>{const n=sg(t,e);return n||e},I6=(e,t,n,r)=>{const a=B6(e.getBody(),r.container()),c=xt(yp,e),u=Pf(c,a,r);return u.bind(v=>n?v.fold(Ce(V.some(G3(v))),V.none,Ce(V.some(ew(v))),V.none):v.fold(V.none,Ce(V.some(ew(v))),V.none,Ce(V.some(G3(v))))).map(iw(e,t)).getOrThunk(()=>{const v=Xb(n,a,r),S=v.bind(R=>Pf(c,a,R));return ma(u,S,()=>mm(c,a,r).bind(R=>M6(R)?V.some(()=>{gg(e,n,me.fromDom(R))}):V.none())).getOrThunk(()=>S.bind(()=>v.map(R=>()=>{n?u4(e,t,r,R):u4(e,t,R,r)})))})},f4=(e,t,n)=>{if(e.selection.isCollapsed()&&yf(e)){const r=$e.fromRangeStart(e.selection.getRng());return I6(e,t,n,r)}return V.none()},P6=e=>Wc(e)>1,m4=(e,t)=>{const n=me.fromDom(e.getBody()),r=me.fromDom(e.selection.getStart()),a=fm(r,n);return Jn(a,t).fold(Ce(a),c=>a.slice(0,c))},lw=e=>Wc(e)===1,L6=e=>m4(e,t=>e.schema.isBlock(cn(t))||P6(t)),F6=e=>m4(e,t=>e.schema.isBlock(cn(t))),cw=(e,t)=>{const n=xt(vT,e);return Mn(t,r=>n(r)?[r.dom]:[])},H6=e=>{const t=F6(e);return cw(e,t)},V6=(e,t,n,r)=>{const a=cw(t,r);if(a.length===0)gg(t,e,n);else{const c=eS(n.dom,a);t.selection.setRng(c.toRange())}},HM=(e,t)=>{const n=Ye(L6(e),lw);return io(n).bind(r=>{const a=$e.fromRangeStart(e.selection.getRng());return Az(t,a,r.dom)&&!A2(r)?V.some(()=>V6(t,e,r,n)):V.none()})},$6=(e,t)=>{const n=t.parentElement;return ls(t)&&!lt(n)&&e.dom.isEmpty(n)},j6=e=>A2(me.fromDom(e)),U6=(e,t)=>{const n=e.selection.getStart(),r=$6(e,n)||j6(n)?eS(n,t):r_(e.selection.getRng(),t);e.selection.setRng(r.toRange())},VM=(e,t)=>{const n=Fn(t,H6(e));n.length>0&&U6(e,n)},Z6=e=>bt(e.startContainer),o=e=>e.startOffset===0&&Z6(e),s=(e,t)=>{const n=t.startContainer.parentElement;return!lt(n)&&vT(e,me.fromDom(n))},i=e=>{const t=e.startContainer.parentNode,n=e.endContainer.parentNode;return!lt(t)&&!lt(n)&&t.isEqualNode(n)},l=e=>{const t=e.endContainer;return e.endOffset===(bt(t)?t.length:t.childNodes.length)},d=e=>i(e)&&l(e),f=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),p=e=>d(e)||f(e),b=e=>{const t=e.selection.getRng();return o(t)&&s(e,t)&&p(t)},y=e=>{if(b(e)){const t=H6(e);return V.some(()=>{Vk(e),VM(e,t)})}else return V.none()},_=(e,t)=>e.selection.isCollapsed()?HM(e,t):y(e),A=(e,t)=>Su(e,n=>Va(n.dom),n=>t.isBlock(cn(n))),w=e=>A(me.fromDom(e.selection.getStart()),e.schema),O=e=>{const t=e.selection.getRng();return t.collapsed&&(Z6(t)||e.dom.isEmpty(t.startContainer))&&!w(e)},I=e=>(O(e)&&U6(e,[]),!0),F=(e,t,n)=>Le(n)?V.some(()=>{e._selectionOverrides.hideFakeCaret(),gg(e,t,me.fromDom(n))}):V.none(),K=(e,t)=>{const n=t?mg:U0,a=p0(t?1:-1,e.getBody(),e.selection.getRng());return n(a)?F(e,t,a.getNode(!t)):V.from(uu(t,a)).filter(c=>n(c)&&_h(a,c)).bind(c=>F(e,t,c.getNode(!t)))},Q=(e,t)=>{const n=e.selection.getNode();return hl(n)?F(e,t,n):V.none()},oe=(e,t)=>e.selection.isCollapsed()?K(e,t):Q(e,t),W=e=>ea(e,t=>Hi(t.dom)||Wr(t.dom)).exists(t=>Hi(t.dom)),Z=e=>Qn(e??"").getOr(0),ne=(e,t)=>{const n=e||Db(t)?"margin":"padding",r=er(t,"direction")==="rtl"?"-right":"-left";return n+r},se=(e,t,n,r,a,c)=>{const u=ne(n,me.fromDom(c)),g=Z(e.getStyle(c,u));if(t==="outdent"){const v=Math.max(0,g-r);e.setStyle(c,u,v?v+a:"")}else{const v=g+r+a;e.setStyle(c,u,v)}},re=(e,t)=>wr(t,n=>{const r=ne(Gn(e),n),a=Ya(n,r).map(Z).getOr(0);return e.dom.getContentEditable(n.dom)!=="false"&&a>0}),ye=e=>{const t=Fe(e);return!e.mode.isReadOnly()&&(t.length>1||re(e,t))},Ae=e=>Jm(e)||ff(e),Ue=e=>Wa(e).exists(Ae),Fe=e=>Ye(mi(e.selection.getSelectedBlocks()),t=>!Ae(t)&&!Ue(t)&&W(t)),qe=(e,t)=>{var n,r;if(e.mode.isReadOnly())return;const{dom:a}=e,c=jD(e),u=(r=(n=/[a-z%]+$/i.exec(c))===null||n===void 0?void 0:n[0])!==null&&r!==void 0?r:"px",g=Z(c),v=Gn(e);Ne(Fe(e),S=>{se(a,t,v,g,u,S.dom)})},nt=e=>qe(e,"indent"),Mt=e=>qe(e,"outdent"),Xt=e=>{if(e.selection.isCollapsed()&&ye(e)){const t=e.dom,n=e.selection.getRng(),r=$e.fromRangeStart(n),a=t.getParent(n.startContainer,t.isBlock);if(a!==null&&xy(me.fromDom(a),r,e.schema))return V.some(()=>Mt(e))}return V.none()},uo=(e,t,n)=>Rs([Xt,F3,I3,(r,a)=>f4(r,t,a),R3,BC,V3,oe,J_,_,H3],r=>r(e,n)).filter(r=>e.selection.isEditable()),No=(e,t)=>{uo(e,t,!1).fold(()=>{e.selection.isEditable()&&(Vk(e),X0(e))},gn)},en=(e,t)=>{uo(e,t,!0).fold(()=>{e.selection.isEditable()&&K0(e)},gn)},ns=(e,t)=>{e.addCommand("delete",()=>{No(e,t)}),e.addCommand("forwardDelete",()=>{en(e,t)})},Qr=5,Vn=400,fn=e=>e.touches===void 0||e.touches.length!==1?V.none():V.some(e.touches[0]),fo=(e,t)=>{const n=Math.abs(e.clientX-t.x),r=Math.abs(e.clientY-t.y);return n>Qr||r>Qr},Tr=e=>{const t=cs(),n=yr(!1),r=qs(a=>{e.dispatch("longpress",{...a,type:"longpress"}),n.set(!0)},Vn);e.on("touchstart",a=>{fn(a).each(c=>{r.cancel();const u={x:c.clientX,y:c.clientY,target:a.target};r.throttle(a),n.set(!1),t.set(u)})},!0),e.on("touchmove",a=>{r.cancel(),fn(a).each(c=>{t.on(u=>{fo(c,u)&&(t.clear(),n.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",a=>{r.cancel(),a.type!=="touchcancel"&&t.get().filter(c=>c.target.isEqualNode(a.target)).each(()=>{n.get()?a.preventDefault():e.dispatch("tap",{...a,type:"tap"})})},!0)},dr=(e,t)=>go(e,t.nodeName),Gi=(e,t)=>bt(t)?!0:qt(t)?!dr(e.getBlockElements(),t)&&!Id(t)&&!ba(e,t)&&!z(t):!1,Or=(e,t,n)=>zn(Tk(me.fromDom(n),me.fromDom(t)),r=>dr(e,r.dom)),Aa=(e,t)=>{if(bt(t)){if(t.data.length===0)return!0;if(/^\s+$/.test(t.data))return!t.nextSibling||dr(e,t.nextSibling)||z(t.nextSibling)}return!1},va=e=>e.dom.create(Ul(e),n0(e)),Ng=e=>{const t=e.dom,n=e.selection,r=e.schema,a=r.getBlockElements(),c=n.getStart(),u=e.getBody();let g,v,S=null;const R=Ul(e);if(!c||!qt(c))return;const B=u.nodeName.toLowerCase();if(!r.isValidChild(B,R.toLowerCase())||Or(a,u,c))return;if(u.firstChild===u.lastChild&&ls(u.firstChild)){g=va(e),g.appendChild(td().dom),u.replaceChild(g,u.firstChild),e.selection.setCursorLocation(g,0),e.nodeChanged();return}let L=u.firstChild;for(;L;)if(qt(L)&&Cc(r,L),Gi(r,L)){if(Aa(a,L)){v=L,L=L.nextSibling,t.remove(v);continue}if(!g){if(!S&&e.hasFocus()&&(S=i6(e.selection.getRng(),()=>document.createElement("span"))),!L.parentNode){L=null;break}g=va(e),u.insertBefore(g,L)}v=L,L=L.nextSibling,g.appendChild(v)}else g=null,L=L.nextSibling;S&&(e.selection.setRng(l6(S)),e.nodeChanged())},Mg=(e,t,n)=>{const r=me.fromDom(va(e)),a=td();lr(r,a),n(t,r);const c=document.createRange();return c.setStartBefore(a.dom),c.setEndBefore(a.dom),c},dw=e=>{e.on("NodeChange",()=>Ng(e))},$v=e=>t=>(" "+t.attr("class")+" ").indexOf(e)!==-1,Bg=(e,t,n)=>function(r){const a=arguments,c=a[a.length-2],u=c>0?t.charAt(c-1):"";if(u==='"')return r;if(u===">"){const g=t.lastIndexOf("<",c);if(g!==-1&&t.substring(g,c).indexOf('contenteditable="false"')!==-1)return r}return'<span class="'+n+'" data-mce-content="'+e.dom.encode(a[0])+'">'+e.dom.encode(typeof a[1]=="string"?a[1]:a[0])+"</span>"},Ig=(e,t,n)=>{let r=t.length,a=n.content;if(n.format!=="raw"){for(;r--;)a=a.replace(t[r],Bg(e,a,hE(e)));n.content=a}},xm=(e,t)=>wr(e,n=>{const r=t.match(n);return r!==null&&r[0].length===t.length}),r1=e=>{const t="contenteditable",n=" "+ht.trim(bE(e))+" ",r=" "+ht.trim(hE(e))+" ",a=$v(n),c=$v(r),u=yE(e);u.length>0&&e.on("BeforeSetContent",g=>{Ig(e,u,g)}),e.parser.addAttributeFilter("class",g=>{let v=g.length;for(;v--;){const S=g[v];a(S)?S.attr(t,"true"):c(S)&&S.attr(t,"false")}}),e.serializer.addAttributeFilter(t,g=>{let v=g.length;for(;v--;){const S=g[v];if(!a(S)&&!c(S))continue;const R=S.attr("data-mce-content");u.length>0&&R?xm(u,R)?(S.name="#text",S.type=3,S.raw=!0,S.value=R):S.remove():S.attr(t,null)}})},s1=e=>Ke(me.fromDom(e.getBody()),"*[data-mce-caret]").map(t=>t.dom).getOrNull(),km=(e,t)=>{t.hasAttribute("data-mce-caret")&&(Xp(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},a1=(e,t)=>{const n=s1(e);if(n){if(t.type==="compositionstart"){t.preventDefault(),t.stopPropagation(),km(e,n);return}Nb(n)&&(km(e,n),e.undoManager.add())}},i1=e=>{e.on("keyup compositionstart",xt(a1,e))},l1=Wr,jv=(e,t,n)=>n4(t,e,n,um,gp,l1),c1=(e,t,n)=>r4(t,e,n,c=>um(c)||az(c),c=>gp(c)||pp(c),l1),Pg=e=>{const t=e.dom.create(Ul(e));return t.innerHTML='<br data-mce-bogus="1">',t},_m=(e,t,n)=>{const r=Fu(e.getBody()),a=xt(jx,t===1?r.next:r.prev);if(n.collapsed){const c=e.dom.getParent(n.startContainer,"PRE");if(!c)return;if(!a($e.fromRangeStart(n))){const g=me.fromDom(Pg(e));t===1?oc(me.fromDom(c),g):is(me.fromDom(c),g),e.selection.select(g.dom,!0),e.selection.collapse()}}},Cn=(e,t)=>{const n=t?1:-1,r=e.selection.getRng();return jv(n,e,r).orThunk(()=>(_m(e,n,r),V.none()))},Lg=(e,t)=>{const n=t?1:-1,r=e.selection.getRng();return c1(n,e,r).orThunk(()=>(_m(e,n,r),V.none()))},Lf=(e,t)=>{const n=t?e.getEnd(!0):e.getStart(!0);return zC(n)?!t:t},p4=(e,t)=>Cn(e,Lf(e.selection,t)).exists(n=>(vm(e,n),!0)),uw=(e,t)=>Lg(e,t).exists(n=>(vm(e,n),!0)),g4=(e,t)=>s4(e,t,t?gp:um),nb=(e,t)=>P3(e,!t).map(n=>{const r=n.toRange(),a=e.selection.getRng();return t?r.setStart(a.startContainer,a.startOffset):r.setEnd(a.endContainer,a.endOffset),r}).exists(n=>(vm(e,n),!0)),fw=e=>Wo(["figcaption"],cn(e)),Op=(e,t,n)=>{const r=xt(rn,t);return ea(me.fromDom(e.container()),a=>n.isBlock(cn(a)),r).filter(fw)},d1=(e,t,n)=>t?y6(e.dom,n):Rg(e.dom,n),h4=(e,t)=>{const n=me.fromDom(e.getBody()),r=$e.fromRangeStart(e.selection.getRng());return Op(r,n,e.schema).exists(()=>{if(d1(n,t,r)){const c=Mg(e,n,t?lr:Er);return e.selection.setRng(c),!0}else return!1})},mw=(e,t)=>e.selection.isCollapsed()?h4(e,t):!1,$M=(e,t,n)=>{const r=e.selection.getRng(),a=$e.fromRangeStart(r);return e.getBody().firstChild===t&&Rg(n,a)?(e.execCommand("InsertNewBlockBefore"),!0):!1},pw=(e,t)=>{const n=e.selection.getRng(),r=$e.fromRangeStart(n);return e.getBody().lastChild===t&&y6(t,r)?(e.execCommand("InsertNewBlockAfter"),!0):!1},gw=(e,t)=>t?V.from(e.dom.getParent(e.selection.getNode(),"details")).map(n=>pw(e,n)).getOr(!1):V.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(n=>V.from(e.dom.getParent(n,"details")).map(r=>$M(e,r,n))).getOr(!1),W6=(e,t)=>gw(e,t),u1={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},jM=e=>$o(e,t=>({...u1,...t})),Kl=e=>$o(e,t=>({...u1,...t})),rb=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,UM=(e,t)=>Mn(jM(e),n=>rb(n,t)?[n]:[]),q6=(e,t)=>Mn(Kl(e),n=>rb(n,t)?[n]:[]),Eo=(e,...t)=>()=>e.apply(null,t),f1=(e,t)=>Sn(UM(e,t),n=>n.action()),b4=(e,t)=>Rs(q6(e,t),n=>n.action()),Ff=(e,t)=>{const n=t?1:-1,r=e.selection.getRng();return n4(e,n,r,mg,U0,hl).exists(a=>(vm(e,a),!0))},m1=(e,t)=>{const n=t?1:-1,r=e.selection.getRng();return r4(e,n,r,mg,U0,hl).exists(a=>(vm(e,a),!0))},y4=(e,t)=>s4(e,t,t?U0:mg),v4=jt.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),p1={...v4,none:e=>v4.none(e)},Dp=(e,t)=>x4(e,t,Co),x4=(e,t,n)=>Mn(qa(e),r=>Hn(r,t)?n(r)?[r]:[]:x4(r,t,n)),K6=(e,t,n=an)=>{if(n(t))return V.none();if(Wo(e,cn(t)))return V.some(t);const r=a=>Hn(a,"table")||n(a);return qc(t,e.join(","),r)},Y6=(e,t)=>K6(["td","th"],e,t),X6=e=>Dp(e,"th,td"),J6=(e,t)=>oa(e,"table",t),Oe=(e,t,n,r,a=Co)=>{const c=r===1;if(!c&&n<=0)return p1.first(e[0]);if(c&&n>=e.length-1)return p1.last(e[e.length-1]);{const u=n+r,g=e[u];return a(g)?p1.middle(t,g):Oe(e,t,u,r,a)}},Vo=(e,t)=>J6(e,t).bind(n=>{const r=X6(n);return Jn(r,c=>rn(e,c)).map(c=>({index:c,all:r}))}),wo=(e,t,n)=>Vo(e,n).fold(()=>p1.none(e),a=>Oe(a.all,e,a.index,1,t)),rs=(e,t,n)=>Vo(e,n).fold(()=>p1.none(),a=>Oe(a.all,e,a.index,-1,t)),Ts=e=>ih(e).filter(t=>t.trim().length!==0||t.indexOf(Fs)>-1).isSome(),Fr=e=>ui(e)&&Ia(e,"contenteditable")==="false",Sl=["img","br"],Rp=e=>Ts(e)||Wo(Sl,cn(e))||Fr(e),wm=e=>ta(e,Rp),gc=(e,t)=>({left:e.left-t,top:e.top-t,right:e.right+t*2,bottom:e.bottom+t*2,width:e.width+t,height:e.height+t}),ZM=(e,t)=>Mn(t,n=>{const r=gc(od(n.getBoundingClientRect()),-1);return[{x:r.left,y:e(r),cell:n},{x:r.right,y:e(r),cell:n}]}),Q6=(e,t,n)=>mo(e,(r,a)=>r.fold(()=>V.some(a),c=>{const u=Math.sqrt(Math.abs(c.x-t)+Math.abs(c.y-n)),g=Math.sqrt(Math.abs(a.x-t)+Math.abs(a.y-n));return V.some(g<u?a:c)}),V.none()),k4=(e,t,n,r,a)=>{const c=Cs(me.fromDom(n),"td,th,caption").map(g=>g.dom),u=Ye(ZM(e,c),g=>t(g,a));return Q6(u,r,a).map(g=>g.cell)},OF=e=>e.bottom,DF=e=>e.top,RF=(e,t)=>e.y<t,NF=(e,t)=>e.y>t,MF=xt(k4,OF,RF),BF=xt(k4,DF,NF),IF=(e,t)=>mt(t.getClientRects()).bind(n=>MF(e,n.left,n.top)).bind(n=>o1(BM(n),t)),PF=(e,t)=>io(t.getClientRects()).bind(n=>BF(e,n.left,n.top)).bind(n=>o1(MM(n),t)),LF=(e,t,n)=>n.breakAt.exists(r=>e(t,r).breakAt.isSome()),FF=e=>e.breakType===ym.Wrap&&e.positions.length===0,HF=e=>e.breakType===ym.Br&&e.positions.length===1,KB=(e,t,n)=>{const r=e(t,n);return FF(r)||!ls(n.getNode())&&HF(r)?!LF(e,t,r):r.breakAt.isNone()},VF=xt(KB,Lv),$F=xt(KB,Fv),jF=(e,t,n)=>{const r=$e.fromRangeStart(t);return Sh(!e,n).exists(a=>a.isEqual(r))},UF=(e,t,n,r)=>{const a=e.selection.getRng(),c=t?1:-1;return BE()&&jF(t,a,n)?(Bf(c,e,n,!t,!1).each(u=>{vm(e,u)}),!0):!1},ZF=(e,t,n)=>IF(t,n).orThunk(()=>mt(n.getClientRects()).bind(r=>J3(b6(e,$e.before(t)),r.left))).getOr($e.before(t)),WF=(e,t,n)=>PF(t,n).orThunk(()=>mt(n.getClientRects()).bind(r=>J3(Q3(e,$e.after(t)),r.left))).getOr($e.after(t)),YB=(e,t)=>{const n=t.getNode(e);return Jc(n)?V.some(n):V.none()},qF=(e,t,n)=>{t.undoManager.transact(()=>{const r=e?oc:is,a=Mg(t,me.fromDom(n),r);vm(t,a)})},XB=(e,t,n)=>{const r=YB(!!t,n),a=t===!1;r.fold(()=>vm(e,n.toRange()),c=>Sh(a,e.getBody()).filter(u=>u.isEqual(n)).fold(()=>vm(e,n.toRange()),u=>qF(t,e,c)))},GF=(e,t,n,r)=>{const a=e.selection.getRng(),c=$e.fromRangeStart(a),u=e.getBody();if(!t&&VF(r,c)){const g=ZF(u,n,c);return XB(e,t,g),!0}else if(t&&$F(r,c)){const g=WF(u,n,c);return XB(e,t,g),!0}else return!1},JB=(e,t,n)=>V.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(r=>V.from(e.dom.getParent(r,"table")).map(a=>n(e,t,a,r))).getOr(!1),QB=(e,t)=>JB(e,t,UF),WM=(e,t)=>JB(e,t,GF),KF=e=>{const t=Nh.exact(e,0,e,0);return fp(t)},eI=(e,t,n)=>n.fold(V.none,V.none,(r,a)=>wm(a).map(c=>KF(c)),r=>e.mode.isReadOnly()?V.none():(e.execCommand("mceTableInsertRowAfter"),tI(e,t,r))),tI=(e,t,n)=>eI(e,t,wo(n,ga)),YF=(e,t,n)=>eI(e,t,rs(n,ga)),oI=(e,t)=>{const n=["table","li","dl"],r=me.fromDom(e.getBody()),a=g=>{const v=cn(g);return rn(g,r)||Wo(n,v)},c=e.selection.getRng(),u=me.fromDom(t?c.endContainer:c.startContainer);return Y6(u,a).map(g=>(J6(g,a).each(R=>{e.model.table.clearSelectedCells(R.dom)}),e.selection.collapse(!t),(t?tI:YF)(e,a,g).each(R=>{e.selection.setRng(R)}),!0)).getOr(!1)},XF=(e,t,n)=>{const r=Nt.os.isMacOS()||Nt.os.isiOS();f1([{keyCode:Ht.RIGHT,action:Eo(p4,e,!0)},{keyCode:Ht.LEFT,action:Eo(p4,e,!1)},{keyCode:Ht.UP,action:Eo(uw,e,!1)},{keyCode:Ht.DOWN,action:Eo(uw,e,!0)},...r?[{keyCode:Ht.UP,action:Eo(nb,e,!1),metaKey:!0,shiftKey:!0},{keyCode:Ht.DOWN,action:Eo(nb,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:Ht.RIGHT,action:Eo(QB,e,!0)},{keyCode:Ht.LEFT,action:Eo(QB,e,!1)},{keyCode:Ht.UP,action:Eo(WM,e,!1)},{keyCode:Ht.DOWN,action:Eo(WM,e,!0)},{keyCode:Ht.UP,action:Eo(WM,e,!1)},{keyCode:Ht.UP,action:Eo(W6,e,!1)},{keyCode:Ht.DOWN,action:Eo(W6,e,!0)},{keyCode:Ht.RIGHT,action:Eo(Ff,e,!0)},{keyCode:Ht.LEFT,action:Eo(Ff,e,!1)},{keyCode:Ht.UP,action:Eo(m1,e,!1)},{keyCode:Ht.DOWN,action:Eo(m1,e,!0)},{keyCode:Ht.RIGHT,action:Eo(i4,e,t,!0)},{keyCode:Ht.LEFT,action:Eo(i4,e,t,!1)},{keyCode:Ht.RIGHT,ctrlKey:!r,altKey:r,action:Eo(d4,e,t)},{keyCode:Ht.LEFT,ctrlKey:!r,altKey:r,action:Eo(aw,e,t)},{keyCode:Ht.UP,action:Eo(mw,e,!1)},{keyCode:Ht.DOWN,action:Eo(mw,e,!0)}],n).each(a=>{n.preventDefault()})},JF=(e,t)=>{e.on("keydown",n=>{n.isDefaultPrevented()||XF(e,t,n)})},Np=(e,t)=>({container:e,offset:t}),eD=qn.DOM,tD=e=>t=>e===t?-1:0,QF=e=>t=>e.isBlock(t)||Wo(["BR","IMG","HR","INPUT"],t.nodeName)||e.getContentEditable(t)==="false",qM=(e,t,n)=>{if(bt(e)&&t>=0)return V.some(Np(e,t));{const r=au(eD);return V.from(r.backwards(e,t,tD(e),n)).map(a=>Np(a.container,a.container.data.length))}},eH=(e,t,n)=>{if(bt(e)&&t>=e.length)return V.some(Np(e,t));{const r=au(eD);return V.from(r.forwards(e,t,tD(e),n)).map(a=>Np(a.container,0))}},GM=(e,t,n)=>{if(!bt(e))return V.none();const r=e.data;if(t>=0&&t<=r.length)return V.some(Np(e,t));{const a=au(eD);return V.from(a.backwards(e,t,tD(e),n)).bind(c=>{const u=c.container.data;return GM(c.container,t+u.length,n)})}},nI=(e,t,n)=>{if(!bt(e))return V.none();const r=e.data;if(t<=r.length)return V.some(Np(e,t));{const a=au(eD);return V.from(a.forwards(e,t,tD(e),n)).bind(c=>nI(c.container,t-r.length,n))}},KM=(e,t,n,r,a)=>{const c=au(e,QF(e));return V.from(c.backwards(t,n,r,a))},tH=e=>e.collapsed&&bt(e.startContainer),oH=e=>Zi(e.toString().replace(/\u00A0/g," ")),rI=e=>e!==""&&`  \uFEFF\f
\r	\v`.indexOf(e)!==-1,nH=(e,t)=>e.substring(t.length),rH=(e,t,n,r=!1)=>{let a;const c=n.charAt(0);for(a=t-1;a>=0;a--){const u=e.charAt(a);if(!r&&rI(u))return V.none();if(c===u&&pr(e,n,a,t))break}return V.some(a)},YM=(e,t,n,r=!1)=>{if(!tH(t))return V.none();const a={text:"",offset:0},c=(g,v,S)=>(a.text=S+a.text,a.offset+=v,rH(a.text,a.offset,n,r).getOr(v)),u=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return KM(e,t.startContainer,t.startOffset,c,u).bind(g=>{const v=t.cloneRange();if(v.setStart(g.container,g.offset),v.setEnd(t.endContainer,t.endOffset),v.collapsed)return V.none();const S=oH(v);return S.lastIndexOf(n)!==0?V.none():V.some({text:nH(S,n),range:v,trigger:n})})},sH=e=>e.nodeType===bc,aH=e=>e.nodeType===yd,sI=e=>{if(sH(e))return Np(e,e.data.length);{const t=e.childNodes;return t.length>0?sI(t[t.length-1]):Np(e,t.length)}},aI=(e,t)=>{const n=e.childNodes;return n.length>0&&t<n.length?aI(n[t],0):n.length>0&&aH(e)&&n.length===t?sI(n[n.length-1]):Np(e,t)},iH=(e,t)=>{var n;const r=(n=e.getParent(t.container,e.isBlock))!==null&&n!==void 0?n:e.getRoot();return KM(e,t.container,t.offset,(a,c)=>c===0?-1:c,r).filter(a=>{const c=a.container.data.charAt(a.offset-1);return!rI(c)}).isSome()},lH=e=>t=>{const n=aI(t.startContainer,t.startOffset);return!iH(e,n)},cH=(e,t,n)=>Rs(n.triggers,r=>YM(e,t,r)),dH=(e,t)=>{const n=t(),r=e.selection.getRng();return cH(e.dom,r,n).bind(a=>iI(e,t,a))},iI=(e,t,n,r={})=>{var a;const c=t(),g=(a=e.selection.getRng().startContainer.nodeValue)!==null&&a!==void 0?a:"",v=Ye(c.lookupByTrigger(n.trigger),R=>n.text.length>=R.minChars&&R.matches.getOrThunk(()=>lH(e.dom))(n.range,g,n.text));if(v.length===0)return V.none();const S=Promise.all($o(v,R=>R.fetch(n.text,R.maxResults,r).then(L=>({matchText:n.text,items:L,columns:R.columns,onAction:R.onAction,highlightOn:R.highlightOn}))));return V.some({lookupData:S,context:n})};var Hf;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(Hf||(Hf={}));const XM=(e,t,n)=>e.stype===Hf.Error?t(e.serror):n(e.svalue),uH=e=>{const t=[],n=[];return Ne(e,r=>{XM(r,a=>n.push(a),a=>t.push(a))}),{values:t,errors:n}},fH=(e,t)=>e.stype===Hf.Error?{stype:Hf.Error,serror:t(e.serror)}:e,mH=(e,t)=>e.stype===Hf.Value?{stype:Hf.Value,svalue:t(e.svalue)}:e,pH=(e,t)=>e.stype===Hf.Value?t(e.svalue):e,gH=(e,t)=>e.stype===Hf.Error?t(e.serror):e,lI=e=>({stype:Hf.Value,svalue:e}),cI=e=>({stype:Hf.Error,serror:e}),Yl={fromResult:e=>e.fold(cI,lI),toResult:e=>XM(e,dt.error,dt.value),svalue:lI,partition:uH,serror:cI,bind:pH,bindError:gH,map:mH,mapError:fH,fold:XM},JM=e=>le(e)&&Je(e).length>100?" removed due to size":JSON.stringify(e,null,2),hH=e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:Ce("... (only showing first ten failures)")}]):e;return $o(t,n=>"Failed path: ("+n.path.join(" > ")+`)
`+n.getErrorInfo())},oD=(e,t)=>Yl.serror([{path:e,getErrorInfo:t}]),bH=(e,t,n)=>oD(e,()=>'Could not find valid *required* value for "'+t+'" in '+JM(n)),yH=(e,t)=>oD(e,()=>'Choice schema did not contain choice key: "'+t+'"'),vH=(e,t,n)=>oD(e,()=>'The chosen schema: "'+n+'" did not exist in branches: '+JM(t)),xH=(e,t)=>oD(e,Ce(t)),kH=(e,t,n,r)=>Bn(n,r).fold(()=>vH(e,n,r),c=>c.extract(e.concat(["branch: "+r]),t)),_H=(e,t)=>({extract:(a,c)=>Bn(c,e).fold(()=>yH(a,e),g=>kH(a,c,t,g)),toString:()=>"chooseOn("+e+"). Possible values: "+Je(t)}),wH=(e,t)=>t,CH=(e,t)=>Tt(e)&&Tt(t)?nD(e,t):t,dI=e=>(...t)=>{if(t.length===0)throw new Error("Can't merge zero objects");const n={};for(let r=0;r<t.length;r++){const a=t[r];for(const c in a)go(a,c)&&(n[c]=e(n[c],a[c]))}return n},nD=dI(CH),uI=dI(wH),QM=()=>({tag:"required",process:{}}),SH=e=>({tag:"defaultedThunk",process:e}),fI=e=>SH(Ce(e)),EH=()=>({tag:"option",process:{}}),AH=(e,t)=>e.length>0?Yl.svalue(nD(t,uI.apply(void 0,e))):Yl.svalue(t),mI=e=>Oo(Yl.serror,Tn)(e),pI={consolidateObj:(e,t)=>{const n=Yl.partition(e);return n.errors.length>0?mI(n.errors):AH(n.values,t)},consolidateArr:e=>{const t=Yl.partition(e);return t.errors.length>0?mI(t.errors):Yl.svalue(t.values)}},zH=(e,t,n,r)=>({tag:"field",key:e,newKey:t,presence:n,prop:r}),TH=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),gI=(e,t,n)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return n(e.newKey,e.instantiator)}},eB=e=>{const t=(r,a)=>Yl.bindError(e(a),c=>xH(r,c)),n=Ce("val");return{extract:t,toString:n}},OH=eB(Yl.svalue),DH=(e,t,n,r)=>Bn(t,n).fold(()=>bH(e,n,t),r),hI=(e,t,n,r)=>{const a=Bn(e,t).getOrThunk(()=>n(e));return r(a)},RH=(e,t,n)=>n(Bn(e,t)),NH=(e,t,n,r)=>{const a=Bn(e,t).map(c=>c===!0?n(e):c);return r(a)},MH=(e,t,n,r,a)=>{const c=g=>a.extract(t.concat([r]),g),u=g=>g.fold(()=>Yl.svalue(V.none()),v=>{const S=a.extract(t.concat([r]),v);return Yl.map(S,V.some)});switch(e.tag){case"required":return DH(t,n,r,c);case"defaultedThunk":return hI(n,r,e.process,c);case"option":return RH(n,r,u);case"defaultedOptionThunk":return NH(n,r,e.process,u);case"mergeWithThunk":return hI(n,r,Ce({}),g=>{const v=nD(e.process(n),g);return c(v)})}},BH=(e,t,n)=>{const r={},a=[];for(const c of n)gI(c,(u,g,v,S)=>{const R=MH(v,e,t,u,S);Yl.fold(R,B=>{a.push(...B)},B=>{r[g]=B})},(u,g)=>{r[u]=g(t)});return a.length>0?Yl.serror(a):Yl.svalue(r)},rD=e=>({extract:(r,a)=>BH(r,a,e),toString:()=>`obj{
`+$o(e,a=>gI(a,(c,u,g,v)=>c+" -> "+v.toString(),(c,u)=>"state("+c+")")).join(`
`)+"}"}),tB=e=>({extract:(r,a)=>{const c=$o(a,(u,g)=>e.extract(r.concat(["["+g+"]"]),u));return pI.consolidateArr(c)},toString:()=>"array("+e.toString()+")"}),IH=(e,t)=>{const n=zt;return{extract:(c,u)=>{const g=[];for(const v of e){const S=v.extract(c,u);if(S.stype===Hf.Value)return{stype:Hf.Value,svalue:n(S.svalue)};g.push(S)}return pI.consolidateArr(g)},toString:()=>"oneOf("+$o(e,c=>c.toString()).join(", ")+")"}},PH=Oo(tB,rD),LH=e=>eB(t=>e(t).fold(Yl.serror,Yl.svalue)),FH=(e,t,n)=>{const r=t.extract([e],n);return Yl.mapError(r,a=>({input:n,errors:a}))},HH=(e,t,n)=>Yl.toResult(FH(e,t,n)),VH=e=>`Errors: 
`+hH(e.errors).join(`
`)+`

Input object: `+JM(e.input),oB=(e,t)=>_H(e,ki(t,rD)),$H=Ce(OH),sD=(e,t)=>eB(n=>{const r=typeof n;return e(n)?Yl.svalue(n):Yl.serror(`Expected type: ${t} but got: ${r}`)}),jH=sD(T,"number"),hw=sD(pt,"string"),UH=sD(jr,"boolean"),nB=sD(It,"function"),bw=zH,bI=TH,yI=e=>LH(t=>Wo(e,t)?dt.value(t):dt.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`)),rB=(e,t)=>bw(e,e,QM(),t),vI=e=>rB(e,hw),sB=(e,t)=>bw(e,e,QM(),yI(t)),xI=e=>rB(e,nB),kI=(e,t)=>bw(e,e,QM(),tB(t)),aB=(e,t)=>bw(e,e,EH(),t),Uv=e=>aB(e,hw),ZH=e=>aB(e,nB),WH=(e,t)=>bw(e,e,fI(t),$H()),yw=(e,t,n)=>bw(e,e,fI(t),n),_I=(e,t)=>yw(e,t,jH),aD=(e,t)=>yw(e,t,hw),wI=(e,t,n)=>yw(e,t,yI(n)),iB=(e,t)=>yw(e,t,UH),sb=(e,t)=>yw(e,t,nB),qH=(e,t,n)=>yw(e,t,tB(n)),GH=vI("type"),KH=xI("fetch"),lB=xI("onAction"),YH=sb("onSetup",()=>Qt),XH=Uv("text"),JH=Uv("icon"),QH=Uv("tooltip"),e9=Uv("label"),t9=iB("active",!1),o9=iB("enabled",!0),CI=iB("primary",!1),n9=e=>WH("columns",e),_4=e=>aD("type",e),r9=rD([GH,vI("trigger"),_I("minChars",1),n9(1),_I("maxResults",10),ZH("matches"),KH,lB,qH("highlightOn",[],hw)]),s9=e=>HH("Autocompleter",r9,e),cB=[o9,QH,JH,XH,YH,aD("context","mode:design")],SI=[t9].concat(cB),iD=[sb("predicate",an),wI("scope","node",["node","editor"]),wI("position","selection",["node","selection","line"])],a9=cB.concat([_4("contextformbutton"),aD("align","end"),CI,lB,bI("original",zt)]),i9=SI.concat([_4("contextformbutton"),aD("align","end"),CI,lB,bI("original",zt)]),l9=cB.concat([_4("contextformbutton")]),c9=SI.concat([_4("contextformtogglebutton")]),d9=oB("type",{contextformbutton:a9,contextformtogglebutton:i9}),dB=[e9,kI("commands",d9),aB("launch",oB("type",{contextformbutton:l9,contextformtogglebutton:c9})),sb("onInput",Qt),sb("onSetup",Qt)],u9=[...iD,...dB,sB("type",["contextform"]),sb("initValue",Ce("")),Uv("placeholder")],f9=[...iD,...dB,sB("type",["contextsliderform"]),sb("initValue",Ce(0)),sb("min",Ce(0)),sb("max",Ce(100))],m9=[...iD,...dB,sB("type",["contextsizeinputform"]),sb("initValue",Ce({width:"",height:""}))];oB("type",{contextform:u9,contextsliderform:f9,contextsizeinputform:m9}),rD([_4("contexttoolbar"),rB("items",IH([hw,PH([Uv("name"),Uv("label"),kI("items",hw)])]))].concat(iD));const p9=e=>{const t=e.ui.registry.getAll().popups,n=ki(t,u=>s9(u).fold(g=>{throw new Error(VH(g))},zt)),r=Xl(ca(n,u=>u.trigger)),a=el(n);return{dataset:n,triggers:r,lookupByTrigger:u=>Ye(a,g=>g.trigger===u)}},g9=(e,t)=>{const n=qs(t.load,50);e.on("input",r=>{r.inputType==="insertCompositionText"&&!e.composing||n.throttle()}),e.on("keydown",r=>{const a=r.which;a===8?n.throttle():a===27?(n.cancel(),t.cancelIfNecessary()):(a===38||a===40)&&n.cancel()},!0),e.on("remove",n.cancel)},h9=e=>{const t=cs(),n=yr(!1),r=t.isSet,a=()=>{r()&&(ng(e),n.set(!1),t.clear())},c=B=>{r()||t.set({trigger:B.trigger,matchLength:B.text.length})},u=Ra(()=>p9(e)),g=B=>t.get().map(L=>YM(e.dom,e.selection.getRng(),L.trigger,!0).bind(G=>iI(e,u,G,B))).getOrThunk(()=>dH(e,u)),v=B=>{g(B).fold(a,L=>{c(L.context),L.lookupData.then(G=>{t.get().map(ae=>{const J=L.context;ae.trigger===J.trigger&&(t.set({...ae,matchLength:J.text.length}),n.get()?(Ar(e,{range:J.range}),Zw(e,{lookupData:G})):(n.set(!0),Ar(e,{range:J.range}),Uw(e,{lookupData:G})))})})})},S=(B,L)=>{const G=B.compareBoundaryPoints(window.Range.START_TO_START,L),ae=B.compareBoundaryPoints(window.Range.END_TO_END,L);return G>=0&&ae<=0},R=()=>t.get().bind(({trigger:B})=>{const L=e.selection.getRng();return YM(e.dom,L,B,n.get()).filter(({range:G})=>S(L,G)).map(({range:G})=>G)});e.addCommand("mceAutocompleterReload",(B,L)=>{const G=le(L)?L.fetchOptions:{};v(G)}),e.addCommand("mceAutocompleterClose",a),e.addCommand("mceAutocompleterRefreshActiveRange",()=>{R().each(B=>{Ar(e,{range:B})})}),e.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>R().isSome()),g9(e,{cancelIfNecessary:a,load:v})},b9=Ms().browser.isSafari(),EI=e=>kl(me.fromDom(e)),AI=(e,t)=>{var n;return e.startOffset===0&&e.endOffset===((n=t.textContent)===null||n===void 0?void 0:n.length)},lD=(e,t)=>V.from(e.getParent(t.container(),"details")),zI=(e,t)=>lD(e,t).isSome(),y9=(e,t)=>{const n=V.from(e.getParent(t.startContainer,"details")),r=V.from(e.getParent(t.endContainer,"details"));if(n.isSome()||r.isSome()){const a=n.bind(c=>V.from(e.select("summary",c)[0]));return V.some({startSummary:a,startDetails:n,endDetails:r})}else return V.none()},v9=(e,t)=>Zl(t).exists(n=>n.isEqual(e)),x9=(e,t)=>Wl(t).exists(n=>ls(n.getNode())&&zs(t,n).exists(r=>r.isEqual(e))||n.isEqual(e)),k9=(e,t)=>t.startSummary.exists(n=>v9(e,n)),_9=(e,t)=>t.startSummary.exists(n=>x9(e,n)),w9=(e,t)=>t.startDetails.exists(n=>zs(n,e).forall(r=>t.startSummary.exists(a=>!a.contains(e.container())&&a.contains(r.container())))),C9=(e,t,n)=>n.startDetails.exists(r=>uc(e,t).forall(a=>!r.contains(a.container()))),TI=(e,t)=>{const n=t.getNode();Xn(n)||e.selection.setCursorLocation(n,t.offset())},OI=(e,t,n)=>{const r=e.dom.getParent(t.container(),"details");if(r&&!r.open){const a=e.dom.select("summary",r)[0];a&&(n?Zl(a):Wl(a)).each(u=>TI(e,u))}else TI(e,t)},S9=(e,t)=>{const n=v=>v.contains(e.startContainer),r=v=>v.contains(e.endContainer),a=t.startSummary.exists(n),c=t.startSummary.exists(r),u=t.startDetails.forall(v=>t.endDetails.forall(S=>v!==S));return(a||c)&&!(a&&c)||u},DI=(e,t,n)=>{const{dom:r,selection:a}=e,c=e.getBody();if(n==="character"){const u=$e.fromRangeStart(a.getRng()),g=r.getParent(u.container(),r.isBlock),v=lD(r,u),S=g&&r.isEmpty(g),R=lt(g==null?void 0:g.previousSibling),B=lt(g==null?void 0:g.nextSibling);return S&&(t?B:R)&&Xb(!t,c,u).exists(ae=>zI(r,ae)&&!wa(v,lD(r,ae)))?!0:Xb(t,c,u).fold(an,L=>{const G=lD(r,L);if(zI(r,L)&&!wa(v,G)){if(t||OI(e,L,!1),g&&S){if(t&&R)return!0;if(!t&&B)return!0;OI(e,L,t),e.dom.remove(g)}return!0}else return!1})}else return!1},E9=(e,t,n,r)=>{const c=e.selection.getRng(),u=$e.fromRangeStart(c),g=e.getBody();return r==="selection"?S9(c,t):n?_9(u,t)||C9(g,u,t):k9(u,t)||w9(u,t)},A9=(e,t,n)=>y9(e.dom,e.selection.getRng()).fold(()=>DI(e,t,n),r=>E9(e,r,t,n)||DI(e,t,n)),z9=(e,t,n)=>{const r=e.selection,a=r.getNode(),c=r.getRng(),u=$e.fromRangeStart(c);return lb(a)?(n==="selection"&&AI(c,a)||Az(t,u,a)?EI(a):e.undoManager.transact(()=>{const g=r.getSel();let{anchorNode:v,anchorOffset:S,focusNode:R,focusOffset:B}=g??{};const L=()=>{Le(v)&&Le(S)&&Le(R)&&Le(B)&&(g==null||g.setBaseAndExtent(v,S,R,B))},G=()=>{v=g==null?void 0:g.anchorNode,S=g==null?void 0:g.anchorOffset,R=g==null?void 0:g.focusNode,B=g==null?void 0:g.focusOffset},ae=(ie,he)=>{Ne(ie.childNodes,Se=>{ty(Se)&&he.appendChild(Se)})},J=e.dom.create("span",{"data-mce-bogus":"1"});ae(a,J),a.appendChild(J),L(),(n==="word"||n==="line")&&(g==null||g.modify("extend",t?"right":"left",n)),!r.isCollapsed()&&AI(r.getRng(),J)?EI(a):(e.execCommand(t?"ForwardDelete":"Delete"),G(),ae(J,a),L()),e.dom.remove(J)}),!0):!1},Zv=(e,t,n)=>A9(e,t,n)||b9&&z9(e,t,n)?V.some(Qt):V.none(),RI=e=>(t,n,r={})=>{const a=t.getBody(),c={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:a,currentTarget:a,eventPhase:Event.AT_TARGET,originalTarget:a,explicitOriginalTarget:a,isTrusted:!1,srcElement:a,cancelable:!1,preventDefault:Qt,inputType:n},u=D1(new InputEvent(e));return t.dispatch(e,{...u,...c,...r})},w4=RI("input"),cD=RI("beforeinput"),NI=Ms(),MI=NI.os,BI=MI.isMacOS()||MI.isiOS(),T9=NI.browser.isFirefox(),O9=(e,t,n)=>{const r=n.keyCode===Ht.BACKSPACE?"deleteContentBackward":"deleteContentForward",a=e.selection.isCollapsed(),c=a?"character":"selection",u=g=>a?g?"word":"line":"selection";b4([{keyCode:Ht.BACKSPACE,action:Eo(Xt,e)},{keyCode:Ht.BACKSPACE,action:Eo(F3,e,!1)},{keyCode:Ht.DELETE,action:Eo(F3,e,!0)},{keyCode:Ht.BACKSPACE,action:Eo(I3,e,!1)},{keyCode:Ht.DELETE,action:Eo(I3,e,!0)},{keyCode:Ht.BACKSPACE,action:Eo(f4,e,t,!1)},{keyCode:Ht.DELETE,action:Eo(f4,e,t,!0)},{keyCode:Ht.BACKSPACE,action:Eo(BC,e,!1)},{keyCode:Ht.DELETE,action:Eo(BC,e,!0)},{keyCode:Ht.BACKSPACE,action:Eo(Zv,e,!1,c)},{keyCode:Ht.DELETE,action:Eo(Zv,e,!0,c)},...BI?[{keyCode:Ht.BACKSPACE,altKey:!0,action:Eo(Zv,e,!1,u(!0))},{keyCode:Ht.DELETE,altKey:!0,action:Eo(Zv,e,!0,u(!0))},{keyCode:Ht.BACKSPACE,metaKey:!0,action:Eo(Zv,e,!1,u(!1))}]:[{keyCode:Ht.BACKSPACE,ctrlKey:!0,action:Eo(Zv,e,!1,u(!0))},{keyCode:Ht.DELETE,ctrlKey:!0,action:Eo(Zv,e,!0,u(!0))}],{keyCode:Ht.BACKSPACE,action:Eo(V3,e,!1)},{keyCode:Ht.DELETE,action:Eo(V3,e,!0)},{keyCode:Ht.BACKSPACE,action:Eo(oe,e,!1)},{keyCode:Ht.DELETE,action:Eo(oe,e,!0)},{keyCode:Ht.BACKSPACE,action:Eo(J_,e,!1)},{keyCode:Ht.DELETE,action:Eo(J_,e,!0)},{keyCode:Ht.BACKSPACE,action:Eo(R3,e,!1)},{keyCode:Ht.DELETE,action:Eo(R3,e,!0)},{keyCode:Ht.BACKSPACE,action:Eo(_,e,!1)},{keyCode:Ht.DELETE,action:Eo(_,e,!0)},{keyCode:Ht.BACKSPACE,action:Eo(H3,e,!1)},{keyCode:Ht.DELETE,action:Eo(H3,e,!0)}],n).filter(g=>e.selection.isEditable()).each(g=>{n.preventDefault(),cD(e,r).isDefaultPrevented()||(g(),w4(e,r))})},D9=(e,t,n)=>f1([{keyCode:Ht.BACKSPACE,action:Eo(r6,e)},{keyCode:Ht.DELETE,action:Eo(r6,e)},...BI?[{keyCode:Ht.BACKSPACE,altKey:!0,action:Eo(I,e)},{keyCode:Ht.DELETE,altKey:!0,action:Eo(I,e)},...n?[{keyCode:T9?224:91,action:Eo(I,e)}]:[]]:[{keyCode:Ht.BACKSPACE,ctrlKey:!0,action:Eo(I,e)},{keyCode:Ht.DELETE,ctrlKey:!0,action:Eo(I,e)}]],t),R9=(e,t)=>{let n=!1;e.on("keydown",r=>{n=r.keyCode===Ht.BACKSPACE,r.isDefaultPrevented()||O9(e,t,r)}),e.on("keyup",r=>{r.isDefaultPrevented()||D9(e,r,n),n=!1})},N9=e=>{for(;e;){if(qt(e)||bt(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},vw=(e,t)=>{const n=e.dom,r=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){const c=N9(t.firstChild);c&&/^(UL|OL|DL)$/.test(c.nodeName)&&t.insertBefore(n.doc.createTextNode(Fs),t.firstChild)}const a=n.createRng();if(t.normalize(),t.hasChildNodes()){const c=new Fa(t,t);let u=t,g;for(;g=c.current();){if(bt(g)){a.setStart(g,0),a.setEnd(g,0);break}if(r[g.nodeName.toLowerCase()]){a.setStartBefore(g),a.setEndBefore(g);break}u=g,g=c.next()}g||(a.setStart(u,0),a.setEnd(u,0))}else ls(t)?t.nextSibling&&n.isBlock(t.nextSibling)?(a.setStartBefore(t),a.setEndBefore(t)):(a.setStartAfter(t),a.setEndAfter(t)):(a.setStart(t,0),a.setEnd(t,0));e.selection.setRng(a),H0(e,a)},C4=(e,t)=>{const n=e.getRoot();let r,a=t;for(;a!==n&&a&&e.getContentEditable(a)!=="false";){if(e.getContentEditable(a)==="true"){r=a;break}a=a.parentNode}return a!==n?r:n},uB=e=>V.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),M9=e=>uB(e).fold(Ce(""),t=>t.nodeName.toUpperCase()),B9=e=>uB(e).filter(t=>ff(me.fromDom(t))).isSome(),fB=e=>{e.innerHTML='<br data-mce-bogus="1">'},I9=(e,t,n)=>{const r=e.dom;V.from(n.style).map(r.parseStyle).each(v=>{const R={...of(me.fromDom(t)),...v};r.setStyles(t,R)});const a=V.from(n.class).map(v=>v.split(/\s+/)),c=V.from(t.className).map(v=>Ye(v.split(/\s+/),S=>S!==""));ma(a,c,(v,S)=>{const R=Ye(S,L=>!Wo(v,L)),B=[...v,...R];r.setAttrib(t,"class",B.join(" "))});const u=["style","class"],g=_i(n,(v,S)=>!Wo(u,S));r.setAttribs(t,g)},S4=(e,t)=>{if(Ul(e).toLowerCase()===t.tagName.toLowerCase()){const r=n0(e);I9(e,t,r)}},II=(e,t,n,r,a=!0,c,u)=>{const g=e.dom,v=e.schema,S=Ul(e),R=n?n.nodeName.toUpperCase():"";let B=t;const L=v.getTextInlineElements();let G;c||R==="TABLE"||R==="HR"?G=g.create(c||S,u||{}):G=n.cloneNode(!1);let ae=G;if(!a)g.setAttrib(G,"style",null),g.setAttrib(G,"class",null);else do if(L[B.nodeName]){if(Va(B)||Id(B))continue;const J=B.cloneNode(!1);g.setAttrib(J,"id",""),G.hasChildNodes()?(J.appendChild(G.firstChild),G.appendChild(J)):(ae=J,G.appendChild(J))}while((B=B.parentNode)&&B!==r);return S4(e,G),fB(ae),G},P9=(e,t)=>e.dom.getParent(t,Od),L9=(e,t,n)=>{let r=t;for(;r&&r!==e&&lt(r.nextSibling);){const a=r.parentElement;if(!a||!n(a))return Od(a);r=a}return!1},F9=(e,t,n)=>!t&&n.nodeName.toLowerCase()===Ul(e)&&e.dom.isEmpty(n)&&L9(e.getBody(),n,r=>go(e.schema.getTextBlockElements(),r.nodeName.toLowerCase())),H9=(e,t,n)=>{var r,a,c;const u=t(Ul(e)),g=P9(e,n);g&&(e.dom.insertAfter(u,g),vw(e,u),((c=(a=(r=n.parentElement)===null||r===void 0?void 0:r.childNodes)===null||a===void 0?void 0:a.length)!==null&&c!==void 0?c:0)>1&&e.dom.remove(n))},V9=(e,t)=>e.firstChild&&e.firstChild.nodeName===t,$9=e=>{var t;return((t=e.parentNode)===null||t===void 0?void 0:t.firstChild)===e},PI=(e,t)=>{const n=e==null?void 0:e.parentNode;return Le(n)&&n.nodeName===t},LI=e=>Le(e)&&/^(OL|UL|LI)$/.test(e.nodeName),mB=e=>Le(e)&&/^(LI|DT|DD)$/.test(e.nodeName),j9=e=>LI(e)&&LI(e.parentNode),dD=e=>{const t=e.parentNode;return mB(t)?t:e},uD=(e,t,n)=>{let r=e[n?"firstChild":"lastChild"];for(;r&&!qt(r);)r=r[n?"nextSibling":"previousSibling"];return r===t},FI=e=>mo(ca(of(me.fromDom(e)),(t,n)=>`${n}: ${t};`),(t,n)=>t+n,""),U9=(e,t,n,r,a)=>{const c=e.dom,u=e.selection.getRng(),g=n.parentNode;if(n===e.getBody()||!g)return;j9(n)&&(a="LI");const v=mB(r)?FI(r):void 0;let S=mB(r)&&v?t(a,{style:FI(r)}):t(a);if(uD(n,r,!0)&&uD(n,r,!1))if(PI(n,"LI")){const R=dD(n);c.insertAfter(S,R),$9(n)?c.remove(R):c.remove(n)}else c.replace(S,n);else if(uD(n,r,!0))PI(n,"LI")?(c.insertAfter(S,dD(n)),S.appendChild(c.doc.createTextNode(" ")),S.appendChild(n)):g.insertBefore(S,n),c.remove(r);else if(uD(n,r,!1))c.insertAfter(S,dD(n)),c.remove(r);else{n=dD(n);const R=u.cloneRange();R.setStartAfter(r),R.setEndAfter(n);const B=R.extractContents();if(a==="LI"&&V9(B,"LI")){const L=Ye($o(S.children,me.fromDom),Qe(Ba("br")));S=B.firstChild,c.insertAfter(B,n),Ne(L,G=>Er(me.fromDom(S),G)),v&&S.setAttribute("style",v)}else c.insertAfter(B,n),c.insertAfter(S,n);c.remove(r)}vw(e,S)},Z9=e=>{Ne(Wf(me.fromDom(e),Qs),t=>{const n=t.dom;n.nodeValue=Zi(n.data)})},W9=(e,t)=>{const n=e.dom.getParent(t,"ol,ul,dl");return n!==null&&e.dom.getContentEditableParent(n)==="false"},q9=(e,t)=>t&&t.nodeName==="A"&&e.isEmpty(t),pB=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,G9=(e,t)=>e.nodeName===t||e.nextSibling&&e.nextSibling.nodeName===t,gB=(e,t)=>Le(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&e.getContentEditable(t)!=="false",K9=(e,t,n)=>{var r;const a=[];if(!n)return;let c=n;for(;c=c.firstChild;){if(e.isBlock(c))return;qt(c)&&!t[c.nodeName.toLowerCase()]&&a.push(c)}let u=a.length;for(;u--;)c=a[u],(!c.hasChildNodes()||c.firstChild===c.lastChild&&((r=c.firstChild)===null||r===void 0?void 0:r.nodeValue)===""||q9(e,c))&&e.remove(c)},hB=(e,t,n)=>bt(t)?e?n===1&&t.data.charAt(n-1)===Ea?0:n:n===t.data.length-1&&t.data.charAt(n)===Ea?t.data.length:n:n,Y9=e=>{const t=e.cloneRange();return t.setStart(e.startContainer,hB(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,hB(!1,e.endContainer,e.endOffset)),t},X9=e=>{let t=e;do bt(t)&&(t.data=t.data.replace(/^[\r\n]+/,"")),t=t.firstChild;while(t)},J9=(e,t,n,r,a)=>{var c,u;const g=e.dom,v=(c=C4(g,r))!==null&&c!==void 0?c:g.getRoot();let S=g.getParent(r,g.isBlock);if(!S||!gB(g,S)){if(S=S||v,!S.hasChildNodes()){const G=g.create(t);return S4(e,G),S.appendChild(G),n.setStart(G,0),n.setEnd(G,0),G}let R=r;for(;R&&R.parentNode!==S;)R=R.parentNode;let B;for(;R&&!g.isBlock(R);)B=R,R=R.previousSibling;const L=(u=B==null?void 0:B.parentElement)===null||u===void 0?void 0:u.nodeName;if(B&&L&&e.schema.isValidChild(L,t.toLowerCase())){const G=B.parentNode,ae=g.create(t);for(S4(e,ae),G.insertBefore(ae,B),R=B;R&&!g.isBlock(R);){const J=R.nextSibling;ae.appendChild(R),R=J}n.setStart(r,a),n.setEnd(r,a)}}return r},Q9=(e,t)=>{t.normalize();const n=t.lastChild;(!n||qt(n)&&/^(left|right)$/gi.test(e.getStyle(n,"float",!0)))&&e.add(t,"br")},eV=(e,t)=>{const n=W4(e);return Ro(t)?!1:pt(n)?Wo(ht.explode(n),t.nodeName.toLowerCase()):n},HI={insert:(e,t)=>{let n,r,a,c,u=!1;const g=e.dom,v=e.schema,S=v.getNonEmptyElements(),R=e.selection.getRng(),B=Ul(e),L=me.fromDom(R.startContainer),G=Zc(L,R.startOffset),ae=G.exists(tt=>ui(tt)&&!ga(tt)),J=R.collapsed&&ae,ie=(tt,Rt)=>II(e,n,vt,Xe,Qw(e),tt,Rt),he=tt=>{const Rt=hB(tt,n,r);if(bt(n)&&(tt?Rt>0:Rt<n.data.length))return!1;if((n.parentNode===vt||n===vt)&&u&&!tt||tt&&qt(n)&&n===vt.firstChild)return!0;if(pB(n,"TABLE")||pB(n,"HR"))return G9(n,"BR")?!tt:u&&!tt||!u&&tt;const ro=new Fa(n,vt);bt(n)&&(tt&&Rt===0?ro.prev():!tt&&Rt===n.data.length&&ro.next());let Go;for(;Go=ro.current();){if(qt(Go)){if(!Go.getAttribute("data-mce-bogus")){const Jo=Go.nodeName.toLowerCase();if(S[Jo]&&Jo!=="br")return!1}}else if(bt(Go)&&!Kc(Go.data))return!1;tt?ro.prev():ro.next()}return!0},Se=()=>{let tt;return/^(H[1-6]|PRE|FIGURE)$/.test(a)&&Lt!=="HGROUP"?tt=ie(B):tt=ie(),eV(e,c)&&gB(g,c)&&g.isEmpty(vt,void 0,{includeZwsp:!0})?tt=g.split(c,vt):g.insertAfter(tt,vt),vw(e,tt),tt};fg(g,R).each(tt=>{R.setStart(tt.startContainer,tt.startOffset),R.setEnd(tt.endContainer,tt.endOffset)}),n=R.startContainer,r=R.startOffset;const ze=!!(t&&t.shiftKey),Me=!!(t&&t.ctrlKey);qt(n)&&n.hasChildNodes()&&!J&&(u=r>n.childNodes.length-1,n=n.childNodes[Math.min(r,n.childNodes.length-1)]||n,u&&bt(n)?r=n.data.length:r=0);const Xe=C4(g,n);if(!Xe||W9(e,n))return;ze||(n=J9(e,B,R,n,r));let vt=g.getParent(n,g.isBlock)||g.getRoot();c=Le(vt==null?void 0:vt.parentNode)?g.getParent(vt.parentNode,g.isBlock):null,a=vt?vt.nodeName.toUpperCase():"";const Lt=c?c.nodeName.toUpperCase():"";if(Lt==="LI"&&!Me){const tt=c;vt=tt,c=tt.parentNode,a=Lt}if(qt(c)&&F9(e,ze,vt))return H9(e,ie,vt);if(/^(LI|DT|DD)$/.test(a)&&qt(c)&&g.isEmpty(vt)){U9(e,ie,c,vt,B);return}if(!J&&(vt===e.getBody()||!gB(g,vt)))return;const We=vt.parentNode;let He;if(J)He=ie(B),G.fold(()=>{lr(L,me.fromDom(He))},tt=>{is(tt,me.fromDom(He))}),e.selection.setCursorLocation(He,0);else if(Qm(vt))He=Xp(vt),g.isEmpty(vt)&&fB(vt),S4(e,He),vw(e,He);else if(he(!1))He=Se();else if(he(!0)&&We){const tt=$e.fromRangeStart(R),Rt=pp(tt),ro=me.fromDom(vt),Jo=W0(ro,tt,e.schema)?gC(ro,tt,e.schema).bind(Dr=>V.from(Dr.getNode())):V.none();He=We.insertBefore(ie(),vt);const nr=pB(vt,"HR")||Rt?He:Jo.getOr(vt);vw(e,nr)}else{const tt=Y9(R).cloneRange();tt.setEndAfter(vt);const Rt=tt.extractContents();Z9(Rt),X9(Rt),He=Rt.firstChild,g.insertAfter(Rt,vt),K9(g,S,He),Q9(g,vt),g.isEmpty(vt)&&fB(vt),He.normalize(),g.isEmpty(He)?(g.remove(He),Se()):(S4(e,He),vw(e,He))}g.setAttrib(He,"id",""),e.dispatch("NewBlock",{newBlock:He})},fakeEventName:"insertParagraph"},tV=(e,t,n)=>{const r=new Fa(t,n);let a;const c=e.getNonEmptyElements();for(;a=r.next();)if(c[a.nodeName.toLowerCase()]||bt(a)&&a.length>0)return!0;return!1},VI=(e,t,n)=>{const r=e.dom.createRng();n?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)),e.selection.setRng(r),H0(e,r)},oV=(e,t)=>{const n=e.selection,r=e.dom,a=n.getRng();let c,u=!1;fg(r,a).each(G=>{a.setStart(G.startContainer,G.startOffset),a.setEnd(G.endContainer,G.endOffset)});let g=a.startOffset,v=a.startContainer;if(qt(v)&&v.hasChildNodes()){const G=g>v.childNodes.length-1;v=v.childNodes[Math.min(g,v.childNodes.length-1)]||v,G&&bt(v)?g=v.data.length:g=0}let S=r.getParent(v,r.isBlock);const R=S&&S.parentNode?r.getParent(S.parentNode,r.isBlock):null,B=R?R.nodeName.toUpperCase():"",L=!!(t&&t.ctrlKey);B==="LI"&&!L&&(S=R),bt(v)&&g>=v.data.length&&(tV(e.schema,v,S||r.getRoot())||(c=r.create("br"),a.insertNode(c),a.setStartAfter(c),a.setEndAfter(c),u=!0)),c=r.create("br"),tg(r,a,c),VI(e,c,u),e.undoManager.add()},nV=(e,t)=>{const n=me.fromTag("br");is(me.fromDom(t),n),e.undoManager.add()},rV=(e,t)=>{aV(e.getBody(),t)||oc(me.fromDom(t),me.fromTag("br"));const n=me.fromTag("br");oc(me.fromDom(t),n),VI(e,n.dom,!1),e.undoManager.add()},sV=e=>ls(e.getNode()),aV=(e,t)=>sV($e.after(t))?!0:uc(e,$e.after(t)).map(n=>ls(n.getNode())).getOr(!1),$I=e=>e&&e.nodeName==="A"&&"href"in e,iV=e=>e.fold(an,$I,$I,an),lV=e=>{const t=xt(yp,e),n=$e.fromRangeStart(e.selection.getRng());return Pf(t,e.getBody(),n).filter(iV)},cV=(e,t)=>{t.fold(Qt,xt(nV,e),xt(rV,e),Qt)},jI={insert:(e,t)=>{const n=lV(e);n.isSome()?n.each(xt(cV,e)):oV(e,t)},fakeEventName:"insertLineBreak"},UI=(e,t)=>uB(e).filter(n=>t.length>0&&Hn(me.fromDom(n),t)).isSome(),dV=e=>UI(e,HD(e)),uV=e=>UI(e,Jw(e)),qu=jt.generate([{br:[]},{block:[]},{none:[]}]),fV=(e,t)=>uV(e),ZI=e=>(t,n)=>B9(t)===e,WI=(e,t)=>(n,r)=>M9(n)===e.toUpperCase()===t,mV=e=>{const t=C4(e.dom,e.selection.getStart());return Ro(t)},E4=e=>WI("pre",e),pV=()=>WI("summary",!0),fD=e=>(t,n)=>Xw(t)===e,gV=(e,t)=>dV(e),mD=(e,t)=>t,hV=e=>{const t=Ul(e),n=C4(e.dom,e.selection.getStart());return Le(n)&&e.schema.isValidChild(n.nodeName,t)},bV=e=>{const t=e.selection.getRng(),n=me.fromDom(t.startContainer),a=Zc(n,t.startOffset).map(c=>ui(c)&&!ga(c));return t.collapsed&&a.getOr(!0)},Vf=(e,t)=>(n,r)=>mo(e,(c,u)=>c&&u(n,r),!0)?V.some(t):V.none(),yV=(e,t)=>U3([Vf([fV],qu.none()),Vf([E4(!0),mV],qu.none()),Vf([pV()],qu.br()),Vf([E4(!0),fD(!1),mD],qu.br()),Vf([E4(!0),fD(!1)],qu.block()),Vf([E4(!0),fD(!0),mD],qu.block()),Vf([E4(!0),fD(!0)],qu.br()),Vf([ZI(!0),mD],qu.br()),Vf([ZI(!0)],qu.block()),Vf([gV],qu.br()),Vf([mD],qu.br()),Vf([hV],qu.block()),Vf([bV],qu.block())],[e,!!(t&&t.shiftKey)]).getOr(qu.none()),pD=(e,t,n)=>{t.mode.isReadOnly()||(t.selection.isCollapsed()||gN(t),!(Le(n)&&cD(t,e.fakeEventName).isDefaultPrevented())&&(e.insert(t,n),Le(n)&&w4(t,e.fakeEventName)))},qI=(e,t)=>{if(e.mode.isReadOnly())return;const n=()=>pD(jI,e,t),r=()=>pD(HI,e,t),a=yV(e,t);switch(FD(e)){case"linebreak":a.fold(n,n,Qt);break;case"block":a.fold(r,r,Qt);break;case"invert":a.fold(r,n,Qt);break;default:a.fold(n,r,Qt);break}},GI=Ms(),vV=GI.os.isiOS()&&GI.browser.isSafari(),KI=(e,t)=>{t.isDefaultPrevented()||(t.preventDefault(),P7(e.undoManager),e.undoManager.transact(()=>{qI(e,t)}))},xV=e=>{if(!e.collapsed)return!1;const t=e.startContainer;if(bt(t)){const n=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,r=t.data.charAt(e.startOffset-1);return n.test(r)}else return!1},kV=e=>{let t=V.none();const n=a=>{t=V.some(a.selection.getBookmark()),a.undoManager.add()},r=(a,c)=>{a.undoManager.undo(),t.fold(Qt,u=>a.selection.moveToBookmark(u)),KI(a,c),t=V.none()};e.on("keydown",a=>{a.keyCode===Ht.ENTER&&(vV&&xV(e.selection.getRng())?n(e):KI(e,a))}),e.on("keyup",a=>{a.keyCode===Ht.ENTER&&t.each(()=>r(e,a))})},_V=(e,t,n)=>{const r=Nt.os.isMacOS()||Nt.os.isiOS();f1([{keyCode:Ht.END,action:Eo(g4,e,!0)},{keyCode:Ht.HOME,action:Eo(g4,e,!1)},...r?[]:[{keyCode:Ht.HOME,action:Eo(nb,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:Ht.END,action:Eo(nb,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:Ht.END,action:Eo(y4,e,!0)},{keyCode:Ht.HOME,action:Eo(y4,e,!1)},{keyCode:Ht.END,action:Eo(Vv,e,!0,t)},{keyCode:Ht.HOME,action:Eo(Vv,e,!1,t)}],n).each(a=>{n.preventDefault()})},wV=(e,t)=>{e.on("keydown",n=>{n.isDefaultPrevented()||_V(e,t,n)})},CV=e=>{e.on("input",t=>{t.isComposing||bz(e)})},SV=Ms(),EV=(e,t,n)=>{f1([{keyCode:Ht.PAGE_UP,action:Eo(Vv,e,!1,t)},{keyCode:Ht.PAGE_DOWN,action:Eo(Vv,e,!0,t)}],n)},YI=e=>e.stopImmediatePropagation(),XI=e=>e.keyCode===Ht.PAGE_UP||e.keyCode===Ht.PAGE_DOWN,JI=(e,t,n)=>{n&&!e.get()?t.on("NodeChange",YI,!0):!n&&e.get()&&t.off("NodeChange",YI),e.set(n)},AV=(e,t)=>{if(SV.os.isMacOS())return;const n=yr(!1);e.on("keydown",r=>{XI(r)&&JI(n,e,!0)}),e.on("keyup",r=>{r.isDefaultPrevented()||EV(e,t,r),XI(r)&&n.get()&&(JI(n,e,!1),e.nodeChanged())})},QI=(e,t)=>e===t||e.contains(t),zV=(e,t)=>!QI(e.getBody(),t.startContainer)||!QI(e.getBody(),t.endContainer)?!0:ZA(e.dom,t),TV=e=>{e.on("beforeinput",t=>{(!e.selection.isEditable()||zn(t.getTargetRanges(),n=>!zV(e,n)))&&t.preventDefault()})},eP=(e,t)=>{const n=t.container(),r=t.offset();return bt(n)?(n.insertData(r,e),V.some($e(n,r+e.length))):Ho(t).map(a=>{const c=me.fromText(e);return t.isAtEnd()?oc(a,c):is(a,c),$e(c.dom,e.length)})},tP=xt(eP,Fs),oP=xt(eP," "),OV=(e,t,n)=>mz(e,t,n)?tP(t):oP(t),DV=e=>t=>t.fold(n=>zs(e.dom,$e.before(n)),n=>Zl(n),n=>Wl(n),n=>uc(e.dom,$e.after(n))),RV=(e,t,n)=>r=>mz(e,r,n)?tP(t):oP(t),nP=e=>t=>{e.selection.setRng(t.toRange()),e.nodeChanged()},NV=(e,t)=>e.isEditable(e.getParent(t,"summary")),MV=e=>{const t=$e.fromRangeStart(e.selection.getRng()),n=me.fromDom(e.getBody());if(e.selection.isCollapsed()){const r=xt(yp,e),a=$e.fromRangeStart(e.selection.getRng());return Pf(r,e.getBody(),a).bind(DV(n)).map(c=>()=>RV(n,t,e.schema)(c).each(nP(e)))}else return V.none()},BV=e=>{const t=()=>{const n=me.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const r=$e.fromRangeStart(e.selection.getRng());OV(n,r,e.schema).each(nP(e))};return bd(Nt.browser.isFirefox()&&e.selection.isEditable()&&NV(e.dom,e.selection.getRng().startContainer),t)},IV=(e,t)=>{b4([{keyCode:Ht.SPACEBAR,action:Eo(MV,e)},{keyCode:Ht.SPACEBAR,action:Eo(BV,e)}],t).each(n=>{t.preventDefault(),cD(e,"insertText",{data:" "}).isDefaultPrevented()||(n(),w4(e,"insertText",{data:" "}))})},PV=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||IV(e,t)})},LV=e=>Fx(e)?[{keyCode:Ht.TAB,action:Eo(oI,e,!0)},{keyCode:Ht.TAB,shiftKey:!0,action:Eo(oI,e,!1)}]:[],FV=(e,t)=>{f1([...LV(e)],t).each(n=>{t.preventDefault()})},HV=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||FV(e,t)})},VV=e=>{if(e.addShortcut("Meta+P","","mcePrint"),h9(e),bm(e))return yr(null);{const t=c4(e);return TV(e),i1(e),JF(e,t),R9(e,t),kV(e),PV(e),CV(e),HV(e),wV(e,t),AV(e,t),t}};class $V{constructor(t){this.lastPath=[],this.editor=t;let n;const r=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",a=>{const c=t.selection.getRng(),u={startContainer:c.startContainer,startOffset:c.startOffset,endContainer:c.endContainer,endOffset:c.endOffset};(a.type==="nodechange"||!Ph(u,n))&&t.dispatch("SelectionChange"),n=u}),t.on("contextmenu",()=>{fk(t),t.dispatch("SelectionChange")}),t.on("SelectionChange",()=>{const a=t.selection.getStart(!0);a&&y0(t)&&!r.isSameElementPath(a)&&t.dom.isChildOf(a,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("mouseup",a=>{!a.isDefaultPrevented()&&y0(t)&&(t.selection.getNode().nodeName==="IMG"?Ld.setEditorTimeout(t,()=>{t.nodeChanged()}):t.nodeChanged())})}nodeChanged(t={}){const n=this.editor,r=n.selection;let a;if(n.initialized&&r&&!i0(n)&&!c0(n)){const c=n.getBody();a=r.getStart(!0)||c,(a.ownerDocument!==n.getDoc()||!n.dom.isChildOf(a,c))&&(a=c);const u=[];n.dom.getParent(a,g=>g===c?!0:(u.push(g),!1)),n.dispatch("NodeChange",{...t,element:a,parents:u})}}isSameElementPath(t){let n;const r=this.editor,a=Os(r.dom.getParents(t,Co,r.getBody()));if(a.length===this.lastPath.length){for(n=a.length;n>=0&&a[n]===this.lastPath[n];n--);if(n===-1)return this.lastPath=a,!0}return this.lastPath=a,!1}}const rP=lc("image"),jV=e=>{const t=e;return V.from(t[rP])},UV=(e,t)=>{const n=e;n[rP]=t},bB=lc("event"),ZV=e=>{const t=e;return V.from(t[bB])},gD=e=>t=>{const n=t;n[bB]=e},WV=(e,t)=>gD(t)(e),sP=gD(0),qV=gD(2),GV=gD(1),KV=(e=>t=>{const n=t;return V.from(n[bB]).exists(r=>r===e)})(0),YV=()=>Object.freeze({length:0,item:e=>null}),yB=lc("mode"),XV=e=>{const t=e;return V.from(t[yB])},hD=e=>t=>{const n=t;n[yB]=e},aP=(e,t)=>hD(t)(e),iP=hD(0),vB=hD(2),JV=hD(1),lP=e=>t=>{const n=t;return V.from(n[yB]).exists(r=>r===e)},xw=lP(0),cP=lP(1),QV=(e,t)=>({...t,get length(){return t.length},add:(n,r)=>{if(xw(e))if(pt(n)){if(!Xn(r))return t.add(n,r)}else return t.add(n);return null},remove:n=>{xw(e)&&t.remove(n)},clear:()=>{xw(e)&&t.clear()}}),e$=["none","copy","link","move"],t$=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],xB=()=>{const e=new window.DataTransfer;let t="move",n="all";const r={get dropEffect(){return t},set dropEffect(a){Wo(e$,a)&&(t=a)},get effectAllowed(){return n},set effectAllowed(a){KV(r)&&Wo(t$,a)&&(n=a)},get items(){return QV(r,e.items)},get files(){return cP(r)?YV():e.files},get types(){return e.types},setDragImage:(a,c,u)=>{xw(r)&&(UV(r,{image:a,x:c,y:u}),e.setDragImage(a,c,u))},getData:a=>cP(r)?"":e.getData(a),setData:(a,c)=>{xw(r)&&e.setData(a,c)},clearData:a=>{xw(r)&&e.clearData(a)}};return iP(r),r},o$=e=>{const t=xB(),n=XV(e);return vB(e),sP(t),t.dropEffect=e.dropEffect,t.effectAllowed=e.effectAllowed,jV(e).each(r=>t.setDragImage(r.image,r.x,r.y)),Ne(e.types,r=>{r!=="Files"&&t.setData(r,e.getData(r))}),Ne(e.files,r=>t.items.add(r)),ZV(e).each(r=>{WV(t,r)}),n.each(r=>{aP(e,r),aP(t,r)}),t},n$=e=>{const t=e.getData("text/html");return t===""?V.none():V.some(t)},dP=(e,t)=>e.setData("text/html",t),uP="x-tinymce/html",bD=Ce(uP),kB="<!-- "+uP+" -->",r$=e=>kB+e,s$=e=>e.replace(kB,""),fP=e=>e.indexOf(kB)!==-1,a$=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),i$=(e,t)=>{let n="<"+e;const r=ca(t,(a,c)=>c+'="'+Sc.encodeAllRaw(a)+'"');return r.length&&(n+=" "+r.join(" ")),n+">"},l$=(e,t,n)=>{const r=e.split(/\n\n/),a=i$(t,n),c="</"+t+">",u=$o(r,v=>v.split(/\n/).join("<br />")),g=v=>a+v+c;return u.length===1?u[0]:$o(u,g).join("")},mP="%MCEPASTEBIN%",c$=(e,t)=>{const{dom:n,selection:r}=e,a=e.getBody();t.set(r.getRng());const c=n.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},mP);Nt.browser.isFirefox()&&n.setStyle(c,"left",n.getStyle(a,"direction",!0)==="rtl"?65535:-65535),n.bind(c,"beforedeactivate focusin focusout",u=>{u.stopPropagation()}),c.focus(),r.select(c,!0)},d$=(e,t)=>{const n=e.dom;if(_B(e)){let r;const a=t.get();for(;r=_B(e);)n.remove(r),n.unbind(r);a&&e.selection.setRng(a)}t.set(null)},_B=e=>e.dom.get("mcepastebin"),u$=e=>Le(e)&&e.id==="mcepastebin",f$=e=>{const t=e.dom,n=(u,g)=>{u.appendChild(g),t.remove(g,!0)},[r,...a]=Ye(e.getBody().childNodes,u$);Ne(a,u=>{n(r,u)});const c=t.select("div[id=mcepastebin]",r);for(let u=c.length-1;u>=0;u--){const g=t.create("div");r.insertBefore(g,c[u]),n(g,c[u])}return r?r.innerHTML:""},pP=e=>e===mP,m$=e=>{const t=yr(null);return{create:()=>c$(e,t),remove:()=>d$(e,t),getEl:()=>_B(e),getHtml:()=>f$(e),getLastRng:t.get}},gP=(e,t)=>(ht.each(t,n=>{ut(n,RegExp)?e=e.replace(n,""):e=e.replace(n[0],n[1])}),e),p$=e=>{const t=Du(),n=Hy({},t);let r="";const a=t.getVoidElements(),c=ht.makeMap("script noscript style textarea video audio iframe object"," "),u=t.getBlockElements(),g=v=>{const S=v.name,R=v;if(S==="br"){r+=`
`;return}if(S!=="wbr"){if(a[S]&&(r+=" "),c[S]){r+=" ";return}if(v.type===3&&(r+=v.value),!(v.name in t.getVoidElements())){let B=v.firstChild;if(B)do g(B);while(B=B.next)}u[S]&&R.next&&(r+=`
`,S==="p"&&(r+=`
`))}};return e=gP(e,[/<!\[[^\]]+\]>/g]),g(n.parse(e)),r},hP=e=>(e=gP(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(n,r,a)=>!r&&!a?" ":Fs],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),g$=e=>{let t=0;return()=>e+t++},h$=e=>{const t=e.toLowerCase(),n={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return ht.hasOwn(n,t)?"image/"+n[t]:"image/"+t},b$=(e,t)=>{const n=Hy({sanitize:Lx(e),sandbox_iframes:s2(e),sandbox_iframes_exclusions:Hx(e),convert_unsafe_embeds:aR(e)},e.schema);n.addNodeFilter("meta",a=>{ht.each(a,c=>{c.remove()})});const r=n.parse(t,{forced_root_block:!1,isRootContent:!0});return dm({validate:!0},e.schema).serialize(r)},bP=(e,t)=>({content:e,cancelled:t}),y$=(e,t,n)=>{const r=e.dom.create("div",{style:"display:none"},t),a=$4(e,r,n);return bP(a.node.innerHTML,a.isDefaultPrevented())},v$=(e,t,n)=>{const r=V4(e,t,n),a=b$(e,r.content);return e.hasEventListeners("PastePostProcess")&&!r.isDefaultPrevented()?y$(e,a,n):bP(a,r.isDefaultPrevented())},x$=(e,t,n)=>v$(e,t,n),wB=(e,t)=>(e.insertContent(t,{merge:mE(e),paste:!0}),!0),CB=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),k$=(e,t)=>CB(t)&&zn(_E(e),n=>wi(t.toLowerCase(),`.${n.toLowerCase()}`)),_$=(e,t,n)=>(e.undoManager.extra(()=>{n(e,t)},()=>{e.insertContent('<img src="'+t+'">')}),!0),w$=(e,t,n)=>(e.undoManager.extra(()=>{n(e,t)},()=>{e.execCommand("mceInsertLink",!1,t)}),!0),C$=(e,t,n)=>!e.selection.isCollapsed()&&CB(t)?w$(e,t,n):!1,S$=(e,t,n)=>k$(e,t)?_$(e,t,n):!1,E$=(e,t)=>{ht.each([C$,S$,wB],n=>!n(e,t,wB))},A$=(e,t,n)=>{n||!pE(e)?wB(e,t):E$(e,t)},z$=g$("mceclip"),T$=e=>{const t=xB();return dP(t,e),vB(t),t},yP=(e,t,n,r,a)=>{const c=x$(e,t,n);if(!c.cancelled){const u=c.content,g=()=>A$(e,u,r);a?cD(e,"insertFromPaste",{dataTransfer:T$(u)}).isDefaultPrevented()||(g(),w4(e,"insertFromPaste")):g()}},yD=(e,t,n,r)=>{const a=n||fP(t);yP(e,s$(t),a,!1,r)},SB=(e,t,n)=>{const r=e.dom.encode(t).replace(/\r\n/g,`
`),a=nf(r,QD(e)),c=l$(a,Ul(e),n0(e));yP(e,c,!1,!0,n)},vP=e=>{const t={};if(e&&e.types)for(let n=0;n<e.types.length;n++){const r=e.types[n];try{t[r]=e.getData(r)}catch{t[r]=""}}return t},g1=(e,t)=>t in e&&e[t].length>0,xP=e=>g1(e,"text/html")||g1(e,"text/plain"),O$=(e,t)=>{const n=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Le(n)?e.dom.encode(n[1]):void 0},D$=(e,t,n,r)=>{const a=z$(),c=G4(e)&&Le(n.name),u=c?O$(e,n.name):a,g=c?n.name:void 0,v=t.create(a,n,r,u,g);return t.add(v),v},R$=(e,t)=>{b_(t.uri).each(({data:n,type:r,base64Encoded:a})=>{const c=a?n:btoa(n),u=t.file,g=e.editorUpload.blobCache,v=g.getByData(c,r),S=v??D$(e,g,u,c);yD(e,`<img src="${S.blobUri()}">`,!1,!0)})},N$=e=>e.type==="paste",M$=e=>Promise.all($o(e,t=>xS(t).then(n=>({file:t,uri:n})))),B$=e=>{const t=_E(e);return n=>ir(n.type,"image/")&&zn(t,r=>h$(r)===n.type)},I$=(e,t)=>{const n=t.items?Mn(Mo(t.items),a=>a.kind==="file"?[a.getAsFile()]:[]):[],r=t.files?Mo(t.files):[];return Ye(n.length>0?n:r,B$(e))},kP=(e,t,n)=>{const r=N$(t)?t.clipboardData:t.dataTransfer;if(l0(e)&&r){const a=I$(e,r);if(a.length>0)return t.preventDefault(),M$(a).then(c=>{n&&e.selection.setRng(n),Ne(c,u=>{R$(e,u)})}),!0}return!1},P$=e=>{var t,n;return Nt.os.isAndroid()&&((n=(t=e.clipboardData)===null||t===void 0?void 0:t.items)===null||n===void 0?void 0:n.length)===0},L$=e=>Ht.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,EB=(e,t,n,r,a)=>{let c=hP(n);const u=g1(t,bD())||fP(n),g=!u&&a$(c),v=CB(c);(pP(c)||!c.length||g&&!v)&&(r=!0),(r||v)&&(g1(t,"text/plain")&&g?c=t["text/plain"]:c=p$(c)),!pP(c)&&(r?SB(e,c,a):yD(e,c,u,a))},F$=(e,t,n)=>{let r;const a=()=>t.getLastRng()||e.selection.getRng();e.on("keydown",c=>{L$(c)&&!c.isDefaultPrevented()&&(r=c.shiftKey&&c.keyCode===86)}),e.on("paste",c=>{if(c.isDefaultPrevented()||P$(c))return;const u=n.get()==="text"||r;r=!1;const g=vP(c.clipboardData);!xP(g)&&kP(e,c,a())||(g1(g,"text/html")?(c.preventDefault(),EB(e,g,g["text/html"],u,!0)):g1(g,"text/plain")&&g1(g,"text/uri-list")?(c.preventDefault(),EB(e,g,g["text/plain"],u,!0)):(t.create(),Ld.setEditorTimeout(e,()=>{const v=t.getHtml();t.remove(),EB(e,g,v,u,!1)},0)))})},H$=e=>{const t=a=>ir(a,"webkit-fake-url"),n=a=>ir(a,"data:"),r=a=>{var c;return((c=a.data)===null||c===void 0?void 0:c.paste)===!0};e.parser.addNodeFilter("img",(a,c,u)=>{if(!l0(e)&&r(u))for(const g of a){const v=g.attr("src");pt(v)&&!g.attr("data-mce-object")&&v!==Nt.transparentSrc&&(t(v)||!eR(e)&&n(v))&&g.remove()}})},V$=(e,t,n)=>{F$(e,t,n),H$(e)},$$=(e,t)=>{t.get()==="text"?(t.set("html"),Ww(e,!1)):(t.set("text"),Ww(e,!0)),e.focus()},j$=(e,t)=>{e.addCommand("mceTogglePlainTextPaste",()=>{$$(e,t)}),e.addCommand("mceInsertClipboardContent",(n,r)=>{r.html&&yD(e,r.html,r.internal,!1),r.text&&SB(e,r.text,!1)})},U$=(e,t,n)=>{if(e)try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",n),e.setData(bD(),t),!0}catch{return!1}else return!1},_P=(e,t,n,r)=>{U$(e.clipboardData,t.html,t.text)?(e.preventDefault(),r()):n(t.html,r)},wP=e=>(t,n)=>{const{dom:r,selection:a}=e,c=r.create("div",{contenteditable:"false","data-mce-bogus":"all"}),u=r.create("div",{contenteditable:"true"},t);r.setStyles(c,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),c.appendChild(u),r.add(e.getBody(),c);const g=a.getRng();u.focus();const v=r.createRng();v.selectNodeContents(u),a.setRng(v),Ld.setEditorTimeout(e,()=>{a.setRng(g),r.remove(c),n()},0)},CP=e=>({html:r$(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),Z$=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),SP=e=>!e.selection.isCollapsed()||Z$(e),W$=e=>t=>{!t.isDefaultPrevented()&&SP(e)&&e.selection.isEditable()&&_P(t,CP(e),wP(e),()=>{if(Nt.browser.isChromium()||Nt.browser.isFirefox()){const n=e.selection.getRng();Ld.setEditorTimeout(e,()=>{e.selection.setRng(n),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},q$=e=>t=>{!t.isDefaultPrevented()&&SP(e)&&_P(t,CP(e),wP(e),Qt)},G$=e=>{e.on("cut",W$(e)),e.on("copy",q$(e))},EP=(e,t)=>{var n,r;return Lh.getCaretRangeFromPoint((n=t.clientX)!==null&&n!==void 0?n:0,(r=t.clientY)!==null&&r!==void 0?r:0,e.getDoc())},K$=e=>{const t=e["text/plain"];return t?t.indexOf("file://")===0:!1},AP=(e,t)=>{e.focus(),t&&e.selection.setRng(t)},Y$=e=>zn(e.files,t=>/^image\//.test(t.type)),X$=(e,t,n,r)=>{const a=e.getParent(n,u=>ba(t,u));if(!lt(e.getParent(n,"summary")))return!0;if(a&&go(r,"text/html")){const u=new DOMParser().parseFromString(r["text/html"],"text/html").body;return!lt(u.querySelector(a.nodeName.toLowerCase()))}else return!1},J$=e=>{e.on("input",t=>{const n=r=>lt(r.querySelector("summary"));if(t.inputType==="deleteByDrag"){const r=Ye(e.dom.select("details"),n);Ne(r,a=>{ls(a.firstChild)&&a.firstChild.remove();const c=e.dom.create("summary");c.appendChild(td().dom),a.prepend(c)})}})},Q$=(e,t)=>{dE(e)&&e.on("dragend dragover draggesture dragdrop drop drag",n=>{n.preventDefault(),n.stopPropagation()}),l0(e)||e.on("drop",n=>{const r=n.dataTransfer;r&&Y$(r)&&n.preventDefault()}),e.on("drop",n=>{if(n.isDefaultPrevented())return;const r=EP(e,n);if(Ro(r))return;const a=vP(n.dataTransfer),c=g1(a,bD());if((!xP(a)||K$(a))&&kP(e,n,r))return;const u=a[bD()],g=u||a["text/html"]||a["text/plain"],v=X$(e.dom,e.schema,r.startContainer,a),S=t.get();S&&!v||g&&(n.preventDefault(),Ld.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(u||S&&v)&&e.execCommand("Delete"),AP(e,r);const R=hP(g);a["text/html"]?yD(e,R,c,!0):SB(e,R,!0)})}))}),e.on("dragstart",n=>{t.set(!0)}),e.on("dragover dragend",n=>{l0(e)&&!t.get()&&(n.preventDefault(),AP(e,EP(e,n))),n.type==="dragend"&&t.set(!1)}),J$(e)},ej=e=>{const t=a=>c=>{a(e,c)},n=uE(e);It(n)&&e.on("PastePreProcess",t(n));const r=fE(e);It(r)&&e.on("PastePostProcess",t(r))},tj=(e,t)=>{e.on("PastePreProcess",n=>{n.content=t(e,n.content,n.internal)})},oj=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,zP=e=>ht.trim(e).replace(oj,th).toLowerCase(),nj=(e,t,n)=>{const r=JD(e);if(n||r==="all"||!Ix(e))return t;const a=r?r.split(/[, ]/):[];if(a&&r!=="none"){const c=e.dom,u=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(g,v,S,R)=>{const B=c.parseStyle(c.decode(S)),L={};for(let ae=0;ae<a.length;ae++){const J=B[a[ae]];let ie=J,he=c.getStyle(u,a[ae],!0);/color/.test(a[ae])&&(ie=zP(ie),he=zP(he)),he!==ie&&(L[a[ae]]=J)}const G=c.serializeStyle(L,"span");return G?v+' style="'+G+'"'+R:v+R})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(c,u,g,v)=>u+' style="'+g+'"'+v),t},rj=e=>{(Nt.browser.isChromium()||Nt.browser.isSafari())&&tj(e,nj)},sj=e=>{const t=yr(!1),n=yr(gE(e)?"text":"html"),r=m$(e);rj(e),j$(e,n),ej(e),e.addQueryStateHandler("mceTogglePlainTextPaste",()=>n.get()==="text"),e.on("PreInit",()=>{G$(e),Q$(e,t),V$(e,r,n)})},aj=e=>{e.on("click",t=>{e.dom.getParent(t.target,"details")&&t.preventDefault()})},ij=e=>{e.parser.addNodeFilter("details",t=>{const n=wE(e);Ne(t,r=>{n==="expanded"?r.attr("open","open"):n==="collapsed"&&r.attr("open",null)})}),e.serializer.addNodeFilter("details",t=>{const n=CE(e);Ne(t,r=>{n==="expanded"?r.attr("open","open"):n==="collapsed"&&r.attr("open",null)})})},lj=e=>{aj(e),ij(e)},cj=ls,TP=bt,dj=e=>Wr(e.dom),uj=e=>Hi(e.dom),OP=e=>t=>rn(me.fromDom(e),t),fj=(e,t,n)=>ea(me.fromDom(e),r=>uj(r)||n.isBlock(cn(r)),OP(t)).getOr(me.fromDom(t)).dom,DP=(e,t)=>ea(me.fromDom(e),dj,OP(t)),RP=(e,t,n)=>{const r=new Fa(e,t),a=n?r.next.bind(r):r.prev.bind(r);let c=e;for(let u=n?e:a();u&&!cj(u);u=a())_l(u)&&(c=u);return c},mj=(e,t,n)=>{const a=$e.fromRangeStart(e).getNode(),c=fj(a,t,n),u=RP(a,c,!1),g=RP(a,c,!0),v=document.createRange();return DP(u,c).fold(()=>{TP(u)?v.setStart(u,0):v.setStartBefore(u)},S=>v.setStartBefore(S.dom)),DP(g,c).fold(()=>{TP(g)?v.setEnd(g,g.data.length):v.setEndAfter(g)},S=>v.setEndAfter(S.dom)),v},pj=e=>{const t=mj(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(Oy(t))},gj=e=>{e.on("mousedown",t=>{t.detail>=3&&(t.preventDefault(),pj(e))})};var kw;(function(e){e.Before="before",e.After="after"})(kw||(kw={}));const hj=(e,t)=>Math.abs(e.left-t),bj=(e,t)=>Math.abs(e.right-t),yj=(e,t)=>e>=t.top&&e<=t.bottom,vj=(e,t)=>e.top<t.bottom&&e.bottom>t.top,xj=(e,t)=>{const n=U1(e,t)/Math.min(e.height,t.height);return vj(e,t)&&n>.5},kj=(e,t)=>{const n=Ye(e,r=>yj(t,r));return mh(n).fold(()=>[[],e],r=>{const{pass:a,fail:c}=st(e,u=>xj(u,r));return[a,c]})},_j=(e,t)=>({node:e.node,position:hj(e,t)<bj(e,t)?kw.Before:kw.After}),wj=(e,t,n)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),AB=(e,t,n,r)=>{const a=B=>_l(B.node)?V.some(B):qt(B.node)?AB(Mo(B.node.childNodes),t,n,!1):V.none(),c=(B,L,G)=>a(L).filter(ae=>Math.abs(G(B,t,n)-G(ae,t,n))<2&&bt(ae.node)),u=(B,L)=>{const G=jo(B,(ae,J)=>L(ae,t,n)-L(J,t,n));return Rs(G,a).map(ae=>r&&!bt(ae.node)&&G.length>1?c(ae,G[1],L).getOr(ae):ae)},[g,v]=kj(C6(e),n),{pass:S,fail:R}=st(v,B=>B.top<n);return u(g,wj).orThunk(()=>u(R,bi)).orThunk(()=>u(S,bi))},Cj=(e,t,n,r)=>{const a=(c,u)=>{const g=S=>qt(S)&&S.classList.contains("mce-drag-container"),v=Ye(c.dom.childNodes,Qe(g));return u.fold(()=>AB(v,n,r,!0),S=>{const R=Ye(v,B=>B!==S.dom);return AB(R,n,r,!0)}).orThunk(()=>(rn(c,e)?V.none():yu(c)).bind(R=>a(R,V.some(c))))};return a(t,V.none())},Sj=(e,t,n)=>{const r=me.fromDom(e),a=dl(r),u=me.fromPoint(a,t,n).filter(g=>Za(r,g)).getOr(r);return Cj(r,u,t,n)},NP=(e,t,n)=>Sj(e,t,n).filter(r=>u0(r.node)).map(r=>_j(r,t)),MP=e=>{var t,n;const r=e.getBoundingClientRect(),a=e.ownerDocument,c=a.documentElement,u=a.defaultView;return{top:r.top+((t=u==null?void 0:u.scrollY)!==null&&t!==void 0?t:0)-c.clientTop,left:r.left+((n=u==null?void 0:u.scrollX)!==null&&n!==void 0?n:0)-c.clientLeft}},Ej=e=>e.inline?MP(e.getBody()):{left:0,top:0},Aj=e=>{const t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},zj=e=>{const t=e.getBody(),n=e.getDoc().documentElement,r={left:t.scrollLeft,top:t.scrollTop},a={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?r:a},Tj=(e,t)=>{if(t.target.ownerDocument!==e.getDoc()){const n=MP(e.getContentAreaContainer()),r=zj(e);return{left:t.pageX-n.left+r.left,top:t.pageY-n.top+r.top}}return{left:t.pageX,top:t.pageY}},Oj=(e,t,n)=>({pageX:n.left-e.left+t.left,pageY:n.top-e.top+t.top}),Dj=(e,t)=>Oj(Ej(e),Aj(e),Tj(e,t)),BP=e=>({target:e,srcElement:e}),Rj=(e,t,n,r)=>({...t,dataTransfer:r,type:e,...BP(n)}),Nj=(e,t,n)=>{const r=Ot("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:r,initEvent:r,preventDefault:Qt,stopImmediatePropagation:Qt,stopPropagation:Qt,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,layerX:0,layerY:0,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:r,initMouseEvent:r,getModifierState:r,dataTransfer:n,...BP(t)}},Mj=(e,t)=>{const n=o$(e);return t==="dragstart"?(sP(n),iP(n)):t==="drop"?(qV(n),vB(n)):(GV(n),JV(n)),n},Bj=(e,t,n,r)=>{const a=Mj(n,e);return Xn(r)?Nj(e,t,a):Rj(e,r,t,a)},IP=32,Ij=100,vD=8,xD=16,PP=Wr,Pj=Z1(PP,Hi),Lj=(e,t,n)=>PP(n)&&n!==t&&e.isEditable(n.parentElement),Fj=(e,t,n)=>Ro(t)||t===n||e.dom.isChildOf(t,n)?!1:e.dom.isEditable(t),Hj=(e,t,n,r)=>{const a=e.dom,c=t.cloneNode(!0);a.setStyles(c,{width:n,height:r}),a.setAttrib(c,"data-mce-selected",null);const u=a.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return a.setStyles(u,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:r}),a.setStyles(c,{margin:0,boxSizing:"border-box"}),u.appendChild(c),u},Vj=(e,t)=>{e.parentNode!==t&&t.appendChild(e)},kD=(e,t)=>n=>()=>{const r=e==="left"?n.scrollX:n.scrollY;n.scroll({[e]:r+t,behavior:"smooth"})},LP=kD("left",-32),FP=kD("left",IP),HP=kD("top",-32),VP=kD("top",IP),$j=(e,t,n,r,a,c,u,g,v,S,R,B)=>{let L=0,G=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>a&&(L=t.pageX+n-a),t.pageY+r>c&&(G=t.pageY+r-c),e.style.width=n-L+"px",e.style.height=r-G+"px";const ae=v.clientHeight,J=v.clientWidth,ie=u+v.getBoundingClientRect().top,he=g+v.getBoundingClientRect().left;R.on(Se=>{Se.intervalId.clear(),Se.dragging&&B&&(u+vD>=ae?Se.intervalId.set(VP(S)):u-vD<=0?Se.intervalId.set(HP(S)):g+vD>=J?Se.intervalId.set(FP(S)):g-vD<=0?Se.intervalId.set(LP(S)):ie+xD>=window.innerHeight?Se.intervalId.set(VP(window)):ie-xD<=0?Se.intervalId.set(HP(window)):he+xD>=window.innerWidth?Se.intervalId.set(FP(window)):he-xD<=0&&Se.intervalId.set(LP(window)))})},$P=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},jj=(e,t)=>{const n=e.getParent(t.parentNode,e.isBlock);$P(t),n&&n!==e.getRoot()&&e.isEmpty(n)&&kl(me.fromDom(n))},Uj=e=>e.button===0,Zj=(e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}),Wj=(e,t)=>n=>{if(Uj(n)){const r=Sn(t.dom.getParents(n.target),Pj).getOr(null);if(Le(r)&&Lj(t.dom,t.getBody(),r)){const a=t.dom.getPos(r),c=t.getBody(),u=t.getDoc().documentElement;e.set({element:r,dataTransfer:xB(),dragging:!1,screenX:n.screenX,screenY:n.screenY,maxX:(t.inline?c.scrollWidth:u.offsetWidth)-2,maxY:(t.inline?c.scrollHeight:u.offsetHeight)-2,relX:n.pageX-a.x,relY:n.pageY-a.y,width:r.offsetWidth,height:r.offsetHeight,ghost:Hj(t,r,r.offsetWidth,r.offsetHeight),intervalId:x1(Ij)})}}},qj=(e,t,n)=>{e._selectionOverrides.hideFakeCaret(),NP(e.getBody(),t,n).fold(()=>e.selection.placeCaretAt(t,n),r=>{const a=e._selectionOverrides.showCaret(1,r.node,r.position===kw.Before,!1);a?e.selection.setRng(a):e.selection.placeCaretAt(t,n)})},A4=(e,t,n,r,a)=>{t==="dragstart"&&dP(r,e.dom.getOuterHTML(n));const c=Bj(t,n,r,a);return e.dispatch(t,c)},Gj=(e,t)=>{const n=Hs((a,c)=>qj(t,a,c),0);t.on("remove",n.cancel);const r=e;return a=>e.on(c=>{const u=Math.max(Math.abs(a.screenX-c.screenX),Math.abs(a.screenY-c.screenY));if(!c.dragging&&u>10){const g=A4(t,"dragstart",c.element,c.dataTransfer,a);if(Le(g.dataTransfer)&&(c.dataTransfer=g.dataTransfer),g.isDefaultPrevented())return;c.dragging=!0,t.focus()}if(c.dragging){const g=a.currentTarget===t.getDoc().documentElement,v=Zj(c,Dj(t,a));Vj(c.ghost,t.getBody()),$j(c.ghost,v,c.width,c.height,c.maxX,c.maxY,a.clientY,a.clientX,t.getContentAreaContainer(),t.getWin(),r,g),n.throttle(a.clientX,a.clientY)}})},Kj=e=>{const t=e.getSel();if(Le(t)){const r=t.getRangeAt(0).startContainer;return bt(r)?r.parentNode:r}else return null},Yj=(e,t)=>n=>{e.on(r=>{var a;if(r.intervalId.clear(),r.dragging){if(Fj(t,Kj(t.selection),r.element)){const c=(a=t.getDoc().elementFromPoint(n.clientX,n.clientY))!==null&&a!==void 0?a:t.getBody();A4(t,"drop",c,r.dataTransfer,n).isDefaultPrevented()||t.undoManager.transact(()=>{jj(t.dom,r.element),n$(r.dataTransfer).each(g=>t.insertContent(g)),t._selectionOverrides.hideFakeCaret()})}A4(t,"dragend",t.getBody(),r.dataTransfer,n)}}),UP(e)},jP=(e,t,n)=>{e.on(r=>{r.intervalId.clear(),r.dragging&&n.fold(()=>A4(t,"dragend",r.element,r.dataTransfer),a=>A4(t,"dragend",r.element,r.dataTransfer,a))}),UP(e)},Xj=(e,t)=>n=>jP(e,t,V.some(n)),UP=e=>{e.on(t=>{t.intervalId.clear(),$P(t.ghost)}),e.clear()},Jj=e=>{const t=cs(),n=qn.DOM,r=document,a=Wj(t,e),c=Gj(t,e),u=Yj(t,e),g=Xj(t,e);e.on("mousedown",a),e.on("mousemove",c),e.on("mouseup",u),n.bind(r,"mousemove",c),n.bind(r,"mouseup",g),e.on("remove",()=>{n.unbind(r,"mousemove",c),n.unbind(r,"mouseup",g)}),e.on("keydown",v=>{v.keyCode===Ht.ESC&&jP(t,e,V.none())})},Qj=e=>{const t=a=>{if(!a.isDefaultPrevented()){const c=a.dataTransfer;c&&(Wo(c.types,"Files")||c.files.length>0)&&(a.preventDefault(),a.type==="drop"&&Xy(e,"Dropped file type is not supported"))}},n=a=>{pk(e,a.target)&&t(a)},r=()=>{const a=qn.DOM,c=e.dom,u=document,g=e.inline?e.getBody():e.getDoc(),v=["drop","dragover"];Ne(v,S=>{a.bind(u,S,n),c.bind(g,S,t)}),e.on("remove",()=>{Ne(v,S=>{a.unbind(u,S,n),c.unbind(g,S,t)})})};e.on("init",()=>{Ld.setEditorTimeout(e,r,0)})},eU=e=>{Jj(e),YD(e)&&Qj(e)},tU=e=>{const t=Hs(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const n=e.selection.getRng();if(n.collapsed){const r=B3(e,n,!1);e.selection.setRng(r)}}},0);e.on("focus",()=>{t.throttle()}),e.on("blur",()=>{t.cancel()})},oU=e=>{e.on("init",()=>{e.on("focusin",t=>{const n=t.target;if(hl(n)){const r=jh(e.getBody(),n),a=Wr(r)?r:n;e.selection.getNode()!==a&&Pv(e,a).each(c=>e.selection.setRng(c))}})})},z4=Wr,ZP=(e,t)=>jh(e.getBody(),t),nU=e=>{const t=e.selection,n=e.dom,r=e.getBody(),a=gR(e,r,n.isBlock,()=>cy(e)),c="sel-"+n.uniqueId(),u="data-mce-selected";let g;const v=Lt=>Le(Lt)&&n.hasClass(Lt,"mce-offscreen-selection"),S=Lt=>Lt!==r&&(z4(Lt)||hl(Lt))&&n.isChildOf(Lt,r)&&n.isEditable(Lt.parentNode),R=Lt=>{Lt&&t.setRng(Lt)},B=(Lt,We,He,tt=!0)=>e.dispatch("ShowCaret",{target:We,direction:Lt,before:He}).isDefaultPrevented()?null:(tt&&t.scrollIntoView(We,Lt===-1),a.show(He,We)),L=Lt=>{Lt.hasAttribute("data-mce-caret")&&(Xp(Lt),t.scrollIntoView(Lt))},G=()=>{e.on("click",We=>{n.isEditable(We.target)||(We.preventDefault(),e.focus())}),e.on("blur NewBlock",Me),e.on("ResizeWindow FullscreenStateChanged",a.reposition),e.on("tap",We=>{const He=We.target,tt=ZP(e,He);z4(tt)?(We.preventDefault(),Pv(e,tt).each(ze)):S(He)&&Pv(e,He).each(ze)},!0),e.on("mousedown",We=>{const He=We.target;if(He!==r&&He.nodeName!=="HTML"&&!n.isChildOf(He,r)||!kO(e,We.clientX,We.clientY))return;Me(),vt();const tt=ZP(e,He);z4(tt)?(We.preventDefault(),Pv(e,tt).each(ze)):NP(r,We.clientX,We.clientY).each(Rt=>{We.preventDefault();const ro=B(1,Rt.node,Rt.position===kw.Before,!1);R(ro),Pl(tt)?tt.focus():e.getBody().focus()})}),e.on("keypress",We=>{Ht.modifierPressed(We)||z4(t.getNode())&&We.preventDefault()}),e.on("GetSelectionRange",We=>{let He=We.range;if(g){if(!g.parentNode){g=null;return}He=He.cloneRange(),He.selectNode(g),We.range=He}}),e.on("SetSelectionRange",We=>{We.range=ie(We.range);const He=ze(We.range,We.forward);He&&(We.range=He)});const Lt=We=>qt(We)&&We.id==="mcepastebin";e.on("AfterSetSelectionRange",We=>{const He=We.range,tt=He.startContainer.parentElement;!J(He)&&!Lt(tt)&&vt(),v(tt)||Me()}),eU(e),tU(e),oU(e)},ae=Lt=>cc(Lt)||sm(Lt)||fh(Lt),J=Lt=>ae(Lt.startContainer)||ae(Lt.endContainer),ie=Lt=>{const We=e.schema.getVoidElements(),He=n.createRng(),tt=Lt.startContainer,Rt=Lt.startOffset,ro=Lt.endContainer,Go=Lt.endOffset;return go(We,tt.nodeName.toLowerCase())?Rt===0?He.setStartBefore(tt):He.setStartAfter(tt):He.setStart(tt,Rt),go(We,ro.nodeName.toLowerCase())?Go===0?He.setEndBefore(ro):He.setEndAfter(ro):He.setEnd(ro,Go),He},he=(Lt,We)=>{const He=me.fromDom(e.getBody()),tt=e.getDoc(),Rt=Ke(He,"#"+c).getOrThunk(()=>{const Jo=me.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',tt);return In(Jo,"id",c),lr(He,Jo),Jo}),ro=n.createRng();nc(Rt),Ai(Rt,[me.fromText(Fs,tt),me.fromDom(We),me.fromText(Fs,tt)]),ro.setStart(Rt.dom.firstChild,1),ro.setEnd(Rt.dom.lastChild,0),Nl(Rt,{top:n.getPos(Lt,e.getBody()).y+"px"}),ay(Rt);const Go=t.getSel();return Go&&(Go.removeAllRanges(),Go.addRange(ro)),ro},Se=Lt=>{const We=Lt.cloneNode(!0),He=e.dispatch("ObjectSelected",{target:Lt,targetClone:We});if(He.isDefaultPrevented())return null;const tt=he(Lt,He.targetClone),Rt=me.fromDom(Lt);return Ne(Cs(me.fromDom(e.getBody()),`*[${u}]`),ro=>{rn(Rt,ro)||Dn(ro,u)}),n.getAttrib(Lt,u)||Lt.setAttribute(u,"1"),g=Lt,vt(),tt},ze=(Lt,We)=>{if(!Lt)return null;if(Lt.collapsed){if(!J(Lt)){const ro=We?1:-1,Go=p0(ro,r,Lt),Jo=Go.getNode(!We);if(Le(Jo)){if(u0(Jo))return B(ro,Jo,We?!Go.isAtEnd():!1,!1);if(rm(Jo)&&Wr(Jo.nextSibling)){const Dr=n.createRng();return Dr.setStart(Jo,0),Dr.setEnd(Jo,0),Dr}}const nr=Go.getNode(We);if(Le(nr)){if(u0(nr))return B(ro,nr,We?!1:!Go.isAtEnd(),!1);if(rm(nr)&&Wr(nr.previousSibling)){const Dr=n.createRng();return Dr.setStart(nr,1),Dr.setEnd(nr,1),Dr}}}return null}let He=Lt.startContainer,tt=Lt.startOffset;const Rt=Lt.endOffset;if(bt(He)&&tt===0&&z4(He.parentNode)&&(He=He.parentNode,tt=n.nodeIndex(He),He=He.parentNode),!qt(He))return null;if(Rt===tt+1&&He===Lt.endContainer){const ro=He.childNodes[tt];if(S(ro))return Se(ro)}return null},Me=()=>{g&&g.removeAttribute(u),Ke(me.fromDom(e.getBody()),"#"+c).each(_n),g=null},Xe=()=>{a.destroy(),g=null},vt=()=>{a.hide()};return bm(e)||G(),{showCaret:B,showBlockCaretContainer:L,hideFakeCaret:vt,destroy:Xe}},rU=(e,t)=>{let n=t;for(let r=e.previousSibling;bt(r);r=r.previousSibling)n+=r.data.length;return n},WP=(e,t,n,r,a)=>{if(bt(n)&&(r<0||r>n.data.length))return[];const c=a&&bt(n)?[rU(n,r)]:[r];let u=n;for(;u!==t&&u.parentNode;)c.push(e.nodeIndex(u,a)),u=u.parentNode;return u===t?c.reverse():[]},zB=(e,t,n,r,a,c,u=!1)=>{const g=WP(e,t,n,r,u),v=WP(e,t,a,c,u);return{start:g,end:v}},qP=(e,t)=>{const n=t.slice(),r=n.pop();return T(r)?mo(n,(c,u)=>c.bind(g=>V.from(g.childNodes[u])),V.some(e)).bind(c=>bt(c)&&(r<0||r>c.data.length)?V.none():V.some({node:c,offset:r})):V.none()},GP=(e,t)=>qP(e,t.start).bind(({node:n,offset:r})=>qP(e,t.end).map(({node:a,offset:c})=>{const u=document.createRange();return u.setStart(n,r),u.setEnd(a,c),u})),sU=(e,t,n,r=!1)=>zB(e,t,n.startContainer,n.startOffset,n.endContainer,n.endOffset,r),_w=(e,t,n)=>{if(t&&e.isEmpty(t)&&!n(t)){const r=t.parentNode;e.remove(t,bt(t.firstChild)&&Kc(t.firstChild.data)),_w(e,r,n)}},_D=(e,t,n,r=!0)=>{const a=t.startContainer.parentNode,c=t.endContainer.parentNode;t.deleteContents(),r&&!n(t.startContainer)&&(bt(t.startContainer)&&t.startContainer.data.length===0&&e.remove(t.startContainer),bt(t.endContainer)&&t.endContainer.data.length===0&&e.remove(t.endContainer),_w(e,a,n),a!==c&&_w(e,c,n))},wD=(e,t)=>V.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),TB=(e,t,n)=>{const r=e.dynamicPatternsLookup({text:n,block:t});return{...e,blockPatterns:or(r).concat(e.blockPatterns),inlinePatterns:Vs(r).concat(e.inlinePatterns)}},OB=(e,t,n,r)=>{const a=e.createRng();return a.setStart(t,0),a.setEnd(n,r),a.toString()},KP=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),CD=(e,t)=>{const n=e.createRng();return n.setStartAfter(t.start),n.setEndBefore(t.end),n},YP=(e,t,n)=>{const r=GP(e.getRoot(),n).getOrDie("Unable to resolve path range"),a=r.startContainer,c=r.endContainer,u=r.endOffset===0?c:c.splitText(r.endOffset),g=r.startOffset===0?a:a.splitText(r.startOffset),v=g.parentNode,S=u.parentNode;return{prefix:t,end:S.insertBefore(KP(e,t+"-end"),u),start:v.insertBefore(KP(e,t+"-start"),g)}},XP=(e,t,n)=>{_w(e,e.get(t.prefix+"-end"),n),_w(e,e.get(t.prefix+"-start"),n)},DB=e=>e.start.length===0,aU=e=>(t,n)=>{const a=t.data.substring(0,n),c=a.lastIndexOf(e.charAt(e.length-1)),u=a.lastIndexOf(e);return u!==-1?u+e.length:c!==-1?c+1:-1},JP=(e,t,n,r)=>{const a=t.start;return KM(e,r.container,r.offset,aU(a),n).bind(u=>{var g,v;const S=(v=(g=n.textContent)===null||g===void 0?void 0:g.indexOf(a))!==null&&v!==void 0?v:-1;if(S!==-1&&u.offset>=S+a.length){const B=e.createRng();return B.setStart(u.container,u.offset-a.length),B.setEnd(u.container,u.offset),V.some(B)}else{const B=u.offset-a.length;return GM(u.container,B,n).map(L=>{const G=e.createRng();return G.setStart(L.container,L.offset),G.setEnd(u.container,u.offset),G}).filter(L=>L.toString()===a).orThunk(()=>JP(e,t,n,Np(u.container,0)))}})},iU=(e,t,n,r,a,c=!1)=>{if(t.start.length===0&&!c){const u=e.createRng();return u.setStart(n,r),u.setEnd(n,r),V.some(u)}return qM(n,r,a).bind(u=>JP(e,t,a,u).bind(v=>{var S;if(c){if(v.endContainer===u.container&&v.endOffset===u.offset)return V.none();if(u.offset===0&&((S=v.endContainer.textContent)===null||S===void 0?void 0:S.length)===v.endOffset)return V.none()}return V.some(v)}))},lU=(e,t,n,r)=>{const a=e.dom,c=a.getRoot(),u=n.pattern,g=n.position.container,v=n.position.offset;return GM(g,v-n.pattern.end.length,t).bind(S=>{const R=zB(a,c,S.container,S.offset,g,v,r);if(DB(u))return V.some({matches:[{pattern:u,startRng:R,endRng:R}],position:S});{const B=SD(e,n.remainingPatterns,S.container,S.offset,t,r),L=B.getOr({matches:[],position:S}),G=L.position;return iU(a,u,G.container,G.offset,t,B.isNone()).map(J=>{const ie=sU(a,c,J,r);return{matches:L.matches.concat([{pattern:u,startRng:ie,endRng:R}]),position:Np(J.startContainer,J.startOffset)}})}})},SD=(e,t,n,r,a,c)=>{const u=e.dom;return qM(n,r,u.getRoot()).bind(g=>{const v=OB(u,a,n,r);for(let S=0;S<t.length;S++){const R=t[S];if(!wi(v,R.end))continue;const B=t.slice();B.splice(S,1);const L=lU(e,a,{pattern:R,remainingPatterns:B,position:g},c);if(L.isNone()&&r>0)return SD(e,t,n,r-1,a,c);if(L.isSome())return L}return V.none()})},QP=(e,t,n)=>{e.selection.setRng(n),t.type==="inline-format"?Ne(t.format,r=>{e.formatter.apply(r)}):e.execCommand(t.cmd,!1,t.value)},cU=(e,t,n,r)=>{const a=CD(e.dom,n);_D(e.dom,a,r),QP(e,t,a)},dU=(e,t,n,r,a)=>{const c=e.dom,u=CD(c,r),g=CD(c,n);_D(c,g,a),_D(c,u,a);const v={prefix:n.prefix,start:n.end,end:r.start},S=CD(c,v);QP(e,t,S)},uU=(e,t)=>{const n=lc("mce_textpattern"),r=to(t,(a,c)=>{const u=YP(e,n+`_end${a.length}`,c.endRng);return a.concat([{...c,endMarker:u}])},[]);return to(r,(a,c)=>{const u=r.length-a.length-1,g=DB(c.pattern)?c.endMarker:YP(e,n+`_start${u}`,c.startRng);return a.concat([{...c,startMarker:g}])},[])},fU=e=>jo(e,(t,n)=>n.end.length-t.end.length),mU=(e,t)=>{const n=wr(e,r=>zn(t,a=>r.pattern.start===a.pattern.start&&r.pattern.end===a.pattern.end));return e.length===t.length?n?e:t:e.length>t.length?e:t},eL=(e,t,n,r,a,c)=>{const u=SD(e,a.inlinePatterns,n,r,t,c).fold(()=>[],v=>v.matches),g=SD(e,fU(a.inlinePatterns),n,r,t,c).fold(()=>[],v=>v.matches);return mU(u,g)},tL=(e,t)=>{if(t.length===0)return;const n=e.dom,r=e.selection.getBookmark(),a=uU(n,t);Ne(a,c=>{const u=n.getParent(c.startMarker.start,n.isBlock),g=v=>v===u;DB(c.pattern)?cU(e,c.pattern,c.endMarker,g):dU(e,c.pattern,c.startMarker,c.endMarker,g),XP(n,c.endMarker,g),XP(n,c.startMarker,g)}),e.selection.moveToBookmark(r)},oL=(e,t,n)=>eH(t,0,t).map(r=>{const a=r.container;return nI(a,n.start.length,t).each(c=>{const u=e.createRng();u.setStart(a,0),u.setEnd(c.container,c.offset),_D(e,u,g=>g===t)}),a}),nL=e=>(t,n)=>{const r=t.dom,a=n.pattern,c=GP(r.getRoot(),n.range).getOrDie("Unable to resolve path range"),u=(g,v)=>{const S=v.get(g);return ve(S)&&mt(S).exists(R=>go(R,"block"))};return wD(t,c).each(g=>{a.type==="block-format"?u(a.format,t.formatter)&&t.undoManager.transact(()=>{e(t.dom,g,a),t.formatter.apply(a.format)}):a.type==="block-command"&&t.undoManager.transact(()=>{e(t.dom,g,a),t.execCommand(a.cmd,!1,a.value)})}),!0},pU=e=>jo(e,(t,n)=>n.start.length-t.start.length),rL=e=>(t,n)=>{const r=pU(t),a=n.replace(Fs," ");return Sn(r,c=>e(c,n,a))},sL=(e,t)=>(n,r,a,c,u)=>{var g;u===void 0&&(u=(g=r.textContent)!==null&&g!==void 0?g:"");const v=n.dom,S=Ul(n);return v.is(r,S)?e(a.blockPatterns,u).map(R=>t&&ht.trim(u).length===R.start.length?[]:[{pattern:R,range:zB(v,v.getRoot(),r,0,r,0,c)}]).getOr([]):[]},gU=e=>/^\s[^\s]/.test(e),hU=nL((e,t,n)=>{oL(e,t,n).each(r=>{const a=me.fromDom(r),c=tm(a);gU(c)&&I1(a,c.slice(1))})}),bU=rL((e,t,n)=>t.indexOf(e.start)===0||n.indexOf(e.start)===0),yU=sL(bU,!0),vU=(e,t)=>{const n=e.selection.getRng();return wD(e,n).map(r=>{var a;const c=Math.max(0,n.startOffset),u=TB(t,r,(a=r.textContent)!==null&&a!==void 0?a:""),g=eL(e,r,n.startContainer,c,u,!0),v=yU(e,r,u,!0);return{inlineMatches:g,blockMatches:v}}).filter(({inlineMatches:r,blockMatches:a})=>a.length>0||r.length>0)},xU=(e,t)=>{if(t.length===0)return;const n=e.selection.getBookmark();Ne(t,r=>hU(e,r)),e.selection.moveToBookmark(n)},kU=nL(oL),_U=rL((e,t,n)=>t===e.start||n===e.start),wU=sL(_U,!1),CU=(e,t)=>{const n=e.selection.getRng();return wD(e,n).map(r=>{const a=Math.max(0,n.startOffset),c=OB(e.dom,r,n.startContainer,a),u=TB(t,r,c);return wU(e,r,u,!1,c)}).filter(r=>r.length>0)},SU=(e,t)=>{Ne(t,n=>kU(e,n))},EU=(e,t)=>vU(e,t).fold(an,({inlineMatches:n,blockMatches:r})=>(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{Pw(e),tL(e,n),xU(e,r);const a=e.selection.getRng(),c=qM(a.startContainer,a.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),c.each(u=>{const g=u.container;g.data.charAt(u.offset-1)===wc&&(g.deleteData(u.offset-1,1),_w(e.dom,g.parentNode,v=>v===e.dom.getRoot()))})}),!0)),AU=(e,t)=>{const n=e.selection.getRng();wD(e,n).map(r=>{const a=Math.max(0,n.startOffset-1),c=OB(e.dom,r,n.startContainer,a),u=TB(t,r,c),g=eL(e,r,n.startContainer,a,u,!1);g.length>0&&e.undoManager.transact(()=>{tL(e,g)})})},zU=(e,t)=>CU(e,t).fold(an,n=>(e.undoManager.transact(()=>{SU(e,n)}),!0)),aL=(e,t,n)=>{for(let r=0;r<e.length;r++)if(n(e[r],t))return!0;return!1},TU=(e,t)=>aL(e,t,(n,r)=>n===r.keyCode&&!Ht.modifierPressed(r)),OU=(e,t)=>aL(e,t,(n,r)=>n.charCodeAt(0)===r.charCode),DU=e=>{const t=[",",".",";",":","!","?"],n=[32],r=()=>Wi(tR(e).filter(u=>u.type==="inline-command"||u.type==="block-command"?e.queryCommandSupported(u.cmd):!0),oR(e)),a=()=>vE(e);e.on("keydown",u=>{if(u.keyCode===13&&!Ht.modifierPressed(u)&&e.selection.isCollapsed()&&e.selection.isEditable()){const g=ra(r(),"enter");(g.inlinePatterns.length>0||g.blockPatterns.length>0||a())&&EU(e,g)&&u.preventDefault()}},!0),e.on("keydown",u=>{if(u.keyCode===32&&e.selection.isCollapsed()&&e.selection.isEditable()){const g=ra(r(),"space");(g.blockPatterns.length>0||a())&&zU(e,g)&&u.preventDefault()}},!0);const c=()=>{if(e.selection.isCollapsed()&&e.selection.isEditable()){const u=ra(r(),"space");(u.inlinePatterns.length>0||a())&&AU(e,u)}};e.on("keyup",u=>{TU(n,u)&&c()}),e.on("keypress",u=>{OU(t,u)&&Ld.setEditorTimeout(e,c)})},RU=e=>{DU(e)},NU=e=>{const t=ht.each,n=Ht.BACKSPACE,r=Ht.DELETE,a=e.dom,c=e.selection,u=e.parser,g=Nt.browser,v=g.isFirefox(),S=g.isChromium()||g.isSafari(),R=Nt.deviceType.isiPhone()||Nt.deviceType.isiPad(),B=Nt.os.isMacOS()||Nt.os.isiOS(),L=(Pt,at)=>{try{e.getDoc().execCommand(Pt,!1,String(at))}catch{}},G=Pt=>Pt.isDefaultPrevented(),ae=()=>{const Pt=Dt=>{const zo=a.create("body"),Hr=Dt.cloneContents();return zo.appendChild(Hr),c.serializer.serialize(zo,{format:"html"})},at=Dt=>{const zo=Pt(Dt),Hr=a.createRng();Hr.selectNode(e.getBody());const mn=Pt(Hr);return zo===mn};e.on("keydown",Dt=>{const zo=Dt.keyCode;if(!G(Dt)&&(zo===r||zo===n)&&e.selection.isEditable()){const Hr=e.selection.isCollapsed(),mn=e.getBody();if(Hr&&!ac(e.schema,mn)||!Hr&&!at(e.selection.getRng()))return;Dt.preventDefault(),e.setContent(""),mn.firstChild&&a.isBlock(mn.firstChild)?e.selection.setCursorLocation(mn.firstChild,0):e.selection.setCursorLocation(mn,0),e.nodeChanged()}})},J=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},ie=()=>{e.inline||a.bind(e.getDoc(),"mousedown mouseup",Pt=>{let at;if(Pt.target===e.getDoc().documentElement)if(at=c.getRng(),e.getBody().focus(),Pt.type==="mousedown"){if(cc(at.startContainer))return;c.placeCaretAt(Pt.clientX,Pt.clientY)}else c.setRng(at)})},he=()=>{e.on("keydown",Pt=>{if(!G(Pt)&&Pt.keyCode===n){if(!e.getBody().getElementsByTagName("hr").length)return;if(c.isCollapsed()&&c.getRng().startOffset===0){const at=c.getNode(),Dt=at.previousSibling;if(at.nodeName==="HR"){a.remove(at),Pt.preventDefault();return}Dt&&Dt.nodeName&&Dt.nodeName.toLowerCase()==="hr"&&(a.remove(Dt),Pt.preventDefault())}}})},Se=()=>{Range.prototype.getClientRects||e.on("mousedown",Pt=>{if(!G(Pt)&&Pt.target.nodeName==="HTML"){const at=e.getBody();at.blur(),Ld.setEditorTimeout(e,()=>{at.focus()})}})},ze=()=>{const Pt=Nx(e);e.on("click",at=>{const Dt=at.target;/^(IMG|HR)$/.test(Dt.nodeName)&&a.isEditable(Dt)&&(at.preventDefault(),e.selection.select(Dt),e.nodeChanged()),Dt.nodeName==="A"&&a.hasClass(Dt,Pt)&&Dt.childNodes.length===0&&a.isEditable(Dt.parentNode)&&(at.preventDefault(),c.select(Dt))})},Me=()=>{const Pt=()=>{const Dt=a.getAttribs(c.getStart().cloneNode(!1));return()=>{const zo=c.getStart();zo!==e.getBody()&&(a.setAttrib(zo,"style",null),t(Dt,Hr=>{zo.setAttributeNode(Hr.cloneNode(!0))}))}},at=()=>!c.isCollapsed()&&a.getParent(c.getStart(),a.isBlock)!==a.getParent(c.getEnd(),a.isBlock);e.on("keypress",Dt=>{let zo;return!G(Dt)&&(Dt.keyCode===8||Dt.keyCode===46)&&at()?(zo=Pt(),e.getDoc().execCommand("delete",!1),zo(),Dt.preventDefault(),!1):!0}),a.bind(e.getDoc(),"cut",Dt=>{if(!G(Dt)&&at()){const zo=Pt();Ld.setEditorTimeout(e,()=>{zo()})}})},Xe=()=>{e.on("keydown",Pt=>{if(!G(Pt)&&Pt.keyCode===n&&c.isCollapsed()&&c.getRng().startOffset===0){const at=c.getNode().previousSibling;if(at&&at.nodeName&&at.nodeName.toLowerCase()==="table")return Pt.preventDefault(),!1}return!0})},vt=()=>{e.on("keydown",Pt=>{if(G(Pt)||Pt.keyCode!==Ht.BACKSPACE)return;let at=c.getRng();const Dt=at.startContainer,zo=at.startOffset,Hr=a.getRoot();let mn=Dt;if(!(!at.collapsed||zo!==0)){for(;mn.parentNode&&mn.parentNode.firstChild===mn&&mn.parentNode!==Hr;)mn=mn.parentNode;mn.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,mn),at=a.createRng(),at.setStart(Dt,0),at.setEnd(Dt,0),c.setRng(at))}})},Lt=()=>{const Pt=()=>{L("StyleWithCSS",!1),L("enableInlineTableEditing",!1),qb(e)||L("enableObjectResizing",!1)};yh(e)||e.on("BeforeExecCommand mousedown",Pt)},We=()=>{const Pt=()=>{t(a.select("a:not([data-mce-block])"),at=>{var Dt;let zo=at.parentNode;const Hr=a.getRoot();if((zo==null?void 0:zo.lastChild)===at){for(;zo&&!a.isBlock(zo);){if(((Dt=zo.parentNode)===null||Dt===void 0?void 0:Dt.lastChild)!==zo||zo===Hr)return;zo=zo.parentNode}a.add(zo,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",at=>{(at.type==="setcontent"||at.command==="mceInsertLink")&&Pt()})},He=()=>{e.on("init",()=>{L("DefaultParagraphSeparator",Ul(e))})},tt=Pt=>{const at=Pt.getBody(),Dt=Pt.selection.getRng();return Dt.startContainer===Dt.endContainer&&Dt.startContainer===at&&Dt.startOffset===0&&Dt.endOffset===at.childNodes.length},Rt=()=>{e.on("keyup focusin mouseup",Pt=>{!Ht.modifierPressed(Pt)&&!tt(e)&&c.normalize()},!0)},ro=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},Go=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},Jo=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",Pt=>{let at;Pt.target.nodeName==="HTML"&&(at=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(at),e.selection.normalize(),e.nodeChanged())}))},nr=()=>{B&&e.on("keydown",Pt=>{Ht.metaKeyPressed(Pt)&&!Pt.shiftKey&&(Pt.keyCode===37||Pt.keyCode===39)&&(Pt.preventDefault(),e.selection.getSel().modify("move",Pt.keyCode===37?"backward":"forward","lineboundary"))})},Dr=()=>{e.on("click",Pt=>{let at=Pt.target;do if(at.tagName==="A"){Pt.preventDefault();return}while(at=at.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},za=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",Pt=>{Pt.preventDefault()})})},Ki=()=>{u.addNodeFilter("br",Pt=>{let at=Pt.length;for(;at--;)Pt[at].attr("class")==="Apple-interchange-newline"&&Pt[at].remove()})},Yi=Qt,At=()=>{if(!v||e.removed)return!1;const Pt=e.selection.getSel();return!Pt||!Pt.rangeCount||Pt.rangeCount===0},so=()=>{S&&(ie(),ze(),za(),J(),R&&(Go(),Jo(),Dr())),v&&(Se(),Lt(),ro(),nr())},Yn=()=>{vt(),ae(),Nt.windowsPhone||Rt(),S&&(ie(),ze(),He(),za(),Xe(),Ki(),R?(Go(),Jo(),Dr()):J()),v&&(he(),Se(),Me(),Lt(),We(),ro(),nr(),Xe())};return bm(e)?so():Yn(),{refreshContentEditable:Yi,isHidden:At}},MU=e=>e.toLowerCase()==="gpl",BU=e=>e.length>=64&&e.length<=255,IU=e=>MU(e)||BU(e)?"VALID":"INVALID",PU=e=>{const t=iR(e);!pt(Vx(e))&&(Xn(t)||IU(t)==="INVALID")&&console.warn("TinyMCE is running in evaluation mode. Provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms. Read more at https://www.tiny.cloud/license-key/")},RB=qn.DOM,LU=(e,t)=>{const n=me.fromDom(e.getBody()),r=xu(kc(n)),a=me.fromTag("style");In(a,"type","text/css"),lr(a,me.fromText(t)),lr(r,a),e.on("remove",()=>{_n(a)})},FU=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,NB=e=>_i(e,t=>Xn(t)===!1),iL=e=>{const t=e.options.get,n=e.editorUpload.blobCache;return NB({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_mathml_annotation_encodings:t("allow_mathml_annotation_encodings"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_unsafe_embeds:t("convert_unsafe_embeds"),convert_fonts_to_spans:t("convert_fonts_to_spans"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),inline_styles:t("inline_styles"),root_name:FU(e),sandbox_iframes:t("sandbox_iframes"),sandbox_iframes_exclusions:Hx(e),sanitize:t("xss_sanitization"),validate:!0,blob_cache:n,document:e.getDoc()})},lL=e=>{const t=e.options.get;return NB({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},HU=e=>{const t=e.options.get;return{...iL(e),...lL(e),...NB({remove_trailing_brs:t("remove_trailing_brs"),pad_empty_with_br:t("pad_empty_with_br"),url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")})}},VU=e=>{const t=Hy(iL(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",(n,r)=>{const a=e.dom,c="data-mce-"+r;let u=n.length;for(;u--;){const g=n[u];let v=g.attr(r);if(v&&!g.attr(c)){if(v.indexOf("data:")===0||v.indexOf("blob:")===0)continue;r==="style"?(v=a.serializeStyle(a.parseStyle(v),g.name),v.length||(v=null),g.attr(c,v),g.attr(r,v)):r==="tabindex"?(g.attr(c,v),g.attr(r,null)):g.attr(c,e.convertURL(v,r,g.name))}}}),t.addNodeFilter("script",n=>{let r=n.length;for(;r--;){const a=n[r],c=a.attr("type")||"no/type";c.indexOf("mce-")!==0&&a.attr("type","mce-"+c)}}),Px(e)&&t.addNodeFilter("#cdata",n=>{var r;let a=n.length;for(;a--;){const c=n[a];c.type=8,c.name="#comment",c.value="[CDATA["+e.dom.encode((r=c.value)!==null&&r!==void 0?r:"")+"]]"}}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",n=>{let r=n.length;const a=e.schema.getNonEmptyElements();for(;r--;){const c=n[r];c.isEmpty(a)&&c.getAll("br").length===0&&c.append(new fc("br",1))}}),t},$U=e=>{const t=Bx(e);t&&Ld.setEditorTimeout(e,()=>{let n;t===!0?n=e:n=e.editorManager.get(t),n&&!n.destroyed&&(n.focus(),n.selection.scrollIntoView())},100)},jU=e=>{const t=e.dom.getRoot();!e.inline&&(!y0(e)||e.selection.getStart(!0)===t)&&Zl(t).each(n=>{const r=n.getNode(),a=Jc(r)?Zl(r).getOr(n):n;e.selection.setRng(a.toRange())})},UU=e=>{e.bindPendingEventDelegates(),e.initialized=!0,Cx(e),e.focus(!0),jU(e),e.nodeChanged({initial:!0});const t=aE(e);It(t)&&t.call(e,e),$U(e),Ep(e)&&TO(e,!0)},MB=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,ZU=(e,t,n)=>{const{pass:r,fail:a}=st(t,g=>tinymce.Resource.has(q_(g))),u=[...r.map(g=>{const v=tinymce.Resource.get(q_(g));return pt(v)?Promise.resolve(MB(e).loadRawCss(g,v)):Promise.resolve()}),MB(e).loadAll(a)];return e.inline?u:u.concat([e.ui.styleSheetLoader.loadAll(n)])},cL=e=>{const t=MB(e),n=s0(e),r=e.contentCSS,a=()=>{t.unloadAll(r),e.inline||e.ui.styleSheetLoader.unloadAll(n)},c=()=>{e.removed?a():e.on("remove",a)};if(e.contentStyles.length>0){let v="";ht.each(e.contentStyles,S=>{v+=S+`\r
`}),e.dom.addStyle(v)}const u=Promise.all(ZU(e,r,n)).then(c).catch(c),g=im(e);return g&&LU(e,g),u},WU=e=>{const t=e.getDoc(),n=e.getBody();Lu(e),lE(e)||(t.body.spellcheck=!1,RB.setAttrib(n,"spellcheck","false")),e.quirks=NU(e),cu(e);const r=sd(e);r!==void 0&&(n.dir=r);const a=cE(e);a&&e.on("BeforeSetContent",c=>{ht.each(a,u=>{c.content=c.content.replace(u,g=>"<!--mce:protected "+escape(g)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",c=>{e.composing=c.type==="compositionstart"})},qU=e=>{bm(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},BB=e=>{e.removed!==!0&&(qU(e),UU(e))},GU=e=>{let t=!1;const n=setTimeout(()=>{t||e.setProgressState(!0)},500);return()=>{clearTimeout(n),t=!0,e.setProgressState(!1)}},dL=e=>{const t=e.getElement();let n=e.getDoc();e.inline&&(RB.addClass(t,"mce-content-body"),e.contentDocument=n=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);const r=e.getBody();r.disabled=!0,e.readonly=yh(e),e._editableRoot=KD(e),!c0(e)&&e.hasEditableRoot()&&(e.inline&&RB.getStyle(r,"position",!0)==="static"&&(r.style.position="relative"),r.contentEditable="true"),r.disabled=!1,e.editorUpload=P8(e),e.schema=Du(lL(e)),e.dom=qn(n,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:J4(e),referrerPolicy:Tx(e),onSetAttrib:u=>{e.dispatch("SetAttrib",u)}}),e.parser=VU(e),e.serializer=s3(HU(e),e),e.selection=F_(e.dom,e.getWin(),e.serializer,e),e.annotator=mA(e),e.formatter=_3(e),e.undoManager=Y_(e),e._nodeChangeDispatcher=new $V(e),e._selectionOverrides=nU(e),Tr(e),lj(e),r1(e),bm(e)||(gj(e),RU(e));const a=VV(e);ns(e,a),dw(e),S3(e),sj(e);const c=$5(e);WU(e),PU(e),c.fold(()=>{const u=GU(e);cL(e).then(()=>{BB(e),u()})},u=>{e.setProgressState(!0),cL(e).then(()=>{u().then(g=>{e.setProgressState(!1),BB(e),e3(e)},g=>{e.notificationManager.open({type:"error",text:String(g)}),BB(e),e3(e)})})})},KU=Co,YU=(e,t,n)=>M(e,t,KU,n),IB=qn.DOM,XU=(e,t,n,r)=>{const a=me.fromTag("iframe");return r.each(c=>In(a,"tabindex",c)),Dl(a,n),Dl(a,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),vc(a,"tox-edit-area__iframe"),a},JU=e=>{let t=PD(e)+"<html><head>";Z4(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const n=wn(e),r=LD(e),a=e.translate(Mx(e));return Yw(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+Yw(e)+'" />'),t+=`</head><body id="${n}" class="mce-content-body ${r}" data-id="${e.id}" aria-label="${a}"><br></body></html>`,t},QU=(e,t)=>{const n=Nt.browser.isFirefox()?Mx(e):"Rich Text Area",r=e.translate(n),a=$s(me.fromDom(e.getElement()),"tabindex").bind(Qn),c=XU(e.id,r,Wb(e),a).dom;c.onload=()=>{c.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=c,e.iframeHTML=JU(e),IB.add(t.iframeContainer,c)},eZ=e=>{const t=e.iframeElement,n=()=>{e.contentDocument=t.contentDocument,dL(e)};if(rR(e)||Nt.browser.isFirefox()){const r=e.getDoc();r.open(),r.write(e.iframeHTML),r.close(),n()}else{const r=YU(me.fromDom(t),"load",()=>{r.unbind(),n()});t.srcdoc=e.iframeHTML}},tZ=(e,t)=>{QU(e,t),t.editorContainer&&(t.editorContainer.style.display=e.orgDisplay,e.hidden=IB.isHidden(t.editorContainer)),e.getElement().style.display="none",IB.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,eZ(e)},uL=qn.DOM,oZ=(e,t,n)=>{const r=Yy.get(n),a=Yy.urls[n]||e.documentBaseUrl.replace(/\/$/,"");if(n=ht.trim(n),r&&ht.inArray(t,n)===-1){if(e.plugins[n])return;try{const c=r(e,a)||{};e.plugins[n]=c,It(c.init)&&(c.init(e,a),t.push(n))}catch(c){p3(e,n,c)}}},nZ=e=>e.replace(/^\-/,""),rZ=e=>{const t=[];Ne(Rx(e),n=>{oZ(e,t,nZ(n))})},sZ=e=>{const t=ht.trim(Jt(e)),n=e.ui.registry.getAll().icons,r={...zg.get("default").icons,...zg.get(t).icons};To(r,(a,c)=>{go(n,c)||e.ui.registry.addIcon(c,a)})},aZ=e=>{const t=Kb(e);if(pt(t)){const n=Tg.get(t);e.theme=n(e,Tg.urls[t])||{},It(e.theme.init)&&e.theme.init(e,Tg.urls[t]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},iZ=e=>{const t=xn(e),n=Ky.get(t);e.model=n(e,Ky.urls[t])},lZ=e=>{const t=e.theme.renderUI;return t?t():mL(e)},cZ=e=>{const t=e.getElement(),r=Kb(e)(e,t);return r.editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||e.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||e.id+"_iframecontainer"),r.height=r.iframeHeight?r.iframeHeight:t.offsetHeight,r},fL=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),dZ=e=>{const t=uL.create("div");return uL.insertAfter(t,e),fL(t,t)},mL=e=>{const t=e.getElement();return e.inline?fL(null):dZ(t)},uZ=e=>{const t=e.getElement();return e.orgDisplay=t.style.display,pt(Kb(e))?lZ(e):It(Kb(e))?cZ(e):mL(e)},fZ=(e,t)=>{const n={show:V.from(t.show).getOr(Qt),hide:V.from(t.hide).getOr(Qt),isEnabled:V.from(t.isEnabled).getOr(Co),setEnabled:r=>{r&&(e.mode.get()==="readonly"||Ep(e))||V.from(t.setEnabled).each(c=>c(r))}};e.ui={...e.ui,...n}},mZ=async e=>{e.dispatch("ScriptsLoaded"),sZ(e),aZ(e),iZ(e),rZ(e);const t=await uZ(e);fZ(e,V.from(t.api).getOr({})),e.editorContainer=t.editorContainer,BO(e),e.inline?dL(e):tZ(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})},Wv=qn.DOM,pL=e=>e.charAt(0)==="-",pZ=(e,t)=>{const n=Q4(t),r=$D(t);if(!zc.hasCode(n)&&n!=="en"){const a=gr(r)?r:`${t.editorManager.baseURL}/langs/${n}.js`;e.add(a).catch(()=>{CO(t,a,n)})}},gZ=(e,t)=>{const n=Kb(e);if(pt(n)&&!pL(n)&&!go(Tg.urls,n)){const r=ZD(e),a=r?e.documentBaseURI.toAbsolute(r):`themes/${n}/theme${t}.js`;Tg.load(n,a).catch(()=>{w8(e,a,n)})}},hZ=(e,t)=>{const n=xn(e);if(n!=="plugin"&&!go(Ky.urls,n)){const r=bf(e),a=pt(r)?e.documentBaseURI.toAbsolute(r):`models/${n}/model${t}.js`;Ky.load(n,a).catch(()=>{C8(e,a,n)})}},bZ=e=>V.from(K4(e)).filter(gr).map(t=>({url:t,name:V.none()})),gL=(e,t,n)=>V.from(t).filter(r=>gr(r)&&!zg.has(r)).map(r=>({url:`${e.editorManager.baseURL}/icons/${r}/icons${n}.js`,name:V.some(r)})),yZ=(e,t,n)=>{const r=gL(t,"default",n),a=bZ(t).orThunk(()=>gL(t,Jt(t),""));Ne(hc([r,a]),c=>{e.add(c.url).catch(()=>{_8(t,c.url,c.name.getOrUndefined())})})},vZ=(e,t)=>{const n=(r,a)=>{Yy.load(r,a).catch(()=>{wO(e,a,r)})};To(nE(e),(r,a)=>{n(a,r),e.options.set("plugins",Rx(e).concat(a))}),Ne(Rx(e),r=>{r=ht.trim(r),r&&!Yy.urls[r]&&!pL(r)&&n(r,`plugins/${r}/plugin${t}.js`)})},xZ=e=>{const t=Kb(e);return!pt(t)||Le(Tg.get(t))},kZ=e=>{const t=xn(e);return Le(Ky.get(t))},_Z=(e,t)=>{const n=ed.ScriptLoader,r=()=>{!e.removed&&xZ(e)&&kZ(e)&&mZ(e)};gZ(e,t),hZ(e,t),pZ(n,e),yZ(n,e,t),vZ(e,t),n.loadQueue().then(r,r)},wZ=(e,t)=>qg.forElement(e,{contentCssCors:n2(t),referrerPolicy:Tx(t)}),CZ=e=>{const t=e.id;zc.setCode(Q4(e));const n=()=>{Wv.unbind(window,"ready",n),e.render()};if(!bs.Event.domLoaded){Wv.bind(window,"ready",n);return}if(!e.getElement())return;const r=me.fromDom(e.getElement()),a=Ql(r);e.on("remove",()=>{wt(r.dom.attributes,u=>Dn(r,u.name)),Dl(r,a)}),e.ui.styleSheetLoader=wZ(r,e),o2(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const c=e.getElement().form||Wv.getParent(t,"form");c&&(e.formElement=c,rg(e)&&!Gf(e.getElement())&&(Wv.insertAfter(Wv.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=u=>{e.dispatch(u.type,u)},Wv.bind(c,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),bh(e)&&!c.submit.nodeType&&!c.submit.length&&!c._mceOldSubmit&&(c._mceOldSubmit=c.submit,c.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),c._mceOldSubmit(c)))),e.windowManager=f3(e),e.notificationManager=d3(e),sR(e)&&e.on("GetContent",u=>{u.save&&(u.content=Wv.encode(u.content))}),oE(e)&&e.on("submit",()=>{e.initialized&&e.save()}),qD(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),_Z(e,e.suffix)},SZ=(e,t)=>{e._editableRoot!==t&&(e._editableRoot=t,Ep(e)||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),qw(e,t))},EZ=e=>e._editableRoot,AZ=(e,t)=>({sections:Ce(e),options:Ce(t)}),hL=Ms().deviceType,bL=hL.isPhone(),zZ=hL.isTablet(),T4=e=>{if(Ro(e))return[];{const t=ve(e)?e:e.split(/[ ,]/),n=$o(t,Js);return Ye(n,gr)}},TZ=(e,t)=>{const n=Qi(t,(r,a)=>Wo(e,a));return AZ(n.t,n.f)},OZ=(e,t,n={})=>{const r=e.sections(),a=Bn(r,t).getOr({});return ht.extend({},n,a)},PB=(e,t)=>go(e.sections(),t),DZ=(e,t)=>PB(e,t)?e.sections()[t]:{},RZ=(e,t)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Bn(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...t?{menubar:!1}:{}}),NZ=(e,t)=>{var n;const r=(n=t.external_plugins)!==null&&n!==void 0?n:{};return e&&e.external_plugins?ht.extend({},e.external_plugins,r):r},MZ=(e,t)=>[...T4(e),...T4(t)],BZ=(e,t,n,r)=>e&&PB(t,"mobile")?r:n,IZ=(e,t,n,r)=>{const a=T4(n.forced_plugins),c=T4(r.plugins),u=DZ(t,"mobile"),g=u.plugins?T4(u.plugins):c,v=BZ(e,t,c,g),S=MZ(a,v);return ht.extend(r,{forced_plugins:a,plugins:S})},PZ=(e,t)=>e&&PB(t,"mobile"),LZ=(e,t,n,r,a)=>{var c;const u=e?{mobile:RZ((c=a.mobile)!==null&&c!==void 0?c:{},t)}:{},g=TZ(["mobile"],nD(u,a)),v=ht.extend(n,r,g.options(),PZ(e,g)?OZ(g,"mobile"):{},{external_plugins:NZ(r,g.options())});return IZ(e,g,r,v)},FZ=(e,t)=>{const n=uI(t);return LZ(bL||zZ,bL,n,e,n)},HZ=(e,t)=>QS(e,t),VZ=e=>{const t=(r,a)=>{e.formatter.toggle(r,a),e.nodeChanged()},n=r=>()=>{Ne("left,center,right,justify".split(","),a=>{r!==a&&e.formatter.remove("align"+a)}),r!=="none"&&t("align"+r)};e.editorCommands.addCommands({JustifyLeft:n("left"),JustifyCenter:n("center"),JustifyRight:n("right"),JustifyFull:n("justify"),JustifyNone:n("none")})},$Z=e=>{const t=n=>()=>{const r=e.selection,a=r.isCollapsed()?[e.dom.getParent(r.getNode(),e.dom.isBlock)]:r.getSelectedBlocks();return zn(a,c=>Le(e.formatter.matchNode(c,n)))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")},jZ=e=>{VZ(e),$Z(e)},UZ=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{const n=e.getDoc();let r;try{n.execCommand(t)}catch{r=!0}if(t==="paste"&&!n.queryCommandEnabled(t)&&(r=!0),r||!n.queryCommandSupported(t)){let a=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Nt.os.isMacOS()||Nt.os.isiOS())&&(a=a.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:a,type:"error"})}}})},ZZ=(e,t,n,r)=>{const a=me.fromDom(e.getRoot());return q0(a,$e.fromRangeStart(t),r)?n=n.replace(/^ /,"&nbsp;"):n=n.replace(/^&nbsp;/," "),_y(a,$e.fromRangeEnd(t),r)?n=n.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):n=n.replace(/&nbsp;(<br( \/)?>)?$/," "),n},WZ=e=>{if(typeof e!="string"){const t=ht.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}},qZ=(e,t)=>{const n=e.selection,r=e.dom;return/^ | $/.test(t)?ZZ(r,n.getRng(),t,e.schema):t},ED=(e,t)=>{if(e.selection.isEditable()){const{content:n,details:r}=WZ(t);BS(e,{...r,content:qZ(e,n),format:"html",set:!1,selection:!0}).each(a=>{const c=Kr(e,a.content,r);IS(e,c,a),e.addVisual()})}},GZ=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,n,r)=>{ED(e,e.dom.createHTML("img",{src:r}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(t,n,r)=>{ED(e,e.dom.encode(r))},insertHTML:(t,n,r)=>{ED(e,r)},mceInsertContent:(t,n,r)=>{ED(e,r)},mceSetContent:(t,n,r)=>{e.setContent(r)},mceReplaceContent:(t,n,r)=>{e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(XD(e))}})},KZ={"font-size":"size","font-family":"face"},YZ=Ba("font"),XZ=(e,t,n)=>{const r=c=>Ya(c,e).orThunk(()=>YZ(c)?Bn(KZ,e).bind(u=>$s(c,u)):V.none()),a=c=>rn(me.fromDom(t),c);return UC(me.fromDom(n),c=>r(c),a)},JZ=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),QZ=(e,t)=>V.from(qn.DOM.getStyle(t,e,!0)),yL=e=>(t,n)=>V.from(n).map(me.fromDom).filter(Ei).bind(r=>XZ(e,t,r.dom).or(QZ(e,r.dom))).getOr(""),eW=yL("font-size"),tW=Oo(JZ,yL("font-family")),oW=e=>Zl(e.getBody()).bind(t=>{const n=t.container();return V.from(bt(n)?n.parentNode:n)}),nW=e=>V.from(e.selection.getRng()).bind(t=>{const n=e.getBody();return t.startContainer===n&&t.startOffset===0?V.none():V.from(e.selection.getStart(!0))}),rW=(e,t)=>nW(e).orThunk(xt(oW,e)).map(me.fromDom).filter(Ei).bind(t),LB=(e,t)=>rW(e,_r(V.some,t)),vL=(e,t)=>{if(/^[0-9.]+$/.test(t)){const n=parseInt(t,10);if(n>=1&&n<=7){const r=xE(e),a=kE(e);return a.length>0?a[n-1]||t:r[n-1]||t}else return t}else return t},sW=e=>{const t=e.split(/\s*,\s*/);return $o(t,n=>n.indexOf(" ")!==-1&&!(ir(n,'"')||ir(n,"'"))?`'${n}'`:n).join(",")},aW=(e,t)=>{const n=vL(e,t);e.formatter.toggle("fontname",{value:sW(n)}),e.nodeChanged()},iW=e=>LB(e,t=>tW(e.getBody(),t.dom)).getOr(""),lW=(e,t)=>{e.formatter.toggle("fontsize",{value:vL(e,t)}),e.nodeChanged()},cW=e=>LB(e,t=>eW(e.getBody(),t.dom)).getOr(""),dW=e=>LB(e,t=>{const n=me.fromDom(e.getBody()),r=UC(t,c=>Ya(c,"line-height"),xt(rn,n)),a=()=>{const c=parseFloat(er(t,"line-height")),u=parseFloat(er(t,"font-size"));return String(c/u)};return r.getOrThunk(a)}).getOr(""),uW=(e,t)=>{e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()},fW=e=>{const t=(n,r)=>{e.formatter.toggle(n,r),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":n=>{t(n)},"ForeColor,HiliteColor":(n,r,a)=>{t(n,{value:a})},BackColor:(n,r,a)=>{t("hilitecolor",{value:a})},FontName:(n,r,a)=>{aW(e,a)},FontSize:(n,r,a)=>{lW(e,a)},LineHeight:(n,r,a)=>{uW(e,a)},Lang:(n,r,a)=>{var c;t(n,{value:a.code,customValue:(c=a.customCode)!==null&&c!==void 0?c:null})},RemoveFormat:n=>{e.formatter.remove(n)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(n,r,a)=>{t(pt(a)?a:"p")},mceToggleFormat:(n,r,a)=>{t(a)}})},mW=e=>{const t=n=>e.formatter.match(n);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":n=>t(n),mceBlockQuote:()=>t("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>iW(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>cW(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>dW(e))},pW=e=>{fW(e),mW(e)},gW=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},hW=e=>{e.editorCommands.addCommands({Indent:()=>{nt(e)},Outdent:()=>{Mt(e)}}),e.editorCommands.addCommands({Outdent:()=>ye(e)},"state")},bW=e=>{const t=(n,r,a)=>{if(e.mode.isReadOnly())return;const c=pt(a)?{href:a}:a,u=e.dom.getParent(e.selection.getNode(),"a");le(c)&&pt(c.href)&&(c.href=c.href.replace(/ /g,"%20"),(!u||!c.href)&&e.formatter.remove("link"),c.href&&e.formatter.apply("link",c,u))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const n=e.dom.getParent(e.selection.getStart(),"a");n&&e.dom.remove(n,!0);return}e.formatter.remove("link")}},mceInsertLink:t,createLink:t})},yW=(e,t,n,r)=>{const a=e.dom,c=g=>a.isBlock(g)&&g.parentElement===n,u=c(t)?t:a.getParent(r,c,n);return V.from(u).map(me.fromDom)},xL=(e,t)=>{if(e.mode.isReadOnly())return;const n=e.dom,r=e.selection.getRng(),a=t?e.selection.getStart():e.selection.getEnd(),c=t?r.startContainer:r.endContainer,u=C4(n,c);if(!u||!u.isContentEditable)return;const g=t?is:oc,v=Ul(e);yW(e,a,u,c).each(S=>{const R=II(e,c,S.dom,u,!1,v);g(S,me.fromDom(R)),e.selection.setCursorLocation(R,0),e.dispatch("NewBlock",{newBlock:R}),w4(e,"insertParagraph")})},vW=e=>xL(e,!0),xW=e=>xL(e,!1),kW=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{vW(e)},InsertNewBlockAfter:()=>{xW(e)}})},_W=e=>{e.editorCommands.addCommands({insertParagraph:()=>{pD(HI,e)},mceInsertNewLine:(t,n,r)=>{qI(e,r)},InsertLineBreak:(t,n,r)=>{pD(jI,e)}})},wW=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,n,r)=>{let a=0;e.dom.getParent(e.selection.getNode(),c=>qt(c)&&a++===r?(e.selection.select(c),!1):!0,e.getBody())},mceSelectNode:(t,n,r)=>{e.selection.select(r)},selectAll:()=>{const t=e.dom.getParent(e.selection.getStart(),Hi);if(t){const n=e.dom.createRng();n.selectNodeContents(t),e.selection.setRng(n)}}})},CW=e=>{e.editorCommands.addCommands({mceRemoveNode:(t,n,r)=>{const a=r??e.selection.getNode();if(a!==e.getBody()){const c=e.selection.getBookmark();e.dom.remove(a,!0),e.selection.moveToBookmark(c)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,n,r)=>{FR(e,r===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},SW=e=>{jZ(e),UZ(e),gW(e),wW(e),GZ(e),bW(e),hW(e),kW(e),_W(e),pW(e),CW(e)},EW=["toggleview"],kL=e=>Wo(EW,e.toLowerCase());class _L{constructor(t){this.commands={state:{},exec:{},value:{}},this.editor=t}execCommand(t,n=!1,r,a){const c=this.editor,u=t.toLowerCase(),g=a==null?void 0:a.skip_focus;if(c.removed||(u!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(u)&&!g?c.focus():BR(c)),c.dispatch("BeforeExecCommand",{command:t,ui:n,value:r}).isDefaultPrevented()))return!1;const S=this.commands.exec[u];return It(S)?(S(u,n,r),c.dispatch("ExecCommand",{command:t,ui:n,value:r}),!0):!1}queryCommandState(t){if(!kL(t)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const n=t.toLowerCase(),r=this.commands.state[n];return It(r)?r(n):!1}queryCommandValue(t){if(!kL(t)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const n=t.toLowerCase(),r=this.commands.value[n];return It(r)?r(n):""}addCommands(t,n="exec"){const r=this.commands;To(t,(a,c)=>{Ne(c.toLowerCase().split(","),u=>{r[n][u]=a})})}addCommand(t,n,r){const a=t.toLowerCase();this.commands.exec[a]=(c,u,g)=>n.call(r??this.editor,u,g)}queryCommandSupported(t){const n=t.toLowerCase();return!!this.commands.exec[n]}addQueryStateHandler(t,n,r){this.commands.state[t.toLowerCase()]=()=>n.call(r??this.editor)}addQueryValueHandler(t,n,r){this.commands.value[t.toLowerCase()]=()=>n.call(r??this.editor)}}const AW=ht.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class FB{static isNative(t){return!!AW[t.toLowerCase()]}constructor(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||an}fire(t,n){return this.dispatch(t,n)}dispatch(t,n){const r=t.toLowerCase(),a=yb(r,n??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(a);const c=this.bindings[r];if(c)for(let u=0,g=c.length;u<g;u++){const v=c[u];if(!v.removed){if(v.once&&this.off(r,v.func),a.isImmediatePropagationStopped())return a;if(v.func.call(this.scope,a)===!1)return a.preventDefault(),a}}return a}on(t,n,r,a){if(n===!1&&(n=an),n){const c={func:n,removed:!1};a&&ht.extend(c,a);const u=t.toLowerCase().split(" ");let g=u.length;for(;g--;){const v=u[g];let S=this.bindings[v];S||(S=[],this.toggleEvent(v,!0)),r?S=[c,...S]:S=[...S,c],this.bindings[v]=S}}return this}off(t,n){if(t){const r=t.toLowerCase().split(" ");let a=r.length;for(;a--;){const c=r[a];let u=this.bindings[c];if(!c)return To(this.bindings,(g,v)=>{this.toggleEvent(v,!1),delete this.bindings[v]}),this;if(u){if(!n)u.length=0;else{const g=st(u,v=>v.func===n);u=g.fail,this.bindings[c]=u,Ne(g.pass,v=>{v.removed=!0})}u.length||(this.toggleEvent(t,!1),delete this.bindings[c])}}}else To(this.bindings,(r,a)=>{this.toggleEvent(a,!1)}),this.bindings={};return this}once(t,n,r){return this.on(t,n,r,{once:!0})}has(t){t=t.toLowerCase();const n=this.bindings[t];return!(!n||n.length===0)}}const O4=e=>(e._eventDispatcher||(e._eventDispatcher=new FB({scope:e,toggleEvent:(t,n)=>{FB.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher),HB={fire(e,t,n){return this.dispatch(e,t,n)},dispatch(e,t,n){const r=this;if(r.removed&&e!=="remove"&&e!=="detach")return yb(e.toLowerCase(),t??{},r);const a=O4(r).dispatch(e,t);if(n!==!1&&r.parent){let c=r.parent();for(;c&&!a.isPropagationStopped();)c.dispatch(e,a,!1),c=c.parent?c.parent():void 0}return a},on(e,t,n){return O4(this).on(e,t,n)},off(e,t){return O4(this).off(e,t)},once(e,t){return O4(this).once(e,t)},hasEventListeners(e){return O4(this).has(e)}},AD=qn.DOM;let qv;const zD=(e,t)=>{if(t==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t))return e.getDoc().documentElement;const n=eE(e);return n?(e.eventRoot||(e.eventRoot=AD.select(n)[0]),e.eventRoot):e.getBody()},zW=e=>!e.hidden&&!Ep(e),wL=(e,t,n)=>{zW(e)?e.dispatch(t,n):Ep(e)&&W_(e,n)},CL=(e,t)=>{if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;const n=zD(e,t);if(eE(e)){if(qv||(qv={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||qv&&(To(qv,(a,c)=>{e.dom.unbind(zD(e,c))}),qv=null)})),qv[t])return;const r=a=>{const c=a.target,u=e.editorManager.get();let g=u.length;for(;g--;){const v=u[g].getBody();(v===c||AD.isChildOf(c,v))&&wL(u[g],t,a)}};qv[t]=r,AD.bind(n,t,r)}else{const r=a=>{wL(e,t,a)};AD.bind(n,t,r),e.delegates[t]=r}},SL={...HB,bindPendingEventDelegates(){const e=this;ht.each(e._pendingNativeEvents,t=>{CL(e,t)})},toggleNativeEvent(e,t){const n=this;e==="focus"||e==="blur"||n.removed||(t?n.initialized?CL(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&n.delegates&&(n.dom.unbind(zD(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents(){const e=this,t=e.getBody(),n=e.dom;e.delegates&&(To(e.delegates,(r,a)=>{e.dom.unbind(zD(e,a),a,r)}),delete e.delegates),!e.inline&&t&&n&&(t.onload=null,n.unbind(e.getWin()),n.unbind(e.getDoc())),n&&(n.unbind(t),n.unbind(e.getContainer()))}},TW=e=>pt(e)?{value:e.split(/[ ,]/),valid:!0}:ko(e,pt)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},OW=e=>{const t=(()=>{switch(e){case"array":return ve;case"boolean":return jr;case"function":return It;case"number":return T;case"object":return le;case"string":return pt;case"string[]":return TW;case"object[]":return n=>ko(n,le);case"regexp":return n=>ut(n,RegExp);default:return Co}})();return n=>VB(n,t,`The value must be a ${e}.`)},DW=e=>pt(e.processor),EL=(e,t)=>{const n=Ci(t.message)?"":`. ${t.message}`;return e+n},AL=e=>e.valid,VB=(e,t,n="")=>{const r=t(e);return jr(r)?r?{value:e,valid:!0}:{valid:!1,message:n}:r},RW=(e,t,n)=>{if(!Xn(t)){const r=VB(t,n);if(AL(r))return r.value;console.error(EL(`Invalid default value passed for the "${e}" option`,r))}},NW=(e,t,n=t)=>{const r={},a={},c=(G,ae,J)=>{const ie=VB(ae,J);return AL(ie)?(a[G]=ie.value,!0):(console.warn(EL(`Invalid value passed for the ${G} option`,ie)),!1)},u=(G,ae)=>{const J=DW(ae)?OW(ae.processor):ae.processor,ie=RW(G,ae.default,J);r[G]={...ae,default:ie,processor:J},Bn(a,G).orThunk(()=>Bn(t,G)).each(Se=>c(G,Se,J))},g=G=>go(r,G);return{register:u,isRegistered:g,get:G=>Bn(a,G).orThunk(()=>Bn(r,G).map(ae=>ae.default)).getOrUndefined(),set:(G,ae)=>{if(g(G)){const J=r[G];return J.immutable?(console.error(`"${G}" is an immutable option and cannot be updated`),!1):c(G,ae,J.processor)}else return console.warn(`"${G}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:G=>{const ae=g(G);return ae&&delete a[G],ae},isSet:G=>go(a,G),debug:()=>{try{console.log(JSON.parse(JSON.stringify(n,(G,ae)=>jr(ae)||T(ae)||pt(ae)||lt(ae)||ve(ae)||Tt(ae)?ae:Object.prototype.toString.call(ae))))}catch(G){console.error(G)}}}},MW=(e,t)=>{e.dom.contentEditable="true"},BW=(e,t)=>{const n=me.fromDom(e.getBody());t?(e.readonly=!0,e.hasEditableRoot()&&MW(n),h3(e)):(e.readonly=!1,zO(e))},D4=e=>e.readonly,IW=e=>{e.on("beforeinput paste cut dragend dragover draggesture dragdrop drop drag",t=>{D4(e)&&t.preventDefault()}),e.on("BeforeExecCommand",t=>{(t.command==="Undo"||t.command==="Redo")&&D4(e)&&t.preventDefault()}),e.on("input",t=>{if(!t.isComposing&&D4(e)){const n=e.undoManager.add();Le(n)&&e.undoManager.undo()}}),e.on("compositionend",()=>{if(D4(e)){const t=e.undoManager.add();Le(t)&&e.undoManager.undo()}})},PW=["design","readonly"],zL=(e,t,n,r)=>{const a=n[t.get()],c=n[r];try{c.activate()}catch(u){console.error(`problem while activating editor mode ${r}:`,u);return}a.deactivate(),a.editorReadOnly!==c.editorReadOnly&&BW(e,c.editorReadOnly),t.set(r),Zb(e,r)},LW=(e,t,n,r)=>{if(!(r===n.get()||e.initialized&&Ep(e))){if(!go(t,r))throw new Error(`Editor mode '${r}' is invalid`);e.initialized?zL(e,n,t,r):e.on("init",()=>zL(e,n,t,r))}},FW=(e,t,n)=>{if(Wo(PW,t))throw new Error(`Cannot override default mode ${t}`);return{...e,[t]:{...n,deactivate:()=>{try{n.deactivate()}catch(r){console.error(`problem while deactivating editor mode ${t}:`,r)}}}}},HW=e=>{const t=yr("design"),n=yr({design:{activate:Qt,deactivate:Qt,editorReadOnly:!1},readonly:{activate:Qt,deactivate:Qt,editorReadOnly:!0}});return IW(e),T8(e),{isReadOnly:()=>D4(e),set:r=>LW(e,n.get(),t,r),get:()=>t.get(),register:(r,a)=>{n.set(FW(n.get(),r,a))}}},$B=ht.each,jB=ht.explode,VW={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},TL=ht.makeMap("alt,ctrl,shift,meta,access"),$W=e=>e in TL,jW=e=>{const t={},n=Nt.os.isMacOS()||Nt.os.isiOS();$B(jB(e.toLowerCase(),"+"),c=>{$W(c)?t[c]=!0:/^[0-9]{2,}$/.test(c)?t.keyCode=parseInt(c,10):(t.charCode=c.charCodeAt(0),t.keyCode=VW[c]||c.toUpperCase().charCodeAt(0))});const r=[t.keyCode];let a;for(a in TL)t[a]?r.push(a):t[a]=!1;return t.id=r.join(","),t.access&&(t.alt=!0,n?t.ctrl=!0:t.shift=!0),t.meta&&(n?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class OL{constructor(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;const n=this;t.on("keyup keypress keydown",r=>{(n.hasModifier(r)||n.isFunctionKey(r))&&!r.isDefaultPrevented()&&($B(n.shortcuts,a=>{n.matchShortcut(r,a)&&(n.pendingPatterns=a.subpatterns.slice(0),r.type==="keydown"&&n.executeShortcutAction(a))}),n.matchShortcut(r,n.pendingPatterns[0])&&(n.pendingPatterns.length===1&&r.type==="keydown"&&n.executeShortcutAction(n.pendingPatterns[0]),n.pendingPatterns.shift()))})}add(t,n,r,a){const c=this,u=c.normalizeCommandFunc(r);return $B(jB(ht.trim(t)),g=>{const v=c.createShortcut(g,n,u,a);c.shortcuts[v.id]=v}),!0}remove(t){const n=this.createShortcut(t);return this.shortcuts[n.id]?(delete this.shortcuts[n.id],!0):!1}normalizeCommandFunc(t){const n=this,r=t;return typeof r=="string"?()=>{n.editor.execCommand(r,!1,null)}:ht.isArray(r)?()=>{n.editor.execCommand(r[0],r[1],r[2])}:r}createShortcut(t,n,r,a){const c=ht.map(jB(t,">"),jW);return c[c.length-1]=ht.extend(c[c.length-1],{func:r,scope:a||this.editor}),ht.extend(c[0],{desc:this.editor.translate(n),subpatterns:c.slice(1)})}hasModifier(t){return t.altKey||t.ctrlKey||t.metaKey}isFunctionKey(t){return t.type==="keydown"&&t.keyCode>=112&&t.keyCode<=123}matchShortcut(t,n){return!n||n.ctrl!==t.ctrlKey||n.meta!==t.metaKey||n.alt!==t.altKey||n.shift!==t.shiftKey?!1:t.keyCode===n.keyCode||t.charCode&&t.charCode===n.charCode?(t.preventDefault(),!0):!1}executeShortcutAction(t){return t.func?t.func.call(t.scope):null}}const UW=()=>{const e={},t={},n={},r={},a={},c={},u={},g={},v={},S=(G,ae)=>(J,ie)=>{G[J.toLowerCase()]={...ie,type:ae}},R=(G,ae)=>(J,ie)=>{G[J.toLowerCase()]={type:ae,...ie}},B=(G,ae)=>r[G.toLowerCase()]=ae,L=(G,ae)=>u[G.toLowerCase()]=ae;return{addButton:S(e,"button"),addGroupToolbarButton:S(e,"grouptoolbarbutton"),addToggleButton:S(e,"togglebutton"),addMenuButton:S(e,"menubutton"),addSplitButton:S(e,"splitbutton"),addMenuItem:S(t,"menuitem"),addNestedMenuItem:S(t,"nestedmenuitem"),addToggleMenuItem:S(t,"togglemenuitem"),addAutocompleter:S(n,"autocompleter"),addContextMenu:S(a,"contextmenu"),addContextToolbar:S(c,"contexttoolbar"),addContextForm:R(c,"contextform"),addSidebar:S(g,"sidebar"),addView:S(v,"views"),addIcon:B,addContext:L,getAll:()=>({buttons:e,menuItems:t,icons:r,popups:n,contextMenus:a,contextToolbars:c,sidebars:g,views:v,contexts:u})}},ZW=()=>{const e=UW();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,addContext:e.addContext,getAll:e.getAll}},Gv=qn.DOM,DL=ht.extend,WW=ht.each;class TD{constructor(t,n,r){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=r,this.documentBaseUrl=r.documentBaseURL,DL(this,SL);const a=this;this.id=t,this.hidden=!1;const c=FZ(r.defaultOptions,n);this.options=NW(a,c,n),jl(a);const u=this.options.get;u("deprecation_warnings")&&b8(n,c);const g=u("suffix");g&&(r.suffix=g),this.suffix=r.suffix;const v=u("base_url");v&&r._setBaseUrl(v),this.baseUri=r.baseURI;const S=Tx(a);S&&(ed.ScriptLoader._setReferrerPolicy(S),qn.DOM.styleSheetLoader._setReferrerPolicy(S));const R=n2(a);Le(R)&&qn.DOM.styleSheetLoader._setContentCssCors(R),zi.languageLoad=u("language_load"),zi.baseURL=r.baseURL,this.setDirty(!1),this.documentBaseURI=new Wu(Z4(a),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=o2(a),this.hasVisual=rE(a),this.shortcuts=new OL(this),this.editorCommands=new _L(this),SW(this);const B=u("cache_suffix");B&&(Nt.cacheSuffix=B.replace(/^[\?\&]+/,"")),this.ui={registry:ZW(),styleSheetLoader:void 0,show:Qt,hide:Qt,setEnabled:Qt,isEnabled:Co},this.mode=HW(a),r.dispatch("SetupEditor",{editor:this});const L=sE(a);It(L)&&L.call(a,a)}render(){CZ(this)}focus(t){this.execCommand("mceFocus",!1,t)}hasFocus(){return cy(this)}translate(t){return zc.translate(t)}getParam(t,n,r){const a=this.options;return a.isRegistered(t)||(Le(r)?a.register(t,{processor:r,default:n}):a.register(t,{processor:Co,default:n})),!a.isSet(t)&&!Xn(n)?n:a.get(t)}hasPlugin(t,n){return Wo(Rx(this),t)?n?Yy.get(t)!==void 0:!0:!1}nodeChanged(t){this._nodeChangeDispatcher.nodeChanged(t)}addCommand(t,n,r){this.editorCommands.addCommand(t,n,r)}addQueryStateHandler(t,n,r){this.editorCommands.addQueryStateHandler(t,n,r)}addQueryValueHandler(t,n,r){this.editorCommands.addQueryValueHandler(t,n,r)}addShortcut(t,n,r,a){this.shortcuts.add(t,n,r,a)}execCommand(t,n,r,a){return this.editorCommands.execCommand(t,n,r,a)}queryCommandState(t){return this.editorCommands.queryCommandState(t)}queryCommandValue(t){return this.editorCommands.queryCommandValue(t)}queryCommandSupported(t){return this.editorCommands.queryCommandSupported(t)}show(){const t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable="true":(Gv.show(t.getContainer()),Gv.hide(t.id)),t.load(),t.dispatch("show"))}hide(){const t=this;t.hidden||(t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(Gv.hide(t.getContainer()),Gv.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(t,n){this.dispatch("ProgressState",{state:t,time:n})}load(t={}){const n=this,r=n.getElement();if(n.removed)return"";if(r){const a={...t,load:!0},c=Gf(r)?r.value:r.innerHTML,u=n.setContent(c,a);return a.no_events||n.dispatch("LoadContent",{...a,element:r}),u}else return""}save(t={}){const n=this;let r=n.getElement();if(!r||!n.initialized||n.removed)return"";const a={...t,save:!0,element:r};let c=n.getContent(a);const u={...a,content:c};if(u.no_events||n.dispatch("SaveContent",u),u.format==="raw"&&n.dispatch("RawSaveContent",u),c=u.content,Gf(r))r.value=c;else{(t.is_removing||!n.inline)&&(r.innerHTML=c);const g=Gv.getParent(n.id,"form");g&&WW(g.elements,v=>v.name===n.id?(v.value=c,!1):!0)}return u.element=a.element=r=null,u.set_dirty!==!1&&n.setDirty(!1),c}setContent(t,n){return V_(this,t,n)}getContent(t){return H_(this,t)}insertContent(t,n){n&&(t=DL({content:t},n)),this.execCommand("mceInsertContent",!1,t)}resetContent(t){t===void 0?V_(this,this.startContent,{format:"raw"}):V_(this,t),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(t){const n=!this.isNotDirty;this.isNotDirty=!t,t&&t!==n&&this.dispatch("dirty")}getContainer(){const t=this;return t.container||(t.container=t.editorContainer||Gv.get(t.id+"_parent")),t.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=Gv.get(this.id)),this.targetElm}getWin(){const t=this;if(!t.contentWindow){const n=t.iframeElement;n&&(t.contentWindow=n.contentWindow)}return t.contentWindow}getDoc(){const t=this;if(!t.contentDocument){const n=t.getWin();n&&(t.contentDocument=n.document)}return t.contentDocument}getBody(){var t,n;const r=this.getDoc();return(n=(t=this.bodyElement)!==null&&t!==void 0?t:r==null?void 0:r.body)!==null&&n!==void 0?n:null}convertURL(t,n,r){const a=this,c=a.options.get,u=iE(a);if(It(u))return u.call(a,t,r,!0,n);if(!c("convert_urls")||r==="link"||le(r)&&r.nodeName==="LINK"||t.indexOf("file:")===0||t.length===0)return t;const g=new Wu(t);return g.protocol!=="http"&&g.protocol!=="https"&&g.protocol!==""?t:c("relative_urls")?a.documentBaseURI.toRelative(t):(t=a.documentBaseURI.toAbsolute(t,c("remove_script_host")),t)}addVisual(t){HZ(this,t)}setEditableRoot(t){SZ(this,t)}hasEditableRoot(){return EZ(this)}remove(){bO(this)}destroy(t){y8(this,t)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const ww=qn.DOM,OD=ht.each;let RL=!1,DD,Wd=[];const RD=e=>{const t=e.type;OD(h1.get(),n=>{switch(t){case"scroll":n.dispatch("ScrollWindow",e);break;case"resize":n.dispatch("ResizeWindow",e);break}})},NL=e=>{if(e!==RL){const t=qn.DOM;e?(t.bind(window,"resize",RD),t.bind(window,"scroll",RD)):(t.unbind(window,"resize",RD),t.unbind(window,"scroll",RD)),RL=e}},ML=e=>{const t=Wd;return Wd=Ye(Wd,n=>e!==n),h1.activeEditor===e&&(h1.activeEditor=Wd.length>0?Wd[0]:null),h1.focusedEditor===e&&(h1.focusedEditor=null),t.length!==Wd.length},qW=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(ML(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},GW=document.compatMode!=="CSS1Compat",h1={...HB,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"7",minorVersion:"7.1",releaseDate:"2025-03-05",i18n:zc,activeEditor:null,focusedEditor:null,setup(){const e=this;let t="",n="",r=Wu.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/"));const a=window.tinymce||window.tinyMCEPreInit;if(a)t=a.base||a.baseURL,n=a.suffix;else{const c=document.getElementsByTagName("script");for(let u=0;u<c.length;u++){const g=c[u].src||"";if(g==="")continue;const v=g.substring(g.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(g)){v.indexOf(".min")!==-1&&(n=".min"),t=g.substring(0,g.lastIndexOf("/"));break}}if(!t&&document.currentScript){const u=document.currentScript.src;u.indexOf(".min")!==-1&&(n=".min"),t=u.substring(0,u.lastIndexOf("/"))}}e.baseURL=new Wu(r).toAbsolute(t),e.documentBaseURL=r,e.baseURI=new Wu(e.baseURL),e.suffix=n,gk(e)},overrideDefaults(e){const t=e.base_url;t&&this._setBaseUrl(t);const n=e.suffix;n&&(this.suffix=n),this.defaultOptions=e;const r=e.plugin_base_urls;r!==void 0&&To(r,(a,c)=>{zi.PluginManager.urls[c]=a})},init(e){const t=this;let n;const r=ht.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),a=(R,B)=>R.inline&&B.tagName.toLowerCase()in r,c=R=>{let B=R.id;return B||(B=Bn(R,"name").filter(L=>!ww.get(L)).getOrThunk(ww.uniqueId),R.setAttribute("id",B)),B},u=R=>{const B=e[R];if(B)return B.apply(t,[])},g=R=>Nt.browser.isIE()||Nt.browser.isEdge()?(Z_("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/7/support/#supportedwebbrowsers"),[]):GW?(Z_("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):pt(R.selector)?ww.select(R.selector):Le(R.target)?[R.target]:[];let v=R=>{n=R};const S=()=>{let R=0;const B=[];let L;const G=(ae,J,ie)=>{const he=new TD(ae,J,t);B.push(he),he.on("init",()=>{++R===L.length&&v(B)}),he.targetElm=he.targetElm||ie,he.render()};ww.unbind(window,"ready",S),u("onpageload"),L=$a(g(e)),ht.each(L,ae=>{qW(t.get(ae.id))}),L=ht.grep(L,ae=>!t.get(ae.id)),L.length===0?v([]):OD(L,ae=>{a(e,ae)?Z_("Could not initialize inline editor on invalid inline target element",ae):G(c(ae),e,ae)})};return ww.bind(window,"ready",S),new Promise(R=>{n?R(n):v=B=>{R(B)}})},get(e){return arguments.length===0?Wd.slice(0):pt(e)?Sn(Wd,t=>t.id===e).getOr(null):T(e)&&Wd[e]?Wd[e]:null},add(e){const t=this,n=t.get(e.id);return n===e||(n===null&&Wd.push(e),NL(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),DD||(DD=r=>{const a=t.dispatch("BeforeUnload");if(a.returnValue)return r.preventDefault(),r.returnValue=a.returnValue,a.returnValue},window.addEventListener("beforeunload",DD))),e},createEditor(e,t){return this.add(new TD(e,t,this))},remove(e){const t=this;let n;if(!e){for(let r=Wd.length-1;r>=0;r--)t.remove(Wd[r]);return}if(pt(e)){OD(ww.select(e),r=>{n=t.get(r.id),n&&t.remove(n)});return}return n=e,lt(t.get(n.id))?null:(ML(n)&&t.dispatch("RemoveEditor",{editor:n}),Wd.length===0&&window.removeEventListener("beforeunload",DD),n.remove(),NL(Wd.length>0),n)},execCommand(e,t,n){var r;const a=this,c=le(n)?(r=n.id)!==null&&r!==void 0?r:n.index:n;switch(e){case"mceAddEditor":{if(!a.get(c)){const u=n.options;new TD(c,u,a).render()}return!0}case"mceRemoveEditor":{const u=a.get(c);return u&&u.remove(),!0}case"mceToggleEditor":{const u=a.get(c);return u?(u.isHidden()?u.show():u.hide(),!0):(a.execCommand("mceAddEditor",!1,n),!0)}}return a.activeEditor?a.activeEditor.execCommand(e,t,n):!1},triggerSave:()=>{OD(Wd,e=>{e.save()})},addI18n:(e,t)=>{zc.add(e,t)},translate:e=>zc.translate(e),setActive(e){const t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new Wu(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new Wu(this.baseURL)}};h1.setup();const KW=(()=>{const e=cs(),t=c=>({items:c,types:Je(c),getType:u=>Bn(c,u).getOrUndefined()}),n=c=>{e.set(c)},r=()=>e.get().getOrUndefined(),a=e.clear;return{FakeClipboardItem:t,write:n,read:r,clear:a}})(),BL=Math.min,Cw=Math.max,ND=Math.round,IL=(e,t,n)=>{let r=t.x,a=t.y;const c=e.w,u=e.h,g=t.w,v=t.h,S=(n||"").split("");return S[0]==="b"&&(a+=v),S[1]==="r"&&(r+=g),S[0]==="c"&&(a+=ND(v/2)),S[1]==="c"&&(r+=ND(g/2)),S[3]==="b"&&(a-=u),S[4]==="r"&&(r-=c),S[3]==="c"&&(a-=ND(u/2)),S[4]==="c"&&(r-=ND(c/2)),Sw(r,a,c,u)},YW=(e,t,n,r)=>{for(let a=0;a<r.length;a++){const c=IL(e,t,r[a]);if(c.x>=n.x&&c.x+c.w<=n.w+n.x&&c.y>=n.y&&c.y+c.h<=n.h+n.y)return r[a]}return null},XW=(e,t,n)=>Sw(e.x-t,e.y-n,e.w+t*2,e.h+n*2),JW=(e,t)=>{const n=Cw(e.x,t.x),r=Cw(e.y,t.y),a=BL(e.x+e.w,t.x+t.w),c=BL(e.y+e.h,t.y+t.h);return a-n<0||c-r<0?null:Sw(n,r,a-n,c-r)},QW=(e,t,n)=>{let r=e.x,a=e.y,c=e.x+e.w,u=e.y+e.h;const g=t.x+t.w,v=t.y+t.h,S=Cw(0,t.x-r),R=Cw(0,t.y-a),B=Cw(0,c-g),L=Cw(0,u-v);return r+=S,a+=R,n&&(c+=S,u+=R,r-=B,a-=L),c-=B,u-=L,Sw(r,a,c-r,u-a)},Sw=(e,t,n,r)=>({x:e,y:t,w:n,h:r}),eq={inflate:XW,relativePosition:IL,findBestRelativePosition:YW,intersect:JW,clamp:QW,create:Sw,fromClientRect:e=>Sw(e.left,e.top,e.width,e.height)},tq=(e,t,n=1e3)=>{let r=!1,a=null;const c=S=>(...R)=>{r||(r=!0,a!==null&&(clearTimeout(a),a=null),S.apply(null,R))},u=c(e),g=c(t);return{start:(...S)=>{!r&&a===null&&(a=setTimeout(()=>g.apply(null,S),n))},resolve:u,reject:g}},oq=(()=>{const e={},t={},n={};return{load:(v,S)=>{const R=`Script at URL "${S}" failed to load`,B=`Script at URL "${S}" did not call \`tinymce.Resource.add('${v}', data)\` within 1 second`;if(e[v]!==void 0)return e[v];{const L=new Promise((G,ae)=>{const J=tq(G,ae);t[v]=J.resolve,ed.ScriptLoader.loadScript(S).then(()=>J.start(B),()=>J.reject(R))});return e[v]=L,L}},add:(v,S)=>{t[v]!==void 0&&(t[v](S),delete t[v]),e[v]=Promise.resolve(S),n[v]=S},has:v=>v in n,get:v=>n[v],unload:v=>{delete e[v],delete n[v]}}})(),nq=()=>(()=>{let e={},t=[];const n={getItem:r=>{const a=e[r];return a||null},setItem:(r,a)=>{t.push(r),e[r]=String(a)},key:r=>t[r],removeItem:r=>{t=t.filter(a=>a===r),delete e[r]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(n,"length",{get:()=>t.length,configurable:!1,enumerable:!1}),n})();let R4;try{const e="__storage_test__";R4=window.localStorage,R4.setItem(e,e),R4.removeItem(e)}catch{R4=nq()}var rq=R4;const sq={geom:{Rect:eq},util:{Delay:Ld,Tools:ht,VK:Ht,URI:Wu,EventDispatcher:FB,Observable:HB,I18n:zc,LocalStorage:rq,ImageUploader:LO},dom:{EventUtils:bs,TreeWalker:Fa,TextSeeker:au,DOMUtils:qn,ScriptLoader:ed,RangeUtils:Lh,Serializer:s3,StyleSheetLoader:Xa,ControlSelection:$2,BookmarkManager:lg,Selection:F_,Event:bs.Event},html:{Styles:O1,Entities:Sc,Node:fc,Schema:Du,DomParser:Hy,Writer:Sk,Serializer:dm},Env:Nt,AddOnManager:zi,Annotator:mA,Formatter:_3,UndoManager:Y_,EditorCommands:_L,WindowManager:f3,NotificationManager:d3,EditorObservable:SL,Shortcuts:OL,Editor:TD,FocusManager:P2,EditorManager:h1,DOM:qn.DOM,ScriptLoader:ed.ScriptLoader,PluginManager:Yy,ThemeManager:Tg,ModelManager:Ky,IconManager:zg,Resource:oq,FakeClipboard:KW,trim:ht.trim,isArray:ht.isArray,is:ht.is,toArray:ht.toArray,makeMap:ht.makeMap,each:ht.each,map:ht.map,grep:ht.grep,inArray:ht.inArray,extend:ht.extend,walk:ht.walk,resolve:ht.resolve,explode:ht.explode,_addCacheSuffix:ht._addCacheSuffix},PL=ht.extend(h1,sq),aq=e=>{try{kn.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(PL),aq(PL)})()}(ZB)),ZB.exports}var uq=dq();const WB=cq(uq);tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-code":'<svg width="24" height="24"><path d="m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"math-equation":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>',mentions:'<svg height="24" width="24"><path d="M12 21a8.8 8.8 0 0 1-3.5-.7 9 9 0 0 1-2.9-2 9 9 0 0 1-1.9-2.8A8.8 8.8 0 0 1 3 12c0-1.3.2-2.4.7-3.5a9 9 0 0 1 4.8-4.8A8.8 8.8 0 0 1 12 3c1.3 0 2.4.2 3.5.7a9.1 9.1 0 0 1 4.8 4.8A8.7 8.7 0 0 1 21 12v1.4a3 3 0 0 1-.9 2.2 3 3 0 0 1-2.2.9c-.5 0-1-.1-1.5-.4a3.8 3.8 0 0 1-1.1-1 4.8 4.8 0 0 1-1.5 1 4.3 4.3 0 0 1-1.8.4c-1.2 0-2.3-.4-3.2-1.3-.9-.9-1.3-2-1.3-3.2s.4-2.3 1.3-3.2c.9-.9 2-1.3 3.2-1.3s2.3.4 3.2 1.3c.9.9 1.3 2 1.3 3.2v1.4c0 .4.1.7.4 1 .3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1V12c0-2-.7-3.8-2.1-5.2S14 4.7 12 4.7s-3.8.7-5.2 2.1S4.7 10 4.7 12s.7 3.8 2.1 5.2 3.2 2.1 5.2 2.1h4.5V21zm0-6.2c.8 0 1.4-.3 2-.8a2.7 2.7 0 0 0 .8-2c0-.8-.3-1.4-.8-2a2.7 2.7 0 0 0-2-.8c-.8 0-1.4.3-2 .8a2.7 2.7 0 0 0-.8 2c0 .8.3 1.4.8 2a2.7 2.7 0 0 0 2 .8z"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',"add-file":'<svg height="24" width="24"><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/></svg>',adjustments:'<svg width="24" height="24"><path d="M16 11a3 3 0 1 1 2.8-4H21v2h-2.2a3 3 0 0 1-2.8 2Zm0-2a1 1 0 1 1 0-2 1 1 0 0 1 0 2ZM3 9h8V7H3v2Zm5 10a3 3 0 1 0-2.8-4H3v2h2.2A3 3 0 0 0 8 19Zm0-2a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm13 0h-8v-2h8v2Z"/></svg>',"alt-text":'<svg width="24" height="24"><path d="M3 20a2 2 0 0 1-1.4-.6A2 2 0 0 1 1 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 3 4h18c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H3Zm0-2h18V6H3v12Zm1.5-3H6v-1.5h1.5V15H9v-5a1 1 0 0 0-.3-.7A1 1 0 0 0 8 9H5.5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v5ZM6 12v-1.5h1.5V12H6Z"/><path d="M11 15V9h1.3v4.5h2V15H11Zm5.8-4.5V15h1.4v-4.5h1.3V9h-4v1.5h1.3Z"/></svg>',blur:'<svg width="24" height="24"><path d="M19.3 9.3a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 20 9a1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 10a1 1 0 0 0-.3-.7A1 1 0 0 0 4 9a1 1 0 0 0-.7.3Zm16 6a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 16a1 1 0 0 0-.3-.7A1 1 0 0 0 4 15a1 1 0 0 0-.7.3Zm5-11A1 1 0 0 0 8 5a1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 10 5a1 1 0 0 0-.3-.7A1 1 0 0 0 9 4a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7 1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 16 5a1 1 0 0 0-.3-.7A1 1 0 0 0 15 4a1 1 0 0 0-.7.3Zm-6 16a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 9 20a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3ZM7.6 8.6A2 2 0 0 0 7 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 7 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 14a2 2 0 0 0-1.4.6Zm6-6A2 2 0 0 0 13 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 13 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 14a2 2 0 0 0-1.4.6Z"/></svg>',box:'<svg width="24" height="24"><path d="M3.8 7a1 1 0 0 0-.7.6l-.1 3V13.8a3.5 3.5 0 0 0 4 2.7c.8-.2 1.4-.5 2-1l.3-.3.3.2c.7.7 1.4 1 2.4 1.1 1.2 0 2.4-.6 3-1.6.9-1.2.8-2.8 0-4a3.7 3.7 0 0 0-2-1.2c-.4-.1-1.2-.1-1.6 0a3.4 3.4 0 0 0-1.7 1l-.3.2-.2-.1c-.4-.5-1.2-1-2-1.1-.6-.2-1.5 0-2 .2H5V9c0-1.3 0-1.3-.3-1.6a1 1 0 0 0-1-.3Zm12 2.6c-.3.2-.5.4-.6.8v.6l.9 1 .7 1v.1l-.8 1-.7 1a1 1 0 0 0 0 .7 1 1 0 0 0 1.3.6c.2 0 .3-.2 1-1l.5-.7.6.8.7.8c.4.3 1 .3 1.3 0l.2-.3a1 1 0 0 0 0-.8l-.8-1.2-.7-1a26 26 0 0 0 1.5-2 .8.8 0 0 0 .1-.4c0-.4-.1-.7-.5-.9H20c-.4 0-.5 0-1.2.8l-.7.8-.6-.7-.7-.9a1 1 0 0 0-1 0Zm-9 2 .4.1c.3.1.6.5.7.8l.1.6v.6c-.6 1-2 1.2-2.7.3-.3-.3-.3-.5-.3-1v-.5c.3-.5.7-.8 1.1-1a1.5 1.5 0 0 1 .7 0Zm5.7 0c.4 0 .8.4 1 .8l.2.6-.1.7c-.5.9-1.6 1.1-2.4.6a1.4 1.4 0 0 1-.6-1.1 1.4 1.4 0 0 1 .5-1.2 1.5 1.5 0 0 1 1.4-.4Z"/></svg>',camera:'<svg height="24" width="24"><g clip-rule="evenodd" fill-rule="evenodd"><path d="M10 5.4a1 1 0 0 1 .8-.4h4.4a1 1 0 0 1 .8.4l1.2 1.8h2.3A2.5 2.5 0 0 1 22 9.6v8a2.5 2.5 0 0 1-2.5 2.5h-13A2.5 2.5 0 0 1 4 17.6v-8a2.5 2.5 0 0 1 2.5-2.4h2.3zM11.4 7l-1.2 1.7a1 1 0 0 1-.8.5h-3a.5.5 0 0 0-.4.4v8a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-8a.5.5 0 0 0-.5-.4h-2.9a1 1 0 0 1-.8-.5L14.6 7z"/><path d="M13 11.4a2 2 0 1 0 0 3.8 2 2 0 0 0 0-3.8zm-4 1.9a4 4 0 1 1 8 0 4 4 0 0 1-8 0z"/></g></svg>',caption:'<svg height="24" width="24"><path d="M6 16h8v-2H6zm10 0h2v-2h-2zM4 20a2 2 0 0 1-1.5-.6A2 2 0 0 1 2 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 4 4h16c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm0-2h16V6H4z"/></svg>',dropbox:'<svg height="24" width="24"><path clip-rule="evenodd" d="m6.4 9.3-3-2a1 1 0 0 1 0-1.6l4-2.5a1 1 0 0 1 1 0L12 5.5l3.6-2.3a1 1 0 0 1 1 0l4 2.5a1 1 0 0 1 0 1.7l-3 1.9 3 1.9a1 1 0 0 1 0 1.6l-2.9 1.9V16c0 .3-.1.6-.4.8l-4.5 3a1 1 0 0 1-1.2 0l-4.4-3a1 1 0 0 1-.5-.9v-1l-3.2-2.2a1 1 0 0 1 0-1.6zm3 0L12 7.5l2.6 1.8L12 11zM8.9 15v.4l3.3 2.3 3.4-2.3v-.2L12 13l-3.1 2zm-1-10-2 1.4 2 1.3 2-1.3zm8.2 0-2 1.4 2 1.3 2-1.3zm-2 6.9 2-1.3 2 1.3-2 1.3-2-1.3zm-8.3 0 2-1.3L10 12l-2 1.3-2-1.3z" fill-rule="evenodd"/></svg>',evernote:'<svg width="24" height="24"><path fill-rule="evenodd" d="m9.5 3-.3.1-2.6 2.6C3.8 8.5 4 8.2 4 8.7c0 1.3.3 3 .6 4.3.5 2 1.1 3.2 2 3.7l1.2.3c1 .2 1.5.2 2.2.2 1.3 0 1.7 0 2.2-.4.3-.2.3-.4.4-1a38.4 38.4 0 0 1 .3-.4l.3.1 1.8.1h1.6v-1.8H14l-.1-.2a6.8 6.8 0 0 1-.5-1c-.2-.4-.3-.6-.5-.7a.8.8 0 0 0-.5-.1.9.9 0 0 0-.8.5l-.4 1.6-.3 1.5H9.4l-2-.3a1 1 0 0 1-.1-.2A10.1 10.1 0 0 1 6 9.7v-.2h4l.5-.5V5H12c.4.2.7.7.8 1.1a1 1 0 0 0 .2.6c.2.2.3.2 1 .3 1.2 0 2 .2 2.5.6.4.2.8.7 1 1.2.3 1.2.5 4 .3 6.4 0 1.8-.4 3.4-.8 4h-.7a8 8 0 0 1-.8 0c-.2 0-.3-.3-.2-.5a.5.5 0 0 1 .4-.3h.9v-1.8H16c-.7 0-.9 0-1.2.2-.9.4-1.4 1.2-1.4 2.1l.1.4.1.2a1 1 0 0 1 .1.2c.3.7.8 1.2 1.4 1.3l1.2.1h1.2a2 2 0 0 0 1-.8 9 9 0 0 0 1.1-4.3c.2-3 0-6.3-.4-7.7A4.3 4.3 0 0 0 16 5.3a7 7 0 0 0-1.3-.2 7.2 7.2 0 0 1-.4 0 5.5 5.5 0 0 1 0-.3c-.2-.5-.6-1-1.2-1.4a3 3 0 0 0-.5-.2c-.4-.2-.5-.2-1.8-.2a26.5 26.5 0 0 0-1.3 0Zm-.8 4v.7H7.2l.7-.8.8-.7v.7Zm7 3.5c-.4 0-.7.5-.9 1v.7h.3c.7 0 1.1.2 1.5.6l.3.2.3-.6V11a1 1 0 0 0-.6-.4 2 2 0 0 0-.8 0Z" clip-rule="evenodd"/></svg>',exposure:'<svg width="24" height="24"><path d="M5 21a2 2 0 0 1-1.4-.6A2 2 0 0 1 3 19V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h14c.6 0 1 .2 1.4.6.4.4.6.8.6 1.4v14c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H5Zm0-2h14V5L5 19Zm9.5-1v-2h-2v-1.5h2v-2H16v2h2V16h-2v2h-1.5ZM6 8.5h5V7H6v1.5Z"/></svg>',fb:'<svg width="24" height="24"><path fill-rule="evenodd" d="M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-11 6.7V14H8.1v-2.5h2v-1C10 8.2 11.5 7 12.8 7H16v2.5h-2.4c-.8 0-1 .7-1 1.3v.7h3.2l-1 2.5h-2v5a7 7 0 1 0-2.8-.2Z" clip-rule="evenodd"/></svg>',flickr:'<svg width="24" height="24"><path d="M8.2 15.3c1.7 0 3.1-1.4 3.1-3.1A3.2 3.2 0 0 0 8.1 9 3.2 3.2 0 0 0 5 12.2c0 1.7 1.4 3 3.2 3Zm7.6 0c1.7 0 3.2-1.4 3.2-3.1a3.2 3.2 0 0 0-6.3 0c0 1.7 1.4 3 3.1 3Z"/></svg>',folder:'<svg width="24" height="24"><path fill-rule="evenodd" d="M5.6 6a.6.6 0 0 0-.6.6v11.2a.6.6 0 0 0 .6.6h12.8a.6.6 0 0 0 .6-.6V9a.6.6 0 0 0-.6-.6h-7.2a1 1 0 0 1-.8-.4L9 6H5.6ZM3.8 4.8A2.6 2.6 0 0 1 5.6 4h4a1 1 0 0 1 .8.4l1.3 2h6.7A2.6 2.6 0 0 1 21 9v8.8a2.6 2.6 0 0 1-2.6 2.6H5.6A2.6 2.6 0 0 1 3 17.8V6.6c0-.7.3-1.4.8-1.8Z" clip-rule="evenodd"/></svg>',"google-drive":'<svg height="24" width="24"><path clip-rule="evenodd" d="M8.7 4.5a1 1 0 0 1 .9-.5h4.8a1 1 0 0 1 .9.5l5.6 9.7a1 1 0 0 1 0 1l-2.4 4.2a1 1 0 0 1-.9.5H6.4a1 1 0 0 1-.9-.5l-2.4-4.2a1 1 0 0 1 0-1zM10.2 6l-4.5 7.7h2.5L12.7 6h-2.5zm4.2 1 4.4 7.7-1.2 2.2-4.4-7.7zM12 11.2l-1.5 2.5h3zm2.6 4.5H5.7L7 17.9h8.9l-1.3-2.2z" fill-rule="evenodd"/></svg>',"google-photos":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12.4 3c-.8 0-1.4.7-1.4 1.4v3.2a5 5 0 0 0-8 4c0 .8.6 1.4 1.4 1.4h3.2a5 5 0 0 0-1 3 5 5 0 0 0 5 5c.8 0 1.4-.6 1.4-1.4v-3.2a5 5 0 0 0 8-4c0-.8-.7-1.4-1.4-1.4h-3.2a5 5 0 0 0-4-8Zm.6 8V5a3 3 0 0 1 2.4 3 3 3 0 0 1-2.4 3Zm-2 0H5a3 3 0 0 1 3-2.4 3 3 0 0 1 3 2.4Zm2 2a3 3 0 0 0 3 2.4 3 3 0 0 0 3-2.4h-6Zm-4.4 3a3 3 0 0 1 2.4-3v6a3 3 0 0 1-2.4-3Z" clip-rule="evenodd"/></svg>',grayscale:'<svg height="24" width="24"><g clip-rule="evenodd" fill-rule="evenodd"><path d="M12 15v2a5 5 0 0 0 0-10v2a3 3 0 1 0 0 6zm0 0a3 3 0 1 0 0-6z"/><path d="M5 21a2 2 0 0 1-1.4-.6A2 2 0 0 1 3 19V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h14c.6 0 1 .2 1.4.6.4.4.6.8.6 1.4v14c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm7-2h7V5h-7v2a5 5 0 0 0 0 10z"/></g></svg>',huddle:'<svg height="24" width="24"><path d="M10.3 5.6V8h.8v-2l3.5 2 4.3-2.5L14.6 3l-4.3 2.6zM14.6 8v5.2l4.3-2.6V5.6L14.6 8zM6 13.3v2.5h.9v-2l3.4 2 4.3-2.5-4.3-2.6zm4.3 2.6V21l4.3-2.6v-5.1l-4.3 2.6z"/></svg>',"image-decorative":'<svg width="24" height="24"><path d="M12 10c.3 0 .5-.1.7-.3A1 1 0 0 0 13 9a1 1 0 0 0-.3-.7A1 1 0 0 0 12 8a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 1 1Zm0 6a3 3 0 0 1-1.8-.5A3 3 0 0 1 9.1 14a2 2 0 0 0-.2 0 3 3 0 0 1-2.5-1 3 3 0 0 1-.9-2.2A3 3 0 0 1 6.2 9a3.4 3.4 0 0 1-.5-1 3 3 0 0 1-.2-1 3 3 0 0 1 1-2.2A3 3 0 0 1 8.8 4H9a3 3 0 0 1 1.1-1.4A3 3 0 0 1 12 2a3 3 0 0 1 1.8.5c.5.4.9.9 1.1 1.5h.2a3 3 0 0 1 2.5.8 3 3 0 0 1 .9 2.3c0 .3 0 .7-.2 1a2.8 2.8 0 0 1-.5.9l.5 1 .2 1a3 3 0 0 1-1 2.2 3 3 0 0 1-2.4.9 1.8 1.8 0 0 0-.2 0 3 3 0 0 1-1.1 1.4 3 3 0 0 1-1.8.5Zm0 7a8.7 8.7 0 0 1 .7-3.5 9.2 9.2 0 0 1 2-2.8 9.2 9.2 0 0 1 2.8-2A8.6 8.6 0 0 1 21 14a8.6 8.6 0 0 1-.7 3.5 9.2 9.2 0 0 1-2 2.8 9.2 9.2 0 0 1-2.8 2 8.6 8.6 0 0 1-3.5.7Zm2.5-2.5a6.8 6.8 0 0 0 2.4-1.5 6.8 6.8 0 0 0 1.7-2.6c-1 .4-1.8 1-2.6 1.7a6.8 6.8 0 0 0-1.5 2.4ZM12 23a8.6 8.6 0 0 0-.7-3.5 9.2 9.2 0 0 0-2-2.9 9.2 9.2 0 0 0-2.8-1.9A8.6 8.6 0 0 0 3 14a8.7 8.7 0 0 0 .7 3.5 9.2 9.2 0 0 0 2 2.9 9.2 9.2 0 0 0 2.8 1.9 8.6 8.6 0 0 0 3.5.7Zm-2.5-2.5A6.8 6.8 0 0 1 7.2 19a6.8 6.8 0 0 1-1.6-2.6c.9.4 1.7 1 2.5 1.7a6.8 6.8 0 0 1 1.6 2.4Zm5.9-8.4c.3 0 .5-.1.8-.4.2-.2.3-.5.3-.8 0-.2 0-.4-.2-.6a1.3 1.3 0 0 0-.5-.4l-.8-.4a3 3 0 0 1-.2.5 3.8 3.8 0 0 1-.2.5 2.5 2.5 0 0 1-.3.4 4 4 0 0 1-.4.4l.8.6a.8.8 0 0 0 .3.1h.4ZM15 8.5l.8-.4.5-.4.2-.6a1.1 1.1 0 0 0-.3-.8 1 1 0 0 0-.8-.4 1.1 1.1 0 0 0-.7.2l-.8.6.4.4.3.4a3.9 3.9 0 0 1 .4 1Zm-4-2.3a2.7 2.7 0 0 1 1-.2 2.7 2.7 0 0 1 1 .2l.2-1.1c0-.3-.1-.6-.4-.8A1.2 1.2 0 0 0 12 4c-.3 0-.6.1-.8.3-.3.2-.4.5-.3.8v1.1Zm1 7.8c.3 0 .6-.1.8-.3.3-.2.4-.5.3-.8v-1.1a2.7 2.7 0 0 1-1.1.2 2.7 2.7 0 0 1-1-.2l-.2 1.1c0 .3.1.6.4.8.2.2.5.3.8.3ZM9 8.5a3 3 0 0 1 .4-1l.3-.4.4-.4-.8-.6A.9.9 0 0 0 9 6a1.2 1.2 0 0 0-.3 0c-.4 0-.6 0-.9.3a1.1 1.1 0 0 0-.3.8c0 .2 0 .4.2.6l.5.4.9.4Zm-.3 3.6H9l.3-.2.8-.6a5.5 5.5 0 0 1-.4-.4 2.1 2.1 0 0 1-.3-.4 3.8 3.8 0 0 1-.2-.5 3 3 0 0 1-.1-.5l-1 .4-.4.4a1.1 1.1 0 0 0-.2.6c0 .3.2.6.4.8.2.2.4.4.7.4Z"/></svg>',"image-enhancements":'<svg height="24" width="24"><path d="M5.3 21a2 2 0 0 1-1.5-.6 2 2 0 0 1-.6-1.4V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5.2 3H13v2H5.2v14h14v-8h2v8c0 .6-.1 1-.5 1.4a2 2 0 0 1-1.4.6z"/><path d="M11 9a4 4 0 0 0 4 4 4 4 0 0 0-4 4 4 4 0 0 0-4-4 4 4 0 0 0 4-4zm5.5-6c.2 2.1 2.2 4.1 4.5 4.5-2.3.4-4.3 2.4-4.5 4.5A5.2 5.2 0 0 0 12 7.5 5.2 5.2 0 0 0 16.5 3z"/></svg>',instagram:'<svg height="24" width="24"><path clip-rule="evenodd" d="M10.1 9a4 4 0 1 1 4.4 6.6A4 4 0 0 1 10.1 9zm2.2 1.3a2 2 0 1 0 0 4 2 2 0 0 0 0-4z" fill-rule="evenodd"/><path d="M16 9.3a1.3 1.3 0 1 0 0-2.6 1.3 1.3 0 0 0 0 2.6z"/><path clip-rule="evenodd" d="M3 6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3zm3-1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1z" fill-rule="evenodd"/></svg>',onedrive:'<svg height="24" width="24"><path d="M4 13.7h1zm16 .7h-1zm-11.7-4A4.4 4.4 0 0 1 12.1 8V6a6.4 6.4 0 0 0-5.6 3.4l1.8 1zM12.1 8c2 0 3.6 1.4 4 2.8l2-.5A6.3 6.3 0 0 0 12 6v2zm8.1 6.8-9.8-5.5-1 1.8 9.8 5.5 1-1.8zm-9.8-5.5A5 5 0 0 0 3 13.7h2A3 3 0 0 1 9.5 11l1-1.8zM3 13.7a5 5 0 0 0 1 2.8l1.5-1.1a3 3 0 0 1-.5-1.7zm15.8 1.6a2.3 2.3 0 0 1-2 1.4v2a4.3 4.3 0 0 0 3.9-2.6zm-2 1.4H8v2h8.7zm-8.8 0a3 3 0 0 1-2.5-1.3L4 16.5a5 5 0 0 0 4 2.2v-2zm12.7-.6c.2-.6.3-1.1.3-1.7h-2c0 .3 0 .6-.2.9zm.3-1.7c0-3-3.1-5.1-6-4l.8 1.9a2.3 2.3 0 0 1 3.2 2h2zm-6-4L4.4 15l.8 1.9 10.7-4.6-.7-1.8z"/></svg>',"revert-changes":'<svg height="24" width="24"><path d="m8.9 18.8.4 3.2H13v-2h-2v-2.6a4.6 4.6 0 0 1-1.6-.6 5.9 5.9 0 0 1-1.3-1l-2.5 1-1-1.7 2.2-1.6a4 4 0 0 1-.2-.7 5.9 5.9 0 0 1 0-.8v-.8l.2-.8-2.2-1.6 1-1.7 2.5 1a6 6 0 0 1 1.2-.9l1.4-.6.4-2.6h2l.3 2.6A5.6 5.6 0 0 1 16 8.2l2.5-1 1 1.6-2.2 1.7.2.7v.8a5 5 0 0 1 0 1h2a2.6 2.6 0 0 0 0-.5V11.3l2.6-2-2.8-4.7-3 1.3a8.2 8.2 0 0 0-.5-.4 3.8 3.8 0 0 0-.6-.3L14.8 2H9.3l-.4 3.2a5 5 0 0 0-1.2.7l-3-1.3L2 9.4l2.6 2V12.6l-2.6 2 2.7 4.7 3-1.3a8 8 0 0 0 1.2.7z"/><path d="m14.5 20.3 2.1-2-2.1-2.2 1.4-1.4 2.1 2.1 2.1-2 1.4 1.3-2 2.1 2 2.1-1.4 1.4-2.1-2-2.1 2zM12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></svg>',saturation:'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 20.5a6 6 0 1 1-5.9-10.2 6 6 0 1 1 11.8 0A6 6 0 1 1 12 20.5Zm-1.1-7.7a6 6 0 0 0-.2.3 4.3 4.3 0 0 1-2-1.3c.9.1 1.6.5 2.2 1Zm2.4.3a6 6 0 0 0-.2-.3 4.3 4.3 0 0 1 2.2-1 4.3 4.3 0 0 1-2 1.3ZM12.2 15a6.3 6.3 0 0 1-.4 0 4.3 4.3 0 0 0 .2 2.5 4.3 4.3 0 0 0 .2-2.5Zm.9 4.2a6 6 0 0 0 .8-4.5 6 6 0 0 0 3.4-2.8 4.3 4.3 0 0 1-1.3 8.4 4.3 4.3 0 0 1-2.9-1.1Zm-2.2 0a4.3 4.3 0 1 1-4.2-7.3 6 6 0 0 0 3.4 2.8 6 6 0 0 0 .8 4.5Zm-3-9.2a4.3 4.3 0 1 1 8.3 0 6 6 0 0 0-4.2 1.5A6 6 0 0 0 7.8 10Z" clip-rule="evenodd"/></svg>',"transform-image":'<svg height="24" width="24"><path d="M3 21v-6h2V9H3V3h6v2h6V3h6v6h-2v6h2v6h-6v-2H9v2zm6-4h6v-2h2V9h-2V7H9v2H7v6h2zM5 7h2V5H5zm12 0h2V5h-2zm0 12h2v-2h-2zM5 19h2v-2H5z"/></svg>',vibrance:'<svg height="24" width="24"><path clip-rule="evenodd" d="M12 20 22 4H2zm2.6-8 1.3-2H8l1.3 2h5.2zm-1.2 2h-2.8l1.4 2.2zm5-8L17 8H7L5.6 6h12.8z" fill-rule="evenodd"/></svg>',vk:'<svg width="24" height="24"><path fill-rule="evenodd" d="M14.8 17.4a2 2 0 0 1-1.3.7 8 8 0 0 1-7.7-3.6c-1.4-2-2.2-4.4-2.6-5.7L3 8.6A2 2 0 0 1 5 6h2.5c.4 0 .8.1 1.2.4A2 2 0 0 1 9.8 6h3.5a2 2 0 0 1 1.4.6 2 2 0 0 1 1.5-.6h2.4a2 2 0 0 1 2 2.5c-.5 1.5-1.2 2.6-1.8 3.6a12.5 12.5 0 0 1 2 3.2A2 2 0 0 1 19 18h-2.6a2 2 0 0 1-1.3-.5 6.9 6.9 0 0 1-.3-.2Zm.5-2.5-1.2-1a3 3 0 0 0-.8-.2v2.4h-1.7a5.6 5.6 0 0 1-.3 0c-3-.7-4.7-3.7-5.6-6.1A38.1 38.1 0 0 1 5 8.1V8h2.5a80.5 80.5 0 0 1 1.2 2.5c.6 1.2 1.2 2 2 2.1V9l-.9-1h3.5v4.1a5 5 0 0 0 .4-.3c.7-.7 1.2-1.4 1.6-2.2l.2-.3.7-1.3h2.4a8.5 8.5 0 0 1-.8 2l-1.3 2-.3.3a10.5 10.5 0 0 1 2.8 3.8h-2.6l-.8-.9a20.6 20.6 0 0 0-.3-.3Z" clip-rule="evenodd"/></svg>',warmth:'<svg height="24" width="24"><path d="M12 21.1c-1.4 0-2.6-.5-3.6-1.5s-1.5-2.1-1.5-3.5c0-.8.2-1.6.6-2.2A5 5 0 0 1 8.9 12v-6c0-.8.3-1.5 1-2.1a2.9 2.9 0 0 1 2-.9c.9 0 1.6.3 2.2.9.5.6.8 1.3.8 2.1v6a5 5 0 0 1 1.5 1.8A4.9 4.9 0 0 1 17 16c0 1.4-.5 2.6-1.4 3.5s-2.2 1.5-3.6 1.5zm-3-5h6c0-.5-.2-1-.4-1.4a3 3 0 0 0-.9-1l-.8-.6v-7a1 1 0 0 0-.3-.7A1 1 0 0 0 12 5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v7l-.8.6a2.9 2.9 0 0 0-.9 1 3 3 0 0 0-.3 1.4z"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});var YL={},XL;function fq(){return XL||(XL=1,function(){const kn=Object.getPrototypeOf,ur=(o,s,i)=>{var l;return!!i(o,s.prototype)||((l=o.constructor)===null||l===void 0?void 0:l.name)===s.name},Vr=o=>s=>(i=>{const l=typeof i;return i===null?"null":l==="object"&&Array.isArray(i)?"array":l==="object"&&ur(i,String,(d,f)=>f.isPrototypeOf(d))?"string":l})(s)===o,$r=o=>s=>typeof s===o,fr=o=>s=>o===s,xo=Vr("string"),rr=Vr("object"),jn=o=>((s,i)=>rr(s)&&ur(s,i,(l,d)=>kn(l)===d))(o,Object),Po=Vr("array"),En=fr(null),Un=$r("boolean"),ar=fr(void 0),An=o=>o==null,Bt=o=>!An(o),Ut=$r("function"),Lo=$r("number"),sr=(o,s)=>{if(Po(o)){for(let i=0,l=o.length;i<l;++i)if(!s(o[i]))return!1;return!0}return!1},rt=()=>{},ut=o=>()=>o(),pt=(o,s)=>(...i)=>o(s.apply(null,i)),le=o=>()=>o,Tt=o=>o,ve=(o,s)=>o===s;function lt(o,...s){return(...i)=>{const l=s.concat(i);return o.apply(null,l)}}const jr=o=>s=>!o(s),Xn=o=>()=>{throw new Error(o)},Ro=o=>o(),Le=le(!1),It=le(!0);class T{constructor(s,i){this.tag=s,this.value=i}static some(s){return new T(!0,s)}static none(){return T.singletonNone}fold(s,i){return this.tag?i(this.value):s()}isSome(){return this.tag}isNone(){return!this.tag}map(s){return this.tag?T.some(s(this.value)):T.none()}bind(s){return this.tag?s(this.value):T.none()}exists(s){return this.tag&&s(this.value)}forall(s){return!this.tag||s(this.value)}filter(s){return!this.tag||s(this.value)?this:T.none()}getOr(s){return this.tag?this.value:s}or(s){return this.tag?this:s}getOrThunk(s){return this.tag?this.value:s()}orThunk(s){return this.tag?this:s()}getOrDie(s){if(this.tag)return this.value;throw new Error(s??"Called getOrDie on None")}static from(s){return Bt(s)?T.some(s):T.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(s){this.tag&&s(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}T.singletonNone=new T(!1);const ko=Array.prototype.slice,Qt=Array.prototype.indexOf,Oo=Array.prototype.push,_r=(o,s)=>Qt.call(o,s),Ce=(o,s)=>_r(o,s)>-1,zt=(o,s)=>{for(let i=0,l=o.length;i<l;i++)if(s(o[i],i))return!0;return!1},tn=(o,s)=>{const i=[];for(let l=0;l<o;l++)i.push(s(l));return i},xt=(o,s)=>{const i=[];for(let l=0;l<o.length;l+=s){const d=ko.call(o,l,l+s);i.push(d)}return i},Qe=(o,s)=>{const i=o.length,l=new Array(i);for(let d=0;d<i;d++){const f=o[d];l[d]=s(f,d)}return l},Ot=(o,s)=>{for(let i=0,l=o.length;i<l;i++)s(o[i],i)},Yr=(o,s)=>{const i=[],l=[];for(let d=0,f=o.length;d<f;d++){const p=o[d];(s(p,d)?i:l).push(p)}return{pass:i,fail:l}},gn=(o,s)=>{const i=[];for(let l=0,d=o.length;l<d;l++){const f=o[l];s(f,l)&&i.push(f)}return i},an=(o,s,i)=>(((l,d)=>{for(let f=l.length-1;f>=0;f--)d(l[f],f)})(o,(l,d)=>{i=s(i,l,d)}),i),Co=(o,s,i)=>(Ot(o,(l,d)=>{i=s(i,l,d)}),i),V=(o,s)=>((i,l,d)=>{for(let f=0,p=i.length;f<p;f++){const b=i[f];if(l(b,f))return T.some(b);if(d(b,f))break}return T.none()})(o,s,Le),la=(o,s)=>{for(let i=0,l=o.length;i<l;i++)if(s(o[i],i))return T.some(i);return T.none()},Nn=o=>{const s=[];for(let i=0,l=o.length;i<l;++i){if(!Po(o[i]))throw new Error("Arr.flatten item "+i+" was not an array, input: "+o);Oo.apply(s,o[i])}return s},hn=(o,s)=>Nn(Qe(o,s)),xi=(o,s)=>{for(let i=0,l=o.length;i<l;++i)if(s(o[i],i)!==!0)return!1;return!0},Al=o=>{const s=ko.call(o,0);return s.reverse(),s},Wo=(o,s)=>gn(o,i=>!Ce(s,i)),zn=(o,s)=>{const i={};for(let l=0,d=o.length;l<d;l++){const f=o[l];i[String(f)]=s(f,l)}return i},$o=o=>[o],Ne=(o,s)=>{const i=ko.call(o,0);return i.sort(s),i},wt=(o,s)=>s>=0&&s<o.length?T.some(o[s]):T.none(),st=o=>wt(o,0),Ye=o=>wt(o,o.length-1),to=Ut(Array.from)?Array.from:o=>ko.call(o),mo=(o,s)=>{for(let i=0;i<o.length;i++){const l=s(o[i],i);if(l.isSome())return l}return T.none()},Fo=Object.keys,Sn=Object.hasOwnProperty,Jn=(o,s)=>{const i=Fo(o);for(let l=0,d=i.length;l<d;l++){const f=i[l];s(o[f],f)}},Tn=(o,s)=>Mn(o,(i,l)=>({k:l,v:s(i,l)})),Mn=(o,s)=>{const i={};return Jn(o,(l,d)=>{const f=s(l,d);i[f.k]=f.v}),i},wr=o=>(s,i)=>{o[i]=s},Os=(o,s,i,l)=>{Jn(o,(d,f)=>{(s(d,f)?i:l)(d,f)})},Fn=(o,s)=>{const i={};return Os(o,s,wr(i),rt),i},Rr=(o,s)=>{const i=[];return Jn(o,(l,d)=>{i.push(s(l,d))}),i},jo=(o,s)=>{const i=Fo(o);for(let l=0,d=i.length;l<d;l++){const f=i[l],p=o[f];if(s(p,f,o))return T.some(p)}return T.none()},Ds=o=>Rr(o,Tt),mt=(o,s)=>io(o,s)?T.from(o[s]):T.none(),io=(o,s)=>Sn.call(o,s),Mo=(o,s)=>io(o,s)&&o[s]!==void 0&&o[s]!==null,Rs=(o,s,i=ve)=>o.exists(l=>i(l,s)),$a=o=>{const s=[],i=l=>{s.push(l)};for(let l=0;l<o.length;l++)o[l].each(i);return s},Je=(o,s,i)=>o.isSome()&&s.isSome()?T.some(i(o.getOrDie(),s.getOrDie())):T.none(),Ta=(o,s)=>o!=null?T.some(s(o)):T.none(),To=(o,s)=>o?T.some(s):T.none(),ki=(o,s,i)=>s===""||o.length>=s.length&&o.substr(i,i+s.length)===s,Zn=(o,s)=>Ji(o,s)?((i,l)=>i.substring(l))(o,s.length):o,ms=(o,s,i=0,l)=>{const d=o.indexOf(s,i);return d!==-1&&(!!ar(l)||d+s.length<=l)},Ji=(o,s)=>ki(o,s,0),Qi=(o,s)=>ki(o,s,o.length-s.length),_i=(Yd=/^\s+|\s+$/g,o=>o.replace(Yd,"")),ca=o=>o.length>0,el=o=>!ca(o),Bn=o=>o.style!==void 0&&Ut(o.style.getPropertyValue),go=o=>{if(o==null)throw new Error("Node cannot be null or undefined");return{dom:o}},Oa=(o,s)=>{const i=document.createElement("div");if(i.innerHTML=o,!i.hasChildNodes()||i.childNodes.length>1){const l="HTML does not have a single root node";throw console.error(l,o),new Error(l)}return go(i.childNodes[0])},vs=(o,s)=>{const i=document.createElement(o);return go(i)},Xl=(o,s)=>{const i=document.createTextNode(o);return go(i)},St=go,Ri=typeof window<"u"?window:Function("return this;")(),Da=(o,s)=>((i,l)=>{let d=l??Ri;for(let f=0;f<i.length&&d!=null;++f)d=d[i[f]];return d})(o.split("."),s),Cr=Object.getPrototypeOf,Ic=o=>{const s=Da("ownerDocument.defaultView",o);return rr(o)&&((i=>((l,d)=>{const f=((p,b)=>Da(p,b))(l,d);if(f==null)throw new Error(l+" not available on this browser");return f})("HTMLElement",i))(s).prototype.isPrototypeOf(o)||/^HTML\w*Element$/.test(Cr(o).constructor.name))},da=o=>o.dom.nodeName.toLowerCase(),ps=o=>s=>(i=>i.dom.nodeType)(s)===o,ri=o=>mr(o)&&Ic(o.dom),mr=ps(1),ks=ps(3),Ra=ps(9),zl=ps(11),Ni=o=>s=>mr(s)&&da(s)===o,si=(o,s)=>{const i=o.dom;if(i.nodeType!==1)return!1;{const l=i;if(l.matches!==void 0)return l.matches(s);if(l.msMatchesSelector!==void 0)return l.msMatchesSelector(s);if(l.webkitMatchesSelector!==void 0)return l.webkitMatchesSelector(s);if(l.mozMatchesSelector!==void 0)return l.mozMatchesSelector(s);throw new Error("Browser lacks native selectors")}},Pc=o=>o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11||o.childElementCount===0,Lc=(o,s)=>{const i=s===void 0?document:s.dom;return Pc(i)?T.none():T.from(i.querySelector(o)).map(St)},ln=(o,s)=>o.dom===s.dom,gs=(o,s)=>{const i=o.dom,l=s.dom;return i!==l&&i.contains(l)},ua=o=>St(o.dom.ownerDocument),Fc=o=>Ra(o)?o:ua(o),Gd=o=>St(Fc(o).dom.documentElement),gd=o=>St(Fc(o).dom.defaultView),es=o=>T.from(o.dom.parentNode).map(St),Na=o=>T.from(o.dom.parentElement).map(St),ai=o=>T.from(o.dom.offsetParent).map(St),pr=o=>Qe(o.dom.childNodes,St),ir=(o,s)=>{const i=o.dom.childNodes;return T.from(i[s]).map(St)},wi=o=>ir(o,0),Ma=(o,s)=>({element:o,offset:s}),Js=(o,s)=>{const i=pr(o);return i.length>0&&s<i.length?Ma(i[s],0):Ma(o,s)},Mi=o=>zl(o)&&Bt(o.dom.host),ss=o=>St(o.dom.getRootNode()),gr=o=>Mi(o)?o:St(Fc(o).dom.body),Ci=o=>{const s=ss(o);return Mi(s)?T.some(s):T.none()},ts=o=>St(o.dom.host),Qn=o=>{const s=ks(o)?o.dom.parentNode:o.dom;if(s==null||s.ownerDocument===null)return!1;const i=s.ownerDocument;return Ci(St(s)).fold(()=>i.body.contains(s),(l=Qn,d=ts,f=>l(d(f))));var l,d},fa=()=>ja(St(document)),ja=o=>{const s=o.dom.body;if(s==null)throw new Error("Body is not available yet");return St(s)},Hc=(o,s,i)=>{if(!(xo(i)||Un(i)||Lo(i)))throw console.error("Invalid call to Attribute.set. Key ",s,":: Value ",i,":: Element ",o),new Error("Attribute value was not simple");o.setAttribute(s,i+"")},po=(o,s,i)=>{Hc(o.dom,s,i)},hs=(o,s)=>{const i=o.dom;Jn(s,(l,d)=>{Hc(i,d,l)})},as=(o,s)=>{const i=o.dom.getAttribute(s);return i===null?void 0:i},os=(o,s)=>T.from(as(o,s)),hd=(o,s)=>{const i=o.dom;return!(!i||!i.hasAttribute)&&i.hasAttribute(s)},Sr=(o,s)=>{o.dom.removeAttribute(s)},sl=(o,s,i)=>{if(!xo(i))throw console.error("Invalid call to CSS.set. Property ",s,":: Value ",i,":: Element ",o),new Error("CSS value must be a string: "+i);Bn(o)&&o.style.setProperty(s,i)},al=(o,s)=>{Bn(o)&&o.style.removeProperty(s)},Gt=(o,s,i)=>{const l=o.dom;sl(l,s,i)},Ua=(o,s)=>{const i=o.dom;Jn(s,(l,d)=>{sl(i,d,l)})},ii=(o,s)=>{const i=o.dom;Jn(s,(l,d)=>{l.fold(()=>{al(i,d)},f=>{sl(i,d,f)})})},Ns=(o,s)=>{const i=o.dom,l=window.getComputedStyle(i).getPropertyValue(s);return l!==""||Qn(o)?l:Jl(i,s)},Jl=(o,s)=>Bn(o)?o.style.getPropertyValue(s):"",hr=(o,s)=>{const i=o.dom,l=Jl(i,s);return T.from(l).filter(d=>d.length>0)},Si=o=>{const s={},i=o.dom;if(Bn(i))for(let l=0;l<i.style.length;l++){const d=i.style.item(l);s[d]=i.style[d]}return s},li=(o,s,i)=>{const l=vs(o);return Gt(l,s,i),hr(l,s).isSome()},Yo=(o,s)=>{const i=o.dom;al(i,s),Rs(os(o,"style").map(_i),"")&&Sr(o,"style")},tl=o=>o.dom.offsetWidth,il=(o,s)=>{const i=d=>{const f=s(d);if(f<=0||f===null){const p=Ns(d,o);return parseFloat(p)||0}return f},l=(d,f)=>Co(f,(p,b)=>{const y=Ns(d,b),_=y===void 0?0:parseInt(y,10);return isNaN(_)?p:p+_},0);return{set:(d,f)=>{if(!Lo(f)&&!f.match(/^[0-9]+$/))throw new Error(o+".set accepts only positive integer values. Value was "+f);const p=d.dom;Bn(p)&&(p.style[o]=f+"px")},get:i,getOuter:i,aggregate:l,max:(d,f,p)=>{const b=l(d,p);return f>b?f-b:0}}},Vc=il("height",o=>{const s=o.dom;return Qn(o)?s.getBoundingClientRect().height:s.offsetHeight}),xr=o=>Vc.get(o),_a=o=>Vc.getOuter(o),Kd=(o,s)=>({left:o,top:s,translate:(i,l)=>Kd(o+i,s+l)}),On=Kd,Tl=(o,s)=>o!==void 0?o:s!==void 0?s:0,Ur=o=>{const s=o.dom.ownerDocument,i=s.body,l=s.defaultView,d=s.documentElement;if(i===o.dom)return On(i.offsetLeft,i.offsetTop);const f=Tl(l==null?void 0:l.pageYOffset,d.scrollTop),p=Tl(l==null?void 0:l.pageXOffset,d.scrollLeft),b=Tl(d.clientTop,i.clientTop),y=Tl(d.clientLeft,i.clientLeft);return Ms(o).translate(p-y,f-b)},Ms=o=>{const s=o.dom,i=s.ownerDocument.body;return i===s?On(i.offsetLeft,i.offsetTop):Qn(o)?(l=>{const d=l.getBoundingClientRect();return On(d.left,d.top)})(s):On(0,0)},q=il("width",o=>o.dom.offsetWidth),ce=o=>q.get(o),_e=o=>q.getOuter(o),Ve=o=>{let s,i=!1;return(...l)=>(i||(i=!0,s=o.apply(null,l)),s)},ft=()=>Vt(0,0),Vt=(o,s)=>({major:o,minor:s}),Nt={nu:Vt,detect:(o,s)=>{const i=String(s).toLowerCase();return o.length===0?ft():((l,d)=>{const f=((b,y)=>{for(let _=0;_<b.length;_++){const A=b[_];if(A.test(y))return A}})(l,d);if(!f)return{major:0,minor:0};const p=b=>Number(d.replace(f,"$"+b));return Vt(p(1),p(2))})(o,i)},unknown:ft},kr=(o,s)=>{const i=String(s).toLowerCase();return V(o,l=>l.search(i))},on=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,P=o=>s=>ms(s,o),Y=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:o=>ms(o,"edge/")&&ms(o,"chrome")&&ms(o,"safari")&&ms(o,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,on],search:o=>ms(o,"chrome")&&!ms(o,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:o=>ms(o,"msie")||ms(o,"trident")},{name:"Opera",versionRegexes:[on,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:P("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:P("firefox")},{name:"Safari",versionRegexes:[on,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:o=>(ms(o,"safari")||ms(o,"mobile/"))&&ms(o,"applewebkit")}],pe=[{name:"Windows",search:P("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:o=>ms(o,"iphone")||ms(o,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:P("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:P("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:P("linux"),versionRegexes:[]},{name:"Solaris",search:P("sunos"),versionRegexes:[]},{name:"FreeBSD",search:P("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:P("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],De={browsers:le(Y),oses:le(pe)},Zt="Edge",nn="Chromium",Xr="Opera",ci="Firefox",ht="Safari",Bi=o=>{const s=o.current,i=o.version,l=d=>()=>s===d;return{current:s,version:i,isEdge:l(Zt),isChromium:l(nn),isIE:l("IE"),isOpera:l(Xr),isFirefox:l(ci),isSafari:l(ht)}},wa=()=>Bi({current:void 0,version:Nt.unknown()}),hc=Bi,ma="Windows",$c="Android",bd="Linux",zm="macOS",Ol="Solaris",Tm="FreeBSD",Ip="ChromeOS",$g=o=>{const s=o.current,i=o.version,l=d=>()=>s===d;return{current:s,version:i,isWindows:l(ma),isiOS:l("iOS"),isAndroid:l($c),isMacOS:l(zm),isLinux:l(bd),isSolaris:l(Ol),isFreeBSD:l(Tm),isChromeOS:l(Ip)}},jg=()=>$g({current:void 0,version:Nt.unknown()}),Uf=$g,jc=o=>window.matchMedia(o).matches;var Yd;let Yu=Ve(()=>((o,s,i)=>{const l=De.browsers(),d=De.oses(),f=s.bind(y=>((_,A)=>mo(A.brands,w=>{const O=w.brand.toLowerCase();return V(_,I=>{var F;return O===((F=I.brand)===null||F===void 0?void 0:F.toLowerCase())}).map(I=>({current:I.name,version:Nt.nu(parseInt(w.version,10),0)}))}))(l,y)).orThunk(()=>((y,_)=>kr(y,_).map(A=>{const w=Nt.detect(A.versionRegexes,_);return{current:A.name,version:w}}))(l,o)).fold(wa,hc),p=((y,_)=>kr(y,_).map(A=>{const w=Nt.detect(A.versionRegexes,_);return{current:A.name,version:w}}))(d,o).fold(jg,Uf),b=((y,_,A,w)=>{const O=y.isiOS()&&/ipad/i.test(A)===!0,I=y.isiOS()&&!O,F=y.isiOS()||y.isAndroid(),K=F||w("(pointer:coarse)"),Q=O||!I&&F&&w("(min-device-width:768px)"),oe=I||F&&!Q,W=_.isSafari()&&y.isiOS()&&/safari/i.test(A)===!1,Z=!oe&&!Q&&!W;return{isiPad:le(O),isiPhone:le(I),isTablet:le(Q),isPhone:le(oe),isTouch:le(K),isAndroid:y.isAndroid,isiOS:y.isiOS,isWebView:le(W),isDesktop:le(Z)}})(p,f,o,i);return{browser:f,os:p,deviceType:b}})(window.navigator.userAgent,T.from(window.navigator.userAgentData),jc));const pa=()=>Yu(),yd=o=>{const s=St((f=>{if(Bt(f.target)){const p=St(f.target);if(mr(p)&&(b=>Bt(b.dom.shadowRoot))(p)&&f.composed&&f.composedPath){const b=f.composedPath();if(b)return st(b)}}return T.from(f.target)})(o).getOr(o.target)),i=()=>o.stopPropagation(),l=()=>o.preventDefault(),d=pt(l,i);return((f,p,b,y,_,A,w)=>({target:f,x:p,y:b,stop:y,prevent:_,kill:A,raw:w}))(s,o.clientX,o.clientY,i,l,d,o)},bc=(o,s,i,l,d)=>{const f=((p,b)=>y=>{p(y)&&b(yd(y))})(i,l);return o.dom.addEventListener(s,f,d),{unbind:lt(cn,o,s,f,d)}},cn=(o,s,i,l)=>{o.dom.removeEventListener(s,i,l)},di=(o,s)=>{es(o).each(i=>{i.dom.insertBefore(s.dom,o.dom)})},pu=(o,s)=>{(l=>T.from(l.dom.nextSibling).map(St))(o).fold(()=>{es(o).each(l=>{ui(l,s)})},l=>{di(l,s)})},Om=(o,s)=>{wi(o).fold(()=>{ui(o,s)},i=>{o.dom.insertBefore(s.dom,i.dom)})},ui=(o,s)=>{o.dom.appendChild(s.dom)},Ei=(o,s)=>{Ot(s,i=>{ui(o,i)})},Qs=o=>{o.dom.textContent="",Ot(pr(o),s=>{yc(s)})},yc=o=>{const s=o.dom;s.parentNode!==null&&s.parentNode.removeChild(s)},_s=o=>{const s=o!==void 0?o.dom:document,i=s.body.scrollLeft||s.documentElement.scrollLeft,l=s.body.scrollTop||s.documentElement.scrollTop;return On(i,l)},Ba=(o,s,i)=>{const l=(i!==void 0?i.dom:document).defaultView;l&&l.scrollTo(o,s)},Ii=(o,s,i,l)=>({x:o,y:s,width:i,height:l,right:o+i,bottom:s+l}),In=o=>{const s=o===void 0?window:o,i=s.document,l=_s(St(i));return(d=>{const f=d===void 0?window:d;return pa().browser.isFirefox()?T.none():T.from(f.visualViewport)})(s).fold(()=>{const d=s.document.documentElement,f=d.clientWidth,p=d.clientHeight;return Ii(l.left,l.top,f,p)},d=>Ii(Math.max(d.pageLeft,l.left),Math.max(d.pageTop,l.top),d.width,d.height))},Dl=()=>St(document),Ia=(o,s)=>o.view(s).fold(le([]),i=>{const l=o.owner(i),d=Ia(o,l);return[i].concat(d)});var $s=Object.freeze({__proto__:null,view:o=>{var s;return(o.dom===document?T.none():T.from((s=o.dom.defaultView)===null||s===void 0?void 0:s.frameElement)).map(St)},owner:o=>ua(o)});const ll=o=>{const s=Dl(),i=_s(s);return((d,f)=>{const p=f.owner(d),b=Ia(f,p);return T.some(b)})(o,$s).fold(lt(Ur,o),d=>{const f=Ms(o),p=an(d,(b,y)=>{const _=Ms(y);return{left:b.left+_.left,top:b.top+_.top}},{left:0,top:0});return On(p.left+f.left+i.left,p.top+f.top+i.top)})},Dn=(o,s,i,l)=>({x:o,y:s,width:i,height:l,right:o+i,bottom:s+l}),js=o=>{const s=Ur(o),i=_e(o),l=_a(o);return Dn(s.left,s.top,i,l)},Ql=o=>{const s=ll(o),i=_e(o),l=_a(o);return Dn(s.left,s.top,i,l)},Us=(o,s)=>{const i=Math.max(o.x,s.x),l=Math.max(o.y,s.y),d=Math.min(o.right,s.right),f=Math.min(o.bottom,s.bottom);return Dn(i,l,d-i,f-l)},Bs=()=>In(window),$t=o=>{let s=o;return{get:()=>s,set:i=>{s=i}}},ec=o=>{const s=$t(T.none()),i=()=>s.get().each(o);return{clear:()=>{i(),s.set(T.none())},isSet:()=>s.get().isSome(),get:()=>s.get(),set:l=>{i(),s.set(T.some(l))}}},vd=()=>ec(o=>o.unbind()),sn=()=>{const o=ec(rt);return{...o,on:s=>o.get().each(s)}};var Xd=tinymce.util.Tools.resolve("tinymce.ThemeManager");const gu=o=>{const s=f=>f(o),i=le(o),l=()=>d,d={tag:!0,inner:o,fold:(f,p)=>p(o),isValue:It,isError:Le,map:f=>Zo.value(f(o)),mapError:l,bind:s,exists:s,forall:s,getOr:i,or:l,getOrThunk:i,orThunk:l,getOrDie:i,each:f=>{f(o)},toOptional:()=>T.some(o)};return d},vc=o=>{const s=()=>i,i={tag:!1,inner:o,fold:(l,d)=>l(o),isValue:Le,isError:It,map:s,mapError:l=>Zo.error(l(o)),bind:s,exists:Le,forall:It,getOr:Tt,or:Tt,getOrThunk:Ro,orThunk:Ro,getOrDie:Xn(String(o)),each:rt,toOptional:T.none};return i},Zo={value:gu,error:vc,fromOption:(o,s)=>o.fold(()=>vc(s),gu)};var Pa;(function(o){o[o.Error=0]="Error",o[o.Value=1]="Value"})(Pa||(Pa={}));const Xu=(o,s,i)=>o.stype===Pa.Error?s(o.serror):i(o.svalue),hu=o=>({stype:Pa.Value,svalue:o}),Dm=o=>({stype:Pa.Error,serror:o}),tc=hu,cl=Dm,xd=Xu,Ju=(o,s,i,l)=>({tag:"field",key:o,newKey:s,presence:i,prop:l}),me=(o,s,i)=>{switch(o.tag){case"field":return s(o.key,o.newKey,o.presence,o.prop);case"custom":return i(o.newKey,o.instantiator)}},kd=o=>(...s)=>{if(s.length===0)throw new Error("Can't merge zero objects");const i={};for(let l=0;l<s.length;l++){const d=s[l];for(const f in d)io(d,f)&&(i[f]=o(i[f],d[f]))}return i},Hn=kd((o,s)=>jn(o)&&jn(s)?Hn(o,s):s),Pp=kd((o,s)=>s),Qu=o=>({tag:"defaultedThunk",process:o}),Rl=o=>Qu(le(o)),rn=o=>({tag:"mergeWithThunk",process:o}),Za=o=>{const s=(l=>{const d=[],f=[];return Ot(l,p=>{Xu(p,b=>f.push(b),b=>d.push(b))}),{values:d,errors:f}})(o);return s.errors.length>0?(i=s.errors,pt(cl,Nn)(i)):tc(s.values);var i},ol=o=>rr(o)&&Fo(o).length>100?" removed due to size":JSON.stringify(o,null,2),dl=(o,s)=>cl([{path:o,getErrorInfo:s}]),xc=o=>({extract:(s,i)=>((l,d)=>l.stype===Pa.Error?d(l.serror):l)(o(i),l=>((d,f)=>dl(d,le(f)))(s,l)),toString:le("val")}),bu=xc(tc),Wa=(o,s,i,l)=>l(mt(o,s).getOrThunk(()=>i(o))),yu=(o,s,i,l,d)=>{const f=b=>d.extract(s.concat([l]),b),p=b=>b.fold(()=>tc(T.none()),y=>((_,A)=>_.stype===Pa.Value?{stype:Pa.Value,svalue:A(_.svalue)}:_)(d.extract(s.concat([l]),y),T.some));switch(o.tag){case"required":return((b,y,_,A)=>mt(y,_).fold(()=>((w,O,I)=>dl(w,()=>'Could not find valid *required* value for "'+O+'" in '+ol(I)))(b,_,y),A))(s,i,l,f);case"defaultedThunk":return Wa(i,l,o.process,f);case"option":return((b,y,_)=>_(mt(b,y)))(i,l,p);case"defaultedOptionThunk":return((b,y,_,A)=>A(mt(b,y).map(w=>w===!0?_(b):w)))(i,l,o.process,p);case"mergeWithThunk":return Wa(i,l,le({}),b=>{const y=Hn(o.process(i),b);return f(y)})}},_d=o=>({extract:(s,i)=>o().extract(s,i),toString:()=>o().toString()}),vu=o=>Fo(Fn(o,Bt)),Is=o=>{const s=co(o),i=an(o,(l,d)=>me(d,f=>Hn(l,{[f]:!0}),le(l)),{});return{extract:(l,d)=>{const f=Un(d)?[]:vu(d),p=gn(f,b=>!Mo(i,b));return p.length===0?s.extract(l,d):((b,y)=>dl(b,()=>"There are unsupported fields: ["+y.join(", ")+"] specified"))(l,p)},toString:s.toString}},co=o=>({extract:(s,i)=>((l,d,f)=>{const p={},b=[];for(const y of f)me(y,(_,A,w,O)=>{const I=yu(w,l,d,_,O);xd(I,F=>{b.push(...F)},F=>{p[A]=F})},(_,A)=>{p[_]=A(d)});return b.length>0?cl(b):tc(p)})(s,i,o),toString:()=>`obj{
`+Qe(o,s=>me(s,(i,l,d,f)=>i+" -> "+f.toString(),(i,l)=>"state("+i+")")).join(`
`)+"}"}),Uc=o=>({extract:(s,i)=>{const l=Qe(i,(d,f)=>o.extract(s.concat(["["+f+"]"]),d));return Za(l)},toString:()=>"array("+o.toString()+")"}),wd=(o,s)=>{const i=s!==void 0?s:Tt;return{extract:(l,d)=>{const f=[];for(const p of o){const b=p.extract(l,d);if(b.stype===Pa.Value)return{stype:Pa.Value,svalue:i(b.svalue)};f.push(b)}return Za(f)},toString:()=>"oneOf("+Qe(o,l=>l.toString()).join(", ")+")"}},qa=(o,s)=>({extract:(i,l)=>{const d=Fo(l),f=((p,b)=>Uc(xc(o)).extract(p,b))(i,d);return((p,b)=>p.stype===Pa.Value?b(p.svalue):p)(f,p=>{const b=Qe(p,y=>Ju(y,y,{tag:"required",process:{}},s));return co(b).extract(i,l)})},toString:()=>"setOf("+s.toString()+")"}),Zc=pt(Uc,co),ul=le(bu),Cd=(o,s)=>xc(i=>{const l=typeof i;return o(i)?tc(i):cl(`Expected type: ${s} but got: ${l}`)}),Wc=Cd(Lo,"number"),Ps=Cd(xo,"string"),Sd=Cd(Un,"boolean"),kc=Cd(Ut,"function"),xu=o=>{if(Object(o)!==o)return!0;switch({}.toString.call(o).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(o).every(s=>xu(o[s]));default:return!1}},ku=xc(o=>xu(o)?tc(o):cl("Expected value to be acceptable for sending via postMessage")),Ed=(o,s)=>({extract:(i,l)=>mt(l,o).fold(()=>((d,f)=>dl(d,()=>'Choice schema did not contain choice key: "'+f+'"'))(i,o),d=>((f,p,b,y)=>mt(b,y).fold(()=>((_,A,w)=>dl(_,()=>'The chosen schema: "'+w+'" did not exist in branches: '+ol(A)))(f,b,y),_=>_.extract(f.concat(["branch: "+y]),p)))(i,l,s,d)),toString:()=>"chooseOn("+o+"). Possible values: "+Fo(s)}),Jd=o=>xc(s=>o(s).fold(cl,tc)),_u=(o,s)=>qa(i=>o(i).fold(Dm,hu),s),Jr=(o,s,i)=>{return l=((d,f,p)=>((b,y)=>b.stype===Pa.Error?{stype:Pa.Error,serror:y(b.serror)}:b)(f.extract([d],p),b=>({input:p,errors:b})))(o,s,i),Xu(l,Zo.error,Zo.value);var l},La=o=>o.fold(s=>{throw new Error(Pi(s))},Tt),Ga=(o,s,i)=>La(Jr(o,s,i)),Pi=o=>`Errors: 
`+(s=>{const i=s.length>10?s.slice(0,10).concat([{path:[],getErrorInfo:le("... (only showing first ten failures)")}]):s;return Qe(i,l=>"Failed path: ("+l.path.join(" > ")+`)
`+l.getErrorInfo())})(o.errors).join(`
`)+`

Input object: `+ol(o.input),ea=(o,s)=>Ed(o,Tn(s,co)),ef=(o,s)=>((i,l)=>{const d=Ve(l);return{extract:(f,p)=>d().extract(f,p),toString:()=>d().toString()}})(0,s),Ls=Ju,ta=(o,s)=>({tag:"custom",newKey:o,instantiator:s}),qc=o=>Jd(s=>Ce(o,s)?Zo.value(s):Zo.error(`Unsupported value: "${s}", choose one of "${o.join(", ")}".`)),Ke=o=>Ls(o,o,{tag:"required",process:{}},ul()),oa=(o,s)=>Ls(o,o,{tag:"required",process:{}},s),ws=o=>oa(o,Ps),ga=(o,s)=>Ls(o,o,{tag:"required",process:{}},qc(s)),fl=o=>oa(o,kc),Li=(o,s)=>Ls(o,o,{tag:"required",process:{}},co(s)),wu=(o,s)=>Ls(o,o,{tag:"required",process:{}},Zc(s)),Ka=(o,s)=>Ls(o,o,{tag:"required",process:{}},Uc(s)),bn=o=>Ls(o,o,{tag:"option",process:{}},ul()),ml=(o,s)=>Ls(o,o,{tag:"option",process:{}},s),Nl=o=>ml(o,Wc),er=o=>ml(o,Ps),tf=(o,s)=>ml(o,qc(s)),Ya=o=>ml(o,kc),of=(o,s)=>ml(o,Uc(s)),fi=(o,s)=>ml(o,co(s)),Te=(o,s)=>Ls(o,o,Rl(s),ul()),is=(o,s,i)=>Ls(o,o,Rl(s),i),oc=(o,s)=>is(o,s,Wc),Er=(o,s)=>is(o,s,Ps),lr=(o,s,i)=>is(o,s,qc(i)),Zs=(o,s)=>is(o,s,Sd),br=(o,s)=>is(o,s,kc),Ai=(o,s,i)=>is(o,s,Uc(i)),nc=(o,s,i)=>is(o,s,co(i)),_n=o=>{if(!Po(o))throw new Error("cases must be an array");if(o.length===0)throw new Error("there must be at least one case");const s=[],i={};return Ot(o,(l,d)=>{const f=Fo(l);if(f.length!==1)throw new Error("one and only one name per case");const p=f[0],b=l[p];if(i[p]!==void 0)throw new Error("duplicate key detected:"+p);if(p==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Po(b))throw new Error("case arguments must be an array");s.push(p),i[p]=(...y)=>{const _=y.length;if(_!==b.length)throw new Error("Wrong number of arguments to case "+p+". Expected "+b.length+" ("+b+"), got "+_);return{fold:(...A)=>{if(A.length!==o.length)throw new Error("Wrong number of arguments to fold. Expected "+o.length+", got "+A.length);return A[d].apply(null,y)},match:A=>{const w=Fo(A);if(s.length!==w.length)throw new Error("Wrong number of arguments to match. Expected: "+s.join(",")+`
Actual: `+w.join(","));if(!xi(s,O=>Ce(w,O)))throw new Error("Not all branches were specified when using match. Specified: "+w.join(", ")+`
Required: `+s.join(", "));return A[p].apply(null,y)},log:A=>{console.log(A,{constructors:s,constructor:p,params:y})}}}}),i};_n([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const na=(o,s)=>((i,l)=>({[i]:l}))(o,s),Ml=o=>(s=>{const i={};return Ot(s,l=>{i[l.key]=l.value}),i})(o),mi=o=>Ut(o)?o:Le,Ad=(o,s,i)=>{let l=o.dom;const d=mi(i);for(;l.parentNode;){l=l.parentNode;const f=St(l),p=s(f);if(p.isSome())return p;if(d(f))break}return T.none()},Bl=(o,s,i)=>{const l=s(o),d=mi(i);return l.orThunk(()=>d(o)?T.none():Ad(o,s,d))},Zf=(o,s)=>ln(o.element,s.event.target),Rm={can:It,abort:Le,run:rt},zd=o=>{if(!Mo(o,"can")&&!Mo(o,"abort")&&!Mo(o,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(o,null,2)+" does not have can, abort, or run!");return{...Rm,...o}},ha=le,C=ha("touchstart"),M=ha("touchmove"),j=ha("touchend"),ue=ha("touchcancel"),ge=ha("mousedown"),ot=ha("mousemove"),no=ha("mouseout"),Bo=ha("mouseup"),bo=ha("mouseover"),Kt=ha("focusin"),Nr=ha("focusout"),Zr=ha("keydown"),Il=ha("keyup"),pi=ha("input"),_c=ha("change"),Cu=ha("click"),Wf=ha("transitioncancel"),Cs=ha("transitionend"),Su=ha("transitionstart"),Ug=ha("selectstart"),Ss=o=>le("alloy."+o),Fa={tap:Ss("tap")},wc=Ss("focus"),Fs=Ss("blur.post"),Eu=Ss("paste.post"),Gc=Ss("receive"),pl=Ss("execute"),Kc=Ss("focus.item"),Au=Fa.tap,ib=Ss("longpress"),qf=Ss("sandbox.close"),Zg=Ss("typeahead.cancel"),nf=Ss("system.init"),Td=Ss("system.touchmove"),Lp=Ss("system.touchend"),qt=Ss("system.scroll"),Pl=Ss("system.resize"),Yc=Ss("system.attached"),gl=Ss("system.detached"),gi=Ss("system.dismissRequested"),rf=Ss("system.repositionRequested"),sf=Ss("focusmanager.shifted"),Xc=Ss("slotcontainer.visibility"),Wg=Ss("system.external.element.scroll"),Jc=Ss("change.tab"),Fp=Ss("dismiss.tab"),Gf=Ss("highlight"),bt=Ss("dehighlight"),Xo=(o,s)=>{af(o,o.element,s,{})},oo=(o,s,i)=>{af(o,o.element,s,i)},Fi=o=>{Xo(o,pl())},Qd=(o,s,i)=>{af(o,s,i,{})},af=(o,s,i,l)=>{const d={target:s,...l};o.getSystem().triggerEvent(i,s,d)},ls=(o,s,i,l)=>{o.getSystem().triggerEvent(i,s,l.event)},tr=o=>Ml(o),Hi=(o,s)=>({key:o,value:zd({abort:s})}),Wr=o=>({key:o,value:zd({run:(s,i)=>{i.event.prevent()}})}),je=(o,s)=>({key:o,value:zd({run:s})}),eu=(o,s,i)=>({key:o,value:zd({run:(l,d)=>{s.apply(void 0,[l,d].concat(i))}})}),rc=o=>s=>({key:o,value:zd({run:(i,l)=>{Zf(i,l)&&s(i,l)}})}),hl=(o,s,i)=>((l,d)=>je(l,(f,p)=>{f.getSystem().getByUid(d).each(b=>{ls(b,b.element,l,p)})}))(o,s.partUids[i]),lf=(o,s)=>je(o,(i,l)=>{const d=l.event,f=i.getSystem().getByDom(d.target).getOrThunk(()=>Bl(d.target,p=>i.getSystem().getByDom(p).toOptional(),Le).getOr(i));s(i,f,l)}),Od=o=>je(o,(s,i)=>{i.cut()}),lb=o=>je(o,(s,i)=>{i.stop()}),zu=(o,s)=>rc(o)(s),Mr=rc(Yc()),Dd=rc(gl()),cb=rc(nf()),sc=(w1=pl(),o=>je(w1,o)),Hp=o=>Qe(o,s=>Qi(s,"/*")?s.substring(0,s.length-2):s),Vp=(o,s)=>{const i=o.toString(),l=i.indexOf(")")+1,d=i.indexOf("("),f=i.substring(d+1,l-1).split(/,\s*/);return o.toFunctionAnnotation=()=>({name:s,parameters:Hp(f)}),o},bl=o=>({classes:ar(o.classes)?[]:o.classes,attributes:ar(o.attributes)?{}:o.attributes,styles:ar(o.styles)?{}:o.styles}),Tu=(o,s,i)=>cb((l,d)=>{i(l,o,s)}),ac=o=>({key:o,value:void 0}),Ca=(o,s,i,l,d,f,p)=>{const b=A=>Mo(A,i)?A[i]():T.none(),y=Tn(d,(A,w)=>((O,I,F)=>((K,Q,oe)=>{const W=oe.toString(),Z=W.indexOf(")")+1,ne=W.indexOf("("),se=W.substring(ne+1,Z-1).split(/,\s*/);return K.toFunctionAnnotation=()=>({name:Q,parameters:Hp(se.slice(0,1).concat(se.slice(3)))}),K})((K,...Q)=>{const oe=[K].concat(Q);return K.config({name:le(O)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+O+". Using API: "+F)},W=>{const Z=Array.prototype.slice.call(oe,1);return I.apply(void 0,[K,W.config,W.state].concat(Z))})},F,I))(i,A,w)),_={...Tn(f,(A,w)=>Vp(A,w)),...y,revoke:lt(ac,i),config:A=>{const w=Ga(i+"-config",o,A);return{key:i,value:{config:w,me:_,configAsRaw:Ve(()=>Ga(i+"-config",o,A)),initialConfig:A,state:p}}},schema:le(s),exhibit:(A,w)=>Je(b(A),mt(l,"exhibit"),(O,I)=>I(w,O.config,O.state)).getOrThunk(()=>bl({})),name:le(i),handlers:A=>b(A).map(w=>mt(l,"events").getOr(()=>({}))(w.config,w.state)).getOr({})};return _},yl={init:()=>yr({readState:le("No State required")})},yr=o=>o,it=o=>Ml(o),x1=Is([Ke("fields"),Ke("name"),Te("active",{}),Te("apis",{}),Te("state",yl),Te("extra",{})]),cs=o=>{const s=Ga("Creating behaviour: "+o.name,x1,o);return((i,l,d,f,p,b)=>{const y=Is(i),_=fi(l,[(A=i,ml("config",Is(A)))]);var A;return Ca(y,_,l,d,f,p,b)})(s.fields,s.name,s.active,s.apis,s.extra,s.state)},$p=Is([Ke("branchKey"),Ke("branches"),Ke("name"),Te("active",{}),Te("apis",{}),Te("state",yl),Te("extra",{})]),k=o=>{const s=Ga("Creating behaviour: "+o.name,$p,o);return((i,l,d,f,p,b)=>{const y=i,_=fi(l,[ml("config",i)]);return Ca(y,_,l,d,f,p,b)})(ea(s.branchKey,s.branches),s.name,s.active,s.apis,s.extra,s.state)},z=le(void 0),$=(o,s)=>{const i=as(o,s);return i===void 0||i===""?[]:i.split(" ")},te=o=>o.dom.classList!==void 0,xe=o=>$(o,"class"),Ze=(o,s)=>((i,l,d)=>{const f=$(i,l).concat([d]);return po(i,l,f.join(" ")),!0})(o,"class",s),yt=(o,s)=>((i,l,d)=>{const f=gn($(i,l),p=>p!==d);return f.length>0?po(i,l,f.join(" ")):Sr(i,l),!1})(o,"class",s),_t=(o,s)=>{te(o)?o.dom.classList.add(s):Ze(o,s)},Ao=o=>{(te(o)?o.dom.classList:xe(o)).length===0&&Sr(o,"class")},Yt=(o,s)=>{te(o)?o.dom.classList.remove(s):yt(o,s),Ao(o)},Qo=(o,s)=>te(o)&&o.dom.classList.contains(s),Pn=(o,s)=>{Ot(s,i=>{_t(o,i)})},Wn=(o,s)=>{Ot(s,i=>{Yt(o,i)})},vl=o=>te(o)?(s=>{const i=s.dom.classList,l=new Array(i.length);for(let d=0;d<i.length;d++){const f=i.item(d);f!==null&&(l[d]=f)}return l})(o):xe(o),Es=(o,s,i,l,d)=>{const f=p=>p+"px";return{position:o,left:s.map(f),top:i.map(f),right:l.map(f),bottom:d.map(f)}},Cc=(o,s)=>{ii(o,(i=>({...i,position:T.some(i.position)}))(s))},Qc=o=>(Rs(hr(o,"position"),"fixed")?T.none():ai(o)).orThunk(()=>{const s=vs("span");return es(o).bind(i=>{ui(i,s);const l=ai(s);return yc(s),l})}),Ou=o=>Qc(o).map(Ur).getOrThunk(()=>On(0,0)),Ws=(o,s)=>{const i=o.element;_t(i,s.transitionClass),Yt(i,s.fadeOutClass),_t(i,s.fadeInClass),s.onShow(o)},tu=(o,s)=>{const i=o.element;_t(i,s.transitionClass),Yt(i,s.fadeInClass),_t(i,s.fadeOutClass),s.onHide(o)},ba=(o,s)=>o.y>=s.y,ou=(o,s)=>o.bottom<=s.bottom,nu=(o,s,i)=>({location:"top",leftX:s,topY:i.bounds.y-o.y}),cf=(o,s,i)=>({location:"bottom",leftX:s,bottomY:o.bottom-i.bounds.bottom}),Nm=o=>o.box.x-o.win.x,jp=(o,s,i)=>i.getInitialPos().map(l=>{const d=((f,p)=>{const b=p.optScrollEnv.fold(le(f.bounds.y),y=>y.scrollElmTop+(f.bounds.y-y.currentScrollTop));return On(f.bounds.x,b)})(l,s);return{box:Dn(d.left,d.top,ce(o),xr(o)),location:l.location}}),yn=(o,s,i,l,d)=>{const f=((b,y)=>{const _=y.optScrollEnv.fold(le(b.y),A=>b.y+A.currentScrollTop-A.scrollElmTop);return On(b.x,_)})(s,i),p=Dn(f.left,f.top,s.width,s.height);l.setInitialPos({style:Si(o),position:Ns(o,"position")||"static",bounds:p,location:d.location})},ds=(o,s,i)=>i.getInitialPos().bind(l=>{var d;switch(i.clearInitialPos(),l.position){case"static":return T.some({morph:"static"});case"absolute":const f=Qc(o).getOr(fa()),p=js(f),b=(d=f.dom.scrollTop)!==null&&d!==void 0?d:0;return T.some({morph:"absolute",positionCss:Es("absolute",mt(l.style,"left").map(y=>s.x-p.x),mt(l.style,"top").map(y=>s.y-p.y+b),mt(l.style,"right").map(y=>p.right-s.right),mt(l.style,"bottom").map(y=>p.bottom-s.bottom))});default:return T.none()}}),Xa=o=>{switch(o.location){case"top":return T.some({morph:"fixed",positionCss:Es("fixed",T.some(o.leftX),T.some(o.topY),T.none(),T.none())});case"bottom":return T.some({morph:"fixed",positionCss:Es("fixed",T.some(o.leftX),T.none(),T.none(),T.some(o.bottomY))});default:return T.none()}},Ll=(o,s,i)=>{const l=o.element;return Rs(hr(l,"position"),"fixed")?((d,f,p)=>((b,y,_)=>jp(b,y,_).filter(({box:A})=>((w,O,I)=>xi(w,F=>{switch(F){case"bottom":return ou(O,I.bounds);case"top":return ba(O,I.bounds)}}))(_.getModes(),A,y)).bind(({box:A})=>ds(b,A,_)))(d,f,p).orThunk(()=>f.optScrollEnv.bind(b=>jp(d,f,p)).bind(({box:b,location:y})=>{const _=Bs(),A=Nm({win:_,box:b}),w=y==="top"?nu(_,A,f):cf(_,A,f);return Xa(w)})))(l,s,i):((d,f,p)=>{const b=js(d),y=Bs(),_=((A,w,O)=>{const I=w.win,F=w.box,K=Nm(w);return mo(A,Q=>{switch(Q){case"bottom":return ou(F,O.bounds)?T.none():T.some(cf(I,K,O));case"top":return ba(F,O.bounds)?T.none():T.some(nu(I,K,O));default:return T.none()}}).getOr({location:"no-dock"})})(p.getModes(),{win:y,box:b},f);return _.location==="top"||_.location==="bottom"?(yn(d,b,f,p,_),Xa(_)):T.none()})(l,s,i)},qg=(o,s,i)=>{i.setDocked(!1),Ot(["left","right","top","bottom","position"],l=>Yo(o.element,l)),s.onUndocked(o)},Gg=(o,s,i,l)=>{const d=l.position==="fixed";i.setDocked(d),Cc(o.element,l),(d?s.onDocked:s.onUndocked)(o)},Rd=(o,s,i,l,d=!1)=>{s.contextual.each(f=>{f.lazyContext(o).each(p=>{const b=((y,_)=>y.y<_.bottom&&y.bottom>_.y)(p,l.bounds);b!==i.isVisible()&&(i.setVisible(b),d&&!b?(Pn(o.element,[f.fadeOutClass]),f.onHide(o)):(b?Ws:tu)(o,f))})})},Mm=(o,s,i,l,d)=>{Rd(o,s,i,l,!0),Gg(o,s,i,d.positionCss)},Up=(o,s,i)=>{o.getSystem().isConnected()&&((l,d,f)=>{const p=d.lazyViewport(l);Rd(l,d,f,p),Ll(l,p,f).each(b=>{((y,_,A,w,O)=>{switch(O.morph){case"static":return qg(y,_,A);case"absolute":return Gg(y,_,A,O.positionCss);case"fixed":Mm(y,_,A,w,O)}})(l,d,f,p,b)})})(o,s,i)},k1=(o,s,i)=>{i.isDocked()&&((l,d,f)=>{const p=l.element;f.setDocked(!1);const b=d.lazyViewport(l);((y,_,A)=>{const w=y.element;return jp(w,_,A).bind(({box:O})=>ds(w,O,A))})(l,b,f).each(y=>{switch(y.morph){case"static":qg(l,d,f);break;case"absolute":Gg(l,d,f,y.positionCss)}}),f.setVisible(!0),d.contextual.each(y=>{Wn(p,[y.fadeInClass,y.fadeOutClass,y.transitionClass]),y.onShow(l)}),Up(l,d,f)})(o,s,i)},_1=o=>(s,i,l)=>{const d=i.lazyViewport(s);((f,p,b,y)=>{const _=js(f),A=Bs(),w=y(A,Nm({win:A,box:_}),p);return w.location==="bottom"||w.location==="top"?(((O,I,F,K,Q)=>{K.getInitialPos().fold(()=>yn(O,I,F,K,Q),()=>rt)})(f,_,p,b,w),Xa(w)):T.none()})(s.element,d,l,o).each(f=>{Mm(s,i,l,d,f)})},Yv=_1(nu),db=_1(cf);var w1,Kg=Object.freeze({__proto__:null,refresh:Up,reset:k1,isDocked:(o,s,i)=>i.isDocked(),getModes:(o,s,i)=>i.getModes(),setModes:(o,s,i,l)=>i.setModes(l),forceDockToTop:Yv,forceDockToBottom:db}),Yg=Object.freeze({__proto__:null,events:(o,s)=>tr([zu(Cs(),(i,l)=>{o.contextual.each(d=>{Qo(i.element,d.transitionClass)&&(Wn(i.element,[d.transitionClass,d.fadeInClass]),(s.isVisible()?d.onShown:d.onHidden)(i)),l.stop()})}),je(qt(),(i,l)=>{Up(i,o,s)}),je(Wg(),(i,l)=>{Up(i,o,s)}),je(Pl(),(i,l)=>{k1(i,o,s)})])});const Xg=o=>o.dom.innerHTML,Bm=(o,s)=>{const i=ua(o).dom,l=St(i.createDocumentFragment()),d=((f,p)=>{const b=(p||document).createElement("div");return b.innerHTML=f,pr(St(b))})(s,i);Ei(l,d),Qs(o),ui(o,l)},C1=(o,s)=>St(o.dom.cloneNode(s)),ic=o=>(s=>{if(Mi(s))return"#shadow-root";{const i=(l=>C1(l,!1))(s);return(l=>{const d=vs("div"),f=St(l.dom.cloneNode(!0));return ui(d,f),Xg(d)})(i)}})(o);var Nd;(function(o){o[o.STOP=0]="STOP",o[o.NORMAL=1]="NORMAL",o[o.LOGGING=2]="LOGGING"})(Nd||(Nd={}));const Kf=$t({}),ub=["alloy/data/Fields","alloy/debugging/Debugging"],Zp=(o,s,i)=>((l,d,f)=>{switch(mt(Kf.get(),l).orThunk(()=>{const p=Fo(Kf.get());return mo(p,b=>l.indexOf(b)>-1?T.some(Kf.get()[b]):T.none())}).getOr(Nd.NORMAL)){case Nd.NORMAL:return f(S1());case Nd.LOGGING:{const p=((y,_)=>{const A=[],w=new Date().getTime();return{logEventCut:(O,I,F)=>{A.push({outcome:"cut",target:I,purpose:F})},logEventStopped:(O,I,F)=>{A.push({outcome:"stopped",target:I,purpose:F})},logNoParent:(O,I,F)=>{A.push({outcome:"no-parent",target:I,purpose:F})},logEventNoHandlers:(O,I)=>{A.push({outcome:"no-handlers-left",target:I})},logEventResponse:(O,I,F)=>{A.push({outcome:"response",purpose:F,target:I})},write:()=>{const O=new Date().getTime();Ce(["mousemove","mouseover","mouseout",nf()],y)||console.log(y,{event:y,time:O-w,target:_.dom,sequence:Qe(A,I=>Ce(["cut","stopped","response"],I.outcome)?"{"+I.purpose+"} "+I.outcome+" at ("+ic(I.target)+")":I.outcome)})}}})(l,d),b=f(p);return p.write(),b}case Nd.STOP:return!0}})(o,s,i),S1=le({logEventCut:rt,logEventStopped:rt,logNoParent:rt,logEventNoHandlers:rt,logEventResponse:rt,write:rt}),Im=le([Ke("menu"),Ke("selectedMenu")]),Jg=le([Ke("item"),Ke("selectedItem")]);le(co(Jg().concat(Im())));const fb=le(co(Jg())),Ow=Li("initSize",[Ke("numColumns"),Ke("numRows")]),E1=()=>Li("markers",[Ke("backgroundMenu")].concat(Im()).concat(Jg())),Sc=o=>Li("markers",Qe(o,Ke)),us=(o,s,i)=>((()=>{const l=new Error;if(l.stack!==void 0){const d=l.stack.split(`
`);V(d,f=>f.indexOf("alloy")>0&&!zt(ub,p=>f.indexOf(p)>-1)).getOr("unknown")}})(),Ls(s,s,i,Jd(l=>Zo.value((...d)=>l.apply(void 0,d))))),dn=o=>us(0,o,Rl(rt)),Fl=o=>us(0,o,Rl(T.none)),Pm=o=>us(0,o,{tag:"required",process:{}}),Qg=o=>us(0,o,{tag:"required",process:{}}),Br=(o,s)=>ta(o,le(s)),A1=o=>ta(o,Tt),mb=le(Ow);var Xv=[fi("contextual",[ws("fadeInClass"),ws("fadeOutClass"),ws("transitionClass"),fl("lazyContext"),dn("onShow"),dn("onShown"),dn("onHide"),dn("onHidden")]),br("lazyViewport",()=>({bounds:Bs(),optScrollEnv:T.none()})),Ai("modes",["top","bottom"],Ps),dn("onDocked"),dn("onUndocked")];const qr=cs({fields:Xv,name:"docking",active:Yg,apis:Kg,state:Object.freeze({__proto__:null,init:o=>{const s=$t(!1),i=$t(!0),l=sn(),d=$t(o.modes);return yr({isDocked:s.get,setDocked:s.set,getInitialPos:l.get,setInitialPos:l.set,clearInitialPos:l.clear,isVisible:i.get,setVisible:i.set,getModes:d.get,setModes:d.set,readState:()=>`docked:  ${s.get()}, visible: ${i.get()}, modes: ${d.get().join(",")}`})}})}),pb=tr([(o=>({key:o,value:zd({can:(s,i)=>{const l=i.event,d=l.originator,f=l.target;return!((p,b,y)=>ln(b,p.element)&&!ln(b,y))(s,d,f)||(console.warn(wc()+` did not get interpreted by the desired target. 
Originator: `+ic(d)+`
Target: `+ic(f)+`
Check the `+wc()+" event handlers"),!1)}})}))(wc())]);var Hl=Object.freeze({__proto__:null,events:pb});const ru=(o,s,i,l)=>{const d=o+s;return d>l?i:d<i?l:d},Ec=(o,s,i)=>Math.min(Math.max(o,s),i);let Jv=0;const Ft=o=>{const s=new Date().getTime(),i=Math.floor(window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295*1e9);return Jv++,o+"_"+i+Jv+String(s)},Dw=le("alloy-id-"),Lm=le("data-alloy-id"),Fm=Dw(),Ac=Lm(),eh=(o,s)=>{Object.defineProperty(o.dom,Ac,{value:s,writable:!0})},Hm=o=>{const s=mr(o)?o.dom[Ac]:null;return T.from(s)},Yf=o=>Ft(o),z1=Tt,Vm=o=>{const s=d=>`The component must be in a context to execute: ${d}`+(o?`
`+ic(o().element)+" is not in context.":""),i=d=>()=>{throw new Error(s(d))},l=d=>()=>{console.warn(s(d))};return{debugInfo:le("fake"),triggerEvent:l("triggerEvent"),triggerFocus:l("triggerFocus"),triggerEscape:l("triggerEscape"),broadcast:l("broadcast"),broadcastOn:l("broadcastOn"),broadcastEvent:l("broadcastEvent"),build:i("build"),buildOrPatch:i("buildOrPatch"),addToWorld:i("addToWorld"),removeFromWorld:i("removeFromWorld"),addToGui:i("addToGui"),removeFromGui:i("removeFromGui"),getByUid:i("getByUid"),getByDom:i("getByDom"),isConnected:Le}},Du=Vm(),$m=Ft("alloy-premade"),Qv=o=>(Object.defineProperty(o.element.dom,$m,{value:o.uid,writable:!0}),na($m,o)),gb=o=>mt(o,$m),hb=o=>((s,i)=>{const l=i.toString(),d=l.indexOf(")")+1,f=l.indexOf("("),p=l.substring(f+1,d-1).split(/,\s*/);return s.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:Hp(p.slice(1))}),s})((s,...i)=>o(s.getApis(),s,...i),o),T1=(o,s)=>{const i={};return Jn(o,(l,d)=>{Jn(l,(f,p)=>{const b=mt(i,p).getOr([]);i[p]=b.concat([s(d,f)])})}),i},bb=o=>o.cHandler,Rw=(o,s)=>({name:o,handler:s}),ex=(o,s)=>{const i={};return Ot(o,l=>{i[l.name()]=l.handlers(s)}),i},Nw=(o,s,i)=>{const l=s[i];return l?((d,f,p,b)=>{try{const y=Ne(p,(_,A)=>{const w=_[f],O=A[f],I=b.indexOf(w),F=b.indexOf(O);if(I===-1)throw new Error("The ordering for "+d+" does not have an entry for "+w+`.
Order specified: `+JSON.stringify(b,null,2));if(F===-1)throw new Error("The ordering for "+d+" does not have an entry for "+O+`.
Order specified: `+JSON.stringify(b,null,2));return I<F?-1:F<I?1:0});return Zo.value(y)}catch(y){return Zo.error([y])}})("Event: "+i,"name",o,l).map(d=>(f=>({can:(y=>(..._)=>Co(y,(A,w)=>A&&(O=>O.can)(w).apply(void 0,_),!0))(f),abort:(y=>(..._)=>Co(y,(A,w)=>A||(O=>O.abort)(w).apply(void 0,_),!1))(f),run:(...y)=>{Ot(f,_=>{_.run.apply(void 0,y)})}}))(Qe(d,f=>f.handler))):((d,f)=>Zo.error(["The event ("+d+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(Qe(f,p=>p.name),null,2)]))(i,o)},tx=(o,s)=>((i,l)=>{const d=(p=>{const b=[],y=[];return Ot(p,_=>{_.fold(A=>{b.push(A)},A=>{y.push(A)})}),{errors:b,values:y}})(i);return d.errors.length>0?(f=d.errors,Zo.error(Nn(f))):((p,b)=>p.length===0?Zo.value(b):Zo.value(Hn(b,Pp.apply(void 0,p))))(d.values,l);var f})(Rr(o,(i,l)=>(i.length===1?Zo.value(i[0].handler):Nw(i,s,l)).map(d=>{const f=(b=>{const y=(_=>Ut(_)?{can:It,abort:Le,run:_}:_)(b);return(_,A,...w)=>{const O=[_,A].concat(w);y.abort.apply(void 0,O)?A.stop():y.can.apply(void 0,O)&&y.run.apply(void 0,O)}})(d),p=i.length>1?gn(s[l],b=>zt(i,y=>y.name===b)).join(" > "):i[0].name;return na(l,((b,y)=>({handler:b,purpose:y}))(f,p))})),{}),jm="alloy.base.behaviour",th=co([Ls("dom","dom",{tag:"required",process:{}},co([Ke("tag"),Te("styles",{}),Te("classes",[]),Te("attributes",{}),bn("value"),bn("innerHtml")])),Ke("components"),Ke("uid"),Te("events",{}),Te("apis",{}),Ls("eventOrder","eventOrder",(Ja={[pl()]:["disabling",jm,"toggling","typeaheadevents"],[wc()]:[jm,"focusing","keying"],[nf()]:[jm,"disabling","toggling","representing","tooltipping"],[pi()]:[jm,"representing","streaming","invalidating"],[gl()]:[jm,"representing","item-events","toolbar-button-events","tooltipping"],[ge()]:["focusing",jm,"item-type-events"],[C()]:["focusing",jm,"item-type-events"],[bo()]:["item-type-events","tooltipping"],[Gc()]:["receiving","reflecting","tooltipping"]},rn(le(Ja))),ul()),bn("domModification")]),O1=o=>o.events,df=o=>o.dom.value,Um=(o,s)=>{if(s===void 0)throw new Error("Value.set was undefined");o.dom.value=s},ox=(o,s,i)=>{i.fold(()=>ui(o,s),l=>{ln(l,s)||(di(l,s),yc(l))})},nx=(o,s,i)=>{const l=Qe(s,i),d=pr(o);return Ot(d.slice(l.length),yc),l},D1=(o,s,i,l)=>{const d=ir(o,s),f=l(i,d),p=((b,y,_)=>ir(b,y).map(A=>{if(_.exists(w=>!ln(w,A))){const w=_.map(da).getOr("span"),O=vs(w);return di(A,O),O}return A}))(o,s,d);return ox(o,f.element,p),f},yb=(o,s)=>{const i=Fo(o),l=Fo(s),d=Wo(l,i),f=(p=>{const b={},y={};return Os(p,(_,A)=>!io(s,A)||_!==s[A],wr(b),wr(y)),{t:b,f:y}})(o).t;return{toRemove:d,toSet:f}},Mw=(o,s)=>{const i=s.filter(l=>da(l)===o.tag&&!(d=>d.innerHtml.isSome()&&d.domChildren.length>0)(o)&&!(d=>io(d.dom,$m))(l)).bind(l=>((d,f)=>{try{const p=((b,y)=>{const{class:_,style:A,...w}=(ne=>Co(ne.dom.attributes,(se,re)=>(se[re.name]=re.value,se),{}))(y),{toSet:O,toRemove:I}=yb(b.attributes,w),F=Si(y),{toSet:K,toRemove:Q}=yb(b.styles,F),oe=vl(y),W=Wo(oe,b.classes),Z=Wo(b.classes,oe);return Ot(I,ne=>Sr(y,ne)),hs(y,O),Pn(y,Z),Wn(y,W),Ot(Q,ne=>Yo(y,ne)),Ua(y,K),b.innerHtml.fold(()=>{const ne=b.domChildren;((se,re)=>{nx(se,re,(ye,Ae)=>{const Ue=ir(se,Ae);return ox(se,ye,Ue),ye})})(y,ne)},ne=>{Bm(y,ne)}),(()=>{const ne=y,se=b.value.getOrUndefined();se!==df(ne)&&Um(ne,se??"")})(),y})(d,f);return T.some(p)}catch{return T.none()}})(o,l)).getOrThunk(()=>(l=>{const d=vs(l.tag);hs(d,l.attributes),Pn(d,l.classes),Ua(d,l.styles),l.innerHtml.each(p=>Bm(d,p));const f=l.domChildren;return Ei(d,f),l.value.each(p=>{Um(d,p)}),d})(o));return eh(i,o.uid),i},Bw=o=>{const s=(i=>{const l=mt(i,"behaviours").getOr({});return hn(Fo(l),d=>{const f=l[d];return Bt(f)?[f.me]:[]})})(o);return((i,l)=>((d,f)=>{const p=Qe(f,y=>fi(y.name(),[Ke("config"),Te("state",yl)])),b=Jr("component.behaviours",co(p),d.behaviours).fold(y=>{throw new Error(Pi(y)+`
Complete spec:
`+JSON.stringify(d,null,2))},Tt);return{list:f,data:Tn(b,y=>{const _=y.map(A=>({config:A.config,state:A.state.init(A.config)}));return le(_)})}})(i,l))(o,s)},R1=(o,s)=>{const i=()=>O,l=$t(Du),d=La((I=>Jr("custom.definition",th,I))(o)),f=Bw(o),p=(I=>I.list)(f),b=(I=>I.data)(f),y=((I,F,K)=>{const Q={...(oe=I).dom,uid:oe.uid,domChildren:Qe(oe.components,ye=>ye.element)};var oe;const W=(ye=>ye.domModification.fold(()=>bl({}),bl))(I),Z={"alloy.base.modification":W},ne=F.length>0?((ye,Ae,Ue,Fe)=>{const qe={...Ae};Ot(Ue,en=>{qe[en.name()]=en.exhibit(ye,Fe)});const nt=T1(qe,(en,ns)=>({name:en,modification:ns})),Mt=en=>an(en,(ns,Qr)=>({...Qr.modification,...ns}),{}),Xt=an(nt.classes,(en,ns)=>ns.modification.concat(en),[]),uo=Mt(nt.attributes),No=Mt(nt.styles);return bl({classes:Xt,attributes:uo,styles:No})})(K,Z,F,Q):W;return se=Q,re=ne,{...se,attributes:{...se.attributes,...re.attributes},styles:{...se.styles,...re.styles},classes:se.classes.concat(re.classes)};var se,re})(d,p,b),_=Mw(y,s),A=((I,F,K)=>{const Q={"alloy.base.behaviour":O1(I)};return((oe,W,Z,ne)=>{const se=((re,ye,Ae)=>{const Ue={...Ae,...ex(ye,re)};return T1(Ue,Rw)})(oe,Z,ne);return tx(se,W)})(K,I.eventOrder,F,Q).getOrDie()})(d,p,b),w=$t(d.components),O={uid:o.uid,getSystem:l.get,config:I=>{const F=b;return(Ut(F[I.name()])?F[I.name()]:()=>{throw new Error("Could not find "+I.name()+" in "+JSON.stringify(o,null,2))})()},hasConfigured:I=>Ut(b[I.name()]),spec:o,readState:I=>b[I]().map(F=>F.state.readState()).getOr("not enabled"),getApis:()=>d.apis,connect:I=>{l.set(I)},disconnect:()=>{l.set(Vm(i))},element:_,syncComponents:()=>{const I=pr(_),F=hn(I,K=>l.get().getByDom(K).fold(()=>[],$o));w.set(F)},components:w.get,events:A};return O},Ir=o=>{const s=Xl(o);return rx({element:s})},rx=o=>{const s=Ga("external.component",Is([Ke("element"),bn("uid")]),o),i=$t(Vm()),l=s.uid.getOrThunk(()=>Yf("external"));eh(s.element,l);const d={uid:l,getSystem:i.get,config:T.none,hasConfigured:Le,connect:f=>{i.set(f)},disconnect:()=>{i.set(Vm(()=>d))},getApis:()=>({}),element:s.element,spec:o,readState:le("No state"),syncComponents:rt,components:le([]),events:{}};return Qv(d)},Wp=Yf,vb=(o,s)=>gb(o).getOrThunk(()=>((i,l)=>{const{events:d,...f}=z1(i),p=((y,_)=>{const A=mt(y,"components").getOr([]);return _.fold(()=>Qe(A,bs),w=>Qe(A,(O,I)=>vb(O,ir(w,I))))})(f,l),b={...f,events:{...Hl,...d},components:p};return Zo.value(R1(b,l))})((i=>io(i,"uid"))(o)?o:{uid:Wp(""),...o},s).getOrDie()),bs=o=>vb(o,T.none()),Vi=Qv;var Ja,xb=(o,s,i,l,d)=>o(i,l)?T.some(i):Ut(d)&&d(i)?T.none():s(i,l,d);const N1=(o,s,i)=>{let l=o.dom;const d=Ut(i)?i:Le;for(;l.parentNode;){l=l.parentNode;const f=St(l);if(s(f))return T.some(f);if(d(f))break}return T.none()},qp=(o,s,i)=>xb((l,d)=>d(l),N1,o,s,i),kb=(o,s)=>V(o.dom.childNodes,i=>s(St(i))).map(St),Xf=(o,s,i)=>qp(o,s,i).isSome(),Vl=(o,s,i)=>N1(o,l=>si(l,s),i),sx=(o,s)=>(i=>{const l=i.dom;return l.parentNode?kb(St(l.parentNode),d=>!ln(i,d)&&si(d,s)):T.none()})(o),Ru=(o,s)=>kb(o,i=>si(i,s)),Pr=(o,s)=>Lc(s,o),qn=(o,s,i)=>xb((l,d)=>si(l,d),Vl,o,s,i),oh="aria-controls",ax=()=>{const o=Ft(oh);return{id:o,link:s=>{po(s,oh,o)},unlink:s=>{Sr(s,oh)}}},Zm=(o,s)=>Xf(s,i=>ln(i,o.element),Le)||((i,l)=>(d=>qp(d,f=>{if(!mr(f))return!1;const p=as(f,"id");return p!==void 0&&p.indexOf(oh)>-1}).bind(f=>{const p=as(f,"id"),b=ss(f);return Pr(b,`[${oh}="${p}"]`)}))(l).exists(d=>Zm(i,d)))(o,s),ya=(o,s,i,l,d,f,p,b=!1)=>({x:o,y:s,bubble:i,direction:l,placement:d,restriction:f,label:`${p}-${d}`,alwaysFit:b}),Nu=_n([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),ed=Nu.southeast,_b=Nu.southwest,Wm=Nu.northeast,qm=Nu.northwest,Jf=Nu.south,nh=Nu.north,M1=Nu.east,ix=Nu.west,$i=(o,s)=>zn(["left","right","top","bottom"],i=>mt(s,i).map(l=>((d,f)=>{switch(f){case 1:return d.x;case 0:return d.x+d.width;case 2:return d.y;case 3:return d.y+d.height}})(o,l))),Gm="layout",wb=o=>o.x,lx=(o,s)=>o.x+o.width/2-s.width/2,B1=(o,s)=>o.x+o.width-s.width,Cb=(o,s)=>o.y-s.height,zc=o=>o.y+o.height,zi=(o,s)=>o.y+o.height/2-s.height/2,Hs=(o,s,i)=>ya(wb(o),zc(o),i.southeast(),ed(),"southeast",$i(o,{left:1,top:3}),Gm),qs=(o,s,i)=>ya(B1(o,s),zc(o),i.southwest(),_b(),"southwest",$i(o,{right:0,top:3}),Gm),hi=(o,s,i)=>ya(wb(o),Cb(o,s),i.northeast(),Wm(),"northeast",$i(o,{left:1,bottom:2}),Gm),Sa=(o,s,i)=>ya(B1(o,s),Cb(o,s),i.northwest(),qm(),"northwest",$i(o,{right:0,bottom:2}),Gm),As=(o,s,i)=>ya(lx(o,s),Cb(o,s),i.north(),nh(),"north",$i(o,{bottom:2}),Gm),xs=(o,s,i)=>ya(lx(o,s),zc(o),i.south(),Jf(),"south",$i(o,{top:3}),Gm),Km=(o,s,i)=>ya((l=>l.x+l.width)(o),zi(o,s),i.east(),M1(),"east",$i(o,{left:0}),Gm),uf=(o,s,i)=>ya(((l,d)=>l.x-d.width)(o,s),zi(o,s),i.west(),ix(),"west",$i(o,{right:1}),Gm),Gp=()=>[Hs,qs,hi,Sa,xs,As,Km,uf],rh=()=>[qs,Hs,Sa,hi,xs,As,Km,uf],ji=()=>[hi,Sa,Hs,qs,As,xs],Ym=()=>[Sa,hi,qs,Hs,As,xs],Sb=()=>[Hs,qs,hi,Sa,xs,As],Eb=()=>[qs,Hs,Sa,hi,xs,As];var cx=Object.freeze({__proto__:null,events:o=>tr([je(Gc(),(s,i)=>{const l=o.channels,d=Fo(l),f=i,p=((b,y)=>y.universal?b:gn(b,_=>Ce(y.channels,_)))(d,f);Ot(p,b=>{const y=l[b],_=y.schema,A=Ga("channel["+b+`] data
Receiver: `+ic(s.element),_,f.data);y.onReceive(s,A)})})])}),dx=[oa("channels",_u(Zo.value,Is([Pm("onReceive"),Te("schema",ul())])))];const xl=cs({fields:dx,name:"receiving",active:cx});var Iw=Object.freeze({__proto__:null,exhibit:(o,s)=>bl({classes:[],styles:s.useFixed()?{}:{position:"relative"}})});const Qa=(o,s=!1)=>o.dom.focus({preventScroll:s}),Kp=o=>o.dom.blur(),Qf=o=>{const s=ss(o).dom;return o.dom===s.activeElement},lc=(o=Dl())=>T.from(o.dom.activeElement).map(St),ei=o=>lc(ss(o)).filter(s=>o.dom.contains(s.dom)),Ab=(o,s)=>{const i=ss(s),l=lc(i).bind(f=>{const p=b=>ln(f,b);return p(s)?T.some(s):((b,y)=>{const _=A=>{for(let w=0;w<A.childNodes.length;w++){const O=St(A.childNodes[w]);if(y(O))return T.some(O);const I=_(A.childNodes[w]);if(I.isSome())return I}return T.none()};return _(b.dom)})(s,p)}),d=o(s);return l.each(f=>{lc(i).filter(p=>ln(p,f)).fold(()=>{Qa(f)},rt)}),d},sh=_n([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),su=(o,s,i,l,d,f)=>{const p=s.rect,b=p.x-i,y=p.y-l,_=d-(b+p.width),A=f-(y+p.height),w=T.some(b),O=T.some(y),I=T.some(_),F=T.some(A),K=T.none();return s.direction.fold(()=>Es(o,w,O,K,K),()=>Es(o,K,O,I,K),()=>Es(o,w,K,K,F),()=>Es(o,K,K,I,F),()=>Es(o,w,O,K,K),()=>Es(o,w,K,K,F),()=>Es(o,w,O,K,K),()=>Es(o,K,O,I,K))},zb=(o,s)=>o.fold(()=>{const i=s.rect;return Es("absolute",T.some(i.x),T.some(i.y),T.none(),T.none())},(i,l,d,f)=>su("absolute",s,i,l,d,f),(i,l,d,f)=>su("fixed",s,i,l,d,f)),ah=(o,s)=>{const i=lt(ll,s),l=o.fold(i,i,()=>{const p=_s();return ll(s).translate(-p.left,-p.top)}),d=_e(s),f=_a(s);return Dn(l.left,l.top,d,f)},ux=(o,s)=>s.fold(()=>o.fold(Bs,Bs,Dn),i=>o.fold(le(i),le(i),()=>{const l=em(o,i.x,i.y);return Dn(l.left,l.top,i.width,i.height)})),em=(o,s,i)=>{const l=On(s,i);return o.fold(le(l),le(l),()=>{const d=_s();return l.translate(-d.left,-d.top)})};sh.none;const au=sh.relative,L4=sh.fixed,Yp="data-alloy-placement",tm=o=>os(o,Yp),ih=_n([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),I1=(o,s,i,l)=>{const d=o.bubble,f=d.offset,p=((ne,se,re)=>{const ye=(nt,Mt)=>se[nt].map(Xt=>{const uo=nt==="top"||nt==="bottom",No=uo?re.top:re.left,en=(nt==="left"||nt==="top"?Math.max:Math.min)(Xt,Mt)+No;return uo?Ec(en,ne.y,ne.bottom):Ec(en,ne.x,ne.right)}).getOr(Mt),Ae=ye("left",ne.x),Ue=ye("top",ne.y),Fe=ye("right",ne.right),qe=ye("bottom",ne.bottom);return Dn(Ae,Ue,Fe-Ae,qe-Ue)})(l,o.restriction,f),b=o.x+f.left,y=o.y+f.top,_=Dn(b,y,s,i),{originInBounds:A,sizeInBounds:w,visibleW:O,visibleH:I}=((ne,se)=>{const{x:re,y:ye,right:Ae,bottom:Ue}=se,{x:Fe,y:qe,right:nt,bottom:Mt,width:Xt,height:uo}=ne;return{originInBounds:Fe>=re&&Fe<=Ae&&qe>=ye&&qe<=Ue,sizeInBounds:nt<=Ae&&nt>=re&&Mt<=Ue&&Mt>=ye,visibleW:Math.min(Xt,Fe>=re?Ae-Fe:nt-re),visibleH:Math.min(uo,qe>=ye?Ue-qe:Mt-ye)}})(_,p),F=A&&w,K=F?_:((ne,se)=>{const{x:re,y:ye,right:Ae,bottom:Ue}=se,{x:Fe,y:qe,width:nt,height:Mt}=ne,Xt=Math.max(re,Ae-nt),uo=Math.max(ye,Ue-Mt),No=Ec(Fe,re,Xt),en=Ec(qe,ye,uo),ns=Math.min(No+nt,Ae)-No,Qr=Math.min(en+Mt,Ue)-en;return Dn(No,en,ns,Qr)})(_,p),Q=K.width>0&&K.height>0,{maxWidth:oe,maxHeight:W}=((ne,se,re)=>{const ye=le(se.bottom-re.y),Ae=le(re.bottom-se.y),Ue=((Mt,Xt,uo,No)=>Mt.fold(Xt,Xt,No,No,Xt,No,uo,uo))(ne,Ae,Ae,ye),Fe=le(se.right-re.x),qe=le(re.right-se.x);return{maxWidth:((Mt,Xt,uo,No)=>Mt.fold(Xt,No,Xt,No,uo,uo,Xt,No))(ne,qe,qe,Fe),maxHeight:Ue}})(o.direction,K,l),Z={rect:K,maxHeight:W,maxWidth:oe,direction:o.direction,placement:o.placement,classes:{on:d.classesOn,off:d.classesOff},layout:o.label,testY:y};return F||o.alwaysFit?ih.fit(Z):ih.nofit(Z,O,I,Q)},P1=It,Ti=(o,s,i)=>((l,d,f,p)=>bc(l,d,f,p,!1))(o,s,P1,i),Tb=(o,s,i)=>((l,d,f,p)=>bc(l,d,f,p,!0))(o,s,P1,i),L1=yd,lh=["top","bottom","right","left"],Ob="data-alloy-transition-timer",iu=(o,s,i,l,d,f)=>{const p=((b,y,_)=>_.exists(A=>{const w=b.mode;return w==="all"||A[w]!==y[w]}))(l,d,f);if(p||((b,y)=>((_,A)=>xi(A,w=>Qo(_,w)))(b,y.classes))(o,l)){Gt(o,"position",i.position);const b=ah(s,o),y=zb(s,{...d,rect:b}),_=zn(lh,A=>y[A]);((A,w)=>{const O=I=>parseFloat(I).toFixed(3);return jo(w,(I,F)=>!((K,Q,oe=ve)=>Je(K,Q,oe).getOr(K.isNone()&&Q.isNone()))(A[F].map(O),I.map(O))).isSome()})(i,_)&&(ii(o,_),p&&((A,w)=>{Pn(A,w.classes),os(A,Ob).each(O=>{clearTimeout(parseInt(O,10)),Sr(A,Ob)}),((O,I)=>{const F=vd(),K=vd();let Q;const oe=se=>{var re;const ye=(re=se.raw.pseudoElement)!==null&&re!==void 0?re:"";return ln(se.target,O)&&el(ye)&&Ce(lh,se.raw.propertyName)},W=se=>{if(An(se)||oe(se)){F.clear(),K.clear();const re=se==null?void 0:se.raw.type;(An(re)||re===Cs())&&(clearTimeout(Q),Sr(O,Ob),Wn(O,I.classes))}},Z=Ti(O,Su(),se=>{oe(se)&&(Z.unbind(),F.set(Ti(O,Cs(),W)),K.set(Ti(O,Wf(),W)))}),ne=(se=>{const re=Fe=>{const qe=Ns(se,Fe).split(/\s*,\s*/);return gn(qe,ca)},ye=Fe=>{if(xo(Fe)&&/^[\d.]+/.test(Fe)){const qe=parseFloat(Fe);return Qi(Fe,"ms")?qe:1e3*qe}return 0},Ae=re("transition-delay"),Ue=re("transition-duration");return Co(Ue,(Fe,qe,nt)=>{const Mt=ye(Ae[nt])+ye(qe);return Math.max(Fe,Mt)},0)})(O);requestAnimationFrame(()=>{Q=setTimeout(W,ne+17),po(O,Ob,Q)})})(A,w)})(o,l),tl(o))}else Wn(o,l.classes)},Db=(o,s)=>{((i,l)=>{const d=Vc.max(i,l,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);Gt(i,"max-height",d+"px")})(o,Math.floor(s))},Mu=le((o,s)=>{Db(o,s),Ua(o,{"overflow-x":"hidden","overflow-y":"auto"})}),Xm=le((o,s)=>{Db(o,s)}),Jm=(o,s,i)=>o[s]===void 0?i:o[s],ff=(o,s,i,l)=>{const d=((f,p,b,y)=>{Yo(p,"max-height"),Yo(p,"max-width");const _={width:_e(A=p),height:_a(A)};var A;return((w,O,I,F,K,Q)=>{const oe=F.width,W=F.height,Z=(ne,se,re,ye,Ae)=>{const Ue=ne(I,F,K,w,Q),Fe=I1(Ue,oe,W,Q);return Fe.fold(le(Fe),(qe,nt,Mt,Xt)=>(Ae===Xt?Mt>ye||nt>re:!Ae&&Xt)?Fe:ih.nofit(se,re,ye,Ae))};return Co(O,(ne,se)=>{const re=lt(Z,se);return ne.fold(le(ne),re)},ih.nofit({rect:I,maxHeight:F.height,maxWidth:F.width,direction:ed(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:I.y},-1,-1,!1)).fold(Tt,Tt)})(p,y.preference,f,_,b,y.bounds)})(o,s,i,l);return((f,p,b)=>{const y=zb(b.origin,p);b.transition.each(_=>{iu(f,b.origin,y,_,p,b.lastPlacement)}),Cc(f,y)})(s,d,l),((f,p)=>{((b,y)=>{po(b,Yp,y)})(f,p.placement)})(s,d),((f,p)=>{const b=p.classes;Wn(f,b.off),Pn(f,b.on)})(s,d),((f,p,b)=>{(0,b.maxHeightFunction)(f,p.maxHeight)})(s,d,l),((f,p,b)=>{(0,b.maxWidthFunction)(f,p.maxWidth)})(s,d,l),{layout:d.layout,placement:d.placement}},fx=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],Ui=(o,s,i,l=1)=>{const d=o*l,f=s*l,p=y=>mt(i,y).getOr([]),b=(y,_,A)=>{const w=Wo(fx,A);return{offset:On(y,_),classesOn:hn(A,p),classesOff:hn(w,p)}};return{southeast:()=>b(-o,s,["top","alignLeft"]),southwest:()=>b(o,s,["top","alignRight"]),south:()=>b(-o/2,s,["top","alignCentre"]),northeast:()=>b(-o,-s,["bottom","alignLeft"]),northwest:()=>b(o,-s,["bottom","alignRight"]),north:()=>b(-o/2,-s,["bottom","alignCentre"]),east:()=>b(o,-s/2,["valignCentre","left"]),west:()=>b(-o,-s/2,["valignCentre","right"]),insetNortheast:()=>b(d,f,["top","alignLeft","inset"]),insetNorthwest:()=>b(-d,f,["top","alignRight","inset"]),insetNorth:()=>b(-d/2,f,["top","alignCentre","inset"]),insetSoutheast:()=>b(d,-f,["bottom","alignLeft","inset"]),insetSouthwest:()=>b(-d,-f,["bottom","alignRight","inset"]),insetSouth:()=>b(-d/2,-f,["bottom","alignCentre","inset"]),insetEast:()=>b(-d,-f/2,["valignCentre","right","inset"]),insetWest:()=>b(d,-f/2,["valignCentre","left","inset"])}},om=()=>Ui(0,0,{}),ch=Tt,Rb=(o,s)=>i=>td(i)==="rtl"?s:o,td=o=>Ns(o,"direction")==="rtl"?"rtl":"ltr";var kl;(function(o){o.TopToBottom="toptobottom",o.BottomToTop="bottomtotop"})(kl||(kl={}));const F1="data-alloy-vertical-dir",Ea=o=>Xf(o,s=>mr(s)&&as(s,"data-alloy-vertical-dir")===kl.BottomToTop),Md=()=>fi("layouts",[Ke("onLtr"),Ke("onRtl"),bn("onBottomLtr"),bn("onBottomRtl")]),Zi=(o,s,i,l,d,f,p)=>{const b=p.map(Ea).getOr(!1),y=s.layouts.map(O=>O.onLtr(o)),_=s.layouts.map(O=>O.onRtl(o)),A=b?s.layouts.bind(O=>O.onBottomLtr.map(I=>I(o))).or(y).getOr(d):y.getOr(i),w=b?s.layouts.bind(O=>O.onBottomRtl.map(I=>I(o))).or(_).getOr(f):_.getOr(l);return Rb(A,w)(o)};var Pw=[Ke("hotspot"),bn("bubble"),Te("overrides",{}),Md(),Br("placement",(o,s,i)=>{const l=s.hotspot,d=ah(i,l.element),f=Zi(o.element,s,Sb(),Eb(),ji(),Ym(),T.some(s.hotspot.element));return T.some(ch({anchorBox:d,bubble:s.bubble.getOr(om()),overrides:s.overrides,layouts:f}))})],H1=[Ke("x"),Ke("y"),Te("height",0),Te("width",0),Te("bubble",om()),Te("overrides",{}),Md(),Br("placement",(o,s,i)=>{const l=em(i,s.x,s.y),d=Dn(l.left,l.top,s.width,s.height),f=Zi(o.element,s,Gp(),rh(),Gp(),rh(),T.none());return T.some(ch({anchorBox:d,bubble:s.bubble,overrides:s.overrides,layouts:f}))})];const nm=_n([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),Qm=o=>o.fold(Tt,(s,i,l)=>s.translate(-i,-l)),rm=o=>o.fold(Tt,Tt),cc=o=>Co(o,(s,i)=>s.translate(i.left,i.top),On(0,0)),Nb=o=>{const s=Qe(o,rm);return cc(s)},Lw=nm.screen,V1=nm.absolute,dh=(o,s,i)=>{const l=ua(o.element),d=_s(l),f=((p,b,y)=>{const _=gd(y.root).dom;return T.from(_.frameElement).map(St).filter(A=>{const w=ua(A),O=ua(p.element);return ln(w,O)}).map(Ur)})(o,0,i).getOr(d);return V1(f,d.left,d.top)},uh=(o,s,i,l)=>{const d=Lw(On(o,s));return T.some(((f,p,b)=>({point:f,width:p,height:b}))(d,i,l))},sm=(o,s,i,l,d)=>o.map(f=>{const p=[s,f.point],b=(y=()=>Nb(p),_=()=>Nb(p),A=()=>(Z=>{const ne=Qe(Z,Qm);return cc(ne)})(p),l.fold(y,_,A));var y,_,A;const w=(K=b.left,Q=b.top,oe=f.width,W=f.height,{x:K,y:Q,width:oe,height:W}),O=i.showAbove?ji():Sb(),I=i.showAbove?Ym():Eb(),F=Zi(d,i,O,I,O,I,T.none());var K,Q,oe,W;return ch({anchorBox:w,bubble:i.bubble.getOr(om()),overrides:i.overrides,layouts:F})});var fh=[Ke("node"),Ke("root"),bn("bubble"),Md(),Te("overrides",{}),Te("showAbove",!1),Br("placement",(o,s,i)=>{const l=dh(o,0,s);return s.node.filter(Qn).bind(d=>{const f=d.dom.getBoundingClientRect(),p=uh(f.left,f.top,f.width,f.height),b=s.node.getOr(o.element);return sm(p,l,s,i,b)})})];const Mb=(o,s,i,l)=>({start:o,soffset:s,finish:i,foffset:l}),Xp=_n([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),$1=(Xp.before,Xp.on,Xp.after,o=>o.fold(Tt,Tt,Tt)),Tc=_n([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),od={domRange:Tc.domRange,relative:Tc.relative,exact:Tc.exact,exactFromRange:o=>Tc.exact(o.start,o.soffset,o.finish,o.foffset),getWin:o=>{const s=(i=>i.match({domRange:l=>St(l.startContainer),relative:(l,d)=>$1(l),exact:(l,d,f,p)=>l}))(o);return gd(s)},range:Mb},Jp=(o,s,i)=>{const l=o.document.createRange();var d;return d=l,s.fold(f=>{d.setStartBefore(f.dom)},(f,p)=>{d.setStart(f.dom,p)},f=>{d.setStartAfter(f.dom)}),((f,p)=>{p.fold(b=>{f.setEndBefore(b.dom)},(b,y)=>{f.setEnd(b.dom,y)},b=>{f.setEndAfter(b.dom)})})(l,i),l},ep=(o,s,i,l,d)=>{const f=o.document.createRange();return f.setStart(s.dom,i),f.setEnd(l.dom,d),f},j1=o=>({left:o.left,top:o.top,right:o.right,bottom:o.bottom,width:o.width,height:o.height}),mf=_n([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),pf=(o,s,i)=>s(St(i.startContainer),i.startOffset,St(i.endContainer),i.endOffset),tp=(o,s)=>((i,l)=>{const d=((f,p)=>p.match({domRange:b=>({ltr:le(b),rtl:T.none}),relative:(b,y)=>({ltr:Ve(()=>Jp(f,b,y)),rtl:Ve(()=>T.some(Jp(f,y,b)))}),exact:(b,y,_,A)=>({ltr:Ve(()=>ep(f,b,y,_,A)),rtl:Ve(()=>T.some(ep(f,_,A,b,y)))})}))(i,l);return((f,p)=>{const b=p.ltr();return b.collapsed?p.rtl().filter(y=>y.collapsed===!1).map(y=>mf.rtl(St(y.endContainer),y.endOffset,St(y.startContainer),y.startOffset)).getOrThunk(()=>pf(0,mf.ltr,b)):pf(0,mf.ltr,b)})(0,d)})(o,s).match({ltr:(i,l,d,f)=>{const p=o.document.createRange();return p.setStart(i.dom,l),p.setEnd(d.dom,f),p},rtl:(i,l,d,f)=>{const p=o.document.createRange();return p.setStart(d.dom,f),p.setEnd(i.dom,l),p}});mf.ltr,mf.rtl;const mh=(o,s,i)=>gn(((l,d)=>{const f=Ut(d)?d:Le;let p=l.dom;const b=[];for(;p.parentNode!==null&&p.parentNode!==void 0;){const y=p.parentNode,_=St(y);if(b.push(_),f(_)===!0)break;p=y}return b})(o,i),s),bi=(o,s)=>((i,l)=>{const d=l===void 0?document:l.dom;return Pc(d)?[]:Qe(d.querySelectorAll(i),St)})(s,o),U1=o=>{if(o.rangeCount>0){const s=o.getRangeAt(0),i=o.getRangeAt(o.rangeCount-1);return T.some(Mb(St(s.startContainer),s.startOffset,St(i.endContainer),i.endOffset))}return T.none()},Qp=o=>{if(o.anchorNode===null||o.focusNode===null)return U1(o);{const s=St(o.anchorNode),i=St(o.focusNode);return((l,d,f,p)=>{const b=((_,A,w,O)=>{const I=ua(_).dom.createRange();return I.setStart(_.dom,A),I.setEnd(w.dom,O),I})(l,d,f,p),y=ln(l,f)&&d===p;return b.collapsed&&!y})(s,o.anchorOffset,i,o.focusOffset)?T.some(Mb(s,o.anchorOffset,i,o.focusOffset)):U1(o)}},Bu=(o,s)=>(i=>{const l=i.getClientRects(),d=l.length>0?l[0]:i.getBoundingClientRect();return d.width>0||d.height>0?T.some(d).map(j1):T.none()})(tp(o,s)),mx=(o=>{const s=i=>o(i)?T.from(i.dom.nodeValue):T.none();return{get:i=>{if(!o(i))throw new Error("Can only get text value of a text node");return s(i).getOr("")},getOption:s,set:(i,l)=>{if(!o(i))throw new Error("Can only set raw text value of a text node");i.dom.nodeValue=l}}})(ks),ph=(o,s)=>({element:o,offset:s}),Bb=(o,s)=>ks(o)?ph(o,s):((i,l)=>{const d=pr(i);if(d.length===0)return ph(i,l);if(l<d.length)return ph(d[l],0);{const f=d[d.length-1],p=ks(f)?(b=>mx.get(b))(f).length:pr(f).length;return ph(f,p)}})(o,s),Z1=o=>o.foffset!==void 0,W1=(o,s)=>s.getSelection.getOrThunk(()=>()=>(i=>(l=>T.from(l.getSelection()))(i).filter(l=>l.rangeCount>0).bind(Qp))(o))().map(i=>{if(Z1(i)){const l=Bb(i.start,i.soffset),d=Bb(i.finish,i.foffset);return od.range(l.element,l.offset,d.element,d.offset)}return i});var q1=[bn("getSelection"),Ke("root"),bn("bubble"),Md(),Te("overrides",{}),Te("showAbove",!1),Br("placement",(o,s,i)=>{const l=gd(s.root).dom,d=dh(o,0,s),f=W1(l,s).bind(b=>{if(Z1(b))return((_,A)=>(w=>{const O=w.getBoundingClientRect();return O.width>0||O.height>0?T.some(O).map(j1):T.none()})(tp(_,A)))(l,od.exactFromRange(b)).orThunk(()=>{const _=Xl("\uFEFF");di(b.start,_);const A=Bu(l,od.exact(_,0,_,1));return yc(_),A}).bind(_=>uh(_.left,_.top,_.width,_.height));{const y=Tn(b,A=>A.dom.getBoundingClientRect()),_={left:Math.min(y.firstCell.left,y.lastCell.left),right:Math.max(y.firstCell.right,y.lastCell.right),top:Math.min(y.firstCell.top,y.lastCell.top),bottom:Math.max(y.firstCell.bottom,y.lastCell.bottom)};return uh(_.left,_.top,_.right-_.left,_.bottom-_.top)}}),p=W1(l,s).bind(b=>Z1(b)?mr(b.start)?T.some(b.start):Na(b.start):T.some(b.firstCell)).getOr(o.element);return sm(f,d,s,i,p)})];const Ib="link-layout",Pb=o=>o.x+o.width,op=(o,s)=>o.x-s.width,G1=(o,s)=>o.y-s.height+o.height,gh=o=>o.y,K1=(o,s,i)=>ya(Pb(o),gh(o),i.southeast(),ed(),"southeast",$i(o,{left:0,top:2}),Ib),px=(o,s,i)=>ya(op(o,s),gh(o),i.southwest(),_b(),"southwest",$i(o,{right:1,top:2}),Ib),_l=(o,s,i)=>ya(Pb(o),G1(o,s),i.northeast(),Wm(),"northeast",$i(o,{left:0,bottom:3}),Ib),Lb=(o,s,i)=>ya(op(o,s),G1(o,s),i.northwest(),qm(),"northwest",$i(o,{right:1,bottom:3}),Ib),Fb=()=>[K1,px,_l,Lb],gx=()=>[px,K1,Lb,_l];var Fw=[Ke("item"),Md(),Te("overrides",{}),Br("placement",(o,s,i)=>{const l=ah(i,s.item.element),d=Zi(o.element,s,Fb(),gx(),Fb(),gx(),T.none());return T.some(ch({anchorBox:l,bubble:om(),overrides:s.overrides,layouts:d}))})],hx=ea("type",{selection:q1,node:fh,hotspot:Pw,submenu:Fw,makeshift:H1});const bx=[Ka("classes",Ps),lr("mode","all",["all","layout","placement"])],yx=[Te("useFixed",Le),bn("getBounds")],eg=[oa("anchor",hx),fi("transition",bx)],np=(o,s,i,l,d,f)=>{const p=Ga("placement.info",co(eg),d),b=p.anchor,y=l.element,_=i.get(l.uid);Ab(()=>{Gt(y,"position","fixed");const A=hr(y,"visibility");Gt(y,"visibility","hidden");const w=s.useFixed()?(()=>{const O=document.documentElement;return L4(0,0,O.clientWidth,O.clientHeight)})():(O=>{const I=Ur(O.element),F=O.element.dom.getBoundingClientRect();return au(I.left,I.top,F.width,F.height)})(o);b.placement(o,b,w).each(O=>{const I=f.orThunk(()=>s.getBounds.map(Ro)),F=((K,Q,oe,W,Z,ne)=>((se,re,ye,Ae,Ue,Fe,qe,nt)=>{const Mt=Jm(qe,"maxHeightFunction",Mu()),Xt=Jm(qe,"maxWidthFunction",rt),uo=se.anchorBox,No=se.origin,en={bounds:ux(No,Fe),origin:No,preference:Ae,maxHeightFunction:Mt,maxWidthFunction:Xt,lastPlacement:Ue,transition:nt};return ff(uo,re,ye,en)})(((se,re)=>((ye,Ae)=>({anchorBox:ye,origin:Ae}))(se,re))(Q.anchorBox,K),W.element,Q.bubble,Q.layouts,Z,oe,Q.overrides,ne))(w,O,I,l,_,p.transition);i.set(l.uid,F)}),A.fold(()=>{Yo(y,"visibility")},O=>{Gt(y,"visibility",O)}),hr(y,"left").isNone()&&hr(y,"top").isNone()&&hr(y,"right").isNone()&&hr(y,"bottom").isNone()&&Rs(hr(y,"position"),"fixed")&&Yo(y,"position")},y)};var Y1=Object.freeze({__proto__:null,position:(o,s,i,l,d)=>{const f=T.none();np(o,s,i,l,d,f)},positionWithinBounds:np,getMode:(o,s,i)=>s.useFixed()?"fixed":"absolute",reset:(o,s,i,l)=>{const d=l.element;Ot(["position","left","right","top","bottom"],f=>Yo(d,f)),(f=>{Sr(f,Yp)})(d),i.clear(l.uid)}});const Ha=cs({fields:yx,name:"positioning",active:Iw,apis:Y1,state:Object.freeze({__proto__:null,init:()=>{let o={};return yr({readState:()=>o,clear:s=>{Bt(s)?delete o[s]:o={}},set:(s,i)=>{o[s]=i},get:s=>mt(o,s)})}})}),Oc=o=>o.getSystem().isConnected(),dc=o=>{Xo(o,gl());const s=o.components();Ot(s,dc)},lu=o=>{const s=o.components();Ot(s,lu),Xo(o,Yc())},X1=(o,s)=>{o.getSystem().addToWorld(s),Qn(o.element)&&lu(s)},am=o=>{dc(o),o.getSystem().removeFromWorld(o)},Hb=(o,s)=>{ui(o.element,s.element)},gf=(o,s)=>{J1(o,s,ui)},J1=(o,s,i)=>{o.getSystem().addToWorld(s),i(o.element,s.element),Qn(o.element)&&lu(s),o.syncComponents()},Vb=o=>{dc(o),yc(o.element),o.getSystem().removeFromWorld(o)},Iu=o=>{const s=es(o.element).bind(i=>o.getSystem().getByDom(i).toOptional());Vb(o),s.each(i=>{i.syncComponents()})},Q1=o=>{const s=o.components();Ot(s,Vb),Qs(o.element),o.syncComponents()},$b=(o,s)=>{Pu(o,s,ui)},Dc=(o,s)=>{Pu(o,s,pu)},Pu=(o,s,i)=>{i(o,s.element);const l=pr(s.element);Ot(l,d=>{s.getByDom(d).each(lu)})},vx=o=>{const s=pr(o.element);Ot(s,i=>{o.getByDom(i).each(dc)}),yc(o.element)},$e=(o,s,i,l)=>{i.get().each(p=>{Q1(o)});const d=s.getAttachPoint(o);gf(d,o);const f=o.getSystem().build(l);return gf(o,f),i.set(f),f},rp=(o,s,i,l)=>{const d=$e(o,s,i,l);return s.onOpen(o,d),d},e0=(o,s,i)=>{i.get().each(l=>{Q1(o),Iu(o),s.onClose(o,l),i.clear()})},xx=(o,s,i)=>i.isOpen(),tg=(o,s,i)=>{const l=s.getAttachPoint(o);Gt(o.element,"position",Ha.getMode(l)),((d,f,p)=>{hr(d.element,f).fold(()=>{Sr(d.element,p)},b=>{po(d.element,p,b)}),Gt(d.element,f,"hidden")})(o,"visibility",s.cloakVisibilityAttr)},nd=(o,s,i)=>{(l=>zt(["top","left","right","bottom"],d=>hr(l,d).isSome()))(o.element)||Yo(o.element,"position"),((l,d,f)=>{os(l.element,f).fold(()=>Yo(l.element,d),p=>Gt(l.element,d,p))})(o,"visibility",s.cloakVisibilityAttr)};var kx=Object.freeze({__proto__:null,cloak:tg,decloak:nd,open:rp,openWhileCloaked:(o,s,i,l,d)=>{tg(o,s),rp(o,s,i,l),d(),nd(o,s)},close:e0,isOpen:xx,isPartOf:(o,s,i,l)=>xx(0,0,i)&&i.get().exists(d=>s.isPartOf(o,d,l)),getState:(o,s,i)=>i.get(),setContent:(o,s,i,l)=>i.get().map(()=>$e(o,s,i,l))}),_x=Object.freeze({__proto__:null,events:(o,s)=>tr([je(qf(),(i,l)=>{e0(i,o,s)})])}),wx=[dn("onOpen"),dn("onClose"),Ke("isPartOf"),Ke("getAttachPoint"),Te("cloakVisibilityAttr","data-precloak-visibility")],t0=Object.freeze({__proto__:null,init:()=>{const o=sn(),s=le("not-implemented");return yr({readState:s,isOpen:o.isSet,clear:o.clear,set:o.set,get:o.get})}});const vn=cs({fields:wx,name:"sandboxing",active:_x,apis:kx,state:t0}),hf=le("dismiss.popups"),sp=le("reposition.popups"),og=le("mouse.released"),Hw=Is([Te("isExtraPart",Le),fi("fireEventInstead",[Te("event",gi())])]),jb=o=>{const s=Ga("Dismissal",Hw,o);return{[hf()]:{schema:Is([Ke("target")]),onReceive:(i,l)=>{vn.isOpen(i)&&(vn.isPartOf(i,l.target)||s.isExtraPart(i,l.target)||s.fireEventInstead.fold(()=>vn.close(i),d=>Xo(i,d.event)))}}}},Vw=Is([fi("fireEventInstead",[Te("event",rf())]),fl("doReposition")]),m=o=>{const s=Ga("Reposition",Vw,o);return{[sp()]:{onReceive:i=>{vn.isOpen(i)&&s.fireEventInstead.fold(()=>s.doReposition(i),l=>Xo(i,l.event))}}}},h=(o,s,i)=>{s.store.manager.onLoad(o,s,i)},x=(o,s,i)=>{s.store.manager.onUnload(o,s,i)};var E=Object.freeze({__proto__:null,onLoad:h,onUnload:x,setValue:(o,s,i,l)=>{s.store.manager.setValue(o,s,i,l)},getValue:(o,s,i)=>s.store.manager.getValue(o,s,i),getState:(o,s,i)=>i}),D=Object.freeze({__proto__:null,events:(o,s)=>{const i=o.resetOnDom?[Mr((l,d)=>{h(l,o,s)}),Dd((l,d)=>{x(l,o,s)})]:[Tu(o,s,h)];return tr(i)}});const N=()=>{const o=$t(null);return yr({set:o.set,get:o.get,isNotSet:()=>o.get()===null,clear:()=>{o.set(null)},readState:()=>({mode:"memory",value:o.get()})})},H=()=>{const o=$t({}),s=$t({});return yr({readState:()=>({mode:"dataset",dataByValue:o.get(),dataByText:s.get()}),lookup:i=>mt(o.get(),i).orThunk(()=>mt(s.get(),i)),update:i=>{const l=o.get(),d=s.get(),f={},p={};Ot(i,b=>{f[b.value]=b,mt(b,"meta").each(y=>{mt(y,"text").each(_=>{p[_]=b})})}),o.set({...l,...f}),s.set({...d,...p})},clear:()=>{o.set({}),s.set({})}})};var U=Object.freeze({__proto__:null,memory:N,dataset:H,manual:()=>yr({readState:rt}),init:o=>o.store.manager.state(o)});const ee=(o,s,i,l)=>{const d=s.store;i.update([l]),d.setValue(o,l),s.onSetValue(o,l)};var de=[bn("initialValue"),Ke("getFallbackEntry"),Ke("getDataKey"),Ke("setValue"),Br("manager",{setValue:ee,getValue:(o,s,i)=>{const l=s.store,d=l.getDataKey(o);return i.lookup(d).getOrThunk(()=>l.getFallbackEntry(d))},onLoad:(o,s,i)=>{s.store.initialValue.each(l=>{ee(o,s,i,l)})},onUnload:(o,s,i)=>{i.clear()},state:H})],ke=[Ke("getValue"),Te("setValue",rt),bn("initialValue"),Br("manager",{setValue:(o,s,i,l)=>{s.store.setValue(o,l),s.onSetValue(o,l)},getValue:(o,s,i)=>s.store.getValue(o),onLoad:(o,s,i)=>{s.store.initialValue.each(l=>{s.store.setValue(o,l)})},onUnload:rt,state:yl.init})],fe=[bn("initialValue"),Br("manager",{setValue:(o,s,i,l)=>{i.set(l),s.onSetValue(o,l)},getValue:(o,s,i)=>i.get(),onLoad:(o,s,i)=>{s.store.initialValue.each(l=>{i.isNotSet()&&i.set(l)})},onUnload:(o,s,i)=>{i.clear()},state:N})],be=[is("store",{mode:"memory"},ea("mode",{memory:fe,manual:ke,dataset:de})),dn("onSetValue"),Te("resetOnDom",!1)];const X=cs({fields:be,name:"representing",active:D,apis:E,extra:{setValueFrom:(o,s)=>{const i=X.getValue(s);X.setValue(o,i)}},state:U}),we=(o,s)=>nc(o,{},Qe(s,i=>{return l=i.name(),d="Cannot configure "+i.name()+" for "+o,Ls(l,l,{tag:"option",process:{}},xc(f=>cl("The field: "+l+" is forbidden. "+d)));var l,d}).concat([ta("dump",Tt)])),Ee=o=>o.dump,Ie=(o,s)=>({...it(s),...o.dump}),Ge=we,et=Ie,ct="placeholder",gt=_n([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),dt=o=>io(o,"uiType"),Ct=(o,s,i,l)=>((d,f,p,b)=>dt(p)&&p.uiType===ct?((y,_,A,w)=>y.exists(O=>O!==A.owner)?gt.single(!0,le(A)):mt(w,A.name).fold(()=>{throw new Error("Unknown placeholder component: "+A.name+`
Known: [`+Fo(w)+`]
Namespace: `+y.getOr("none")+`
Spec: `+JSON.stringify(A,null,2))},O=>O.replace()))(d,0,p,b):gt.single(!1,le(p)))(o,0,i,l).fold((d,f)=>{const p=dt(i)?f(s,i.config,i.validated):f(s),b=mt(p,"components").getOr([]),y=hn(b,_=>Ct(o,s,_,l));return[{...p,components:y}]},(d,f)=>{if(dt(i)){const p=f(s,i.config,i.validated);return i.validated.preprocess.getOr(Tt)(p)}return f(s)}),jt=gt.single,ho=gt.multiple,un=le(ct),Do=_n([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),Uo=Te("factory",{sketch:Tt}),Io=Te("schema",[]),or=Ke("name"),Vs=Ls("pname","pname",Qu(o=>"<alloy."+Ft(o.name)+">"),ul()),Wi=ta("schema",()=>[bn("preprocess")]),ra=Te("defaults",le({})),nl=Te("overrides",le({})),ap=co([Uo,Io,or,Vs,ra,nl]),$l=co([Uo,Io,or,ra,nl]),ip=co([Uo,Io,or,Vs,ra,nl]),Ub=co([Uo,Wi,or,Ke("unit"),Vs,ra,nl]),hh=o=>o.fold(T.some,T.none,T.some,T.some),Zb=o=>{const s=i=>i.name;return o.fold(s,s,s,s)},lp=(o,s)=>i=>{const l=Ga("Converting part type",s,i);return o(l)},ti=lp(Do.required,ap),Lu=lp(Do.external,$l),cu=lp(Do.optional,ip),Cx=lp(Do.group,Ub),$w=le("entirety");var F4=Object.freeze({__proto__:null,required:ti,external:Lu,optional:cu,group:Cx,asNamedPart:hh,name:Zb,asCommon:o=>o.fold(Tt,Tt,Tt,Tt),original:$w});const Sx=(o,s,i,l)=>Hn(s.defaults(o,i,l),i,{uid:o.partUids[s.name]},s.overrides(o,i,l)),Ex=(o,s)=>{const i={};return Ot(s,l=>{hh(l).each(d=>{const f=BD(o,d.pname);i[d.name]=p=>{const b=Ga("Part: "+d.name+" in "+o,co(d.schema),p);return{...f,config:p,validated:b}}})}),i},BD=(o,s)=>({uiType:un(),owner:o,name:s}),Ax=(o,s,i)=>({uiType:un(),owner:o,name:s,config:i,validated:{}}),H4=o=>hn(o,s=>s.fold(T.none,T.some,T.none,T.none).map(i=>Li(i.name,i.schema.concat([A1($w())]))).toArray()),jw=o=>Qe(o,Zb),Uw=(o,s,i)=>((l,d,f)=>{const p={},b={};return Ot(f,y=>{y.fold(_=>{p[_.pname]=jt(!0,(A,w,O)=>_.factory.sketch(Sx(A,_,w,O)))},_=>{const A=d.parts[_.name];b[_.name]=le(_.factory.sketch(Sx(d,_,A[$w()]),A))},_=>{p[_.pname]=jt(!1,(A,w,O)=>_.factory.sketch(Sx(A,_,w,O)))},_=>{p[_.pname]=ho(!0,(A,w,O)=>{const I=A[_.name];return Qe(I,F=>_.factory.sketch(Hn(_.defaults(A,F,O),F,_.overrides(A,F))))})})}),{internals:le(p),externals:le(b)}})(0,s,i),Zw=(o,s,i)=>((l,d,f,p)=>{const b=Tn(p,(_,A)=>((w,O)=>{let I=!1;return{name:le(w),required:()=>O.fold((F,K)=>F,(F,K)=>F),used:()=>I,replace:()=>{if(I)throw new Error("Trying to use the same placeholder more than once: "+w);return I=!0,O}}})(A,_)),y=((_,A,w,O)=>hn(w,I=>Ct(_,A,I,O)))(l,d,f,b);return Jn(b,_=>{if(_.used()===!1&&_.required())throw new Error("Placeholder: "+_.name()+` was not found in components list
Namespace: `+l.getOr("none")+`
Components: `+JSON.stringify(d.components,null,2))}),y})(T.some(o),s,s.components,i),Ar=(o,s,i)=>{const l=s.partUids[i];return o.getSystem().getByUid(l).toOptional()},ng=(o,s,i)=>Ar(o,s,i).getOrDie("Could not find part: "+i),V4=(o,s,i)=>{const l={},d=s.partUids,f=o.getSystem();return Ot(i,p=>{l[p]=le(f.getByUid(d[p]))}),l},$4=(o,s)=>{const i=o.getSystem();return Tn(s.partUids,(l,d)=>le(i.getByUid(l)))},Ww=o=>Fo(o.partUids),qw=(o,s,i)=>{const l={},d=s.partUids,f=o.getSystem();return Ot(i,p=>{l[p]=le(f.getByUid(d[p]).getOrDie())}),l},j4=(o,s)=>{const i=jw(s);return Ml(Qe(i,l=>({key:l,value:o+"-"+l})))},o0=o=>Ls("partUids","partUids",rn(s=>j4(s.uid,o)),ul());var ID=Object.freeze({__proto__:null,generate:Ex,generateOne:Ax,schemas:H4,names:jw,substitutes:Uw,components:Zw,defaultUids:j4,defaultUidsSchema:o0,getAllParts:$4,getAllPartNames:Ww,getPart:Ar,getPartOrDie:ng,getParts:V4,getPartsOrDie:qw});const U4=(o,s,i,l,d)=>{const f=((p,b)=>(p.length>0?[Li("parts",p)]:[]).concat([Ke("uid"),Te("dom",{}),Te("components",[]),A1("originalSpec"),Te("debug.sketcher",{})]).concat(b))(l,d);return Ga(o+" [SpecSchema]",Is(f.concat(s)),i)},Gw=(o,s,i,l,d)=>{const f=Kw(d),p=H4(i),b=o0(i),y=U4(o,s,f,p,[b]),_=Uw(0,y,i);return l(y,Zw(o,y,_.internals()),f,_.externals())},Kw=o=>(s=>io(s,"uid"))(o)?o:{...o,uid:Yf("uid")},Wt=Is([Ke("name"),Ke("factory"),Ke("configFields"),Te("apis",{}),Te("extraApis",{})]),zx=Is([Ke("name"),Ke("factory"),Ke("configFields"),Ke("partFields"),Te("apis",{}),Te("extraApis",{})]),rd=o=>{const s=Ga("Sketcher for "+o.name,Wt,o),i=Tn(s.apis,hb),l=Tn(s.extraApis,(d,f)=>Vp(d,f));return{name:s.name,configFields:s.configFields,sketch:d=>((f,p,b,y)=>{const _=Kw(y);return b(U4(f,p,_,[],[]),_)})(s.name,s.configFields,s.factory,d),...i,...l}},jl=o=>{const s=Ga("Sketcher for "+o.name,zx,o),i=Ex(s.name,s.partFields),l=Tn(s.apis,hb),d=Tn(s.extraApis,(f,p)=>Vp(f,p));return{name:s.name,partFields:s.partFields,configFields:s.configFields,sketch:f=>Gw(s.name,s.configFields,s.partFields,s.factory,f),parts:i,...l,...d}},Wb=o=>Ni("input")(o)&&as(o,"type")!=="radio"||Ni("textarea")(o);var PD=Object.freeze({__proto__:null,getCurrent:(o,s,i)=>s.find(o)});const Z4=[Ke("find")],wn=cs({fields:Z4,name:"composing",apis:PD}),LD=["input","button","textarea","select"],Yw=(o,s,i)=>{(s.disabled()?Jw:Qw)(o,s)},Xw=(o,s)=>s.useNative===!0&&Ce(LD,da(o.element)),Ul=o=>{po(o.element,"disabled","disabled")},n0=o=>{Sr(o.element,"disabled")},FD=o=>{po(o.element,"aria-disabled","true")},HD=o=>{po(o.element,"aria-disabled","false")},Jw=(o,s,i)=>{s.disableClass.each(l=>{_t(o.element,l)}),(Xw(o,s)?Ul:FD)(o),s.onDisabled(o)},Qw=(o,s,i)=>{s.disableClass.each(l=>{Yt(o.element,l)}),(Xw(o,s)?n0:HD)(o),s.onEnabled(o)},W4=(o,s)=>Xw(o,s)?(i=>hd(i.element,"disabled"))(o):(i=>as(i.element,"aria-disabled")==="true")(o);var q4=Object.freeze({__proto__:null,enable:Qw,disable:Jw,isDisabled:W4,onLoad:Yw,set:(o,s,i,l)=>{(l?Jw:Qw)(o,s)}}),G4=Object.freeze({__proto__:null,exhibit:(o,s)=>bl({classes:s.disabled()?s.disableClass.toArray():[]}),events:(o,s)=>tr([Hi(pl(),(i,l)=>W4(i,o)),Tu(o,s,Yw)])}),VD=[br("disabled",Le),Te("useNative",!0),bn("disableClass"),dn("onDisabled"),dn("onEnabled")];const Jt=cs({fields:VD,name:"disabling",active:G4,apis:q4}),K4=(o,s,i,l)=>{const d=bi(o.element,"."+s.highlightClass);Ot(d,f=>{zt(l,p=>ln(p.element,f))||(Yt(f,s.highlightClass),o.getSystem().getByDom(f).each(p=>{s.onDehighlight(o,p),Xo(p,bt())}))})},r0=(o,s,i,l)=>{K4(o,s,0,[l]),e2(o,s,i,l)||(_t(l.element,s.highlightClass),s.onHighlight(o,l),Xo(l,Gf()))},e2=(o,s,i,l)=>Qo(l.element,s.highlightClass),Y4=(o,s,i)=>Pr(o.element,"."+s.itemClass).bind(l=>o.getSystem().getByDom(l).toOptional()),X4=(o,s,i)=>{const l=bi(o.element,"."+s.itemClass);return(l.length>0?T.some(l[l.length-1]):T.none()).bind(d=>o.getSystem().getByDom(d).toOptional())},J4=(o,s,i,l)=>{const d=bi(o.element,"."+s.itemClass);return la(d,f=>Qo(f,s.highlightClass)).bind(f=>{const p=ru(f,l,0,d.length-1);return o.getSystem().getByDom(d[p]).toOptional()})},Tx=(o,s,i)=>{const l=bi(o.element,"."+s.itemClass);return $a(Qe(l,d=>o.getSystem().getByDom(d).toOptional()))};var Q4=Object.freeze({__proto__:null,dehighlightAll:(o,s,i)=>K4(o,s,0,[]),dehighlight:(o,s,i,l)=>{e2(o,s,i,l)&&(Yt(l.element,s.highlightClass),s.onDehighlight(o,l),Xo(l,bt()))},highlight:r0,highlightFirst:(o,s,i)=>{Y4(o,s).each(l=>{r0(o,s,i,l)})},highlightLast:(o,s,i)=>{X4(o,s).each(l=>{r0(o,s,i,l)})},highlightAt:(o,s,i,l)=>{((d,f,p,b)=>{const y=bi(d.element,"."+f.itemClass);return T.from(y[b]).fold(()=>Zo.error(new Error("No element found with index "+b)),d.getSystem().getByDom)})(o,s,0,l).fold(d=>{throw d},d=>{r0(o,s,i,d)})},highlightBy:(o,s,i,l)=>{const d=Tx(o,s);V(d,l).each(f=>{r0(o,s,i,f)})},isHighlighted:e2,getHighlighted:(o,s,i)=>Pr(o.element,"."+s.highlightClass).bind(l=>o.getSystem().getByDom(l).toOptional()),getFirst:Y4,getLast:X4,getPrevious:(o,s,i)=>J4(o,s,0,-1),getNext:(o,s,i)=>J4(o,s,0,1),getCandidates:Tx}),$D=[Ke("highlightClass"),Ke("itemClass"),dn("onHighlight"),dn("onDehighlight")];const Gn=cs({fields:$D,name:"highlighting",apis:Q4}),jD=[8],cp=[9],im=[13],s0=[27],sd=[32],Ox=[37],qb=[38],Dx=[39],Gb=[40],eE=(o,s,i)=>{const l=Al(o.slice(0,s)),d=Al(o.slice(s+1));return V(l.concat(d),i)},UD=(o,s,i)=>{const l=Al(o.slice(0,s));return V(l,i)},Kb=(o,s,i)=>{const l=o.slice(0,s),d=o.slice(s+1);return V(d.concat(l),i)},ZD=(o,s,i)=>{const l=o.slice(s+1);return V(l,i)},xn=o=>s=>{const i=s.raw;return Ce(o,i.which)},bf=o=>s=>xi(o,i=>i(s)),yf=o=>o.raw.shiftKey===!0,WD=o=>o.raw.ctrlKey===!0,a0=jr(yf),Ln=(o,s)=>({matches:o,classification:s}),tE=(o,s,i)=>{s.exists(l=>i.exists(d=>ln(d,l)))||oo(o,sf(),{prevFocus:s,newFocus:i})},t2=()=>{const o=s=>ei(s.element);return{get:o,set:(s,i)=>{const l=o(s);s.getSystem().triggerFocus(i,s.element);const d=o(s);tE(s,l,d)}}},o2=()=>{const o=s=>Gn.getHighlighted(s).map(i=>i.element);return{get:o,set:(s,i)=>{const l=o(s);s.getSystem().getByDom(i).fold(rt,f=>{Gn.highlight(s,f)});const d=o(s);tE(s,l,d)}}};var rg;(function(o){o.OnFocusMode="onFocus",o.OnEnterOrSpaceMode="onEnterOrSpace",o.OnApiMode="onApi"})(rg||(rg={}));const bh=(o,s,i,l,d)=>{const f=(b,y,_,A,w)=>{return(O=_(b,y,A,w),I=y.event,V(O,F=>F.matches(I)).map(F=>F.classification)).bind(F=>F(b,y,A,w));var O,I},p={schema:()=>o.concat([Te("focusManager",t2()),is("focusInside","onFocus",Jd(b=>Ce(["onFocus","onEnterOrSpace","onApi"],b)?Zo.value(b):Zo.error("Invalid value for focusInside"))),Br("handler",p),Br("state",s),Br("sendFocusIn",d)]),processKey:f,toEvents:(b,y)=>{const _=b.focusInside!==rg.OnFocusMode?T.none():d(b).map(w=>je(wc(),(O,I)=>{w(O,b,y),I.stop()})),A=[je(Zr(),(w,O)=>{f(w,O,i,b,y).fold(()=>{((I,F)=>{const K=xn(sd.concat(im))(F.event);b.focusInside===rg.OnEnterOrSpaceMode&&K&&Zf(I,F)&&d(b).each(Q=>{Q(I,b,y),F.stop()})})(w,O)},I=>{O.stop()})}),je(Il(),(w,O)=>{f(w,O,l,b,y).each(I=>{O.stop()})})];return tr(_.toArray().concat(A))}};return p},oE=o=>{const s=[bn("onEscape"),bn("onEnter"),Te("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Te("firstTabstop",0),Te("useTabstopAt",It),bn("visibilitySelector")].concat([o]),i=(A,w)=>{const O=A.visibilitySelector.bind(I=>qn(w,I)).getOr(w);return xr(O)>0},l=(A,w)=>w.focusManager.get(A).bind(O=>qn(O,w.selector)),d=(A,w,O)=>{((I,F)=>{const K=bi(I.element,F.selector),Q=gn(K,oe=>i(F,oe));return T.from(Q[F.firstTabstop])})(A,w).each(I=>{w.focusManager.set(A,I)})},f=(A,w,O,I)=>{const F=gn(bi(A.element,O.selector),K=>i(O,K));return l(A,O).bind(K=>la(F,lt(ln,K)).bind(Q=>((oe,W,Z,ne,se)=>se(W,Z,re=>((ye,Ae)=>i(ye,Ae)&&ye.useTabstopAt(Ae))(ne,re)).fold(()=>ne.cyclic?T.some(!0):T.none(),re=>(ne.focusManager.set(oe,re),T.some(!0))))(A,F,Q,O,I)))},p=(A,w,O)=>{const I=O.cyclic?eE:UD;return f(A,0,O,I)},b=(A,w,O)=>{const I=O.cyclic?Kb:ZD;return f(A,0,O,I)},y=le([Ln(bf([yf,xn(cp)]),p),Ln(xn(cp),b),Ln(bf([a0,xn(im)]),(A,w,O)=>O.onEnter.bind(I=>I(A,w)))]),_=le([Ln(xn(s0),(A,w,O)=>O.onEscape.bind(I=>I(A,w))),Ln(xn(cp),(A,w,O)=>l(A,O).filter(I=>!O.useTabstopAt(I)).bind(I=>((F=>(K=>es(K))(F).bind(wi).exists(K=>ln(K,F)))(I)?p:b)(A,w,O)))]);return bh(s,yl.init,y,_,()=>T.some(d))};var qD=oE(ta("cyclic",Le)),GD=oE(ta("cyclic",It));const i0=(o,s,i)=>Wb(i)&&xn(sd)(s.event)?T.none():((l,d,f)=>(Qd(l,f,pl()),T.some(!0)))(o,0,i),yh=(o,s)=>T.some(!0),KD=[Te("execute",i0),Te("useSpace",!1),Te("useEnter",!0),Te("useControlEnter",!1),Te("useDown",!1)],n2=(o,s,i)=>i.execute(o,s,o.element);var Rx=bh(KD,yl.init,(o,s,i,l)=>{const d=i.useSpace&&!Wb(o.element)?sd:[],f=i.useEnter?im:[],p=i.useDown?Gb:[],b=d.concat(f).concat(p);return[Ln(xn(b),n2)].concat(i.useControlEnter?[Ln(bf([WD,xn(im)]),n2)]:[])},(o,s,i,l)=>i.useSpace&&!Wb(o.element)?[Ln(xn(sd),yh)]:[],()=>T.none());const nE=()=>{const o=sn();return yr({readState:()=>o.get().map(s=>({numRows:String(s.numRows),numColumns:String(s.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(s,i)=>{o.set({numRows:s,numColumns:i})},getNumRows:()=>o.get().map(s=>s.numRows),getNumColumns:()=>o.get().map(s=>s.numColumns)})};var YD=Object.freeze({__proto__:null,flatgrid:nE,init:o=>o.state(o)});const rE=o=>(s,i,l,d)=>{const f=o(s.element);return sE(f,s,i,l,d)},r2=(o,s)=>{const i=Rb(o,s);return rE(i)},Nx=(o,s)=>{const i=Rb(s,o);return rE(i)},Mx=o=>(s,i,l,d)=>sE(o,s,i,l,d),sE=(o,s,i,l,d)=>l.focusManager.get(s).bind(f=>o(s.element,f,l,d)).map(f=>(l.focusManager.set(s,f),!0)),aE=Mx,iE=Mx,Bx=Mx,lE=o=>!(s=>s.offsetWidth<=0&&s.offsetHeight<=0)(o.dom),cE=(o,s,i)=>{const l=bi(o,i);return(d=>la(d,f=>ln(f,s)).map(f=>({index:f,candidates:d})))(gn(l,lE))},dE=(o,s)=>la(o,i=>ln(s,i)),l0=(o,s,i,l)=>l(Math.floor(s/i),s%i).bind(d=>{const f=d.row*i+d.column;return f>=0&&f<o.length?T.some(o[f]):T.none()}),uE=(o,s,i,l,d)=>l0(o,s,l,(f,p)=>{const b=f===i-1?o.length-f*l:l,y=ru(p,d,0,b-1);return T.some({row:f,column:y})}),fE=(o,s,i,l,d)=>l0(o,s,l,(f,p)=>{const b=ru(f,d,0,i-1),y=b===i-1?o.length-b*l:l,_=Ec(p,0,y-1);return T.some({row:b,column:_})}),XD=[Ke("selector"),Te("execute",i0),Fl("onEscape"),Te("captureTab",!1),mb()],JD=(o,s,i)=>{Pr(o.element,s.selector).each(l=>{s.focusManager.set(o,l)})},Ix=o=>(s,i,l,d)=>cE(s,i,l.selector).bind(f=>o(f.candidates,f.index,d.getNumRows().getOr(l.initSize.numRows),d.getNumColumns().getOr(l.initSize.numColumns))),mE=(o,s,i)=>i.captureTab?T.some(!0):T.none(),pE=Ix((o,s,i,l)=>uE(o,s,i,l,-1)),gE=Ix((o,s,i,l)=>uE(o,s,i,l,1)),QD=Ix((o,s,i,l)=>fE(o,s,i,l,-1)),eR=Ix((o,s,i,l)=>fE(o,s,i,l,1)),tR=le([Ln(xn(Ox),r2(pE,gE)),Ln(xn(Dx),Nx(pE,gE)),Ln(xn(qb),aE(QD)),Ln(xn(Gb),iE(eR)),Ln(bf([yf,xn(cp)]),mE),Ln(bf([a0,xn(cp)]),mE),Ln(xn(sd.concat(im)),(o,s,i,l)=>((d,f)=>f.focusManager.get(d).bind(p=>qn(p,f.selector)))(o,i).bind(d=>i.execute(o,s,d)))]),oR=le([Ln(xn(s0),(o,s,i)=>i.onEscape(o,s)),Ln(xn(sd),yh)]);var hE=bh(XD,nE,tR,oR,()=>T.some(JD));const bE=(o,s,i,l,d)=>{const f=(p,b,y)=>d(p,b,l,0,y.length-1,y[b],_=>{return A=y[_],da(A)==="button"&&as(A,"disabled")==="disabled"?f(p,_,y):T.from(y[_]);var A});return cE(o,i,s).bind(p=>{const b=p.index,y=p.candidates;return f(b,b,y)})},yE=(o,s,i,l)=>bE(o,s,i,l,(d,f,p,b,y,_,A)=>{const w=Ec(f+p,b,y);return w===d?T.from(_):A(w)}),Px=(o,s,i,l)=>bE(o,s,i,l,(d,f,p,b,y,_,A)=>{const w=ru(f,p,b,y);return w===d?T.none():A(w)}),nR=[Ke("selector"),Te("getInitial",T.none),Te("execute",i0),Fl("onEscape"),Te("executeOnMove",!1),Te("allowVertical",!0),Te("allowHorizontal",!0),Te("cycles",!0)],Lx=(o,s,i)=>((l,d)=>d.focusManager.get(l).bind(f=>qn(f,d.selector)))(o,i).bind(l=>i.execute(o,s,l)),rR=(o,s,i)=>{s.getInitial(o).orThunk(()=>Pr(o.element,s.selector)).each(l=>{s.focusManager.set(o,l)})},vE=(o,s,i)=>(i.cycles?Px:yE)(o,i.selector,s,-1),xE=(o,s,i)=>(i.cycles?Px:yE)(o,i.selector,s,1),kE=o=>(s,i,l,d)=>o(s,i,l,d).bind(()=>l.executeOnMove?Lx(s,i,l):T.some(!0)),sR=le([Ln(xn(sd),yh),Ln(xn(s0),(o,s,i)=>i.onEscape(o,s))]);var _E=bh(nR,yl.init,(o,s,i,l)=>{const d=[...i.allowHorizontal?Ox:[]].concat(i.allowVertical?qb:[]),f=[...i.allowHorizontal?Dx:[]].concat(i.allowVertical?Gb:[]);return[Ln(xn(d),kE(r2(vE,xE))),Ln(xn(f),kE(Nx(vE,xE))),Ln(xn(im),Lx),Ln(xn(sd),Lx)]},sR,()=>T.some(rR));const Fx=(o,s,i)=>T.from(o[s]).bind(l=>T.from(l[i]).map(d=>({rowIndex:s,columnIndex:i,cell:d}))),wE=(o,s,i,l)=>{const d=o[s].length,f=ru(i,l,0,d-1);return Fx(o,s,f)},CE=(o,s,i,l)=>{const d=ru(i,l,0,o.length-1),f=o[d].length,p=Ec(s,0,f-1);return Fx(o,d,p)},s2=(o,s,i,l)=>{const d=o[s].length,f=Ec(i+l,0,d-1);return Fx(o,s,f)},Hx=(o,s,i,l)=>{const d=Ec(i+l,0,o.length-1),f=o[d].length,p=Ec(s,0,f-1);return Fx(o,d,p)},aR=[Li("selectors",[Ke("row"),Ke("cell")]),Te("cycles",!0),Te("previousSelector",T.none),Te("execute",i0)],iR=(o,s,i)=>{s.previousSelector(o).orThunk(()=>{const l=s.selectors;return Pr(o.element,l.cell)}).each(l=>{s.focusManager.set(o,l)})},Vx=(o,s)=>(i,l,d)=>{const f=d.cycles?o:s;return qn(l,d.selectors.row).bind(p=>{const b=bi(p,d.selectors.cell);return dE(b,l).bind(y=>{const _=bi(i,d.selectors.row);return dE(_,p).bind(A=>{const w=((O,I)=>Qe(O,F=>bi(F,I.selectors.cell)))(_,d);return f(w,A,y).map(O=>O.cell)})})})},c0=Vx((o,s,i)=>wE(o,s,i,-1),(o,s,i)=>s2(o,s,i,-1)),SE=Vx((o,s,i)=>wE(o,s,i,1),(o,s,i)=>s2(o,s,i,1)),EE=Vx((o,s,i)=>CE(o,i,s,-1),(o,s,i)=>Hx(o,i,s,-1)),AE=Vx((o,s,i)=>CE(o,i,s,1),(o,s,i)=>Hx(o,i,s,1)),zE=le([Ln(xn(Ox),r2(c0,SE)),Ln(xn(Dx),Nx(c0,SE)),Ln(xn(qb),aE(EE)),Ln(xn(Gb),iE(AE)),Ln(xn(sd.concat(im)),(o,s,i)=>ei(o.element).bind(l=>i.execute(o,s,l)))]),TE=le([Ln(xn(sd),yh)]);var OE=bh(aR,yl.init,zE,TE,()=>T.some(iR));const lR=[Ke("selector"),Te("execute",i0),Te("moveOnTab",!1)],DE=(o,s,i)=>i.focusManager.get(o).bind(l=>i.execute(o,s,l)),cR=(o,s,i)=>{Pr(o.element,s.selector).each(l=>{s.focusManager.set(o,l)})},RE=(o,s,i)=>Px(o,i.selector,s,-1),NE=(o,s,i)=>Px(o,i.selector,s,1),vh=le([Ln(xn(qb),Bx(RE)),Ln(xn(Gb),Bx(NE)),Ln(bf([yf,xn(cp)]),(o,s,i,l)=>i.moveOnTab?Bx(RE)(o,s,i,l):T.none()),Ln(bf([a0,xn(cp)]),(o,s,i,l)=>i.moveOnTab?Bx(NE)(o,s,i,l):T.none()),Ln(xn(im),DE),Ln(xn(sd),DE)]),dR=le([Ln(xn(sd),yh)]);var uR=bh(lR,yl.init,vh,dR,()=>T.some(cR));const fR=[Fl("onSpace"),Fl("onEnter"),Fl("onShiftEnter"),Fl("onLeft"),Fl("onRight"),Fl("onTab"),Fl("onShiftTab"),Fl("onUp"),Fl("onDown"),Fl("onEscape"),Te("stopSpaceKeyup",!1),bn("focusIn")];var mR=bh(fR,yl.init,(o,s,i)=>[Ln(xn(sd),i.onSpace),Ln(bf([a0,xn(im)]),i.onEnter),Ln(bf([yf,xn(im)]),i.onShiftEnter),Ln(bf([yf,xn(cp)]),i.onShiftTab),Ln(bf([a0,xn(cp)]),i.onTab),Ln(xn(qb),i.onUp),Ln(xn(Gb),i.onDown),Ln(xn(Ox),i.onLeft),Ln(xn(Dx),i.onRight),Ln(xn(sd),i.onSpace)],(o,s,i)=>[...i.stopSpaceKeyup?[Ln(xn(sd),yh)]:[],Ln(xn(s0),i.onEscape)],o=>o.focusIn);const ME=qD.schema(),pR=GD.schema(),gR=_E.schema(),BE=hE.schema(),d0=OE.schema(),u0=Rx.schema(),hR=uR.schema(),a2=mR.schema(),eo=k({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:ME,cyclic:pR,flow:gR,flatgrid:BE,matrix:d0,execution:u0,menu:hR,special:a2}),name:"keying",active:{events:(o,s)=>o.handler.toEvents(o,s)},apis:{focusIn:(o,s,i)=>{s.sendFocusIn(s).fold(()=>{o.getSystem().triggerFocus(o.element,o.element)},l=>{l(o,s,i)})},setGridSize:(o,s,i,l,d)=>{(f=>Mo(f,"setGridSize"))(i)?i.setGridSize(l,d):console.error("Layout does not support setGridSize")}},state:YD}),i2=(o,s)=>{Ab(()=>{((i,l,d)=>{const f=i.components();(y=>{Ot(y.components(),_=>yc(_.element)),Qs(y.element),y.syncComponents()})(i);const p=d(l),b=Wo(f,p);Ot(b,y=>{dc(y),i.getSystem().removeFromWorld(y)}),Ot(p,y=>{Oc(y)?Hb(i,y):(i.getSystem().addToWorld(y),Hb(i,y),Qn(i.element)&&lu(y))}),i.syncComponents()})(o,s,()=>Qe(s,o.getSystem().build))},o.element)},l2=(o,s)=>{Ab(()=>{((i,l)=>{const d=i.components(),f=hn(l,y=>gb(y).toArray());Ot(d,y=>{Ce(f,y)||am(y)});const p=((y,_,A)=>nx(y,_,(w,O)=>D1(y,O,w,A)))(o.element,s,o.getSystem().buildOrPatch),b=Wo(d,p);Ot(b,y=>{Oc(y)&&am(y)}),Ot(p,y=>{Oc(y)||X1(i,y)}),i.syncComponents()})(o,s)},o.element)},IE=(o,s,i,l)=>{am(s);const d=D1(o.element,i,l,o.getSystem().buildOrPatch);X1(o,d),o.syncComponents()},c2=(o,s,i)=>{const l=o.getSystem().build(i);J1(o,l,s)},bR=(o,s,i,l)=>{Iu(s),c2(o,(d,f)=>((p,b,y)=>{ir(p,y).fold(()=>{ui(p,b)},_=>{di(_,b)})})(d,f,i),l)},$x=(o,s)=>o.components(),xh=(o,s,i,l,d)=>{const f=$x(o);return T.from(f[l]).map(p=>(d.fold(()=>Iu(p),b=>{(s.reuseDom?IE:bR)(o,p,l,b)}),p))};var kh=Object.freeze({__proto__:null,append:(o,s,i,l)=>{c2(o,ui,l)},prepend:(o,s,i,l)=>{c2(o,Om,l)},remove:(o,s,i,l)=>{const d=$x(o);V(d,p=>ln(l.element,p.element)).each(Iu)},replaceAt:xh,replaceBy:(o,s,i,l,d)=>{const f=$x(o);return la(f,l).bind(p=>xh(o,s,0,p,d))},set:(o,s,i,l)=>(s.reuseDom?l2:i2)(o,l),contents:$x});const So=cs({fields:[Zs("reuseDom",!0)],name:"replacing",apis:kh}),_o=(o,s)=>{const i=((l,d)=>{const f=tr(d);return cs({fields:[Ke("enabled")],name:l,active:{events:le(f)}})})(o,s);return{key:o,value:{config:{},me:i,configAsRaw:le({}),initialConfig:{},state:yl}}},PE=(o,s)=>{s.ignore||(Qa(o.element),s.onFocus(o))};var sg=Object.freeze({__proto__:null,focus:PE,blur:(o,s)=>{s.ignore||Kp(o.element)},isFocused:o=>Qf(o.element)}),lm=Object.freeze({__proto__:null,exhibit:(o,s)=>{const i=s.ignore?{}:{attributes:{tabindex:"-1"}};return bl(i)},events:o=>tr([je(wc(),(s,i)=>{PE(s,o),i.stop()})].concat(o.stopMousedown?[je(ge(),(s,i)=>{i.event.prevent()})]:[]))}),d2=[dn("onFocus"),Te("stopMousedown",!1),Te("ignore",!1)];const yo=cs({fields:d2,name:"focusing",active:lm,apis:sg}),f0=(o,s,i,l)=>{const d=i.get();i.set(l),((f,p,b)=>{p.toggleClass.each(y=>{b.get()?_t(f.element,y):Yt(f.element,y)})})(o,s,i),((f,p,b)=>{const y=p.aria;y.update(f,y,b.get())})(o,s,i),d!==l&&s.onToggled(o,l)},u2=(o,s,i)=>{f0(o,s,i,!i.get())},Yb=(o,s,i)=>{f0(o,s,i,s.selected)};var m0=Object.freeze({__proto__:null,onLoad:Yb,toggle:u2,isOn:(o,s,i)=>i.get(),on:(o,s,i)=>{f0(o,s,i,!0)},off:(o,s,i)=>{f0(o,s,i,!1)},set:f0}),f2=Object.freeze({__proto__:null,exhibit:()=>bl({}),events:(o,s)=>{const i=(l=o,d=s,f=u2,sc(b=>{f(b,l,d)}));var l,d,f;const p=Tu(o,s,Yb);return tr(Nn([o.toggleOnExecute?[i]:[],[p]]))}});const m2=(o,s,i)=>{po(o.element,"aria-expanded",i)};var p0=[Te("selected",!1),bn("toggleClass"),Te("toggleOnExecute",!0),dn("onToggled"),is("aria",{mode:"none"},ea("mode",{pressed:[Te("syncWithExpanded",!1),Br("update",(o,s,i)=>{po(o.element,"aria-pressed",i),s.syncWithExpanded&&m2(o,0,i)})],checked:[Br("update",(o,s,i)=>{po(o.element,"aria-checked",i)})],expanded:[Br("update",m2)],selected:[Br("update",(o,s,i)=>{po(o.element,"aria-selected",i)})],none:[Br("update",rt)]}))];const Ho=cs({fields:p0,name:"toggling",active:f2,apis:m0,state:(p2=!1,{init:()=>{const o=$t(p2);return{get:()=>o.get(),set:s=>o.set(s),clear:()=>o.set(p2),readState:()=>o.get()}}})});var p2;const jx=()=>{const o=(s,i)=>{i.stop(),Fi(s)};return[je(Cu(),o),je(Au(),o),Od(C()),Od(ge())]},_h=o=>tr(Nn([o.map(s=>sc((i,l)=>{s(i),l.stop()})).toArray(),jx()])),LE="alloy.item-hover",vf="alloy.item-focus",g2="alloy.item-toggled",Ux=o=>{(ei(o.element).isNone()||yo.isFocused(o))&&(yo.isFocused(o)||yo.focus(o),oo(o,LE,{item:o}))},wh=o=>{oo(o,vf,{item:o})},h2=le(LE),Zx=le(vf),yR=le(g2),FE=o=>o.role.fold(()=>o.toggling.map(s=>s.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),Tt),HE=[Ke("data"),Ke("components"),Ke("dom"),Te("hasSubmenu",!1),bn("toggling"),bn("role"),Ge("itemBehaviours",[Ho,yo,eo,X]),Te("ignoreFocus",!1),Te("domModification",{}),Br("builder",o=>({dom:o.dom,domModification:{...o.domModification,attributes:{role:FE(o),...o.domModification.attributes,"aria-haspopup":o.hasSubmenu,...o.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:et(o.itemBehaviours,[o.toggling.fold(Ho.revoke,s=>Ho.config(((i,l)=>({aria:{mode:l?"selected":"checked"},...Fn(i,(d,f)=>f!=="exclusive"),onToggled:(d,f)=>{Ut(i.onToggled)&&i.onToggled(d,f),((p,b)=>{oo(p,g2,{item:p,state:b})})(d,f)}}))(s,o.role.exists(i=>i==="option")))),yo.config({ignore:o.ignoreFocus,stopMousedown:o.ignoreFocus,onFocus:s=>{wh(s)}}),eo.config({mode:"execution"}),X.config({store:{mode:"memory",initialValue:o.data}}),_o("item-type-events",[...jx(),je(bo(),Ux),je(Kc(),yo.focus)])]),components:o.components,eventOrder:o.eventOrder})),Te("eventOrder",{})],vR=[Ke("dom"),Ke("components"),Br("builder",o=>({dom:o.dom,components:o.components,events:tr([lb(Kc())])}))],g0=le("item-widget"),Fu=le([ti({name:"widget",overrides:o=>({behaviours:it([X.config({store:{mode:"manual",getValue:s=>o.data,setValue:rt}})])})})]),xR=[Ke("uid"),Ke("data"),Ke("components"),Ke("dom"),Te("autofocus",!1),Te("ignoreFocus",!1),Ge("widgetBehaviours",[X,yo,eo]),Te("domModification",{}),o0(Fu()),Br("builder",o=>{const s=Uw(g0(),o,Fu()),i=Zw(g0(),o,s.internals()),l=f=>Ar(f,o,"widget").map(p=>(eo.focusIn(p),p)),d=(f,p)=>(Wb(p.event.target)||o.autofocus&&p.setSource(f.element),T.none());return{dom:o.dom,components:i,domModification:o.domModification,events:tr([sc((f,p)=>{l(f).each(b=>{p.stop()})}),je(bo(),Ux),je(Kc(),(f,p)=>{o.autofocus?l(f):yo.focus(f)})]),behaviours:et(o.widgetBehaviours,[X.config({store:{mode:"memory",initialValue:o.data}}),yo.config({ignore:o.ignoreFocus,onFocus:f=>{wh(f)}}),eo.config({mode:"special",focusIn:o.autofocus?f=>{l(f)}:z(),onLeft:d,onRight:d,onEscape:(f,p)=>yo.isFocused(f)||o.autofocus?(o.autofocus&&p.setSource(f.element),T.none()):(yo.focus(f),T.some(!0))})])}})],kR=ea("type",{widget:xR,item:HE,separator:vR}),VE=le([Cx({factory:{sketch:o=>{const s=Ga("menu.spec item",kR,o);return s.builder(s)}},name:"items",unit:"item",defaults:(o,s)=>io(s,"uid")?s:{...s,uid:Yf("item")},overrides:(o,s)=>({type:s.type,ignoreFocus:o.fakeFocus,domModification:{classes:[o.markers.item]}})})]),$E=le([er("role"),Ke("value"),Ke("items"),Ke("dom"),Ke("components"),Te("eventOrder",{}),we("menuBehaviours",[Gn,X,wn,eo]),is("movement",{mode:"menu",moveOnTab:!0},ea("mode",{grid:[mb(),Br("config",(o,s)=>({mode:"flatgrid",selector:"."+o.markers.item,initSize:{numColumns:s.initSize.numColumns,numRows:s.initSize.numRows},focusManager:o.focusManager}))],matrix:[Br("config",(o,s)=>({mode:"matrix",selectors:{row:s.rowSelector,cell:"."+o.markers.item},previousSelector:s.previousSelector,focusManager:o.focusManager})),Ke("rowSelector"),Te("previousSelector",T.none)],menu:[Te("moveOnTab",!0),Br("config",(o,s)=>({mode:"menu",selector:"."+o.markers.item,moveOnTab:s.moveOnTab,focusManager:o.focusManager}))]})),oa("markers",fb()),Te("fakeFocus",!1),Te("focusManager",t2()),dn("onHighlight"),dn("onDehighlight"),Te("showMenuRole",!0)]),b2=le("alloy.menu-focus"),Ch=jl({name:"Menu",configFields:$E(),partFields:VE(),factory:(o,s,i,l)=>({uid:o.uid,dom:o.dom,markers:o.markers,behaviours:Ie(o.menuBehaviours,[Gn.config({highlightClass:o.markers.selectedItem,itemClass:o.markers.item,onHighlight:o.onHighlight,onDehighlight:o.onDehighlight}),X.config({store:{mode:"memory",initialValue:o.value}}),wn.config({find:T.some}),eo.config(o.movement.config(o,o.movement))]),events:tr([je(Zx(),(d,f)=>{const p=f.event;d.getSystem().getByDom(p.target).each(b=>{Gn.highlight(d,b),f.stop(),oo(d,b2(),{menu:d,item:b})})}),je(h2(),(d,f)=>{const p=f.event.item;Gn.highlight(d,p)}),je(yR(),(d,f)=>{const{item:p,state:b}=f.event;b&&as(p.element,"role")==="menuitemradio"&&((y,_)=>{const A=bi(y.element,'[role="menuitemradio"][aria-checked="true"]');Ot(A,w=>{ln(w,_.element)||y.getSystem().getByDom(w).each(O=>{Ho.off(O)})})})(d,p)})]),components:s,eventOrder:o.eventOrder,...o.showMenuRole?{domModification:{attributes:{role:o.role.getOr("menu")}}}:{}})}),jE=(o,s,i,l)=>mt(i,l).bind(d=>mt(o,d).bind(f=>{const p=jE(o,s,i,f);return T.some([f].concat(p))})).getOr([]),Bd=o=>o.type==="prepared"?T.some(o.menu):T.none(),Xb=()=>{const o=$t({}),s=$t({}),i=$t({}),l=sn(),d=$t({}),f=y=>p(y).bind(Bd),p=y=>mt(s.get(),y),b=y=>mt(o.get(),y);return{setMenuBuilt:(y,_)=>{s.set({...s.get(),[y]:{type:"prepared",menu:_}})},setContents:(y,_,A,w)=>{l.set(y),o.set(A),s.set(_),d.set(w);const O=((I,F)=>{const K={};Jn(I,(Z,ne)=>{Ot(Z,se=>{K[se]=ne})});const Q=F,oe=Mn(F,(Z,ne)=>({k:Z,v:ne})),W=Tn(oe,(Z,ne)=>[ne].concat(jE(K,Q,oe,ne)));return Tn(K,Z=>mt(W,Z).getOr([Z]))})(w,A);i.set(O)},expand:y=>mt(o.get(),y).map(_=>{const A=mt(i.get(),y).getOr([]);return[_].concat(A)}),refresh:y=>mt(i.get(),y),collapse:y=>mt(i.get(),y).bind(_=>_.length>1?T.some(_.slice(1)):T.none()),lookupMenu:p,lookupItem:b,otherMenus:y=>{const _=d.get();return Wo(Fo(_),y)},getPrimary:()=>l.get().bind(f),getMenus:()=>s.get(),clear:()=>{o.set({}),s.set({}),i.set({}),l.clear()},isClear:()=>l.get().isNone(),getTriggeringPath:(y,_)=>{const A=gn(b(y).toArray(),w=>f(w).isSome());return mt(i.get(),y).bind(w=>{const O=Al(A.concat(w));return(I=>{const F=[];for(let K=0;K<I.length;K++){const Q=I[K];if(!Q.isSome())return T.none();F.push(Q.getOrDie())}return T.some(F)})(hn(O,(I,F)=>((K,Q,oe)=>f(K).bind(W=>(Z=>jo(o.get(),(ne,se)=>ne===Z))(K).bind(Z=>Q(Z).map(ne=>({triggeredMenu:W,triggeringItem:ne,triggeringPath:oe})))))(I,_,O.slice(0,F+1)).fold(()=>Rs(l.get(),I)?[]:[T.none()],K=>[T.some(K)])))})}}},UE=Bd,Sh=Ft("tiered-menu-item-highlight"),uc=Ft("tiered-menu-item-dehighlight");var zs;(function(o){o[o.HighlightMenuAndItem=0]="HighlightMenuAndItem",o[o.HighlightJustMenu=1]="HighlightJustMenu",o[o.HighlightNone=2]="HighlightNone"})(zs||(zs={}));const Zl=le("collapse-item"),Wl=rd({name:"TieredMenu",configFields:[Qg("onExecute"),Qg("onEscape"),Pm("onOpenMenu"),Pm("onOpenSubmenu"),dn("onRepositionMenu"),dn("onCollapseMenu"),Te("highlightOnOpen",zs.HighlightMenuAndItem),Li("data",[Ke("primary"),Ke("menus"),Ke("expansions")]),Te("fakeFocus",!1),dn("onHighlightItem"),dn("onDehighlightItem"),dn("onHover"),E1(),Ke("dom"),Te("navigateOnHover",!0),Te("stayInDom",!1),we("tmenuBehaviours",[eo,Gn,wn,So]),Te("eventOrder",{})],apis:{collapseMenu:(o,s)=>{o.collapseMenu(s)},highlightPrimary:(o,s)=>{o.highlightPrimary(s)},repositionMenus:(o,s)=>{o.repositionMenus(s)}},factory:(o,s)=>{const i=sn(),l=Xb(),d=Z=>X.getValue(Z).value,f=Z=>Tn(o.data.menus,(ne,se)=>hn(ne.items,re=>re.type==="separator"?[]:[re.data.value])),p=Gn.highlight,b=(Z,ne)=>{p(Z,ne),Gn.getHighlighted(ne).orThunk(()=>Gn.getFirst(ne)).each(se=>{o.fakeFocus?Gn.highlight(ne,se):Qd(Z,se.element,Kc())})},y=(Z,ne)=>$a(Qe(ne,se=>Z.lookupMenu(se).bind(re=>re.type==="prepared"?T.some(re.menu):T.none()))),_=(Z,ne,se)=>{const re=y(ne,ne.otherMenus(se));Ot(re,ye=>{Wn(ye.element,[o.markers.backgroundMenu]),o.stayInDom||So.remove(Z,ye)})},A=(Z,ne)=>{const se=(re=>i.get().getOrThunk(()=>{const ye={},Ae=bi(re.element,`.${o.markers.item}`),Ue=gn(Ae,Fe=>as(Fe,"aria-haspopup")==="true");return Ot(Ue,Fe=>{re.getSystem().getByDom(Fe).each(qe=>{const nt=d(qe);ye[nt]=qe})}),i.set(ye),ye}))(Z);Jn(se,(re,ye)=>{const Ae=Ce(ne,ye);po(re.element,"aria-expanded",Ae)})},w=(Z,ne,se)=>T.from(se[0]).bind(re=>ne.lookupMenu(re).bind(ye=>{if(ye.type==="notbuilt")return T.none();{const Ae=ye.menu,Ue=y(ne,se.slice(1));return Ot(Ue,Fe=>{_t(Fe.element,o.markers.backgroundMenu)}),Qn(Ae.element)||So.append(Z,Vi(Ae)),Wn(Ae.element,[o.markers.backgroundMenu]),b(Z,Ae),_(Z,ne,se),T.some(Ae)}}));let O;(function(Z){Z[Z.HighlightSubmenu=0]="HighlightSubmenu",Z[Z.HighlightParent=1]="HighlightParent"})(O||(O={}));const I=(Z,ne,se=O.HighlightSubmenu)=>{if(ne.hasConfigured(Jt)&&Jt.isDisabled(ne))return T.some(ne);{const re=d(ne);return l.expand(re).bind(ye=>(A(Z,ye),T.from(ye[0]).bind(Ae=>l.lookupMenu(Ae).bind(Ue=>{const Fe=((qe,nt,Mt)=>{if(Mt.type==="notbuilt"){const Xt=qe.getSystem().build(Mt.nbMenu());return l.setMenuBuilt(nt,Xt),Xt}return Mt.menu})(Z,Ae,Ue);return Qn(Fe.element)||So.append(Z,Vi(Fe)),o.onOpenSubmenu(Z,ne,Fe,Al(ye)),se===O.HighlightSubmenu?(Gn.highlightFirst(Fe),w(Z,l,ye)):(Gn.dehighlightAll(Fe),T.some(ne))}))))}},F=(Z,ne)=>{const se=d(ne);return l.collapse(se).bind(re=>(A(Z,re),w(Z,l,re).map(ye=>(o.onCollapseMenu(Z,ne,ye),ye))))},K=Z=>(ne,se)=>qn(se.getSource(),`.${o.markers.item}`).bind(re=>ne.getSystem().getByDom(re).toOptional().bind(ye=>Z(ne,ye).map(It))),Q=tr([je(b2(),(Z,ne)=>{const se=ne.event.item;l.lookupItem(d(se)).each(()=>{const re=ne.event.menu;Gn.highlight(Z,re);const ye=d(ne.event.item);l.refresh(ye).each(Ae=>_(Z,l,Ae))})}),sc((Z,ne)=>{const se=ne.event.target;Z.getSystem().getByDom(se).each(re=>{d(re).indexOf("collapse-item")===0&&F(Z,re),I(Z,re,O.HighlightSubmenu).fold(()=>{o.onExecute(Z,re)},rt)})}),Mr((Z,ne)=>{(se=>{const re=((Ae,Ue,Fe)=>Tn(Fe,(qe,nt)=>{const Mt=()=>Ch.sketch({...qe,value:nt,markers:o.markers,fakeFocus:o.fakeFocus,onHighlight:(Xt,uo)=>{oo(Xt,Sh,{menuComp:Xt,itemComp:uo})},onDehighlight:(Xt,uo)=>{oo(Xt,uc,{menuComp:Xt,itemComp:uo})},focusManager:o.fakeFocus?o2():t2()});return nt===Ue?{type:"prepared",menu:Ae.getSystem().build(Mt())}:{type:"notbuilt",nbMenu:Mt}}))(se,o.data.primary,o.data.menus),ye=f();return l.setContents(o.data.primary,re,o.data.expansions,ye),l.getPrimary()})(Z).each(se=>{So.append(Z,Vi(se)),o.onOpenMenu(Z,se),o.highlightOnOpen===zs.HighlightMenuAndItem?b(Z,se):o.highlightOnOpen===zs.HighlightJustMenu&&p(Z,se)})}),je(Sh,(Z,ne)=>{o.onHighlightItem(Z,ne.event.menuComp,ne.event.itemComp)}),je(uc,(Z,ne)=>{o.onDehighlightItem(Z,ne.event.menuComp,ne.event.itemComp)}),...o.navigateOnHover?[je(h2(),(Z,ne)=>{const se=ne.event.item;((re,ye)=>{const Ae=d(ye);l.refresh(Ae).bind(Ue=>(A(re,Ue),w(re,l,Ue)))})(Z,se),I(Z,se,O.HighlightParent),o.onHover(Z,se)})]:[]]),oe=Z=>Gn.getHighlighted(Z).bind(Gn.getHighlighted),W={collapseMenu:Z=>{oe(Z).each(ne=>{F(Z,ne)})},highlightPrimary:Z=>{l.getPrimary().each(ne=>{b(Z,ne)})},repositionMenus:Z=>{l.getPrimary().bind(se=>oe(Z).bind(re=>{const ye=d(re),Ae=Ds(l.getMenus()),Ue=$a(Qe(Ae,UE));return l.getTriggeringPath(ye,Fe=>((qe,nt,Mt)=>mo(nt,Xt=>{if(!Xt.getSystem().isConnected())return T.none();const uo=Gn.getCandidates(Xt);return V(uo,No=>d(No)===Mt)}))(0,Ue,Fe))}).map(re=>({primary:se,triggeringPath:re}))).fold(()=>{(se=>T.from(se.components()[0]).filter(re=>as(re.element,"role")==="menu"))(Z).each(se=>{o.onRepositionMenu(Z,se,[])})},({primary:se,triggeringPath:re})=>{o.onRepositionMenu(Z,se,re)})}};return{uid:o.uid,dom:o.dom,markers:o.markers,behaviours:Ie(o.tmenuBehaviours,[eo.config({mode:"special",onRight:K((Z,ne)=>Wb(ne.element)?T.none():I(Z,ne,O.HighlightSubmenu)),onLeft:K((Z,ne)=>Wb(ne.element)?T.none():F(Z,ne)),onEscape:K((Z,ne)=>F(Z,ne).orThunk(()=>o.onEscape(Z,ne).map(()=>Z))),focusIn:(Z,ne)=>{l.getPrimary().each(se=>{Qd(Z,se.element,Kc())})}}),Gn.config({highlightClass:o.markers.selectedMenu,itemClass:o.markers.menu}),wn.config({find:Z=>Gn.getHighlighted(Z)}),So.config({})]),eventOrder:o.eventOrder,apis:W,events:Q}},extraApis:{tieredData:(o,s,i)=>({primary:o,menus:s,expansions:i}),singleData:(o,s)=>({primary:o,menus:na(o,s),expansions:{}}),collapseItem:o=>({value:Ft(Zl()),meta:{text:o}})}}),fs=rd({name:"InlineView",configFields:[Ke("lazySink"),dn("onShow"),dn("onHide"),Ya("onEscape"),we("inlineBehaviours",[vn,X,xl]),fi("fireDismissalEventInstead",[Te("event",gi())]),fi("fireRepositionEventInstead",[Te("event",rf())]),Te("getRelated",T.none),Te("isExtraPart",Le),Te("eventOrder",T.none)],factory:(o,s)=>{const i=(p,b,y,_)=>{const A=o.lazySink(p).getOrDie();vn.openWhileCloaked(p,b,()=>Ha.positionWithinBounds(A,p,y,_())),X.setValue(p,T.some({mode:"position",config:y,getBounds:_}))},l=(p,b,y,_)=>{const A=((w,O,I,F,K)=>{const Q=()=>w.lazySink(O),oe=F.type==="horizontal"?{layouts:{onLtr:()=>Sb(),onRtl:()=>Eb()}}:{},W=Z=>(ne=>ne.length===2)(Z)?oe:{};return Wl.sketch({dom:{tag:"div"},data:F.data,markers:F.menu.markers,highlightOnOpen:F.menu.highlightOnOpen,fakeFocus:F.menu.fakeFocus,onEscape:()=>(vn.close(O),w.onEscape.map(Z=>Z(O)),T.some(!0)),onExecute:()=>T.some(!0),onOpenMenu:(Z,ne)=>{Ha.positionWithinBounds(Q().getOrDie(),ne,I,K())},onOpenSubmenu:(Z,ne,se,re)=>{const ye=Q().getOrDie();Ha.position(ye,se,{anchor:{type:"submenu",item:ne,...W(re)}})},onRepositionMenu:(Z,ne,se)=>{const re=Q().getOrDie();Ha.positionWithinBounds(re,ne,I,K()),Ot(se,ye=>{const Ae=W(ye.triggeringPath);Ha.position(re,ye.triggeredMenu,{anchor:{type:"submenu",item:ye.triggeringItem,...Ae}})})}})})(o,p,b,y,_);vn.open(p,A),X.setValue(p,T.some({mode:"menu",menu:A}))},d=p=>{vn.isOpen(p)&&X.getValue(p).each(b=>{switch(b.mode){case"menu":vn.getState(p).each(Wl.repositionMenus);break;case"position":const y=o.lazySink(p).getOrDie();Ha.positionWithinBounds(y,p,b.config,b.getBounds())}})},f={setContent:(p,b)=>{vn.setContent(p,b)},showAt:(p,b,y)=>{const _=T.none;i(p,b,y,_)},showWithinBounds:i,showMenuAt:(p,b,y)=>{l(p,b,y,T.none)},showMenuWithinBounds:l,hide:p=>{vn.isOpen(p)&&(X.setValue(p,T.none()),vn.close(p))},getContent:p=>vn.getState(p),reposition:d,isOpen:vn.isOpen};return{uid:o.uid,dom:o.dom,behaviours:Ie(o.inlineBehaviours,[vn.config({isPartOf:(p,b,y)=>Zm(b,y)||((_,A)=>o.getRelated(_).exists(w=>Zm(w,A)))(p,y),getAttachPoint:p=>o.lazySink(p).getOrDie(),onOpen:p=>{o.onShow(p)},onClose:p=>{o.onHide(p)}}),X.config({store:{mode:"memory",initialValue:T.none()}}),xl.config({channels:{...jb({isExtraPart:s.isExtraPart,...o.fireDismissalEventInstead.map(p=>({fireEventInstead:{event:p.event}})).getOr({})}),...m({...o.fireRepositionEventInstead.map(p=>({fireEventInstead:{event:p.event}})).getOr({}),doReposition:d})}})]),eventOrder:o.eventOrder,apis:f}},apis:{showAt:(o,s,i,l)=>{o.showAt(s,i,l)},showWithinBounds:(o,s,i,l,d)=>{o.showWithinBounds(s,i,l,d)},showMenuAt:(o,s,i,l)=>{o.showMenuAt(s,i,l)},showMenuWithinBounds:(o,s,i,l,d)=>{o.showMenuWithinBounds(s,i,l,d)},hide:(o,s)=>{o.hide(s)},isOpen:(o,s)=>o.isOpen(s),getContent:(o,s)=>o.getContent(s),setContent:(o,s,i)=>{o.setContent(s,i)},reposition:(o,s)=>{o.reposition(s)}}});var Va,xf,Wx=tinymce.util.Tools.resolve("tinymce.util.Delay"),h0=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),_R=tinymce.util.Tools.resolve("tinymce.EditorManager"),Eh=tinymce.util.Tools.resolve("tinymce.Env");(function(o){o.default="wrap",o.floating="floating",o.sliding="sliding",o.scrolling="scrolling"})(Va||(Va={})),function(o){o.auto="auto",o.top="top",o.bottom="bottom"}(xf||(xf={}));const vr=o=>s=>s.options.get(o),ag=o=>s=>T.from(o(s)),y2=o=>{const s=Eh.deviceType.isPhone(),i=Eh.deviceType.isTablet()||s,l=o.options.register,d=p=>xo(p)||p===!1,f=p=>xo(p)||Lo(p);l("skin",{processor:p=>xo(p)||p===!1,default:"oxide"}),l("skin_url",{processor:"string"}),l("height",{processor:f,default:Math.max(o.getElement().offsetHeight,400)}),l("width",{processor:f,default:h0.DOM.getStyle(o.getElement(),"width")}),l("min_height",{processor:"number",default:100}),l("min_width",{processor:"number"}),l("max_height",{processor:"number"}),l("max_width",{processor:"number"}),l("style_formats",{processor:"object[]"}),l("style_formats_merge",{processor:"boolean",default:!1}),l("style_formats_autohide",{processor:"boolean",default:!1}),l("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),l("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),l("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),l("font_size_input_default_unit",{processor:"string",default:"pt"}),l("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),l("content_langs",{processor:"object[]"}),l("removed_menuitems",{processor:"string",default:""}),l("menubar",{processor:p=>xo(p)||Un(p),default:!s}),l("menu",{processor:"object",default:{}}),l("toolbar",{processor:p=>Un(p)||xo(p)||Po(p)?{value:p,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),tn(9,p=>{l("toolbar"+(p+1),{processor:"string"})}),l("toolbar_mode",{processor:"string",default:i?"scrolling":"floating"}),l("toolbar_groups",{processor:"object",default:{}}),l("toolbar_location",{processor:"string",default:xf.auto}),l("toolbar_persist",{processor:"boolean",default:!1}),l("toolbar_sticky",{processor:"boolean",default:o.inline}),l("toolbar_sticky_offset",{processor:"number",default:0}),l("fixed_toolbar_container",{processor:"string",default:""}),l("fixed_toolbar_container_target",{processor:"object"}),l("ui_mode",{processor:"string",default:"combined"}),l("file_picker_callback",{processor:"function"}),l("file_picker_validator_handler",{processor:"function"}),l("file_picker_types",{processor:"string"}),l("typeahead_urls",{processor:"boolean",default:!0}),l("anchor_top",{processor:d,default:"#top"}),l("anchor_bottom",{processor:d,default:"#bottom"}),l("draggable_modal",{processor:"boolean",default:!1}),l("statusbar",{processor:"boolean",default:!0}),l("elementpath",{processor:"boolean",default:!0}),l("branding",{processor:"boolean",default:!0}),l("promotion",{processor:"boolean",default:!0}),l("resize",{processor:p=>p==="both"||Un(p),default:!Eh.deviceType.isTouch()}),l("sidebar_show",{processor:"string"}),l("help_accessibility",{processor:"boolean",default:o.hasPlugin("help")}),l("default_font_stack",{processor:"string[]",default:[]})},ZE=vr("readonly"),qx=vr("disabled"),v2=vr("height"),x2=vr("width"),Gx=ag(vr("min_width")),Kx=ag(vr("min_height")),Jb=ag(vr("max_width")),Yx=ag(vr("max_height")),WE=ag(vr("style_formats")),qE=vr("style_formats_merge"),GE=vr("style_formats_autohide"),KE=vr("content_langs"),YE=vr("removed_menuitems"),Qb=vr("toolbar_mode"),Id=vr("toolbar_groups"),XE=vr("toolbar_location"),Xx=vr("fixed_toolbar_container"),Ah=vr("fixed_toolbar_container_target"),Jx=vr("toolbar_persist"),Qx=vr("toolbar_sticky_offset"),JE=vr("menubar"),ek=vr("toolbar"),QE=vr("file_picker_callback"),eA=vr("file_picker_validator_handler"),k2=vr("font_size_input_default_unit"),zh=vr("file_picker_types"),ey=vr("typeahead_urls"),tA=vr("anchor_top"),oA=vr("anchor_bottom"),_2=vr("draggable_modal"),tk=vr("statusbar"),ok=vr("elementpath"),b0=vr("branding"),y0=vr("resize"),nk=vr("paste_as_text"),w2=vr("sidebar_show"),ty=vr("promotion"),rk=vr("help_accessibility"),nA=vr("default_font_stack"),C2=vr("skin"),S2=o=>o.options.get("skin")===!1,v0=o=>o.options.get("menubar")!==!1,sk=o=>{const s=o.options.get("skin_url");if(S2(o))return s;if(s)return o.documentBaseURI.toAbsolute(s);{const i=o.options.get("skin");return _R.baseURL+"/skins/ui/"+i}},Th=o=>o.options.get("line_height_formats").split(" "),oy=o=>{const s=ek(o),i=xo(s),l=Po(s)&&s.length>0;return!x0(o)&&(l||i||s===!0)},E2=o=>{const s=tn(9,l=>o.options.get("toolbar"+(l+1))),i=gn(s,xo);return To(i.length>0,i)},x0=o=>E2(o).fold(()=>{const s=ek(o);return sr(s,xo)&&s.length>0},It),ak=o=>XE(o)===xf.bottom,dp=o=>{var s;if(!o.inline)return T.none();const i=(s=Xx(o))!==null&&s!==void 0?s:"";if(i.length>0)return Pr(fa(),i);const l=Ah(o);return Bt(l)?T.some(St(l)):T.none()},ig=o=>o.inline&&dp(o).isSome(),k0=o=>dp(o).getOrThunk(()=>gr(ss(St(o.getElement())))),ny=o=>o.inline&&!v0(o)&&!oy(o)&&!x0(o),Oh=o=>(o.options.get("toolbar_sticky")||o.inline)&&!ig(o)&&!ny(o),kf=o=>!ig(o)&&o.options.get("ui_mode")==="split",ik=o=>{const s=o.options.get("menu");return Tn(s,i=>({...i,items:i.items}))};var wR=Object.freeze({__proto__:null,get ToolbarMode(){return Va},get ToolbarLocation(){return xf},register:y2,getSkinUrl:sk,getSkinUrlOption:o=>T.from(o.options.get("skin_url")),isReadOnly:ZE,isDisabled:qx,getSkin:C2,isSkinDisabled:S2,getHeightOption:v2,getWidthOption:x2,getMinWidthOption:Gx,getMinHeightOption:Kx,getMaxWidthOption:Jb,getMaxHeightOption:Yx,getUserStyleFormats:WE,shouldMergeStyleFormats:qE,shouldAutoHideStyleFormats:GE,getLineHeightFormats:Th,getContentLanguages:KE,getRemovedMenuItems:YE,isMenubarEnabled:v0,isMultipleToolbars:x0,isToolbarEnabled:oy,isToolbarPersist:Jx,getMultipleToolbarsOption:E2,getUiContainer:k0,useFixedContainer:ig,isSplitUiMode:kf,getToolbarMode:Qb,isDraggableModal:_2,isDistractionFree:ny,isStickyToolbar:Oh,getStickyToolbarOffset:Qx,getToolbarLocation:XE,isToolbarLocationBottom:ak,getToolbarGroups:Id,getMenus:ik,getMenubar:JE,getToolbar:ek,getFilePickerCallback:QE,getFilePickerTypes:zh,useTypeaheadUrls:ey,getAnchorTop:tA,getAnchorBottom:oA,getFilePickerValidatorHandler:eA,getFontSizeInputDefaultUnit:k2,useStatusBar:tk,useElementPath:ok,promotionEnabled:ty,useBranding:b0,getResize:y0,getPasteAsText:nk,getSidebarShow:w2,useHelpAccessibility:rk,getDefaultFontStack:nA});const CR=["visible","hidden","clip"],_f=o=>_i(o).length>0&&!Ce(CR,o),rA=o=>{if(ri(o)){const s=Ns(o,"overflow-x"),i=Ns(o,"overflow-y");return _f(s)||_f(i)}return!1},sA=o=>o.plugins.fullscreen&&o.plugins.fullscreen.isFullscreen(),rl=(o,s)=>kf(o)?((i,l)=>{const d=mh(l,rA),f=d.length===0?Ci(l).map(ts).map(p=>mh(p,rA)).getOr([]):d;return st(f).map(p=>({element:p,others:f.slice(1),isFullscreen:()=>sA(i)}))})(o,s):T.none(),sa=o=>{const s=[...Qe(o.others,js),Bs()];return o.isFullscreen()?Bs():((i,l)=>Co(l,(d,f)=>Us(d,f),i))(js(o.element),s)},qi=rd({name:"Button",factory:o=>{const s=_h(o.action),i=o.dom.tag,l=d=>mt(o.dom,"attributes").bind(f=>mt(f,d));return{uid:o.uid,dom:o.dom,components:o.components,events:s,behaviours:et(o.buttonBehaviours,[yo.config({}),eo.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:i==="button"?{type:l("type").getOr("button"),...l("role").map(d=>({role:d})).getOr({})}:{role:o.role.getOr(l("role").getOr("button"))}},eventOrder:o.eventOrder}},configFields:[Te("uid",void 0),Ke("dom"),Te("components",[]),Ge("buttonBehaviours",[yo,eo]),bn("action"),bn("role"),Te("eventOrder",{})]}),wf=o=>{const s=Oa(o),i=pr(s),l=(p=>{const b=p.dom.attributes!==void 0?p.dom.attributes:[];return Co(b,(y,_)=>_.name==="class"?y:{...y,[_.name]:_.value},{})})(s),d=(p=>Array.prototype.slice.call(p.dom.classList,0))(s),f=i.length===0?{}:{innerHtml:Xg(s)};return{tag:da(s),classes:d,attributes:l,...f}},Kn=o=>{const s=(i=>i.uid!==void 0)(o)&&Mo(o,"uid")?o.uid:Yf("memento");return{get:i=>i.getSystem().getByUid(s).getOrDie(),getOpt:i=>i.getSystem().getByUid(s).toOptional(),asSpec:()=>({...o,uid:s})}};var aA=Object.freeze({__proto__:null,exhibit:(o,s)=>bl({attributes:Ml([{key:s.tabAttr,value:"true"}])})}),A2=[Te("tabAttr","data-alloy-tabstop")];const cr=cs({fields:A2,name:"tabstopping",active:aA}),z2=Ft("tooltip.exclusive"),ry=Ft("tooltip.show"),_0=Ft("tooltip.hide"),w0=Ft("tooltip.immediateHide"),sy=Ft("tooltip.immediateShow"),T2=(o,s,i)=>{o.getSystem().broadcastOn([z2],{})};var SR=Object.freeze({__proto__:null,hideAllExclusive:T2,immediateOpenClose:(o,s,i,l)=>Xo(o,l?sy:w0),isEnabled:(o,s,i)=>i.isEnabled(),setComponents:(o,s,i,l)=>{i.getTooltip().each(d=>{d.getSystem().isConnected()&&So.set(d,l)})},setEnabled:(o,s,i,l)=>i.setEnabled(l)}),ER=Object.freeze({__proto__:null,events:(o,s)=>{const i=f=>{s.getTooltip().each(p=>{p.getSystem().isConnected()&&(Iu(p),o.onHide(f,p),s.clearTooltip())}),s.clearTimer()},l=f=>{if(!s.isShowing()&&s.isEnabled()){T2(f);const p=o.lazySink(f).getOrDie(),b=f.getSystem().build({dom:o.tooltipDom,components:o.tooltipComponents,events:tr(o.mode==="normal"?[je(bo(),y=>{Xo(f,ry)}),je(no(),y=>{Xo(f,_0)})]:[]),behaviours:it([So.config({})])});s.setTooltip(b),gf(p,b),o.onShow(f,b),Ha.position(p,b,{anchor:o.anchor(f)})}},d=f=>{s.getTooltip().each(p=>{const b=o.lazySink(f).getOrDie();Ha.position(b,p,{anchor:o.anchor(f)})})};return tr(Nn([[cb(f=>{o.onSetup(f)}),je(ry,f=>{s.resetTimer(()=>{l(f)},o.delayForShow())}),je(_0,f=>{s.resetTimer(()=>{i(f)},o.delayForHide())}),je(sy,f=>{s.resetTimer(()=>{l(f)},0)}),je(w0,f=>{s.resetTimer(()=>{i(f)},0)}),je(Gc(),(f,p)=>{const b=p;b.universal||Ce(b.channels,z2)&&i(f)}),Dd(f=>{i(f)})],(()=>{switch(o.mode){case"normal":return[je(Kt(),f=>{Xo(f,sy)}),je(Fs(),f=>{Xo(f,w0)}),je(bo(),f=>{Xo(f,ry)}),je(no(),f=>{Xo(f,_0)})];case"follow-highlight":return[je(Gf(),(f,p)=>{Xo(f,ry)}),je(bt(),f=>{Xo(f,_0)})];case"children-normal":return[je(Kt(),(f,p)=>{ei(f.element).each(b=>{si(p.event.target,"[data-mce-tooltip]")&&s.getTooltip().fold(()=>{Xo(f,sy)},y=>{s.isShowing()&&(o.onShow(f,y),d(f))})})}),je(Fs(),f=>{ei(f.element).fold(()=>{Xo(f,w0)},rt)}),je(bo(),f=>{Pr(f.element,"[data-mce-tooltip]:hover").each(p=>{s.getTooltip().fold(()=>{Xo(f,ry)},b=>{s.isShowing()&&(o.onShow(f,b),d(f))})})}),je(no(),f=>{Pr(f.element,"[data-mce-tooltip]:hover").fold(()=>{Xo(f,_0)},rt)})];default:return[je(Kt(),(f,p)=>{ei(f.element).each(b=>{si(p.event.target,"[data-mce-tooltip]")&&s.getTooltip().fold(()=>{Xo(f,sy)},y=>{s.isShowing()&&(o.onShow(f,y),d(f))})})}),je(Fs(),f=>{ei(f.element).fold(()=>{Xo(f,w0)},rt)})]}})()]))}}),iA=[Ke("lazySink"),Ke("tooltipDom"),Te("exclusive",!0),Te("tooltipComponents",[]),br("delayForShow",le(300)),br("delayForHide",le(100)),br("onSetup",rt),lr("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),Te("anchor",o=>({type:"hotspot",hotspot:o,layouts:{onLtr:le([xs,As,Hs,hi,qs,Sa]),onRtl:le([xs,As,Hs,hi,qs,Sa])},bubble:Ui(0,-2,{})})),dn("onHide"),dn("onShow")],lA=Object.freeze({__proto__:null,init:()=>{const o=$t(!0),s=sn(),i=sn(),l=()=>{s.on(clearTimeout)},d=le("not-implemented");return yr({getTooltip:i.get,isShowing:i.isSet,setTooltip:i.set,clearTooltip:i.clear,clearTimer:l,resetTimer:(f,p)=>{l(),s.set(setTimeout(f,p))},readState:d,isEnabled:()=>o.get(),setEnabled:f=>o.set(f)})}});const ys=cs({fields:iA,name:"tooltipping",active:ER,state:lA,apis:SR}),{entries:O2,setPrototypeOf:C0,isFrozen:cA,getPrototypeOf:Dh,getOwnPropertyDescriptor:S0}=Object;/*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE */let{freeze:ad,seal:Hu,create:dA}=Object,{apply:D2,construct:lk}=typeof Reflect<"u"&&Reflect;ad||(ad=function(o){return o}),Hu||(Hu=function(o){return o}),D2||(D2=function(o,s,i){return o.apply(s,i)}),lk||(lk=function(o,s){return new o(...s)});const ck=id(Array.prototype.forEach),uA=id(Array.prototype.lastIndexOf),fA=id(Array.prototype.pop),E0=id(Array.prototype.push),mA=id(Array.prototype.splice),lg=id(String.prototype.toLowerCase),dk=id(String.prototype.toString),R2=id(String.prototype.match),ay=id(String.prototype.replace),pA=id(String.prototype.indexOf),N2=id(String.prototype.trim),Cf=id(Object.prototype.hasOwnProperty),Pd=id(RegExp.prototype.test),iy=(uk=TypeError,function(){for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];return lk(uk,s)});var uk;function id(o){return function(s){for(var i=arguments.length,l=new Array(i>1?i-1:0),d=1;d<i;d++)l[d-1]=arguments[d];return D2(o,s,l)}}function Gr(o,s){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:lg;C0&&C0(o,null);let l=s.length;for(;l--;){let d=s[l];if(typeof d=="string"){const f=i(d);f!==d&&(cA(s)||(s[l]=f),d=f)}o[d]=!0}return o}function AR(o){for(let s=0;s<o.length;s++)Cf(o,s)||(o[s]=null);return o}function Rh(o){const s=dA(null);for(const[i,l]of O2(o))Cf(o,i)&&(Array.isArray(l)?s[i]=AR(l):l&&typeof l=="object"&&l.constructor===Object?s[i]=Rh(l):s[i]=l);return s}function A0(o,s){for(;o!==null;){const i=S0(o,s);if(i){if(i.get)return id(i.get);if(typeof i.value=="function")return id(i.value)}o=Dh(o)}return function(){return null}}const cm=ad(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ly=ad(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),M2=ad(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),zR=ad(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),B2=ad(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),TR=ad(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),gA=ad(["#text"]),hA=ad(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),I2=ad(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Nh=ad(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),z0=ad(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),OR=Hu(/\{\{[\w\W]*|[\w\W]*\}\}/gm),bA=Hu(/<%[\w\W]*|[\w\W]*%>/gm),yA=Hu(/\$\{[\w\W]*/gm),DR=Hu(/^data-[\-\w.\u00B7-\uFFFF]+$/),RR=Hu(/^aria-[\-\w]+$/),vA=Hu(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),NR=Hu(/^(?:\w+script|data):/i),MR=Hu(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),xA=Hu(/^html$/i),fk=Hu(/^[a-z][.\w]*(-[.\w]+)+$/i);var mk=Object.freeze({__proto__:null,ARIA_ATTR:RR,ATTR_WHITESPACE:MR,CUSTOM_ELEMENT:fk,DATA_ATTR:DR,DOCTYPE_NAME:xA,ERB_EXPR:bA,IS_ALLOWED_URI:vA,IS_SCRIPT_OR_DATA:NR,MUSTACHE_EXPR:OR,TMPLIT_EXPR:yA});const BR=function(){return typeof window>"u"?null:window};var qB=function o(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:BR();const i=Oe=>o(Oe);if(i.version="3.2.4",i.removed=[],!s||!s.document||s.document.nodeType!==9||!s.Element)return i.isSupported=!1,i;let{document:l}=s;const d=l,f=d.currentScript,{DocumentFragment:p,HTMLTemplateElement:b,Node:y,Element:_,NodeFilter:A,NamedNodeMap:w=s.NamedNodeMap||s.MozNamedAttrMap,HTMLFormElement:O,DOMParser:I,trustedTypes:F}=s,K=_.prototype,Q=A0(K,"cloneNode"),oe=A0(K,"remove"),W=A0(K,"nextSibling"),Z=A0(K,"childNodes"),ne=A0(K,"parentNode");if(typeof b=="function"){const Oe=l.createElement("template");Oe.content&&Oe.content.ownerDocument&&(l=Oe.content.ownerDocument)}let se,re="";const{implementation:ye,createNodeIterator:Ae,createDocumentFragment:Ue,getElementsByTagName:Fe}=l,{importNode:qe}=d;let nt={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};i.isSupported=typeof O2=="function"&&typeof ne=="function"&&ye&&ye.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Mt,ERB_EXPR:Xt,TMPLIT_EXPR:uo,DATA_ATTR:No,ARIA_ATTR:en,IS_SCRIPT_OR_DATA:ns,ATTR_WHITESPACE:Qr,CUSTOM_ELEMENT:Vn}=mk;let{IS_ALLOWED_URI:fn}=mk,fo=null;const Tr=Gr({},[...cm,...ly,...M2,...B2,...gA]);let dr=null;const Gi=Gr({},[...hA,...I2,...Nh,...z0]);let Or=Object.seal(dA(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Aa=null,va=null,Ng=!0,Mg=!0,dw=!1,$v=!0,Bg=!1,Ig=!0,xm=!1,r1=!1,s1=!1,km=!1,a1=!1,i1=!1,l1=!0,jv=!1,c1=!0,Pg=!1,_m={},Cn=null;const Lg=Gr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Lf=null;const p4=Gr({},["audio","video","img","source","image","track"]);let uw=null;const g4=Gr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),nb="http://www.w3.org/1998/Math/MathML",fw="http://www.w3.org/2000/svg",Op="http://www.w3.org/1999/xhtml";let d1=Op,h4=!1,mw=null;const $M=Gr({},[nb,fw,Op],dk);let pw=Gr({},["mi","mo","mn","ms","mtext"]),gw=Gr({},["annotation-xml"]);const W6=Gr({},["title","style","font","a","script"]);let u1=null;const jM=["application/xhtml+xml","text/html"];let Kl=null,rb=null;const UM=l.createElement("form"),q6=function(Oe){return Oe instanceof RegExp||Oe instanceof Function},Eo=function(){let Oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!rb||rb!==Oe){if(Oe&&typeof Oe=="object"||(Oe={}),Oe=Rh(Oe),u1=jM.indexOf(Oe.PARSER_MEDIA_TYPE)===-1?"text/html":Oe.PARSER_MEDIA_TYPE,Kl=u1==="application/xhtml+xml"?dk:lg,fo=Cf(Oe,"ALLOWED_TAGS")?Gr({},Oe.ALLOWED_TAGS,Kl):Tr,dr=Cf(Oe,"ALLOWED_ATTR")?Gr({},Oe.ALLOWED_ATTR,Kl):Gi,mw=Cf(Oe,"ALLOWED_NAMESPACES")?Gr({},Oe.ALLOWED_NAMESPACES,dk):$M,uw=Cf(Oe,"ADD_URI_SAFE_ATTR")?Gr(Rh(g4),Oe.ADD_URI_SAFE_ATTR,Kl):g4,Lf=Cf(Oe,"ADD_DATA_URI_TAGS")?Gr(Rh(p4),Oe.ADD_DATA_URI_TAGS,Kl):p4,Cn=Cf(Oe,"FORBID_CONTENTS")?Gr({},Oe.FORBID_CONTENTS,Kl):Lg,Aa=Cf(Oe,"FORBID_TAGS")?Gr({},Oe.FORBID_TAGS,Kl):{},va=Cf(Oe,"FORBID_ATTR")?Gr({},Oe.FORBID_ATTR,Kl):{},_m=!!Cf(Oe,"USE_PROFILES")&&Oe.USE_PROFILES,Ng=Oe.ALLOW_ARIA_ATTR!==!1,Mg=Oe.ALLOW_DATA_ATTR!==!1,dw=Oe.ALLOW_UNKNOWN_PROTOCOLS||!1,$v=Oe.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Bg=Oe.SAFE_FOR_TEMPLATES||!1,Ig=Oe.SAFE_FOR_XML!==!1,xm=Oe.WHOLE_DOCUMENT||!1,km=Oe.RETURN_DOM||!1,a1=Oe.RETURN_DOM_FRAGMENT||!1,i1=Oe.RETURN_TRUSTED_TYPE||!1,s1=Oe.FORCE_BODY||!1,l1=Oe.SANITIZE_DOM!==!1,jv=Oe.SANITIZE_NAMED_PROPS||!1,c1=Oe.KEEP_CONTENT!==!1,Pg=Oe.IN_PLACE||!1,fn=Oe.ALLOWED_URI_REGEXP||vA,d1=Oe.NAMESPACE||Op,pw=Oe.MATHML_TEXT_INTEGRATION_POINTS||pw,gw=Oe.HTML_INTEGRATION_POINTS||gw,Or=Oe.CUSTOM_ELEMENT_HANDLING||{},Oe.CUSTOM_ELEMENT_HANDLING&&q6(Oe.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Or.tagNameCheck=Oe.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Oe.CUSTOM_ELEMENT_HANDLING&&q6(Oe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Or.attributeNameCheck=Oe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Oe.CUSTOM_ELEMENT_HANDLING&&typeof Oe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Or.allowCustomizedBuiltInElements=Oe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Bg&&(Mg=!1),a1&&(km=!0),_m&&(fo=Gr({},gA),dr=[],_m.html===!0&&(Gr(fo,cm),Gr(dr,hA)),_m.svg===!0&&(Gr(fo,ly),Gr(dr,I2),Gr(dr,z0)),_m.svgFilters===!0&&(Gr(fo,M2),Gr(dr,I2),Gr(dr,z0)),_m.mathMl===!0&&(Gr(fo,B2),Gr(dr,Nh),Gr(dr,z0))),Oe.ADD_TAGS&&(fo===Tr&&(fo=Rh(fo)),Gr(fo,Oe.ADD_TAGS,Kl)),Oe.ADD_ATTR&&(dr===Gi&&(dr=Rh(dr)),Gr(dr,Oe.ADD_ATTR,Kl)),Oe.ADD_URI_SAFE_ATTR&&Gr(uw,Oe.ADD_URI_SAFE_ATTR,Kl),Oe.FORBID_CONTENTS&&(Cn===Lg&&(Cn=Rh(Cn)),Gr(Cn,Oe.FORBID_CONTENTS,Kl)),c1&&(fo["#text"]=!0),xm&&Gr(fo,["html","head","body"]),fo.table&&(Gr(fo,["tbody"]),delete Aa.tbody),Oe.TRUSTED_TYPES_POLICY){if(typeof Oe.TRUSTED_TYPES_POLICY.createHTML!="function")throw iy('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Oe.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw iy('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');se=Oe.TRUSTED_TYPES_POLICY,re=se.createHTML("")}else se===void 0&&(se=function(Vo,wo){if(typeof Vo!="object"||typeof Vo.createPolicy!="function")return null;let rs=null;const Ts="data-tt-policy-suffix";wo&&wo.hasAttribute(Ts)&&(rs=wo.getAttribute(Ts));const Fr="dompurify"+(rs?"#"+rs:"");try{return Vo.createPolicy(Fr,{createHTML:Sl=>Sl,createScriptURL:Sl=>Sl})}catch{return console.warn("TrustedTypes policy "+Fr+" could not be created."),null}}(F,f)),se!==null&&typeof re=="string"&&(re=se.createHTML(""));ad&&ad(Oe),rb=Oe}},f1=Gr({},[...ly,...M2,...zR]),b4=Gr({},[...B2,...TR]),Ff=function(Oe){E0(i.removed,{element:Oe});try{ne(Oe).removeChild(Oe)}catch{oe(Oe)}},m1=function(Oe,Vo){try{E0(i.removed,{attribute:Vo.getAttributeNode(Oe),from:Vo})}catch{E0(i.removed,{attribute:null,from:Vo})}if(Vo.removeAttribute(Oe),Oe==="is")if(km||a1)try{Ff(Vo)}catch{}else try{Vo.setAttribute(Oe,"")}catch{}},y4=function(Oe){let Vo=null,wo=null;if(s1)Oe="<remove></remove>"+Oe;else{const Fr=R2(Oe,/^[\r\n\t ]+/);wo=Fr&&Fr[0]}u1==="application/xhtml+xml"&&d1===Op&&(Oe='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Oe+"</body></html>");const rs=se?se.createHTML(Oe):Oe;if(d1===Op)try{Vo=new I().parseFromString(rs,u1)}catch{}if(!Vo||!Vo.documentElement){Vo=ye.createDocument(d1,"template",null);try{Vo.documentElement.innerHTML=h4?re:rs}catch{}}const Ts=Vo.body||Vo.documentElement;return Oe&&wo&&Ts.insertBefore(l.createTextNode(wo),Ts.childNodes[0]||null),d1===Op?Fe.call(Vo,xm?"html":"body")[0]:xm?Vo.documentElement:Ts},v4=function(Oe){return Ae.call(Oe.ownerDocument||Oe,Oe,A.SHOW_ELEMENT|A.SHOW_COMMENT|A.SHOW_TEXT|A.SHOW_PROCESSING_INSTRUCTION|A.SHOW_CDATA_SECTION,null)},G6=function(Oe){return Oe instanceof O&&(typeof Oe.nodeName!="string"||typeof Oe.textContent!="string"||typeof Oe.removeChild!="function"||!(Oe.attributes instanceof w)||typeof Oe.removeAttribute!="function"||typeof Oe.setAttribute!="function"||typeof Oe.namespaceURI!="string"||typeof Oe.insertBefore!="function"||typeof Oe.hasChildNodes!="function")},p1=function(Oe){return typeof y=="function"&&Oe instanceof y};function Dp(Oe,Vo,wo){ck(Oe,rs=>{rs.call(i,Vo,wo,rb)})}const x4=function(Oe){let Vo=null;if(Dp(nt.beforeSanitizeElements,Oe,null),G6(Oe))return Ff(Oe),!0;const wo=Kl(Oe.nodeName);if(Dp(nt.uponSanitizeElement,Oe,{tagName:wo,allowedTags:fo}),Oe.hasChildNodes()&&!p1(Oe.firstElementChild)&&Pd(/<[/\w]/g,Oe.innerHTML)&&Pd(/<[/\w]/g,Oe.textContent)||Oe.nodeType===7||Ig&&Oe.nodeType===8&&Pd(/<[/\w]/g,Oe.data))return Ff(Oe),!0;if(!fo[wo]||Aa[wo]){if(!Aa[wo]&&Y6(wo)&&(Or.tagNameCheck instanceof RegExp&&Pd(Or.tagNameCheck,wo)||Or.tagNameCheck instanceof Function&&Or.tagNameCheck(wo)))return!1;if(c1&&!Cn[wo]){const rs=ne(Oe)||Oe.parentNode,Ts=Z(Oe)||Oe.childNodes;if(Ts&&rs)for(let Fr=Ts.length-1;Fr>=0;--Fr){const Sl=Q(Ts[Fr],!0);Sl.__removalCount=(Oe.__removalCount||0)+1,rs.insertBefore(Sl,W(Oe))}}return Ff(Oe),!0}return Oe instanceof _&&!function(rs){let Ts=ne(rs);Ts&&Ts.tagName||(Ts={namespaceURI:d1,tagName:"template"});const Fr=lg(rs.tagName),Sl=lg(Ts.tagName);return!!mw[rs.namespaceURI]&&(rs.namespaceURI===fw?Ts.namespaceURI===Op?Fr==="svg":Ts.namespaceURI===nb?Fr==="svg"&&(Sl==="annotation-xml"||pw[Sl]):!!f1[Fr]:rs.namespaceURI===nb?Ts.namespaceURI===Op?Fr==="math":Ts.namespaceURI===fw?Fr==="math"&&gw[Sl]:!!b4[Fr]:rs.namespaceURI===Op?!(Ts.namespaceURI===fw&&!gw[Sl])&&!(Ts.namespaceURI===nb&&!pw[Sl])&&!b4[Fr]&&(W6[Fr]||!f1[Fr]):!(u1!=="application/xhtml+xml"||!mw[rs.namespaceURI]))}(Oe)?(Ff(Oe),!0):wo!=="noscript"&&wo!=="noembed"&&wo!=="noframes"||!Pd(/<\/no(script|embed|frames)/i,Oe.innerHTML)?(Bg&&Oe.nodeType===3&&(Vo=Oe.textContent,ck([Mt,Xt,uo],rs=>{Vo=ay(Vo,rs," ")}),Oe.textContent!==Vo&&(E0(i.removed,{element:Oe.cloneNode()}),Oe.textContent=Vo)),Dp(nt.afterSanitizeElements,Oe,null),!1):(Ff(Oe),!0)},K6=function(Oe,Vo,wo){if(l1&&(Vo==="id"||Vo==="name")&&(wo in l||wo in UM))return!1;if(!(Mg&&!va[Vo]&&Pd(No,Vo))){if(!(Ng&&Pd(en,Vo))){if(!dr[Vo]||va[Vo]){if(!(Y6(Oe)&&(Or.tagNameCheck instanceof RegExp&&Pd(Or.tagNameCheck,Oe)||Or.tagNameCheck instanceof Function&&Or.tagNameCheck(Oe))&&(Or.attributeNameCheck instanceof RegExp&&Pd(Or.attributeNameCheck,Vo)||Or.attributeNameCheck instanceof Function&&Or.attributeNameCheck(Vo))||Vo==="is"&&Or.allowCustomizedBuiltInElements&&(Or.tagNameCheck instanceof RegExp&&Pd(Or.tagNameCheck,wo)||Or.tagNameCheck instanceof Function&&Or.tagNameCheck(wo))))return!1}else if(!uw[Vo]){if(!Pd(fn,ay(wo,Qr,""))){if((Vo!=="src"&&Vo!=="xlink:href"&&Vo!=="href"||Oe==="script"||pA(wo,"data:")!==0||!Lf[Oe])&&!(dw&&!Pd(ns,ay(wo,Qr,"")))){if(wo)return!1}}}}}return!0},Y6=function(Oe){return Oe!=="annotation-xml"&&R2(Oe,Vn)},X6=function(Oe){Dp(nt.beforeSanitizeAttributes,Oe,null);const{attributes:Vo}=Oe;if(!Vo||G6(Oe))return;const wo={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:dr,forceKeepAttr:void 0};let rs=Vo.length;for(;rs--;){const Ts=Vo[rs],{name:Fr,namespaceURI:Sl,value:Rp}=Ts,wm=Kl(Fr);let gc=Fr==="value"?Rp:N2(Rp);const ZM=gc;if(wo.attrName=wm,wo.attrValue=gc,wo.keepAttr=!0,wo.forceKeepAttr=void 0,Dp(nt.uponSanitizeAttribute,Oe,wo),gc=wo.attrValue,!jv||wm!=="id"&&wm!=="name"||(m1(Fr,Oe),gc="user-content-"+gc),Ig&&Pd(/((--!?|])>)|<\/(style|title)/i,gc)){m1(Fr,Oe);continue}if(wo.forceKeepAttr)continue;if(!wo.keepAttr){m1(Fr,Oe);continue}if(!$v&&Pd(/\/>/i,gc)){m1(Fr,Oe);continue}Bg&&ck([Mt,Xt,uo],k4=>{gc=ay(gc,k4," ")});const Q6=Kl(Oe.nodeName);if(K6(Q6,wm,gc)){if(se&&typeof F=="object"&&typeof F.getAttributeType=="function"&&!Sl)switch(F.getAttributeType(Q6,wm)){case"TrustedHTML":gc=se.createHTML(gc);break;case"TrustedScriptURL":gc=se.createScriptURL(gc)}if(gc!==ZM)try{Sl?Oe.setAttributeNS(Sl,Fr,gc):Oe.setAttribute(Fr,gc),G6(Oe)?Ff(Oe):fA(i.removed)}catch{}}else m1(Fr,Oe)}Dp(nt.afterSanitizeAttributes,Oe,null)},J6=function Oe(Vo){let wo=null;const rs=v4(Vo);for(Dp(nt.beforeSanitizeShadowDOM,Vo,null);wo=rs.nextNode();)Dp(nt.uponSanitizeShadowNode,wo,null),x4(wo),X6(wo),wo.content instanceof p&&Oe(wo.content);Dp(nt.afterSanitizeShadowDOM,Vo,null)};return i.sanitize=function(Oe){let Vo=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},wo=null,rs=null,Ts=null,Fr=null;if(h4=!Oe,h4&&(Oe="<!-->"),typeof Oe!="string"&&!p1(Oe)){if(typeof Oe.toString!="function")throw iy("toString is not a function");if(typeof(Oe=Oe.toString())!="string")throw iy("dirty is not a string, aborting")}if(!i.isSupported)return Oe;if(r1||Eo(Vo),i.removed=[],typeof Oe=="string"&&(Pg=!1),Pg){if(Oe.nodeName){const wm=Kl(Oe.nodeName);if(!fo[wm]||Aa[wm])throw iy("root node is forbidden and cannot be sanitized in-place")}}else if(Oe instanceof y)wo=y4("<!---->"),rs=wo.ownerDocument.importNode(Oe,!0),rs.nodeType===1&&rs.nodeName==="BODY"||rs.nodeName==="HTML"?wo=rs:wo.appendChild(rs);else{if(!km&&!Bg&&!xm&&Oe.indexOf("<")===-1)return se&&i1?se.createHTML(Oe):Oe;if(wo=y4(Oe),!wo)return km?null:i1?re:""}wo&&s1&&Ff(wo.firstChild);const Sl=v4(Pg?Oe:wo);for(;Ts=Sl.nextNode();)x4(Ts),X6(Ts),Ts.content instanceof p&&J6(Ts.content);if(Pg)return Oe;if(km){if(a1)for(Fr=Ue.call(wo.ownerDocument);wo.firstChild;)Fr.appendChild(wo.firstChild);else Fr=wo;return(dr.shadowroot||dr.shadowrootmode)&&(Fr=qe.call(d,Fr,!0)),Fr}let Rp=xm?wo.outerHTML:wo.innerHTML;return xm&&fo["!doctype"]&&wo.ownerDocument&&wo.ownerDocument.doctype&&wo.ownerDocument.doctype.name&&Pd(xA,wo.ownerDocument.doctype.name)&&(Rp="<!DOCTYPE "+wo.ownerDocument.doctype.name+`>
`+Rp),Bg&&ck([Mt,Xt,uo],wm=>{Rp=ay(Rp,wm," ")}),se&&i1?se.createHTML(Rp):Rp},i.setConfig=function(){Eo(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}),r1=!0},i.clearConfig=function(){rb=null,r1=!1},i.isValidAttribute=function(Oe,Vo,wo){rb||Eo({});const rs=Kl(Oe),Ts=Kl(Vo);return K6(rs,Ts,wo)},i.addHook=function(Oe,Vo){typeof Vo=="function"&&E0(nt[Oe],Vo)},i.removeHook=function(Oe,Vo){if(Vo!==void 0){const wo=uA(nt[Oe],Vo);return wo===-1?void 0:mA(nt[Oe],wo,1)[0]}return fA(nt[Oe])},i.removeHooks=function(Oe){nt[Oe]=[]},i.removeAllHooks=function(){nt={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},i}();const P2=o=>qB().sanitize(o);var du=tinymce.util.Tools.resolve("tinymce.util.I18n");const IR={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},Ld="temporary-placeholder",L2=o=>()=>mt(o,Ld).getOr("!not found!"),F2=(o,s)=>{const i=o.toLowerCase();if(du.isRtl()){const l=((d,f)=>Qi(d,f)?d:((p,b)=>p+b)(d,f))(i,"-rtl");return io(s,l)?l:i}return i},kA=(o,s)=>mt(s,F2(o,s)),_A=(o,s)=>{const i=s();return kA(o,i).getOrThunk(L2(i))},wA=()=>_o("add-focusable",[Mr(o=>{Ru(o.element,"svg").each(s=>po(s,"focusable","false"))})]),Mh=(o,s,i,l)=>{var d,f;const p=(y=>!!du.isRtl()&&io(IR,y))(s)?["tox-icon--flip"]:[],b=mt(i,F2(s,i)).or(l).getOrThunk(L2(i));return{dom:{tag:o.tag,attributes:(d=o.attributes)!==null&&d!==void 0?d:{},classes:o.classes.concat(p),innerHtml:b},behaviours:it([...(f=o.behaviours)!==null&&f!==void 0?f:[],wA()])}},Rc=(o,s,i,l=T.none())=>Mh(s,o,i(),l),PR={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},T0=rd({name:"Notification",factory:o=>{const s=Ft("notification-text"),i=Kn({dom:wf(`<p id=${s}>${P2(o.backstageProvider.translate(o.text))}</p>`),behaviours:it([So.config({})])}),l=w=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${w}%`}}}),d=w=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${w}%`}}),f=Kn({dom:{tag:"div",classes:o.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[l(0)]},d(0)],behaviours:it([So.config({})])}),p={updateProgress:(w,O)=>{w.getSystem().isConnected()&&f.getOpt(w).each(I=>{So.set(I,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[l(O)]},d(O)])})},updateText:(w,O)=>{if(w.getSystem().isConnected()){const I=i.get(w);So.set(I,[Ir(O)])}}},b=Nn([o.icon.toArray(),[o.level],T.from(PR[o.level]).toArray()]),y=Kn(qi.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":o.backstageProvider.translate("Close")}},components:[Rc("close",{tag:"span",classes:["tox-icon"]},o.iconProvider)],buttonBehaviours:it([cr.config({}),ys.config({...o.backstageProvider.tooltips.getConfig({tooltipText:o.backstageProvider.translate("Close")})})]),action:w=>{o.onAction(w)}})),_=((w,O,I)=>{const F=I(),K=V(w,Q=>io(F,F2(Q,F)));return Mh({tag:"div",classes:["tox-notification__icon"]},K.getOr(Ld),F,T.none())})(b,0,o.iconProvider),A=[_,{dom:{tag:"div",classes:["tox-notification__body"]},components:[i.asSpec()],behaviours:it([So.config({})])}];return{uid:o.uid,dom:{tag:"div",attributes:{role:"alert","aria-labelledby":s},classes:["tox-notification","tox-notification--in",`tox-notification--${o.level}`]},behaviours:it([cr.config({}),yo.config({}),eo.config({mode:"special",onEscape:w=>(o.onAction(w),T.some(!0))})]),components:A.concat(o.progress?[f.asSpec()]:[]).concat([y.asSpec()]),apis:p}},configFields:[lr("level","info",["success","error","warning","warn","info"]),Ke("progress"),bn("icon"),Ke("onAction"),Ke("text"),Ke("iconProvider"),Ke("backstageProvider")],apis:{updateProgress:(o,s,i)=>{o.updateProgress(s,i)},updateText:(o,s,i)=>{o.updateText(s,i)}}});var pk=(o,s,i,l)=>{const d=s.backstage.shared,f=()=>St(o.queryCommandValue("ToggleView")===""?o.getContentAreaContainer():o.getContainer()),p=()=>{const y=js(f());return T.some(y)},b=y=>{p().each(_=>{Ot(y,A=>{Yo(A.element,"width"),ce(A.element)>_.width&&Gt(A.element,"width",_.width+"px")})})};return{open:(y,_,A)=>{const w=()=>{l.on(F=>{_();const K=A();(Q=>{So.remove(Q,O),I()})(F),((Q,oe)=>{pr(Q.element).length===0?((W,Z)=>{fs.hide(W),l.clear(),Z&&o.focus()})(Q,oe):((W,Z)=>{Z&&eo.focusIn(W)})(Q,oe)})(F,K)})},O=bs(T0.sketch({text:y.text,level:Ce(["success","error","warning","warn","info"],y.type)?y.type:void 0,progress:y.progressBar===!0,icon:y.icon,onAction:w,iconProvider:d.providers.icons,backstageProvider:d.providers}));if(l.isSet()){const F=Vi(O);l.on(K=>{So.append(K,F),fs.reposition(K),O.hasConfigured(qr)&&qr.refresh(K),b(K.components())})}else{const F=bs(fs.sketch({dom:{tag:"div",classes:["tox-notifications-container"],attributes:{"aria-label":"Notifications",role:"region"}},lazySink:d.getSink,fireDismissalEventInstead:{},...d.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}},inlineBehaviours:it([eo.config({mode:"cyclic",selector:".tox-notification, .tox-notification a, .tox-notification button"}),So.config({}),...Oh(o)&&d.header.isPositionedAtTop()?[]:[qr.config({contextual:{lazyContext:()=>T.some(js(f())),fadeInClass:"tox-notification-container-dock-fadein",fadeOutClass:"tox-notification-container-dock-fadeout",transitionClass:"tox-notification-container-dock-transition"},modes:["top"],lazyViewport:W=>rl(o,W.element).map(Z=>({bounds:sa(Z),optScrollEnv:T.some({currentScrollTop:Z.element.dom.scrollTop,scrollElmTop:Ur(Z.element).top})})).getOrThunk(()=>({bounds:Bs(),optScrollEnv:T.none()}))})]])})),K=Vi(O),Q={maxHeightFunction:Xm()},oe={...d.anchors.banner(),overrides:Q};l.set(F),i.add(F),fs.showWithinBounds(F,K,{anchor:oe},p)}Lo(y.timeout)&&y.timeout>0&&Wx.setEditorTimeout(o,()=>{w()},y.timeout);const I=()=>{l.on(F=>{fs.reposition(F),F.hasConfigured(qr)&&qr.refresh(F),b(F.components())})};return{close:w,reposition:I,text:F=>{T0.updateText(O,F)},settings:y,getEl:()=>O.element.dom,progressBar:{value:F=>{T0.updateProgress(O,F)}}}},close:y=>{y.close()},getArgs:y=>y.settings}},O0;(function(o){o[o.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",o[o.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(O0||(O0={}));var Sf=O0;const H2="tox-menu-nav__js",gk="tox-collection__item",CA="tox-swatch",LR={normal:H2,color:CA},SA="tox-collection__item--enabled",EA="tox-collection__item-icon",hk="tox-collection__item-label",D0="tox-collection__item-caret",Bh="tox-collection__item--active",AA="tox-collection__item-container",zA="tox-collection__item-container--row",TA=o=>mt(LR,o).getOr(H2),cy=o=>o==="color"?"tox-swatches":"tox-menu",R0=o=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:cy(o),tieredMenu:"tox-tiered-menu"}),Ih=o=>{const s=R0(o);return{backgroundMenu:s.backgroundMenu,selectedMenu:s.selectedMenu,menu:s.menu,selectedItem:s.selectedItem,item:TA(o)}},V2=(o,s,i)=>{const l=R0(i);return{tag:"div",classes:Nn([[l.menu,`tox-menu-${s}-column`],o?[l.hasIcons]:[]])}},FR=[Ch.parts.items({})],Ht=(o,s,i)=>{const l=R0(i);return{dom:{tag:"div",classes:Nn([[l.tieredMenu]])},markers:Ih(i)}},cg=le([Er("type","text"),bn("data"),Te("inputAttributes",{}),Te("inputStyles",{}),Te("tag","input"),Te("inputClasses",[]),dn("onSetValue"),br("fromInputValue",Tt),br("toInputValue",Tt),Te("styles",{}),Te("eventOrder",{}),we("inputBehaviours",[X,yo]),Te("selectOnFocus",!0)]),OA=o=>it([yo.config({onFocus:o.selectOnFocus?s=>{const i=s.element,l=df(i);o.type!=="range"&&i.dom.setSelectionRange(0,l.length)}:rt})]),DA=o=>({...OA(o),...Ie(o.inputBehaviours,[X.config({store:{mode:"manual",...o.data.map(s=>({initialValue:s})).getOr({}),getValue:s=>o.fromInputValue(df(s.element)),setValue:(s,i)=>{df(s.element)!==i&&Um(s.element,o.toInputValue(i))}},onSetValue:o.onSetValue})])}),N0=o=>({tag:o.tag,attributes:{type:o.type,...o.inputAttributes},styles:o.inputStyles,classes:o.inputClasses}),Ef=rd({name:"Input",configFields:cg(),factory:(o,s)=>({uid:o.uid,dom:N0(o),components:[],behaviours:DA(o),eventOrder:o.eventOrder})}),RA=Ft("refetch-trigger-event"),$2=Ft("redirect-menu-item-interaction"),NA="tox-menu__searcher",bk=o=>Pr(o.element,`.${NA}`).bind(s=>o.getSystem().getByDom(s).toOptional()),j2=bk,yk=o=>({fetchPattern:X.getValue(o),selectionStart:o.element.dom.selectionStart,selectionEnd:o.element.dom.selectionEnd}),M0=o=>{const s=(d,f)=>(f.cut(),T.none()),i=(d,f)=>{const p={interactionEvent:f.event,eventType:f.event.raw.type};return oo(d,$2,p),T.some(!0)},l="searcher-events";return{dom:{tag:"div",classes:[gk]},components:[Ef.sketch({inputClasses:[NA,"tox-textfield"],inputAttributes:{...o.placeholder.map(d=>({placeholder:o.i18n(d)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:it([_o(l,[je(pi(),d=>{Xo(d,RA)}),je(Zr(),(d,f)=>{f.event.raw.key==="Escape"&&f.stop()})]),eo.config({mode:"special",onLeft:s,onRight:s,onSpace:s,onEnter:i,onEscape:i,onUp:i,onDown:i})]),eventOrder:{keydown:[l,eo.name()]}})]}},B0="tox-collection--results__js",MA=o=>{var s;return o.dom?{...o,dom:{...o.dom,attributes:{...(s=o.dom.attributes)!==null&&s!==void 0?s:{},id:Ft("aria-item-search-result-id"),"aria-selected":"false"}}}:o},U2=(o,s)=>i=>{const l=xt(i,s);return Qe(l,d=>({dom:o,components:d}))},BA=(o,s)=>{const i=[];let l=[];return Ot(o,(d,f)=>{s(d,f)?(l.length>0&&i.push(l),l=[],(io(d.dom,"innerHtml")||d.components&&d.components.length>0)&&l.push(d)):l.push(d)}),l.length>0&&i.push(l),Qe(i,d=>({dom:{tag:"div",classes:["tox-collection__group"]},components:d}))},Z2=(o,s,i)=>Ch.parts.items({preprocess:l=>{const d=Qe(l,i);return o!=="auto"&&o>1?U2({tag:"div",classes:["tox-collection__group"]},o)(d):BA(d,(f,p)=>s[p].type==="separator")}}),IA=(o,s,i=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(o===1?["tox-collection--list"]:["tox-collection--grid"])},components:[Z2(o,s,Tt)]}),vk=o=>zt(o,s=>"icon"in s&&s.icon!==void 0),up=o=>(console.error(Pi(o)),console.log(o),T.none()),xk=(o,s,i,l,d)=>{const f=(p=i,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Ch.parts.items({preprocess:b=>BA(b,(y,_)=>p[_].type==="separator")})]});var p;return{value:o,dom:f.dom,components:f.components,items:i}},W2=(o,s,i,l,d)=>{if(d.menuType==="color"){const f=(p=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Ch.parts.items({preprocess:p!=="auto"?U2({tag:"div",classes:["tox-swatches__row"]},p):Tt})]}]}))(l);return{value:o,dom:f.dom,components:f.components,items:i}}if(d.menuType==="normal"&&l==="auto"){const f=IA(l,i);return{value:o,dom:f.dom,components:f.components,items:i}}if(d.menuType==="normal"||d.menuType==="searchable"){const f=d.menuType!=="searchable"?IA(l,i):d.searchMode.searchMode==="search-with-field"?((p,b,y)=>{const _=Ft("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(p===1?["tox-collection--list"]:["tox-collection--grid"])},components:[M0({i18n:du.translate,placeholder:y.placeholder}),{dom:{tag:"div",classes:[...p===1?["tox-collection--list"]:["tox-collection--grid"],B0],attributes:{id:_}},components:[Z2(p,b,MA)]}]}})(l,i,d.searchMode):((p,b)=>{const y=Ft("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",B0].concat(p===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:y}},components:[Z2(p,b,MA)]}})(l,i);return{value:o,dom:f.dom,components:f.components,items:i}}if(d.menuType==="listpreview"&&l!=="auto"){const f=(p=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Ch.parts.items({preprocess:U2({tag:"div",classes:["tox-collection__group"]},p)})]}))(l);return{value:o,dom:f.dom,components:f.components,items:i}}return{value:o,dom:V2(s,l,d.menuType),components:FR,items:i}},aa=ws("type"),q2=ws("name"),I0=ws("label"),fp=ws("text"),PA=ws("title"),G2=ws("icon"),Ph=ws("value"),HR=fl("fetch"),LA=fl("getSubmenuItems"),dy=fl("onAction"),VR=fl("onItemAction"),dg=br("onSetup",()=>rt),$R=er("name"),ug=er("text"),K2=er("role"),Fd=er("icon"),fg=er("tooltip"),uy=er("label"),fy=er("shortcut"),Lh=Ya("select"),Y2=Zs("active",!1),jR=Zs("borderless",!1),Vu=Zs("enabled",!0),P0=Zs("primary",!1),FA=o=>Te("columns",o),HA=Te("meta",{}),VA=br("onAction",rt),my=o=>Er("type",o),X2=o=>Ls("name","name",Qu(()=>Ft(`${o}-name`)),Ps),kk=co([aa,ug]),UR=co([my("autocompleteitem"),Y2,Vu,HA,Ph,ug,Fd]),L0=[Vu,fg,Fd,ug,dg,Er("context","mode:design")],ZR=co([aa,dy,fy].concat(L0)),J2=o=>Jr("toolbarbutton",ZR,o),Q2=[Y2].concat(L0),WR=co(Q2.concat([aa,dy,fy])),eC=o=>Jr("ToggleButton",WR,o),F0=[br("predicate",Le),lr("scope","node",["node","editor"]),lr("position","selection",["node","selection","line"])],qR=L0.concat([my("contextformbutton"),Er("align","end"),P0,dy,ta("original",Tt)]),$A=Q2.concat([my("contextformbutton"),Er("align","end"),P0,dy,ta("original",Tt)]),GR=L0.concat([my("contextformbutton")]),tC=Q2.concat([my("contextformtogglebutton")]),_k=[uy,Ka("commands",ea("type",{contextformbutton:qR,contextformtogglebutton:$A})),ml("launch",ea("type",{contextformbutton:GR,contextformtogglebutton:tC})),br("onInput",rt),br("onSetup",rt)],jA=[...F0,..._k,ga("type",["contextform"]),br("initValue",le("")),er("placeholder")],UA=[...F0,..._k,ga("type",["contextsliderform"]),br("initValue",le(0)),br("min",le(0)),br("max",le(100))],KR=[...F0,..._k,ga("type",["contextsizeinputform"]),br("initValue",le({width:"",height:""}))],YR=ea("type",{contextform:jA,contextsliderform:UA,contextsizeinputform:KR}),XR=co([my("contexttoolbar"),oa("items",wd([Ps,Zc([er("name"),er("label"),Ka("items",Ps)])]))].concat(F0)),JR=o=>({name:o.name.getOrUndefined(),label:o.label.getOrUndefined(),items:o.items}),QR=[aa,ws("src"),er("alt"),Ai("classes",[],Ps)],H0=co(QR),ZA=[aa,fp,$R,Ai("classes",["tox-collection__item-label"],Ps)],WA=co(ZA),oC=_d(()=>Ed("type",{cardimage:H0,cardtext:WA,cardcontainer:qA})),qA=co([aa,Er("direction","horizontal"),Er("align","left"),Er("valign","middle"),Ka("items",oC)]),Fh=[Vu,ug,K2,fy,Ls("value","value",Qu(()=>Ft("menuitem-value")),ul()),HA,Er("context","mode:design")],eN=co([aa,uy,Ka("items",oC),dg,VA].concat(Fh)),tN=co([aa,Y2,Fd].concat(Fh)),GA=[aa,ws("fancytype"),VA],nC=[Te("initData",{})].concat(GA),oN=[Ya("select"),nc("initData",{},[Zs("allowCustomColors",!0),Er("storageKey","default"),of("colors",ul())])].concat(GA),wk=ea("fancytype",{inserttable:nC,colorswatch:oN}),nN=co([aa,dg,VA,Fd].concat(Fh)),KA=co([aa,LA,dg,Fd].concat(Fh)),fc=co([aa,Fd,Y2,dg,dy].concat(Fh)),rC=(o,s,i)=>{const l=bi(o.element,"."+i);if(l.length>0){const d=la(l,f=>{const p=f.dom.getBoundingClientRect().top,b=l[0].dom.getBoundingClientRect().top;return Math.abs(p-b)>s}).getOr(l.length);return T.some({numColumns:d,numRows:Math.ceil(l.length/d)})}return T.none()},py=o=>((s,i)=>it([_o(s,i)]))(Ft("unnamed-events"),o),sC=o=>Jt.config({disabled:o,disableClass:"tox-collection__item--state-disabled"}),V0=o=>Jt.config({disabled:o}),aC=o=>Jt.config({disabled:o,disableClass:"tox-tbtn--disabled"}),$0=o=>Jt.config({disabled:o,disableClass:"tox-tbtn--disabled",useNative:!1}),Ck=(o,s)=>{const i=o.getApi(s);return l=>{l(i)}},Af=(o,s)=>Mr(i=>{Ut(o.onBeforeSetup)&&o.onBeforeSetup(i),Ck(o,i)(l=>{const d=o.onSetup(l);Ut(d)&&s.set(d)})}),zf=(o,s)=>Dd(i=>Ck(o,i)(s.get())),YA="silver.uistate",gy="setDisabled",XA="init",rN=["switchmode",XA],hy=(o,s)=>{const i=o.mainUi.outerContainer,l=[o.mainUi.mothership,...o.uiMotherships];s===gy&&Ot(l,d=>{d.broadcastOn([hf()],{target:i.element})}),Ot(l,d=>{d.broadcastOn([YA],s)})},iC=(o,s)=>{o.on("init SwitchMode",i=>{hy(s,i.type)}),o.on("DisabledStateChange",i=>{if(!i.isDefaultPrevented()){const l=i.state?gy:XA;hy(s,l),i.state||o.nodeChanged()}}),o.on("NodeChange",i=>{const l=o.ui.isEnabled()?i.type:gy;hy(s,l)}),ZE(o)&&o.mode.set("readonly")},Gs=o=>xl.config({channels:{[YA]:{onReceive:(s,i)=>{if(i===gy||i==="setEnabled")return void Jt.set(s,i===gy);const{contextType:l,shouldDisable:d}=o();(l!=="mode"||Ce(rN,i))&&Jt.set(s,d)}}}}),sN=(o,s)=>sc((i,l)=>{Ck(o,i)(o.onAction),o.triggersSubmenu||s!==Sf.CLOSE_ON_EXECUTE||(i.getSystem().isConnected()&&Xo(i,qf()),l.stop())}),aN={[pl()]:["disabling","alloy.base.behaviour","toggling","item-events"]},by=$a,yy=(o,s,i,l)=>{const d=$t(rt);return{type:"item",dom:s.dom,components:by(s.optComponents),data:o.data,eventOrder:aN,hasSubmenu:o.triggersSubmenu,itemBehaviours:it([_o("item-events",[sN(o,i),Af(o,d),zf(o,d)]),sC(()=>!o.enabled||l.checkUiComponentContext(o.context).shouldDisable),Gs(()=>l.checkUiComponentContext(o.context)),So.config({})].concat(o.itemBehaviours))}},Hh=o=>({value:o.value,meta:{text:o.text.getOr(""),...o.meta}}),Sk=o=>{const s=Eh.os.isMacOS()||Eh.os.isiOS(),i=s?{alt:"⌥",ctrl:"⌃",shift:"⇧",meta:"⌘",access:"⌃⌥"}:{meta:"Ctrl",access:"Shift+Alt"},l=o.split("+"),d=Qe(l,f=>{const p=f.toLowerCase().trim();return io(i,p)?i[p]:f});return s?d.join(""):d.join("+")},dm=(o,s,i=[EA])=>Rc(o,{tag:"div",classes:i},s),lC=o=>({dom:{tag:"div",classes:[hk]},components:[Ir(du.translate(o))]}),cC=(o,s)=>({dom:{tag:"div",classes:s,innerHtml:o}}),JA=(o,s)=>({dom:{tag:"div",classes:[hk]},components:[{dom:{tag:o.tag,styles:o.styles},components:[Ir(du.translate(s))]}]}),iN=o=>({dom:{tag:"div",classes:["tox-collection__item-accessory"]},components:[Ir(Sk(o))]}),Vh=o=>dm("checkmark",o,["tox-collection__item-checkmark"]),QA=o=>{const s=o.map(i=>({attributes:{id:Ft("menu-item"),"aria-label":du.translate(i)}})).getOr({});return{tag:"div",classes:[H2,gk],...s}},j0=(o,s,i,l=T.none())=>o.presets==="color"?((d,f,p)=>{const b=d.value,y=d.iconContent.map(A=>((w,O,I)=>{const F=O();return kA(w,F).or(I).getOrThunk(L2(F))})(A,f.icons,p)),_=d.ariaLabel.map(A=>({"aria-label":f.translate(A),"data-mce-name":A})).getOr({});return{dom:(()=>{const A=CA,w=y.getOr(""),O={tag:"div",attributes:_,classes:[A]};return b==="custom"?{...O,tag:"button",classes:[...O.classes,"tox-swatches__picker-btn"],innerHtml:w}:b==="remove"?{...O,classes:[...O.classes,"tox-swatch--remove"],innerHtml:w}:Bt(b)?{...O,attributes:{...O.attributes,"data-mce-color":b},styles:{"background-color":b},innerHtml:w}:O})(),optComponents:[]}})(o,s,l):((d,f,p,b)=>{const y={tag:"div",classes:[EA]},_=p?d.iconContent.map(I=>Rc(I,y,f.icons,b)).orThunk(()=>T.some({dom:y})):T.none(),A=d.checkMark,w=T.from(d.meta).fold(()=>lC,I=>io(I,"style")?lt(JA,I.style):lC),O=d.htmlContent.fold(()=>d.textContent.map(w),I=>T.some(cC(I,[hk])));return{dom:QA(d.ariaLabel),optComponents:[_,O,d.shortcutContent.map(iN),A,d.caret]}})(o,s,i,l),dC=(o,s,i)=>mt(o,"tooltipWorker").map(l=>[ys.config({lazySink:s.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:d=>({type:"submenu",item:d,overrides:{maxHeightFunction:Xm}}),mode:"follow-highlight",onShow:(d,f)=>{l(p=>{ys.setComponents(d,[rx({element:St(p)})])})}})]).getOrThunk(()=>i.map(l=>[ys.config({...s.providers.tooltips.getConfig({tooltipText:l}),mode:"follow-highlight"})]).getOr([])),ez=(o,s)=>{const i=(l=>h0.DOM.encode(l))(du.translate(o));if(s.length>0){const l=new RegExp((d=>d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(s),"gi");return i.replace(l,d=>`<span class="tox-autocompleter-highlight">${d}</span>`)}return i},tz=(o,s)=>Qe(o,i=>{switch(i.type){case"cardcontainer":return((f,p)=>{const b=f.direction==="vertical"?"tox-collection__item-container--column":zA,y=f.align==="left"?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right";return{dom:{tag:"div",classes:[AA,b,y,(()=>{switch(f.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}})()]},components:p}})(i,tz(i.items,s));case"cardimage":return((f,p,b)=>({dom:{tag:"img",classes:p,attributes:{src:f,alt:b.getOr("")}}}))(i.src,i.classes,i.alt);case"cardtext":const l=i.name.exists(f=>Ce(s.cardText.highlightOn,f)),d=l?T.from(s.cardText.matchText).getOr(""):"";return cC(ez(i.text,d),i.classes)}}),oz=Ex(g0(),Fu()),uC=o=>({value:mp(o)}),Ek=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Ak=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,nz=o=>Ek.test(o)||Ak.test(o),mp=o=>Zn(o,"#").toUpperCase(),zk=o=>{const s=o.toString(16);return(s.length===1?"0"+s:s).toUpperCase()},vy=o=>{const s=zk(o.red)+zk(o.green)+zk(o.blue);return uC(s)},rz=Math.min,sz=Math.max,mg=Math.round,U0=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,az=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,pp=(o,s,i,l)=>({red:o,green:s,blue:i,alpha:l}),um=o=>{const s=parseInt(o,10);return s.toString()===o&&s>=0&&s<=255},gp=o=>{let s,i,l;const d=(o.hue||0)%360;let f=o.saturation/100,p=o.value/100;if(f=sz(0,rz(f,1)),p=sz(0,rz(p,1)),f===0)return s=i=l=mg(255*p),pp(s,i,l,1);const b=d/60,y=p*f,_=y*(1-Math.abs(b%2-1)),A=p-y;switch(Math.floor(b)){case 0:s=y,i=_,l=0;break;case 1:s=_,i=y,l=0;break;case 2:s=0,i=y,l=_;break;case 3:s=0,i=_,l=y;break;case 4:s=_,i=0,l=y;break;case 5:s=y,i=0,l=_;break;default:s=i=l=0}return s=mg(255*(s+A)),i=mg(255*(i+A)),l=mg(255*(l+A)),pp(s,i,l,1)},Z0=o=>{const s=(f=>{const p=(y=>({value:y.value.replace(Ek,(A,w,O,I)=>w+w+O+O+I+I)}))(f),b=Ak.exec(p.value);return b===null?["FFFFFF","FF","FF","FF"]:b})(o),i=parseInt(s[1],16),l=parseInt(s[2],16),d=parseInt(s[3],16);return pp(i,l,d,1)},iz=(o,s,i,l)=>{const d=parseInt(o,10),f=parseInt(s,10),p=parseInt(i,10),b=parseFloat(l);return pp(d,f,p,b)},Tk=o=>{const s=U0.exec(o);if(s!==null)return T.some(iz(s[1],s[2],s[3],"1"));const i=az.exec(o);return i!==null?T.some(iz(i[1],i[2],i[3],i[4])):T.none()},fm=o=>`rgba(${o.red},${o.green},${o.blue},${o.alpha})`,Ok=pp(255,0,0,1),fC=(o,s)=>{o.dispatch("ResizeContent",s)},mC=(o,s)=>{o.dispatch("TextColorChange",s)},lz=(o,s)=>o.dispatch("ResolveName",{name:s.nodeName.toLowerCase(),target:s}),pC=o=>{o.dispatch("ContextToolbarClose")},xy=(o,s)=>()=>{o(),s()},wl=o=>$h(o,"NodeChange",s=>{s.setEnabled(o.selection.isEditable())}),Dk=(o,s)=>i=>{const l=wl(o)(i),d=((f,p)=>b=>{const y=vd(),_=()=>{b.setActive(f.formatter.match(p));const A=f.formatter.formatChanged(p,b.setActive);y.set(A)};return f.initialized?_():f.once("init",_),()=>{f.off("init",_),y.clear()}})(o,s)(i);return()=>{l(),d()}},$h=(o,s,i)=>l=>{const d=()=>i(l),f=()=>{i(l),o.on(s,d)};return o.initialized?f():o.once("init",f),()=>{o.off("init",f),o.off(s,d)}},cz=o=>s=>()=>{o.undoManager.transact(()=>{o.focus(),o.execCommand("mceToggleFormat",!1,s.format)})},ql=(o,s)=>()=>o.execCommand(s);var hp=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const W0={},gC=o=>mt(W0,o).getOrThunk(()=>{const s=`tinymce-custom-colors-${o}`,i=hp.getItem(s);if(An(i)){const d=hp.getItem("tinymce-custom-colors");hp.setItem(s,Bt(d)?d:"[]")}const l=((d,f=10)=>{const p=hp.getItem(d),b=xo(p)?JSON.parse(p):[],y=f-(_=b).length<0?_.slice(0,f):_;var _;const A=w=>{y.splice(w,1)};return{add:w=>{((O,I)=>{const F=_r(O,I);return F===-1?T.none():T.some(F)})(y,w).each(A),y.unshift(w),y.length>f&&y.pop(),hp.setItem(d,JSON.stringify(y))},state:()=>y.slice(0)}})(s,10);return W0[o]=l,l}),dz=(o,s)=>{gC(o).add(s)},ky=(o,s,i)=>({hue:o,saturation:s,value:i}),Rk=o=>{let s=0,i=0,l=0;const d=o.red/255,f=o.green/255,p=o.blue/255,b=Math.min(d,Math.min(f,p)),y=Math.max(d,Math.max(f,p));return b===y?(l=b,ky(0,0,100*l)):(s=d===b?3:p===b?1:5,s=60*(s-(d===b?f-p:p===b?d-f:p-d)/(y-b)),i=(y-b)/y,l=y,ky(Math.round(s),Math.round(100*i),Math.round(100*l)))},hC=o=>vy(gp(o)),Nk="forecolor",bC="hilitecolor",Mk=o=>{const s=[];for(let i=0;i<o.length;i+=2)s.push({text:o[i+1],value:o[i],icon:"checkmark",type:"choiceitem"});return s},Tf=o=>s=>s.options.get(o),yC="#000000",Bk=(o,s)=>s===Nk&&o.options.isSet("color_map_foreground")?Tf("color_map_foreground")(o):s===bC&&o.options.isSet("color_map_background")?Tf("color_map_background")(o):o.options.isSet("color_map_raw")?Tf("color_map_raw")(o):Tf("color_map")(o),vC=(o,s="default")=>Math.max(5,Math.ceil(Math.sqrt(Bk(o,s).length))),xC=(o,s)=>{const i=Tf("color_cols")(o),l=vC(o,s);return i===vC(o)?l:i},uz=(o,s="default")=>Math.round(s===Nk?Tf("color_cols_foreground")(o):s===bC?Tf("color_cols_background")(o):Tf("color_cols")(o)),fz=Tf("custom_colors"),mz=Tf("color_default_foreground"),q0=Tf("color_default_background"),pz=(o,s)=>{const i=St(o.selection.getStart()),l=s==="hilitecolor"?Bl(i,d=>{if(mr(d)){const f=Ns(d,"background-color");return To(Tk(f).exists(p=>p.alpha!==0),f)}return T.none()}).getOr("rgba(0, 0, 0, 0)"):Ns(i,"color");return Tk(l).map(d=>"#"+vy(d).value)},_y=o=>{const s="choiceitem",i={type:s,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return o?[i,{type:s,text:"Custom color",icon:"color-picker",value:"custom"}]:[i]},G0=(o,s,i,l)=>{i==="custom"?bz(o)(d=>{d.each(f=>{dz(s,f),o.execCommand("mceApplyTextcolor",s,f),l(f)})},pz(o,s).getOr(yC)):i==="remove"?(l(""),o.execCommand("mceRemoveTextcolor",s)):(l(i),o.execCommand("mceApplyTextcolor",s,i))},Ik=(o,s,i)=>o.concat((l=>Qe(gC(l).state(),d=>({type:"choiceitem",text:d,icon:"checkmark",value:d})))(s).concat(_y(i))),kC=(o,s,i)=>l=>{l(Ik(o,s,i))},_C=(o,s,i)=>{const l=s==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";o.setIconFill(l,i)},gz=(o,s)=>{o.setTooltip(s)},wC=(o,s)=>i=>{const l=pz(o,s);return Rs(l,i.toUpperCase())},CC=(o,s,i)=>{if(el(i))return s==="forecolor"?"Text color":"Background color";const l=s==="forecolor"?"Text color {0}":"Background color {0}",d=Ik(Bk(o,s),s,!1),f=V(d,p=>p.value===i).getOr({text:""}).text;return o.translate([l,o.translate(f)])},SC=(o,s,i,l)=>{o.ui.registry.addSplitButton(s,{tooltip:CC(o,i,l.get()),presets:"color",icon:s==="forecolor"?"text-color":"highlight-bg-color",select:wC(o,i),columns:uz(o,i),fetch:kC(Bk(o,i),i,fz(o)),onAction:d=>{G0(o,i,l.get(),rt)},onItemAction:(d,f)=>{G0(o,i,f,p=>{l.set(p),mC(o,{name:s,color:p})})},onSetup:d=>{_C(d,s,l.get());const f=p=>{p.name===s&&(_C(d,p.name,p.color),gz(d,CC(o,i,p.color)))};return o.on("TextColorChange",f),xy(wl(o)(d),()=>{o.off("TextColorChange",f)})}})},hz=(o,s,i,l,d)=>{o.ui.registry.addNestedMenuItem(s,{text:l,icon:s==="forecolor"?"text-color":"highlight-bg-color",onSetup:f=>(gz(f,CC(o,i,d.get())),_C(f,s,d.get()),wl(o)(f)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:wC(o,i),initData:{storageKey:i},onAction:f=>{G0(o,i,f.value,p=>{d.set(p),mC(o,{name:s,color:p})})}}]})},bz=o=>(s,i)=>{let l=!1;const d={colorpicker:i};o.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:d,onAction:(f,p)=>{p.name==="hex-valid"&&(l=p.value)},onSubmit:f=>{const p=f.getData().colorpicker;l?(s(T.from(p)),f.close()):o.windowManager.alert(o.translate(["Invalid hex color code: {0}",p]))},onClose:rt,onCancel:()=>{s(T.none())}})},Pk=(o,s,i,l,d,f,p,b)=>{const y=vk(s),_=Lk(s,i,l,d!=="color"?"normal":"color",f,p,b);return W2(o,y,_,l,{menuType:d})},Lk=(o,s,i,l,d,f,p)=>$a(Qe(o,b=>{return b.type==="choiceitem"?(y=b,Jr("choicemenuitem",tN,y)).fold(up,_=>T.some(((A,w,O,I,F,K,Q,oe=!0)=>{const W=j0({presets:O,textContent:w?A.text:T.none(),htmlContent:T.none(),ariaLabel:A.text,iconContent:A.icon,shortcutContent:w?A.shortcut:T.none(),checkMark:w?T.some(Vh(Q.icons)):T.none(),caret:T.none(),value:A.value},Q,oe),Z=A.text.filter(le(!w)).map(ne=>ys.config(Q.tooltips.getConfig({tooltipText:Q.translate(ne)})));return Hn(yy({context:A.context,data:Hh(A),enabled:A.enabled,getApi:ne=>({setActive:se=>{Ho.set(ne,se)},isActive:()=>Ho.isOn(ne),isEnabled:()=>!Jt.isDisabled(ne),setEnabled:se=>Jt.set(ne,!se)}),onAction:ne=>I(A.value),onSetup:ne=>(ne.setActive(F),rt),triggersSubmenu:!1,itemBehaviours:[...Z.toArray()]},W,K,Q),{toggling:{toggleClass:SA,toggleOnExecute:!1,selected:A.active,exclusive:!0}})})(_,i===1,l,s,f(_.value),d,p,vk(o)))):T.none();var y})),wy=(o,s)=>{const i=Ih(s);return o===1?{mode:"menu",moveOnTab:!0}:o==="auto"?{mode:"grid",selector:"."+i.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(s==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:l=>s==="color"?Pr(l.element,"[aria-checked=true]"):T.none()}},Fk=Ft("cell-over"),yz=Ft("cell-execute"),lN=(o,s,i)=>{const l=f=>oo(f,yz,{row:o,col:s}),d=(f,p)=>{p.stop(),l(f)};return bs({dom:{tag:"div",attributes:{role:"button","aria-label":i}},behaviours:it([_o("insert-table-picker-cell",[je(bo(),yo.focus),je(pl(),l),je(Cu(),d),je(Au(),d)]),Ho.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),yo.config({onFocus:f=>oo(f,Fk,{row:o,col:s})})])})},cN=o=>hn(o,s=>Qe(s,Vi)),vz=(o,s)=>Ir(`${s}x${o}`),xz={inserttable:(o,s)=>{const i=(p=>(b,y)=>p.shared.providers.translate(["{0} columns, {1} rows",y,b]))(s),l=(p=>{const b=[];for(let y=0;y<10;y++){const _=[];for(let A=0;A<10;A++){const w=p(y+1,A+1);_.push(lN(y,A,w))}b.push(_)}return b})(i),d=vz(0,0),f=Kn({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[d],behaviours:it([So.config({})])});return{type:"widget",data:{value:Ft("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[oz.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:cN(l).concat(f.asSpec()),behaviours:it([_o("insert-table-picker",[Mr(p=>{So.set(f.get(p),[d])}),lf(Fk,(p,b,y)=>{const{row:_,col:A}=y.event;((w,O,I)=>{for(let F=0;F<10;F++)for(let K=0;K<10;K++)Ho.set(w[F][K],F<=O&&K<=I)})(l,_,A),So.set(f.get(p),[vz(_+1,A+1)])}),lf(yz,(p,b,y)=>{const{row:_,col:A}=y.event;Xo(p,qf()),o.onAction({numRows:_+1,numColumns:A+1})})]),eo.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:(o,s)=>{const i=((p,b)=>{const y=p.initData.allowCustomColors&&b.colorinput.hasCustomColors();return p.initData.colors.fold(()=>Ik(b.colorinput.getColors(p.initData.storageKey),p.initData.storageKey,y),_=>_.concat(_y(y)))})(o,s),l=s.colorinput.getColorCols(o.initData.storageKey),d="color",f={...Pk(Ft("menu-value"),i,p=>{o.onAction({value:p})},l,d,Sf.CLOSE_ON_EXECUTE,o.select.getOr(Le),s.shared.providers),markers:Ih(d),movement:wy(l,d),showMenuRole:!1};return{type:"widget",data:{value:Ft("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[oz.widget(Ch.sketch(f))]}}},EC=o=>({type:"separator",dom:{tag:"div",classes:[gk,"tox-collection__group-heading"]},components:o.text.map(Ir).toArray()});var dN=Object.freeze({__proto__:null,getCoupled:(o,s,i,l)=>i.getOrCreate(o,s,l),getExistingCoupled:(o,s,i,l)=>i.getExisting(o,s,l)}),uN=[oa("others",_u(Zo.value,ul()))],fN=Object.freeze({__proto__:null,init:()=>{const o={},s=(l,d)=>{if(Fo(l.others).length===0)throw new Error("Cannot find any known coupled components");return mt(o,d)},i=le({});return yr({readState:i,getExisting:(l,d,f)=>s(d,f).orThunk(()=>(mt(d.others,f).getOrDie("No information found for coupled component: "+f),T.none())),getOrCreate:(l,d,f)=>s(d,f).getOrThunk(()=>{const p=mt(d.others,f).getOrDie("No information found for coupled component: "+f)(l),b=l.getSystem().build(p);return o[f]=b,b})})}});const Ks=cs({fields:uN,name:"coupling",apis:dN,state:fN}),AC=o=>{let s=T.none(),i=[];const l=p=>{d()?f(p):i.push(p)},d=()=>s.isSome(),f=p=>{s.each(b=>{setTimeout(()=>{p(b)},0)})};return o(p=>{d()||(s=T.some(p),Ot(i,f),i=[])}),{get:l,map:p=>AC(b=>{l(y=>{b(p(y))})}),isReady:d}},mN={nu:AC,pure:o=>AC(s=>{s(o)})},kz=o=>{setTimeout(()=>{throw o},0)},Cy=o=>{const s=i=>{o().then(i,kz)};return{map:i=>Cy(()=>o().then(i)),bind:i=>Cy(()=>o().then(l=>i(l).toPromise())),anonBind:i=>Cy(()=>o().then(()=>i.toPromise())),toLazy:()=>mN.nu(s),toCached:()=>{let i=null;return Cy(()=>(i===null&&(i=o()),i))},toPromise:o,get:s}},pg=o=>Cy(()=>new Promise(o)),bp=o=>Cy(()=>Promise.resolve(o)),_z=le("sink"),wz=le(cu({name:_z(),overrides:le({dom:{tag:"div"},behaviours:it([Ha.config({useFixed:It})]),events:tr([Od(Zr()),Od(ge()),Od(Cu())])})})),gg=(o,s)=>{const i=o.getHotspot(s).getOr(s),l="hotspot",d=o.getAnchorOverrides();return o.layouts.fold(()=>({type:l,hotspot:i,overrides:d}),f=>({type:l,hotspot:i,overrides:d,layouts:f}))},Hk=(o,s,i,l,d,f,p)=>((y,_,A,w,O,I,F)=>{const K=((oe,W,Z)=>(0,oe.fetch)(Z).map(W))(y,_,w),Q=zC(w,y);return K.map(oe=>oe.bind(W=>{const Z=W.menus[W.primary];return T.from(Z).each(ne=>{y.listRole.each(se=>{ne.role=se})}),T.from(Wl.sketch({...I.menu(),uid:Yf(""),data:W,highlightOnOpen:F,onOpenMenu:(ne,se)=>{const re=Q().getOrDie();Ha.position(re,se,{anchor:A}),vn.decloak(O)},onOpenSubmenu:(ne,se,re)=>{const ye=Q().getOrDie();Ha.position(ye,re,{anchor:{type:"submenu",item:se}}),vn.decloak(O)},onRepositionMenu:(ne,se,re)=>{const ye=Q().getOrDie();Ha.position(ye,se,{anchor:A}),Ot(re,Ae=>{Ha.position(ye,Ae.triggeredMenu,{anchor:{type:"submenu",item:Ae.triggeringItem}})})},onEscape:()=>(yo.focus(w),vn.close(O),T.some(!0))}))}))})(o,s,gg(o,i),i,l,d,p).map(y=>(y.fold(()=>{vn.isOpen(l)&&vn.close(l)},_=>{vn.cloak(l),vn.open(l,_),f(l)}),l)),pN=(o,s,i,l,d,f,p)=>(vn.close(l),bp(l)),yp=(o,s,i,l,d,f)=>{const p=Ks.getCoupled(i,"sandbox");return(vn.isOpen(p)?pN:Hk)(o,s,i,p,l,d,f)},zC=(o,s)=>o.getSystem().getByUid(s.uid+"-"+_z()).map(i=>()=>Zo.value(i)).getOrThunk(()=>s.lazySink.fold(()=>()=>Zo.error(new Error("No internal sink is specified, nor could an external sink be found")),i=>()=>i(o))),Cz=o=>{vn.getState(o).each(s=>{Wl.repositionMenus(s)})},mm=(o,s,i)=>{const l=ax(),d=zC(s,o);return{dom:{tag:"div",classes:o.sandboxClasses,attributes:{id:l.id}},behaviours:et(o.sandboxBehaviours,[X.config({store:{mode:"memory",initialValue:s}}),vn.config({onOpen:(f,p)=>{const b=gg(o,s);l.link(s.element),o.matchWidth&&((y,_,A)=>{const w=wn.getCurrent(_).getOr(_),O=ce(y.element);A?Gt(w.element,"min-width",O+"px"):((I,F)=>{q.set(I,F)})(w.element,O)})(b.hotspot,p,o.useMinWidth),o.onOpen(b,f,p),i!==void 0&&i.onOpen!==void 0&&i.onOpen(f,p)},onClose:(f,p)=>{l.unlink(s.element),d().getOr(p).element.dom.dispatchEvent(new window.FocusEvent("focusout")),i!==void 0&&i.onClose!==void 0&&i.onClose(f,p)},isPartOf:(f,p,b)=>Zm(p,b)||Zm(s,b),getAttachPoint:()=>d().getOrDie()}),wn.config({find:f=>vn.getState(f).bind(p=>wn.getCurrent(p))}),xl.config({channels:{...jb({isExtraPart:Le}),...m({doReposition:Cz})}})])}},Sz=o=>{const s=Ks.getCoupled(o,"sandbox");Cz(s)},TC=()=>[Te("sandboxClasses",[]),Ge("sandboxBehaviours",[wn,xl,vn,X])],uu=le([Ke("dom"),Ke("fetch"),dn("onOpen"),Fl("onExecute"),Te("getHotspot",T.some),Te("getAnchorOverrides",le({})),Md(),we("dropdownBehaviours",[Ho,Ks,eo,yo]),Ke("toggleClass"),Te("eventOrder",{}),bn("lazySink"),Te("matchWidth",!1),Te("useMinWidth",!1),bn("role"),bn("listRole")].concat(TC())),Ez=le([Lu({schema:[E1(),Te("fakeFocus",!1)],name:"menu",defaults:o=>({onExecute:o.onExecute})}),wz()]),ld=jl({name:"Dropdown",configFields:uu(),partFields:Ez(),factory:(o,s,i,l)=>{const d=y=>{vn.getState(y).each(_=>{Wl.highlightPrimary(_)})},f=(y,_,A)=>yp(o,Tt,y,l,_,A),p={expand:y=>{Ho.isOn(y)||f(y,rt,zs.HighlightNone).get(rt)},open:y=>{Ho.isOn(y)||f(y,rt,zs.HighlightMenuAndItem).get(rt)},refetch:y=>Ks.getExistingCoupled(y,"sandbox").fold(()=>f(y,rt,zs.HighlightMenuAndItem).map(rt),_=>Hk(o,Tt,y,_,l,rt,zs.HighlightMenuAndItem).map(rt)),isOpen:Ho.isOn,close:y=>{Ho.isOn(y)&&f(y,rt,zs.HighlightMenuAndItem).get(rt)},repositionMenus:y=>{Ho.isOn(y)&&Sz(y)}},b=(y,_)=>(Fi(y),T.some(!0));return{uid:o.uid,dom:o.dom,components:s,behaviours:Ie(o.dropdownBehaviours,[Ho.config({toggleClass:o.toggleClass,aria:{mode:"expanded"}}),Ks.config({others:{sandbox:y=>mm(o,y,{onOpen:()=>Ho.on(y),onClose:()=>Ho.off(y)})}}),eo.config({mode:"special",onSpace:b,onEnter:b,onDown:(y,_)=>{if(ld.isOpen(y)){const A=Ks.getCoupled(y,"sandbox");d(A)}else ld.open(y);return T.some(!0)},onEscape:(y,_)=>ld.isOpen(y)?(ld.close(y),T.some(!0)):T.none()}),yo.config({})]),events:_h(T.some(y=>{f(y,d,zs.HighlightMenuAndItem).get(rt)})),eventOrder:{...o.eventOrder,[pl()]:["disabling","toggling","alloy.base.behaviour"]},apis:p,domModification:{attributes:{"aria-haspopup":o.listRole.getOr("true"),...o.role.fold(()=>({}),y=>({role:y})),...o.dom.tag==="button"?{type:mt(o.dom,"attributes").bind(y=>mt(y,"type")).getOr("button")}:{}}}}},apis:{open:(o,s)=>o.open(s),refetch:(o,s)=>o.refetch(s),expand:(o,s)=>o.expand(s),close:(o,s)=>o.close(s),isOpen:(o,s)=>o.isOpen(s),repositionMenus:(o,s)=>o.repositionMenus(s)}}),OC=(o,s,i)=>{j2(o).each(l=>{var d;((f,p)=>{os(p.element,"id").each(b=>po(f.element,"aria-activedescendant",b))})(l,i),(Qo((d=s).element,B0)?T.some(d.element):Pr(d.element,"."+B0)).each(f=>{os(f,"id").each(p=>po(l.element,"aria-controls",p))})}),po(i.element,"aria-selected","true")},gN=(o,s,i)=>{po(i.element,"aria-selected","false")},Vk=o=>Ks.getExistingCoupled(o,"sandbox").bind(bk).map(yk).map(s=>s.fetchPattern).getOr("");var K0;(function(o){o[o.ContentFocus=0]="ContentFocus",o[o.UiFocus=1]="UiFocus"})(K0||(K0={}));const hN=(o,s,i,l,d)=>{const f=i.shared.providers,p=y=>d?{...y,shortcut:T.none(),icon:y.text.isSome()?T.none():y.icon}:y;switch(o.type){case"menuitem":return(b=o,Jr("menuitem",nN,b)).fold(up,y=>T.some(((_,A,w,O=!0)=>{const I=j0({presets:"normal",iconContent:_.icon,textContent:_.text,htmlContent:T.none(),ariaLabel:_.text,caret:T.none(),checkMark:T.none(),shortcutContent:_.shortcut},w,O);return yy({context:_.context,data:Hh(_),getApi:F=>({isEnabled:()=>!Jt.isDisabled(F),setEnabled:K=>Jt.set(F,!K)}),enabled:_.enabled,onAction:_.onAction,onSetup:_.onSetup,triggersSubmenu:!1,itemBehaviours:[]},I,A,w)})(p(y),s,f,l)));case"nestedmenuitem":return(y=>Jr("nestedmenuitem",KA,y))(o).fold(up,y=>T.some(((_,A,w,O=!0,I=!1)=>{const F=I?(K=w.icons,dm("chevron-down",K,[D0])):(oe=>dm("chevron-right",oe,[D0]))(w.icons);var K;const Q=j0({presets:"normal",iconContent:_.icon,textContent:_.text,htmlContent:T.none(),ariaLabel:_.text,caret:T.some(F),checkMark:T.none(),shortcutContent:_.shortcut},w,O);return yy({context:_.context,data:Hh(_),getApi:oe=>({isEnabled:()=>!Jt.isDisabled(oe),setEnabled:W=>Jt.set(oe,!W),setIconFill:(W,Z)=>{Pr(oe.element,`svg path[class="${W}"], rect[class="${W}"]`).each(ne=>{po(ne,"fill",Z)})},setTooltip:W=>{const Z=w.translate(W);po(oe.element,"aria-label",Z)}}),enabled:_.enabled,onAction:rt,onSetup:_.onSetup,triggersSubmenu:!0,itemBehaviours:[]},Q,A,w)})(p(y),s,f,l,d)));case"togglemenuitem":return(y=>Jr("togglemenuitem",fc,y))(o).fold(up,y=>T.some(((_,A,w,O=!0)=>{const I=j0({iconContent:_.icon,textContent:_.text,htmlContent:T.none(),ariaLabel:_.text,checkMark:T.some(Vh(w.icons)),caret:T.none(),shortcutContent:_.shortcut,presets:"normal",meta:_.meta},w,O);return Hn(yy({context:_.context,data:Hh(_),enabled:_.enabled,getApi:F=>({setActive:K=>{Ho.set(F,K)},isActive:()=>Ho.isOn(F),isEnabled:()=>!Jt.isDisabled(F),setEnabled:K=>Jt.set(F,!K)}),onAction:_.onAction,onSetup:_.onSetup,triggersSubmenu:!1,itemBehaviours:[]},I,A,w),{toggling:{toggleClass:SA,toggleOnExecute:!1,selected:_.active},role:_.role.getOrUndefined()})})(p(y),s,f,l)));case"separator":return(y=>Jr("separatormenuitem",kk,y))(o).fold(up,y=>T.some(EC(y)));case"fancymenuitem":return(y=>Jr("fancymenuitem",wk,y))(o).fold(up,y=>((_,A)=>mt(xz,_.fancytype).map(w=>w(_,A)))(y,i));default:return console.error("Unknown item in general menu",o),T.none()}var b},bN=(o,s,i,l,d,f,p)=>{const b=l===1,y=!b||vk(o);return $a(Qe(o,_=>{switch(_.type){case"separator":return(A=_,Jr("Autocompleter.Separator",kk,A)).fold(up,w=>T.some(EC(w)));case"cardmenuitem":return(w=>Jr("cardmenuitem",eN,w))(_).fold(up,w=>T.some(((O,I,F,K)=>{const Q={dom:QA(O.label),optComponents:[T.some({dom:{tag:"div",classes:[AA,zA]},components:tz(O.items,K)})]};return yy({context:"mode:design",data:Hh({text:T.none(),...O}),enabled:O.enabled,getApi:oe=>({isEnabled:()=>!Jt.isDisabled(oe),setEnabled:W=>{Jt.set(oe,!W),Ot(bi(oe.element,"*"),Z=>{oe.getSystem().getByDom(Z).each(ne=>{ne.hasConfigured(Jt)&&Jt.set(ne,!W)})})}}),onAction:O.onAction,onSetup:O.onSetup,triggersSubmenu:!1,itemBehaviours:T.from(K.itemBehaviours).getOr([])},Q,I,F.providers)})({...w,onAction:O=>{w.onAction(O),i(w.value,w.meta)}},d,f,{itemBehaviours:dC(w.meta,f,T.none()),cardText:{matchText:s,highlightOn:p}})));default:return(w=>Jr("Autocompleter.Item",UR,w))(_).fold(up,w=>T.some(((O,I,F,K,Q,oe,W,Z=!0)=>{const ne=j0({presets:K,textContent:T.none(),htmlContent:F?O.text.map(re=>ez(re,I)):T.none(),ariaLabel:O.text,iconContent:O.icon,shortcutContent:T.none(),checkMark:T.none(),caret:T.none(),value:O.value},W.providers,Z,O.icon),se=O.text.filter(re=>!F&&re!=="");return yy({context:"mode:design",data:Hh(O),enabled:O.enabled,getApi:le({}),onAction:re=>Q(O.value,O.meta),onSetup:le(rt),triggersSubmenu:!1,itemBehaviours:dC(O,W,se)},ne,oe,W.providers)})(w,s,b,"normal",i,d,f,y)))}var A}))},Y0=(o,s,i,l,d,f)=>{const p=vk(s),b=$a(Qe(s,_=>{const A=w=>hN(w,i,l,(O=>d?!io(O,"text"):p)(w),d);return _.type==="nestedmenuitem"&&_.getSubmenuItems().length<=0?A({..._,enabled:!1}):A(_)})),y=(_=>_.searchMode==="no-search"?{menuType:"normal"}:{menuType:"searchable",searchMode:_})(f);return(d?xk:W2)(o,p,b,1,y)},X0=o=>Wl.singleData(o.value,o),Az=o=>Mb(St(o.startContainer),o.startOffset,St(o.endContainer),o.endOffset),zz=(o,s)=>{const i=Ft("autocompleter"),l=$t(!1),d=$t(!1),f=sn(),p=bs(fs.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:i}},components:[],fireDismissalEventInstead:{},inlineBehaviours:it([_o("dismissAutocompleter",[je(gi(),()=>w()),je(Gf(),(F,K)=>{os(K.event.target,"id").each(Q=>po(St(o.getBody()),"aria-activedescendant",Q))})])]),lazySink:s.getSink})),b=()=>fs.isOpen(p),y=d.get,_=()=>{if(b()){fs.hide(p),o.dom.remove(i,!1);const F=St(o.getBody());os(F,"aria-owns").filter(K=>K===i).each(()=>{Sr(F,"aria-owns"),Sr(F,"aria-activedescendant")})}},A=()=>fs.getContent(p).bind(F=>wt(F.components(),0)),w=()=>o.execCommand("mceAutocompleterClose"),O=F=>{const K=(Q=>{const oe=mo(Q,W=>T.from(W.columns)).getOr(1);return hn(Q,W=>{const Z=W.items;return bN(Z,W.matchText,(ne,se)=>{const re={hide:()=>w(),reload:ye=>{_(),o.execCommand("mceAutocompleterReload",!1,{fetchOptions:ye})}};o.execCommand("mceAutocompleterRefreshActiveRange"),f.get().each(ye=>{l.set(!0),W.onAction(re,ye,ne,se),l.set(!1)})},oe,Sf.BUBBLE_TO_SANDBOX,s,W.highlightOn)})})(F);K.length>0?(((Q,oe)=>{const W=mo(Q,Z=>T.from(Z.columns)).getOr(1);fs.showMenuAt(p,{anchor:{type:"selection",getSelection:()=>f.get().map(Az),root:St(o.getBody())}},((Z,ne,se,re)=>{const ye=wy(ne,re),Ae=Ih(re);return{data:X0({...Z,movement:ye,menuBehaviours:py(ne!=="auto"?[]:[Mr((Ue,Fe)=>{rC(Ue,4,Ae.item).each(({numColumns:qe,numRows:nt})=>{eo.setGridSize(Ue,nt,qe)})})])}),menu:{markers:Ih(re),fakeFocus:se===K0.ContentFocus}}})(W2("autocompleter-value",!0,oe,W,{menuType:"normal"}),W,K0.ContentFocus,"normal")),A().each(Gn.highlightFirst)})(F,K),po(St(o.getBody()),"aria-owns",i),o.inline||I()):_()},I=()=>{o.dom.get(i)&&o.dom.remove(i,!1);const F=o.getDoc().documentElement,K=o.selection.getNode(),Q=(oe=>C1(oe,!0))(p.element);Ua(Q,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${K.offsetTop}px`,left:`${K.offsetLeft}px`}),o.dom.add(F,Q.dom),Pr(Q,'[role="menu"]').each(oe=>{Yo(oe,"position"),Yo(oe,"max-height")})};o.on("AutocompleterStart",({lookupData:F})=>{d.set(!0),l.set(!1),O(F)}),o.on("AutocompleterUpdate",({lookupData:F})=>O(F)),o.on("AutocompleterUpdateActiveRange",({range:F})=>f.set(F)),o.on("AutocompleterEnd",()=>{_(),d.set(!1),l.set(!1),f.clear()}),((F,K)=>{const Q=(W,Z)=>{oo(W,Zr(),{raw:Z})},oe=()=>F.getMenu().bind(Gn.getHighlighted);K.on("keydown",W=>{const Z=W.which;F.isActive()&&(F.isMenuOpen()?Z===13?(oe().each(Fi),W.preventDefault()):Z===40?(oe().fold(()=>{F.getMenu().each(Gn.highlightFirst)},ne=>{Q(ne,W)}),W.preventDefault(),W.stopImmediatePropagation()):Z!==37&&Z!==38&&Z!==39||oe().each(ne=>{Q(ne,W),W.preventDefault(),W.stopImmediatePropagation()}):Z!==13&&Z!==38&&Z!==40||F.cancelIfNecessary())}),K.on("NodeChange",()=>{!F.isActive()||F.isProcessingAction()||K.queryCommandState("mceAutoCompleterInRange")||F.cancelIfNecessary()})})({cancelIfNecessary:w,isMenuOpen:b,isActive:y,isProcessingAction:l.get,getMenu:A},o)},Sy=(o,s,i)=>qn(o,s,i).isSome(),Tz=(o,s)=>{let i=null;return{cancel:()=>{i!==null&&(clearTimeout(i),i=null)},schedule:(...l)=>{i=setTimeout(()=>{o.apply(null,l),i=null},s)}}},$k=o=>{const s=o.raw;return s.touches===void 0||s.touches.length!==1?T.none():T.some(s.touches[0])},Oz=(o,s)=>{const i={stopBackspace:!0,...s},l=(w=>{const O=sn(),I=$t(!1),F=Tz(Q=>{w.triggerEvent(ib(),Q),I.set(!0)},400),K=Ml([{key:C(),value:Q=>($k(Q).each(oe=>{F.cancel();const W={x:oe.clientX,y:oe.clientY,target:Q.target};F.schedule(Q),I.set(!1),O.set(W)}),T.none())},{key:M(),value:Q=>(F.cancel(),$k(Q).each(oe=>{O.on(W=>{((Z,ne)=>{const se=Math.abs(Z.clientX-ne.x),re=Math.abs(Z.clientY-ne.y);return se>5||re>5})(oe,W)&&O.clear()})}),T.none())},{key:j(),value:Q=>(F.cancel(),O.get().filter(oe=>ln(oe.target,Q.target)).map(oe=>I.get()?(Q.prevent(),!1):w.triggerEvent(Au(),Q)))}]);return{fireIfReady:(Q,oe)=>mt(K,oe).bind(W=>W(Q))}})(i),d=Qe(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),w=>Ti(o,w,O=>{l.fireIfReady(O,w).each(I=>{I&&O.kill()}),i.triggerEvent(w,O)&&O.kill()})),f=sn(),p=Ti(o,"paste",w=>{l.fireIfReady(w,"paste").each(O=>{O&&w.kill()}),i.triggerEvent("paste",w)&&w.kill(),f.set(setTimeout(()=>{i.triggerEvent(Eu(),w)},0))}),b=Ti(o,"keydown",w=>{i.triggerEvent("keydown",w)?w.kill():i.stopBackspace&&(O=>O.raw.which===jD[0]&&!Ce(["input","textarea"],da(O.target))&&!Sy(O.target,'[contenteditable="true"]'))(w)&&w.prevent()}),y=Ti(o,"focusin",w=>{i.triggerEvent("focusin",w)&&w.kill()}),_=sn(),A=Ti(o,"focusout",w=>{i.triggerEvent("focusout",w)&&w.kill(),_.set(setTimeout(()=>{i.triggerEvent(Fs(),w)},0))});return{unbind:()=>{Ot(d,w=>{w.unbind()}),b.unbind(),y.unbind(),A.unbind(),p.unbind(),f.on(clearTimeout),_.on(clearTimeout)}}},Dz=(o,s)=>{const i=mt(o,"target").getOr(s);return $t(i)},J0=_n([{stopped:[]},{resume:["element"]},{complete:[]}]),Rz=(o,s,i,l,d,f)=>{const p=o(s,l),b=((y,_)=>{const A=$t(!1),w=$t(!1);return{stop:()=>{A.set(!0)},cut:()=>{w.set(!0)},isStopped:A.get,isCut:w.get,event:y,setSource:_.set,getSource:_.get}})(i,d);return p.fold(()=>(f.logEventNoHandlers(s,l),J0.complete()),y=>{const _=y.descHandler;return bb(_)(b),b.isStopped()?(f.logEventStopped(s,y.element,_.purpose),J0.stopped()):b.isCut()?(f.logEventCut(s,y.element,_.purpose),J0.complete()):es(y.element).fold(()=>(f.logNoParent(s,y.element,_.purpose),J0.complete()),A=>(f.logEventResponse(s,y.element,_.purpose),J0.resume(A)))})},jk=(o,s,i,l,d,f)=>Rz(o,s,i,l,d,f).fold(It,p=>jk(o,s,i,p,d,f),Le),Nz=(o,s,i,l,d)=>{const f=Dz(i,l);return jk(o,s,i,l,f,d)},Q0=()=>{const o=(()=>{const l={};return{registerId:(d,f,p)=>{Jn(p,(b,y)=>{const _=l[y]!==void 0?l[y]:{};_[f]=((A,w)=>({cHandler:lt.apply(void 0,[A.handler].concat(w)),purpose:A.purpose}))(b,d),l[y]=_})},unregisterId:d=>{Jn(l,(f,p)=>{io(f,d)&&delete f[d]})},filterByType:d=>mt(l,d).map(f=>Rr(f,(p,b)=>((y,_)=>({id:y,descHandler:_}))(b,p))).getOr([]),find:(d,f,p)=>mt(l,f).bind(b=>Bl(p,y=>((_,A)=>Hm(A).bind(w=>mt(_,w)).map(w=>((O,I)=>({element:O,descHandler:I}))(A,w)))(b,y),d))}})(),s={},i=l=>{Hm(l.element).each(d=>{delete s[d],o.unregisterId(d)})};return{find:(l,d,f)=>o.find(l,d,f),filter:l=>o.filterByType(l),register:l=>{const d=(p=>{const b=p.element;return Hm(b).getOrThunk(()=>((y,_)=>{const A=Ft(Fm+"uid-");return eh(_,A),A})(0,p.element))})(l);Mo(s,d)&&((p,b)=>{const y=s[b];if(y!==p)throw new Error('The tagId "'+b+'" is already used by: '+ic(y.element)+`
Cannot use it for: `+ic(p.element)+`
The conflicting element is`+(Qn(y.element)?" ":" not ")+"already in the DOM");i(p)})(l,d);const f=[l];o.registerId(f,d,l.events),s[d]=l},unregister:i,getById:l=>mt(s,l)}},Hd=rd({name:"Container",factory:o=>{const{attributes:s,...i}=o.dom;return{uid:o.uid,dom:{tag:"div",attributes:{role:"presentation",...s},...i},components:o.components,behaviours:Ee(o.containerBehaviours),events:o.events,domModification:o.domModification,eventOrder:o.eventOrder}},configFields:[Te("components",[]),we("containerBehaviours",[]),Te("events",{}),Te("domModification",{}),Te("eventOrder",{})]}),Uk=o=>{const s=Q=>es(o.element).fold(It,oe=>ln(Q,oe)),i=Q0(),l=(Q,oe)=>i.find(s,Q,oe),d=Oz(o.element,{triggerEvent:(Q,oe)=>Zp(Q,oe.target,W=>((Z,ne,se,re)=>Nz(Z,ne,se,se.target,re))(l,Q,oe,W))}),f={debugInfo:le("real"),triggerEvent:(Q,oe,W)=>{Zp(Q,oe,Z=>Nz(l,Q,W,oe,Z))},triggerFocus:(Q,oe)=>{Hm(Q).fold(()=>{Qa(Q)},W=>{Zp(wc(),Q,Z=>(((ne,se,re,ye,Ae)=>{const Ue=Dz(re,ye);Rz(ne,se,re,ye,Ue,Ae)})(l,wc(),{originator:oe,kill:rt,prevent:rt,target:Q},Q,Z),!1))})},triggerEscape:(Q,oe)=>{f.triggerEvent("keydown",Q.element,oe.event)},getByUid:Q=>F(Q),getByDom:Q=>K(Q),build:bs,buildOrPatch:vb,addToGui:Q=>{y(Q)},removeFromGui:Q=>{_(Q)},addToWorld:Q=>{p(Q)},removeFromWorld:Q=>{b(Q)},broadcast:Q=>{w(Q)},broadcastOn:(Q,oe)=>{O(Q,oe)},broadcastEvent:(Q,oe)=>{I(Q,oe)},isConnected:It},p=Q=>{Q.connect(f),ks(Q.element)||(i.register(Q),Ot(Q.components(),p),f.triggerEvent(nf(),Q.element,{target:Q.element}))},b=Q=>{ks(Q.element)||(Ot(Q.components(),b),i.unregister(Q)),Q.disconnect()},y=Q=>{gf(o,Q)},_=Q=>{Iu(Q)},A=Q=>{const oe=i.filter(Gc());Ot(oe,W=>{const Z=W.descHandler;bb(Z)(Q)})},w=Q=>{A({universal:!0,data:Q})},O=(Q,oe)=>{A({universal:!1,channels:Q,data:oe})},I=(Q,oe)=>((W,Z)=>{const ne=(se=>{const re=$t(!1);return{stop:()=>{re.set(!0)},cut:rt,isStopped:re.get,isCut:Le,event:se,setSource:Xn("Cannot set source of a broadcasted event"),getSource:Xn("Cannot get source of a broadcasted event")}})(Z);return Ot(W,se=>{const re=se.descHandler;bb(re)(ne)}),ne.isStopped()})(i.filter(Q),oe),F=Q=>i.getById(Q).fold(()=>Zo.error(new Error('Could not find component with uid: "'+Q+'" in system.')),Zo.value),K=Q=>{const oe=Hm(Q).getOr("not found");return F(oe)};return p(o),{root:o,element:o.element,destroy:()=>{d.unbind(),yc(o.element)},add:y,remove:_,getByUid:F,getByDom:K,addToWorld:p,removeFromWorld:b,broadcast:w,broadcastOn:O,broadcastEvent:I}},Mz=le([Te("prefix","form-field"),we("fieldBehaviours",[wn,X])]),yN=le([cu({schema:[Ke("dom")],name:"label"}),cu({factory:{sketch:o=>({uid:o.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:o.text}})},schema:[Ke("text")],name:"aria-descriptor"}),ti({factory:{sketch:o=>{const s=((i,l)=>{const d={};return Jn(i,(f,p)=>{Ce(l,p)||(d[p]=f)}),d})(o,["factory"]);return o.factory.sketch(s)}},schema:[Ke("factory")],name:"field"})]),qo=jl({name:"FormField",configFields:Mz(),partFields:yN(),factory:(o,s,i,l)=>{const d=Ie(o.fieldBehaviours,[wn.config({find:b=>Ar(b,o,"field")}),X.config({store:{mode:"manual",getValue:b=>wn.getCurrent(b).bind(X.getValue),setValue:(b,y)=>{wn.getCurrent(b).each(_=>{X.setValue(_,y)})}}})]),f=tr([Mr((b,y)=>{const _=V4(b,o,["label","field","aria-descriptor"]);_.field().each(A=>{const w=Ft(o.prefix);_.label().each(O=>{po(O.element,"for",w),po(A.element,"id",w)}),_["aria-descriptor"]().each(O=>{const I=Ft(o.prefix);po(O.element,"id",I),po(A.element,"aria-describedby",I)})})})]),p={getField:b=>Ar(b,o,"field"),getLabel:b=>Ar(b,o,"label")};return{uid:o.uid,dom:o.dom,components:s,behaviours:d,events:f,apis:p}},apis:{getField:(o,s)=>o.getField(s),getLabel:(o,s)=>o.getLabel(s)}});var vN=tinymce.util.Tools.resolve("tinymce.html.Entities");const ev=(o,s,i,l)=>{const d=DC(o,s,i,l);return qo.sketch(d)},DC=(o,s,i,l)=>({dom:RC(i),components:o.toArray().concat([s]),fieldBehaviours:it(l)}),RC=o=>({tag:"div",classes:["tox-form__group"].concat(o)}),vp=(o,s)=>qo.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Ir(s.translate(o))]}),Gl=Ft("form-component-change"),Bz=Ft("form-component-input"),Ey=Ft("form-close"),hg=Ft("form-cancel"),pm=Ft("form-action"),tv=Ft("form-submit"),Zk=Ft("form-block"),NC=Ft("form-unblock"),Iz=Ft("form-tabchange"),Wk=Ft("form-resize"),Pz=(o,s,i)=>{const l=o.label.map(w=>vp(w,s)),d=s.icons(),f=w=>(O,I)=>{qn(I.event.target,"[data-collection-item-value]").each(F=>{w(O,I,F,as(F,"data-collection-item-value"))})},p=f((w,O,I,F)=>{O.stop(),s.checkUiComponentContext("mode:design").shouldDisable||s.isDisabled()||oo(w,pm,{name:o.name,value:F})}),b=[je(bo(),f((w,O,I)=>{Qa(I,!0)})),je(Cu(),p),je(Au(),p),je(Kt(),f((w,O,I)=>{Pr(w.element,"."+Bh).each(F=>{Yt(F,Bh)}),_t(I,Bh)})),je(Nr(),f(w=>{Pr(w.element,"."+Bh).each(O=>{Yt(O,Bh),Kp(O)})})),sc(f((w,O,I,F)=>{oo(w,pm,{name:o.name,value:F})}))],y=(w,O)=>Qe(bi(w.element,".tox-collection__item"),O),_=qo.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(o.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:Tt},behaviours:it([Jt.config({disabled:()=>s.checkUiComponentContext(o.context).shouldDisable,onDisabled:w=>{y(w,O=>{_t(O,"tox-collection__item--state-disabled"),po(O,"aria-disabled",!0)})},onEnabled:w=>{y(w,O=>{Yt(O,"tox-collection__item--state-disabled"),Sr(O,"aria-disabled")})}}),Gs(()=>s.checkUiComponentContext(o.context)),So.config({}),ys.config({...s.tooltips.getConfig({tooltipText:"",onShow:w=>{Pr(w.element,"."+Bh+"[data-mce-tooltip]").each(O=>{os(O,"data-mce-tooltip").each(I=>{ys.setComponents(w,s.tooltips.getComponents({tooltipText:I}))})})}}),mode:"children-keyboard-focus",anchor:w=>({type:"node",node:Pr(w.element,"."+Bh).orThunk(()=>Lc(".tox-collection__item")),root:w.element,layouts:{onLtr:le([xs,As,Hs,hi,qs,Sa]),onRtl:le([xs,As,Hs,hi,qs,Sa])},bubble:Ui(0,-2,{})})}),X.config({store:{mode:"memory",initialValue:i.getOr([])},onSetValue:(w,O)=>{((I,F)=>{const K=s.checkUiComponentContext("mode:design").shouldDisable||s.isDisabled()?" tox-collection__item--state-disabled":"",Q=Qe(F,Z=>{const ne=du.translate(Z.text),se=o.columns===1?`<div class="tox-collection__item-label">${ne}</div>`:"",re=`<div class="tox-collection__item-icon">${(Ue=>{var Fe;return(Fe=d[Ue])!==null&&Fe!==void 0?Fe:Ue})(Z.icon)}</div>`,ye={_:" "," - ":" ","-":" "},Ae=ne.replace(/\_| \- |\-/g,Ue=>ye[Ue]);return`<div data-mce-tooltip="${Ae}" class="tox-collection__item${K}" tabindex="-1" data-collection-item-value="${vN.encodeAllRaw(Z.value)}" aria-label="${Ae}">${re}${se}</div>`}),oe=o.columns!=="auto"&&o.columns>1?xt(Q,o.columns):[Q],W=Qe(oe,Z=>`<div class="tox-collection__group">${Z.join("")}</div>`);Bm(I.element,W.join(""))})(w,O),o.columns==="auto"&&rC(w,5,"tox-collection__item").each(({numRows:I,numColumns:F})=>{eo.setGridSize(w,I,F)}),Xo(w,Wk)}}),cr.config({}),eo.config((A=o.columns,A===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:A==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:".tox-collection__group",cell:`.${gk}`}})),_o("collection-events",b)]),eventOrder:{[pl()]:["disabling","alloy.base.behaviour","collection-events"],[Kt()]:["collection-events","tooltipping"]}});var A;return ev(l,_,["tox-form__group--collection"],[])},Lz=["input","textarea"],Fz=o=>{const s=da(o);return Ce(Lz,s)},qk=(o,s)=>{const i=s.getRoot(o).getOr(o.element);Yt(i,s.invalidClass),s.notify.each(l=>{Fz(o.element)&&po(o.element,"aria-invalid",!1),l.getContainer(o).each(d=>{Bm(d,l.validHtml)}),l.onValid(o)})},Hz=(o,s,i,l)=>{const d=s.getRoot(o).getOr(o.element);_t(d,s.invalidClass),s.notify.each(f=>{Fz(o.element)&&po(o.element,"aria-invalid",!0),f.getContainer(o).each(p=>{Bm(p,l)}),f.onInvalid(o,l)})},Vz=(o,s,i)=>s.validator.fold(()=>bp(Zo.value(!0)),l=>l.validate(o)),MC=(o,s,i)=>(s.notify.each(l=>{l.onValidate(o)}),Vz(o,s).map(l=>o.getSystem().isConnected()?l.fold(d=>(Hz(o,s,0,d),Zo.error(d)),d=>(qk(o,s),Zo.value(d))):Zo.error("No longer in system")));var xN=Object.freeze({__proto__:null,markValid:qk,markInvalid:Hz,query:Vz,run:MC,isInvalid:(o,s)=>{const i=s.getRoot(o).getOr(o.element);return Qo(i,s.invalidClass)}}),kN=Object.freeze({__proto__:null,events:(o,s)=>o.validator.map(i=>tr([je(i.onEvent,l=>{MC(l,o).get(Tt)})].concat(i.validateOnLoad?[Mr(l=>{MC(l,o).get(rt)})]:[]))).getOr({})}),$z=[Ke("invalidClass"),Te("getRoot",T.none),fi("notify",[Te("aria","alert"),Te("getContainer",T.none),Te("validHtml",""),dn("onValid"),dn("onInvalid"),dn("onValidate")]),fi("validator",[Ke("validate"),Te("onEvent","input"),Te("validateOnLoad",!0)])];const $u=cs({fields:$z,name:"invalidating",active:kN,apis:xN,extra:{validation:o=>s=>{const i=X.getValue(s);return bp(o(i))}}}),ov=cs({fields:[],name:"unselecting",active:Object.freeze({__proto__:null,events:()=>tr([Hi(Ug(),It)]),exhibit:()=>bl({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})})}),nv=Ft("color-input-change"),jz=Ft("color-swatch-change"),Uz=Ft("color-picker-cancel"),_N=cu({schema:[Ke("dom")],name:"label"}),bg=o=>cu({name:o+"-edge",overrides:s=>s.model.manager.edgeActions[o].fold(()=>({}),i=>({events:tr([eu(C(),(l,d,f)=>i(l,f),[s]),eu(ge(),(l,d,f)=>i(l,f),[s]),eu(ot(),(l,d,f)=>{f.mouseIsDown.get()&&i(l,f)},[s])])}))}),wN=bg("top-left"),CN=bg("top"),Zz=bg("top-right"),SN=bg("right"),EN=bg("bottom-right"),BC=bg("bottom"),jh=bg("bottom-left"),AN=bg("left"),zN=ti({name:"thumb",defaults:le({dom:{styles:{position:"absolute"}}}),overrides:o=>({events:tr([hl(C(),o,"spectrum"),hl(M(),o,"spectrum"),hl(j(),o,"spectrum"),hl(ge(),o,"spectrum"),hl(ot(),o,"spectrum"),hl(Bo(),o,"spectrum")])})}),Ay=o=>yf(o.event);var Wz=[_N,AN,SN,CN,BC,wN,Zz,jh,EN,zN,ti({schema:[ta("mouseIsDown",()=>$t(!1))],name:"spectrum",overrides:o=>{const s=o.model.manager,i=(l,d)=>s.getValueFromEvent(d).map(f=>s.setValueFrom(l,o,f));return{behaviours:it([eo.config({mode:"special",onLeft:(l,d)=>s.onLeft(l,o,Ay(d)),onRight:(l,d)=>s.onRight(l,o,Ay(d)),onUp:(l,d)=>s.onUp(l,o,Ay(d)),onDown:(l,d)=>s.onDown(l,o,Ay(d))}),cr.config({}),yo.config({})]),events:tr([je(C(),i),je(M(),i),je(ge(),i),je(ot(),(l,d)=>{o.mouseIsDown.get()&&i(l,d)})])}}})];const rv=le("slider.change.value"),IC=o=>{const s=o.event.raw;if((i=>i.type.indexOf("touch")!==-1)(s)){const i=s;return i.touches!==void 0&&i.touches.length===1?T.some(i.touches[0]).map(l=>On(l.clientX,l.clientY)):T.none()}{const i=s;return i.clientX!==void 0?T.some(i).map(l=>On(l.clientX,l.clientY)):T.none()}},yg=o=>o.model.minX,Uh=o=>o.model.minY,sv=o=>o.model.minX-1,av=o=>o.model.minY-1,xp=o=>o.model.maxX,Zh=o=>o.model.maxY,iv=o=>o.model.maxX+1,Gk=o=>o.model.maxY+1,zy=(o,s,i)=>s(o)-i(o),PC=o=>zy(o,xp,yg),LC=o=>zy(o,Zh,Uh),Kk=o=>PC(o)/2,Yk=o=>LC(o)/2,Ty=(o,s)=>s?o.stepSize*o.speedMultiplier:o.stepSize,Xk=o=>o.snapToGrid,qz=o=>o.snapStart,Gz=o=>o.rounded,Oy=(o,s)=>o[s+"-edge"]!==void 0,Kz=o=>Oy(o,"left"),Yz=o=>Oy(o,"right"),Xz=o=>Oy(o,"top"),Jz=o=>Oy(o,"bottom"),kp=o=>o.model.value.get(),vg=(o,s)=>({x:o,y:s}),ju=(o,s)=>{oo(o,rv(),{value:s})},FC=(o,s,i,l)=>o<s?o:o>i?i:o===s?s-1:Math.max(s,o-l),HC=(o,s,i,l)=>o>i?o:o<s?s:o===i?i+1:Math.min(i,o+l),Qz=(o,s,i)=>Math.max(s,Math.min(i,o)),eT=o=>{const{min:s,max:i,range:l,value:d,step:f,snap:p,snapStart:b,rounded:y,hasMinEdge:_,hasMaxEdge:A,minBound:w,maxBound:O,screenRange:I}=o,F=_?s-1:s,K=A?i+1:i;if(d<w)return F;if(d>O)return K;{const Q=((W,Z,ne)=>Math.min(ne,Math.max(W,Z))-Z)(d,w,O),oe=Qz(Q/I*l+s,F,K);return p&&oe>=s&&oe<=i?((W,Z,ne,se,re)=>re.fold(()=>{const ye=W-Z,Ae=Math.round(ye/se)*se;return Qz(Z+Ae,Z-1,ne+1)},ye=>{const Ae=(W-ye)%se,Ue=Math.round(Ae/se),Fe=Math.floor((W-ye)/se),qe=Math.floor((ne-ye)/se),nt=ye+Math.min(qe,Fe+Ue)*se;return Math.max(ye,nt)}))(oe,s,i,f,b):y?Math.round(oe):oe}},tT=o=>{const{min:s,max:i,range:l,value:d,hasMinEdge:f,hasMaxEdge:p,maxBound:b,maxOffset:y,centerMinEdge:_,centerMaxEdge:A}=o;return d<s?f?0:_:d>i?p?b:A:(d-s)/l*y},lv="top",oT="right",nT="bottom",VC="left",Of=o=>o.element.dom.getBoundingClientRect(),Uu=(o,s)=>o[s],Jk=o=>{const s=Of(o);return Uu(s,VC)},rT=o=>{const s=Of(o);return Uu(s,oT)},Qk=o=>{const s=Of(o);return Uu(s,lv)},sT=o=>{const s=Of(o);return Uu(s,nT)},aT=o=>{const s=Of(o);return Uu(s,"width")},e_=o=>{const s=Of(o);return Uu(s,"height")},iT=(o,s,i)=>(o+s)/2-i,lT=(o,s)=>{const i=Of(o),l=Of(s),d=Uu(i,VC),f=Uu(i,oT),p=Uu(l,VC);return iT(d,f,p)},cT=(o,s)=>{const i=Of(o),l=Of(s),d=Uu(i,lv),f=Uu(i,nT),p=Uu(l,lv);return iT(d,f,p)},t_=(o,s)=>{oo(o,rv(),{value:s})},$C=(o,s,i)=>{const l={min:yg(s),max:xp(s),range:PC(s),value:i,step:Ty(s),snap:Xk(s),snapStart:qz(s),rounded:Gz(s),hasMinEdge:Kz(s),hasMaxEdge:Yz(s),minBound:Jk(o),maxBound:rT(o),screenRange:aT(o)};return eT(l)},dT=o=>(s,i,l)=>((d,f,p,b)=>{const y=(d>0?HC:FC)(kp(p),yg(p),xp(p),Ty(p,b));return t_(f,y),T.some(y)})(o,s,i,l).map(It),jC=(o,s,i,l,d,f)=>{const p=((b,y,_,A,w)=>{const O=aT(b),I=A.bind(Q=>T.some(lT(Q,b))).getOr(0),F=w.bind(Q=>T.some(lT(Q,b))).getOr(O),K={min:yg(y),max:xp(y),range:PC(y),value:_,hasMinEdge:Kz(y),hasMaxEdge:Yz(y),minBound:Jk(b),maxBound:rT(b),maxOffset:O,centerMinEdge:I,centerMaxEdge:F};return tT(K)})(s,f,i,l,d);return Jk(s)-Jk(o)+p},TN=dT(-1),ON=dT(1),DN=T.none,RN=T.none,NN={"top-left":T.none(),top:T.none(),"top-right":T.none(),right:T.some((o,s)=>{ju(o,iv(s))}),"bottom-right":T.none(),bottom:T.none(),"bottom-left":T.none(),left:T.some((o,s)=>{ju(o,sv(s))})};var MN=Object.freeze({__proto__:null,setValueFrom:(o,s,i)=>{const l=$C(o,s,i);return t_(o,l),l},setToMin:(o,s)=>{const i=yg(s);t_(o,i)},setToMax:(o,s)=>{const i=xp(s);t_(o,i)},findValueOfOffset:$C,getValueFromEvent:o=>IC(o).map(s=>s.left),findPositionOfValue:jC,setPositionFromValue:(o,s,i,l)=>{const d=kp(i),f=jC(o,l.getSpectrum(o),d,l.getLeftEdge(o),l.getRightEdge(o),i),p=ce(s.element)/2;Gt(s.element,"left",f-p+"px")},onLeft:TN,onRight:ON,onUp:DN,onDown:RN,edgeActions:NN});const o_=(o,s)=>{oo(o,rv(),{value:s})},Dy=(o,s,i)=>{const l={min:Uh(s),max:Zh(s),range:LC(s),value:i,step:Ty(s),snap:Xk(s),snapStart:qz(s),rounded:Gz(s),hasMinEdge:Xz(s),hasMaxEdge:Jz(s),minBound:Qk(o),maxBound:sT(o),screenRange:e_(o)};return eT(l)},uT=o=>(s,i,l)=>((d,f,p,b)=>{const y=(d>0?HC:FC)(kp(p),Uh(p),Zh(p),Ty(p,b));return o_(f,y),T.some(y)})(o,s,i,l).map(It),cv=(o,s,i,l,d,f)=>{const p=((b,y,_,A,w)=>{const O=e_(b),I=A.bind(Q=>T.some(cT(Q,b))).getOr(0),F=w.bind(Q=>T.some(cT(Q,b))).getOr(O),K={min:Uh(y),max:Zh(y),range:LC(y),value:_,hasMinEdge:Xz(y),hasMaxEdge:Jz(y),minBound:Qk(b),maxBound:sT(b),maxOffset:O,centerMinEdge:I,centerMaxEdge:F};return tT(K)})(s,f,i,l,d);return Qk(s)-Qk(o)+p},BN=T.none,IN=T.none,PN=uT(-1),fT=uT(1),LN={"top-left":T.none(),top:T.some((o,s)=>{ju(o,av(s))}),"top-right":T.none(),right:T.none(),"bottom-right":T.none(),bottom:T.some((o,s)=>{ju(o,Gk(s))}),"bottom-left":T.none(),left:T.none()};var UC=Object.freeze({__proto__:null,setValueFrom:(o,s,i)=>{const l=Dy(o,s,i);return o_(o,l),l},setToMin:(o,s)=>{const i=Uh(s);o_(o,i)},setToMax:(o,s)=>{const i=Zh(s);o_(o,i)},findValueOfOffset:Dy,getValueFromEvent:o=>IC(o).map(s=>s.top),findPositionOfValue:cv,setPositionFromValue:(o,s,i,l)=>{const d=kp(i),f=cv(o,l.getSpectrum(o),d,l.getTopEdge(o),l.getBottomEdge(o),i),p=xr(s.element)/2;Gt(s.element,"top",f-p+"px")},onLeft:BN,onRight:IN,onUp:PN,onDown:fT,edgeActions:LN});const Ry=(o,s)=>{oo(o,rv(),{value:s})},dv=(o,s)=>({x:o,y:s}),Ny=(o,s)=>(i,l,d)=>((f,p,b,y,_)=>{const A=f>0?HC:FC,w=p?kp(y).x:A(kp(y).x,yg(y),xp(y),Ty(y,_)),O=p?A(kp(y).y,Uh(y),Zh(y),Ty(y,_)):kp(y).y;return Ry(b,dv(w,O)),T.some(w)})(o,s,i,l,d).map(It),n_=Ny(-1,!1),mT=Ny(1,!1),gm=Ny(-1,!0),ZC=Ny(1,!0),FN={"top-left":T.some((o,s)=>{ju(o,vg(sv(s),av(s)))}),top:T.some((o,s)=>{ju(o,vg(Kk(s),av(s)))}),"top-right":T.some((o,s)=>{ju(o,vg(iv(s),av(s)))}),right:T.some((o,s)=>{ju(o,vg(iv(s),Yk(s)))}),"bottom-right":T.some((o,s)=>{ju(o,vg(iv(s),Gk(s)))}),bottom:T.some((o,s)=>{ju(o,vg(Kk(s),Gk(s)))}),"bottom-left":T.some((o,s)=>{ju(o,vg(sv(s),Gk(s)))}),left:T.some((o,s)=>{ju(o,vg(sv(s),Yk(s)))})};var HN=Object.freeze({__proto__:null,setValueFrom:(o,s,i)=>{const l=$C(o,s,i.left),d=Dy(o,s,i.top),f=dv(l,d);return Ry(o,f),f},setToMin:(o,s)=>{const i=yg(s),l=Uh(s);Ry(o,dv(i,l))},setToMax:(o,s)=>{const i=xp(s),l=Zh(s);Ry(o,dv(i,l))},getValueFromEvent:o=>IC(o),setPositionFromValue:(o,s,i,l)=>{const d=kp(i),f=jC(o,l.getSpectrum(o),d.x,l.getLeftEdge(o),l.getRightEdge(o),i),p=cv(o,l.getSpectrum(o),d.y,l.getTopEdge(o),l.getBottomEdge(o),i),b=ce(s.element)/2,y=xr(s.element)/2;Gt(s.element,"left",f-b+"px"),Gt(s.element,"top",p-y+"px")},onLeft:n_,onRight:mT,onUp:gm,onDown:ZC,edgeActions:FN});const Zu=jl({name:"Slider",configFields:[Te("stepSize",1),Te("speedMultiplier",10),Te("onChange",rt),Te("onChoose",rt),Te("onInit",rt),Te("onDragStart",rt),Te("onDragEnd",rt),Te("snapToGrid",!1),Te("rounded",!0),bn("snapStart"),oa("model",ea("mode",{x:[Te("minX",0),Te("maxX",100),ta("value",o=>$t(o.mode.minX)),Ke("getInitialValue"),Br("manager",MN)],y:[Te("minY",0),Te("maxY",100),ta("value",o=>$t(o.mode.minY)),Ke("getInitialValue"),Br("manager",UC)],xy:[Te("minX",0),Te("maxX",100),Te("minY",0),Te("maxY",100),ta("value",o=>$t({x:o.mode.minX,y:o.mode.minY})),Ke("getInitialValue"),Br("manager",HN)]})),we("sliderBehaviours",[eo,X]),ta("mouseIsDown",()=>$t(!1))],partFields:Wz,factory:(o,s,i,l)=>{const d=W=>ng(W,o,"thumb"),f=W=>ng(W,o,"spectrum"),p=W=>Ar(W,o,"left-edge"),b=W=>Ar(W,o,"right-edge"),y=W=>Ar(W,o,"top-edge"),_=W=>Ar(W,o,"bottom-edge"),A=o.model,w=A.manager,O=(W,Z)=>{w.setPositionFromValue(W,Z,o,{getLeftEdge:p,getRightEdge:b,getTopEdge:y,getBottomEdge:_,getSpectrum:f})},I=(W,Z)=>{A.value.set(Z);const ne=d(W);O(W,ne)},F=W=>{const Z=o.mouseIsDown.get();o.mouseIsDown.set(!1),Z&&Ar(W,o,"thumb").each(ne=>{const se=A.value.get();o.onChoose(W,ne,se)})},K=(W,Z)=>{Z.stop(),o.mouseIsDown.set(!0),o.onDragStart(W,d(W))},Q=(W,Z)=>{Z.stop(),o.onDragEnd(W,d(W)),F(W)},oe=W=>{Ar(W,o,"spectrum").map(eo.focusIn)};return{uid:o.uid,dom:o.dom,components:s,behaviours:Ie(o.sliderBehaviours,[eo.config({mode:"special",focusIn:oe}),X.config({store:{mode:"manual",getValue:W=>A.value.get(),setValue:I}}),xl.config({channels:{[og()]:{onReceive:F}}})]),events:tr([je(rv(),(W,Z)=>{((ne,se)=>{I(ne,se);const re=d(ne);o.onChange(ne,re,se)})(W,Z.event.value)}),Mr((W,Z)=>{const ne=A.getInitialValue();A.value.set(ne);const se=d(W);O(W,se);const re=f(W);o.onInit(W,se,re,A.value.get())}),je(C(),K),je(j(),Q),je(ge(),(W,Z)=>{oe(W),K(W,Z)}),je(Bo(),Q)]),apis:{resetToMin:W=>{w.setToMin(W,o)},resetToMax:W=>{w.setToMax(W,o)},setValue:I,refresh:O},domModification:{styles:{position:"relative"}}}},apis:{setValue:(o,s,i)=>{o.setValue(s,i)},resetToMin:(o,s)=>{o.resetToMin(s)},resetToMax:(o,s)=>{o.resetToMax(s)},refresh:(o,s)=>{o.refresh(s)}}}),WC=Ft("rgb-hex-update"),My=Ft("slider-update"),pT=Ft("palette-update"),qC="form",GC=[we("formBehaviours",[X])],gT=o=>"<alloy.field."+o+">",KC=(o,s)=>({uid:o.uid,dom:o.dom,components:s,behaviours:Ie(o.formBehaviours,[X.config({store:{mode:"manual",getValue:i=>{const l=$4(i,o);return Tn(l,(d,f)=>d().bind(p=>{return b=wn.getCurrent(p),y=new Error(`Cannot find a current component to extract the value from for form part '${f}': `+ic(p.element)),b.fold(()=>Zo.error(y),Zo.value);var b,y}).map(X.getValue))},setValue:(i,l)=>{Jn(l,(d,f)=>{Ar(i,o,f).each(p=>{wn.getCurrent(p).each(b=>{X.setValue(b,d)})})})}}})]),apis:{getField:(i,l)=>Ar(i,o,l).bind(wn.getCurrent)}}),xg={getField:hb((o,s,i)=>o.getField(s,i)),sketch:o=>{const s=(()=>{const f=[];return{field:(p,b)=>(f.push(p),Ax(qC,gT(p),b)),record:le(f)}})(),i=o(s),l=s.record(),d=Qe(l,f=>ti({name:f,pname:gT(f)}));return Gw(qC,GC,d,KC,i)}},hT=Ft("valid-input"),YC=Ft("invalid-input"),XC=Ft("validating-input"),JC="colorcustom.rgb.",bT={isEnabled:It,setEnabled:rt,immediatelyShow:rt,immediatelyHide:rt},yT=(o,s,i,l,d,f)=>{const p=(I,F)=>{const K=F.get();I!==K.isEnabled()&&(K.setEnabled(I),I?K.immediatelyShow():K.immediatelyHide())},b=(I,F,K)=>$u.config({invalidClass:s("invalid"),notify:{onValidate:Q=>{oo(Q,XC,{type:I})},onValid:Q=>{p(!1,K),oo(Q,hT,{type:I,value:X.getValue(Q)})},onInvalid:Q=>{p(!0,K),oo(Q,YC,{type:I,value:X.getValue(Q)})}},validator:{validate:Q=>{const oe=X.getValue(Q),W=F(oe)?Zo.value(!0):Zo.error(o("aria.input.invalid"));return bp(W)},validateOnLoad:!1}}),y=(I,F,K,Q,oe)=>{const W=$t(bT),Z=o(JC+"range"),ne=qo.parts.label({dom:{tag:"label"},components:[Ir(K)]}),se=qo.parts.field({data:oe,factory:Ef,inputAttributes:{type:"text","aria-label":Q,...F==="hex"?{"aria-live":"polite"}:{}},inputClasses:[s("textfield")],inputBehaviours:it([b(F,I,W),cr.config({}),ys.config({...d({tooltipText:"",onSetup:qe=>{W.set({isEnabled:()=>ys.isEnabled(qe),setEnabled:nt=>ys.setEnabled(qe,nt),immediatelyShow:()=>ys.immediateOpenClose(qe,!0),immediatelyHide:()=>ys.immediateOpenClose(qe,!1)}),ys.setEnabled(qe,!1)},onShow:(qe,nt)=>{ys.setComponents(qe,[{dom:{tag:"p",classes:[s("rgb-warning-note")]},components:[Ir(o(F==="hex"?"colorcustom.rgb.invalidHex":"colorcustom.rgb.invalid"))]}])}})})]),onSetValue:qe=>{$u.isInvalid(qe)&&$u.run(qe).get(rt)}}),re=Ft("aria-invalid"),ye=Kn(f("invalid",T.some(re),"warning")),Ae=[ne,se,Kn({dom:{tag:"div",classes:[s("invalid-icon")]},components:[ye.asSpec()]}).asSpec()],Ue=F!=="hex"?[qo.parts["aria-descriptor"]({text:Z})]:[],Fe=Ae.concat(Ue);return{dom:{tag:"div",attributes:{role:"presentation"},classes:[s("rgb-container")]},components:Fe}},_=(I,F)=>{const K=F.red,Q=F.green,oe=F.blue;X.setValue(I,{red:K,green:Q,blue:oe})},A=Kn({dom:{tag:"div",classes:[s("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),w=(I,F)=>{A.getOpt(I).each(K=>{Gt(K.element,"background-color","#"+F.value)})};return rd({factory:()=>{const I={red:$t(T.some(255)),green:$t(T.some(255)),blue:$t(T.some(255)),hex:$t(T.some("ffffff"))},F=Ae=>I[Ae].get(),K=(Ae,Ue)=>{I[Ae].set(Ue)},Q=Ae=>{const Ue=Ae.red,Fe=Ae.green,qe=Ae.blue;K("red",T.some(Ue)),K("green",T.some(Fe)),K("blue",T.some(qe))},oe=(Ae,Ue)=>{const Fe=Ue.event;Fe.type!=="hex"?K(Fe.type,T.none()):l(Ae)},W=(Ae,Ue)=>{const Fe=Ue.event;(qe=>qe.type==="hex")(Fe)?((qe,nt)=>{i(qe);const Mt=uC(nt);K("hex",T.some(Mt.value));const Xt=Z0(Mt);_(qe,Xt),Q(Xt),oo(qe,WC,{hex:Mt}),w(qe,Mt)})(Ae,Fe.value):((qe,nt,Mt)=>{const Xt=parseInt(Mt,10);K(nt,T.some(Xt)),F("red").bind(uo=>F("green").bind(No=>F("blue").map(en=>pp(uo,No,en,1)))).each(uo=>{const No=((en,ns)=>{const Qr=vy(ns);return xg.getField(en,"hex").each(Vn=>{yo.isFocused(Vn)||X.setValue(en,{hex:Qr.value})}),Qr})(qe,uo);oo(qe,WC,{hex:No}),w(qe,No)})})(Ae,Fe.type,Fe.value)},Z=Ae=>({label:o(JC+Ae+".label"),description:o(JC+Ae+".description")}),ne=Z("red"),se=Z("green"),re=Z("blue"),ye=Z("hex");return Hn(xg.sketch(Ae=>({dom:{tag:"form",classes:[s("rgb-form")],attributes:{"aria-label":o("aria.color.picker")}},components:[Ae.field("red",qo.sketch(y(um,"red",ne.label,ne.description,255))),Ae.field("green",qo.sketch(y(um,"green",se.label,se.description,255))),Ae.field("blue",qo.sketch(y(um,"blue",re.label,re.description,255))),Ae.field("hex",qo.sketch(y(nz,"hex",ye.label,ye.description,"ffffff"))),A.asSpec()],formBehaviours:it([$u.config({invalidClass:s("form-invalid")}),_o("rgb-form-events",[je(hT,W),je(YC,oe),je(XC,oe)])])})),{apis:{updateHex:(Ae,Ue)=>{X.setValue(Ae,{hex:Ue.value}),((Fe,qe)=>{const nt=Z0(qe);_(Fe,nt),Q(nt)})(Ae,Ue),w(Ae,Ue)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(I,F,K)=>{I.updateHex(F,K)}},extraApis:{}})},VN=(o,s,i,l)=>rd({name:"ColourPicker",configFields:[Ke("dom"),Te("onValidHex",rt),Te("onInvalidHex",rt)],factory:f=>{const p=yT(o,s,f.onValidHex,f.onInvalidHex,i,l),b=((oe,W)=>{const Z=Zu.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[W("sv-palette-spectrum")]}}),ne=Zu.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[W("sv-palette-thumb")],innerHtml:`<div class=${W("sv-palette-inner-thumb")} role="presentation"></div>`}}),se=(re,ye)=>{const{width:Ae,height:Ue}=re,Fe=re.getContext("2d");if(Fe===null)return;Fe.fillStyle=ye,Fe.fillRect(0,0,Ae,Ue);const qe=Fe.createLinearGradient(0,0,Ae,0);qe.addColorStop(0,"rgba(255,255,255,1)"),qe.addColorStop(1,"rgba(255,255,255,0)"),Fe.fillStyle=qe,Fe.fillRect(0,0,Ae,Ue);const nt=Fe.createLinearGradient(0,0,0,Ue);nt.addColorStop(0,"rgba(0,0,0,0)"),nt.addColorStop(1,"rgba(0,0,0,1)"),Fe.fillStyle=nt,Fe.fillRect(0,0,Ae,Ue)};return rd({factory:re=>{const ye=le({x:0,y:0}),Ae=it([wn.config({find:T.some}),yo.config({})]);return Zu.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":oe(["Saturation {0}%, Brightness {1}%",0,0])},classes:[W("sv-palette")]},model:{mode:"xy",getInitialValue:ye},rounded:!1,components:[Z,ne],onChange:(Ue,Fe,qe)=>{Lo(qe)||po(Ue.element,"aria-valuetext",oe(["Saturation {0}%, Brightness {1}%",Math.floor(qe.x),Math.floor(100-qe.y)])),oo(Ue,pT,{value:qe})},onInit:(Ue,Fe,qe,nt)=>{se(qe.element.dom,fm(Ok))},sliderBehaviours:Ae})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(re,ye,Ae)=>{((Ue,Fe)=>{const qe=Ue.components()[0].element.dom,nt=ky(Fe,100,100),Mt=gp(nt);se(qe,fm(Mt))})(ye,Ae)},setThumb:(re,ye,Ae)=>{((Ue,Fe)=>{const qe=Rk(Z0(Fe));Zu.setValue(Ue,{x:qe.saturation,y:100-qe.value}),po(Ue.element,"aria-valuetext",oe(["Saturation {0}%, Brightness {1}%",qe.saturation,qe.value]))})(ye,Ae)}},extraApis:{}})})(o,s),y={paletteRgba:$t(Ok),paletteHue:$t(0)},_=Kn(((oe,W)=>{const Z=Zu.parts.spectrum({dom:{tag:"div",classes:[W("hue-slider-spectrum")],attributes:{role:"presentation"}}}),ne=Zu.parts.thumb({dom:{tag:"div",classes:[W("hue-slider-thumb")],attributes:{role:"presentation"}}});return Zu.sketch({dom:{tag:"div",classes:[W("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:le(0)},components:[Z,ne],sliderBehaviours:it([yo.config({})]),onChange:(se,re,ye)=>{po(se.element,"aria-valuenow",Math.floor(360-3.6*ye)),oo(se,My,{value:ye})}})})(0,s)),A=Kn(b.sketch({})),w=Kn(p.sketch({})),O=(oe,W,Z)=>{A.getOpt(oe).each(ne=>{b.setHue(ne,Z)})},I=(oe,W)=>{w.getOpt(oe).each(Z=>{p.updateHex(Z,W)})},F=(oe,W,Z)=>{_.getOpt(oe).each(ne=>{Zu.setValue(ne,(se=>100-se/360*100)(Z))})},K=(oe,W)=>{A.getOpt(oe).each(Z=>{b.setThumb(Z,W)})},Q=(oe,W,Z,ne)=>{((se,re)=>{const ye=Z0(se);y.paletteRgba.set(ye),y.paletteHue.set(re)})(W,Z),Ot(ne,se=>{se(oe,W,Z)})};return{uid:f.uid,dom:f.dom,components:[A.asSpec(),_.asSpec(),w.asSpec()],behaviours:it([_o("colour-picker-events",[je(WC,(()=>{const oe=[O,F,K];return(W,Z)=>{const ne=Z.event.hex,se=(re=>Rk(Z0(re)))(ne);Q(W,ne,se.hue,oe)}})()),je(pT,(()=>{const oe=[I];return(W,Z)=>{const ne=Z.event.value,se=y.paletteHue.get(),re=ky(se,ne.x,100-ne.y),ye=hC(re);Q(W,ye,se,oe)}})()),je(My,(()=>{const oe=[O,I];return(W,Z)=>{const ne=(Ue=>(100-Ue)/100*360)(Z.event.value),se=y.paletteRgba.get(),re=Rk(se),ye=ky(ne,re.saturation,re.value),Ae=hC(ye);Q(W,Ae,ne,oe)}})())]),wn.config({find:oe=>w.getOpt(oe)}),eo.config({mode:"acyclic"})])}}}),kg=()=>wn.config({find:T.some}),QC=o=>wn.config({find:s=>ir(s.element,o).bind(i=>s.getSystem().getByDom(i).toOptional())}),$N=co([Te("preprocess",Tt),Te("postprocess",Tt)]),jN=(o,s)=>{const i=Ga("RepresentingConfigs.memento processors",$N,s);return X.config({store:{mode:"manual",getValue:l=>{const d=o.get(l),f=X.getValue(d);return i.postprocess(f)},setValue:(l,d)=>{const f=i.preprocess(d),p=o.get(l);X.setValue(p,f)}}})},_g=(o,s,i)=>X.config({store:{mode:"manual",...o.map(l=>({initialValue:l})).getOr({}),getValue:s,setValue:i}}),eS=(o,s,i)=>_g(o,l=>s(l.element),(l,d)=>i(l.element,d)),r_=o=>X.config({store:{mode:"memory",initialValue:o}}),vT={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red channel","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green channel","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue channel","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.rgb.invalid":"Numbers only, 0 to 255","colorcustom.rgb.invalidHex":"Hexadecimal only, 000000 to FFFFFF","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"};var uv=tinymce.util.Tools.resolve("tinymce.Resource");const tS=o=>io(o,"init");var _p=tinymce.util.Tools.resolve("tinymce.util.Tools");const oS=Ft("browse.files.event"),xT=(o,s,i)=>{const l=(_,A)=>{A.stop()},d=_=>(A,w)=>{Ot(_,O=>{O(A,w)})},f=Kn({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:it([_o("input-file-events",[Od(Cu()),Od(Au())])])}),p=o.label.map(_=>vp(_,s)),b=qo.parts.field({factory:qi,dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[Ir(s.translate("Browse for an image")),f.asSpec()],action:_=>{f.get(_).element.dom.click()},buttonBehaviours:it([kg(),r_(i.getOr([])),cr.config({}),V0(()=>s.checkUiComponentContext(o.context).shouldDisable),Gs(()=>s.checkUiComponentContext(o.context))])}),y={dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:it([Jt.config({disabled:()=>s.checkUiComponentContext(o.context).shouldDisable}),Gs(()=>s.checkUiComponentContext(o.context)),Ho.config({toggleClass:"dragenter",toggleOnExecute:!1}),_o("dropzone-events",[je("dragenter",d([l,Ho.toggle])),je("dragleave",d([l,Ho.toggle])),je("dragover",l),je("drop",d([l,(_,A)=>{var w;if(!Jt.isDisabled(_)){const O=A.event.raw;oo(_,oS,{files:(w=O.dataTransfer)===null||w===void 0?void 0:w.files})}}])),je(_c(),(_,A)=>{const w=A.event.raw.target;oo(_,oS,{files:w.files})})])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[Ir(s.translate("Drop an image here"))]},b]}]};return ev(p,y,["tox-form__group--stretched"],[_o("handle-files",[je(oS,(_,A)=>{qo.getField(_).each(w=>{var O,I;O=w,(I=A.event.files)&&(X.setValue(O,((F,K)=>{const Q=_p.explode(K.getOption("images_file_types"));return gn(to(F),oe=>zt(Q,W=>Qi(oe.name.toLowerCase(),`.${W.toLowerCase()}`)))})(I,s)),oo(O,Gl,{name:o.name}))})})])])},nS=(o,s)=>{let i=null;const l=()=>{En(i)||(clearTimeout(i),i=null)};return{cancel:l,throttle:(...d)=>{l(),i=setTimeout(()=>{i=null,o.apply(null,d)},s)}}},rS=Ft("alloy-fake-before-tabstop"),s_=Ft("alloy-fake-after-tabstop"),sS=o=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:o},behaviours:it([yo.config({ignore:!0}),cr.config({})])}),aS=(o,s)=>({dom:{tag:"div",classes:["tox-navobj",...o.getOr([])]},components:[sS([rS]),s,sS([s_])],behaviours:it([QC(1)])}),iS=(o,s)=>{oo(o,Zr(),{raw:{which:9,shiftKey:s}})},UN=(o,s)=>{const i=s.element;Qo(i,rS)?iS(o,!0):Qo(i,s_)&&iS(o,!1)},fv=o=>Sy(o,["."+rS,"."+s_].join(","),Le),mv=Ft("update-dialog"),a_=Ft("update-title"),i_=Ft("update-body"),lS=Ft("update-footer"),cS=Ft("body-send-message"),pv=Ft("dialog-focus-shifted"),dS=pa().browser,Wh=dS.isSafari(),ZN=dS.isFirefox(),uS=Wh||ZN,kT=dS.isChromium(),qh=({scrollTop:o,scrollHeight:s,clientHeight:i})=>Math.ceil(o)+i>=s,_T=(o,s)=>o.scrollTo(0,s==="bottom"?99999999:s),l_=(o,s,i)=>{const l=o.dom;T.from(l.contentDocument).fold(i,d=>{let f=0;const p=((y,_)=>{const A=y.body;return T.from(!/^<!DOCTYPE (html|HTML)/.test(_)&&(!kT&&!Wh||Bt(A)&&(A.scrollTop!==0||Math.abs(A.scrollHeight-A.clientHeight)>1))?A:y.documentElement)})(d,s).map(y=>(f=y.scrollTop,y)).forall(qh),b=()=>{const y=l.contentWindow;Bt(y)&&(p?_T(y,"bottom"):!p&&uS&&f!==0&&_T(y,f))};Wh&&l.addEventListener("load",b,{once:!0}),d.open(),d.write(s),d.close(),Wh||b()})},c_=To(uS,Wh?500:200).map(o=>((s,i)=>{let l=null,d=null;return{cancel:()=>{En(l)||(clearTimeout(l),l=null,d=null)},throttle:(...f)=>{d=f,En(l)&&(l=setTimeout(()=>{const p=d;l=null,d=null,s.apply(null,p)},i))}}})(l_,o)),wT=Ft("toolbar.button.execute"),wp=Ft("common-button-display-events"),fS={[pl()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[Yc()]:["toolbar-button-events",wp],[gl()]:["toolbar-button-events","dropdown-events","tooltipping"],[ge()]:["focusing","alloy.base.behaviour",wp]},d_=o=>Gt(o.element,"width",Ns(o.element,"width")),u_=(o,s,i)=>Rc(o,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:i},s),f_=(o,s)=>u_(o,s,[]),wg=(o,s)=>u_(o,s,[So.config({})]),mS=(o,s,i)=>({dom:{tag:"span",classes:[`${s}__select-label`]},components:[Ir(i.translate(o))],behaviours:it([So.config({})])}),Vd=Ft("update-menu-text"),Cg=Ft("update-menu-icon"),m_=(o,s,i,l)=>{const d=$t(rt),f=o.text.map(K=>Kn(mS(K,s,i.providers))),p=o.icon.map(K=>Kn(wg(K,i.providers.icons))),b=(K,Q)=>{const oe=X.getValue(K);return yo.focus(oe),oo(oe,"keydown",{raw:Q.event.raw}),ld.close(oe),T.some(!0)},y=o.role.fold(()=>({}),K=>({role:K})),_=T.from(o.listRole).map(K=>({listRole:K})).getOr({}),A=o.ariaLabel.fold(()=>({}),K=>({"aria-label":i.providers.translate(K)})),w=Rc("chevron-down",{tag:"div",classes:[`${s}__select-chevron`]},i.providers.icons),O=Ft("common-button-display-events"),I="dropdown-events";return Kn(ld.sketch({...o.uid?{uid:o.uid}:{},...y,..._,dom:{tag:"button",classes:[s,`${s}--select`].concat(Qe(o.classes,K=>`${s}--${K}`)),attributes:{...A,...Bt(l)?{"data-mce-name":l}:{}}},components:by([p.map(K=>K.asSpec()),f.map(K=>K.asSpec()),T.some(w)]),matchWidth:!0,useMinWidth:!0,onOpen:(K,Q,oe)=>{o.searchable&&(W=>{j2(W).each(Z=>yo.focus(Z))})(oe)},dropdownBehaviours:it([...o.dropdownBehaviours,V0(()=>o.disabled||i.providers.checkUiComponentContext(o.context).shouldDisable),Gs(()=>i.providers.checkUiComponentContext(o.context)),ov.config({}),So.config({}),...o.tooltip.map(K=>ys.config(i.providers.tooltips.getConfig({tooltipText:i.providers.translate(K)}))).toArray(),_o(I,[Af(o,d),zf(o,d)]),_o(O,[Mr((K,Q)=>{o.listRole!=="listbox"&&d_(K)})]),_o("update-dropdown-width-variable",[je(Pl(),(K,Q)=>ld.close(K))]),_o("menubutton-update-display-text",[je(Vd,(K,Q)=>{f.bind(oe=>oe.getOpt(K)).each(oe=>{So.set(oe,[Ir(i.providers.translate(Q.event.text))])})}),je(Cg,(K,Q)=>{p.bind(oe=>oe.getOpt(K)).each(oe=>{So.set(oe,[wg(Q.event.icon,i.providers.icons)])})})])]),eventOrder:Hn(fS,{[ge()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[Yc()]:["toolbar-button-events",ys.name(),I,O]}),sandboxBehaviours:it([eo.config({mode:"special",onLeft:b,onRight:b}),_o("dropdown-sandbox-events",[je(RA,(K,Q)=>{(oe=>{const W=X.getValue(oe),Z=bk(oe).map(yk);ld.refetch(W).get(()=>{const ne=Ks.getCoupled(W,"sandbox");Z.each(se=>bk(ne).each(re=>((ye,Ae)=>{X.setValue(ye,Ae.fetchPattern),ye.element.dom.selectionStart=Ae.selectionStart,ye.element.dom.selectionEnd=Ae.selectionEnd})(re,se)))})})(K),Q.stop()}),je($2,(K,Q)=>{((oe,W)=>{(Z=>vn.getState(Z).bind(Gn.getHighlighted).bind(Gn.getHighlighted))(oe).each(Z=>{((ne,se,re,ye)=>{const Ae={...ye,target:se};ne.getSystem().triggerEvent(re,se,Ae)})(oe,Z.element,W.event.eventType,W.event.interactionEvent)})})(K,Q),Q.stop()})])]),lazySink:i.getSink,toggleClass:`${s}--active`,parts:{menu:{...Ht(0,o.columns,o.presets),fakeFocus:o.searchable,...o.listRole==="listbox"?{}:{onHighlightItem:OC,onCollapseMenu:(K,Q,oe)=>{Gn.getHighlighted(oe).each(W=>{OC(K,oe,W)})},onDehighlightItem:gN}}},getAnchorOverrides:()=>({maxHeightFunction:(K,Q)=>{Mu()(K,Q-10)}}),fetch:K=>pg(lt(o.fetch,K))})).asSpec()},CT=o=>o.type==="separator",ST={type:"separator"},ET=(o,s)=>{const i=((l,d)=>{const f=Co(l,(p,b)=>(y=>xo(y))(b)?b===""?p:b==="|"?p.length>0&&!CT(p[p.length-1])?p.concat([ST]):p:io(d,b.toLowerCase())?p.concat([d[b.toLowerCase()]]):p:p.concat([b]),[]);return f.length>0&&CT(f[f.length-1])&&f.pop(),f})(xo(o)?o.split(" "):o,s);return an(i,(l,d)=>{if((f=>io(f,"getSubmenuItems"))(d)){const f=(b=>{const y=mt(b,"value").getOrThunk(()=>Ft("generated-menu-item"));return Hn({value:y},b)})(d),p=((b,y)=>{const _=b.getSubmenuItems(),A=ET(_,y);return{item:b,menus:Hn(A.menus,{[b.value]:A.items}),expansions:Hn(A.expansions,{[b.value]:b.value})}})(f,s);return{menus:Hn(l.menus,p.menus),items:[p.item,...l.items],expansions:Hn(l.expansions,p.expansions)}}return{...l,items:[d,...l.items]}},{menus:{},expansions:{},items:[]})},By=(o,s,i,l)=>{const d=Ft("primary-menu"),f=ET(o,i.shared.providers.menuItems());if(f.items.length===0)return T.none();const p=(w=>w.search.fold(()=>({searchMode:"no-search"}),O=>({searchMode:"search-with-field",placeholder:O.placeholder})))(l),b=Y0(d,f.items,s,i,l.isHorizontalMenu,p),y=(w=>w.search.fold(()=>({searchMode:"no-search"}),O=>({searchMode:"search-with-results"})))(l),_=Tn(f.menus,(w,O)=>Y0(O,w,s,i,!1,y)),A=Hn(_,na(d,b));return T.from(Wl.tieredData(d,A,f.expansions))},p_=o=>!io(o,"items"),AT="data-value",pS=(o,s,i,l,d)=>Qe(i,f=>p_(f)?{type:"togglemenuitem",...d?{}:{role:"option"},text:f.text,value:f.value,active:f.value===l,onAction:()=>{X.setValue(o,f.value),oo(o,Gl,{name:s}),yo.focus(o)}}:{type:"nestedmenuitem",text:f.text,getSubmenuItems:()=>pS(o,s,f.items,l,d)}),Gh=(o,s)=>mo(o,i=>p_(i)?To(i.value===s,i):Gh(i.items,s)),zT=rd({name:"HtmlSelect",configFields:[Ke("options"),we("selectBehaviours",[yo,X]),Te("selectClasses",[]),Te("selectAttributes",{}),bn("data")],factory:(o,s)=>{const i=Qe(o.options,d=>({dom:{tag:"option",value:d.value,innerHtml:d.text}})),l=o.data.map(d=>na("initialValue",d)).getOr({});return{uid:o.uid,dom:{tag:"select",classes:o.selectClasses,attributes:o.selectAttributes},components:i,behaviours:Ie(o.selectBehaviours,[yo.config({}),X.config({store:{mode:"manual",getValue:d=>df(d.element),setValue:(d,f)=>{const p=st(o.options);V(o.options,b=>b.value===f).isSome()?Um(d.element,f):d.element.dom.selectedIndex===-1&&f===""&&p.each(b=>Um(d.element,b.value))},...l}})])}}}),WN=le([Te("field1Name","field1"),Te("field2Name","field2"),Pm("onLockedChange"),Sc(["lockClass"]),Te("locked",!1),Ge("coupledFieldBehaviours",[wn,X]),br("onInput",rt)]),TT=(o,s)=>ti({factory:qo,name:o,overrides:i=>({fieldBehaviours:it([_o("coupled-input-behaviour",[je(pi(),l=>{((d,f,p)=>Ar(d,f,p).bind(wn.getCurrent))(l,i,s).each(d=>{Ar(l,i,"lock").each(f=>{Ho.isOn(f)&&i.onLockedChange(l,d,f),i.onInput(l)})})})])])})}),qN=le([TT("field1","field2"),TT("field2","field1"),ti({factory:qi,schema:[Ke("dom")],name:"lock",overrides:o=>({buttonBehaviours:it([Ho.config({selected:o.locked,toggleClass:o.markers.lockClass,aria:{mode:"pressed"}})])})})]),ia=jl({name:"FormCoupledInputs",configFields:WN(),partFields:qN(),factory:(o,s,i,l)=>({uid:o.uid,dom:o.dom,components:s,behaviours:et(o.coupledFieldBehaviours,[wn.config({find:T.some}),X.config({store:{mode:"manual",getValue:d=>{const f=qw(d,o,["field1","field2"]);return{[o.field1Name]:X.getValue(f.field1()),[o.field2Name]:X.getValue(f.field2())}},setValue:(d,f)=>{const p=qw(d,o,["field1","field2"]);Mo(f,o.field1Name)&&X.setValue(p.field1(),f[o.field1Name]),Mo(f,o.field2Name)&&X.setValue(p.field2(),f[o.field2Name])}}})]),apis:{getField1:d=>Ar(d,o,"field1"),getField2:d=>Ar(d,o,"field2"),getLock:d=>Ar(d,o,"lock")}}),apis:{getField1:(o,s)=>o.getField1(s),getField2:(o,s)=>o.getField2(s),getLock:(o,s)=>o.getLock(s)}}),OT=o=>{const s={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4};let i=o.value.toFixed((l=o.unit)in s?s[l]:1);var l;return i.indexOf(".")!==-1&&(i=i.replace(/\.?0*$/,"")),i+o.unit},Kh=o=>{const s=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(o);if(s!==null){const i=parseFloat(s[1]),l=s[2];return Zo.value({value:i,unit:l})}return Zo.error(o)},DT=(o,s)=>{const i={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},l=d=>io(i,d);return o.unit===s?T.some(o.value):l(o.unit)&&l(s)?i[o.unit]===i[s]?T.some(o.value):T.some(o.value/i[o.unit]*i[s]):T.none()},gv=o=>T.none(),RT=(o,s)=>{const i=Kh(o).toOptional(),l=Kh(s).toOptional();return Je(i,l,(d,f)=>DT(d,f.unit).map(p=>f.value/p).map(p=>{return b=p,y=f.unit,_=>DT(_,y).map(A=>({value:A*b,unit:y}));var b,y}).getOr(gv)).getOr(gv)},gS=(o,s)=>{const i=o.label.map(A=>vp(A,s)),l=[Jt.config({disabled:()=>o.disabled||s.checkUiComponentContext(o.context).shouldDisable}),Gs(()=>s.checkUiComponentContext(o.context)),eo.config({mode:"execution",useEnter:o.multiline!==!0,useControlEnter:o.multiline===!0,execute:A=>(Xo(A,tv),T.some(!0))}),_o("textfield-change",[je(pi(),(A,w)=>{oo(A,Gl,{name:o.name})}),je(Eu(),(A,w)=>{oo(A,Gl,{name:o.name})})]),cr.config({})],d=o.validation.map(A=>$u.config({getRoot:w=>Na(w.element),invalidClass:"tox-invalid",validator:{validate:w=>{const O=X.getValue(w),I=A.validator(O);return bp(I===!0?Zo.value(O):Zo.error(I))},validateOnLoad:A.validateOnLoad}})).toArray(),f={...o.placeholder.fold(le({}),A=>({placeholder:s.translate(A)})),...o.inputMode.fold(le({}),A=>({inputmode:A})),"data-mce-name":o.name},p=qo.parts.field({tag:o.multiline===!0?"textarea":"input",...o.data.map(A=>({data:A})).getOr({}),inputAttributes:f,inputClasses:[o.classname],inputBehaviours:it(Nn([l,d])),selectOnFocus:!1,factory:Ef}),b=o.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[p]}:p,y=(o.flex?["tox-form__group--stretched"]:[]).concat(o.maximized?["tox-form-group--maximize"]:[]),_=[Jt.config({disabled:()=>o.disabled||s.checkUiComponentContext(o.context).shouldDisable,onDisabled:A=>{qo.getField(A).each(Jt.disable)},onEnabled:A=>{qo.getField(A).each(Jt.enable)}}),Gs(()=>s.checkUiComponentContext(o.context))];return ev(i,b,y,_)},Iy=(o,s)=>s.getAnimationRoot.fold(()=>o.element,i=>i(o)),Cp=o=>o.dimension.property,Sg=(o,s)=>o.dimension.getDimension(s),hv=(o,s)=>{const i=Iy(o,s);Wn(i,[s.shrinkingClass,s.growingClass])},g_=(o,s)=>{Yt(o.element,s.openClass),_t(o.element,s.closedClass),Gt(o.element,Cp(s),"0px"),tl(o.element)},h_=(o,s)=>{Yt(o.element,s.closedClass),_t(o.element,s.openClass),Yo(o.element,Cp(s))},NT=(o,s,i,l)=>{i.setCollapsed(),Gt(o.element,Cp(s),Sg(s,o.element)),hv(o,s),g_(o,s),s.onStartShrink(o),s.onShrunk(o)},GN=(o,s,i,l)=>{const d=l.getOrThunk(()=>Sg(s,o.element));i.setCollapsed(),Gt(o.element,Cp(s),d),tl(o.element);const f=Iy(o,s);Yt(f,s.growingClass),_t(f,s.shrinkingClass),g_(o,s),s.onStartShrink(o)},MT=(o,s,i)=>{const l=Sg(s,o.element);(l==="0px"?NT:GN)(o,s,i,T.some(l))},BT=(o,s,i)=>{const l=Iy(o,s),d=Qo(l,s.shrinkingClass),f=Sg(s,o.element);h_(o,s);const p=Sg(s,o.element);(d?()=>{Gt(o.element,Cp(s),f),tl(o.element)}:()=>{g_(o,s)})(),Yt(l,s.shrinkingClass),_t(l,s.growingClass),h_(o,s),Gt(o.element,Cp(s),p),i.setExpanded(),s.onStartGrow(o)},hS=(o,s,i)=>{const l=Iy(o,s);return Qo(l,s.growingClass)===!0},bS=(o,s,i)=>{const l=Iy(o,s);return Qo(l,s.shrinkingClass)===!0};var KN=Object.freeze({__proto__:null,refresh:(o,s,i)=>{if(i.isExpanded()){Yo(o.element,Cp(s));const l=Sg(s,o.element);Gt(o.element,Cp(s),l)}},grow:(o,s,i)=>{i.isExpanded()||BT(o,s,i)},shrink:(o,s,i)=>{i.isExpanded()&&MT(o,s,i)},immediateShrink:(o,s,i)=>{i.isExpanded()&&NT(o,s,i)},hasGrown:(o,s,i)=>i.isExpanded(),hasShrunk:(o,s,i)=>i.isCollapsed(),isGrowing:hS,isShrinking:bS,isTransitioning:(o,s,i)=>hS(o,s)||bS(o,s),toggleGrow:(o,s,i)=>{(i.isExpanded()?MT:BT)(o,s,i)},disableTransitions:hv,immediateGrow:(o,s,i)=>{i.isExpanded()||(h_(o,s),Gt(o.element,Cp(s),Sg(s,o.element)),hv(o,s),i.setExpanded(),s.onStartGrow(o),s.onGrown(o))}}),YN=Object.freeze({__proto__:null,exhibit:(o,s,i)=>{const l=s.expanded;return bl(l?{classes:[s.openClass],styles:{}}:{classes:[s.closedClass],styles:na(s.dimension.property,"0px")})},events:(o,s)=>tr([zu(Cs(),(i,l)=>{l.event.raw.propertyName===o.dimension.property&&(hv(i,o),s.isExpanded()&&Yo(i.element,o.dimension.property),(s.isExpanded()?o.onGrown:o.onShrunk)(i))})])}),XN=[Ke("closedClass"),Ke("openClass"),Ke("shrinkingClass"),Ke("growingClass"),bn("getAnimationRoot"),dn("onShrunk"),dn("onStartShrink"),dn("onGrown"),dn("onStartGrow"),Te("expanded",!1),oa("dimension",ea("property",{width:[Br("property","width"),Br("getDimension",o=>ce(o)+"px")],height:[Br("property","height"),Br("getDimension",o=>xr(o)+"px")]}))];const Nc=cs({fields:XN,name:"sliding",active:YN,apis:KN,state:Object.freeze({__proto__:null,init:o=>{const s=$t(o.expanded);return yr({isExpanded:()=>s.get()===!0,isCollapsed:()=>s.get()===!1,setCollapsed:lt(s.set,!1),setExpanded:lt(s.set,!0),readState:()=>"expanded: "+s.get()})}})}),IT=o=>({isEnabled:()=>!Jt.isDisabled(o),setEnabled:s=>Jt.set(o,!s),setActive:s=>{const i=o.element;s?(_t(i,"tox-tbtn--enabled"),po(i,"aria-pressed",!0)):(Yt(i,"tox-tbtn--enabled"),Sr(i,"aria-pressed"))},isActive:()=>Qo(o.element,"tox-tbtn--enabled"),setText:s=>{oo(o,Vd,{text:s})},setIcon:s=>oo(o,Cg,{icon:s})}),bv=(o,s,i,l,d=!0,f)=>m_({text:o.text,icon:o.icon,tooltip:o.tooltip,ariaLabel:o.tooltip,searchable:o.search.isSome(),role:l,fetch:(p,b)=>{const y={pattern:o.search.isSome()?Vk(p):""};o.fetch(_=>{b(By(_,Sf.CLOSE_ON_EXECUTE,i,{isHorizontalMenu:!1,search:o.search}))},y,IT(p))},onSetup:o.onSetup,getApi:IT,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...d?[cr.config({})]:[]],context:o.context},s,i.shared,f),JN=(o,s,i)=>{const l=f=>p=>{const b=!p.isActive();p.setActive(b),f.storage.set(b),i.shared.getSink().each(y=>{s().getOpt(y).each(_=>{Qa(_.element),oo(_,pm,{name:f.name,value:f.storage.get()})})})},d=f=>p=>{p.setActive(f.storage.get())};return f=>{f(Qe(o,p=>{const b=p.text.fold(()=>({}),y=>({text:y}));return{type:p.type,active:!1,...b,context:p.context,onAction:l(p),onSetup:d(p)}}))}},PT=o=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":o}},components:[Ir(o)]}),b_=(o,s,i)=>{o.customStateIcon.each(l=>s.push(LT(l,i.shared.providers.icons,o.customStateIconTooltip.fold(()=>[],d=>[ys.config(i.shared.providers.tooltips.getConfig({tooltipText:d}))]),["tox-icon-custom-state"])))},yS=Ft("leaf-label-event-id"),vS=({leaf:o,onLeafAction:s,visible:i,treeId:l,selectedId:d,backstage:f})=>{const p=o.menu.map(y=>bv(y,"tox-mbtn",f,T.none(),i)),b=[PT(o.title)];return b_(o,b,f),p.each(y=>b.push(y)),qi.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(i?["tox-tree--leaf__label--visible"]:[])},components:b,role:"treeitem",action:y=>{s(o.id),y.getSystem().broadcastOn([`update-active-item-${l}`],{value:o.id})},eventOrder:{[Zr()]:[yS,"keying"]},buttonBehaviours:it([...i?[cr.config({})]:[],Ho.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),xl.config({channels:{[`update-active-item-${l}`]:{onReceive:(y,_)=>{(_.value===o.id?Ho.on:Ho.off)(y)}}}}),_o(yS,[Mr((y,_)=>{d.each(A=>{(A===o.id?Ho.on:Ho.off)(y)})}),je(Zr(),(y,_)=>{const A=_.event.raw.code==="ArrowLeft",w=_.event.raw.code==="ArrowRight";A?(Vl(y.element,".tox-tree--directory").each(O=>{y.getSystem().getByDom(O).each(I=>{Ru(O,".tox-tree--directory__label").each(F=>{I.getSystem().getByDom(F).each(yo.focus)})})}),_.stop()):w&&_.stop()})])])})},LT=(o,s,i,l,d)=>Rc(o,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"].concat(l||[]),behaviours:i,attributes:d},s),xS=Ft("directory-label-event-id"),QN=({directory:o,visible:s,noChildren:i,backstage:l})=>{const d=o.menu.map(y=>bv(y,"tox-mbtn",l,T.none())),f=[{dom:{tag:"div",classes:["tox-chevron"]},components:[(p=l.shared.providers.icons,LT("chevron-right",p,[]))]},PT(o.title)];var p;b_(o,f,l),d.each(y=>{f.push(y)});const b=y=>{Vl(y.element,".tox-tree--directory").each(_=>{y.getSystem().getByDom(_).each(A=>{const w=!Ho.isOn(A);Ho.toggle(A),oo(y,"expand-tree-node",{expanded:w,node:o.id})})})};return qi.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(s?["tox-tree--directory__label--visible"]:[])},components:f,action:b,eventOrder:{[Zr()]:[xS,"keying"]},buttonBehaviours:it([...s?[cr.config({})]:[],_o(xS,[je(Zr(),(y,_)=>{const A=_.event.raw.code==="ArrowRight",w=_.event.raw.code==="ArrowLeft";A&&i&&_.stop(),(A||w)&&Vl(y.element,".tox-tree--directory").each(O=>{y.getSystem().getByDom(O).each(I=>{!Ho.isOn(I)&&A||Ho.isOn(I)&&w?(b(y),_.stop()):w&&!Ho.isOn(I)&&(Vl(I.element,".tox-tree--directory").each(F=>{Ru(F,".tox-tree--directory__label").each(K=>{I.getSystem().getByDom(K).each(yo.focus)})}),_.stop())})})})])])})},e7=({children:o,onLeafAction:s,visible:i,treeId:l,expandedIds:d,selectedId:f,backstage:p})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:o.map(b=>b.type==="leaf"?vS({leaf:b,selectedId:f,onLeafAction:s,visible:i,treeId:l,backstage:p}):y_({directory:b,expandedIds:d,selectedId:f,onLeafAction:s,labelTabstopping:i,treeId:l,backstage:p})),behaviours:it([Nc.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:i}),So.config({})])}),FT=Ft("directory-event-id"),y_=({directory:o,onLeafAction:s,labelTabstopping:i,treeId:l,backstage:d,expandedIds:f,selectedId:p})=>{const{children:b}=o,y=$t(f),_=f.includes(o.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[QN({directory:o,visible:i,noChildren:o.children.length===0,backstage:d}),e7({children:b,expandedIds:f,selectedId:p,onLeafAction:s,visible:_,treeId:l,backstage:d})],behaviours:it([_o(FT,[Mr((A,w)=>{Ho.set(A,_)}),je("expand-tree-node",(A,w)=>{const{expanded:O,node:I}=w.event;y.set(O?[...y.get(),I]:y.get().filter(F=>F!==I))})]),Ho.config({...o.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(A,w)=>{const O=A.components()[1],I=(F=w,b.map(K=>K.type==="leaf"?vS({leaf:K,selectedId:p,onLeafAction:s,visible:F,treeId:l,backstage:d}):y_({directory:K,expandedIds:y.get(),selectedId:p,onLeafAction:s,labelTabstopping:F,treeId:l,backstage:d})));var F;w?Nc.grow(O):Nc.shrink(O),So.set(O,I)}})])}},HT=Ft("tree-event-id");var t7=Object.freeze({__proto__:null,events:(o,s)=>{const i=o.stream.streams.setup(o,s);return tr([je(o.event,i),Dd(()=>s.cancel())].concat(o.cancelEvent.map(l=>[je(l,()=>s.cancel())]).getOr([])))}});const VT=o=>{const s=$t(null);return yr({readState:()=>({timer:s.get()!==null?"set":"unset"}),setTimer:i=>{s.set(i)},cancel:()=>{const i=s.get();i!==null&&i.cancel()}})};var o7=Object.freeze({__proto__:null,throttle:VT,init:o=>o.stream.streams.state(o)}),$T=[oa("stream",ea("mode",{throttle:[Ke("delay"),Te("stopEvent",!0),Br("streams",{setup:(o,s)=>{const i=o.stream,l=nS(o.onStream,i.delay);return s.setTimer(l),(d,f)=>{l.throttle(d,f),i.stopEvent&&f.stop()}},state:VT})]})),Te("event","input"),bn("cancelEvent"),Pm("onStream")];const yv=cs({fields:$T,name:"streaming",active:t7,state:o7}),v_=(o,s,i)=>{const l=X.getValue(i);X.setValue(s,l),UT(s)},jT=(o,s)=>{const i=o.element,l=df(i),d=i.dom;as(i,"type")!=="number"&&s(d,l)},UT=o=>{jT(o,(s,i)=>s.setSelectionRange(i.length,i.length))},kS=le("alloy.typeahead.itemexecute"),n7=le([bn("lazySink"),Ke("fetch"),Te("minChars",5),Te("responseTime",1e3),dn("onOpen"),Te("getHotspot",T.some),Te("getAnchorOverrides",le({})),Te("layouts",T.none()),Te("eventOrder",{}),nc("model",{},[Te("getDisplayText",o=>o.meta!==void 0&&o.meta.text!==void 0?o.meta.text:o.value),Te("selectsOver",!0),Te("populateFromBrowse",!0)]),dn("onSetValue"),Fl("onExecute"),dn("onItemExecute"),Te("inputClasses",[]),Te("inputAttributes",{}),Te("inputStyles",{}),Te("matchWidth",!0),Te("useMinWidth",!1),Te("dismissOnBlur",!0),Sc(["openClass"]),bn("initialData"),bn("listRole"),we("typeaheadBehaviours",[yo,X,yv,eo,Ho,Ks]),ta("lazyTypeaheadComp",()=>$t(T.none)),ta("previewing",()=>$t(!0))].concat(cg()).concat(TC())),r7=le([Lu({schema:[E1()],name:"menu",overrides:o=>({fakeFocus:!0,onHighlightItem:(s,i,l)=>{o.previewing.get()?o.lazyTypeaheadComp.get().each(d=>{((f,p,b)=>{if(f.selectsOver){const y=X.getValue(p),_=f.getDisplayText(y),A=X.getValue(b);return f.getDisplayText(A).indexOf(_)===0?T.some(()=>{v_(0,p,b),((w,O)=>{jT(w,(I,F)=>I.setSelectionRange(O,F.length))})(p,_.length)}):T.none()}return T.none()})(o.model,d,l).fold(()=>{o.model.selectsOver?(Gn.dehighlight(i,l),o.previewing.set(!0)):o.previewing.set(!1)},f=>{f(),o.previewing.set(!1)})}):o.lazyTypeaheadComp.get().each(d=>{o.model.populateFromBrowse&&v_(o.model,d,l),os(l.element,"id").each(f=>po(d.element,"aria-activedescendant",f))})},onExecute:(s,i)=>o.lazyTypeaheadComp.get().map(l=>(oo(l,kS(),{item:i}),!0)),onHover:(s,i)=>{o.previewing.set(!1),o.lazyTypeaheadComp.get().each(l=>{o.model.populateFromBrowse&&v_(o.model,l,i)})}})})]),ZT=jl({name:"Typeahead",configFields:n7(),partFields:r7(),factory:(o,s,i,l)=>{const d=(w,O,I)=>{o.previewing.set(!1);const F=Ks.getCoupled(w,"sandbox");if(vn.isOpen(F))wn.getCurrent(F).each(K=>{Gn.getHighlighted(K).fold(()=>{I(K)},()=>{ls(F,K.element,"keydown",O)})});else{const K=Q=>{wn.getCurrent(Q).each(I)};Hk(o,p(w),w,F,l,K,zs.HighlightMenuAndItem).get(rt)}},f=OA(o),p=w=>O=>O.map(I=>{const F=Ds(I.menus),K=hn(F,Q=>gn(Q.items,oe=>oe.type==="item"));return X.getState(w).update(Qe(K,Q=>Q.data)),I}),b=w=>wn.getCurrent(w),y="typeaheadevents",_=[yo.config({}),X.config({onSetValue:o.onSetValue,store:{mode:"dataset",getDataKey:w=>df(w.element),getFallbackEntry:w=>({value:w,meta:{}}),setValue:(w,O)=>{Um(w.element,o.model.getDisplayText(O))},...o.initialData.map(w=>na("initialValue",w)).getOr({})}}),yv.config({stream:{mode:"throttle",delay:o.responseTime,stopEvent:!1},onStream:(w,O)=>{const I=Ks.getCoupled(w,"sandbox");if(yo.isFocused(w)&&df(w.element).length>=o.minChars){const F=b(I).bind(Q=>Gn.getHighlighted(Q).map(X.getValue));o.previewing.set(!0);const K=Q=>{b(I).each(oe=>{F.fold(()=>{o.model.selectsOver&&Gn.highlightFirst(oe)},W=>{Gn.highlightBy(oe,Z=>X.getValue(Z).value===W.value),Gn.getHighlighted(oe).orThunk(()=>(Gn.highlightFirst(oe),T.none()))})})};Hk(o,p(w),w,I,l,K,zs.HighlightJustMenu).get(rt)}},cancelEvent:Zg()}),eo.config({mode:"special",onDown:(w,O)=>(d(w,O,Gn.highlightFirst),T.some(!0)),onEscape:w=>{const O=Ks.getCoupled(w,"sandbox");return vn.isOpen(O)?(vn.close(O),T.some(!0)):T.none()},onUp:(w,O)=>(d(w,O,Gn.highlightLast),T.some(!0)),onEnter:w=>{const O=Ks.getCoupled(w,"sandbox"),I=vn.isOpen(O);if(I&&!o.previewing.get())return b(O).bind(F=>Gn.getHighlighted(F)).map(F=>(oo(w,kS(),{item:F}),!0));{const F=X.getValue(w);return Xo(w,Zg()),o.onExecute(O,w,F),I&&vn.close(O),T.some(!0)}}}),Ho.config({toggleClass:o.markers.openClass,aria:{mode:"expanded"}}),Ks.config({others:{sandbox:w=>mm(o,w,{onOpen:()=>Ho.on(w),onClose:()=>{o.lazyTypeaheadComp.get().each(O=>Sr(O.element,"aria-activedescendant")),Ho.off(w)}})}}),_o(y,[Mr(w=>{o.lazyTypeaheadComp.set(T.some(w))}),Dd(w=>{o.lazyTypeaheadComp.set(T.none())}),sc(w=>{const O=rt;yp(o,p(w),w,l,O,zs.HighlightMenuAndItem).get(rt)}),je(kS(),(w,O)=>{const I=Ks.getCoupled(w,"sandbox");v_(o.model,w,O.event.item),Xo(w,Zg()),o.onItemExecute(w,I,O.event.item,X.getValue(w)),vn.close(I),UT(w)})].concat(o.dismissOnBlur?[je(Fs(),w=>{const O=Ks.getCoupled(w,"sandbox");ei(O.element).isNone()&&vn.close(O)})]:[]))],A={[gl()]:[X.name(),yv.name(),y],...o.eventOrder};return{uid:o.uid,dom:N0(Hn(o,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...f,...Ie(o.typeaheadBehaviours,_)},eventOrder:A}}}),Eg=o=>({...o,toCached:()=>Eg(o.toCached()),bindFuture:s=>Eg(o.bind(i=>i.fold(l=>bp(Zo.error(l)),l=>s(l)))),bindResult:s=>Eg(o.map(i=>i.bind(s))),mapResult:s=>Eg(o.map(i=>i.map(s))),mapError:s=>Eg(o.map(i=>i.mapError(s))),foldResult:(s,i)=>o.map(l=>l.fold(s,i)),withTimeout:(s,i)=>Eg(pg(l=>{let d=!1;const f=setTimeout(()=>{d=!0,l(Zo.error(i()))},s);o.get(p=>{d||(clearTimeout(f),l(p))})}))}),s7=o=>Eg(pg(o)),x_=(o,s,i=[],l,d,f,p)=>{const b=s.fold(()=>({}),A=>({action:A})),y={buttonBehaviours:it([sC(()=>!o.enabled||p.checkUiComponentContext(o.context).shouldDisable),Gs(()=>p.checkUiComponentContext(o.context)),cr.config({}),...f.map(A=>ys.config(p.tooltips.getConfig({tooltipText:p.translate(A)}))).toArray(),_o("button press",[Wr("click")])].concat(i)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...b},_=Hn(y,{dom:l});return Hn(_,{components:d})},a7=(o,s,i,l=[],d)=>{const f={tag:"button",classes:["tox-tbtn"],attributes:{...o.tooltip.map(y=>({"aria-label":i.translate(y)})).getOr({}),"data-mce-name":d}},p=o.icon.map(y=>f_(y,i.icons)),b=by([p]);return x_(o,s,l,f,b,o.tooltip,i)},mc=o=>{switch(o){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];default:return["tox-button","tox-button--secondary"]}},fu=(o,s,i,l=[],d=[])=>{const f=i.translate(o.text),p=o.icon.map(w=>f_(w,i.icons)),b=[p.getOrThunk(()=>Ir(f))],y=o.buttonType.getOr(o.primary||o.borderless?"primary":"secondary"),_={tag:"button",classes:[...mc(y),...p.isSome()?["tox-button--icon"]:[],...o.borderless?["tox-button--naked"]:[],...d],attributes:{"aria-label":f,"data-mce-name":o.text}},A=o.icon.map(le(f));return x_(o,s,l,_,b,A,i)},_S=(o,s,i,l=[],d=[])=>{const f=fu(o,T.some(s),i,l,d);return qi.sketch(f)},k_=(o,s)=>i=>{s==="custom"?oo(i,pm,{name:o,value:{}}):s==="submit"?Xo(i,tv):s==="cancel"?Xo(i,hg):console.error("Unknown button type: ",s)},Py=(o,s,i)=>{if(((l,d)=>d==="menu")(0,s)){const l=()=>p,d=o,f={...o,type:"menubutton",search:T.none(),onSetup:b=>(b.setEnabled(o.enabled),rt),fetch:JN(d.items,l,i)},p=Kn(bv(f,"tox-tbtn",i,T.none(),!0,o.text.or(o.tooltip).getOrUndefined()));return p.asSpec()}if(((l,d)=>d==="custom"||d==="cancel"||d==="submit")(0,s)){const l=k_(o.name,s),d={...o,context:s==="cancel"?"any":o.context,borderless:!1};return _S(d,l,i.shared.providers,[])}if(((l,d)=>d==="togglebutton")(0,s))return((l,d,f)=>{var p,b;const y=l.icon.map(Z=>wg(Z,d.icons)).map(Kn),_=l.buttonType.getOr(l.primary?"primary":"secondary"),A={...l,name:(p=l.name)!==null&&p!==void 0?p:"",tooltip:l.tooltip,enabled:(b=l.enabled)!==null&&b!==void 0&&b},w=A.tooltip.or(l.text).map(Z=>({"aria-label":d.translate(Z)})).getOr({}),O=mc(_??"secondary"),I=l.icon.isSome()&&l.text.isSome(),F={tag:"button",classes:[...O.concat(l.icon.isSome()?["tox-button--icon"]:[]),...l.active?["tox-button--enabled"]:[],...I?["tox-button--icon-and-text"]:[]],attributes:{...w,...Bt(f)?{"data-mce-name":f}:{}}},K=d.translate(l.text.getOr("")),Q=Ir(K),oe=[...by([y.map(Z=>Z.asSpec())]),...l.text.isSome()?[Q]:[]],W=x_(A,T.some(Z=>{oo(Z,pm,{name:l.name,value:{setIcon:ne=>{y.map(se=>se.getOpt(Z).each(re=>{So.set(re,[wg(ne,d.icons)])}))}}})}),[],F,oe,l.tooltip,d);return qi.sketch(W)})(o,i.shared.providers,o.text.or(o.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",s),new Error("Unknown footer button type")},__={type:"separator"},i7=o=>({type:"menuitem",value:o.url,text:o.title,meta:{attach:o.attach},onAction:rt}),w_=(o,s)=>({type:"menuitem",value:s,text:o,meta:{attach:void 0},onAction:rt}),Ly=(o,s)=>(i=>Qe(i,i7))(((i,l)=>gn(l,d=>d.type===i))(o,s)),l7=o=>Ly("header",o.targets),C_=o=>Ly("anchor",o.targets),wS=o=>T.from(o.anchorTop).map(s=>w_("<top>",s)).toArray(),WT=o=>T.from(o.anchorBottom).map(s=>w_("<bottom>",s)).toArray(),Yh=(o,s)=>{const i=o.toLowerCase();return gn(s,l=>{var d;const f=l.meta!==void 0&&l.meta.text!==void 0?l.meta.text:l.text,p=(d=l.value)!==null&&d!==void 0?d:"";return ms(f.toLowerCase(),i)||ms(p.toLowerCase(),i)})},qT=Ft("aria-invalid"),c7=(o,s)=>{o.dom.checked=s},Df=o=>o.dom.checked,Lr=o=>(s,i,l,d,f)=>mt(i,"name").fold(()=>o(i,d,T.none(),f),p=>s.field(p,o(i,d,mt(l,p),f))),vv={bar:Lr((o,s)=>((i,l)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Qe(i.items,l.interpreter)}))(o,s.shared)),collection:Lr((o,s,i)=>Pz(o,s.shared.providers,i)),alertbanner:Lr((o,s)=>((i,l)=>{const d=_A(i.icon,l.icons);return Hd.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${i.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:i.url?void 0:d},components:i.url?[qi.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:d,attributes:{title:l.translate(i.iconTooltip)}},action:f=>oo(f,pm,{name:"alert-banner",value:i.url}),buttonBehaviours:it([wA()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:l.translate(i.text)}}]})})(o,s.shared.providers)),input:Lr((o,s,i)=>((l,d,f)=>gS({name:l.name,multiline:!1,label:l.label,inputMode:l.inputMode,placeholder:l.placeholder,flex:!1,disabled:!l.enabled,classname:"tox-textfield",validation:T.none(),maximized:l.maximized,data:f,context:l.context},d))(o,s.shared.providers,i)),textarea:Lr((o,s,i)=>((l,d,f)=>gS({name:l.name,multiline:!0,label:l.label,inputMode:T.none(),placeholder:l.placeholder,flex:!0,disabled:!l.enabled,classname:"tox-textarea",validation:T.none(),maximized:l.maximized,data:f,context:l.context},d))(o,s.shared.providers,i)),label:Lr((o,s,i,l)=>((d,f,p)=>{const b="tox-label",y=d.align==="center"?[`${b}--center`]:[],_=d.align==="end"?[`${b}--end`]:[],A=Kn({dom:{tag:"label",classes:[b,...y,..._]},components:[Ir(f.providers.translate(d.label))]}),w=Qe(d.items,f.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[A.asSpec(),...w],behaviours:it([kg(),So.config({}),(O=T.none(),eS(O,Xg,Bm)),eo.config({mode:"acyclic"}),_o("label",[Mr(I=>{d.for.each(F=>{p(F).each(K=>{A.getOpt(I).each(Q=>{var oe;const W=(oe=as(K.element,"id"))!==null&&oe!==void 0?oe:Ft("form-field");po(K.element,"id",W),po(Q.element,"for",W)})})})})])])};var O})(o,s.shared,l)),iframe:(HS=(o,s,i)=>((l,d,f)=>{const p="tox-dialog__iframe",b=l.transparent?[]:[`${p}--opaque`],y=l.border?["tox-navobj-bordered"]:[],_={...l.label.map(I=>({title:I})).getOr({}),...f.map(I=>({srcdoc:I})).getOr({}),...l.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},A=((I,F)=>{const K=$t(I.getOr(""));return{getValue:Q=>K.get(),setValue:(Q,oe)=>{if(K.get()!==oe){const W=Q.element,Z=()=>po(W,"srcdoc",oe);F?c_.fold(le(l_),ne=>ne.throttle)(W,oe,Z):Z()}K.set(oe)}}})(f,l.streamContent),w=l.label.map(I=>vp(I,d)),O=qo.parts.field({factory:{sketch:I=>aS(T.from(y),{uid:I.uid,dom:{tag:"iframe",attributes:_,classes:[p,...b]},behaviours:it([cr.config({}),yo.config({}),_g(f,A.getValue,A.setValue),xl.config({channels:{[pv]:{onReceive:(F,K)=>{K.newFocus.each(Q=>{Na(F.element).each(oe=>{(ln(F.element,Q)?_t:Yt)(oe,"tox-navobj-bordered-focus")})})}}}})])})}});return ev(w,O,["tox-form__group--stretched"],[])})(o,s.shared.providers,i),(o,s,i,l,d)=>{const f=Hn(s,{source:"dynamic"});return Lr(HS)(o,f,i,l,d)}),button:Lr((o,s)=>((i,l)=>{const d=k_(i.name,"custom");return f=T.none(),p=qo.parts.field({factory:qi,...fu(i,T.some(d),l,[r_(""),kg()])}),ev(f,p,[],[]);var f,p})(o,s.shared.providers)),checkbox:Lr((o,s,i)=>((l,d,f)=>{const p=w=>(w.element.dom.click(),T.some(!0)),b=qo.parts.field({factory:{sketch:Tt},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:it([kg(),Jt.config({disabled:()=>!l.enabled||d.checkUiComponentContext(l.context).shouldDisable,onDisabled:w=>{Na(w.element).each(O=>_t(O,"tox-checkbox--disabled"))},onEnabled:w=>{Na(w.element).each(O=>Yt(O,"tox-checkbox--disabled"))}}),cr.config({}),yo.config({}),eS(f,Df,c7),eo.config({mode:"special",onEnter:p,onSpace:p,stopSpaceKeyup:!0}),_o("checkbox-events",[je(_c(),(w,O)=>{oo(w,Gl,{name:l.name})})])])}),y=qo.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[Ir(d.translate(l.label))],behaviours:it([ov.config({})])}),_=w=>Rc(w==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+w]},d.icons),A=Kn({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[_("checked"),_("unchecked")]});return qo.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[b,A.asSpec(),y],fieldBehaviours:it([Jt.config({disabled:()=>!l.enabled||d.checkUiComponentContext(l.context).shouldDisable}),Gs(()=>d.checkUiComponentContext(l.context))])})})(o,s.shared.providers,i)),colorinput:Lr((o,s,i)=>((l,d,f,p)=>{const b=qo.parts.field({factory:Ef,inputClasses:["tox-textfield"],data:p,onSetValue:w=>$u.run(w).get(rt),inputBehaviours:it([Jt.config({disabled:()=>d.providers.isDisabled()||d.providers.checkUiComponentContext(l.context).shouldDisable}),Gs(()=>d.providers.checkUiComponentContext(l.context)),cr.config({}),$u.config({invalidClass:"tox-textbox-field-invalid",getRoot:w=>Na(w.element),notify:{onValid:w=>{const O=X.getValue(w);oo(w,nv,{color:O})}},validator:{validateOnLoad:!1,validate:w=>{const O=X.getValue(w);if(O.length===0)return bp(Zo.value(!0));{const I=vs("span");Gt(I,"background-color",O);const F=hr(I,"background-color").fold(()=>Zo.error("blah"),K=>Zo.value(O));return bp(F)}}}})]),selectOnFocus:!1}),y=l.label.map(w=>vp(w,d.providers)),_=(w,O)=>{oo(w,jz,{value:O})},A=Kn(((w,O)=>ld.sketch({dom:w.dom,components:w.components,toggleClass:"mce-active",dropdownBehaviours:it([V0(()=>O.providers.isDisabled()||O.providers.checkUiComponentContext(w.context).shouldDisable),Gs(()=>O.providers.checkUiComponentContext(w.context)),ov.config({}),cr.config({})]),layouts:w.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:O.getSink,fetch:I=>pg(F=>w.fetch(F)).map(F=>T.from(X0(Hn(Pk(Ft("menu-value"),F,K=>{w.onItemAction(I,K)},w.columns,w.presets,Sf.CLOSE_ON_EXECUTE,Le,O.providers),{movement:wy(w.columns,w.presets)})))),parts:{menu:Ht(0,0,w.presets)}}))({dom:{tag:"span",attributes:{"aria-label":d.providers.translate("Color swatch")}},layouts:{onRtl:()=>[qs,Hs,xs],onLtr:()=>[Hs,qs,xs]},components:[],fetch:kC(f.getColors(l.storageKey),l.storageKey,f.hasCustomColors()),columns:f.getColorCols(l.storageKey),presets:"color",onItemAction:(w,O)=>{A.getOpt(w).each(I=>{O==="custom"?f.colorPicker(F=>{F.fold(()=>Xo(I,Uz),K=>{_(I,K),dz(l.storageKey,K)})},"#ffffff"):_(I,O==="remove"?"":O)})},context:l.context},d));return qo.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:y.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[b,A.asSpec()]}]),fieldBehaviours:it([_o("form-field-events",[je(nv,(w,O)=>{A.getOpt(w).each(I=>{Gt(I.element,"background-color",O.event.color)}),oo(w,Gl,{name:l.name})}),je(jz,(w,O)=>{qo.getField(w).each(I=>{X.setValue(I,O.event.value),wn.getCurrent(w).each(yo.focus)})}),je(Uz,(w,O)=>{qo.getField(w).each(I=>{wn.getCurrent(w).each(yo.focus)})})])])})})(o,s.shared,s.colorinput,i)),colorpicker:Lr((o,s,i)=>((l,d,f)=>{const p=_=>"tox-"+_,b=VN((_=>A=>xo(A)?_.translate(vT[A]):_.translate(A))(d),p,d.tooltips.getConfig,(_,A,w=_,O=_)=>Rc(w,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+_],attributes:{title:d.translate(O),"aria-live":"polite",...A.fold(()=>({}),I=>({id:I}))}},d.icons)),y=Kn(b.sketch({dom:{tag:"div",classes:[p("color-picker-container")],attributes:{role:"presentation"}},onValidHex:_=>{oo(_,pm,{name:"hex-valid",value:!0})},onInvalidHex:_=>{oo(_,pm,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[y.asSpec()],behaviours:it([_g(f,_=>{const A=y.get(_);return wn.getCurrent(A).bind(w=>X.getValue(w).hex).map(w=>"#"+Zn(w,"#")).getOr("")},(_,A)=>{const w=T.from(/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(A)).bind(I=>wt(I,1)),O=y.get(_);wn.getCurrent(O).fold(()=>{console.log("Can not find form")},I=>{X.setValue(I,{hex:w.getOr("")}),xg.getField(I,"hex").each(F=>{Xo(F,pi())})})}),kg()])}})(0,s.shared.providers,i)),dropzone:Lr((o,s,i)=>xT(o,s.shared.providers,i)),grid:Lr((o,s)=>((i,l)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${i.columns}col`]},components:Qe(i.items,l.interpreter)}))(o,s.shared)),listbox:Lr((o,s,i)=>((l,d,f)=>{const p=zt(l.items,O=>!p_(O)),b=d.shared.providers,y=f.bind(O=>Gh(l.items,O)).orThunk(()=>st(l.items).filter(p_)),_=l.label.map(O=>vp(O,b)),A=qo.parts.field({dom:{},factory:{sketch:O=>m_({context:l.context,uid:O.uid,text:y.map(I=>I.text),icon:T.none(),tooltip:T.none(),role:To(!p,"combobox"),...p?{}:{listRole:"listbox"},ariaLabel:l.label,fetch:(I,F)=>{const K=pS(I,l.name,l.items,X.getValue(I),p);F(By(K,Sf.CLOSE_ON_EXECUTE,d,{isHorizontalMenu:!1,search:T.none()}))},onSetup:le(rt),getApi:le({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[cr.config({}),_g(y.map(I=>I.value),I=>as(I.element,AT),(I,F)=>{Gh(l.items,F).each(K=>{po(I.element,AT,K.value),oo(I,Vd,{text:K.text})})})]},"tox-listbox",d.shared)}}),w={dom:{tag:"div",classes:["tox-listboxfield"]},components:[A]};return qo.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Nn([_.toArray(),[w]]),fieldBehaviours:it([Jt.config({disabled:()=>!l.enabled||b.checkUiComponentContext(l.context).shouldDisable,onDisabled:O=>{qo.getField(O).each(Jt.disable)},onEnabled:O=>{qo.getField(O).each(Jt.enable)}})])})})(o,s,i)),selectbox:Lr((o,s,i)=>((l,d,f)=>{const p=Qe(l.items,w=>({text:d.translate(w.text),value:w.value})),b=l.label.map(w=>vp(w,d)),y=qo.parts.field({dom:{},...f.map(w=>({data:w})).getOr({}),selectAttributes:{size:l.size},options:p,factory:zT,selectBehaviours:it([Jt.config({disabled:()=>!l.enabled||d.checkUiComponentContext(l.context).shouldDisable}),cr.config({}),_o("selectbox-change",[je(_c(),(w,O)=>{oo(w,Gl,{name:l.name})})])])}),_=l.size>1?T.none():T.some(Rc("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},d.icons)),A={dom:{tag:"div",classes:["tox-selectfield"]},components:Nn([[y],_.toArray()])};return qo.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Nn([b.toArray(),[A]]),fieldBehaviours:it([Jt.config({disabled:()=>!l.enabled||d.checkUiComponentContext(l.context).shouldDisable,onDisabled:w=>{qo.getField(w).each(Jt.disable)},onEnabled:w=>{qo.getField(w).each(Jt.enable)}}),Gs(()=>d.checkUiComponentContext(l.context))])})})(o,s.shared.providers,i)),sizeinput:Lr((o,s)=>((i,l)=>{let d=gv;const f=Ft("ratio-event"),p=oe=>Rc(oe,{tag:"span",classes:["tox-icon","tox-lock-icon__"+oe]},l.icons),b=()=>!i.enabled||l.checkUiComponentContext(i.context).shouldDisable,y=Gs(()=>l.checkUiComponentContext(i.context)),_=i.label.getOr("Constrain proportions"),A=l.translate(_),w=ia.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":A,"data-mce-name":_}},components:[p("lock"),p("unlock")],buttonBehaviours:it([Jt.config({disabled:b}),y,cr.config({}),ys.config(l.tooltips.getConfig({tooltipText:A}))])}),O=oe=>({dom:{tag:"div",classes:["tox-form__group"]},components:oe}),I=oe=>qo.parts.field({factory:Ef,inputClasses:["tox-textfield"],inputBehaviours:it([Jt.config({disabled:b}),y,cr.config({}),_o("size-input-events",[je(Kt(),(W,Z)=>{oo(W,f,{isField1:oe})}),je(_c(),(W,Z)=>{oo(W,Gl,{name:i.name})})])]),selectOnFocus:!1}),F=oe=>({dom:{tag:"label",classes:["tox-label"]},components:[Ir(l.translate(oe))]}),K=ia.parts.field1(O([qo.parts.label(F("Width")),I(!0)])),Q=ia.parts.field2(O([qo.parts.label(F("Height")),I(!1)]));return ia.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[K,Q,O([F(" "),w])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(oe,W,Z)=>{Kh(X.getValue(oe)).each(ne=>{d(ne).each(se=>{X.setValue(W,OT(se))})})},coupledFieldBehaviours:it([Jt.config({disabled:b,onDisabled:oe=>{ia.getField1(oe).bind(qo.getField).each(Jt.disable),ia.getField2(oe).bind(qo.getField).each(Jt.disable),ia.getLock(oe).each(Jt.disable)},onEnabled:oe=>{ia.getField1(oe).bind(qo.getField).each(Jt.enable),ia.getField2(oe).bind(qo.getField).each(Jt.enable),ia.getLock(oe).each(Jt.enable)}}),Gs(()=>l.checkUiComponentContext("mode:design")),_o("size-input-events2",[je(f,(oe,W)=>{const Z=W.event.isField1,ne=Z?ia.getField1(oe):ia.getField2(oe),se=Z?ia.getField2(oe):ia.getField1(oe),re=ne.map(X.getValue).getOr(""),ye=se.map(X.getValue).getOr("");d=RT(re,ye)})])])})})(o,s.shared.providers)),slider:Lr((o,s,i)=>((l,d,f)=>{const p=Zu.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Ir(d.translate(l.label))]}),b=Zu.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),y=Zu.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Zu.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:l.min,maxX:l.max,getInitialValue:le(f.getOrThunk(()=>(Math.abs(l.max)-Math.abs(l.min))/2))},components:[p,b,y],sliderBehaviours:it([kg(),yo.config({})]),onChoose:(_,A,w)=>{oo(_,Gl,{name:l.name,value:w})},onChange:(_,A,w)=>{oo(_,Gl,{name:l.name,value:w})}})})(o,s.shared.providers,i)),urlinput:Lr((o,s,i)=>((l,d,f,p)=>{const b=d.shared.providers,y=W=>{const Z=X.getValue(W);f.addToHistory(Z.value,l.filetype)},_={...p.map(W=>({initialData:W})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":qT,type:"url"},minChars:0,responseTime:0,fetch:W=>{const Z=((se,re,ye)=>{var Ae,Ue;const Fe=X.getValue(re),qe=(Ue=(Ae=Fe==null?void 0:Fe.meta)===null||Ae===void 0?void 0:Ae.text)!==null&&Ue!==void 0?Ue:Fe.value;return ye.getLinkInformation().fold(()=>[],nt=>{const Mt=Yh(qe,(uo=>Qe(uo,No=>w_(No,No)))(ye.getHistory(se)));return se==="file"?(Xt=[Mt,Yh(qe,l7(nt)),Yh(qe,Nn([wS(nt),C_(nt),WT(nt)]))],Co(Xt,(uo,No)=>uo.length===0||No.length===0?uo.concat(No):uo.concat(__,No),[])):Mt;var Xt})})(l.filetype,W,f),ne=By(Z,Sf.BUBBLE_TO_SANDBOX,d,{isHorizontalMenu:!1,search:T.none()});return bp(ne)},getHotspot:W=>Q.getOpt(W),onSetValue:(W,Z)=>{W.hasConfigured($u)&&$u.run(W).get(rt)},typeaheadBehaviours:it([...f.getValidationHandler().map(W=>$u.config({getRoot:Z=>Na(Z.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(Z,ne)=>{O.getOpt(Z).each(se=>{po(se.element,"title",b.translate(ne))})}},validator:{validate:Z=>{const ne=X.getValue(Z);return s7(se=>{W({type:l.filetype,url:ne.value},re=>{if(re.status==="invalid"){const ye=Zo.error(re.message);se(ye)}else{const ye=Zo.value(re.message);se(ye)}})})},validateOnLoad:!1}})).toArray(),Jt.config({disabled:()=>!l.enabled||b.checkUiComponentContext(l.context).shouldDisable}),cr.config({}),_o("urlinput-events",[je(pi(),W=>{const Z=df(W.element),ne=Z.trim();ne!==Z&&Um(W.element,ne),l.filetype==="file"&&oo(W,Gl,{name:l.name})}),je(_c(),W=>{oo(W,Gl,{name:l.name}),y(W)}),je(Eu(),W=>{oo(W,Gl,{name:l.name}),y(W)})])]),eventOrder:{[pi()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:W=>W.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:d.shared.getSink,parts:{menu:Ht(0,0,"normal")},onExecute:(W,Z,ne)=>{oo(Z,tv,{})},onItemExecute:(W,Z,ne,se)=>{y(W),oo(W,Gl,{name:l.name})}},A=qo.parts.field({..._,factory:ZT}),w=l.label.map(W=>vp(W,b)),O=Kn(((W,Z,ne=W,se=W)=>Rc(ne,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+W],attributes:{title:b.translate(se),"aria-live":"polite",...Z.fold(()=>({}),re=>({id:re}))}},b.icons))("invalid",T.some(qT),"warning")),I=Kn({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[O.asSpec()]}),F=f.getUrlPicker(l.filetype),K=Ft("browser.url.event"),Q=Kn({dom:{tag:"div",classes:["tox-control-wrap"]},components:[A,I.asSpec()],behaviours:it([Jt.config({disabled:()=>!l.enabled||b.checkUiComponentContext(l.context).shouldDisable})])}),oe=Kn(_S({context:l.context,name:l.name,icon:T.some("browse"),text:l.picker_text.or(l.label).getOr(""),enabled:l.enabled,primary:!1,buttonType:T.none(),borderless:!0},W=>Xo(W,K),b,[],["tox-browse-url"]));return qo.sketch({dom:RC([]),components:w.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:Nn([[Q.asSpec()],F.map(()=>oe.asSpec()).toArray()])}]),fieldBehaviours:it([Jt.config({disabled:()=>!l.enabled||b.checkUiComponentContext(l.context).shouldDisable,onDisabled:W=>{qo.getField(W).each(Jt.disable),oe.getOpt(W).each(Jt.disable)},onEnabled:W=>{qo.getField(W).each(Jt.enable),oe.getOpt(W).each(Jt.enable)}}),Gs(()=>b.checkUiComponentContext(l.context)),_o("url-input-events",[je(K,W=>{wn.getCurrent(W).each(Z=>{const ne=X.getValue(Z),se={fieldname:l.name,...ne};F.each(re=>{re(se).get(ye=>{X.setValue(Z,ye),oo(W,Gl,{name:l.name})})})})})])])})})(o,s,s.urlinput,i)),customeditor:Lr(o=>{const s=sn(),i=Kn({dom:{tag:o.tag}}),l=sn(),d=!tS(o)&&o.onFocus.isSome()?[yo.config({onFocus:f=>{o.onFocus.each(p=>{p(f.element.dom)})}}),cr.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:it([_o("custom-editor-events",[Mr(f=>{i.getOpt(f).each(p=>{(tS(o)?o.init(p.element.dom):uv.load(o.scriptId,o.scriptUrl).then(b=>b(p.element.dom,o.settings))).then(b=>{l.on(y=>{b.setValue(y)}),l.clear(),s.set(b)})})})]),_g(T.none(),()=>s.get().fold(()=>l.get().getOr(""),f=>f.getValue()),(f,p)=>{s.get().fold(()=>l.set(p),b=>b.setValue(p))}),kg()].concat(d)),components:[i.asSpec()]}}),htmlpanel:Lr((o,s)=>((i,l)=>{const d=["tox-form__group",...i.stretched?["tox-form__group--stretched"]:[]],f=_o("htmlpanel",[Mr(p=>{i.onInit(p.element.dom)})]);return i.presets==="presentation"?Hd.sketch({dom:{tag:"div",classes:d,innerHtml:i.html},containerBehaviours:it([ys.config({...l.tooltips.getConfig({tooltipText:"",onShow:p=>{Pr(p.element,"[data-mce-tooltip]:hover").orThunk(()=>ei(p.element)).each(b=>{os(b,"data-mce-tooltip").each(y=>{ys.setComponents(p,l.tooltips.getComponents({tooltipText:y}))})})}}),mode:"children-normal",anchor:p=>({type:"node",node:Pr(p.element,"[data-mce-tooltip]:hover").orThunk(()=>ei(p.element).filter(b=>os(b,"data-mce-tooltip").isSome())),root:p.element,layouts:{onLtr:le([xs,As,Hs,hi,qs,Sa]),onRtl:le([xs,As,Hs,hi,qs,Sa])},bubble:Ui(0,-2,{})})}),f])}):Hd.sketch({dom:{tag:"div",classes:d,innerHtml:i.html,attributes:{role:"document"}},containerBehaviours:it([cr.config({}),yo.config({}),f])})})(o,s.shared.providers)),imagepreview:Lr((o,s,i)=>((l,d)=>{const f=$t(d.getOr({url:""})),p=Kn({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:d.map(A=>({src:A.url})).getOr({})}}),b=Kn({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[p.asSpec()]}),y={};l.height.each(A=>y.height=A);const _=d.map(A=>({url:A.url,zoom:T.from(A.zoom),cachedWidth:T.from(A.cachedWidth),cachedHeight:T.from(A.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:y,attributes:{role:"presentation"}},components:[b.asSpec()],behaviours:it([kg(),_g(_,()=>f.get(),(A,w)=>{const O={url:w.url};w.zoom.each(F=>O.zoom=F),w.cachedWidth.each(F=>O.cachedWidth=F),w.cachedHeight.each(F=>O.cachedHeight=F),f.set(O);const I=()=>{const{cachedWidth:F,cachedHeight:K,zoom:Q}=O;if(!ar(F)&&!ar(K)){if(ar(Q)){const W=((Z,ne,se)=>{const re=ce(Z),ye=xr(Z);return Math.min(re/ne,ye/se,1)})(A.element,F,K);O.zoom=W}const oe=((W,Z,ne,se,re)=>{const ye=ne*re,Ae=se*re,Ue=Math.max(0,W/2-ye/2),Fe=Math.max(0,Z/2-Ae/2);return{left:Ue.toString()+"px",top:Fe.toString()+"px",width:ye.toString()+"px",height:Ae.toString()+"px"}})(ce(A.element),xr(A.element),F,K,O.zoom);b.getOpt(A).each(W=>{Ua(W.element,oe)})}};p.getOpt(A).each(F=>{const K=F.element;var Q;w.url!==as(K,"src")&&(po(K,"src",w.url),Yt(A.element,"tox-imagepreview__loaded")),I(),(Q=K,new Promise((oe,W)=>{const Z=()=>{se(),oe(Q)},ne=[Ti(Q,"load",Z),Ti(Q,"error",()=>{se(),W("Unable to load data from image: "+Q.dom.src)})],se=()=>Ot(ne,re=>re.unbind());Q.dom.complete&&Z()})).then(oe=>{A.getSystem().isConnected()&&(_t(A.element,"tox-imagepreview__loaded"),O.cachedWidth=oe.dom.naturalWidth,O.cachedHeight=oe.dom.naturalHeight,I())})})})])}})(o,i)),table:Lr((o,s)=>((i,l)=>{const d=b=>({dom:{tag:"td",innerHtml:l.translate(b)}});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(p=i.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Qe(p,b=>({dom:{tag:"th",innerHtml:l.translate(b)}}))}]}),(f=i.cells,{dom:{tag:"tbody"},components:Qe(f,b=>({dom:{tag:"tr"},components:Qe(b,d)}))})],behaviours:it([cr.config({}),yo.config({})])};var f,p})(o,s.shared.providers)),tree:Lr((o,s)=>((i,l)=>{const d=i.onLeafAction.getOr(rt),f=i.onToggleExpand.getOr(rt),p=i.defaultExpandedIds,b=$t(p),y=$t(i.defaultSelectedId),_=Ft("tree-id"),A=(w,O)=>i.items.map(I=>I.type==="leaf"?vS({leaf:I,selectedId:w,onLeafAction:d,visible:!0,treeId:_,backstage:l}):y_({directory:I,selectedId:w,onLeafAction:d,expandedIds:O,labelTabstopping:!0,treeId:_,backstage:l}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:A(y.get(),b.get()),behaviours:it([eo.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),_o(HT,[je("expand-tree-node",(w,O)=>{const{expanded:I,node:F}=O.event;b.set(I?[...b.get(),F]:b.get().filter(K=>K!==F)),f(b.get(),{expanded:I,node:F})})]),xl.config({channels:{[`update-active-item-${_}`]:{onReceive:(w,O)=>{y.set(T.some(O.value)),So.set(w,A(T.some(O.value),b.get()))}}}}),So.config({})])}})(o,s)),panel:Lr((o,s)=>((i,l)=>({dom:{tag:"div",classes:i.classes},components:Qe(i.items,l.shared.interpreter)}))(o,s))},cd={field:(o,s)=>s,record:le([])},GT=(o,s,i,l,d)=>{const f=Hn(l,{shared:{interpreter:p=>zr(o,p,i,f,d)}});return zr(o,s,i,f,d)},zr=(o,s,i,l,d)=>mt(vv,s.type).fold(()=>(console.error(`Unknown factory type "${s.type}", defaulting to container: `,s),s),f=>f(o,s,i,l,d)),KT=(o,s,i,l)=>zr(cd,o,s,i,l),$d="layout-inset",Xh=o=>o.x,CS=(o,s)=>o.x+o.width/2-s.width/2,xv=(o,s)=>o.x+o.width-s.width,kv=o=>o.y,SS=(o,s)=>o.y+o.height-s.height,S_=(o,s)=>o.y+o.height/2-s.height/2,E_=(o,s,i)=>ya(xv(o,s),SS(o,s),i.insetSouthwest(),qm(),"southwest",$i(o,{right:0,bottom:3}),$d),_v=(o,s,i)=>ya(Xh(o),SS(o,s),i.insetSoutheast(),Wm(),"southeast",$i(o,{left:1,bottom:3}),$d),Fy=(o,s,i)=>ya(xv(o,s),kv(o),i.insetNorthwest(),_b(),"northwest",$i(o,{right:0,top:2}),$d),Jh=(o,s,i)=>ya(Xh(o),kv(o),i.insetNortheast(),ed(),"northeast",$i(o,{left:1,top:2}),$d),mu=(o,s,i)=>ya(CS(o,s),kv(o),i.insetNorth(),Jf(),"north",$i(o,{top:2}),$d),Ag=(o,s,i)=>ya(CS(o,s),SS(o,s),i.insetSouth(),nh(),"south",$i(o,{bottom:3}),$d),YT=(o,s,i)=>ya(xv(o,s),S_(o,s),i.insetEast(),ix(),"east",$i(o,{right:0}),$d),XT=(o,s,i)=>ya(Xh(o),S_(o,s),i.insetWest(),M1(),"west",$i(o,{left:1}),$d),d7=o=>{switch(o){case"north":return mu;case"northeast":return Jh;case"northwest":return Fy;case"south":return Ag;case"southeast":return _v;case"southwest":return E_;case"east":return YT;case"west":return XT}},JT=(o,s,i,l,d)=>tm(l).map(d7).getOr(mu)(o,s,i,l,d),u7=o=>{switch(o){case"north":return Ag;case"northeast":return _v;case"northwest":return E_;case"south":return mu;case"southeast":return Jh;case"southwest":return Fy;case"east":return XT;case"west":return YT}},QT=(o,s,i,l,d)=>tm(l).map(u7).getOr(mu)(o,s,i,l,d),wv={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},f7=(o,s,i)=>{const l={maxHeightFunction:Xm()};return()=>i()?{type:"node",root:gr(ss(o())),node:T.from(o()),bubble:Ui(12,12,wv),layouts:{onRtl:()=>[Jh],onLtr:()=>[Fy]},overrides:l}:{type:"hotspot",hotspot:s(),bubble:Ui(-12,12,wv),layouts:{onRtl:()=>[Hs,qs,xs],onLtr:()=>[qs,Hs,xs]},overrides:l}},e5=(o,s,i,l)=>{const d={maxHeightFunction:Xm()};return()=>l()?{type:"node",root:gr(ss(s())),node:T.from(s()),bubble:Ui(12,12,wv),layouts:{onRtl:()=>[mu],onLtr:()=>[mu]},overrides:d}:o?{type:"node",root:gr(ss(s())),node:T.from(s()),bubble:Ui(0,-_a(s()),wv),layouts:{onRtl:()=>[As],onLtr:()=>[As]},overrides:d}:{type:"hotspot",hotspot:i(),bubble:Ui(0,0,wv),layouts:{onRtl:()=>[As],onLtr:()=>[As]},overrides:d}},m7=(o,s,i)=>()=>i()?{type:"node",root:gr(ss(o())),node:T.from(o()),layouts:{onRtl:()=>[mu],onLtr:()=>[mu]}}:{type:"hotspot",hotspot:s(),layouts:{onRtl:()=>[xs],onLtr:()=>[xs]}},t5=(o,s)=>()=>({type:"selection",root:s(),getSelection:()=>{const i=o.selection.getRng(),l=o.model.table.getSelectedCells();if(l.length>1){const d=l[0],f=l[l.length-1],p={firstCell:St(d),lastCell:St(f)};return T.some(p)}return T.some(od.range(St(i.startContainer),i.startOffset,St(i.endContainer),i.endOffset))}}),Cv=o=>s=>({type:"node",root:o(),node:s}),p7=(o,s,i,l)=>{const d=ig(o),f=()=>St(o.getBody()),p=()=>St(o.getContentAreaContainer()),b=()=>d||!l();return{inlineDialog:f7(p,s,b),inlineBottomDialog:e5(o.inline,p,i,b),banner:m7(p,s,b),cursor:t5(o,f),node:Cv(f)}},g7=o=>(s,i)=>{bz(o)(s,i)},o5=o=>()=>fz(o),n5=o=>s=>Bk(o,s),ES=o=>s=>uz(o,s),r5=o=>()=>_2(o),s5=o=>Mo(o,"items"),a5=o=>Mo(o,"format"),i5=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],l5=o=>Co(o,(s,i)=>{if(io(i,"items")){const l=l5(i.items);return{customFormats:s.customFormats.concat(l.customFormats),formats:s.formats.concat([{title:i.title,items:l.formats}])}}if(io(i,"inline")||(l=>io(l,"block"))(i)||(l=>io(l,"selector"))(i)){const l=`custom-${xo(i.name)?i.name:i.title.toLowerCase()}`;return{customFormats:s.customFormats.concat([{name:l,format:i}]),formats:s.formats.concat([{title:i.title,format:l,icon:i.icon}])}}return{...s,formats:s.formats.concat(i)}},{customFormats:[],formats:[]}),c5=o=>WE(o).map(s=>{const i=((l,d)=>{const f=l5(d),p=b=>{Ot(b,y=>{l.formatter.has(y.name)||l.formatter.register(y.name,y.format)})};return l.formatter?p(f.customFormats):l.on("init",()=>{p(f.customFormats)}),f.formats})(o,s);return qE(o)?i5.concat(i):i}).getOr(i5),d5=(o,s,i)=>({...o,type:"formatter",isSelected:s(o.format),getStylePreview:i(o.format)}),AS=(o,s,i,l)=>{const d=f=>Qe(f,p=>s5(p)?(b=>{const y=d(b.items);return{...b,type:"submenu",getStyleItems:le(y)}})(p):a5(p)?(b=>d5(b,i,l))(p):(b=>{const y=Fo(b);return y.length===1&&Ce(y,"title")})(p)?{...p,type:"separator"}:(b=>{const y=xo(b.name)?b.name:Ft(b.title),_=`custom-${y}`,A={...b,type:"formatter",format:_,isSelected:i(_),getStylePreview:l(_)};return o.formatter.register(y,A),A})(p));return d(s)},Wu=o=>{let s=0;const i=l=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[Ir(l.tooltipText)]}];return{getConfig:l=>({delayForShow:()=>s>0?60:300,delayForHide:le(300),exclusive:!0,lazySink:o,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:i(l),onShow:(d,f)=>{s++,l.onShow&&l.onShow(d,f)},onHide:(d,f)=>{s--,l.onHide&&l.onHide(d,f)},onSetup:l.onSetup}),getComponents:i}},h7=_p.trim,A_=o=>s=>!!((i=>Bt(i)&&i.nodeType===1)(s)&&(s.contentEditable===o||s.getAttribute("data-mce-contenteditable")===o)),u5=A_("true"),f5=A_("false"),m5=(o,s,i,l,d)=>({type:o,title:s,url:i,level:l,attach:d}),zS=o=>o.innerText||o.textContent,p5=o=>(s=>s&&s.nodeName==="A"&&(s.id||s.name)!==void 0)(o)&&g5(o),TS=o=>o&&/^(H[1-6])$/.test(o.nodeName),g5=o=>(s=>{let i=s;for(;i=i.parentNode;){const l=i.contentEditable;if(l&&l!=="inherit")return u5(i)}return!1})(o)&&!f5(o),b7=o=>TS(o)&&g5(o),y7=o=>{var s;const i=(l=>l.id?l.id:Ft("h"))(o);return m5("header",(s=zS(o))!==null&&s!==void 0?s:"","#"+i,(l=>TS(l)?parseInt(l.nodeName.substr(1),10):0)(o),()=>{o.id=i})},v7=o=>{const s=o.id||o.name,i=zS(o);return m5("anchor",i||"#"+s,"#"+s,0,rt)},x7=o=>h7(o.title).length>0,k7=o=>{const s=(i=>Qe(bi(St(i),"h1,h2,h3,h4,h5,h6,a:not([href])"),d=>d.dom))(o);return gn((i=>Qe(gn(i,b7),y7))(s).concat((i=>Qe(gn(i,p5),v7))(s)),x7)},z_="tinymce-url-history",OS=o=>xo(o)&&/^https?/.test(o),DS=o=>rr(o)&&jo(o,s=>{return!(Po(i=s)&&i.length<=5&&xi(i,OS));var i}).isNone(),RS=()=>{const o=hp.getItem(z_);if(o===null)return{};let s;try{s=JSON.parse(o)}catch(i){if(i instanceof SyntaxError)return console.log("Local storage "+z_+" was not valid JSON",i),{};throw i}return DS(s)?s:(console.log("Local storage "+z_+" was not valid format",s),{})},_7=o=>{const s=RS();return mt(s,o).getOr([])},w7=(o,s)=>{if(!OS(o))return;const i=RS(),l=mt(i,s).getOr([]),d=gn(l,f=>f!==o);i[s]=[o].concat(d).slice(0,5),(f=>{if(!DS(f))throw new Error(`Bad format for history:
`+JSON.stringify(f));hp.setItem(z_,JSON.stringify(f))})(i)},h5=o=>!!o,Hy=o=>Tn(_p.makeMap(o,/[, ]/),h5),NS=o=>T.from(QE(o)),MS=o=>T.from(o).filter(xo).getOrUndefined(),b5=o=>({getHistory:_7,addToHistory:w7,getLinkInformation:()=>(s=>ey(s)?T.some({targets:k7(s.getBody()),anchorTop:MS(tA(s)),anchorBottom:MS(oA(s))}):T.none())(o),getValidationHandler:()=>(s=>T.from(eA(s)))(o),getUrlPicker:s=>((i,l)=>((d,f)=>{const p=(b=>{const y=T.from(zh(b)).filter(h5).map(Hy);return NS(b).fold(Le,_=>y.fold(It,A=>Fo(A).length>0&&A))})(d);return Un(p)?p?NS(d):T.none():p[f]?NS(d):T.none()})(i,l).map(d=>f=>pg(p=>{const b={filetype:l,fieldname:f.fieldname,...T.from(f.meta).getOr({})};d.call(i,(y,_)=>{if(!xo(y))throw new Error("Expected value to be string");if(_!==void 0&&!rr(_))throw new Error("Expected meta to be a object");p({value:y,meta:_})},f.value,b)})))(o,s)}),oi=ID,Rf=F4,BS=le([Te("shell",!1),Ke("makeItem"),Te("setupItem",rt),Ge("listBehaviours",[So])]),IS=cu({name:"items",overrides:()=>({behaviours:it([So.config({})])})}),PS=le([IS]),LS=jl({name:le("CustomList")(),configFields:BS(),partFields:PS(),factory:(o,s,i,l)=>{const d=o.shell?{behaviours:[So.config({})],components:[]}:{behaviours:[],components:s};return{uid:o.uid,dom:o.dom,components:d.components,behaviours:Ie(o.listBehaviours,d.behaviours),apis:{setItems:(f,p)=>{var b;(b=f,o.shell?T.some(b):Ar(b,o,"items")).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},y=>{const _=So.contents(y),A=p.length,w=A-_.length,O=w>0?tn(w,()=>o.makeItem()):[],I=_.slice(A);Ot(I,K=>So.remove(y,K)),Ot(O,K=>So.append(y,K));const F=So.contents(y);Ot(F,(K,Q)=>{o.setupItem(f,K,p[Q],Q)})})}}}},apis:{setItems:(o,s,i)=>{o.setItems(s,i)}}}),Vy=le([Ke("dom"),Te("shell",!0),we("toolbarBehaviours",[So])]),y5=le([cu({name:"groups",overrides:()=>({behaviours:it([So.config({})])})})]),Nf=jl({name:"Toolbar",configFields:Vy(),partFields:y5(),factory:(o,s,i,l)=>{const d=o.shell?{behaviours:[So.config({})],components:[]}:{behaviours:[],components:s};return{uid:o.uid,dom:o.dom,components:d.components,behaviours:Ie(o.toolbarBehaviours,d.behaviours),apis:{setGroups:(f,p)=>{var b;(b=f,o.shell?T.some(b):Ar(b,o,"groups")).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},y=>{So.set(y,p)})},refresh:rt},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(o,s,i)=>{o.setGroups(s,i)}}}),C7=rt,S7=Le,FS=le([]);var HS,v5=Object.freeze({__proto__:null,setup:C7,isDocked:S7,getBehaviours:FS});const VS=le(Ft("toolbar-height-change")),hm={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},x5="tox-tinymce--toolbar-sticky-on",k5="tox-tinymce--toolbar-sticky-off",T_=(o,s)=>Ce(qr.getModes(o),s),$S=o=>{const s=o.element;Na(s).each(i=>{const l="padding-"+qr.getModes(o)[0];if(qr.isDocked(o)){const d=ce(i);Gt(s,"width",d+"px"),Gt(i,l,(f=>_a(f)+(parseInt(Ns(f,"margin-top"),10)||0)+(parseInt(Ns(f,"margin-bottom"),10)||0))(s)+"px")}else Yo(s,"width"),Yo(i,l)})},_5=(o,s)=>{s?(Yt(o,hm.fadeOutClass),Pn(o,[hm.transitionClass,hm.fadeInClass])):(Yt(o,hm.fadeInClass),Pn(o,[hm.fadeOutClass,hm.transitionClass]))},w5=(o,s)=>{const i=St(o.getContainer());s?(_t(i,x5),Yt(i,k5)):(_t(i,k5),Yt(i,x5))},C5=(o,s)=>{const i=sn(),l=s.getSink,d=b=>{l().each(y=>b(y.element))},f=b=>{o.inline||$S(b),w5(o,qr.isDocked(b)),b.getSystem().broadcastOn([sp()],{}),l().each(y=>y.getSystem().broadcastOn([sp()],{}))},p=o.inline?[]:[xl.config({channels:{[VS()]:{onReceive:$S}}})];return[yo.config({}),qr.config({contextual:{lazyContext:b=>{const y=_a(b.element),_=o.inline?o.getContentAreaContainer():o.getContainer();return T.from(_).map(A=>{const w=js(St(A));return rl(o,b.element).fold(()=>{const O=w.height-y,I=w.y+(T_(b,"top")?0:y);return Dn(w.x,I,w.width,O)},O=>{const I=Us(w,sa(O)),F=T_(b,"top")?I.y:I.y+y;return Dn(I.x,F,I.width,I.height-y)})})},onShow:()=>{d(b=>_5(b,!0))},onShown:b=>{d(y=>Wn(y,[hm.transitionClass,hm.fadeInClass])),i.get().each(y=>{((_,A)=>{const w=ua(A);lc(w).filter(O=>!ln(A,O)).filter(O=>ln(O,St(w.dom.body))||gs(_,O)).each(()=>Qa(A))})(b.element,y),i.clear()})},onHide:b=>{((y,_)=>ei(y).orThunk(()=>_().toOptional().bind(A=>ei(A.element))))(b.element,l).fold(i.clear,i.set),d(y=>_5(y,!1))},onHidden:()=>{d(b=>Wn(b,[hm.transitionClass]))},...hm},lazyViewport:b=>rl(o,b.element).fold(()=>{const y=Bs(),_=Qx(o),A=y.y+(T_(b,"top")&&!sA(o)?_:0),w=y.height-(T_(b,"bottom")?_:0);return{bounds:Dn(y.x,A,y.width,w),optScrollEnv:T.none()}},y=>({bounds:sa(y),optScrollEnv:T.some({currentScrollTop:y.element.dom.scrollTop,scrollElmTop:Ur(y.element).top})})),modes:[s.header.getDockingMode()],onDocked:f,onUndocked:f}),...p]};var E7=Object.freeze({__proto__:null,setup:(o,s,i)=>{o.inline||(s.header.isPositionedAtTop()||o.on("ResizeEditor",()=>{i().each(qr.reset)}),o.on("ResizeWindow ResizeEditor",()=>{i().each($S)}),o.on("SkinLoaded",()=>{i().each(l=>{qr.isDocked(l)?qr.reset(l):qr.refresh(l)})}),o.on("FullscreenStateChanged",()=>{i().each(qr.reset)})),o.on("AfterScrollIntoView",l=>{i().each(d=>{qr.refresh(d);const f=d.element;lE(f)&&((p,b)=>{const y=ua(b),_=gd(b).dom.innerHeight,A=_s(y),w=St(p.elm),O=Ql(w),I=xr(w),F=O.y,K=F+I,Q=Ur(b),oe=xr(b),W=Q.top,Z=W+oe,ne=Math.abs(W-A.top)<2,se=Math.abs(Z-(A.top+_))<2;if(ne&&F<Z)Ba(A.left,F-oe,y);else if(se&&K>W){const re=F-_+I+oe;Ba(A.left,re,y)}})(l,f)})}),o.on("PostRender",()=>{w5(o,!1)})},isDocked:o=>o().map(qr.isDocked).getOr(!1),getBehaviours:C5});const A7=co([aa,oa("items",wd([Zc([q2,Ka("items",Ps)]),Ps]))].concat(L0)),S5=[er("text"),er("tooltip"),er("icon"),is("search",!1,wd([Sd,co([er("placeholder")])],o=>Un(o)?o?T.some({placeholder:T.none()}):T.none():T.some(o))),fl("fetch"),br("onSetup",()=>rt),Er("context","mode:design")],E5=co([aa,...S5]),A5=o=>Jr("menubutton",E5,o),z7=co([aa,fg,Fd,ug,Lh,HR,dg,lr("presets","normal",["normal","color","listpreview"]),FA(1),dy,VR,Er("context","mode:design")]);var jS=rd({factory:(o,s)=>{const i={focus:eo.focusIn,setMenus:(l,d)=>{const f=Qe(d,p=>{const b={type:"menubutton",text:p.text,fetch:_=>{_(p.getItems())},context:"any"},y=A5(b).mapError(_=>Pi(_)).getOrDie();return bv(y,"tox-mbtn",s.backstage,T.some("menuitem"))});So.set(l,f)}};return{uid:o.uid,dom:o.dom,components:[],behaviours:it([So.config({}),_o("menubar-events",[Mr(l=>{o.onSetup(l)}),je(bo(),(l,d)=>{Pr(l.element,".tox-mbtn--active").each(f=>{qn(d.event.target,".tox-mbtn").each(p=>{ln(f,p)||l.getSystem().getByDom(f).each(b=>{l.getSystem().getByDom(p).each(y=>{ld.expand(y),ld.close(b),yo.focus(y)})})})})}),je(sf(),(l,d)=>{d.event.prevFocus.bind(f=>l.getSystem().getByDom(f).toOptional()).each(f=>{d.event.newFocus.bind(p=>l.getSystem().getByDom(p).toOptional()).each(p=>{ld.isOpen(f)&&(ld.expand(p),ld.close(f))})})})]),eo.config({mode:"flow",selector:".tox-mbtn",onEscape:l=>(o.onEscape(l),T.some(!0))}),cr.config({})]),apis:i,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[Ke("dom"),Ke("uid"),Ke("onEscape"),Ke("backstage"),Te("onSetup",rt)],apis:{focus:(o,s)=>{o.focus(s)},setMenus:(o,s,i)=>{o.setMenus(s,i)}}});const z5="container",O_=[we("slotBehaviours",[])],US=o=>"<alloy.field."+o+">",T7=(o,s)=>{const i=A=>Ww(o),l=(A,w)=>(O,I)=>Ar(O,o,I).map(F=>A(F,I)).getOr(w),d=(A,w)=>as(A.element,"aria-hidden")!=="true",f=l(d,!1),p=l((A,w)=>{if(d(A)){const O=A.element;Gt(O,"display","none"),po(O,"aria-hidden","true"),oo(A,Xc(),{name:w,visible:!1})}}),b=(A=>(w,O)=>{Ot(O,I=>A(w,I))})(p),y=l((A,w)=>{if(!d(A)){const O=A.element;Yo(O,"display"),Sr(O,"aria-hidden"),oo(A,Xc(),{name:w,visible:!0})}}),_={getSlotNames:i,getSlot:(A,w)=>Ar(A,o,w),isShowing:f,hideSlot:p,hideAllSlots:A=>b(A,i()),showSlot:y};return{uid:o.uid,dom:o.dom,components:s,behaviours:Ee(o.slotBehaviours),apis:_}},Cl={...Tn({getSlotNames:(o,s)=>o.getSlotNames(s),getSlot:(o,s,i)=>o.getSlot(s,i),isShowing:(o,s,i)=>o.isShowing(s,i),hideSlot:(o,s,i)=>o.hideSlot(s,i),hideAllSlots:(o,s)=>o.hideAllSlots(s),showSlot:(o,s,i)=>o.showSlot(s,i)},o=>hb(o)),sketch:o=>{const s=(()=>{const f=[];return{slot:(p,b)=>(f.push(p),Ax(z5,US(p),b)),record:le(f)}})(),i=o(s),l=s.record(),d=Qe(l,f=>ti({name:f,pname:US(f)}));return Gw(z5,O_,d,T7,i)}},O7=co([Fd,fg,br("onShow",rt),br("onHide",rt),dg]),D7=o=>({element:()=>o.element.dom}),R7=(o,s)=>{const i=Qe(Fo(s),l=>{const d=s[l],f=La((p=>Jr("sidebar",O7,p))(d));return{name:l,getApi:D7,onSetup:f.onSetup,onShow:f.onShow,onHide:f.onHide}});return Qe(i,l=>{const d=$t(rt);return o.slot(l.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:py([Af(l,d),zf(l,d),je(Xc(),(f,p)=>{const b=p.event;V(i,_=>_.name===b.name).each(_=>{(b.visible?_.onShow:_.onHide)(_.getApi(f))})})])})})},N7=o=>Cl.sketch(s=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:R7(s,o),slotBehaviours:py([Mr(i=>Cl.hideAllSlots(i))])})),$y=(o,s)=>{po(o,"role",s)},T5=o=>wn.getCurrent(o).bind(s=>Nc.isGrowing(s)||Nc.hasGrown(s)?wn.getCurrent(s).bind(i=>V(Cl.getSlotNames(i),l=>Cl.isShowing(i,l))):T.none()),D_=Ft("FixSizeEvent"),ZS=Ft("AutoSizeEvent");var O5=Object.freeze({__proto__:null,block:(o,s,i,l)=>{po(o.element,"aria-busy",!0);const d=s.getRoot(o).getOr(o),f=it([eo.config({mode:"special",onTab:()=>T.some(!0),onShiftTab:()=>T.some(!0)}),yo.config({})]),p=l(d,f),b=d.getSystem().build(p);So.append(d,Vi(b)),b.hasConfigured(eo)&&s.focus&&eo.focusIn(b),i.isBlocked()||s.onBlock(o),i.blockWith(()=>So.remove(d,b))},unblock:(o,s,i)=>{Sr(o.element,"aria-busy"),i.isBlocked()&&s.onUnblock(o),i.clear()},isBlocked:(o,s,i)=>i.isBlocked()}),M7=[br("getRoot",T.none),Zs("focus",!0),dn("onBlock"),dn("onUnblock")];const Mf=cs({fields:M7,name:"blocking",apis:O5,state:Object.freeze({__proto__:null,init:()=>{const o=ec(s=>s.destroy());return yr({readState:o.isSet,blockWith:s=>{o.set({destroy:s})},clear:o.clear,isBlocked:o.isSet})}})}),D5=o=>wn.getCurrent(o).each(s=>Qa(s.element,!0)),B7=(o,s,i)=>{const l=$t(!1),d=sn(),f=b=>{var y;l.get()&&(!(_=>_.type==="focusin")(y=b)||!(y.composed?st(y.composedPath()):T.from(y.target)).map(St).filter(mr).exists(_=>Qo(_,"mce-pastebin")))&&(b.preventDefault(),D5(s()),o.editorManager.setActive(o))};o.inline||o.on("PreInit",()=>{o.dom.bind(o.getWin(),"focusin",f),o.on("BeforeExecCommand",b=>{b.command.toLowerCase()==="mcefocus"&&b.value!==!0&&f(b)})});const p=b=>{b!==l.get()&&(l.set(b),((y,_,A,w)=>{const O=_.element;if(((I,F)=>{const K="tabindex",Q=`data-mce-${K}`;T.from(I.iframeElement).map(St).each(oe=>{F?(os(oe,K).each(W=>po(oe,Q,W)),po(oe,K,-1)):(Sr(oe,K),os(oe,Q).each(W=>{po(oe,K,W),Sr(oe,Q)}))})})(y,A),A)Mf.block(_,(I=>(F,K)=>({dom:{tag:"div",attributes:{"aria-label":I.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:wf('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}))(w)),Yo(O,"display"),Sr(O,"aria-hidden"),y.hasFocus()&&D5(_);else{const I=wn.getCurrent(_).exists(F=>Qf(F.element));Mf.unblock(_),Gt(O,"display","none"),po(O,"aria-hidden","true"),I&&y.focus()}})(o,s(),b,i.providers),((y,_)=>{y.dispatch("AfterProgressState",{state:_})})(o,b))};o.on("ProgressState",b=>{if(d.on(clearTimeout),Lo(b.time)){const y=Wx.setEditorTimeout(o,()=>p(b.state),b.time);d.set(y)}else p(b.state),d.clear()})},WS=(o,s,i)=>({within:o,extra:s,withinWidth:i}),R5=(o,s,i)=>{const l=Co(o,(p,b)=>((y,_)=>{const A=i(y);return T.some({element:y,start:_,finish:_+A,width:A})})(b,p.len).fold(le(p),y=>({len:y.finish,list:p.list.concat([y])})),{len:0,list:[]}).list,d=gn(l,p=>p.finish<=s),f=an(d,(p,b)=>p+b.width,0);return{within:d,extra:l.slice(d.length),withinWidth:f}},R_=o=>Qe(o,s=>s.element),N5=(o,s)=>{const i=Qe(s,l=>Vi(l));Nf.setGroups(o,i)},M5=(o,s,i)=>{const l=s.builtGroups.get();if(l.length===0)return;const d=ng(o,s,"primary"),f=Ks.getCoupled(o,"overflowGroup");Gt(d.element,"visibility","hidden");const p=l.concat([f]),b=mo(p,_=>ei(_.element).bind(A=>_.getSystem().getByDom(A).toOptional()));i([]),N5(d,p);const y=((_,A,w,O)=>{const I=((oe,W,Z)=>{const ne=R5(W,oe,Z);return ne.extra.length===0?T.some(ne):T.none()})(_,A,w).getOrThunk(()=>R5(A,_-w(O),w)),F=I.within,K=I.extra,Q=I.withinWidth;return K.length===1&&K[0].width<=w(O)?((oe,W,Z)=>{const ne=R_(oe.concat(W));return WS(ne,[],Z)})(F,K,Q):K.length>=1?((oe,W,Z,ne)=>{const se=R_(oe).concat([Z]);return WS(se,R_(W),ne)})(F,K,O,Q):((oe,W,Z)=>WS(R_(oe),[],Z))(F,0,Q)})(ce(d.element),s.builtGroups.get(),_=>Math.ceil(_.element.dom.getBoundingClientRect().width),f);y.extra.length===0?(So.remove(d,f),i([])):(N5(d,y.within),i(y.extra)),Yo(d.element,"visibility"),tl(d.element),b.each(yo.focus)},B5=le([we("splitToolbarBehaviours",[Ks]),ta("builtGroups",()=>$t([]))]),N_=le([Sc(["overflowToggledClass"]),Ya("getOverflowBounds"),Ke("lazySink"),ta("overflowGroups",()=>$t([])),dn("onOpened"),dn("onClosed")].concat(B5())),qS=le([ti({factory:Nf,schema:Vy(),name:"primary"}),Lu({schema:Vy(),name:"overflow"}),Lu({name:"overflow-button"}),Lu({name:"overflow-group"})]),Sv=le((o,s)=>{((i,l)=>{const d=q.max(i,l,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);Gt(i,"max-width",d+"px")})(o,Math.floor(s))}),I5=le([Sc(["toggledClass"]),Ke("lazySink"),fl("fetch"),Ya("getBounds"),fi("fireDismissalEventInstead",[Te("event",gi())]),Md(),dn("onToggled")]),I7=le([Lu({name:"button",overrides:o=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:it([Ho.config({toggleClass:o.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:o.onToggled})])})}),Lu({factory:Nf,schema:Vy(),name:"toolbar",overrides:o=>({toolbarBehaviours:it([eo.config({mode:"cyclic",onEscape:s=>(Ar(s,o,"button").each(yo.focus),T.none())})])})})]),M_=sn(),Ev=(o,s)=>{const i=Ks.getCoupled(o,"toolbarSandbox");vn.isOpen(i)?vn.close(i):vn.open(i,s.toolbar())},Av=(o,s,i,l)=>{const d=i.getBounds.map(p=>p()),f=i.lazySink(o).getOrDie();Ha.positionWithinBounds(f,s,{anchor:{type:"hotspot",hotspot:o,layouts:l,overrides:{maxWidthFunction:Sv()}}},d)},zv=(o,s,i,l,d)=>{Nf.setGroups(s,d),Av(o,s,i,l),Ho.on(o)},Sp=jl({name:"FloatingToolbarButton",factory:(o,s,i,l)=>({...qi.sketch({...l.button(),action:d=>{Ev(d,l)},buttonBehaviours:et({dump:l.button().buttonBehaviours},[Ks.config({others:{toolbarSandbox:d=>((f,p,b)=>{const y=ax();return{dom:{tag:"div",attributes:{id:y.id}},behaviours:it([eo.config({mode:"special",onEscape:_=>(vn.close(_),T.some(!0))}),vn.config({onOpen:(_,A)=>{const w=M_.get().getOr(!1);b.fetch().get(O=>{zv(f,A,b,p.layouts,O),y.link(f.element),w||eo.focusIn(A)})},onClose:()=>{Ho.off(f),M_.get().getOr(!1)||yo.focus(f),y.unlink(f.element)},isPartOf:(_,A,w)=>Zm(A,w)||Zm(f,w),getAttachPoint:()=>b.lazySink(f).getOrDie()}),xl.config({channels:{...jb({isExtraPart:Le,...b.fireDismissalEventInstead.map(_=>({fireEventInstead:{event:_.event}})).getOr({})}),...m({doReposition:()=>{vn.getState(Ks.getCoupled(f,"toolbarSandbox")).each(_=>{Av(f,_,b,p.layouts)})}})}})])}})(d,i,o)}})])}),apis:{setGroups:(d,f)=>{vn.getState(Ks.getCoupled(d,"toolbarSandbox")).each(p=>{zv(d,p,o,i.layouts,f)})},reposition:d=>{vn.getState(Ks.getCoupled(d,"toolbarSandbox")).each(f=>{Av(d,f,o,i.layouts)})},toggle:d=>{Ev(d,l)},toggleWithoutFocusing:d=>{((f,p)=>{M_.set(!0),Ev(f,p),M_.clear()})(d,l)},getToolbar:d=>vn.getState(Ks.getCoupled(d,"toolbarSandbox")),isOpen:d=>vn.isOpen(Ks.getCoupled(d,"toolbarSandbox"))}}),configFields:I5(),partFields:I7(),apis:{setGroups:(o,s,i)=>{o.setGroups(s,i)},reposition:(o,s)=>{o.reposition(s)},toggle:(o,s)=>{o.toggle(s)},toggleWithoutFocusing:(o,s)=>{o.toggleWithoutFocusing(s)},getToolbar:(o,s)=>o.getToolbar(s),isOpen:(o,s)=>o.isOpen(s)}}),P7=le([Ke("items"),Sc(["itemSelector"]),we("tgroupBehaviours",[eo])]),L7=le([Cx({name:"items",unit:"item"})]),B_=jl({name:"ToolbarGroup",configFields:P7(),partFields:L7(),factory:(o,s,i,l)=>({uid:o.uid,dom:o.dom,components:s,behaviours:Ie(o.tgroupBehaviours,[eo.config({mode:"flow",selector:o.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}})}),P5=o=>Qe(o,s=>Vi(s)),L5=(o,s,i)=>{M5(o,i,l=>{i.overflowGroups.set(l),s.getOpt(o).each(d=>{Sp.setGroups(d,P5(l))})})},F5=jl({name:"SplitFloatingToolbar",configFields:N_(),partFields:qS(),factory:(o,s,i,l)=>{const d=Kn(Sp.sketch({fetch:()=>pg(f=>{f(P5(o.overflowGroups.get()))}),layouts:{onLtr:()=>[qs,Hs],onRtl:()=>[Hs,qs],onBottomLtr:()=>[Sa,hi],onBottomRtl:()=>[hi,Sa]},getBounds:i.getOverflowBounds,lazySink:o.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:o.markers.overflowToggledClass},parts:{button:l["overflow-button"](),toolbar:l.overflow()},onToggled:(f,p)=>o[p?"onOpened":"onClosed"](f)}));return{uid:o.uid,dom:o.dom,components:s,behaviours:Ie(o.splitToolbarBehaviours,[Ks.config({others:{overflowGroup:()=>B_.sketch({...l["overflow-group"](),items:[d.asSpec()]})}})]),apis:{setGroups:(f,p)=>{o.builtGroups.set(Qe(p,f.getSystem().build)),L5(f,d,o)},refresh:f=>L5(f,d,o),toggle:f=>{d.getOpt(f).each(p=>{Sp.toggle(p)})},toggleWithoutFocusing:f=>{d.getOpt(f).each(Sp.toggleWithoutFocusing)},isOpen:f=>d.getOpt(f).map(Sp.isOpen).getOr(!1),reposition:f=>{d.getOpt(f).each(p=>{Sp.reposition(p)})},getOverflow:f=>d.getOpt(f).bind(Sp.getToolbar)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(o,s,i)=>{o.setGroups(s,i)},refresh:(o,s)=>{o.refresh(s)},reposition:(o,s)=>{o.reposition(s)},toggle:(o,s)=>{o.toggle(s)},toggleWithoutFocusing:(o,s)=>{o.toggle(s)},isOpen:(o,s)=>o.isOpen(s),getOverflow:(o,s)=>o.getOverflow(s)}}),F7=le([Sc(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),dn("onOpened"),dn("onClosed")].concat(B5())),H7=le([ti({factory:Nf,schema:Vy(),name:"primary"}),ti({factory:Nf,schema:Vy(),name:"overflow",overrides:o=>({toolbarBehaviours:it([Nc.config({dimension:{property:"height"},closedClass:o.markers.closedClass,openClass:o.markers.openClass,shrinkingClass:o.markers.shrinkingClass,growingClass:o.markers.growingClass,onShrunk:s=>{Ar(s,o,"overflow-button").each(i=>{Ho.off(i)}),o.onClosed(s)},onGrown:s=>{o.onOpened(s)},onStartGrow:s=>{Ar(s,o,"overflow-button").each(Ho.on)}}),eo.config({mode:"acyclic",onEscape:s=>(Ar(s,o,"overflow-button").each(yo.focus),T.some(!0))})])})}),Lu({name:"overflow-button",overrides:o=>({buttonBehaviours:it([Ho.config({toggleClass:o.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),Lu({name:"overflow-group"})]),GS=(o,s,i)=>{Ar(o,s,"overflow-button").each(l=>{Ar(o,s,"overflow").each(d=>{if(KS(o,s),Nc.hasShrunk(d)){const f=s.onOpened;s.onOpened=p=>{i||eo.focusIn(d),f(p),s.onOpened=f}}else{const f=s.onClosed;s.onClosed=p=>{i||yo.focus(l),f(p),s.onClosed=f}}Nc.toggleGrow(d)})})},KS=(o,s)=>{Ar(o,s,"overflow").each(i=>{M5(o,s,l=>{const d=Qe(l,f=>Vi(f));Nf.setGroups(i,d)}),Ar(o,s,"overflow-button").each(l=>{Nc.hasGrown(i)&&Ho.on(l)}),Nc.refresh(i)})},YS=jl({name:"SplitSlidingToolbar",configFields:F7(),partFields:H7(),factory:(o,s,i,l)=>{const d="alloy.toolbar.toggle";return{uid:o.uid,dom:o.dom,components:s,behaviours:Ie(o.splitToolbarBehaviours,[Ks.config({others:{overflowGroup:f=>B_.sketch({...l["overflow-group"](),items:[qi.sketch({...l["overflow-button"](),action:p=>{Xo(f,d)}})]})}}),_o("toolbar-toggle-events",[je(d,f=>{GS(f,o,!1)})])]),apis:{setGroups:(f,p)=>{((b,y)=>{const _=Qe(y,b.getSystem().build);o.builtGroups.set(_)})(f,p),KS(f,o)},refresh:f=>KS(f,o),toggle:f=>{GS(f,o,!1)},toggleWithoutFocusing:f=>{GS(f,o,!0)},isOpen:f=>((p,b)=>Ar(p,b,"overflow").map(Nc.hasGrown).getOr(!1))(f,o)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(o,s,i)=>{o.setGroups(s,i)},refresh:(o,s)=>{o.refresh(s)},toggle:(o,s)=>{o.toggle(s)},isOpen:(o,s)=>o.isOpen(s)}}),H5=o=>{const s=o.label.isNone()?o.title.fold(()=>({}),i=>({attributes:{"aria-label":i}})):o.label.fold(()=>({}),i=>({attributes:{"aria-label":i}}));return{dom:{tag:"div",classes:["tox-toolbar__group"].concat(o.label.isSome()?["tox-toolbar__group_with_label"]:[]),...s},components:[...o.label.map(i=>({dom:{tag:"span",classes:["tox-label","tox-label--context-toolbar"]},components:[Ir(i)]})).toArray(),B_.parts.items({})],items:o.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-item:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:it([cr.config({}),yo.config({ignore:!0})])}},I_=o=>B_.sketch(H5(o)),XS=(o,s)=>{const i=Mr(l=>{const d=Qe(o.initGroups,I_);Nf.setGroups(l,d)});return it([$0(()=>o.providers.checkUiComponentContext("any").shouldDisable),Gs(()=>o.providers.checkUiComponentContext("any")),eo.config({mode:s,onEscape:o.onEscape,visibilitySelector:".tox-toolbar__overflow",selector:".tox-toolbar__group"}),_o("toolbar-events",[i])])},V5=o=>{const s=o.cyclicKeying?"cyclic":"acyclic";return{uid:o.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":H5({title:T.none(),label:T.none(),items:[]}),"overflow-button":a7({context:"any",icon:T.some("more-drawer"),enabled:!0,tooltip:T.some("Reveal or hide additional toolbar items")},T.none(),o.providers,[],"overflow-button")},splitToolbarBehaviours:XS(o,s)}},V7=o=>{const s=V5(o),i=F5.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return F5.sketch({...s,lazySink:o.getSink,getOverflowBounds:()=>{const l=o.moreDrawerData.lazyHeader().element,d=Ql(l),f=Gd(l),p=Ql(f),b=Math.max(f.dom.scrollHeight,p.height);return Dn(d.x+4,p.y,d.width-8,b)},parts:{...s.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:o.attributes}}},components:[i],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:l=>o.onToggled(l,!0),onClosed:l=>o.onToggled(l,!1)})},bm=o=>{const s=YS.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),i=YS.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),l=V5(o);return YS.sketch({...l,components:[s,i],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:d=>{d.getSystem().broadcastOn([VS()],{type:"opened"}),o.onToggled(d,!0)},onClosed:d=>{d.getSystem().broadcastOn([VS()],{type:"closed"}),o.onToggled(d,!1)}})},JS=o=>{const s=o.cyclicKeying?"cyclic":"acyclic";return Nf.sketch({uid:o.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(o.type===Va.scrolling?["tox-toolbar--scrolling"]:[])},components:[Nf.parts.groups({})],toolbarBehaviours:XS(o,s)})},$5=[ug,Fd,er("tooltip"),lr("buttonType","secondary",["primary","secondary"]),Zs("borderless",!1),fl("onAction"),Er("context","mode:design")],P_={button:[...$5,fp,ga("type",["button"])],togglebutton:[...$5,Zs("active",!1),ga("type",["togglebutton"])]},yi=[ga("type",["group"]),Ai("buttons",[],ea("type",P_))],$7=ea("type",{...P_,group:yi}),j7=co([Ai("buttons",[],$7),fl("onShow"),fl("onHide")]),j5=(o,s)=>((i,l)=>{var d,f;const p=i.type==="togglebutton",b=i.icon.map(W=>wg(W,l.icons)).map(Kn),y={...i,name:p?i.text.getOr(i.icon.getOr("")):(d=i.text)!==null&&d!==void 0?d:i.icon.getOr(""),primary:i.buttonType==="primary",buttonType:T.from(i.buttonType),tooltip:i.tooltip,icon:i.icon,enabled:!0,borderless:i.borderless},_=mc((f=i.buttonType)!==null&&f!==void 0?f:"secondary"),A=p?i.text.map(l.translate):T.some(l.translate(i.text)),w=A.map(Ir),O=y.tooltip.or(A).map(W=>({"aria-label":l.translate(W)})).getOr({}),I=b.map(W=>W.asSpec()),F=by([I,w]),K=i.icon.isSome()&&w.isSome(),Q={tag:"button",classes:_.concat(...i.icon.isSome()&&!K?["tox-button--icon"]:[]).concat(...K?["tox-button--icon-and-text"]:[]).concat(...i.borderless?["tox-button--naked"]:[]).concat(...i.type==="togglebutton"&&i.active?["tox-button--enabled"]:[]),attributes:O},oe=x_(y,T.some(W=>{const Z=ne=>{b.map(se=>se.getOpt(W).each(re=>{So.set(re,[wg(ne,l.icons)])}))};return p?i.onAction({setIcon:Z,setActive:ne=>{const se=W.element;ne?(_t(se,"tox-button--enabled"),po(se,"aria-pressed",!0)):(Yt(se,"tox-button--enabled"),Sr(se,"aria-pressed"))},isActive:()=>Qo(W.element,"tox-button--enabled"),focus:()=>Qa(W.element)}):i.type==="button"?i.onAction({setIcon:Z}):void 0}),[],Q,F,i.tooltip,l);return qi.sketch(oe)})(o,s),U5=pa().deviceType,U7=U5.isPhone(),Z7=U5.isTablet();var jy=jl({name:"silver.View",configFields:[Ke("viewConfig")],partFields:[cu({factory:{sketch:o=>{let s=!1;const i=Qe(o.buttons,l=>l.type==="group"?(s=!0,((d,f)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:Qe(d.buttons,p=>j5(p,f))}))(l,o.providers)):j5(l,o.providers));return{uid:o.uid,dom:{tag:"div",classes:[s?"tox-view__toolbar":"tox-view__header",...U7||Z7?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:it([yo.config({}),eo.config({mode:"flow",selector:"button, .tox-button",focusInside:rg.OnEnterOrSpaceMode})]),components:s?i:[Hd.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),Hd.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:i})]}}},schema:[Ke("buttons"),Ke("providers")],name:"header"}),cu({factory:{sketch:o=>({uid:o.uid,behaviours:it([yo.config({}),cr.config({})]),dom:{tag:"div",classes:["tox-view__pane"]}})},schema:[],name:"pane"})],factory:(o,s,i,l)=>{const d={getPane:f=>oi.getPart(f,o,"pane"),getOnShow:f=>o.viewConfig.onShow,getOnHide:f=>o.viewConfig.onHide};return{uid:o.uid,dom:o.dom,components:s,behaviours:it([yo.config({}),eo.config({mode:"cyclic",focusInside:rg.OnEnterOrSpaceMode})]),apis:d}},apis:{getPane:(o,s)=>o.getPane(s),getOnShow:(o,s)=>o.getOnShow(s),getOnHide:(o,s)=>o.getOnHide(s)}});const W7=(o,s,i)=>Rr(s,(l,d)=>{const f=La(Jr("view",j7,l));return o.slot(d,jy.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:f,components:[...f.buttons.length>0?[jy.parts.header({buttons:f.buttons,providers:i})]:[],jy.parts.pane({})]}))}),q7=(o,s)=>Cl.sketch(i=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:W7(i,o,s),slotBehaviours:py([Mr(l=>Cl.hideAllSlots(l))])})),Z5=o=>V(Cl.getSlotNames(o),s=>Cl.isShowing(o,s)),W5=(o,s,i)=>{Cl.getSlot(o,s).each(l=>{jy.getPane(l).each(d=>{var f;i(l)((f=d.element.dom,{getContainer:le(f)}))})})};var L_=rd({factory:(o,s)=>{const i={setViews:(l,d)=>{So.set(l,[q7(d,s.backstage.shared.providers)])},whichView:l=>wn.getCurrent(l).bind(Z5),toggleView:(l,d,f,p)=>wn.getCurrent(l).exists(b=>{const y=Z5(b),_=y.exists(w=>p===w),A=Cl.getSlot(b,p).isSome();return A&&(Cl.hideAllSlots(b),_?((w=>{const O=w.element;Gt(O,"display","none"),po(O,"aria-hidden","true")})(l),d()):(f(),(w=>{const O=w.element;Yo(O,"display"),Sr(O,"aria-hidden")})(l),Cl.showSlot(b,p),((w,O)=>{W5(w,O,jy.getOnShow)})(b,p)),y.each(w=>((O,I)=>W5(O,I,jy.getOnHide))(b,w))),A})};return{uid:o.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:it([So.config({}),wn.config({find:l=>{const d=So.contents(l);return st(d)}})]),apis:i}},name:"silver.ViewWrapper",configFields:[Ke("backstage")],apis:{setViews:(o,s,i)=>o.setViews(s,i),toggleView:(o,s,i,l,d)=>o.toggleView(s,i,l,d),whichView:(o,s)=>o.whichView(s)}});const G7=Rf.optional({factory:jS,name:"menubar",schema:[Ke("backstage")]}),K7=Rf.optional({factory:{sketch:o=>LS.sketch({uid:o.uid,dom:o.dom,listBehaviours:it([eo.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>JS({type:o.type,uid:Ft("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:o.providers,onEscape:()=>(o.onEscape(),T.some(!0))}),setupItem:(s,i,l,d)=>{Nf.setGroups(i,l)},shell:!0})},name:"multiple-toolbar",schema:[Ke("dom"),Ke("onEscape")]}),Y7=Rf.optional({factory:{sketch:o=>(i=>i.type===Va.sliding?bm:i.type===Va.floating?V7:JS)(o)({type:o.type,uid:o.uid,onEscape:()=>(o.onEscape(),T.some(!0)),onToggled:(i,l)=>o.onToolbarToggled(l),cyclicKeying:!1,initGroups:[],getSink:o.getSink,providers:o.providers,moreDrawerData:{lazyToolbar:o.lazyToolbar,lazyMoreButton:o.lazyMoreButton,lazyHeader:o.lazyHeader},attributes:o.attributes})},name:"toolbar",schema:[Ke("dom"),Ke("onEscape"),Ke("getSink")]}),X7=Rf.optional({factory:{sketch:o=>{const s=o.editor,i=o.sticky?C5:FS;return{uid:o.uid,dom:o.dom,components:o.components,behaviours:it(i(s,o.sharedBackstage))}}},name:"header",schema:[Ke("dom")]}),J7=Rf.optional({factory:{sketch:o=>({uid:o.uid,dom:o.dom,components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:"⚡️Upgrade"}}]})},name:"promotion",schema:[Ke("dom")]}),Q7=Rf.optional({name:"socket",schema:[Ke("dom")]}),e8=Rf.optional({factory:{sketch:o=>({uid:o.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:it([cr.config({}),yo.config({}),Nc.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:s=>{wn.getCurrent(s).each(Cl.hideAllSlots),Xo(s,ZS)},onGrown:s=>{Xo(s,ZS)},onStartGrow:s=>{oo(s,D_,{width:hr(s.element,"width").getOr("")})},onStartShrink:s=>{oo(s,D_,{width:ce(s.element)+"px"})}}),So.config({}),wn.config({find:s=>{const i=So.contents(s);return st(i)}})])}],behaviours:it([QC(0),_o("sidebar-sliding-events",[je(D_,(s,i)=>{Gt(s.element,"width",i.event.width)}),je(ZS,(s,i)=>{Yo(s.element,"width")})])])})},name:"sidebar",schema:[Ke("dom")]}),t8=Rf.optional({factory:{sketch:o=>({uid:o.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:it([So.config({}),Mf.config({focus:!1}),wn.config({find:s=>st(s.components())})]),components:[]})},name:"throbber",schema:[Ke("dom")]}),o8=Rf.optional({factory:L_,name:"viewWrapper",schema:[Ke("backstage")]}),n8=Rf.optional({factory:{sketch:o=>({uid:o.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:o.components})},name:"editorContainer",schema:[]});var Kr=jl({name:"OuterContainer",factory:(o,s,i)=>{let l=!1;const d=p=>{sx(p,".tox-statusbar").each(b=>{Ns(b,"display")==="none"&&as(b,"aria-hidden")==="true"?(Yo(b,"display"),Sr(b,"aria-hidden")):(Gt(b,"display","none"),po(b,"aria-hidden","true"))})},f={getSocket:p=>oi.getPart(p,o,"socket"),setSidebar:(p,b,y)=>{oi.getPart(p,o,"sidebar").each(_=>((A,w,O)=>{wn.getCurrent(A).each(I=>{So.set(I,[N7(w)]);const F=O==null?void 0:O.toLowerCase();xo(F)&&io(w,F)&&wn.getCurrent(I).each(K=>{Cl.showSlot(K,F),Nc.immediateGrow(I),Yo(I.element,"width"),$y(A.element,"region")})})})(_,b,y))},toggleSidebar:(p,b)=>{oi.getPart(p,o,"sidebar").each(y=>((_,A)=>{wn.getCurrent(_).each(w=>{wn.getCurrent(w).each(O=>{Nc.hasGrown(w)?Cl.isShowing(O,A)?(Nc.shrink(w),$y(_.element,"presentation")):(Cl.hideAllSlots(O),Cl.showSlot(O,A),$y(_.element,"region")):(Cl.hideAllSlots(O),Cl.showSlot(O,A),Nc.grow(w),$y(_.element,"region"))})})})(y,b))},whichSidebar:p=>oi.getPart(p,o,"sidebar").bind(T5).getOrNull(),getHeader:p=>oi.getPart(p,o,"header"),getToolbar:p=>oi.getPart(p,o,"toolbar"),setToolbar:(p,b)=>{oi.getPart(p,o,"toolbar").each(y=>{const _=Qe(b,I_);y.getApis().setGroups(y,_)})},setToolbars:(p,b)=>{oi.getPart(p,o,"multiple-toolbar").each(y=>{const _=Qe(b,A=>Qe(A,I_));LS.setItems(y,_)})},refreshToolbar:p=>{oi.getPart(p,o,"toolbar").each(b=>b.getApis().refresh(b))},toggleToolbarDrawer:p=>{oi.getPart(p,o,"toolbar").each(b=>{Ta(b.getApis().toggle,y=>y(b))})},toggleToolbarDrawerWithoutFocusing:p=>{oi.getPart(p,o,"toolbar").each(b=>{Ta(b.getApis().toggleWithoutFocusing,y=>y(b))})},isToolbarDrawerToggled:p=>oi.getPart(p,o,"toolbar").bind(b=>T.from(b.getApis().isOpen).map(y=>y(b))).getOr(!1),getThrobber:p=>oi.getPart(p,o,"throbber"),focusToolbar:p=>{oi.getPart(p,o,"toolbar").orThunk(()=>oi.getPart(p,o,"multiple-toolbar")).each(b=>{eo.focusIn(b)})},setMenubar:(p,b)=>{oi.getPart(p,o,"menubar").each(y=>{jS.setMenus(y,b)})},focusMenubar:p=>{oi.getPart(p,o,"menubar").each(b=>{jS.focus(b)})},setViews:(p,b)=>{oi.getPart(p,o,"viewWrapper").each(y=>{L_.setViews(y,b)})},toggleView:(p,b)=>oi.getPart(p,o,"viewWrapper").exists(y=>L_.toggleView(y,()=>f.showMainView(p),()=>f.hideMainView(p),b)),whichView:p=>oi.getPart(p,o,"viewWrapper").bind(L_.whichView).getOrNull(),hideMainView:p=>{l=f.isToolbarDrawerToggled(p),l&&f.toggleToolbarDrawer(p),oi.getPart(p,o,"editorContainer").each(b=>{const y=b.element;d(y),Gt(y,"display","none"),po(y,"aria-hidden","true")})},showMainView:p=>{l&&f.toggleToolbarDrawer(p),oi.getPart(p,o,"editorContainer").each(b=>{const y=b.element;d(y),Yo(y,"display"),Sr(y,"aria-hidden")})}};return{uid:o.uid,dom:o.dom,components:s,apis:f,behaviours:o.behaviours}},configFields:[Ke("dom"),Ke("behaviours")],partFields:[X7,G7,Y7,K7,Q7,e8,J7,t8,o8,n8],apis:{getSocket:(o,s)=>o.getSocket(s),setSidebar:(o,s,i,l)=>{o.setSidebar(s,i,l)},toggleSidebar:(o,s,i)=>{o.toggleSidebar(s,i)},whichSidebar:(o,s)=>o.whichSidebar(s),getHeader:(o,s)=>o.getHeader(s),getToolbar:(o,s)=>o.getToolbar(s),setToolbar:(o,s,i)=>{o.setToolbar(s,i)},setToolbars:(o,s,i)=>{o.setToolbars(s,i)},refreshToolbar:(o,s)=>o.refreshToolbar(s),toggleToolbarDrawer:(o,s)=>{o.toggleToolbarDrawer(s)},toggleToolbarDrawerWithoutFocusing:(o,s)=>{o.toggleToolbarDrawerWithoutFocusing(s)},isToolbarDrawerToggled:(o,s)=>o.isToolbarDrawerToggled(s),getThrobber:(o,s)=>o.getThrobber(s),setMenubar:(o,s,i)=>{o.setMenubar(s,i)},focusMenubar:(o,s)=>{o.focusMenubar(s)},focusToolbar:(o,s)=>{o.focusToolbar(s)},setViews:(o,s,i)=>{o.setViews(s,i)},toggleView:(o,s,i)=>o.toggleView(s,i),whichView:(o,s)=>o.whichView(s)}});const q5={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},QS=o=>o.split(" "),e3=(o,s)=>{const i={...q5,...s.menus},l=Fo(s.menus).length>0,d=s.menubar===void 0||s.menubar===!0?QS("file edit view insert format tools table help"):QS(s.menubar===!1?"":s.menubar),f=gn(d,b=>{const y=io(q5,b);return l?y||mt(s.menus,b).exists(_=>io(_,"items")):y}),p=Qe(f,b=>{const y=i[b];return((_,A,w)=>{const O=YE(w).split(/[ ,]/);return{text:_.title,getItems:()=>hn(_.items,I=>{const F=I.toLowerCase();return F.trim().length===0||zt(O,K=>K===F)?[]:F==="separator"||F==="|"?[{type:"separator"}]:A.menuItems[F]?[A.menuItems[F]]:[]})}})({title:y.title,items:QS(y.items)},s,o)});return gn(p,b=>b.getItems().length>0&&zt(b.getItems(),y=>xo(y)||y.type!=="separator"))},G5=(o,s,i)=>(o.on("remove",()=>i.unload(s)),i.load(s)),Tv=(o,s,i,l)=>(o.on("remove",()=>l.unloadRawCss(s)),l.loadRawCss(s,i)),r8=o=>T.from(tinymce.Resource.get(o)).filter(xo),t3=(o,s,i="")=>{const l=(f=>{const p=C2(f);return p?T.from(p):T.none()})(o).map(f=>((p,b)=>"ui/"+p+"/"+b)(f,`${s}.css`)),d=l.bind(r8);return Je(l,d,(f,p)=>({_kind:"load-raw",key:f,css:p})).getOrThunk(()=>{const f=o.editorManager.suffix;return{_kind:"load-stylesheet",url:i+`/${s}${f}.css`}})},s8=(o,s)=>{const i=o.ui.styleSheetLoader,l=t3(o,"skin",s);switch(l._kind){case"load-raw":const{key:d,css:f}=l;return Tv(o,d,f,i),Promise.resolve();case"load-stylesheet":const{url:p}=l;return G5(o,p,i);default:return Promise.resolve()}},K5=(o,s)=>{var i;if(i=St(o.getElement()),!Ci(i).isSome())return Promise.resolve();{const l=h0.DOM.styleSheetLoader,d=t3(o,"skin.shadowdom",s);switch(d._kind){case"load-raw":const{key:f,css:p}=d;return Tv(o,f,p,l),Promise.resolve();case"load-stylesheet":const{url:b}=d;return G5(o,b,l);default:return Promise.resolve()}}},Y5=(o,s)=>(async(i,l)=>{const d=sk(l);if(await((f,p,b)=>{const y=t3(f,p?"content.inline":"content",b);switch(y._kind){case"load-raw":const{key:_,css:A}=y;return p?Tv(f,_,A,f.ui.styleSheetLoader):f.on("PostRender",()=>{Tv(f,_,A,f.dom.styleSheetLoader)}),Promise.resolve();case"load-stylesheet":const{url:w}=y;return b&&f.contentCSS.push(w),Promise.resolve();default:return Promise.resolve()}})(l,i,d),!S2(l)&&xo(d))return Promise.all([s8(l,d),K5(l,d)]).then()})(o,s).then((i=>{const l=()=>{i._skinLoaded=!0,(d=>{d.dispatch("SkinLoaded")})(i)};return()=>{i.initialized?l():i.on("init",l)}})(s),(i=>()=>((l,d)=>{l.dispatch("SkinLoadError",d)})(i,{message:"Skin could not be loaded"}))(s)),a8=lt(Y5,!1),i8=lt(Y5,!0),Uy=(o,s,i)=>el(i)?o.translate(s):o.translate([s,o.translate(i)]),X5=(o,s)=>{const i=(f,p,b,y)=>{const _=o.shared.providers.translate(f.title);if(f.type==="separator")return T.some({type:"separator",text:_});if(f.type==="submenu"){const A=hn(f.getStyleItems(),w=>l(w,p,y));return p===0&&A.length<=0?T.none():T.some({type:"nestedmenuitem",text:_,enabled:A.length>0,getSubmenuItems:()=>hn(f.getStyleItems(),w=>l(w,p,y))})}return T.some({type:"togglemenuitem",text:_,icon:f.icon,active:f.isSelected(y),enabled:!b,onAction:s.onAction(f),...f.getStylePreview().fold(()=>({}),A=>({meta:{style:A}}))})},l=(f,p,b)=>{const y=f.type==="formatter"&&s.isInvalid(f);return p===0?y?[]:i(f,p,!1,b).toArray():i(f,p,y,b).toArray()},d=f=>{const p=s.getCurrentValue(),b=s.shouldHide?0:1;return hn(f,y=>l(y,b,p))};return{validateItems:d,getFetch:(f,p)=>(b,y)=>{const _=p(),A=d(_);y(By(A,Sf.CLOSE_ON_EXECUTE,f,{isHorizontalMenu:!1,search:T.none()}))}}},Zy=(o,s)=>{const i=s.dataset,l=i.type==="basic"?()=>Qe(i.data,d=>d5(d,s.isSelectedFor,s.getPreviewFor)):i.getData;return{items:X5(o,s),getStyleItems:l}},Wy=(o,s,i,l,d,f)=>{const{items:p,getStyleItems:b}=Zy(s,i),y=$t(i.tooltip);return m_({context:"mode:design",text:i.icon.isSome()?T.none():i.text,icon:i.icon,ariaLabel:T.some(i.tooltip),tooltip:T.none(),role:T.none(),fetch:p.getFetch(s,b),onSetup:_=>{const A=w=>_.setTooltip(Uy(o,l(w.value),w.value));return o.on(d,A),xy($h(o,"NodeChange",w=>{const O=w.getComponent();i.updateText(O),Jt.set(w.getComponent(),!o.selection.isEditable())})(_),()=>o.off(d,A))},getApi:_=>({getComponent:le(_),setTooltip:A=>{const w=s.shared.providers.translate(A);po(_.element,"aria-label",w),y.set(A)}}),columns:1,presets:"normal",classes:i.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[ys.config({...s.shared.providers.tooltips.getConfig({tooltipText:s.shared.providers.translate(i.tooltip),onShow:_=>{if(i.tooltip!==y.get()){const A=s.shared.providers.translate(y.get());ys.setComponents(_,s.shared.providers.tooltips.getComponents({tooltipText:A}))}}})})]},"tox-tbtn",s.shared,f)};var qy;(function(o){o[o.SemiColon=0]="SemiColon",o[o.Space=1]="Space"})(qy||(qy={}));const F_=(o,s,i)=>{const l=(d=((f,p)=>p===qy.SemiColon?f.replace(/;$/,"").split(";"):f.split(" "))(o.options.get(s),i),Qe(d,f=>{let p=f,b=f;const y=f.split("=");return y.length>1&&(p=y[0],b=y[1]),{title:p,format:b}}));var d;return{type:"basic",data:l}},J5=le("Alignment {0}"),Q5="left",o3=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],eO=o=>{const s={type:"basic",data:o3};return{tooltip:Uy(o,J5(),Q5),text:T.none(),icon:T.some("align-left"),isSelectedFor:i=>()=>o.formatter.match(i),getCurrentValue:T.none,getPreviewFor:i=>T.none,onAction:i=>()=>V(o3,l=>l.format===i.format).each(l=>o.execCommand(l.command)),updateText:i=>{const l=V(o3,d=>o.formatter.match(d.format)).fold(le(Q5),d=>d.title.toLowerCase());oo(i,Cg,{icon:`align-${l}`}),((d,f)=>{d.dispatch("AlignTextUpdate",f)})(o,{value:l})},dataset:s,shouldHide:!1,isInvalid:i=>!o.formatter.canApply(i.format)}},tO=(o,s)=>{const i=s(),l=Qe(i,d=>d.format);return T.from(o.formatter.closest(l)).bind(d=>V(i,f=>f.format===d))},oO=le("Block {0}"),n3="Paragraph",nO=o=>{const s=F_(o,"block_formats",qy.SemiColon);return{tooltip:Uy(o,oO(),n3),text:T.some(n3),icon:T.none(),isSelectedFor:i=>()=>o.formatter.match(i),getCurrentValue:T.none,getPreviewFor:i=>()=>{const l=o.formatter.get(i);return l?T.some({tag:l.length>0&&(l[0].inline||l[0].block)||"div",styles:o.dom.parseStyle(o.formatter.getCssText(i))}):T.none()},onAction:cz(o),updateText:i=>{const l=tO(o,()=>s.data).fold(le(n3),d=>d.title);oo(i,Vd,{text:l}),((d,f)=>{d.dispatch("BlocksTextUpdate",f)})(o,{value:l})},dataset:s,shouldHide:!1,isInvalid:i=>!o.formatter.canApply(i.format)}},rO=le("Font {0}"),r3="System Font",l8=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],sO=o=>{const s=o.split(/\s*,\s*/);return Qe(s,i=>i.replace(/^['"]+|['"]+$/g,""))},aO=(o,s)=>s.length>0&&xi(s,i=>o.indexOf(i.toLowerCase())>-1),s3=o=>{const s=()=>{const l=_=>_?sO(_)[0]:"",d=o.queryCommandValue("FontName"),f=i.data,p=d?d.toLowerCase():"",b=nA(o);return{matchOpt:V(f,_=>{const A=_.format;return A.toLowerCase()===p||l(A).toLowerCase()===l(p).toLowerCase()}).orThunk(()=>To(((_,A)=>{if(_.indexOf("-apple-system")===0||A.length>0){const w=sO(_.toLowerCase());return aO(w,l8)||aO(w,A)}return!1})(p,b),{title:r3,format:p})),font:d}},i=F_(o,"font_family_formats",qy.SemiColon);return{tooltip:Uy(o,rO(),r3),text:T.some(r3),icon:T.none(),isSelectedFor:l=>d=>d.exists(f=>f.format===l),getCurrentValue:()=>{const{matchOpt:l}=s();return l},getPreviewFor:l=>()=>T.some({tag:"div",styles:l.indexOf("dings")===-1?{"font-family":l}:{}}),onAction:l=>()=>{o.undoManager.transact(()=>{o.focus(),o.execCommand("FontName",!1,l.format)})},updateText:l=>{const{matchOpt:d,font:f}=s(),p=d.fold(le(f),b=>b.title);oo(l,Vd,{text:p}),((b,y)=>{b.dispatch("FontFamilyTextUpdate",y)})(o,{value:p})},dataset:i,shouldHide:!1,isInvalid:Le}},c8={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},d8=(()=>{const o="[0-9]+",s="[eE][+-]?"+o,i=d=>`(?:${d})?`,l=["Infinity",o+"\\."+i(o)+i(s),"\\."+o+i(s),o+i(s)].join("|");return new RegExp(`^([+-]?(?:${l}))(.*)$`)})(),H_=(o,s)=>T.from(d8.exec(o)).bind(i=>{const l=Number(i[1]),d=i[2];return((f,p)=>zt(p,b=>zt(c8[b],y=>f===y)))(d,s)?T.some({value:l,unit:d}):T.none()}),iO={tab:le(9),escape:le(27),enter:le(13),backspace:le(8),delete:le(46),left:le(37),up:le(38),right:le(39),down:le(40),space:le(32),home:le(36),end:le(35),pageUp:le(33),pageDown:le(34)},lO=le("Font size {0}"),V_="12pt",u8={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},f8={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},m8=(o,s)=>/[0-9.]+px$/.test(o)?((i,l)=>{const d=Math.pow(10,l);return Math.round(i*d)/d})(72*parseInt(o,10)/96,s||0)+"pt":mt(f8,o).getOr(o),cO=o=>mt(u8,o).getOr(""),a3=o=>{const s=()=>{let d=T.none();const f=l.data,p=o.queryCommandValue("FontSize");if(p)for(let b=3;d.isNone()&&b>=0;b--){const y=m8(p,b),_=cO(y);d=V(f,A=>A.format===p||A.format===y||A.format===_)}return{matchOpt:d,size:p}},i=le(T.none),l=F_(o,"font_size_formats",qy.Space);return{tooltip:Uy(o,lO(),V_),text:T.some(V_),icon:T.none(),isSelectedFor:d=>f=>f.exists(p=>p.format===d),getPreviewFor:i,getCurrentValue:()=>{const{matchOpt:d}=s();return d},onAction:d=>()=>{o.undoManager.transact(()=>{o.focus(),o.execCommand("FontSize",!1,d.format)})},updateText:d=>{const{matchOpt:f,size:p}=s(),b=f.fold(le(p),y=>y.title);oo(d,Vd,{text:b}),((y,_)=>{y.dispatch("FontSizeTextUpdate",_)})(o,{value:b})},dataset:l,shouldHide:!1,isInvalid:Le}},dO=o=>el(o)?"Formats":"Format {0}",uO=(o,s)=>{const i="Formats";return{tooltip:Uy(o,dO(""),""),text:T.some(i),icon:T.none(),isSelectedFor:l=>()=>o.formatter.match(l),getCurrentValue:T.none,getPreviewFor:l=>()=>{const d=o.formatter.get(l);return d!==void 0?T.some({tag:d.length>0&&(d[0].inline||d[0].block)||"div",styles:o.dom.parseStyle(o.formatter.getCssText(l))}):T.none()},onAction:cz(o),updateText:l=>{const d=b=>s5(b)?hn(b.items,d):a5(b)?[{title:b.title,format:b.format}]:[],f=hn(c5(o),d),p=tO(o,le(f)).fold(le({title:i,tooltipLabel:""}),b=>({title:b.title,tooltipLabel:b.title}));oo(l,Vd,{text:p.title}),((b,y)=>{b.dispatch("StylesTextUpdate",y)})(o,{value:p.tooltipLabel})},shouldHide:GE(o),isInvalid:l=>!o.formatter.canApply(l.format),dataset:s}},fO=le([Ke("toggleClass"),Ke("fetch"),Pm("onExecute"),Te("getHotspot",T.some),Te("getAnchorOverrides",le({})),Md(),Pm("onItemExecute"),bn("lazySink"),Ke("dom"),dn("onOpen"),we("splitDropdownBehaviours",[Ks,eo,yo]),Te("matchWidth",!1),Te("useMinWidth",!1),Te("eventOrder",{}),bn("role"),bn("listRole")].concat(TC())),p8=ti({factory:qi,schema:[Ke("dom")],name:"arrow",defaults:()=>({buttonBehaviours:it([yo.revoke()])}),overrides:o=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(o.uid).each(Fi)},buttonBehaviours:it([Ho.config({toggleOnExecute:!1,toggleClass:o.toggleClass})])})}),g8=ti({factory:qi,schema:[Ke("dom")],name:"button",defaults:()=>({buttonBehaviours:it([yo.revoke()])}),overrides:o=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(o.uid).each(i=>{o.onExecute(i,s)})}})}),h8=le([p8,g8,cu({factory:{sketch:o=>({uid:o.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:o.text}})},schema:[Ke("text")],name:"aria-descriptor"}),Lu({schema:[E1()],name:"menu",defaults:o=>({onExecute:(s,i)=>{s.getSystem().getByUid(o.uid).each(l=>{o.onItemExecute(l,s,i)})}})}),wz()]),$_=jl({name:"SplitDropdown",configFields:fO(),partFields:h8(),factory:(o,s,i,l)=>{const d=_=>{wn.getCurrent(_).each(A=>{Gn.highlightFirst(A),eo.focusIn(A)})},f=_=>{yp(o,Tt,_,l,d,zs.HighlightMenuAndItem).get(rt)},p=_=>{const A=ng(_,o,"button");return Fi(A),T.some(!0)},b={...tr([Mr((_,A)=>{Ar(_,o,"aria-descriptor").each(w=>{const O=Ft("aria");po(w.element,"id",O),po(_.element,"aria-describedby",O)})})]),..._h(T.some(f))},y={repositionMenus:_=>{Ho.isOn(_)&&Sz(_)}};return{uid:o.uid,dom:o.dom,components:s,apis:y,eventOrder:{...o.eventOrder,[pl()]:["disabling","toggling","alloy.base.behaviour"]},events:b,behaviours:Ie(o.splitDropdownBehaviours,[Ks.config({others:{sandbox:_=>{const A=ng(_,o,"arrow");return mm(o,_,{onOpen:()=>{Ho.on(A),Ho.on(_)},onClose:()=>{Ho.off(A),Ho.off(_)}})}}}),eo.config({mode:"special",onSpace:p,onEnter:p,onDown:_=>(f(_),T.some(!0))}),yo.config({}),Ho.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:o.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:(o,s)=>o.repositionMenus(s)}}),mO=o=>({isEnabled:()=>!Jt.isDisabled(o),setEnabled:s=>Jt.set(o,!s),setText:s=>oo(o,Vd,{text:s}),setIcon:s=>oo(o,Cg,{icon:s})}),b8=o=>({setActive:s=>{Ho.set(o,s)},isActive:()=>Ho.isOn(o),isEnabled:()=>!Jt.isDisabled(o),setEnabled:s=>Jt.set(o,!s),setText:s=>oo(o,Vd,{text:s}),setIcon:s=>oo(o,Cg,{icon:s})}),Ov=(o,s)=>o.map(i=>({"aria-label":s.translate(i)})).getOr({}),pO=Ft("focus-button"),Gy=(o,s,i,l,d,f,p)=>{const b=s.map(_=>Kn(mS(_,"tox-tbtn",d))),y=o.map(_=>Kn(wg(_,d.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(s.isSome()?["tox-tbtn--select"]:[]),attributes:{...Ov(i,d),...Bt(p)?{"data-mce-name":p}:{}}},components:by([y.map(_=>_.asSpec()),b.map(_=>_.asSpec())]),eventOrder:{[ge()]:["focusing","alloy.base.behaviour",wp],[Yc()]:[wp,"toolbar-group-button-events"],[gl()]:[wp,"toolbar-group-button-events","tooltipping"]},buttonBehaviours:it([$0(()=>d.checkUiComponentContext(f).shouldDisable),Gs(()=>d.checkUiComponentContext(f)),_o(wp,[Mr((_,A)=>d_(_)),je(Vd,(_,A)=>{b.bind(w=>w.getOpt(_)).each(w=>{So.set(w,[Ir(d.translate(A.event.text))])})}),je(Cg,(_,A)=>{y.bind(w=>w.getOpt(_)).each(w=>{So.set(w,[wg(A.event.icon,d.icons)])})}),je(ge(),(_,A)=>{A.event.prevent(),Xo(_,pO)})])].concat(l.getOr([])))}},gO=(o,s,i,l)=>{var d;const f=$t(rt),p=Gy(o.icon,o.text,o.tooltip,T.none(),i,o.context,l);return qi.sketch({dom:p.dom,components:p.components,eventOrder:fS,buttonBehaviours:{...it([_o("toolbar-button-events",[(b={onAction:o.onAction,getApi:s.getApi},sc((y,_)=>{Ck(b,y)(A=>{oo(y,wT,{buttonApi:A}),b.onAction(A)})})),Af(s,f),zf(s,f)]),...o.tooltip.map(y=>ys.config(i.tooltips.getConfig({tooltipText:i.translate(y)+o.shortcut.map(_=>` (${Sk(_)})`).getOr("")}))).toArray(),$0(()=>!o.enabled||i.checkUiComponentContext(o.context).shouldDisable),Gs(()=>i.checkUiComponentContext(o.context))].concat(s.toolbarButtonBehaviours)),[wp]:(d=p.buttonBehaviours)===null||d===void 0?void 0:d[wp]}});var b},hO=(o,s,i,l)=>gO(o,{toolbarButtonBehaviours:i.length>0?[_o("toolbarButtonWith",i)]:[],getApi:mO,onSetup:o.onSetup},s,l),bO=(o,s,i,l)=>gO(o,{toolbarButtonBehaviours:[So.config({}),Ho.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(i.length>0?[_o("toolbarToggleButtonWith",i)]:[]),getApi:b8,onSetup:o.onSetup},s,l),y8=(o,s,i)=>l=>pg(d=>s.fetch(d)).map(d=>T.from(X0(Hn(Pk(Ft("menu-value"),d,f=>{s.onItemAction(o(l),f)},s.columns,s.presets,Sf.CLOSE_ON_EXECUTE,s.select.getOr(Le),i),{movement:wy(s.columns,s.presets),menuBehaviours:py(s.columns!=="auto"?[]:[Mr((f,p)=>{rC(f,4,TA(s.presets)).each(({numRows:b,numColumns:y})=>{eo.setGridSize(f,b,y)})})])})))),GB=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],zg=(o,s)=>(i,l,d,f)=>{const p=o(i).mapError(b=>Pi(b)).getOrDie();return s(p,l,d,f)},Ky={button:zg(J2,(o,s,i,l)=>((d,f,p)=>hO(d,f,[],p))(o,s.shared.providers,l)),togglebutton:zg(eC,(o,s,i,l)=>((d,f,p)=>bO(d,f,[],p))(o,s.shared.providers,l)),menubutton:zg(A5,(o,s,i,l)=>bv(o,"tox-tbtn",s,T.none(),!1,l)),splitbutton:zg(o=>Jr("SplitButton",z7,o),(o,s,i,l)=>((d,f,p)=>{const b=$t(d.tooltip.getOr("")),y=w=>({isEnabled:()=>!Jt.isDisabled(w),setEnabled:O=>Jt.set(w,!O),setIconFill:(O,I)=>{Pr(w.element,`svg path[class="${O}"], rect[class="${O}"]`).each(F=>{po(F,"fill",I)})},setActive:O=>{po(w.element,"aria-pressed",O),Pr(w.element,"span").each(I=>{w.getSystem().getByDom(I).each(F=>Ho.set(F,O))})},isActive:()=>Pr(w.element,"span").exists(O=>w.getSystem().getByDom(O).exists(Ho.isOn)),setText:O=>Pr(w.element,"span").each(I=>w.getSystem().getByDom(I).each(F=>oo(F,Vd,{text:O}))),setIcon:O=>Pr(w.element,"span").each(I=>w.getSystem().getByDom(I).each(F=>oo(F,Cg,{icon:O}))),setTooltip:O=>{const I=f.providers.translate(O);po(w.element,"aria-label",I),b.set(O)}}),_=$t(rt),A={getApi:y,onSetup:d.onSetup};return $_.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...Ov(d.tooltip,f.providers),...Bt(p)?{"data-mce-name":p}:{}}},onExecute:w=>{const O=y(w);O.isEnabled()&&d.onAction(O)},onItemExecute:(w,O,I)=>{},splitDropdownBehaviours:it([_o("split-dropdown-events",[Mr((w,O)=>d_(w)),je(pO,yo.focus),Af(A,_),zf(A,_)]),aC(()=>f.providers.isDisabled()||f.providers.checkUiComponentContext(d.context).shouldDisable),Gs(()=>f.providers.checkUiComponentContext(d.context)),ov.config({}),...d.tooltip.map(w=>ys.config({...f.providers.tooltips.getConfig({tooltipText:f.providers.translate(w),onShow:O=>{if(b.get()!==w){const I=f.providers.translate(b.get());ys.setComponents(O,f.providers.tooltips.getComponents({tooltipText:I}))}}})})).toArray()]),eventOrder:{[Yc()]:["alloy.base.behaviour","split-dropdown-events","tooltipping"],[gl()]:["split-dropdown-events","tooltipping"]},toggleClass:"tox-tbtn--enabled",lazySink:f.getSink,fetch:y8(y,d,f.providers),parts:{menu:Ht(0,d.columns,d.presets)},components:[$_.parts.button(Gy(d.icon,d.text,T.none(),T.some([Ho.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1}),$0(Le),Gs(le({contextType:"any",shouldDisable:!1}))]),f.providers,d.context)),$_.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:_A("chevron-down",f.providers.icons)},buttonBehaviours:it([aC(Le),Gs(le({contextType:"any",shouldDisable:!1}))])}),$_.parts["aria-descriptor"]({text:f.providers.translate("To open the popup, press Shift+Enter")})]})})(o,s.shared,l)),grouptoolbarbutton:zg(o=>Jr("GroupToolbarButton",A7,o),(o,s,i,l)=>{const d=i.ui.registry.getAll().buttons,f={[F1]:s.shared.header.isPositionedAtTop()?kl.TopToBottom:kl.BottomToTop};if(Qb(i)===Va.floating)return((p,b,y,_,A)=>{const w=b.shared,O=$t(rt),I={toolbarButtonBehaviours:[],getApi:mO,onSetup:p.onSetup},F=[_o("toolbar-group-button-events",[Af(I,O),zf(I,O)]),...p.tooltip.map(K=>ys.config(b.shared.providers.tooltips.getConfig({tooltipText:b.shared.providers.translate(K)}))).toArray()];return Sp.sketch({lazySink:w.getSink,fetch:()=>pg(K=>{K(Qe(y(p.items),I_))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:Gy(p.icon,p.text,p.tooltip,T.some(F),w.providers,p.context,A),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:_}}}})})(o,s,p=>Dv(i,{buttons:d,toolbar:p,allowToolbarGroups:!1},s,T.none()),f,l);throw new Error("Toolbar groups are only supported when using floating toolbar mode")})},i3={styles:(o,s)=>{const i={type:"advanced",...s.styles};return Wy(o,s,uO(o,i),dO,"StylesTextUpdate","styles")},fontsize:(o,s)=>Wy(o,s,a3(o),lO,"FontSizeTextUpdate","fontsize"),fontsizeinput:(o,s)=>((i,l,d,f)=>{let p=T.none();const b=$h(i,"NodeChange SwitchMode DisabledStateChange",ne=>{const se=ne.getComponent();p=T.some(se),d.updateInputValue(se),Jt.set(se,!i.selection.isEditable()||qx(i))}),y=ne=>({getComponent:le(ne)}),_=$t(rt),A=Ft("custom-number-input-events"),w=(ne,se,re)=>{const ye=p.map(nt=>X.getValue(nt)).getOr(""),Ae=d.getNewValue(ye,ne),Ue=ye.length-`${Ae}`.length,Fe=p.map(nt=>nt.element.dom.selectionStart-Ue),qe=p.map(nt=>nt.element.dom.selectionEnd-Ue);d.onAction(Ae,re),p.each(nt=>{X.setValue(nt,Ae),se&&(Fe.each(Mt=>nt.element.dom.selectionStart=Mt),qe.each(Mt=>nt.element.dom.selectionEnd=Mt))})},O=(ne,se)=>w((re,ye)=>re-ye,ne,se),I=(ne,se)=>w((re,ye)=>re+ye,ne,se),F=ne=>Na(ne.element).fold(T.none,se=>(Qa(se),T.some(!0))),K=ne=>Qf(ne.element)?(wi(ne.element).each(se=>Qa(se)),T.some(!0)):T.none(),Q=(ne,se,re,ye)=>{const Ae=$t(rt),Ue=l.shared.providers.translate(re),Fe=Ft("altExecuting"),qe=$h(i,"NodeChange SwitchMode DisabledStateChange",Mt=>{Jt.set(Mt.getComponent(),!i.selection.isEditable()||qx(i))}),nt=Mt=>{Jt.isDisabled(Mt)||ne(!0)};return qi.sketch({dom:{tag:"button",attributes:{"aria-label":Ue,"data-mce-name":se},classes:ye.concat(se)},components:[f_(se,l.shared.providers.icons)],buttonBehaviours:it([Jt.config({}),ys.config(l.shared.providers.tooltips.getConfig({tooltipText:Ue})),_o(Fe,[Af({onSetup:qe,getApi:y},Ae),zf({getApi:y},Ae),je(Zr(),(Mt,Xt)=>{Xt.event.raw.keyCode!==iO.space()&&Xt.event.raw.keyCode!==iO.enter()||Jt.isDisabled(Mt)||ne(!1)}),je(Cu(),nt),je(j(),nt)])]),eventOrder:{[Zr()]:[Fe,"keying"],[Cu()]:[Fe,"alloy.base.behaviour"],[j()]:[Fe,"alloy.base.behaviour"],[Yc()]:["alloy.base.behaviour",Fe,"tooltipping"],[gl()]:[Fe,"tooltipping"]}})},oe=Kn(Q(ne=>O(!1,ne),"minus","Decrease font size",[])),W=Kn(Q(ne=>I(!1,ne),"plus","Increase font size",[])),Z=Kn({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[Ef.sketch({inputBehaviours:it([Jt.config({}),_o(A,[Af({onSetup:b,getApi:y},_),zf({getApi:y},_)]),_o("input-update-display-text",[je(Vd,(ne,se)=>{X.setValue(ne,se.event.text)}),je(Nr(),ne=>{d.onAction(X.getValue(ne))}),je(_c(),ne=>{d.onAction(X.getValue(ne))})]),eo.config({mode:"special",onEnter:ne=>(w(Tt,!0,!0),T.some(!0)),onEscape:F,onUp:ne=>(I(!0,!1),T.some(!0)),onDown:ne=>(O(!0,!1),T.some(!0)),onLeft:(ne,se)=>(se.cut(),T.none()),onRight:(ne,se)=>(se.cut(),T.none())})])})],behaviours:it([yo.config({}),eo.config({mode:"special",onEnter:K,onSpace:K,onEscape:F}),_o("input-wrapper-events",[je(bo(),ne=>{Ot([oe,W],se=>{const re=St(se.get(ne).element.dom);Qf(re)&&Kp(re)})})])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{...Bt(f)?{"data-mce-name":f}:{}}},components:[oe.asSpec(),Z.asSpec(),W.asSpec()],behaviours:it([yo.config({}),eo.config({mode:"flow",focusInside:rg.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:ne=>Qf(ne.element)?T.none():(Qa(ne.element),T.some(!0))})])}})(o,s,(i=>{const l=()=>i.queryCommandValue("FontSize");return{updateInputValue:d=>oo(d,Vd,{text:l()}),onAction:(d,f)=>i.execCommand("FontSize",!1,d,{skip_focus:!f}),getNewValue:(d,f)=>{H_(d,["unsupportedLength","empty"]);const p=l(),b=H_(d,["unsupportedLength","empty"]).or(H_(p,["unsupportedLength","empty"])),y=b.map(I=>I.value).getOr(16),_=k2(i),A=b.map(I=>I.unit).filter(I=>I!=="").getOr(_),w=f(y,(I=>{var F;return(F={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[I])!==null&&F!==void 0?F:{step:1}})(A).step),O=`${(I=>I>=0)(w)?w:y}${A}`;return O!==p&&((I,F)=>{I.dispatch("FontSizeInputTextUpdate",F)})(i,{value:O}),O}}})(o),"fontsizeinput"),fontfamily:(o,s)=>Wy(o,s,s3(o),rO,"FontFamilyTextUpdate","fontfamily"),blocks:(o,s)=>Wy(o,s,nO(o),oO,"BlocksTextUpdate","blocks"),align:(o,s)=>Wy(o,s,eO(o),J5,"AlignTextUpdate","align")},Dv=(o,s,i,l)=>{const d=(p=>{const b=p.toolbar,y=p.buttons;return b===!1?[]:b===void 0||b===!0?(_=>{const A=Qe(GB,w=>{const O=gn(w.items,I=>io(_,I)||io(i3,I));return{name:w.name,items:O}});return gn(A,w=>w.items.length>0)})(y):xo(b)?(_=>{const A=_.split("|");return Qe(A,w=>({items:w.trim().split(" ")}))})(b):(_=>sr(_,A=>(io(A,"name")||io(A,"label"))&&io(A,"items")))(b)?b:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])})(s),f=Qe(d,p=>{const b=hn(p.items,y=>y.trim().length===0?[]:((_,A,w,O,I,F)=>mt(A,w.toLowerCase()).orThunk(()=>F.bind(K=>mo(K,Q=>mt(A,Q+w.toLowerCase())))).fold(()=>mt(i3,w.toLowerCase()).map(K=>K(_,I)),K=>K.type!=="grouptoolbarbutton"||O?((Q,oe,W,Z)=>mt(Ky,Q.type).fold(()=>(console.error("skipping button defined by",Q),T.none()),ne=>T.some(ne(Q,oe,W,Z))))(K,I,_,w.toLowerCase()):(console.warn(`Ignoring the '${w}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),T.none())))(o,s.buttons,y,s.allowToolbarGroups,i,l).toArray());return{title:T.from(o.translate(p.name)),label:To(p.label!==void 0,o.translate(p.label)),items:b}});return gn(f,p=>p.items.length>0)},yO=(o,s,i,l)=>{const d=s.mainUi.outerContainer,f=i.toolbar,p=i.buttons;if(sr(f,xo)){const b=f.map(y=>{const _={toolbar:y,buttons:p,allowToolbarGroups:i.allowToolbarGroups};return Dv(o,_,l,T.none())});Kr.setToolbars(d,b)}else Kr.setToolbar(d,Dv(o,i,l,T.none()))},vO=pa(),v8=vO.os.isiOS()&&vO.os.version.major<=12;var x8=Object.freeze({__proto__:null,render:(o,s,i,l,d)=>{const{mainUi:f,uiMotherships:p}=s,b=$t(0),y=f.outerContainer;a8(o);const _=St(d.targetNode),A=gr(ss(_));Dc(_,f.mothership),((F,K,Q)=>{kf(F)&&Dc(Q.mainUi.mothership.element,Q.popupUi.mothership),$b(K,Q.dialogUi.mothership)})(o,A,s),o.on("PostRender",()=>{Kr.setSidebar(y,i.sidebar,w2(o))}),o.on("SkinLoaded",()=>{yO(o,s,i,l),b.set(o.getWin().innerWidth),Kr.setMenubar(y,e3(o,i)),Kr.setViews(y,i.views),((F,K)=>{const{uiMotherships:Q}=K,oe=F.dom;let W=F.getWin();const Z=F.getDoc().documentElement,ne=$t(On(W.innerWidth,W.innerHeight)),se=$t(On(Z.offsetWidth,Z.offsetHeight)),re=()=>{const Fe=ne.get();Fe.left===W.innerWidth&&Fe.top===W.innerHeight||(ne.set(On(W.innerWidth,W.innerHeight)),fC(F))},ye=()=>{const Fe=F.getDoc().documentElement,qe=se.get();qe.left===Fe.offsetWidth&&qe.top===Fe.offsetHeight||(se.set(On(Fe.offsetWidth,Fe.offsetHeight)),fC(F))},Ae=Fe=>{((qe,nt)=>{qe.dispatch("ScrollContent",nt)})(F,Fe)};oe.bind(W,"resize",re),oe.bind(W,"scroll",Ae);const Ue=Tb(St(F.getBody()),"load",ye);F.on("hide",()=>{Ot(Q,Fe=>{Gt(Fe.element,"display","none")})}),F.on("show",()=>{Ot(Q,Fe=>{Yo(Fe.element,"display")})}),F.on("NodeChange",ye),F.on("remove",()=>{Ue.unbind(),oe.unbind(W,"resize",re),oe.unbind(W,"scroll",Ae),W=null})})(o,s)});const w=Kr.getSocket(y).getOrDie("Could not find expected socket element");if(v8){Ua(w.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const F=(Q=>{let oe=null;return{cancel:()=>{En(oe)||(clearTimeout(oe),oe=null)},throttle:(...W)=>{En(oe)&&(oe=setTimeout(()=>{oe=null,Q.apply(null,W)},20))}}})(()=>{o.dispatch("ScrollContent")}),K=Ti(w.element,"scroll",F.throttle);o.on("remove",K.unbind)}iC(o,s),o.addCommand("ToggleSidebar",(F,K)=>{Kr.toggleSidebar(y,K),(Q=>{Q.dispatch("ToggleSidebar")})(o)}),o.addQueryValueHandler("ToggleSidebar",()=>{var F;return(F=Kr.whichSidebar(y))!==null&&F!==void 0?F:""}),o.addCommand("ToggleView",(F,K)=>{if(Kr.toggleView(y,K)){const Q=y.element;f.mothership.broadcastOn([hf()],{target:Q}),Ot(p,oe=>{oe.broadcastOn([hf()],{target:Q})}),En(Kr.whichView(y))&&(o.focus(),o.nodeChanged(),Kr.refreshToolbar(y)),(oe=>{oe.dispatch("ToggleView")})(o)}}),o.addQueryValueHandler("ToggleView",()=>{var F;return(F=Kr.whichView(y))!==null&&F!==void 0?F:""});const O=Qb(o);O!==Va.sliding&&O!==Va.floating||o.on("ResizeWindow ResizeEditor ResizeContent",()=>{const F=o.getWin().innerWidth;F!==b.get()&&(Kr.refreshToolbar(s.mainUi.outerContainer),b.set(F))});const I={setEnabled:F=>{hy(s,F?"setEnabled":"setDisabled")},isEnabled:()=>!Jt.isDisabled(y)};return{iframeContainer:w.element.dom,editorContainer:y.element.dom,api:I}}});const xO=o=>/^[0-9\.]+(|px)$/i.test(""+o)?T.some(parseInt(""+o,10)):T.none(),l3=o=>Lo(o)?o+"px":o,j_=(o,s,i)=>{const l=s.filter(f=>o<f),d=i.filter(f=>o>f);return l.or(d).getOr(o)},kO=o=>{const s=x2(o),i=Gx(o),l=Jb(o);return xO(s).map(d=>j_(d,i,l))},{ToolbarLocation:c3,ToolbarMode:_O}=wR,k8=(o,s,i,l,d)=>{const{mainUi:f,uiMotherships:p}=i,b=h0.DOM,y=ig(o),_=Oh(o),A=Jb(o).or(kO(o)),w=l.shared.header,O=w.isPositionedAtTop,I=Qb(o),F=I===_O.sliding||I===_O.floating,K=$t(!1),Q=()=>K.get()&&!o.removed,oe=se=>F?se.fold(le(0),re=>re.components().length>1?xr(re.components()[1].element):0):0,W=()=>{Ot(p,se=>{se.broadcastOn([sp()],{})})},Z=se=>{if(!Q())return;y||d.on(Ae=>{const Ue=A.getOrThunk(()=>In().width-Ms(s).left-10);Gt(Ae.element,"max-width",Ue+"px")});const re=_s(),ye=!(y||y||!(Ur(f.outerContainer.element).left+_e(f.outerContainer.element)>=window.innerWidth-40||hr(f.outerContainer.element,"width").isSome())||(Gt(f.outerContainer.element,"position","absolute"),Gt(f.outerContainer.element,"left","0px"),Yo(f.outerContainer.element,"width"),0));if(F&&Kr.refreshToolbar(f.outerContainer),!y){const Ae=_s(),Ue=To(re.left!==Ae.left,re);((Fe,qe)=>{d.on(nt=>{const Mt=Kr.getToolbar(f.outerContainer),Xt=oe(Mt),uo=js(s),No=((Vn,fn)=>kf(Vn)?Qc(fn):T.none())(o,f.outerContainer.element),en=No.fold(()=>uo.x,Vn=>{const fn=js(Vn);return ln(Vn,fa())?uo.x:uo.x-fn.x}),ns=To(Fe,Math.ceil(f.outerContainer.element.dom.getBoundingClientRect().width)).filter(Vn=>Vn>150).map(Vn=>{const fn=qe.getOr(_s()),fo=window.innerWidth-(en-fn.left),Tr=Math.max(Math.min(Vn,fo),150);return fo<Vn&&Gt(f.outerContainer.element,"width",Tr+"px"),{width:Tr+"px"}}).getOr({width:"max-content"}),Qr={position:"absolute",left:Math.round(en)+"px",top:No.fold(()=>O()?Math.max(uo.y-xr(nt.element)+Xt,0):uo.bottom,Vn=>{var fn;const fo=js(Vn),Tr=(fn=Vn.dom.scrollTop)!==null&&fn!==void 0?fn:0,dr=ln(Vn,fa())?Math.max(uo.y-xr(nt.element)+Xt,0):uo.y-fo.y+Tr-xr(nt.element)+Xt;return O()?dr:uo.bottom})+"px"};Ua(f.outerContainer.element,{...Qr,...ns})})})(ye,Ue),Ue.each(Fe=>{Ba(Fe.left,Ae.top)})}_&&d.on(se),W()},ne=()=>!(y||!_||!Q())&&d.get().exists(se=>{const re=w.getDockingMode(),ye=(Ue=>{switch(XE(o)){case c3.auto:const Fe=Kr.getToolbar(f.outerContainer),qe=oe(Fe),nt=xr(Ue.element)-qe,Mt=js(s);if(Mt.y>nt)return"top";{const Xt=Gd(s),uo=Math.max(Xt.dom.scrollHeight,xr(Xt));return Mt.bottom<uo-nt||Bs().bottom<Mt.bottom-nt?"bottom":"top"}case c3.bottom:return"bottom";case c3.top:default:return"top"}})(se);return ye!==re&&(Ae=ye,d.on(Ue=>{qr.setModes(Ue,[Ae]),w.setDockingMode(Ae);const Fe=O()?kl.TopToBottom:kl.BottomToTop;po(Ue.element,F1,Fe)}),!0);var Ae});return{isVisible:Q,isPositionedAtTop:O,show:()=>{K.set(!0),Gt(f.outerContainer.element,"display","flex"),b.addClass(o.getBody(),"mce-edit-focus"),Ot(p,se=>{Yo(se.element,"display")}),ne(),kf(o)?Z(se=>qr.isDocked(se)?qr.reset(se):qr.refresh(se)):Z(qr.refresh)},hide:()=>{K.set(!1),Gt(f.outerContainer.element,"display","none"),b.removeClass(o.getBody(),"mce-edit-focus"),Ot(p,se=>{Gt(se.element,"display","none")})},update:Z,updateMode:()=>{ne()&&Z(qr.reset)},repositionPopups:W}},d3=(o,s)=>{const i=js(o);return{pos:s?i.y:i.bottom,bounds:i}};var Yy=Object.freeze({__proto__:null,render:(o,s,i,l,d)=>{const{mainUi:f}=s,p=sn(),b=St(d.targetNode),y=k8(o,b,s,l,p),_=Jx(o);i8(o);const A=()=>{if(p.isSet())return void y.show();p.set(Kr.getHeader(f.outerContainer).getOrDie());const O=k0(o);kf(o)?(Dc(b,f.mothership),Dc(b,s.popupUi.mothership)):$b(O,f.mothership),$b(O,s.dialogUi.mothership);const I=()=>{yO(o,s,i,l),Kr.setMenubar(f.outerContainer,e3(o,i)),y.show(),((F,K,Q,oe)=>{const W=$t(d3(K,Q.isPositionedAtTop())),Z=ye=>{const{pos:Ae,bounds:Ue}=d3(K,Q.isPositionedAtTop()),{pos:Fe,bounds:qe}=W.get(),nt=Ue.height!==qe.height||Ue.width!==qe.width;W.set({pos:Ae,bounds:Ue}),nt&&fC(F,ye),Q.isVisible()&&(Fe!==Ae?Q.update(qr.reset):nt&&(Q.updateMode(),Q.repositionPopups()))};oe||(F.on("activate",Q.show),F.on("deactivate",Q.hide)),F.on("SkinLoaded ResizeWindow",()=>Q.update(qr.reset)),F.on("NodeChange keydown",ye=>{requestAnimationFrame(()=>Z(ye))});let ne=0;const se=nS(()=>Q.update(qr.refresh),33);F.on("ScrollWindow",()=>{const ye=_s().left;ye!==ne&&(ne=ye,se.throttle()),Q.updateMode()}),kf(F)&&F.on("ElementScroll",ye=>{Q.update(qr.refresh)});const re=vd();re.set(Tb(St(F.getBody()),"load",ye=>Z(ye.raw))),F.on("remove",()=>{re.clear()})})(o,b,y,_),o.nodeChanged()};_?o.once("SkinLoaded",I):I()};o.on("show",A),o.on("hide",y.hide),_||(o.on("focus",A),o.on("blur",y.hide)),o.on("init",()=>{(o.hasFocus()||_)&&A()}),iC(o,s);const w={show:A,hide:y.hide,setEnabled:O=>{hy(s,O?"setEnabled":"setDisabled")},isEnabled:()=>!Jt.isDisabled(f.outerContainer)};return{editorContainer:f.outerContainer.element.dom,api:w}}});const Tg="contexttoolbar-hide",u3=o=>{fs.getContent(o).each(s=>{Pr(s.element,".tox-toolbar-slider__input,.tox-toolbar-textfield").fold(()=>eo.focusIn(s),Qa)})},f3=Ft("forward-slide"),U_=Ft("backward-slide"),Xy=Ft("change-slide-event"),m3="tox-pop--resizing",jd=(o,s)=>{const i=sn();return{setInputEnabled:l=>{!l&&s&&Qa(s),Jt.set(o,!l)},isInputEnabled:()=>!Jt.isDisabled(o),hide:()=>{i.isSet()||i.set(X.getValue(o)),Xo(o,qf())},back:()=>{i.isSet()||i.set(X.getValue(o)),Xo(o,U_)},getValue:()=>i.get().getOrThunk(()=>X.getValue(o)),setValue:l=>{i.isSet()?i.set(l):X.setValue(o,l)}}},Jy=(o,s)=>je(wT,(i,l)=>{const d=o.get(i),f=jd(d,i.element);s.onAction(f,l.event.buttonApi)}),wO=(o,s,i)=>{const l=Qe(s,d=>Kn(((f,p,b)=>(y=>y.type==="contextformtogglebutton")(p)?((y,_,A)=>{const{primary:w,...O}=_.original,I=La(eC({...O,type:"togglebutton",onAction:rt}));return bO(I,A,[Jy(y,_)])})(f,p,b):((y,_,A)=>{const{primary:w,...O}=_.original,I=La(J2({...O,type:"button",onAction:rt}));return hO(I,A,[Jy(y,_)])})(f,p,b))(o,d,i)));return{asSpecs:()=>Qe(l,d=>d.asSpec()),findPrimary:d=>mo(s,(f,p)=>f.primary?T.from(l[p]).bind(b=>b.getOpt(d)).filter(jr(Jt.isDisabled)):T.none())}},_8=(o,s,i)=>{const{width:l,height:d}=o.initValue();let f=gv;const p=Ft("ratio-event"),b=jd,y=re=>Rc(re,{tag:"span",classes:["tox-icon","tox-lock-icon__"+re]},s.icons),_=()=>!1,A=o.label.getOr("Constrain proportions"),w=s.translate(A),O=ia.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":w,"data-mce-name":A}},components:[y("lock"),y("unlock")],buttonBehaviours:it([Jt.config({disabled:_}),cr.config({}),ys.config(s.tooltips.getConfig({tooltipText:w}))])}),I=re=>({dom:{tag:"div",classes:["tox-context-form__group"]},components:re}),F=re=>Vl(re.element,"div.tox-focusable-wrapper").fold(T.none,ye=>(Qa(ye),T.some(!0))),K=re=>qo.parts.field({factory:Ef,inputClasses:["tox-textfield","tox-toolbar-textfield","tox-textfield-size"],data:re?l:d,inputBehaviours:it([Jt.config({disabled:_}),cr.config({}),_o("size-input-toolbar-events",[je(Kt(),(ye,Ae)=>{oo(ye,p,{isField1:re})})]),eo.config({mode:"special",onEnter:i,onEscape:F})]),selectOnFocus:!1}),Q=re=>({dom:{tag:"label",classes:["tox-label"]},components:[Ir(s.translate(re))]}),oe=re=>({dom:{tag:"div",classes:["tox-focusable-wrapper","tox-toolbar-nav-item"]},components:[re],behaviours:it([cr.config({}),yo.config({}),eo.config({mode:"special",onEnter:ye=>Pr(ye.element,"input").fold(T.none,Ae=>(Qa(Ae),T.some(!0)))})])}),W=oe(ia.parts.field1(I([qo.parts.label(Q("Width:")),K(!0)]))),Z=oe(ia.parts.field2(I([qo.parts.label(Q("Height:")),K(!1)]))),ne=$t(rt),se=[Af({onSetup:o.onSetup,getApi:b},ne),zf({getApi:b},ne)];return ia.sketch({dom:{tag:"div",classes:["tox-context-form__group"]},components:[W,Z,I([Q(" "),O])],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(re,ye,Ae)=>{Kh(X.getValue(re)).each(Ue=>{f(Ue).each(Fe=>{X.setValue(ye,OT(Fe))})})},onInput:re=>Xo(re,Bz),coupledFieldBehaviours:it([yo.config({}),eo.config({mode:"flow",focusInside:rg.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-focusable-wrapper"}),Jt.config({disabled:_,onDisabled:re=>{ia.getField1(re).bind(qo.getField).each(Jt.disable),ia.getField2(re).bind(qo.getField).each(Jt.disable),ia.getLock(re).each(Jt.disable)},onEnabled:re=>{ia.getField1(re).bind(qo.getField).each(Jt.enable),ia.getField2(re).bind(qo.getField).each(Jt.enable),ia.getLock(re).each(Jt.enable)}}),Gs(()=>s.checkUiComponentContext("mode:design")),_o("size-input-toolbar-events2",[je(p,(re,ye)=>{const Ae=ye.event.isField1,Ue=Ae?ia.getField1(re):ia.getField2(re),Fe=Ae?ia.getField2(re):ia.getField1(re),qe=Ue.map(X.getValue).getOr(""),nt=Fe.map(X.getValue).getOr("");f=RT(qe,nt)}),je(Bz,re=>o.onInput(jd(re))),...se])])})},CO=(o,s,i)=>qo.sketch({dom:{tag:"div",classes:["tox-context-form__group"]},components:[...o.toArray(),s],fieldBehaviours:it([Jt.config({disabled:()=>i.checkUiComponentContext("mode:design").shouldDisable,onDisabled:l=>{(d=>{ei(d.element).each(f=>{Vl(f,'[tabindex="-1"]').each(p=>{Qa(p)})})})(l),qo.getField(l).each(Jt.disable)},onEnabled:l=>{qo.getField(l).each(Jt.enable)}})])}),w8=(o,s,i)=>{const l=$t(rt),d=o.label.map(p=>qo.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Ir(s.translate(p))]})),f=qo.parts.field({factory:Ef,type:"range",inputClasses:["tox-toolbar-slider__input","tox-toolbar-nav-item"],inputAttributes:{min:String(o.min()),max:String(o.max())},data:o.initValue().toString(),fromInputValue:p=>(b=>{const y=parseFloat(b);return isNaN(y)?T.none():T.some(y)})(p).getOr(o.min()),toInputValue:p=>String(p),inputBehaviours:it([Jt.config({disabled:()=>s.checkUiComponentContext("mode:design").shouldDisable}),Gs(()=>s.checkUiComponentContext("mode:design")),eo.config({mode:"special",onEnter:i,onLeft:(p,b)=>(b.cut(),T.none()),onRight:(p,b)=>(b.cut(),T.none())}),_o("slider-events",[Af({onSetup:o.onSetup,getApi:jd,onBeforeSetup:eo.focusIn},l),zf({getApi:jd},l),je(pi(),p=>{o.onInput(jd(p))})])])});return CO(d,f,s)},C8=(o,s,i)=>{const l=$t(rt),d=o.label.map(b=>qo.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Ir(s.translate(b))]})),f={...o.placeholder.map(b=>({placeholder:s.translate(b)})).getOr({})},p=qo.parts.field({factory:Ef,inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-item"],inputAttributes:f,data:o.initValue(),selectOnFocus:!0,inputBehaviours:it([Jt.config({disabled:()=>s.checkUiComponentContext("mode:design").shouldDisable}),Gs(()=>s.checkUiComponentContext("mode:design")),eo.config({mode:"special",onEnter:i,onLeft:(b,y)=>(y.cut(),T.none()),onRight:(b,y)=>(y.cut(),T.none())}),_o("input-events",[Af({onSetup:o.onSetup,getApi:b=>Vl(b.element,".tox-toolbar").bind(y=>Pr(y,"button:enabled")).fold(()=>jd(b),y=>jd(b,y)),onBeforeSetup:eo.focusIn},l),zf({getApi:jd},l),je(pi(),b=>{o.onInput(jd(b))})])])});return CO(d,p,s)},p3=(o,s,i)=>{const l=Kn(o(i,b=>f.findPrimary(b).orThunk(()=>p.findPrimary(b)).map(y=>(Fi(y),!0)))),d=Yr(s.commands,b=>b.align==="start"),f=wO(l,d.pass,i),p=wO(l,d.fail,i);return gn([{title:T.none(),label:T.none(),items:f.asSpecs()},{title:T.none(),label:T.none(),items:[l.asSpec()]},{title:T.none(),label:T.none(),items:p.asSpecs()}],b=>b.items.length>0)},Z_=(o,s)=>{switch(o.type){case"contextform":return p3(lt(C8,o),o,s);case"contextsliderform":return p3(lt(w8,o),o,s);case"contextsizeinputform":return p3(lt(_8,o),o,s)}},SO=(o,s,i)=>s.bottom-o.y>=i&&o.bottom-s.y>=i,Rv=o=>{const s=(i=>{const l=i.getBoundingClientRect();if(l.height<=0&&l.width<=0){const d=Js(St(i.startContainer),i.startOffset).element;return(ks(d)?es(d):T.some(d)).filter(mr).map(f=>f.dom.getBoundingClientRect()).getOr(l)}return l})(o.selection.getRng());if(o.inline){const i=_s();return Dn(i.left+s.left,i.top+s.top,s.width,s.height)}{const i=Ql(St(o.getBody()));return Dn(i.x+s.left,i.y+s.top,s.width,s.height)}},EO=(o,s,i,l=0)=>{const d=In(window),f=js(St(o.getContentAreaContainer())),p=v0(o)||oy(o)||x0(o),{x:b,width:y}=((_,A,w)=>{const O=Math.max(_.x+w,A.x);return{x:O,width:Math.min(_.right-w,A.right)-O}})(f,d,l);if(o.inline&&!p)return Dn(b,d.y,y,d.height);{const _=s.header.isPositionedAtTop(),{y:A,bottom:w}=((O,I,F,K,Q,oe)=>{const W=St(O.getContainer()),Z=Pr(W,".tox-editor-header").getOr(W),ne=js(Z),se=ne.y>=I.bottom,re=K&&!se;if(O.inline&&re)return{y:Math.max(ne.bottom+oe,F.y),bottom:F.bottom};if(O.inline&&!re)return{y:F.y,bottom:Math.min(ne.y-oe,F.bottom)};const ye=Q==="line"?js(W):I;return re?{y:Math.max(ne.bottom+oe,F.y),bottom:Math.min(ye.bottom-oe,F.bottom)}:{y:Math.max(ye.y+oe,F.y),bottom:Math.min(ne.y-oe,F.bottom)}})(o,f,d,_,i,l);return Dn(b,A,y,w-A)}},AO={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},g3={maxHeightFunction:Xm(),maxWidthFunction:Sv()},h3=o=>o==="node",zO=(o,s,i,l,d)=>{const f=Rv(o),p=l.lastElement().exists(b=>ln(i,b));return((b,y)=>{const _=b.selection.getRng(),A=Js(St(_.startContainer),_.startOffset);return _.startContainer===_.endContainer&&_.startOffset===_.endOffset-1&&ln(A.element,y)})(o,i)?p?JT:mu:p?((b,y)=>{const _=hr(b,"position");Gt(b,"position",y);const A=SO(f,js(s),-20)&&!l.isReposition()?QT:JT;return _.each(w=>Gt(b,"position",w)),A})(s,l.getMode()):(l.getMode()==="fixed"?d.y+_s().top:d.y)+(xr(s)+12)<=f.y?mu:Ag},Ep=(o,s,i,l)=>{const d=p=>(b,y,_,A,w)=>({...zO(o,A,p,i,w)({...b,y:w.y,height:w.height},y,_,A,w),alwaysFit:!0}),f=p=>h3(l)?[d(p)]:[];return s?{onLtr:p=>[xs,Hs,qs,hi,Sa,As].concat(f(p)),onRtl:p=>[xs,qs,Hs,Sa,hi,As].concat(f(p))}:{onLtr:p=>[As,xs,hi,Hs,Sa,qs].concat(f(p)),onRtl:p=>[As,xs,Sa,qs,hi,Hs].concat(f(p))}},Ap=(o,s)=>{const i=gn(s,f=>f.predicate(o.dom)),{pass:l,fail:d}=Yr(i,f=>f.type==="contexttoolbar");return{contextToolbars:l,contextForms:d}},S8=(o,s)=>{const i={},l=[],d=[],f={},p={},b=Fo(o);return Ot(b,y=>{const _=o[y];_.type==="contextform"||_.type==="contextsliderform"||_.type==="contextsizeinputform"?((A,w)=>{const O=La(Jr("ContextForm",YR,w));i[A]=O,O.launch.map(I=>{f["form:"+A]={...w.launch,type:I.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{s(O)}}}),O.scope==="editor"?d.push(O):l.push(O),p[A]=O})(y,_):_.type==="contexttoolbar"&&((A,w)=>{var O;(O=w,Jr("ContextToolbar",XR,O)).each(I=>{w.scope==="editor"?d.push(I):l.push(I),p[A]=I})})(y,_)}),{forms:i,inNodeScope:l,inEditorScope:d,lookupTable:p,formNavigators:f}},b3="tox-pop--transition",TO=(o,s,i,l)=>{const d=l.backstage,f=d.shared,p=pa().deviceType.isTouch,b=sn(),y=sn(),_=sn(),A=bs((re=>{const ye=$t([]);return fs.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:Ae=>{ye.set([]),fs.getContent(Ae).each(Ue=>{Yo(Ue.element,"visibility")}),Yt(Ae.element,m3),Yo(Ae.element,"width")},onHide:()=>{re.onHide()},inlineBehaviours:it([_o("context-toolbar-events",[zu(Cs(),(Ae,Ue)=>{Ue.event.raw.propertyName==="width"&&(Yt(Ae.element,m3),Yo(Ae.element,"width"))}),je(Xy,(Ae,Ue)=>{const Fe=Ae.element;Yo(Fe,"width");const qe=ce(Fe);Yo(Fe,"left"),Yo(Fe,"right"),Yo(Fe,"max-width"),fs.setContent(Ae,Ue.event.contents),_t(Fe,m3);const nt=ce(Fe);Gt(Fe,"transition","none"),fs.reposition(Ae),Yo(Fe,"transition"),Gt(Fe,"width",qe+"px"),Ue.event.focus.fold(()=>u3(Ae),Mt=>{Qa(Mt),ei(Fe).isNone()&&u3(Ae)}),setTimeout(()=>{Gt(Ae.element,"width",nt+"px")},0)}),je(f3,(Ae,Ue)=>{fs.getContent(Ae).each(Fe=>{ye.set(ye.get().concat([{bar:Fe,focus:lc(ss(Ae.element))}]))}),oo(Ae,Xy,{contents:Ue.event.forwardContents,focus:T.none()})}),je(U_,(Ae,Ue)=>{re.onBack(),Ye(ye.get()).each(Fe=>{ye.set(ye.get().slice(0,ye.get().length-1)),oo(Ae,Xy,{contents:Vi(Fe.bar),focus:Fe.focus})})})]),eo.config({mode:"special",onEscape:Ae=>Ye(ye.get()).fold(()=>re.onEscape(),Ue=>(Xo(Ae,U_),T.some(!0)))})]),lazySink:()=>Zo.value(re.sink)})})({sink:i,onEscape:()=>(o.focus(),pC(o),T.some(!0)),onHide:()=>{pC(o)},onBack:()=>{(re=>{re.dispatch("ContextFormSlideBack")})(o)}})),w=()=>{const re=_.get().getOr("node"),ye=h3(re)?1:0;return EO(o,f,re,ye)},O=()=>!(o.removed||p()&&d.isContextMenuOpen()),I=()=>{if(O()){const re=w(),ye=Rs(_.get(),"node")?((Ae,Ue)=>Ue.filter(Fe=>Qn(Fe)&&ri(Fe)).map(Ql).getOrThunk(()=>Rv(Ae)))(o,b.get()):Rv(o);return re.height<=0||!SO(ye,re,.01)}return!0},F=()=>{b.clear(),y.clear(),_.clear(),fs.hide(A)},K=()=>{if(fs.isOpen(A)){const re=A.element;Yo(re,"display"),I()?Gt(re,"display","none"):(y.set(0),fs.reposition(A))}},Q=re=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[re],behaviours:it([eo.config({mode:"acyclic"}),_o("pop-dialog-wrap-events",[Mr(ye=>{o.shortcuts.add("ctrl+F9","focus statusbar",()=>eo.focusIn(ye))}),Dd(ye=>{o.shortcuts.remove("ctrl+F9")})])])}),oe=Ve(()=>S8(s,re=>{const ye=W([re]);oo(A,f3,{forwardContents:Q(ye)})})),W=re=>{const{buttons:ye}=o.ui.registry.getAll(),Ae={...ye,...oe().formNavigators},Ue=Qb(o)===Va.scrolling?Va.scrolling:Va.default,Fe=Nn(Qe(re,qe=>{return qe.type==="contexttoolbar"?((Mt,Xt)=>Dv(o,{buttons:Mt,toolbar:Xt.items,allowToolbarGroups:!1},l.backstage,T.some(["form:"])))(Ae,(nt=qe,{...nt,items:xo(nt.items)?nt.items:Qe(nt.items,JR)})):((Mt,Xt)=>Z_(Mt,Xt))(qe,f.providers);var nt}));return JS({type:Ue,uid:Ft("context-toolbar"),initGroups:Fe,onEscape:T.none,cyclicKeying:!0,providers:f.providers})},Z=(re,ye)=>{if(se.cancel(),!O())return;const Ae=W(re),Ue=re[0].position,Fe=((nt,Mt)=>{const Xt=nt==="node"?f.anchors.node(Mt):f.anchors.cursor(),uo=((No,en,ns,Qr)=>en==="line"?{bubble:Ui(12,0,AO),layouts:{onLtr:()=>[Km],onRtl:()=>[uf]},overrides:g3}:{bubble:Ui(0,12,AO,1/12),layouts:Ep(No,ns,Qr,en),overrides:g3})(o,nt,p(),{lastElement:b.get,isReposition:()=>Rs(y.get(),0),getMode:()=>Ha.getMode(i)});return Hn(Xt,uo)})(Ue,ye);_.set(Ue),y.set(1);const qe=A.element;Yo(qe,"display"),(nt=>Rs(Je(nt,b.get(),ln),!0))(ye)||(Yt(qe,b3),Ha.reset(i,A)),fs.showWithinBounds(A,Q(Ae),{anchor:Fe,transition:{classes:[b3],mode:"placement"}},()=>T.some(w())),ye.fold(b.clear,b.set),I()&&Gt(qe,"display","none")};let ne=!1;const se=nS(()=>{!o.hasFocus()||o.removed||ne||(Qo(A.element,b3)?se.throttle():((re,ye)=>{const Ae=St(ye.getBody()),Ue=qe=>ln(qe,Ae),Fe=St(ye.selection.getNode());return(qe=>!Ue(qe)&&!gs(Ae,qe))(Fe)?T.none():((qe,nt,Mt)=>{const Xt=Ap(qe,nt);if(Xt.contextForms.length>0)return T.some({elem:qe,toolbars:[Xt.contextForms[0]]});{const uo=Ap(qe,Mt);if(uo.contextForms.length>0)return T.some({elem:qe,toolbars:[uo.contextForms[0]]});if(Xt.contextToolbars.length>0||uo.contextToolbars.length>0){const No=(en=>{if(en.length<=1)return en;{const ns=fo=>zt(en,Tr=>Tr.position===fo),Qr=fo=>gn(en,Tr=>Tr.position===fo),Vn=ns("selection"),fn=ns("node");if(Vn||fn){if(fn&&Vn){const fo=Qr("node"),Tr=Qe(Qr("selection"),dr=>({...dr,position:"node"}));return fo.concat(Tr)}return Qr(Vn?"selection":"node")}return Qr("line")}})(Xt.contextToolbars.concat(uo.contextToolbars));return T.some({elem:qe,toolbars:No})}return T.none()}})(Fe,re.inNodeScope,re.inEditorScope).orThunk(()=>((qe,nt,Mt)=>qe(nt)?T.none():Ad(nt,Xt=>{if(mr(Xt)){const{contextToolbars:uo,contextForms:No}=Ap(Xt,Mt.inNodeScope),en=No.length>0?No:(ns=>{if(ns.length<=1)return ns;{const Qr=Vn=>V(ns,fn=>fn.position===Vn);return Qr("selection").orThunk(()=>Qr("node")).orThunk(()=>Qr("line")).map(Vn=>Vn.position).fold(()=>[],Vn=>gn(ns,fn=>fn.position===Vn))}})(uo);return en.length>0?T.some({elem:Xt,toolbars:en}):T.none()}return T.none()},qe))(Ue,Fe,re))})(oe(),o).fold(F,re=>{Z(re.toolbars,T.some(re.elem))}))},17);o.on("init",()=>{o.on("remove",F),o.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",K),o.on("click keyup focus SetContent",se.throttle),o.on(Tg,F),o.on("contexttoolbar-show",re=>{const ye=oe();mt(ye.lookupTable,re.toolbarKey).each(Ae=>{Z([Ae],To(re.target!==o,re.target)),u3(A)})}),o.on("focusout",re=>{Wx.setEditorTimeout(o,()=>{ei(i.element).isNone()&&ei(A.element).isNone()&&F()},0)}),o.on("SwitchMode",()=>{o.mode.isReadOnly()&&F()}),o.on("DisabledStateChange",re=>{re.state&&F()}),o.on("ExecCommand",({command:re})=>{re.toLowerCase()==="toggleview"&&F()}),o.on("AfterProgressState",re=>{re.state?F():o.hasFocus()&&se.throttle()}),o.on("dragstart",()=>{ne=!0}),o.on("dragend drop",()=>{ne=!1}),o.on("NodeChange",re=>{ei(A.element).fold(se.throttle,rt)})})},OO=(o,s)=>{const i=()=>{const l=s.getOptions(o),d=s.getCurrent(o).map(s.hash),f=sn();return Qe(l,p=>({type:"togglemenuitem",text:s.display(p),onSetup:b=>{const y=A=>{A&&(f.on(w=>w.setActive(!1)),f.set(b)),b.setActive(A)};y(Rs(d,s.hash(p)));const _=s.watcher(o,p,y);return()=>{f.clear(),_()}},onAction:()=>s.setCurrent(o,p)}))};o.ui.registry.addMenuButton(s.name,{tooltip:s.text,icon:s.icon,fetch:l=>l(i()),onSetup:s.onToolbarSetup}),o.ui.registry.addNestedMenuItem(s.name,{type:"nestedmenuitem",text:s.text,getSubmenuItems:i,onSetup:s.onMenuSetup})},DO=o=>{OO(o,(s=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:Th,hash:i=>(l=>H_(l,["fixed","relative","empty"]).map(({value:d,unit:f})=>d+f))(i).getOr(i),display:Tt,watcher:(i,l,d)=>i.formatter.formatChanged("lineheight",d,!1,{value:l}).unbind,getCurrent:i=>T.from(i.queryCommandValue("LineHeight")),setCurrent:(i,l)=>i.execCommand("LineHeight",!1,l),onToolbarSetup:wl(s),onMenuSetup:wl(s)}))(o)),(s=>T.from(KE(s)).map(i=>({name:"language",text:"Language",icon:"language",getOptions:le(i),hash:l=>ar(l.customCode)?l.code:`${l.code}/${l.customCode}`,display:l=>l.title,watcher:(l,d,f)=>{var p;return l.formatter.formatChanged("lang",f,!1,{value:d.code,customValue:(p=d.customCode)!==null&&p!==void 0?p:null}).unbind},getCurrent:l=>{const d=St(l.selection.getNode());return Bl(d,f=>T.some(f).filter(mr).bind(p=>os(p,"lang").map(b=>({code:b,customCode:os(p,"data-mce-lang").getOrUndefined(),title:""}))))},setCurrent:(l,d)=>l.execCommand("Lang",!1,d),onToolbarSetup:l=>{const d=vd();return l.setActive(s.formatter.match("lang",{},void 0,!0)),d.set(s.formatter.formatChanged("lang",l.setActive,!0)),xy(d.clear,wl(s)(l))},onMenuSetup:wl(s)})))(o).each(s=>OO(o,s))},E8=o=>$h(o,"NodeChange",s=>{s.setEnabled(o.queryCommandState("outdent")&&o.selection.isEditable())}),RO=(o,s)=>i=>{i.setActive(s.get());const l=d=>{s.set(d.state),i.setActive(d.state)};return o.on("PastePlainTextToggle",l),xy(()=>o.off("PastePlainTextToggle",l),wl(o)(i))},y3=(o,s)=>()=>{o.execCommand("mceToggleFormat",!1,s)},A8=o=>{(s=>{(i=>{_p.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(l,d)=>{i.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onSetup:Dk(i,l.name),onAction:y3(i,l.name),shortcut:l.shortcut})});for(let l=1;l<=6;l++){const d="h"+l,f=`Access+${l}`;i.ui.registry.addToggleButton(d,{text:d.toUpperCase(),tooltip:"Heading "+l,onSetup:Dk(i,d),onAction:y3(i,d),shortcut:f})}})(s),(i=>{_p.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy",context:"any"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],l=>{i.ui.registry.addButton(l.name,{tooltip:l.text,icon:l.icon,onAction:ql(i,l.action),shortcut:l.shortcut,context:l.context})}),_p.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],l=>{i.ui.registry.addButton(l.name,{tooltip:l.text,icon:l.icon,onSetup:wl(i),onAction:ql(i,l.action)})})})(s),(i=>{_p.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],l=>{i.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onAction:ql(i,l.action),onSetup:Dk(i,l.name)})})})(s)})(o),(s=>{_p.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],i=>{s.ui.registry.addMenuItem(i.name,{text:i.text,icon:i.icon,shortcut:i.shortcut,onAction:ql(s,i.action),context:i.context})}),_p.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],i=>{s.ui.registry.addMenuItem(i.name,{text:i.text,icon:i.icon,shortcut:i.shortcut,onSetup:wl(s),onAction:ql(s,i.action)})}),s.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:wl(s),onAction:y3(s,"code")})})(o)},W_=(o,s)=>$h(o,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",i=>{i.setEnabled(!o.mode.isReadOnly()&&o.undoManager[s]())}),z8=o=>$h(o,"VisualAid",s=>{s.setActive(o.hasVisual)}),T8=(o,s)=>{(i=>{Ot([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],l=>{i.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onAction:ql(i,l.cmd),onSetup:Dk(i,l.name)})}),i.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:wl(i),onAction:ql(i,"JustifyNone")})})(o),A8(o),((i,l)=>{((d,f)=>{const p=Zy(f,eO(d));d.ui.registry.addNestedMenuItem("align",{text:f.shared.providers.translate("Align"),onSetup:wl(d),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})})(i,l),((d,f)=>{const p=Zy(f,s3(d));d.ui.registry.addNestedMenuItem("fontfamily",{text:f.shared.providers.translate("Fonts"),onSetup:wl(d),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})})(i,l),((d,f)=>{const p={type:"advanced",...f.styles},b=Zy(f,uO(d,p));d.ui.registry.addNestedMenuItem("styles",{text:"Formats",onSetup:wl(d),getSubmenuItems:()=>b.items.validateItems(b.getStyleItems())})})(i,l),((d,f)=>{const p=Zy(f,nO(d));d.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",onSetup:wl(d),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})})(i,l),((d,f)=>{const p=Zy(f,a3(d));d.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",onSetup:wl(d),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})})(i,l)})(o,s),(i=>{(l=>{l.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:W_(l,"hasUndo"),onAction:ql(l,"undo")}),l.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:W_(l,"hasRedo"),onAction:ql(l,"redo")})})(i),(l=>{l.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:W_(l,"hasUndo"),onAction:ql(l,"undo"),shortcut:"Meta+Z"}),l.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:W_(l,"hasRedo"),onAction:ql(l,"redo"),shortcut:"Meta+Y"})})(i)})(o),(i=>{(b=>{b.addCommand("mceApplyTextcolor",(y,_)=>{((A,w,O)=>{A.undoManager.transact(()=>{A.focus(),A.formatter.apply(w,{value:O}),A.nodeChanged()})})(b,y,_)}),b.addCommand("mceRemoveTextcolor",y=>{((_,A)=>{_.undoManager.transact(()=>{_.focus(),_.formatter.remove(A,{value:null},void 0,!0),_.nodeChanged()})})(b,y)})})(i);const l=mz(i),d=q0(i),f=$t(l),p=$t(d);SC(i,"forecolor","forecolor",f),SC(i,"backcolor","hilitecolor",p),hz(i,"forecolor","forecolor","Text color",f),hz(i,"backcolor","hilitecolor","Background color",p)})(o),(i=>{(l=>{l.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:ql(l,"mceToggleVisualAid"),context:"any"})})(i),(l=>{l.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:z8(l),onAction:ql(l,"mceToggleVisualAid"),context:"any"})})(i)})(o),(i=>{(l=>{l.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:E8(l),onAction:ql(l,"outdent")}),l.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:wl(l),onAction:ql(l,"indent")})})(i)})(o),DO(o),(i=>{const l=$t(nk(i)),d=()=>i.execCommand("mceTogglePlainTextPaste");i.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:d,onSetup:RO(i,l)}),i.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:d,onSetup:RO(i,l)})})(o),(i=>{i.ui.registry.addContext("editable",()=>i.selection.isEditable()),i.ui.registry.addContext("mode",l=>i.mode.get()===l),i.ui.registry.addContext("any",It),i.ui.registry.addContext("formatting",l=>i.formatter.canApply(l)),i.ui.registry.addContext("insert",l=>i.schema.isValidChild(i.selection.getNode().tagName,l))})(o)},O8=o=>xo(o)?o.split(/[ ,]/):o,q_=o=>s=>s.options.get(o),NO=q_("contextmenu_never_use_native"),D8=q_("contextmenu_avoid_overlap"),MO=o=>{const s=o.ui.registry.getAll().contextMenus,i=o.options.get("contextmenu");return o.options.isSet("contextmenu")?i:gn(i,l=>io(s,l))},Qy=(o,s)=>({type:"makeshift",x:o,y:s}),BO=o=>o.type==="longpress"||o.type.indexOf("touch")===0,R8=(o,s)=>s.type==="contextmenu"||s.type==="longpress"?o.inline?(i=>{if(BO(i)){const l=i.touches[0];return Qy(l.pageX,l.pageY)}return Qy(i.pageX,i.pageY)})(s):((i,l)=>{const d=h0.DOM.getPos(i);return((f,p,b)=>Qy(f.x+p,f.y+b))(l,d.x,d.y)})(o.getContentAreaContainer(),(i=>{if(BO(i)){const l=i.touches[0];return Qy(l.clientX,l.clientY)}return Qy(i.clientX,i.clientY)})(s)):IO(o),IO=o=>({type:"selection",root:St(o.selection.getNode())}),v3=(o,s,i)=>{switch(i){case"node":return(l=>({type:"node",node:T.some(St(l.selection.getNode())),root:St(l.getBody())}))(o);case"point":return R8(o,s);case"selection":return IO(o)}},N8=(o,s,i,l,d,f)=>{const p=i(),b=v3(o,s,f);By(p,Sf.CLOSE_ON_EXECUTE,l,{isHorizontalMenu:!1,search:T.none()}).map(y=>{s.preventDefault(),fs.showMenuAt(d,{anchor:b},{menu:{markers:Ih("normal")},data:y})})},M8={onLtr:()=>[xs,Hs,qs,hi,Sa,As,mu,Ag,Jh,_v,Fy,E_],onRtl:()=>[xs,qs,Hs,Sa,hi,As,mu,Ag,Fy,E_,Jh,_v]},B8={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},I8=(o,s,i,l,d,f)=>{const p=pa(),b=p.os.isiOS(),y=p.os.isMacOS(),_=p.os.isAndroid(),A=p.deviceType.isTouch(),w=()=>{const O=i();((I,F,K,Q,oe,W,Z)=>{const ne=((se,re,ye)=>{const Ae=v3(se,re,ye);return{bubble:Ui(0,ye==="point"?12:0,B8),layouts:M8,overrides:{maxWidthFunction:Sv(),maxHeightFunction:Xm()},...Ae}})(I,F,W);By(K,Sf.CLOSE_ON_EXECUTE,Q,{isHorizontalMenu:!0,search:T.none()}).map(se=>{F.preventDefault();const re=Z?zs.HighlightMenuAndItem:zs.HighlightNone;fs.showMenuWithinBounds(oe,{anchor:ne},{menu:{markers:Ih("normal"),highlightOnOpen:re},data:se,type:"horizontal"},()=>T.some(EO(I,Q.shared,W==="node"?"node":"selection"))),I.dispatch(Tg)})})(o,s,O,l,d,f,!(_||b||y&&A))};if((y||b)&&f!=="node"){const O=()=>{(I=>{const F=I.selection.getRng(),K=()=>{Wx.setEditorTimeout(I,()=>{I.selection.setRng(F)},10),W()};I.once("touchend",K);const Q=Z=>{Z.preventDefault(),Z.stopImmediatePropagation()};I.on("mousedown",Q,!0);const oe=()=>W();I.once("longpresscancel",oe);const W=()=>{I.off("touchend",K),I.off("longpresscancel",oe),I.off("mousedown",Q)}})(o),w()};((I,F)=>{const K=I.selection;if(K.isCollapsed()||F.touches.length<1)return!1;{const Q=F.touches[0],oe=K.getRng();return Bu(I.getWin(),od.domRange(oe)).exists(W=>W.left<=Q.clientX&&W.right>=Q.clientX&&W.top<=Q.clientY&&W.bottom>=Q.clientY)}})(o,s)?O():(o.once("selectionchange",O),o.once("touchend",()=>o.off("selectionchange",O)))}else w()},PO=o=>xo(o)?o==="|":o.type==="separator",G_={type:"separator"},x3=o=>{const s=i=>({text:i.text,icon:i.icon,enabled:i.enabled,shortcut:i.shortcut});if(xo(o))return o;switch(o.type){case"separator":return G_;case"submenu":return{type:"nestedmenuitem",...s(o),getSubmenuItems:()=>{const l=o.getSubmenuItems();return xo(l)?l:Qe(l,x3)}};default:const i=o;return{type:"menuitem",...s(i),onAction:ut(i.onAction)}}},LO=(o,s)=>{if(s.length===0)return o;const i=Ye(o).filter(l=>!PO(l)).fold(()=>[],l=>[G_]);return o.concat(i).concat(s).concat([G_])},FO=(o,s)=>!(i=>i.type==="longpress"||io(i,"touches"))(s)&&(s.button!==2||s.target===o.getBody()&&s.pointerType===""),HO=(o,s)=>FO(o,s)?o.selection.getStart(!0):s.target,P8=(o,s,i)=>{const l=pa().deviceType.isTouch,d=bs(fs.sketch({dom:{tag:"div"},lazySink:s,onEscape:()=>o.focus(),onShow:()=>i.setContextMenuState(!0),onHide:()=>i.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:it([_o("dismissContextMenu",[je(gi(),(b,y)=>{vn.close(b),o.focus()})])])})),f=()=>fs.hide(d),p=b=>{if(NO(o)&&b.preventDefault(),((_,A)=>A.ctrlKey&&!NO(_))(o,b)||(_=>MO(_).length===0)(o))return;const y=((_,A)=>{const w=D8(_),O=FO(_,A)?"selection":"point";if(ca(w)){const I=HO(_,A);return Sy(St(I),w)?"node":O}return O})(o,b);(l()?I8:N8)(o,b,()=>{const _=HO(o,b),A=o.ui.registry.getAll(),w=MO(o);return((O,I,F)=>{const K=Co(I,(Q,oe)=>mt(O,oe.toLowerCase()).map(W=>{const Z=W.update(F);if(xo(Z)&&ca(_i(Z)))return LO(Q,Z.split(" "));if(Po(Z)&&Z.length>0){const ne=Qe(Z,x3);return LO(Q,ne)}return Q}).getOrThunk(()=>Q.concat([oe])),[]);return K.length>0&&PO(K[K.length-1])&&K.pop(),K})(A.contextMenus,w,_)},i,d,y)};o.on("init",()=>{const b="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(l()?"":" ResizeWindow");o.on(b,f),o.on("longpress contextmenu",p)})},k3=_n([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),Nv=o=>s=>s.translate(-o.left,-o.top),zp=o=>s=>s.translate(o.left,o.top),Tp=o=>(s,i)=>Co(o,(l,d)=>d(l),On(s,i)),K_=(o,s,i)=>o.fold(Tp([zp(i),Nv(s)]),Tp([Nv(s)]),Tp([])),e1=(o,s,i)=>o.fold(Tp([zp(i)]),Tp([]),Tp([zp(s)])),Mv=(o,s,i)=>o.fold(Tp([]),Tp([Nv(i)]),Tp([zp(s),Nv(i)])),Ud=(o,s,i)=>{const l=o.fold((d,f)=>({position:T.some("absolute"),left:T.some(d+"px"),top:T.some(f+"px")}),(d,f)=>({position:T.some("absolute"),left:T.some(d-i.left+"px"),top:T.some(f-i.top+"px")}),(d,f)=>({position:T.some("fixed"),left:T.some(d+"px"),top:T.some(f+"px")}));return{right:T.none(),bottom:T.none(),...l}},Bv=(o,s,i,l)=>{const d=(f,p)=>(b,y)=>{const _=f(s,i,l);return p(b.getOr(_.left),y.getOr(_.top))};return o.fold(d(Mv,Iv),d(e1,Og),d(K_,Qh))},Iv=k3.offset,Og=k3.absolute,Qh=k3.fixed,VO=(o,s)=>{const i=as(o,s);return ar(i)?NaN:parseInt(i,10)},L8=(o,s,i,l,d,f)=>{const p=((_,A,w,O)=>((I,F)=>{const K=I.element,Q=VO(K,F.leftAttr),oe=VO(K,F.topAttr);return isNaN(Q)||isNaN(oe)?T.none():T.some(On(Q,oe))})(_,A).fold(()=>w,I=>Qh(I.left+O.left,I.top+O.top)))(o,s,i,l),b=s.mustSnap?$O(o,s,p,d,f):F8(o,s,p,d,f),y=K_(p,d,f);return((_,A,w)=>{const O=_.element;po(O,A.leftAttr,w.left+"px"),po(O,A.topAttr,w.top+"px")})(o,s,y),b.fold(()=>({coord:Qh(y.left,y.top),extra:T.none()}),_=>({coord:_.output,extra:_.extra}))},_3=(o,s,i,l)=>mo(o,d=>{const f=d.sensor;return((b,y,_,A,w,O)=>{const I=e1(b,w,O),F=e1(y,w,O);return Math.abs(I.left-F.left)<=_&&Math.abs(I.top-F.top)<=A})(s,f,d.range.left,d.range.top,i,l)?T.some({output:Bv(d.output,s,i,l),extra:d.extra}):T.none()}),$O=(o,s,i,l,d)=>{const f=s.getSnapPoints(o);return _3(f,i,l,d).orThunk(()=>Co(f,(b,y)=>{const _=y.sensor,A=((w,O,I,F,K,Q)=>{const oe=e1(w,K,Q),W=e1(O,K,Q),Z=Math.abs(oe.left-W.left),ne=Math.abs(oe.top-W.top);return On(Z,ne)})(i,_,y.range.left,y.range.top,l,d);return b.deltas.fold(()=>({deltas:T.some(A),snap:T.some(y)}),w=>(A.left+A.top)/2<=(w.left+w.top)/2?{deltas:T.some(A),snap:T.some(y)}:b)},{deltas:T.none(),snap:T.none()}).snap.map(b=>({output:Bv(b.output,i,l,d),extra:b.extra})))},F8=(o,s,i,l,d)=>{const f=s.getSnapPoints(o);return _3(f,i,l,d)};var H8=Object.freeze({__proto__:null,snapTo:(o,s,i,l)=>{const d=s.getTarget(o.element);if(s.repositionTarget){const f=ua(o.element),p=_s(f),b=Ou(d),y=((A,w,O)=>({coord:Bv(A.output,A.output,w,O),extra:A.extra}))(l,p,b),_=Ud(y.coord,0,b);ii(d,_)}}});const Y_="data-initial-z-index",jO=(o,s)=>{o.getSystem().addToGui(s),(i=>{es(i.element).filter(mr).each(l=>{hr(l,"z-index").each(d=>{po(l,Y_,d)}),Gt(l,"z-index",Ns(i.element,"z-index"))})})(s)},UO=o=>{(s=>{es(s.element).filter(mr).each(i=>{os(i,Y_).fold(()=>Yo(i,"z-index"),l=>Gt(i,"z-index",l)),Sr(i,Y_)})})(o),o.getSystem().removeFromGui(o)},w3=(o,s,i)=>o.getSystem().build(Hd.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[s]},events:i}));var ZO=fi("snaps",[Ke("getSnapPoints"),dn("onSensor"),Ke("leftAttr"),Ke("topAttr"),Te("lazyViewport",Bs),Te("mustSnap",!1)]);const C3=[Te("useFixed",Le),Ke("blockerClass"),Te("getTarget",Tt),Te("onDrag",rt),Te("repositionTarget",!0),Te("onDrop",rt),br("getBounds",Bs),ZO],V8=o=>{return(s=hr(o,"left"),i=hr(o,"top"),l=hr(o,"position"),s.isSome()&&i.isSome()&&l.isSome()?T.some(((d,f,p)=>(p==="fixed"?Qh:Iv)(parseInt(d,10),parseInt(f,10)))(s.getOrDie(),i.getOrDie(),l.getOrDie())):T.none()).getOrThunk(()=>{const d=Ur(o);return Og(d.left,d.top)});var s,i,l},WO=(o,s)=>({bounds:o.getBounds(),height:_a(s.element),width:_e(s.element)}),S3=(o,s,i,l,d)=>{const f=i.update(l,d),p=i.getStartData().getOrThunk(()=>WO(s,o));f.each(b=>{((y,_,A,w)=>{const O=_.getTarget(y.element);if(_.repositionTarget){const I=ua(y.element),F=_s(I),K=Ou(O),Q=V8(O),oe=((Z,ne,se,re,ye,Ae,Ue)=>((Fe,qe,nt,Mt,Xt)=>{const uo=Xt.bounds,No=e1(qe,nt,Mt),en=Ec(No.left,uo.x,uo.x+uo.width-Xt.width),ns=Ec(No.top,uo.y,uo.y+uo.height-Xt.height),Qr=Og(en,ns);return qe.fold(()=>{const Vn=Mv(Qr,nt,Mt);return Iv(Vn.left,Vn.top)},le(Qr),()=>{const Vn=K_(Qr,nt,Mt);return Qh(Vn.left,Vn.top)})})(0,ne.fold(()=>{const Fe=(qe=se,nt=Ae.left,Mt=Ae.top,qe.fold((uo,No)=>Iv(uo+nt,No+Mt),(uo,No)=>Og(uo+nt,No+Mt),(uo,No)=>Qh(uo+nt,No+Mt)));var qe,nt,Mt;const Xt=K_(Fe,re,ye);return Qh(Xt.left,Xt.top)},Fe=>{const qe=L8(Z,Fe,se,Ae,re,ye);return qe.extra.each(nt=>{Fe.onSensor(Z,nt)}),qe.coord}),re,ye,Ue))(y,_.snaps,Q,F,K,w,A),W=Ud(oe,0,K);ii(O,W)}_.onDrag(y,O,w)})(o,s,p,b)})},qO=(o,s,i,l)=>{s.each(UO),i.snaps.each(f=>{((p,b)=>{((y,_)=>{const A=y.element;Sr(A,_.leftAttr),Sr(A,_.topAttr)})(p,b)})(o,f)});const d=i.getTarget(o.element);l.reset(),i.onDrop(o,d)},E3=o=>(s,i)=>{const l=d=>{i.setStartData(WO(s,d))};return tr([je(qt(),d=>{i.getStartData().each(()=>l(d))}),...o(s,i,l)])};var A3=Object.freeze({__proto__:null,getData:o=>T.from(On(o.x,o.y)),getDelta:(o,s)=>On(s.left-o.left,s.top-o.top)});const GO=(o,s,i)=>[je(ge(),(l,d)=>{if(d.event.raw.button!==0)return;d.stop();const f=()=>qO(l,T.some(y),o,s),p=Tz(f,200),b={drop:f,delayDrop:p.schedule,forceDrop:f,move:_=>{p.cancel(),S3(l,o,s,A3,_)}},y=w3(l,o.blockerClass,(_=>tr([je(ge(),_.forceDrop),je(Bo(),_.drop),je(ot(),(A,w)=>{_.move(w.event)}),je(no(),_.delayDrop)]))(b));i(l),jO(l,y)})],$8=[...C3,Br("dragger",{handlers:E3(GO)})];var z3=Object.freeze({__proto__:null,getData:o=>{const s=o.raw.touches;return s.length===1?(i=>{const l=i[0];return T.some(On(l.clientX,l.clientY))})(s):T.none()},getDelta:(o,s)=>On(s.left-o.left,s.top-o.top)});const KO=(o,s,i)=>{const l=sn(),d=f=>{qO(f,l.get(),o,s),l.clear()};return[je(C(),(f,p)=>{p.stop();const b=()=>d(f),y={drop:b,delayDrop:rt,forceDrop:b,move:A=>{S3(f,o,s,z3,A)}},_=w3(f,o.blockerClass,(A=>tr([je(C(),A.forceDrop),je(j(),A.drop),je(ue(),A.drop),je(M(),(w,O)=>{A.move(O.event)})]))(y));l.set(_),i(f),jO(f,_)}),je(M(),(f,p)=>{p.stop(),S3(f,o,s,z3,p.event)}),je(j(),(f,p)=>{p.stop(),d(f)}),je(ue(),d)]},j8=$8,U8=[...C3,Br("dragger",{handlers:E3(KO)})],Z8=[...C3,Br("dragger",{handlers:E3((o,s,i)=>[...GO(o,s,i),...KO(o,s,i)])})];var W8=Object.freeze({__proto__:null,mouse:j8,touch:U8,mouseOrTouch:Z8}),q8=Object.freeze({__proto__:null,init:()=>{let o=T.none(),s=T.none();const i=le({});return yr({readState:i,reset:()=>{o=T.none(),s=T.none()},update:(l,d)=>l.getData(d).bind(f=>((p,b)=>{const y=o.map(_=>p.getDelta(_,b));return o=T.some(b),y})(l,f)),getStartData:()=>s,setStartData:l=>{s=T.some(l)}})}});const eb=k({branchKey:"mode",branches:W8,name:"dragging",active:{events:(o,s)=>o.dragger.handlers(o,s)},extra:{snap:o=>({sensor:o.sensor,range:o.range,output:o.output,extra:T.from(o.extra)})},state:q8,apis:H8}),T3=(o,s,i,l,d,f)=>o.fold(()=>eb.snap({sensor:Og(i-20,l-20),range:On(d,f),output:Og(T.some(i),T.some(l)),extra:{td:s}}),p=>{const b=i-20,y=l-20,_=p.element.dom.getBoundingClientRect();return eb.snap({sensor:Og(b,y),range:On(40,40),output:Og(T.some(i-_.width/2),T.some(l-_.height/2)),extra:{td:s}})}),O3=(o,s,i)=>({getSnapPoints:o,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(l,d)=>{const f=d.td;((p,b)=>p.exists(y=>ln(y,b)))(s.get(),f)||(s.set(f),i(f))},mustSnap:!0}),YO=o=>Kn(qi.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:it([eb.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:o}),ov.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),G8=(o,s)=>{const i=$t([]),l=$t([]),d=$t(!1),f=sn(),p=sn(),b=W=>{const Z=Ql(W);return T3(w.getOpt(s),W,Z.x,Z.y,Z.width,Z.height)},y=W=>{const Z=Ql(W);return T3(O.getOpt(s),W,Z.right,Z.bottom,Z.width,Z.height)},_=O3(()=>Qe(i.get(),W=>b(W)),f,W=>{p.get().each(Z=>{o.dispatch("TableSelectorChange",{start:W,finish:Z})})}),A=O3(()=>Qe(l.get(),W=>y(W)),p,W=>{f.get().each(Z=>{o.dispatch("TableSelectorChange",{start:Z,finish:W})})}),w=YO(_),O=YO(A),I=bs(w.asSpec()),F=bs(O.asSpec()),K=(W,Z,ne,se)=>{const re=ne(Z);eb.snapTo(W,re),((ye,Ae)=>{const Ue=Ae.dom.getBoundingClientRect();Yo(ye.element,"display");const Fe=gd(St(o.getBody())).dom.innerHeight,qe=Ue[se]<0,nt=((Mt,Xt)=>Mt[se]>Xt)(Ue,Fe);(qe||nt)&&Gt(ye.element,"display","none")})(W,Z)},Q=W=>K(I,W,b,"top"),oe=W=>K(F,W,y,"bottom");if(pa().deviceType.isTouch()){const W=Z=>Qe(Z,St);o.on("TableSelectionChange",Z=>{d.get()||(gf(s,I),gf(s,F),d.set(!0));const ne=St(Z.start),se=St(Z.finish);f.set(ne),p.set(se),T.from(Z.otherCells).each(re=>{i.set(W(re.upOrLeftCells)),l.set(W(re.downOrRightCells)),Q(ne),oe(se)})}),o.on("ResizeEditor ResizeWindow ScrollContent",()=>{f.get().each(Q),p.get().each(oe)}),o.on("TableSelectionClear",()=>{d.get()&&(Iu(I),Iu(F),d.set(!1)),f.clear(),p.clear()})}},K8=(o,s,i)=>{var l;const d=(l=s.delimiter)!==null&&l!==void 0?l:"›";return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:it([eo.config({mode:"flow",selector:"div[role=button]"}),Jt.config({disabled:i.isDisabled}),Gs(()=>i.checkUiComponentContext("any")),cr.config({}),So.config({}),_o("elementPathEvents",[Mr((f,p)=>{o.shortcuts.add("alt+F11","focus statusbar elementpath",()=>eo.focusIn(f)),o.on("NodeChange",b=>{const y=(A=>{const w=[];let O=A.length;for(;O-- >0;){const F=A[O];if(F.nodeType===1&&(I=F).nodeName!=="BR"&&!I.getAttribute("data-mce-bogus")&&I.getAttribute("data-mce-type")!=="bookmark"){const K=lz(o,F);if(K.isDefaultPrevented()||w.push({name:K.name,element:F}),K.isPropagationStopped())break}}var I;return w})(b.parents),_=y.length>0?Co(y,(A,w,O)=>{const I=((F,K,Q)=>qi.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":Q}},components:[Ir(F)],action:oe=>{o.focus(),o.selection.select(K),o.nodeChanged()},buttonBehaviours:it([ys.config({...i.tooltips.getConfig({tooltipText:i.translate(["Select the {0} element",K.nodeName.toLowerCase()]),onShow:(oe,W)=>{((Z,ne)=>{const se=T.from(as(Z,"id")).getOrThunk(()=>{const re=Ft("aria");return po(ne,"id",re),re});po(Z,"aria-describedby",se)})(oe.element,W.element)},onHide:oe=>{var W;W=oe.element,Sr(W,"aria-describedby")}})}),V0(i.isDisabled),Gs(()=>i.checkUiComponentContext("any"))])}))(w.name,w.element,O);return O===0?A.concat([I]):A.concat([{dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[Ir(` ${d} `)]},I])},[]):[];So.set(f,_)})})])]),components:[]}};var Dg;(function(o){o[o.None=0]="None",o[o.Both=1]="Both",o[o.Vertical=2]="Vertical"})(Dg||(Dg={}));const XO=(o,s,i)=>{const l=St(o.getContainer()),d=((f,p,b,y,_)=>{const A={height:j_(y+p.top,Kx(f),Yx(f))};return b===Dg.Both&&(A.width=j_(_+p.left,Gx(f),Jb(f))),A})(o,s,i,xr(l),ce(l));Jn(d,(f,p)=>{Lo(f)&&Gt(l,p,l3(f))}),(f=>{f.dispatch("ResizeEditor")})(o)},X_=(o,s,i,l)=>{const d=On(20*i,20*l);return XO(o,d,s),T.some(!0)},JO=(o,s)=>{const i=()=>{const l=[],d=rk(o),f=ok(o),p=b0(o)||o.hasPlugin("wordcount");return f&&l.push(K8(o,{},s)),d&&l.push((()=>{const b=Sk("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[Ir(du.translate(["Press {0} for help",b]))]}})()),p&&l.push((()=>{const b=[];return o.hasPlugin("wordcount")&&b.push(((y,_)=>{const A=(w,O,I)=>So.set(w,[Ir(_.translate(["{0} "+I,O[I]]))]);return qi.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:it([V0(_.isDisabled),Gs(()=>_.checkUiComponentContext("any")),cr.config({}),So.config({}),X.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),_o("wordcount-events",[sc(w=>{const O=X.getValue(w),I=O.mode==="words"?"characters":"words";X.setValue(w,{mode:I,count:O.count}),A(w,O.count,I)}),Mr(w=>{y.on("wordCountUpdate",O=>{const{mode:I}=X.getValue(w);X.setValue(w,{mode:I,count:O.wordCount}),A(w,O.wordCount,I)})})])]),eventOrder:{[pl()]:["disabling","alloy.base.behaviour","wordcount-events"]}})})(o,s)),b0(o)&&b.push({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":o.translate(["Build with {0}","TinyMCE"])},innerHtml:o.translate(["Build with {0}",`<svg height="16" viewBox="0 0 80 16" width="80" xmlns="http://www.w3.org/2000/svg"><g opacity=".8"><path d="m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z"/><path clip-rule="evenodd" d="m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z" fill-rule="evenodd"/><path d="m28.752 4.126h-2.346v8.794h2.346z"/><path clip-rule="evenodd" d="m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z" fill-rule="evenodd"/></g></svg>
`.trim()])},behaviours:it([yo.config({})])}]}),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:b}})()),l.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...(()=>{const b="tox-statusbar__text-container--flex-start",y="tox-statusbar__text-container--flex-end";if(d){const _="tox-statusbar__text-container-3-cols";return p||f?p&&!f?[_,y]:[_,b]:[_,"tox-statusbar__text-container--space-around"]}return[p&&!f?y:b]})()]},components:l}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const l=i(),d=((f,p)=>{const b=(_=>{const A=y0(_);return A===!1?Dg.None:A==="both"?Dg.Both:Dg.Vertical})(f);if(b===Dg.None)return T.none();const y=b===Dg.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return T.some(Rc("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{"aria-label":p.translate(y),"data-mce-name":"resize-handle"},behaviours:[eb.config({mode:"mouse",repositionTarget:!1,onDrag:(_,A,w)=>XO(f,w,b),blockerClass:"tox-blocker"}),eo.config({mode:"special",onLeft:()=>X_(f,b,-1,0),onRight:()=>X_(f,b,1,0),onUp:()=>X_(f,b,0,-1),onDown:()=>X_(f,b,0,1)}),cr.config({}),yo.config({}),ys.config(p.tooltips.getConfig({tooltipText:p.translate("Resize")}))]},p.icons))})(o,s);return l.concat(d.toArray())})()}},D3=(o,s)=>s.get().getOrDie(`UI for ${o} has not been rendered`),QO=(o,s)=>{const i=o.inline,l=i?Yy:x8,d=Oh(o)?E7:v5,f=(()=>{const re=sn(),ye=sn(),Ae=sn();return{dialogUi:re,popupUi:ye,mainUi:Ae,getUiMotherships:()=>{const Ue=re.get().map(qe=>qe.mothership),Fe=ye.get().map(qe=>qe.mothership);return Ue.fold(()=>Fe.toArray(),qe=>Fe.fold(()=>[qe],nt=>ln(qe.element,nt.element)?[qe]:[qe,nt]))},lazyGetInOuterOrDie:(Ue,Fe)=>()=>Ae.get().bind(qe=>Fe(qe.outerContainer)).getOrDie(`Could not find ${Ue} element in OuterContainer`)}})(),p=sn(),b=sn(),y=sn(),_=pa().deviceType.isTouch()?["tox-platform-touch"]:[],A=ak(o),w=Qb(o),O=Kn({dom:{tag:"div",classes:["tox-anchorbar"]}}),I=Kn({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),F=()=>f.mainUi.get().map(re=>re.outerContainer).bind(Kr.getHeader),K=f.lazyGetInOuterOrDie("anchor bar",O.getOpt),Q=f.lazyGetInOuterOrDie("bottom anchor bar",I.getOpt),oe=f.lazyGetInOuterOrDie("toolbar",Kr.getToolbar),W=f.lazyGetInOuterOrDie("throbber",Kr.getThrobber),Z=((re,ye,Ae,Ue)=>{const Fe=$t(!1),qe=(fn=>{const fo=$t(ak(fn)?"bottom":"top");return{isPositionedAtTop:()=>fo.get()==="top",getDockingMode:fo.get,setDockingMode:fo.set}})(ye),nt={icons:()=>ye.ui.registry.getAll().icons,menuItems:()=>ye.ui.registry.getAll().menuItems,translate:du.translate,isDisabled:()=>!ye.ui.isEnabled(),getOption:ye.options.get,tooltips:Wu(re.dialog),checkUiComponentContext:fn=>{if(qx(ye))return{contextType:"disabled",shouldDisable:!0};const[fo,Tr=""]=fn.split(":"),dr=ye.ui.registry.getAll().contexts;return{contextType:fo,shouldDisable:!mt(dr,fo).fold(()=>mt(dr,"mode").map(Gi=>Gi("design")).getOr(!1),Gi=>Tr.charAt(0)==="!"?!Gi(Tr.slice(1)):Gi(Tr))}}},Mt=b5(ye),Xt=(fn=>{const fo=Aa=>()=>fn.formatter.match(Aa),Tr=Aa=>()=>{const va=fn.formatter.get(Aa);return va!==void 0?T.some({tag:va.length>0&&(va[0].inline||va[0].block)||"div",styles:fn.dom.parseStyle(fn.formatter.getCssText(Aa))}):T.none()},dr=$t([]),Gi=$t([]),Or=$t(!1);return fn.on("PreInit",Aa=>{const va=c5(fn),Ng=AS(fn,va,fo,Tr);dr.set(Ng)}),fn.on("addStyleModifications",Aa=>{const va=AS(fn,Aa.items,fo,Tr);Gi.set(va),Or.set(Aa.replace)}),{getData:()=>{const Aa=Or.get()?[]:dr.get(),va=Gi.get();return Aa.concat(va)}}})(ye),uo=(fn=>({colorPicker:g7(fn),hasCustomColors:o5(fn),getColors:n5(fn),getColorCols:ES(fn)}))(ye),No=(fn=>({isDraggableModal:r5(fn)}))(ye),en={shared:{providers:nt,anchors:p7(ye,Ae,Ue,qe.isPositionedAtTop),header:qe},urlinput:Mt,styles:Xt,colorinput:uo,dialog:No,isContextMenuOpen:()=>Fe.get(),setContextMenuState:fn=>Fe.set(fn)},ns=fn=>T.none(),Qr={...en,shared:{...en.shared,interpreter:fn=>KT(fn,{},Qr,ns),getSink:re.popup}},Vn={...en,shared:{...en.shared,interpreter:fn=>KT(fn,{},Vn,ns),getSink:re.dialog}};return{popup:Qr,dialog:Vn}})({popup:()=>Zo.fromOption(f.popupUi.get().map(re=>re.sink),"(popup) UI has not been rendered"),dialog:()=>Zo.fromOption(f.dialogUi.get().map(re=>re.sink),"UI has not been rendered")},o,K,Q),ne=()=>{const re=(()=>{const en={attributes:{[F1]:A?kl.BottomToTop:kl.TopToBottom}},ns=Kr.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:Z.popup,onEscape:()=>{o.focus()}}),Qr=Kr.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:Z.popup.shared.getSink,providers:Z.popup.shared.providers,onEscape:()=>{o.focus()},onToolbarToggled:va=>{((Ng,Mg)=>{Ng.dispatch("ToggleToolbarDrawer",{state:Mg})})(o,va)},type:w,lazyToolbar:oe,lazyHeader:()=>F().getOrDie("Could not find header element"),...en}),Vn=Kr.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:Z.popup.shared.providers,onEscape:()=>{o.focus()},type:w}),fn=x0(o),fo=oy(o),Tr=v0(o),dr=ty(o),Gi=Kr.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),Or=fn||fo||Tr,Aa=dr?[Gi,ns]:[ns];return Kr.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(Or?[]:["tox-editor-header--empty"]),...en},components:Nn([Tr?Aa:[],fn?[Vn]:fo?[Qr]:[],ig(o)?[]:[O.asSpec()]]),sticky:Oh(o),editor:o,sharedBackstage:Z.popup.shared})})(),ye={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[Kr.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),Kr.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}})]},Ae=Kr.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:Z.popup}),Ue=Kr.parts.viewWrapper({backstage:Z.popup}),Fe=tk(o)&&!i?T.some(JO(o,Z.popup.shared.providers)):T.none(),qe=Nn([A?[]:[re],i?[]:[ye],A?[re]:[]]),nt=Kr.parts.editorContainer({components:Nn([qe,i?[]:[I.asSpec()]])}),Mt=ny(o),Xt={role:"application",...du.isRtl()?{dir:"rtl"}:{},...Mt?{"aria-hidden":"true"}:{}},uo=bs(Kr.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(i?["tox-tinymce-inline"]:[]).concat(A?["tox-tinymce--toolbar-bottom"]:[]).concat(_),styles:{visibility:"hidden",...Mt?{opacity:"0",border:"0"}:{}},attributes:Xt},components:[nt,...i?[]:[Ue,...Fe.toArray()],Ae],behaviours:it([Gs(()=>Z.popup.shared.providers.checkUiComponentContext("any")),Jt.config({disableClass:"tox-tinymce--disabled"}),eo.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),No=Uk(uo);return p.set(No),{mothership:No,outerContainer:uo}},se=re=>{const ye=l3((Ue=>(qe=>{const nt=v2(qe),Mt=Kx(qe),Xt=Yx(qe);return xO(nt).map(uo=>j_(uo,Mt,Xt))})(Ue).getOr(v2(Ue)))(o)),Ae=l3((Ue=>kO(Ue).getOr(x2(Ue)))(o));return o.inline||(li("div","width",Ae)&&Gt(re.element,"width",Ae),li("div","height",ye)?Gt(re.element,"height",ye):Gt(re.element,"height","400px")),ye};return{popups:{backstage:Z.popup,getMothership:()=>D3("popups",y)},dialogs:{backstage:Z.dialog,getMothership:()=>D3("dialogs",b)},renderUI:()=>{const re=ne(),ye=(()=>{const Ue=k0(o),Fe=ln(fa(),Ue)&&Ns(Ue,"display")==="grid",qe={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(_),attributes:{...du.isRtl()?{dir:"rtl"}:{}}},behaviours:it([Ha.config({useFixed:()=>d.isDocked(F)})])},nt={dom:{styles:{width:document.body.clientWidth+"px"}},events:tr([je(Pl(),uo=>{Gt(uo.element,"width",document.body.clientWidth+"px")})])},Mt=bs(Hn(qe,Fe?nt:{})),Xt=Uk(Mt);return b.set(Xt),{sink:Mt,mothership:Xt}})(),Ae=kf(o)?(()=>{const Ue={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(_),attributes:{...du.isRtl()?{dir:"rtl"}:{}}},behaviours:it([Ha.config({useFixed:()=>d.isDocked(F),getBounds:()=>s.getPopupSinkBounds()})])},Fe=bs(Ue),qe=Uk(Fe);return y.set(qe),{sink:Fe,mothership:qe}})():(Ue=>(y.set(Ue.mothership),Ue))(ye);return f.dialogUi.set(ye),f.popupUi.set(Ae),f.mainUi.set(re),(Ue=>{const{mainUi:Fe,popupUi:qe,uiMotherships:nt}=Ue;Tn(Id(o),(fo,Tr)=>{o.ui.registry.addGroupToolbarButton(Tr,fo)});const{buttons:Mt,menuItems:Xt,contextToolbars:uo,sidebars:No,views:en}=o.ui.registry.getAll(),ns=E2(o),Qr={menuItems:Xt,menus:ik(o),menubar:JE(o),toolbar:ns.getOrThunk(()=>ek(o)),allowToolbarGroups:w===Va.floating,buttons:Mt,sidebar:No,views:en};var Vn;Vn=Fe.outerContainer,o.addShortcut("alt+F9","focus menubar",()=>{Kr.focusMenubar(Vn)}),o.addShortcut("alt+F10","focus toolbar",()=>{Kr.focusToolbar(Vn)}),o.addCommand("ToggleToolbarDrawer",(fo,Tr)=>{Tr!=null&&Tr.skipFocus?Kr.toggleToolbarDrawerWithoutFocusing(Vn):Kr.toggleToolbarDrawer(Vn)}),o.addQueryStateHandler("ToggleToolbarDrawer",()=>Kr.isToolbarDrawerToggled(Vn)),((fo,Tr,dr)=>{const Gi=(Cn,Lg)=>{Ot([Tr,...dr],Lf=>{Lf.broadcastEvent(Cn,Lg)})},Or=(Cn,Lg)=>{Ot([Tr,...dr],Lf=>{Lf.broadcastOn([Cn],Lg)})},Aa=Cn=>Or(hf(),{target:Cn.target}),va=Dl(),Ng=Ti(va,"touchstart",Aa),Mg=Ti(va,"touchmove",Cn=>Gi(Td(),Cn)),dw=Ti(va,"touchend",Cn=>Gi(Lp(),Cn)),$v=Ti(va,"mousedown",Aa),Bg=Ti(va,"mouseup",Cn=>{Cn.raw.button===0&&Or(og(),{target:Cn.target})}),Ig=Cn=>Or(hf(),{target:St(Cn.target)}),xm=Cn=>{Cn.button===0&&Or(og(),{target:St(Cn.target)})},r1=()=>{Ot(fo.editorManager.get(),Cn=>{fo!==Cn&&Cn.dispatch("DismissPopups",{relatedTarget:fo})})},s1=Cn=>Gi(qt(),L1(Cn)),km=Cn=>{Or(sp(),{}),Gi(Pl(),L1(Cn))},a1=ss(St(fo.getElement())),i1=Tb(a1,"scroll",Cn=>{requestAnimationFrame(()=>{if(fo.getContainer()!=null){const Lg=rl(fo,Tr.element).map(Lf=>[Lf.element,...Lf.others]).getOr([]);zt(Lg,Lf=>ln(Lf,Cn.target))&&(fo.dispatch("ElementScroll",{target:Cn.target.dom}),Gi(Wg(),Cn))}})}),l1=()=>Or(sp(),{}),jv=Cn=>{Cn.state&&Or(hf(),{target:St(fo.getContainer())})},c1=Cn=>{Or(hf(),{target:St(Cn.relatedTarget.getContainer())})},Pg=Cn=>fo.dispatch("focusin",Cn),_m=Cn=>fo.dispatch("focusout",Cn);fo.on("PostRender",()=>{fo.on("click",Ig),fo.on("tap",Ig),fo.on("mouseup",xm),fo.on("mousedown",r1),fo.on("ScrollWindow",s1),fo.on("ResizeWindow",km),fo.on("ResizeEditor",l1),fo.on("AfterProgressState",jv),fo.on("DismissPopups",c1),Ot([Tr,...dr],Cn=>{Cn.element.dom.addEventListener("focusin",Pg),Cn.element.dom.addEventListener("focusout",_m)})}),fo.on("remove",()=>{fo.off("click",Ig),fo.off("tap",Ig),fo.off("mouseup",xm),fo.off("mousedown",r1),fo.off("ScrollWindow",s1),fo.off("ResizeWindow",km),fo.off("ResizeEditor",l1),fo.off("AfterProgressState",jv),fo.off("DismissPopups",c1),Ot([Tr,...dr],Cn=>{Cn.element.dom.removeEventListener("focusin",Pg),Cn.element.dom.removeEventListener("focusout",_m)}),$v.unbind(),Ng.unbind(),Mg.unbind(),dw.unbind(),Bg.unbind(),i1.unbind()}),fo.on("detach",()=>{Ot([Tr,...dr],vx),Ot([Tr,...dr],Cn=>Cn.destroy())})})(o,Fe.mothership,nt),d.setup(o,Z.popup.shared,F),T8(o,Z.popup),P8(o,Z.popup.shared.getSink,Z.popup),(fo=>{const{sidebars:Tr}=fo.ui.registry.getAll();Ot(Fo(Tr),dr=>{const Gi=Tr[dr],Or=()=>Rs(T.from(fo.queryCommandValue("ToggleSidebar")),dr);fo.ui.registry.addToggleButton(dr,{icon:Gi.icon,tooltip:Gi.tooltip,onAction:Aa=>{fo.execCommand("ToggleSidebar",!1,dr),Aa.setActive(Or())},onSetup:Aa=>{Aa.setActive(Or());const va=()=>Aa.setActive(Or());return fo.on("ToggleSidebar",va),()=>{fo.off("ToggleSidebar",va)}},context:"any"})})})(o),B7(o,W,Z.popup.shared),TO(o,uo,qe.sink,{backstage:Z.popup}),G8(o,qe.sink);const fn={targetNode:o.getElement(),height:se(Fe.outerContainer)};return l.render(o,Ue,Qr,Z.popup,fn)})({popupUi:Ae,dialogUi:ye,mainUi:re,uiMotherships:f.getUiMotherships()})}}},R3=le([Ke("lazySink"),bn("dragBlockClass"),br("getBounds",Bs),Te("useTabstopAt",It),Te("firstTabstop",0),Te("eventOrder",{}),we("modalBehaviours",[eo]),Fl("onExecute"),Qg("onEscape")]),N3={sketch:Tt},e6=le([cu({name:"draghandle",overrides:(o,s)=>({behaviours:it([eb.config({mode:"mouse",getTarget:i=>Vl(i,'[role="dialog"]').getOr(i),blockerClass:o.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(s,null,2)).message),getBounds:o.getDragBounds})])})}),ti({schema:[Ke("dom")],name:"title"}),ti({factory:N3,schema:[Ke("dom")],name:"close"}),ti({factory:N3,schema:[Ke("dom")],name:"body"}),cu({factory:N3,schema:[Ke("dom")],name:"footer"}),Lu({factory:{sketch:(o,s)=>({...o,dom:s.dom,components:s.components})},schema:[Te("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Te("components",[])],name:"blocker"})]),ni=jl({name:"ModalDialog",configFields:R3(),partFields:e6(),factory:(o,s,i,l)=>{const d=sn(),f=Ft("modal-events"),p={...o.eventOrder,[Yc()]:[f].concat(o.eventOrder["alloy.system.attached"]||[])},b=pa();return{uid:o.uid,dom:o.dom,components:s,apis:{show:y=>{d.set(y);const _=o.lazySink(y).getOrDie(),A=l.blocker(),w=_.getSystem().build({...A,components:A.components.concat([Vi(y)]),behaviours:it([yo.config({}),_o("dialog-blocker-events",[zu(Kt(),()=>{Mf.isBlocked(y)||eo.focusIn(y)})])])});gf(_,w),eo.focusIn(y)},hide:y=>{d.clear(),es(y.element).each(_=>{y.getSystem().getByDom(_).each(A=>{Iu(A)})})},getBody:y=>ng(y,o,"body"),getFooter:y=>Ar(y,o,"footer"),setIdle:y=>{Mf.unblock(y)},setBusy:(y,_)=>{Mf.block(y,_)}},eventOrder:p,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Ie(o.modalBehaviours,[So.config({}),eo.config({mode:"cyclic",onEnter:o.onExecute,onEscape:o.onEscape,useTabstopAt:o.useTabstopAt,firstTabstop:o.firstTabstop}),Mf.config({getRoot:d.get}),_o(f,[Mr(y=>{const _=ng(y,o,"title").element,A=(w=>w.dom.textContent)(_);b.os.isMacOS()&&Bt(A)?po(y.element,"aria-label",A):((w,O)=>{const I=os(w,"id").fold(()=>{const F=Ft("dialog-label");return po(O,"id",F),F},Tt);po(w,"aria-labelledby",I)})(y.element,_)})])])}},apis:{show:(o,s)=>{o.show(s)},hide:(o,s)=>{o.hide(s)},getBody:(o,s)=>o.getBody(s),getFooter:(o,s)=>o.getFooter(s),setBusy:(o,s,i)=>{o.setBusy(s,i)},setIdle:(o,s)=>{o.setIdle(s)}}}),Y8=co([aa,q2].concat(Fh)),X8=Sd,M3=[X2("button"),Fd,lr("align","end",["start","end"]),P0,Vu,tf("buttonType",["primary","secondary"]),Er("context","mode:design")],J_=[...M3,fp],Bf=[ga("type",["submit","cancel","custom"]),...J_],J8=[ga("type",["menu"]),ug,fg,Fd,Ka("items",Y8),...M3],Pv=[...M3,ga("type",["togglebutton"]),fg,Fd,ug,Zs("active",!1)],Q8=ea("type",{submit:Bf,cancel:Bf,custom:Bf,menu:J8,togglebutton:Pv}),B3=[aa,fp,ga("level",["info","warn","error","success"]),G2,Te("url","")],eM=co(B3),tM=[aa,fp,Vu,X2("button"),Fd,jR,tf("buttonType",["primary","secondary","toolbar"]),P0,Er("context","mode:design")],oM=co(tM),tb=[aa,q2],If=tb.concat([uy]),I3=tb.concat([I0,Vu,Er("context","mode:design")]),P3=co(I3),L3=Sd,nM=If.concat([FA("auto"),Er("context","mode:design")]),Zd=co(nM),rM=Zc([Ph,fp,G2]),sM=If.concat([Er("storageKey","default"),Er("context","mode:design")]),t6=co(sM),o6=Ps,aM=co(If),iM=Ps,lM=tb.concat([Er("tag","textarea"),ws("scriptId"),ws("scriptUrl"),Ya("onFocus"),is("settings",void 0,ku)]),cM=tb.concat([Er("tag","textarea"),fl("init")]),dM=Jd(o=>Jr("customeditor.old",Is(cM),o).orThunk(()=>Jr("customeditor.new",Is(lM),o))),uM=Ps,fM=If.concat([Er("context","mode:design")]),n6=co(fM),mM=Uc(bu),pM=o=>[aa,oa("columns",Wc),o],gM=[aa,ws("html"),lr("presets","presentation",["presentation","document"]),br("onInit",rt),Zs("stretched",!1)],r6=co(gM),F3=If.concat([Zs("border",!1),Zs("sandboxed",!0),Zs("streamContent",!1),Zs("transparent",!0)]),s6=co(F3),a6=Ps,i6=co(tb.concat([er("height")])),l6=co([ws("url"),Nl("zoom"),Nl("cachedWidth"),Nl("cachedHeight")]),H3=If.concat([er("inputMode"),er("placeholder"),Zs("maximized",!1),Vu,Er("context","mode:design")]),hM=co(H3),V3=Ps,t1=o=>[aa,I0,o,lr("align","start",["start","center","end"]),er("for")],c6=[fp,Ph],d6=[fp,Ka("items",ef(0,()=>$3))],$3=wd([co(c6),co(d6)]),bM=If.concat([Ka("items",$3),Vu,Er("context","mode:design")]),yM=co(bM),Q_=Ps,vM=If.concat([wu("items",[fp,Ph]),oc("size",1),Vu,Er("context","mode:design")]),xM=co(vM),u6=Ps,f6=If.concat([Zs("constrain",!0),Vu,Er("context","mode:design")]),j3=co(f6),U3=co([ws("width"),ws("height")]),pc=tb.concat([I0,oc("min",0),oc("max",0)]),m6=co(pc),kM=Wc,_M=[aa,Ka("header",Ps),Ka("cells",Uc(Ps))],p6=co(_M),wM=If.concat([er("placeholder"),Zs("maximized",!1),Vu,Er("context","mode:design")]),CM=co(wM),SM=Ps,Z3=[ga("type",["directory","leaf"]),PA,ws("id"),ml("menu",E5),er("customStateIcon"),er("customStateIconTooltip")],Pf=co(Z3),W3=Z3.concat([Ka("children",ef(0,()=>Ed("type",{directory:q3,leaf:Pf})))]),q3=co(W3),ew=Ed("type",{directory:q3,leaf:Pf}),G3=[aa,Ka("items",ew),Ya("onLeafAction"),Ya("onToggleExpand"),Ai("defaultExpandedIds",[],Ps),er("defaultSelectedId")],EM=co(G3),AM=If.concat([lr("filetype","file",["image","media","file"]),Vu,er("picker_text"),Er("context","mode:design")]),zM=co(AM),TM=co([Ph,HA]),K3=o=>Ls("items","items",{tag:"required",process:{}},Uc(Jd(s=>Jr(`Checking item of ${o}`,Y3,s).fold(i=>Zo.error(Pi(i)),i=>Zo.value(i))))),Y3=_d(()=>{return Ed("type",{alertbanner:eM,bar:co((o=K3("bar"),[aa,o])),button:oM,checkbox:P3,colorinput:t6,colorpicker:aM,dropzone:n6,grid:co(pM(K3("grid"))),iframe:s6,input:hM,listbox:yM,selectbox:xM,sizeinput:j3,slider:m6,textarea:CM,urlinput:zM,customeditor:dM,htmlpanel:r6,imagepreview:i6,collection:Zd,label:co(t1(K3("label"))),table:p6,tree:EM,panel:X3});var o}),OM=[aa,Te("classes",[]),Ka("items",Y3)],X3=co(OM),DM=[X2("tab"),PA,Ka("items",Y3)],ym=[aa,wu("tabs",DM)],tw=co(ym),RM=J_,NM=Q8,g6=co([ws("title"),oa("body",Ed("type",{panel:X3,tabpanel:tw})),Er("size","normal"),Ai("buttons",[],NM),Te("initialData",{}),br("onAction",rt),br("onChange",rt),br("onSubmit",rt),br("onClose",rt),br("onCancel",rt),br("onTabChange",rt)]),h6=co([ga("type",["cancel","custom"]),...RM]),J3=co([ws("title"),ws("url"),Nl("height"),Nl("width"),of("buttons",h6),br("onAction",rt),br("onCancel",rt),br("onClose",rt),br("onMessage",rt)]),o1=o=>rr(o)?[o].concat(hn(Ds(o),o1)):Po(o)?hn(o,o1):[],Lv=o=>xo(o.type)&&xo(o.name),Fv={checkbox:L3,colorinput:o6,colorpicker:iM,dropzone:mM,input:V3,iframe:a6,imagepreview:l6,selectbox:u6,sizeinput:U3,slider:kM,listbox:Q_,size:U3,textarea:SM,urlinput:TM,customeditor:uM,collection:rM,togglemenuitem:X8},b6=o=>{const s=(l=>gn(o1(l),Lv))(o),i=hn(s,l=>(d=>T.from(Fv[d.type]))(l).fold(()=>[],d=>[oa(l.name,d)]));return co(i)},Q3=o=>{var s;return{internalDialog:La(Jr("dialog",g6,o)),dataValidator:b6(o),initialData:(s=o.initialData)!==null&&s!==void 0?s:{}}},Rg={open:(o,s)=>{const i=Q3(s);return o(i.internalDialog,i.initialData,i.dataValidator)},openUrl:(o,s)=>o(La(Jr("dialog",J3,s))),redial:o=>Q3(o)};var y6=Object.freeze({__proto__:null,events:(o,s)=>{const i=(l,d)=>{o.updateState.each(f=>{const p=f(l,d);s.set(p)}),o.renderComponents.each(f=>{const p=f(d,s.get());(o.reuseDom?l2:i2)(l,p)})};return tr([je(Gc(),(l,d)=>{const f=d;if(!f.universal){const p=o.channel;Ce(f.channels,p)&&i(l,f.data)}}),Mr((l,d)=>{o.initialData.each(f=>{i(l,f)})})])}}),MM=Object.freeze({__proto__:null,getState:(o,s,i)=>i}),BM=[Ke("channel"),bn("renderComponents"),bn("updateState"),bn("initialData"),Zs("reuseDom",!0)];const dd=cs({fields:BM,name:"reflecting",active:y6,apis:MM,state:Object.freeze({__proto__:null,init:()=>{const o=$t(T.none());return{readState:()=>o.get().getOr("none"),get:o.get,set:o.set,clear:()=>o.set(T.none())}}})}),v6=o=>{const s=[],i={};return Jn(o,(l,d)=>{l.fold(()=>{s.push(d)},f=>{i[d]=f})}),s.length>0?Zo.error(s):Zo.value(i)},IM=(o,s,i,l)=>{const d=Kn(xg.sketch(p=>({dom:{tag:"div",classes:["tox-form"].concat(o.classes)},components:Qe(o.items,b=>GT(p,b,s,i,l))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[d.asSpec()]}],behaviours:it([eo.config({mode:"acyclic",useTabstopAt:jr(fv)}),(f=d,wn.config({find:f.getOpt})),jN(d,{postprocess:p=>v6(p).fold(b=>(console.error(b),{}),Tt)}),_o("dialog-body-panel",[je(Kt(),(p,b)=>{p.getSystem().broadcastOn([pv],{newFocus:T.some(b.event.target)})})])])};var f},x6=rd({name:"TabButton",configFields:[Te("uid",void 0),Ke("value"),Ls("dom","dom",rn(()=>({attributes:{role:"tab",id:Ft("aria"),"aria-selected":"false"}})),ul()),bn("action"),Te("domModification",{}),we("tabButtonBehaviours",[yo,eo,X]),Ke("view")],factory:(o,s)=>({uid:o.uid,dom:o.dom,components:o.components,events:_h(o.action),behaviours:Ie(o.tabButtonBehaviours,[yo.config({}),eo.config({mode:"execution",useSpace:!0,useEnter:!0}),X.config({store:{mode:"memory",initialValue:o.value}})]),domModification:o.domModification})}),k6=le([Ke("tabs"),Ke("dom"),Te("clickToDismiss",!1),we("tabbarBehaviours",[Gn,eo]),Sc(["tabClass","selectedClass"])]),PM=Cx({factory:x6,name:"tabs",unit:"tab",overrides:o=>{const s=(l,d)=>{Gn.dehighlight(l,d),oo(l,Fp(),{tabbar:l,button:d})},i=(l,d)=>{Gn.highlight(l,d),oo(l,Jc(),{tabbar:l,button:d})};return{action:l=>{const d=l.getSystem().getByUid(o.uid).getOrDie(),f=Gn.isHighlighted(d,l);(f&&o.clickToDismiss?s:f?rt:i)(d,l)},domModification:{classes:[o.markers.tabClass]}}}}),_6=le([PM]),w6=jl({name:"Tabbar",configFields:k6(),partFields:_6(),factory:(o,s,i,l)=>({uid:o.uid,dom:o.dom,components:s,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Ie(o.tabbarBehaviours,[Gn.config({highlightClass:o.markers.selectedClass,itemClass:o.markers.tabClass,onHighlight:(d,f)=>{po(f.element,"aria-selected","true")},onDehighlight:(d,f)=>{po(f.element,"aria-selected","false")}}),eo.config({mode:"flow",getInitial:d=>Gn.getHighlighted(d).map(f=>f.element),selector:"."+o.markers.tabClass,executeOnMove:!0})])})}),C6=rd({name:"Tabview",configFields:[we("tabviewBehaviours",[So])],factory:(o,s)=>({uid:o.uid,dom:o.dom,behaviours:Ie(o.tabviewBehaviours,[So.config({})]),domModification:{attributes:{role:"tabpanel"}}})}),ob=le([Te("selectFirst",!0),dn("onChangeTab"),dn("onDismissTab"),Te("tabs",[]),we("tabSectionBehaviours",[])]),LM=ti({factory:w6,schema:[Ke("dom"),Li("markers",[Ke("tabClass"),Ke("selectedClass")])],name:"tabbar",defaults:o=>({tabs:o.tabs})}),S6=ti({factory:C6,name:"tabview"}),FM=le([LM,S6]),n1=jl({name:"TabSection",configFields:ob(),partFields:FM(),factory:(o,s,i,l)=>{const d=(f,p)=>{Ar(f,o,"tabbar").each(b=>{p(b).each(Fi)})};return{uid:o.uid,dom:o.dom,components:s,behaviours:Ee(o.tabSectionBehaviours),events:tr(Nn([o.selectFirst?[Mr((f,p)=>{d(f,Gn.getFirst)})]:[],[je(Jc(),(f,p)=>{(b=>{const y=X.getValue(b);Ar(b,o,"tabview").each(_=>{V(o.tabs,A=>A.value===y).each(A=>{const w=A.view();os(b.element,"id").each(O=>{po(_.element,"aria-labelledby",O)}),So.set(_,w),o.onChangeTab(_,b,w)})})})(p.event.button)}),je(Fp(),(f,p)=>{const b=p.event.button;o.onDismissTab(f,b)})]])),apis:{getViewItems:f=>Ar(f,o,"tabview").map(p=>So.contents(p)).getOr([]),showTab:(f,p)=>{d(f,b=>{const y=Gn.getCandidates(b);return V(y,_=>X.getValue(_)===p).filter(_=>!Gn.isHighlighted(b,_))})}}}},apis:{getViewItems:(o,s)=>o.getViewItems(s),showTab:(o,s,i)=>{o.showTab(s,i)}}}),E6=(o,s)=>{Gt(o,"height",s+"px"),Gt(o,"flex-basis",s+"px")},ow=(o,s,i)=>{Vl(o,'[role="dialog"]').each(l=>{Pr(l,'[role="tablist"]').each(d=>{i.get().map(f=>(Gt(s,"height","0"),Gt(s,"flex-basis","0"),Math.min(f,((p,b,y)=>{const _=Gd(p).dom,A=Vl(p,".tox-dialog-wrap").getOr(p);let w;w=Ns(A,"position")==="fixed"?Math.max(_.clientHeight,window.innerHeight):Math.max(_.offsetHeight,_.scrollHeight);const O=xr(b),I=b.dom.offsetLeft>=y.dom.offsetLeft+ce(y)?Math.max(xr(y),O):O,F=parseInt(Ns(p,"margin-top"),10)||0,K=parseInt(Ns(p,"margin-bottom"),10)||0;return w-(xr(p)+F+K-I)})(l,s,d)))).each(f=>{E6(s,f)})})})},nw=o=>Pr(o,'[role="tabpanel"]'),A6="send-data-to-section",e4="send-data-to-view",t4=(o,s,i,l)=>{const d=$t({}),f=A=>{const w=X.getValue(A),O=v6(w).getOr({}),I=d.get(),F=Hn(I,O);d.set(F)},p=A=>{const w=d.get();X.setValue(A,w)},b=$t(null),y=Qe(o.tabs,A=>({value:A.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[Ir(i.shared.providers.translate(A.title))],view:()=>[xg.sketch(w=>({dom:{tag:"div",classes:["tox-form"]},components:Qe(A.items,O=>GT(w,O,s,i,l)),formBehaviours:it([eo.config({mode:"acyclic",useTabstopAt:jr(fv)}),_o("TabView.form.events",[Mr(p),Dd(f)]),xl.config({channels:Ml([{key:A6,value:{onReceive:f}},{key:e4,value:{onReceive:p}}])})])}))]})),_=(A=>{const w=sn();return{extraEvents:[Mr(I=>{const F=I.element;nw(F).each(K=>{Gt(K,"visibility","hidden"),I.getSystem().getByDom(K).toOptional().each(Q=>{const oe=((Z,ne,se)=>Qe(Z,(re,ye)=>{So.set(se,Z[ye].view());const Ae=ne.dom.getBoundingClientRect();return So.set(se,[]),Ae.height}))(A,K,Q);(Z=>st(Ne(Z,(ne,se)=>ne>se?-1:ne<se?1:0)))(oe).fold(w.clear,w.set)}),ow(F,K,w),Yo(K,"visibility"),((Q,oe)=>{st(Q).each(W=>n1.showTab(oe,W.value))})(A,I),requestAnimationFrame(()=>{ow(F,K,w)})})}),je(Pl(),I=>{const F=I.element;nw(F).each(K=>{ow(F,K,w)})}),je(Wk,(I,F)=>{const K=I.element;nw(K).each(Q=>{const oe=lc(ss(Q));Gt(Q,"visibility","hidden");const W=hr(Q,"height").map(ne=>parseInt(ne,10));Yo(Q,"height"),Yo(Q,"flex-basis");const Z=Q.dom.getBoundingClientRect().height;W.forall(ne=>Z>ne)?(w.set(Z),ow(K,Q,w)):W.each(ne=>{E6(Q,ne)}),Yo(Q,"visibility"),oe.each(Qa)})})],selectFirst:!1}})(y);return n1.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(A,w,O)=>{const I=X.getValue(w);oo(A,Iz,{name:I,oldName:b.get()}),b.set(I)},tabs:y,components:[n1.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[w6.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:it([cr.config({})])}),n1.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:_.selectFirst,tabSectionBehaviours:it([_o("tabpanel",_.extraEvents),eo.config({mode:"acyclic"}),wn.config({find:A=>st(n1.getViewItems(A))}),_g(T.none(),A=>(A.getSystem().broadcastOn([A6],{}),d.get()),(A,w)=>{d.set(w),A.getSystem().broadcastOn([e4],{})})])})},vm=(o,s,i,l,d,f)=>({dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...i.map(p=>({id:p})).getOr({}),...d?{"aria-live":"polite"}:{}}},components:[],behaviours:it([QC(0),dd.config({channel:`${i_}-${s}`,updateState:(p,b)=>T.some({isTabPanel:()=>b.body.type==="tabpanel"}),renderComponents:p=>{const b=p.body;return b.type==="tabpanel"?[t4(b,p.initialData,l,f)]:[IM(b,p.initialData,l,f)]},initialData:o})])}),o4=Eh.deviceType.isTouch(),n4=(o,s)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[o,s]}),r4=(o,s)=>ni.parts.close(qi.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":s.translate("Close")}},action:o,buttonBehaviours:it([cr.config({})])})),rw=()=>ni.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),s4=(o,s)=>ni.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:wf(`<p>${P2(s.translate(o))}</p>`)}]}]}),Hv=o=>ni.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:o}),a4=(o,s)=>[Hd.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:o}),Hd.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:s})],sw=o=>{const s="tox-dialog",i=s+"-wrap",l=i+"__backdrop",d=s+"__disable-scroll";return ni.sketch({lazySink:o.lazySink,onEscape:f=>(o.onEscape(f),T.some(!0)),useTabstopAt:f=>!fv(f),firstTabstop:o.firstTabstop,dom:{tag:"div",classes:[s].concat(o.extraClasses),styles:{position:"relative",...o.extraStyles}},components:[o.header,o.body,...o.footer.toArray()],parts:{blocker:{dom:wf(`<div class="${i}"></div>`),components:[{dom:{tag:"div",classes:o4?[l,l+"--opaque"]:[l]}}]}},dragBlockClass:i,modalBehaviours:it([yo.config({}),_o("dialog-events",o.dialogEvents.concat([zu(Kt(),(f,p)=>{Mf.isBlocked(f)||eo.focusIn(f)}),je(sf(),(f,p)=>{f.getSystem().broadcastOn([pv],{newFocus:p.event.newFocus})})])),_o("scroll-lock",[Mr(()=>{_t(fa(),d)}),Dd(()=>{Yt(fa(),d)})]),...o.extraBehaviours]),eventOrder:{[pl()]:["dialog-events"],[Yc()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[gl()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...o.eventOrder}})},z6=o=>qi.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":o.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:it([cr.config({}),ys.config(o.tooltips.getConfig({tooltipText:o.translate("Close")}))]),components:[Rc("close",{tag:"span",classes:["tox-icon"]},o.icons)],action:s=>{Xo(s,hg)}}),T6=(o,s,i,l)=>({dom:{tag:"h1",classes:["tox-dialog__title"],attributes:{...i.map(d=>({id:d})).getOr({})}},components:[],behaviours:it([dd.config({channel:`${a_}-${s}`,initialData:o,renderComponents:d=>[Ir(l.translate(d.title))]})])}),O6=()=>({dom:wf('<div class="tox-dialog__draghandle"></div>')}),D6=(o,s,i)=>((l,d,f)=>{const p=ni.parts.title(T6(l,d,T.none(),f)),b=ni.parts.draghandle(O6()),y=ni.parts.close(z6(f)),_=[p].concat(l.draggable?[b]:[]).concat([y]);return Hd.sketch({dom:wf('<div class="tox-dialog__header"></div>'),components:_})})({title:i.shared.providers.translate(o),draggable:i.dialog.isDraggableModal()},s,i.shared.providers),R6=(o,s,i,l)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":i.translate(o)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${l.getOr(0)}px`,position:"absolute"}},behaviours:s,components:[{dom:wf('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),i4=(o,s,i)=>({onClose:()=>i.closeWindow(),onBlock:l=>{const d=Pr(o().element,".tox-dialog__header").map(f=>xr(f));ni.setBusy(o(),(f,p)=>R6(l.message,p,s,d))},onUnblock:()=>{ni.setIdle(o())}}),l4="tox-dialog--fullscreen",c4="tox-dialog--width-lg",d4="tox-dialog--width-md",aw=o=>{switch(o){case"large":return T.some(c4);case"medium":return T.some(d4);default:return T.none()}},Vv=(o,s)=>{const i=St(s.element.dom);Qo(i,l4)||(Wn(i,[c4,d4]),aw(o).each(l=>_t(i,l)))},N6=(o,s)=>{const i=St(o.element.dom),l=vl(i),d=V(l,f=>f===c4||f===d4).or(aw(s));((f,p)=>{Ot(p,b=>{((y,_)=>{te(y)?y.dom.classList.toggle(_):((A,w)=>Ce(xe(A),w)?yt(A,w):Ze(A,w))(y,_),Ao(y)})(f,b)})})(i,[l4,...d.toArray()])},M6=(o,s,i)=>bs(sw({...o,firstTabstop:1,lazySink:i.shared.getSink,extraBehaviours:[r_({}),...o.extraBehaviours],onEscape:l=>{Xo(l,hg)},dialogEvents:s,eventOrder:{[Gc()]:[dd.name(),xl.name()],[Yc()]:["scroll-lock",dd.name(),"messages","dialog-events","alloy.base.behaviour"],[gl()]:["alloy.base.behaviour","dialog-events","messages",dd.name(),"scroll-lock"]}})),iw=(o,s={})=>Qe(o,i=>i.type==="menu"?(l=>{const d=Qe(l.items,f=>{const p=mt(s,f.name).getOr($t(!1));return{...f,storage:p}});return{...l,items:d}})(i):i),u4=o=>Co(o,(s,i)=>i.type==="menu"?Co(i.items,(l,d)=>(l[d.name]=d.storage,l),s):s,{}),B6=(o,s)=>[lf(Kt(),UN),o(Ey,(i,l,d,f)=>{Qf(f.element)&&lc(ss(f.element)).each(Kp),s.onClose(),l.onClose()}),o(hg,(i,l,d,f)=>{l.onCancel(i),Xo(f,Ey)}),je(NC,(i,l)=>s.onUnblock()),je(Zk,(i,l)=>s.onBlock(l.event))],I6=(o,s,i)=>{const l=(f,p)=>je(f,(b,y)=>{d(b,(_,A)=>{p(o(),_,y.event,b)})}),d=(f,p)=>{dd.getState(f).get().each(b=>{p(b.internalDialog,f)})};return[...B6(l,s),l(tv,(f,p)=>p.onSubmit(f)),l(Gl,(f,p,b)=>{p.onChange(f,{name:b.name})}),l(pm,(f,p,b,y)=>{const _=()=>y.getSystem().isConnected()?eo.focusIn(y):void 0,A=I=>hd(I,"disabled")||os(I,"aria-disabled").exists(F=>F==="true"),w=ss(y.element),O=lc(w);p.onAction(f,{name:b.name,value:b.value}),lc(w).fold(_,I=>{A(I)||O.exists(F=>gs(I,F)&&A(F))?_():i().toOptional().filter(F=>!gs(F.element,I)).each(_)})}),l(Iz,(f,p,b)=>{p.onTabChange(f,{newTabName:b.name,oldTabName:b.oldName})}),Dd(f=>{const p=o();X.setValue(f,p.getData())})]},f4=(o,s)=>{const i=s.map(f=>f.footerButtons).getOr([]),l=Yr(i,f=>f.align==="start"),d=(f,p)=>Hd.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${f}`]},components:Qe(p,b=>b.memento.asSpec())});return[d("start",l.pass),d("end",l.fail)]},P6=(o,s,i)=>({dom:wf('<div class="tox-dialog__footer"></div>'),components:[],behaviours:it([dd.config({channel:`${lS}-${s}`,initialData:o,updateState:(l,d)=>{const f=Qe(d.buttons,p=>{const b=Kn(((y,_)=>Py(y,y.type,_))(p,i));return{name:p.name,align:p.align,memento:b}});return T.some({lookupByName:p=>((b,y,_)=>V(y,A=>A.name===_).bind(A=>A.memento.getOpt(b)))(l,f,p),footerButtons:f})},renderComponents:f4})])}),m4=(o,s,i)=>ni.parts.footer(P6(o,s,i)),lw=(o,s)=>{if(o.getRoot().getSystem().isConnected()){const i=wn.getCurrent(o.getFormWrapper()).getOr(o.getFormWrapper());return xg.getField(i,s).orThunk(()=>o.getFooter().bind(d=>dd.getState(d).get()).bind(d=>d.lookupByName(s)))}return T.none()},L6=(o,s,i)=>{const l=f=>{const p=o.getRoot();p.getSystem().isConnected()&&f(p)},d={getData:()=>{const f=o.getRoot(),p=f.getSystem().isConnected()?o.getFormWrapper():f;return{...X.getValue(p),...Tn(i,b=>b.get())}},setData:f=>{l(p=>{const b=d.getData(),y=Hn(b,f),_=((w,O)=>{const I=w.getRoot();return dd.getState(I).get().map(F=>La(Jr("data",F.dataValidator,O))).getOr(O)})(o,y),A=o.getFormWrapper();X.setValue(A,_),Jn(i,(w,O)=>{io(y,O)&&w.set(y[O])})})},setEnabled:(f,p)=>{lw(o,f).each(p?Jt.enable:Jt.disable)},focus:f=>{lw(o,f).each(yo.focus)},block:f=>{if(!xo(f))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");l(p=>{oo(p,Zk,{message:f})})},unblock:()=>{l(f=>{Xo(f,NC)})},showTab:f=>{l(p=>{const b=o.getBody();dd.getState(b).get().exists(y=>y.isTabPanel())&&wn.getCurrent(b).each(y=>{n1.showTab(y,f)})})},redial:f=>{l(p=>{const b=o.getId(),y=s(f),_=iw(y.internalDialog.buttons,i);p.getSystem().broadcastOn([`${mv}-${b}`],y),p.getSystem().broadcastOn([`${a_}-${b}`],y.internalDialog),p.getSystem().broadcastOn([`${i_}-${b}`],y.internalDialog),p.getSystem().broadcastOn([`${lS}-${b}`],{...y.internalDialog,buttons:_}),d.setData(y.initialData)})},close:()=>{l(f=>{Xo(f,Ey)})},toggleFullscreen:o.toggleFullscreen};return d},F6=(o,s,i,l=!1,d)=>{const f=Ft("dialog"),p=Ft("dialog-label"),b=Ft("dialog-content"),y=o.internalDialog,_=$t(y.size),A=aw(_.get()).toArray(),w=Kn(((se,re,ye,Ae)=>Hd.sketch({dom:wf('<div class="tox-dialog__header"></div>'),components:[T6(se,re,T.some(ye),Ae),O6(),z6(Ae)],containerBehaviours:it([eb.config({mode:"mouse",blockerClass:"blocker",getTarget:Ue=>qn(Ue,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}))({title:y.title,draggable:!0},f,p,i.shared.providers)),O=Kn(((se,re,ye,Ae,Ue,Fe)=>vm(se,re,T.some(ye),Ae,Ue,Fe))({body:y.body,initialData:y.initialData},f,b,i,l,se=>lw(Z,se))),I=iw(y.buttons),F=u4(I),K=To(I.length!==0,Kn(((se,re,ye)=>P6(se,re,ye))({buttons:I},f,i))),Q=I6(()=>ne,{onBlock:se=>{Mf.block(W,(re,ye)=>{const Ae=w.getOpt(W).map(Ue=>xr(Ue.element));return R6(se.message,ye,i.shared.providers,Ae)})},onUnblock:()=>{Mf.unblock(W)},onClose:()=>s.closeWindow()},i.shared.getSink),oe=pa().os,W=bs({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline",...A],attributes:{role:"dialog",...oe.isMacOS()?{"aria-label":y.title}:{"aria-labelledby":p}}},eventOrder:{[Gc()]:[dd.name(),xl.name()],[pl()]:["execute-on-form"],[Yc()]:["reflecting","execute-on-form"]},behaviours:it([eo.config({mode:"cyclic",onEscape:se=>(Xo(se,Ey),T.some(!0)),useTabstopAt:se=>!fv(se)&&(da(se)!=="button"||as(se,"disabled")!=="disabled"),firstTabstop:1}),dd.config({channel:`${mv}-${f}`,updateState:(se,re)=>(_.set(re.internalDialog.size),Vv(re.internalDialog.size,se),d(),T.some(re)),initialData:o}),yo.config({}),_o("execute-on-form",Q.concat([zu(Kt(),(se,re)=>{eo.focusIn(se)}),je(sf(),(se,re)=>{se.getSystem().broadcastOn([pv],{newFocus:re.event.newFocus})})])),Mf.config({getRoot:()=>T.some(W)}),So.config({}),r_({})]),components:[w.asSpec(),O.asSpec(),...K.map(se=>se.asSpec()).toArray()]}),Z={getId:le(f),getRoot:le(W),getFooter:()=>K.map(se=>se.get(W)),getBody:()=>O.get(W),getFormWrapper:()=>{const se=O.get(W);return wn.getCurrent(se).getOr(se)},toggleFullscreen:()=>{N6(W,_.get())}},ne=L6(Z,s.redial,F);return{dialog:W,instanceApi:ne}};var cw=tinymce.util.Tools.resolve("tinymce.util.URI");const H6=["insertContent","setContent","execCommand","close","block","unblock"],V6=o=>rr(o)&&H6.indexOf(o.mceAction)!==-1,HM=(o,s,i,l)=>{const d=Ft("dialog"),f=D6(o.title,d,l),p=(oe=>{const W={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[aS(T.none(),{dom:{tag:"iframe",attributes:{src:oe.url}},behaviours:it([cr.config({}),yo.config({})])})]}],behaviours:it([eo.config({mode:"acyclic",useTabstopAt:jr(fv)})])};return ni.parts.body(W)})(o),b=o.buttons.bind(oe=>oe.length===0?T.none():T.some(m4({buttons:oe},d,l))),y=((oe,W)=>{const Z=(se,re)=>je(se,(ye,Ae)=>{ne(ye,(Ue,Fe)=>{re(Q,Ue,Ae.event,ye)})}),ne=(se,re)=>{dd.getState(se).get().each(ye=>{re(ye,se)})};return[...B6(Z,W),Z(pm,(se,re,ye)=>{re.onAction(se,{name:ye.name})})]})(0,i4(()=>K,l.shared.providers,s)),_={...o.height.fold(()=>({}),oe=>({height:oe+"px","max-height":oe+"px"})),...o.width.fold(()=>({}),oe=>({width:oe+"px","max-width":oe+"px"}))},A=o.width.isNone()&&o.height.isNone()?["tox-dialog--width-lg"]:[],w=new cw(o.url,{base_uri:new cw(window.location.href)}),O=`${w.protocol}://${w.host}${w.port?":"+w.port:""}`,I=vd(),F=[dd.config({channel:`${mv}-${d}`,updateState:(oe,W)=>T.some(W),initialData:o}),_o("messages",[Mr(()=>{const oe=Ti(St(window),"message",W=>{if(w.isSameOrigin(new cw(W.raw.origin))){const Z=W.raw.data;V6(Z)?((ne,se,re)=>{switch(re.mceAction){case"insertContent":ne.insertContent(re.content);break;case"setContent":ne.setContent(re.content);break;case"execCommand":const ye=!!Un(re.ui)&&re.ui;ne.execCommand(re.cmd,ye,re.value);break;case"close":se.close();break;case"block":se.block(re.message);break;case"unblock":se.unblock()}})(i,Q,Z):(ne=>!V6(ne)&&rr(ne)&&io(ne,"mceAction"))(Z)&&o.onMessage(Q,Z)}});I.set(oe)}),Dd(I.clear)]),xl.config({channels:{[cS]:{onReceive:(oe,W)=>{Pr(oe.element,"iframe").each(Z=>{const ne=Z.dom.contentWindow;Bt(ne)&&ne.postMessage(W,O)})}}}})],K=M6({id:d,header:f,body:p,footer:b,extraClasses:A,extraBehaviours:F,extraStyles:_},y,l),Q=(oe=>{const W=Z=>{oe.getSystem().isConnected()&&Z(oe)};return{block:Z=>{if(!xo(Z))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");W(ne=>{oo(ne,Zk,{message:Z})})},unblock:()=>{W(Z=>{Xo(Z,NC)})},close:()=>{W(Z=>{Xo(Z,Ey)})},sendMessage:Z=>{W(ne=>{ne.getSystem().broadcastOn([cS],Z)})}}})(K);return{dialog:K,instanceApi:Q}},$6=(o,s)=>La(Jr("data",s,o)),j6=o=>Sy(o,".tox-alert-dialog")||Sy(o,".tox-confirm-dialog"),U6=(o,s,i)=>s&&i?[]:[qr.config({contextual:{lazyContext:()=>T.some(js(St(o.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:l=>rl(o,l.element).map(d=>({bounds:sa(d),optScrollEnv:T.some({currentScrollTop:d.element.dom.scrollTop,scrollElmTop:Ur(d.element).top})})).getOrThunk(()=>({bounds:Bs(),optScrollEnv:T.none()}))})],VM=o=>{const s=o.editor,i=Oh(s),l=(y=>{const _=y.shared;return{open:(A,w)=>{const O=()=>{ni.hide(Q),w()},I=Kn(Py({context:"any",name:"close-alert",text:"OK",primary:!0,buttonType:T.some("primary"),align:"end",enabled:!0,icon:T.none()},"cancel",y)),F=rw(),K=r4(O,_.providers),Q=bs(sw({lazySink:()=>_.getSink(),header:n4(F,K),body:s4(A,_.providers),footer:T.some(Hv(a4([],[I.asSpec()]))),onEscape:O,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[je(hg,O)],eventOrder:{}}));ni.show(Q);const oe=I.get(Q);yo.focus(oe)}}})(o.backstages.dialog),d=(y=>{const _=y.shared;return{open:(A,w)=>{const O=Z=>{ni.hide(oe),w(Z)},I=Kn(Py({context:"any",name:"yes",text:"Yes",primary:!0,buttonType:T.some("primary"),align:"end",enabled:!0,icon:T.none()},"submit",y)),F=Py({context:"any",name:"no",text:"No",primary:!1,buttonType:T.some("secondary"),align:"end",enabled:!0,icon:T.none()},"cancel",y),K=rw(),Q=r4(()=>O(!1),_.providers),oe=bs(sw({lazySink:()=>_.getSink(),header:n4(K,Q),body:s4(A,_.providers),footer:T.some(Hv(a4([],[F,I.asSpec()]))),onEscape:()=>O(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[je(hg,()=>O(!1)),je(tv,()=>O(!0))],eventOrder:{}}));ni.show(oe);const W=I.get(oe);yo.focus(W)}}})(o.backstages.dialog),f=(y,_)=>Rg.open((A,w,O)=>{const I=w,F=((K,Q,oe)=>{const W=Ft("dialog"),Z=K.internalDialog,ne=D6(Z.title,W,oe),se=$t(Z.size),re=aw(se.get()).toArray(),ye=((No,en,ns,Qr)=>{const Vn=vm(No,en,T.none(),ns,!1,Qr);return ni.parts.body(Vn)})({body:Z.body,initialData:Z.initialData},W,oe,No=>lw(Xt,No)),Ae=iw(Z.buttons),Ue=u4(Ae),Fe=To(Ae.length!==0,m4({buttons:Ae},W,oe)),qe=I6(()=>uo,i4(()=>Mt,oe.shared.providers,Q),oe.shared.getSink),nt={id:W,header:ne,body:ye,footer:Fe,extraClasses:re,extraBehaviours:[dd.config({channel:`${mv}-${W}`,updateState:(No,en)=>(se.set(en.internalDialog.size),Vv(en.internalDialog.size,No),T.some(en)),initialData:K})],extraStyles:{}},Mt=M6(nt,qe,oe),Xt={getId:le(W),getRoot:le(Mt),getBody:()=>ni.getBody(Mt),getFooter:()=>ni.getFooter(Mt),getFormWrapper:()=>{const No=ni.getBody(Mt);return wn.getCurrent(No).getOr(No)},toggleFullscreen:()=>{N6(Mt,se.get())}},uo=L6(Xt,Q.redial,Ue);return{dialog:Mt,instanceApi:uo}})({dataValidator:O,initialData:I,internalDialog:A},{redial:Rg.redial,closeWindow:()=>{ni.hide(F.dialog),_(F.instanceApi)}},o.backstages.dialog);return ni.show(F.dialog),F.instanceApi.setData(I),F.instanceApi},y),p=(y,_,A,w)=>Rg.open((O,I,F)=>{const K=$6(I,F),Q=sn(),oe=o.backstages.popup.shared.header.isPositionedAtTop(),W=()=>Q.on(se=>{fs.reposition(se),i&&oe||qr.refresh(se)}),Z=F6({dataValidator:F,initialData:K,internalDialog:O},{redial:Rg.redial,closeWindow:()=>{Q.on(fs.hide),s.off("ResizeEditor",W),Q.clear(),A(Z.instanceApi)}},o.backstages.popup,w.ariaAttrs,W),ne=bs(fs.sketch({lazySink:o.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:w.persistent?{event:"doNotDismissYet"}:{},...oe?{}:{fireRepositionEventInstead:{}},inlineBehaviours:it([_o("window-manager-inline-events",[je(gi(),(se,re)=>{Xo(Z.dialog,hg)})]),...U6(s,i,oe)]),isExtraPart:(se,re)=>j6(re)}));return Q.set(ne),fs.showWithinBounds(ne,Vi(Z.dialog),{anchor:_},()=>{const se=s.inline?fa():St(s.getContainer()),re=js(se);return T.some(re)}),i&&oe||(qr.refresh(ne),s.on("ResizeEditor",W)),Z.instanceApi.setData(K),eo.focusIn(Z.dialog),Z.instanceApi},y),b=(y,_,A,w)=>Rg.open((O,I,F)=>{const K=$6(I,F),Q=sn(),oe=o.backstages.popup.shared.header.isPositionedAtTop(),W=()=>Q.on(se=>{fs.reposition(se),qr.refresh(se)}),Z=F6({dataValidator:F,initialData:K,internalDialog:O},{redial:Rg.redial,closeWindow:()=>{Q.on(fs.hide),s.off("ResizeEditor ScrollWindow ElementScroll",W),Q.clear(),A(Z.instanceApi)}},o.backstages.popup,w.ariaAttrs,W),ne=bs(fs.sketch({lazySink:o.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:w.persistent?{event:"doNotDismissYet"}:{},...oe?{}:{fireRepositionEventInstead:{}},inlineBehaviours:it([_o("window-manager-inline-events",[je(gi(),(se,re)=>{Xo(Z.dialog,hg)})]),qr.config({contextual:{lazyContext:()=>T.some(js(St(s.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:se=>rl(s,se.element).map(re=>({bounds:sa(re),optScrollEnv:T.some({currentScrollTop:re.element.dom.scrollTop,scrollElmTop:Ur(re.element).top})})).getOrThunk(()=>({bounds:Bs(),optScrollEnv:T.none()}))})]),isExtraPart:(se,re)=>j6(re)}));return Q.set(ne),fs.showWithinBounds(ne,Vi(Z.dialog),{anchor:_},()=>o.backstages.popup.shared.getSink().toOptional().bind(se=>{const re=rl(s,se.element).map(Ue=>sa(Ue)).getOr(Bs()),ye=js(St(s.getContentAreaContainer())),Ae=Us(ye,re);return T.some(Dn(Ae.x,Ae.y,Ae.width,Ae.height-15))})),qr.refresh(ne),s.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",W),Z.instanceApi.setData(K),eo.focusIn(Z.dialog),Z.instanceApi},y);return{open:(y,_,A)=>{if(!ar(_)){if(_.inline==="toolbar")return p(y,o.backstages.popup.shared.anchors.inlineDialog(),A,_);if(_.inline==="bottom")return b(y,o.backstages.popup.shared.anchors.inlineBottomDialog(),A,_);if(_.inline==="cursor")return p(y,o.backstages.popup.shared.anchors.cursor(),A,_)}return f(y,A)},openUrl:(y,_)=>((A,w)=>Rg.openUrl(O=>{const I=HM(O,{closeWindow:()=>{ni.hide(I.dialog),w(I.instanceApi)}},s,o.backstages.dialog);return ni.show(I.dialog),I.instanceApi},A))(y,_),alert:(y,_)=>{l.open(y,_)},close:y=>{y.close()},confirm:(y,_)=>{d.open(y,_)}}},Z6=o=>{y2(o),(s=>{const i=s.options.register,l=f=>{return sr(f,xo)?{value:(p=f,Mk(p.map((b,y)=>y%2==0?"#"+(_=>{return(A=_,nz(A)?T.some({value:mp(A)}):T.none()).orThunk(()=>Tk(_).map(vy)).getOrThunk(()=>{const w=document.createElement("canvas");w.height=1,w.width=1;const O=w.getContext("2d");O.clearRect(0,0,w.width,w.height),O.fillStyle="#FFFFFF",O.fillStyle=_,O.fillRect(0,0,1,1);const I=O.getImageData(0,0,1,1).data,F=I[0],K=I[1],Q=I[2],oe=I[3];return vy(pp(F,K,Q,oe))});var A})(b).value:b))),valid:!0}:{valid:!1,message:"Must be an array of strings."};var p},d=f=>Lo(f)&&f>0?{value:f,valid:!0}:{valid:!1,message:"Must be a positive number."};i("color_map",{processor:l,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),i("color_map_raw",{processor:f=>sr(f,xo)?{value:Mk(f),valid:!0}:{valid:!1,message:"Must be an array of strings."}}),i("color_map_background",{processor:l}),i("color_map_foreground",{processor:l}),i("color_cols",{processor:d,default:vC(s)}),i("color_cols_foreground",{processor:d,default:xC(s,Nk)}),i("color_cols_background",{processor:d,default:xC(s,bC)}),i("custom_colors",{processor:"boolean",default:!0}),i("color_default_foreground",{processor:"string",default:yC}),i("color_default_background",{processor:"string",default:yC})})(o),(s=>{const i=s.options.register;i("contextmenu_avoid_overlap",{processor:"string",default:""}),i("contextmenu_never_use_native",{processor:"boolean",default:!1}),i("contextmenu",{processor:l=>l===!1?{value:[],valid:!0}:xo(l)||sr(l,xo)?{value:O8(l),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})})(o)};Xd.add("silver",o=>{Z6(o);let s=()=>Bs();const{dialogs:i,popups:l,renderUI:d}=QO(o,{getPopupSinkBounds:()=>s()});zz(o,l.backstage.shared);const f=VM({editor:o,backstages:{popup:l.backstage,dialog:i.backstage}}),p=sn();return{renderUI:()=>{const b=d();return rl(o,l.getMothership().element).each(y=>{s=()=>sa(y)}),b},getWindowManagerImpl:le(f),getNotificationManagerImpl:()=>pk(o,{backstage:l.backstage},l.getMothership(),p)}})}()),YL}fq();(function(){var kn=tinymce.util.Tools.resolve("tinymce.ModelManager");const ur=m=>h=>(x=>{const E=typeof x;return x===null?"null":E==="object"&&Array.isArray(x)?"array":E==="object"&&(D=N=x,(H=String).prototype.isPrototypeOf(D)||((U=N.constructor)===null||U===void 0?void 0:U.name)===H.name)?"string":E;var D,N,H,U})(h)===m,Vr=m=>h=>typeof h===m,$r=m=>h=>m===h,fr=ur("string"),xo=ur("object"),rr=ur("array"),jn=$r(null),Po=Vr("boolean"),En=$r(void 0),Un=m=>!(h=>h==null)(m),ar=Vr("function"),An=Vr("number"),Bt=()=>{},Ut=m=>()=>m,Lo=m=>m,sr=(m,h)=>m===h;function rt(m,...h){return(...x)=>{const E=h.concat(x);return m.apply(null,E)}}const ut=m=>h=>!m(h),pt=m=>m(),le=Ut(!1),Tt=Ut(!0);class ve{constructor(h,x){this.tag=h,this.value=x}static some(h){return new ve(!0,h)}static none(){return ve.singletonNone}fold(h,x){return this.tag?x(this.value):h()}isSome(){return this.tag}isNone(){return!this.tag}map(h){return this.tag?ve.some(h(this.value)):ve.none()}bind(h){return this.tag?h(this.value):ve.none()}exists(h){return this.tag&&h(this.value)}forall(h){return!this.tag||h(this.value)}filter(h){return!this.tag||h(this.value)?this:ve.none()}getOr(h){return this.tag?this.value:h}or(h){return this.tag?this:h}getOrThunk(h){return this.tag?this.value:h()}orThunk(h){return this.tag?this:h()}getOrDie(h){if(this.tag)return this.value;throw new Error(h??"Called getOrDie on None")}static from(h){return Un(h)?ve.some(h):ve.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(h){this.tag&&h(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ve.singletonNone=new ve(!1);const lt=Array.prototype.slice,jr=Array.prototype.indexOf,Xn=Array.prototype.push,Ro=(m,h)=>{return x=m,E=h,jr.call(x,E)>-1;var x,E},Le=(m,h)=>{for(let x=0,E=m.length;x<E;x++)if(h(m[x],x))return!0;return!1},It=(m,h)=>{const x=[];for(let E=0;E<m;E++)x.push(h(E));return x},T=(m,h)=>{const x=m.length,E=new Array(x);for(let D=0;D<x;D++){const N=m[D];E[D]=h(N,D)}return E},ko=(m,h)=>{for(let x=0,E=m.length;x<E;x++)h(m[x],x)},Qt=(m,h)=>{const x=[],E=[];for(let D=0,N=m.length;D<N;D++){const H=m[D];(h(H,D)?x:E).push(H)}return{pass:x,fail:E}},Oo=(m,h)=>{const x=[];for(let E=0,D=m.length;E<D;E++){const N=m[E];h(N,E)&&x.push(N)}return x},_r=(m,h,x)=>(((E,D)=>{for(let N=E.length-1;N>=0;N--)D(E[N],N)})(m,(E,D)=>{x=h(x,E,D)}),x),Ce=(m,h,x)=>(ko(m,(E,D)=>{x=h(x,E,D)}),x),zt=(m,h)=>((x,E,D)=>{for(let N=0,H=x.length;N<H;N++){const U=x[N];if(E(U,N))return ve.some(U);if(D(U,N))break}return ve.none()})(m,h,le),tn=(m,h)=>{for(let x=0,E=m.length;x<E;x++)if(h(m[x],x))return ve.some(x);return ve.none()},xt=m=>{const h=[];for(let x=0,E=m.length;x<E;++x){if(!rr(m[x]))throw new Error("Arr.flatten item "+x+" was not an array, input: "+m);Xn.apply(h,m[x])}return h},Qe=(m,h)=>xt(T(m,h)),Ot=(m,h)=>{for(let x=0,E=m.length;x<E;++x)if(h(m[x],x)!==!0)return!1;return!0},Yr=(m,h)=>{const x={};for(let E=0,D=m.length;E<D;E++){const N=m[E];x[String(N)]=h(N,E)}return x},gn=(m,h)=>h>=0&&h<m.length?ve.some(m[h]):ve.none(),an=m=>gn(m,0),Co=m=>gn(m,m.length-1),V=(m,h)=>{for(let x=0;x<m.length;x++){const E=h(m[x],x);if(E.isSome())return E}return ve.none()},la=Object.keys,Nn=Object.hasOwnProperty,hn=(m,h)=>{const x=la(m);for(let E=0,D=x.length;E<D;E++){const N=x[E];h(m[N],N)}},xi=(m,h)=>Al(m,(x,E)=>({k:E,v:h(x,E)})),Al=(m,h)=>{const x={};return hn(m,(E,D)=>{const N=h(E,D);x[N.k]=N.v}),x},Wo=(m,h)=>{const x=[];return hn(m,(E,D)=>{x.push(h(E,D))}),x},zn=m=>Wo(m,Lo),$o=(m,h)=>Nn.call(m,h),Ne=typeof window<"u"?window:Function("return this;")(),wt=(m,h)=>((x,E)=>{let D=E??Ne;for(let N=0;N<x.length&&D!=null;++N)D=D[x[N]];return D})(m.split("."),h),st=Object.getPrototypeOf,Ye=m=>{const h=wt("ownerDocument.defaultView",m);return xo(m)&&((x=>((E,D)=>{const N=((H,U)=>wt(H,U))(E,D);if(N==null)throw new Error(E+" not available on this browser");return N})("HTMLElement",x))(h).prototype.isPrototypeOf(m)||/^HTML\w*Element$/.test(st(m).constructor.name))},to=m=>m.dom.nodeName.toLowerCase(),mo=m=>m.dom.nodeType,Fo=m=>h=>mo(h)===m,Sn=m=>mo(m)===8||to(m)==="#comment",Jn=m=>Tn(m)&&Ye(m.dom),Tn=Fo(1),Mn=Fo(3),wr=Fo(9),Os=Fo(11),Fn=m=>h=>Tn(h)&&to(h)===m,Rr=(m,h,x)=>{if(!(fr(x)||Po(x)||An(x)))throw console.error("Invalid call to Attribute.set. Key ",h,":: Value ",x,":: Element ",m),new Error("Attribute value was not simple");m.setAttribute(h,x+"")},jo=(m,h,x)=>{Rr(m.dom,h,x)},Ds=(m,h)=>{const x=m.dom;hn(h,(E,D)=>{Rr(x,D,E)})},mt=(m,h)=>{const x=m.dom.getAttribute(h);return x===null?void 0:x},io=(m,h)=>ve.from(mt(m,h)),Mo=(m,h)=>{m.dom.removeAttribute(h)},Rs=m=>Ce(m.dom.attributes,(h,x)=>(h[x.name]=x.value,h),{}),$a=m=>{if(m==null)throw new Error("Node cannot be null or undefined");return{dom:m}},Je={fromHtml:(m,h)=>{const x=(h||document).createElement("div");if(x.innerHTML=m,!x.hasChildNodes()||x.childNodes.length>1){const E="HTML does not have a single root node";throw console.error(E,m),new Error(E)}return $a(x.childNodes[0])},fromTag:(m,h)=>{const x=(h||document).createElement(m);return $a(x)},fromText:(m,h)=>{const x=(h||document).createTextNode(m);return $a(x)},fromDom:$a,fromPoint:(m,h,x)=>ve.from(m.dom.elementFromPoint(h,x)).map($a)},Ta=(m,h)=>{const x=m.dom;if(x.nodeType!==1)return!1;{const E=x;if(E.matches!==void 0)return E.matches(h);if(E.msMatchesSelector!==void 0)return E.msMatchesSelector(h);if(E.webkitMatchesSelector!==void 0)return E.webkitMatchesSelector(h);if(E.mozMatchesSelector!==void 0)return E.mozMatchesSelector(h);throw new Error("Browser lacks native selectors")}},To=m=>m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11||m.childElementCount===0,ki=(m,h)=>{const x=h===void 0?document:h.dom;return To(x)?ve.none():ve.from(x.querySelector(m)).map(Je.fromDom)},Zn=(m,h)=>m.dom===h.dom,ms=(m,h)=>{const x=m.dom,E=h.dom;return x!==E&&x.contains(E)},Ji=Ta,Qi=m=>Je.fromDom(m.dom.ownerDocument),_i=m=>wr(m)?m:Qi(m),ca=m=>ve.from(m.dom.parentNode).map(Je.fromDom),el=m=>ve.from(m.dom.parentElement).map(Je.fromDom),Bn=(m,h)=>{const x=ar(h)?h:le;let E=m.dom;const D=[];for(;E.parentNode!==null&&E.parentNode!==void 0;){const N=E.parentNode,H=Je.fromDom(N);if(D.push(H),x(H)===!0)break;E=N}return D},go=m=>ve.from(m.dom.previousSibling).map(Je.fromDom),Oa=m=>ve.from(m.dom.nextSibling).map(Je.fromDom),vs=m=>T(m.dom.childNodes,Je.fromDom),Xl=(m,h)=>{const x=m.dom.childNodes;return ve.from(x[h]).map(Je.fromDom)},St=(m,h)=>{ca(m).each(x=>{x.dom.insertBefore(h.dom,m.dom)})},Ri=(m,h)=>{Oa(m).fold(()=>{ca(m).each(x=>{Cr(x,h)})},x=>{St(x,h)})},Da=(m,h)=>{(E=>Xl(E,0))(m).fold(()=>{Cr(m,h)},E=>{m.dom.insertBefore(h.dom,E.dom)})},Cr=(m,h)=>{m.dom.appendChild(h.dom)},Ic=(m,h)=>{St(m,h),Cr(h,m)},da=(m,h)=>{ko(h,(x,E)=>{const D=E===0?m:h[E-1];Ri(D,x)})},ps=(m,h)=>{ko(h,x=>{Cr(m,x)})},ri=m=>{m.dom.textContent="",ko(vs(m),h=>{mr(h)})},mr=m=>{const h=m.dom;h.parentNode!==null&&h.parentNode.removeChild(h)},ks=m=>{const h=vs(m);h.length>0&&da(m,h),mr(m)},Ra=(m,h)=>Je.fromDom(m.dom.cloneNode(h)),zl=m=>Ra(m,!1),Ni=m=>Ra(m,!0),si=(m,h)=>{const x=Je.fromTag(h),E=Rs(m);return Ds(x,E),x},Pc=["tfoot","thead","tbody","colgroup"],Lc=(m,h,x)=>({element:m,rowspan:h,colspan:x}),ln=(m,h,x)=>({element:m,cells:h,section:x}),gs=(m,h,x)=>({element:m,isNew:h,isLocked:x}),ua=(m,h,x,E)=>({element:m,cells:h,section:x,isNew:E}),Fc=m=>Os(m)&&Un(m.dom.host),Gd=m=>Je.fromDom(m.dom.getRootNode()),gd=m=>Je.fromDom(m.dom.host),es=m=>{const h=Mn(m)?m.dom.parentNode:m.dom;if(h==null||h.ownerDocument===null)return!1;const x=h.ownerDocument;return(N=>{const H=Gd(N);return Fc(H)?ve.some(H):ve.none()})(Je.fromDom(h)).fold(()=>x.body.contains(h),(E=es,D=gd,N=>E(D(N))));var E,D},Na=()=>ai(Je.fromDom(document)),ai=m=>{const h=m.dom.body;if(h==null)throw new Error("Body is not available yet");return Je.fromDom(h)},pr=(m,h)=>{let x=[];return ko(vs(m),E=>{h(E)&&(x=x.concat([E])),x=x.concat(pr(E,h))}),x},ir=(m,h,x)=>((E,D,N)=>Oo(Bn(E,N),H=>Ta(H,h)))(m,0,x),wi=(m,h)=>(x=>Oo(vs(x),E=>Ta(E,h)))(m),Ma=(m,h)=>((x,E)=>{const D=E===void 0?document:E.dom;return To(D)?[]:T(D.querySelectorAll(x),Je.fromDom)})(h,m);var Js=(m,h,x,E,D)=>m(x,E)?ve.some(x):ar(D)&&D(x)?ve.none():h(x,E,D);const Mi=(m,h,x)=>{let E=m.dom;const D=ar(x)?x:le;for(;E.parentNode;){E=E.parentNode;const N=Je.fromDom(E);if(h(N))return ve.some(N);if(D(N))break}return ve.none()},ss=(m,h,x)=>Js((E,D)=>D(E),Mi,m,h,x),gr=(m,h,x)=>Mi(m,E=>Ta(E,h),x),Ci=(m,h)=>(x=>zt(x.dom.childNodes,E=>{return D=Je.fromDom(E),Ta(D,h);var D}).map(Je.fromDom))(m),ts=(m,h)=>ki(h,m),Qn=(m,h,x)=>Js((E,D)=>Ta(E,D),gr,m,h,x),fa=(m,h,x=sr)=>m.exists(E=>x(E,h)),ja=m=>{const h=[],x=E=>{h.push(E)};for(let E=0;E<m.length;E++)m[E].each(x);return h},Hc=(m,h)=>m?ve.some(h):ve.none(),po=(m,h,x)=>h===""||m.length>=h.length&&m.substr(x,x+h.length)===h,hs=(m,h,x=0,E)=>{const D=m.indexOf(h,x);return D!==-1&&(!!En(E)||D+h.length<=E)},as=(m,h)=>po(m,h,0),os=(m,h)=>po(m,h,m.length-h.length),hd=(m=>h=>h.replace(m,""))(/^\s+|\s+$/g),Sr=m=>m.length>0,sl=m=>m.style!==void 0&&ar(m.style.getPropertyValue),al=(m,h,x)=>{if(!fr(x))throw console.error("Invalid call to CSS.set. Property ",h,":: Value ",x,":: Element ",m),new Error("CSS value must be a string: "+x);sl(m)&&m.style.setProperty(h,x)},Gt=(m,h,x)=>{const E=m.dom;al(E,h,x)},Ua=(m,h)=>{const x=m.dom;hn(h,(E,D)=>{al(x,D,E)})},ii=(m,h)=>{const x=m.dom,E=window.getComputedStyle(x).getPropertyValue(h);return E!==""||es(m)?E:Ns(x,h)},Ns=(m,h)=>sl(m)?m.style.getPropertyValue(h):"",Jl=(m,h)=>{const x=m.dom,E=Ns(x,h);return ve.from(E).filter(D=>D.length>0)},hr=(m,h)=>{((x,E)=>{sl(x)&&x.style.removeProperty(E)})(m.dom,h),fa(io(m,"style").map(hd),"")&&Mo(m,"style")},Si=(m,h,x=0)=>io(m,h).map(E=>parseInt(E,10)).getOr(x),li=(m,h)=>Si(m,h,1),Yo=m=>Fn("col")(m)?Si(m,"span",1)>1:li(m,"colspan")>1,tl=(m,h)=>parseInt(ii(m,h),10),il=Ut(10),Vc=Ut(10),xr=(m,h)=>_a(m,h,Tt),_a=(m,h,x)=>Qe(vs(m),E=>Ta(E,h)?x(E)?[E]:[]:_a(E,h,x)),Kd=(m,h)=>((x,E,D=le)=>D(E)?ve.none():Ro(x,to(E))?ve.some(E):gr(E,x.join(","),N=>Ta(N,"table")||D(N)))(["td","th"],m,h),On=m=>xr(m,"th,td"),Tl=m=>Ta(m,"colgroup")?wi(m,"col"):Qe(q(m),h=>wi(h,"col")),Ur=(m,h)=>Qn(m,"table",h),Ms=m=>xr(m,"tr"),q=m=>Ur(m).fold(Ut([]),h=>wi(h,"colgroup")),ce=(m,h)=>T(m,x=>{if(to(x)==="colgroup"){const E=T(Tl(x),D=>{const N=Si(D,"span",1);return Lc(D,1,N)});return ln(x,E,"colgroup")}{const E=T(On(x),D=>{const N=Si(D,"rowspan",1),H=Si(D,"colspan",1);return Lc(D,N,H)});return ln(x,E,h(x))}}),_e=m=>ca(m).map(h=>{const x=to(h);return(E=>Ro(Pc,E))(x)?x:"tbody"}).getOr("tbody"),Ve=m=>{const h=Ms(m),x=[...q(m),...h];return ce(x,_e)},ft=m=>{let h,x=!1;return(...E)=>(x||(x=!0,h=m.apply(null,E)),h)},Vt=()=>Nt(0,0),Nt=(m,h)=>({major:m,minor:h}),kr={nu:Nt,detect:(m,h)=>{const x=String(h).toLowerCase();return m.length===0?Vt():((E,D)=>{const N=((U,ee)=>{for(let de=0;de<U.length;de++){const ke=U[de];if(ke.test(ee))return ke}})(E,D);if(!N)return{major:0,minor:0};const H=U=>Number(D.replace(N,"$"+U));return Nt(H(1),H(2))})(m,x)},unknown:Vt},on=(m,h)=>{const x=String(h).toLowerCase();return zt(m,E=>E.search(x))},P=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Y=m=>h=>hs(h,m),pe=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:m=>hs(m,"edge/")&&hs(m,"chrome")&&hs(m,"safari")&&hs(m,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,P],search:m=>hs(m,"chrome")&&!hs(m,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:m=>hs(m,"msie")||hs(m,"trident")},{name:"Opera",versionRegexes:[P,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Y("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Y("firefox")},{name:"Safari",versionRegexes:[P,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:m=>(hs(m,"safari")||hs(m,"mobile/"))&&hs(m,"applewebkit")}],De=[{name:"Windows",search:Y("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:m=>hs(m,"iphone")||hs(m,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Y("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Y("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Y("linux"),versionRegexes:[]},{name:"Solaris",search:Y("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Y("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Y("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Zt={browsers:Ut(pe),oses:Ut(De)},nn="Edge",Xr="Chromium",ci="Opera",ht="Firefox",Bi="Safari",wa=m=>{const h=m.current,x=m.version,E=D=>()=>h===D;return{current:h,version:x,isEdge:E(nn),isChromium:E(Xr),isIE:E("IE"),isOpera:E(ci),isFirefox:E(ht),isSafari:E(Bi)}},hc=()=>wa({current:void 0,version:kr.unknown()}),ma=wa,$c="Windows",bd="Android",zm="Linux",Ol="macOS",Tm="Solaris",Ip="FreeBSD",$g="ChromeOS",jg=m=>{const h=m.current,x=m.version,E=D=>()=>h===D;return{current:h,version:x,isWindows:E($c),isiOS:E("iOS"),isAndroid:E(bd),isMacOS:E(Ol),isLinux:E(zm),isSolaris:E(Tm),isFreeBSD:E(Ip),isChromeOS:E($g)}},Uf=()=>jg({current:void 0,version:kr.unknown()}),jc=jg,Yd=m=>window.matchMedia(m).matches;let Yu=ft(()=>((m,h,x)=>{const E=Zt.browsers(),D=Zt.oses(),N=h.bind(ee=>((de,ke)=>V(ke.brands,fe=>{const be=fe.brand.toLowerCase();return zt(de,X=>{var we;return be===((we=X.brand)===null||we===void 0?void 0:we.toLowerCase())}).map(X=>({current:X.name,version:kr.nu(parseInt(fe.version,10),0)}))}))(E,ee)).orThunk(()=>((ee,de)=>on(ee,de).map(ke=>{const fe=kr.detect(ke.versionRegexes,de);return{current:ke.name,version:fe}}))(E,m)).fold(hc,ma),H=((ee,de)=>on(ee,de).map(ke=>{const fe=kr.detect(ke.versionRegexes,de);return{current:ke.name,version:fe}}))(D,m).fold(Uf,jc),U=((ee,de,ke,fe)=>{const be=ee.isiOS()&&/ipad/i.test(ke)===!0,X=ee.isiOS()&&!be,we=ee.isiOS()||ee.isAndroid(),Ee=we||fe("(pointer:coarse)"),Ie=be||!X&&we&&fe("(min-device-width:768px)"),Ge=X||we&&!Ie,et=de.isSafari()&&ee.isiOS()&&/safari/i.test(ke)===!1,ct=!Ge&&!Ie&&!et;return{isiPad:Ut(be),isiPhone:Ut(X),isTablet:Ut(Ie),isPhone:Ut(Ge),isTouch:Ut(Ee),isAndroid:ee.isAndroid,isiOS:ee.isiOS,isWebView:Ut(et),isDesktop:Ut(ct)}})(H,N,m,x);return{browser:N,os:H,deviceType:U}})(window.navigator.userAgent,ve.from(window.navigator.userAgentData),Yd));const pa=()=>Yu(),yd=(m,h)=>{const x=D=>{const N=h(D);if(N<=0||N===null){const H=ii(D,m);return parseFloat(H)||0}return N},E=(D,N)=>Ce(N,(H,U)=>{const ee=ii(D,U),de=ee===void 0?0:parseInt(ee,10);return isNaN(de)?H:H+de},0);return{set:(D,N)=>{if(!An(N)&&!N.match(/^[0-9]+$/))throw new Error(m+".set accepts only positive integer values. Value was "+N);const H=D.dom;sl(H)&&(H.style[m]=N+"px")},get:x,getOuter:x,aggregate:E,max:(D,N,H)=>{const U=E(D,H);return N>U?N-U:0}}},bc=(m,h,x)=>((E,D)=>(N=>{const H=parseFloat(N);return isNaN(H)?ve.none():ve.some(H)})(E).getOr(D))(ii(m,h),x),cn=yd("width",m=>m.dom.offsetWidth),di=m=>cn.get(m),pu=m=>cn.getOuter(m),Om=m=>((h,x)=>{const E=h.dom,D=E.getBoundingClientRect().width||E.offsetWidth;return((N,H,U,ee)=>H-bc(N,`padding-${U}`,0)-bc(N,`padding-${ee}`,0)-bc(N,`border-${U}-width`,0)-bc(N,`border-${ee}-width`,0))(h,D,"left","right")})(m),ui=(m,h,x)=>{const E=m.cells,D=E.slice(0,h),N=E.slice(h),H=D.concat(x).concat(N);return yc(m,H)},Ei=(m,h,x)=>ui(m,h,[x]),Qs=(m,h,x)=>{m.cells[h]=x},yc=(m,h)=>ua(m.element,h,m.section,m.isNew),_s=(m,h)=>m.cells[h],Ba=(m,h)=>_s(m,h).element,Ii=m=>m.cells.length,In=m=>{const h=Qt(m,x=>x.section==="colgroup");return{rows:h.fail,cols:h.pass}},Dl=(m,h,x)=>{const E=T(m.cells,x);return ua(h(m.element),E,m.section,!0)},Ia="data-snooker-locked-cols",$s=m=>io(m,Ia).bind(h=>ve.from(h.match(/\d+/g))).map(h=>Yr(h,Tt)),ll=m=>{const h=Ce(In(m).rows,(E,D)=>(ko(D.cells,(N,H)=>{N.isLocked&&(E[H]=!0)}),E),{}),x=Wo(h,(E,D)=>parseInt(D,10));return(E=>{const D=lt.call(E,0);return D.sort(void 0),D})(x)},Dn=(m,h)=>m+","+h,js=(m,h)=>{const x=Qe(m.all,E=>E.cells);return Oo(x,h)},Ql=m=>{const h={},x=[],E=an(m).map(be=>be.element).bind(Ur).bind($s).getOr({});let D=0,N=0,H=0;const{pass:U,fail:ee}=Qt(m,be=>be.section==="colgroup");ko(ee,be=>{const X=[];ko(be.cells,we=>{let Ee=0;for(;h[Dn(H,Ee)]!==void 0;)Ee++;const Ie=((et,ct)=>$o(et,ct)&&et[ct]!==void 0&&et[ct]!==null)(E,Ee.toString()),Ge=((et,ct,gt,dt,Ct,jt)=>({element:et,rowspan:ct,colspan:gt,row:dt,column:Ct,isLocked:jt}))(we.element,we.rowspan,we.colspan,H,Ee,Ie);for(let et=0;et<we.colspan;et++)for(let ct=0;ct<we.rowspan;ct++){const gt=Ee+et,dt=Dn(H+ct,gt);h[dt]=Ge,N=Math.max(N,gt+1)}X.push(Ge)}),D++,x.push(ln(be.element,X,be.section)),H++});const{columns:de,colgroups:ke}=Co(U).map(be=>{const X=(Ee=>{const Ie={};let Ge=0;return ko(Ee.cells,et=>{const ct=et.colspan;It(ct,gt=>{const dt=Ge+gt;Ie[dt]=((Ct,jt,ho)=>({element:Ct,colspan:jt,column:ho}))(et.element,ct,dt)}),Ge+=ct}),Ie})(be);return{colgroups:[((Ee,Ie)=>({element:Ee,columns:Ie}))(be.element,zn(X))],columns:X}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:((be,X)=>({rows:be,columns:X}))(D,N),access:h,all:x,columns:de,colgroups:ke}},Us=m=>{const h=Ve(m);return Ql(h)},Bs=Ql,$t=(m,h,x)=>ve.from(m.access[Dn(h,x)]),ec=(m,h,x)=>{const E=js(m,D=>x(h,D.element));return E.length>0?ve.some(E[0]):ve.none()},vd=js,sn=m=>Qe(m.all,h=>h.cells),Xd=m=>zn(m.columns),gu=m=>la(m.columns).length>0,vc=(m,h)=>ve.from(m.columns[h]),Zo=(m,h=Tt)=>{const x=m.grid,E=It(x.columns,Lo),D=It(x.rows,Lo);return T(E,N=>Pa(()=>Qe(D,H=>$t(m,H,N).filter(U=>U.column===N).toArray()),H=>H.colspan===1&&h(H.element),()=>$t(m,0,N)))},Pa=(m,h,x)=>{const E=m();return zt(E,h).orThunk(()=>ve.from(E[0]).orThunk(x)).map(D=>D.element)},Xu=m=>{const h=m.grid,x=It(h.rows,Lo),E=It(h.columns,Lo);return T(x,D=>Pa(()=>Qe(E,N=>$t(m,D,N).filter(H=>H.row===D).fold(Ut([]),H=>[H])),N=>N.rowspan===1,()=>$t(m,D,0)))},hu=(m,h)=>x=>Dm(x)==="rtl"?h:m,Dm=m=>ii(m,"direction")==="rtl"?"rtl":"ltr",tc=yd("height",m=>{const h=m.dom;return es(m)?h.getBoundingClientRect().height:h.offsetHeight}),cl=m=>tc.get(m),xd=m=>tc.getOuter(m),Ju=(m,h)=>({left:m,top:h,translate:(x,E)=>Ju(m+x,h+E)}),me=Ju,kd=(m,h)=>m!==void 0?m:h!==void 0?h:0,Hn=m=>{const h=m.dom.ownerDocument,x=h.body,E=h.defaultView,D=h.documentElement;if(x===m.dom)return me(x.offsetLeft,x.offsetTop);const N=kd(E==null?void 0:E.pageYOffset,D.scrollTop),H=kd(E==null?void 0:E.pageXOffset,D.scrollLeft),U=kd(D.clientTop,x.clientTop),ee=kd(D.clientLeft,x.clientLeft);return Pp(m).translate(H-ee,N-U)},Pp=m=>{const h=m.dom,x=h.ownerDocument.body;return x===h?me(x.offsetLeft,x.offsetTop):es(m)?(E=>{const D=E.getBoundingClientRect();return me(D.left,D.top)})(h):me(0,0)},Qu=(m,h)=>({row:m,y:h}),Rl=(m,h)=>({col:m,x:h}),rn=m=>Hn(m).left+pu(m),Za=m=>Hn(m).left,ol=(m,h)=>Rl(m,Za(h)),dl=(m,h)=>Rl(m,rn(h)),xc=m=>Hn(m).top,bu=(m,h)=>Qu(m,xc(h)),Wa=(m,h)=>Qu(m,xc(h)+xd(h)),yu=(m,h,x)=>{if(x.length===0)return[];const E=T(x.slice(1),(N,H)=>N.map(U=>m(H,U))),D=x[x.length-1].map(N=>h(x.length-1,N));return E.concat([D])},_d={delta:Lo,positions:m=>yu(bu,Wa,m),edge:xc},vu=hu({delta:Lo,edge:Za,positions:m=>yu(ol,dl,m)},{delta:m=>-m,edge:rn,positions:m=>yu(dl,ol,m)}),Is={delta:(m,h)=>vu(h).delta(m,h),positions:(m,h)=>vu(h).positions(m,h),edge:m=>vu(m).edge(m)},co={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Uc=(()=>{const m="[0-9]+",h="[eE][+-]?"+m,x=D=>`(?:${D})?`,E=["Infinity",m+"\\."+x(m)+x(h),"\\."+m+x(h),m+x(h)].join("|");return new RegExp(`^([+-]?(?:${E}))(.*)$`)})(),wd=/(\d+(\.\d+)?)%/,qa=/(\d+(\.\d+)?)px|em/,Zc=Fn("col"),ul=Fn("tr"),Cd=(m,h,x)=>{const E=el(m).getOrThunk(()=>ai(Qi(m)));return h(m)/x(E)*100},Wc=(m,h)=>{Gt(m,"width",h+"px")},Ps=(m,h)=>{Gt(m,"width",h+"%")},Sd=(m,h)=>{Gt(m,"height",h+"px")},kc=m=>{const h=(x=>{return bc(E=x,"height",E.dom.offsetHeight)+"px";var E})(m);return h?((x,E,D,N)=>{const H=parseFloat(x);return os(x,"%")&&to(E)!=="table"?((U,ee,de,ke)=>{const fe=Ur(U).map(be=>{const X=de(be);return Math.floor(ee/100*X)}).getOr(ee);return ke(U,fe),fe})(E,H,D,N):H})(h,m,cl,Sd):cl(m)},xu=(m,h)=>Jl(m,h).orThunk(()=>io(m,h).map(x=>x+"px")),ku=m=>xu(m,"width"),Ed=m=>Cd(m,di,Om),Jd=m=>{return Zc(m)?di(m):bc(h=m,"width",h.dom.offsetWidth);var h},_u=m=>ul(m)?cl(m):((h,x,E)=>E(h)/li(h,"rowspan"))(m,0,kc),Jr=(m,h,x)=>{Gt(m,"width",h+x)},La=m=>Cd(m,di,Om)+"%",Ga=Ut(wd),Pi=Fn("col"),ea=m=>ku(m).getOrThunk(()=>Jd(m)+"px"),ef=m=>{return(h=m,xu(h,"height")).getOrThunk(()=>_u(m)+"px");var h},Ls=(m,h,x,E,D,N)=>m.filter(E).fold(()=>N(((H,U)=>{if(U<0||U>=H.length-1)return ve.none();const ee=H[U].fold(()=>{const ke=(fe=>{const be=lt.call(fe,0);return be.reverse(),be})(H.slice(0,U));return V(ke,(fe,be)=>fe.map(X=>({value:X,delta:be+1})))},ke=>ve.some({value:ke,delta:0})),de=H[U+1].fold(()=>{const ke=H.slice(U+1);return V(ke,(fe,be)=>fe.map(X=>({value:X,delta:be+1})))},ke=>ve.some({value:ke,delta:1}));return ee.bind(ke=>de.map(fe=>{const be=fe.delta+ke.delta;return Math.abs(fe.value-ke.value)/be}))})(x,h)),H=>D(H)),ta=(m,h,x,E)=>{const D=Zo(m),N=gu(m)?(ee=>T(Xd(ee),de=>ve.from(de.element)))(m):D,H=[ve.some(Is.edge(h))].concat(T(Is.positions(D,h),ee=>ee.map(de=>de.x))),U=ut(Yo);return T(N,(ee,de)=>Ls(ee,de,H,U,ke=>{if((be=>{const X=pa().browser,we=X.isChromium()||X.isFirefox();return!Pi(be)||we})(ke))return x(ke);{const be=(fe=D[de])!=null?Lo(fe):ve.none();return Ls(be,de,H,U,X=>E(ve.some(di(X))),E)}var fe},E))},qc=m=>m.map(h=>h+"px").getOr(""),Ke=(m,h,x)=>ta(m,h,Jd,E=>E.getOrThunk(x.minCellWidth)),oa=(m,h,x,E)=>{const D=Xu(m),N=T(m.all,U=>ve.some(U.element)),H=[ve.some(_d.edge(h))].concat(T(_d.positions(D,h),U=>U.map(ee=>ee.y)));return T(N,(U,ee)=>Ls(U,ee,H,Tt,x,E))},ws=(m,h)=>()=>es(m)?h(m):parseFloat(Jl(m,"width").getOr("0")),ga=m=>{const h=ws(m,E=>parseFloat(La(E))),x=ws(m,di);return{width:h,pixelWidth:x,getWidths:(E,D)=>((N,H,U)=>ta(N,H,Ed,ee=>ee.fold(()=>U.minCellWidth(),de=>de/U.pixelWidth()*100)))(E,m,D),getCellDelta:E=>E/x()*100,singleColumnWidth:(E,D)=>[100-E],minCellWidth:()=>il()/x()*100,setElementWidth:Ps,adjustTableWidth:E=>{const D=h();Ps(m,D+E/100*D)},isRelative:!0,label:"percent"}},fl=m=>{const h=ws(m,di);return{width:h,pixelWidth:h,getWidths:(x,E)=>Ke(x,m,E),getCellDelta:Lo,singleColumnWidth:(x,E)=>[Math.max(il(),x+E)-x],minCellWidth:il,setElementWidth:Wc,adjustTableWidth:x=>{const E=h()+x;Wc(m,E)},isRelative:!1,label:"pixel"}},Li=m=>ku(m).fold(()=>(h=>{const x=ws(h,di),E=Ut(0);return{width:x,pixelWidth:x,getWidths:(D,N)=>Ke(D,h,N),getCellDelta:E,singleColumnWidth:Ut([0]),minCellWidth:E,setElementWidth:Bt,adjustTableWidth:Bt,isRelative:!0,label:"none"}})(m),h=>((x,E)=>Ga().exec(E)!==null?ga(x):fl(x))(m,h)),wu=fl,Ka=ga,bn=(m,h,x)=>{const E=m[x].element,D=Je.fromTag("td");Cr(D,Je.fromTag("br")),(h?Cr:Da)(E,D)},ml=(m=>{const h=x=>m(x)?ve.from(x.dom.nodeValue):ve.none();return{get:x=>{if(!m(x))throw new Error("Can only get text value of a text node");return h(x).getOr("")},getOption:h,set:(x,E)=>{if(!m(x))throw new Error("Can only set raw text value of a text node");x.dom.nodeValue=E}}})(Mn),Nl=m=>ml.get(m),er=m=>ml.getOption(m),tf=(m,h)=>ml.set(m,h),Ya=m=>to(m)==="img"?1:er(m).fold(()=>vs(m).length,h=>h.length),of=["img","br"],fi=m=>er(m).filter(h=>h.trim().length!==0||h.indexOf(" ")>-1).isSome()||Ro(of,to(m))||(h=>Jn(h)&&mt(h,"contenteditable")==="false")(m),Te=m=>((h,x)=>{const E=D=>{for(let N=0;N<D.childNodes.length;N++){const H=Je.fromDom(D.childNodes[N]);if(x(H))return ve.some(H);const U=E(D.childNodes[N]);if(U.isSome())return U}return ve.none()};return E(h.dom)})(m,fi),is=m=>oc(m,fi),oc=(m,h)=>{const x=E=>{const D=vs(E);for(let N=D.length-1;N>=0;N--){const H=D[N];if(h(H))return ve.some(H);const U=x(H);if(U.isSome())return U}return ve.none()};return x(m)},Er={scope:["row","col"]},lr=m=>()=>{const h=Je.fromTag("td",m.dom);return Cr(h,Je.fromTag("br",m.dom)),h},Zs=m=>()=>Je.fromTag("col",m.dom),br=m=>()=>Je.fromTag("colgroup",m.dom),Ai=m=>()=>Je.fromTag("tr",m.dom),nc=(m,h,x)=>{const E=((D,N)=>{const H=si(D,N),U=vs(Ni(D));return ps(H,U),H})(m,h);return hn(x,(D,N)=>{D===null?Mo(E,N):jo(E,N,D)}),E},_n=m=>m,na=(m,h,x)=>{const E=(D,N)=>{((H,U)=>{const ee=H.dom,de=U.dom;sl(ee)&&sl(de)&&(de.style.cssText=ee.style.cssText)})(D.element,N),hr(N,"height"),D.colspan!==1&&hr(N,"width")};return{col:D=>{const N=Je.fromTag(to(D.element),h.dom);return E(D,N),m(D.element,N),N},colgroup:br(h),row:Ai(h),cell:D=>{const N=Je.fromTag(to(D.element),h.dom),H=x.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),U=H.length>0?((ee,de,ke)=>Te(ee).map(fe=>{const be=ke.join(","),X=ir(fe,be,we=>Zn(we,ee));return _r(X,(we,Ee)=>{const Ie=zl(Ee);return Cr(we,Ie),Ie},de)}).getOr(de))(D.element,N,H):N;return Cr(U,Je.fromTag("br")),E(D,N),((ee,de)=>{hn(Er,(ke,fe)=>io(ee,fe).filter(be=>Ro(ke,be)).each(be=>jo(de,fe,be)))})(D.element,N),m(D.element,N),N},replace:nc,colGap:Zs(h),gap:lr(h)}},Ml=m=>({col:Zs(m),colgroup:br(m),row:Ai(m),cell:lr(m),replace:_n,colGap:Zs(m),gap:lr(m)}),mi=m=>h=>h.options.get(m),Ad="100%",Bl=m=>{var h;const x=m.dom,E=(h=x.getParent(m.selection.getStart(),x.isBlock))!==null&&h!==void 0?h:m.getBody();return Om(Je.fromDom(E))+"px"},Zf=m=>ve.from(m.options.get("table_clone_elements")),Rm=mi("table_header_type"),zd=mi("table_column_resizing"),ha=m=>zd(m)==="preservetable",C=m=>zd(m)==="resizetable",M=mi("table_sizing_mode"),j=m=>M(m)==="relative",ue=m=>M(m)==="fixed",ge=m=>M(m)==="responsive",ot=mi("table_resize_bars"),no=mi("table_style_by_css"),Bo=mi("table_merge_content_on_paste"),bo=m=>{const h=m.options,x=h.get("table_default_attributes");return h.isSet("table_default_attributes")?x:((E,D)=>ge(E)||no(E)?D:ue(E)?{...D,width:Bl(E)}:{...D,width:Ad})(m,x)},Kt=mi("table_use_colgroups"),Nr=mi("fixed_toolbar_container"),Zr=mi("fixed_toolbar_container_target"),Il=mi("ui_mode"),pi=m=>Qn(m,"[contenteditable]"),_c=(m,h=!1)=>es(m)?m.dom.isContentEditable:pi(m).fold(Ut(h),x=>Cu(x)==="true"),Cu=m=>m.dom.contentEditable,Wf=m=>Je.fromDom(m.getBody()),Cs=m=>h=>Zn(h,Wf(m)),Su=m=>{Mo(m,"data-mce-style");const h=x=>Mo(x,"data-mce-style");ko(On(m),h),ko(Tl(m),h),ko(Ms(m),h)},Ug=m=>Je.fromDom(m.selection.getStart()),Ss=m=>m.getBoundingClientRect().width,Fa=m=>m.getBoundingClientRect().height,wc=m=>(h,x)=>{const E=h.dom.getStyle(x,m)||h.dom.getAttrib(x,m);return ve.from(E).filter(Sr)},Fs=wc("width"),Eu=wc("height"),Gc=m=>ss(m,Fn("table")).exists(_c),pl=(m,h)=>{const x=h.column,E=h.column+h.colspan-1,D=h.row,N=h.row+h.rowspan-1;return x<=m.finishCol&&E>=m.startCol&&D<=m.finishRow&&N>=m.startRow},Kc=(m,h)=>h.column>=m.startCol&&h.column+h.colspan-1<=m.finishCol&&h.row>=m.startRow&&h.row+h.rowspan-1<=m.finishRow,Au=(m,h,x)=>{const E=ec(m,h,Zn),D=ec(m,x,Zn);return E.bind(N=>D.map(H=>{return U=N,ee=H,{startRow:Math.min(U.row,ee.row),startCol:Math.min(U.column,ee.column),finishRow:Math.max(U.row+U.rowspan-1,ee.row+ee.rowspan-1),finishCol:Math.max(U.column+U.colspan-1,ee.column+ee.colspan-1)};var U,ee}))},ib=(m,h,x)=>Au(m,h,x).map(E=>{const D=vd(m,rt(pl,E));return T(D,N=>N.element)}),qf=(m,h)=>ec(m,h,(x,E)=>ms(E,x)).map(x=>x.element),Zg=(m,h,x)=>{const E=Td(m);return ib(E,h,x)},nf=(m,h,x,E,D)=>{const N=Td(m),H=Zn(m,x)?ve.some(h):qf(N,h),U=Zn(m,D)?ve.some(E):qf(N,E);return H.bind(ee=>U.bind(de=>ib(N,ee,de)))},Td=Us;var Lp=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],qt=()=>({up:Ut({selector:gr,closest:Qn,predicate:Mi,all:Bn}),down:Ut({selector:Ma,predicate:pr}),styles:Ut({get:ii,getRaw:Jl,set:Gt,remove:hr}),attrs:Ut({get:mt,set:jo,remove:Mo,copyTo:(m,h)=>{const x=Rs(m);Ds(h,x)}}),insert:Ut({before:St,after:Ri,afterAll:da,append:Cr,appendAll:ps,prepend:Da,wrap:Ic}),remove:Ut({unwrap:ks,remove:mr}),create:Ut({nu:Je.fromTag,clone:m=>Je.fromDom(m.dom.cloneNode(!1)),text:Je.fromText}),query:Ut({comparePosition:(m,h)=>m.dom.compareDocumentPosition(h.dom),prevSibling:go,nextSibling:Oa}),property:Ut({children:vs,name:to,parent:ca,document:m=>_i(m).dom,isText:Mn,isComment:Sn,isElement:Tn,isSpecial:m=>{const h=to(m);return Ro(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],h)},getLanguage:m=>Tn(m)?io(m,"lang"):ve.none(),getText:Nl,setText:tf,isBoundary:m=>!!Tn(m)&&(to(m)==="body"||Ro(Lp,to(m))),isEmptyTag:m=>!!Tn(m)&&Ro(["br","img","hr","input"],to(m)),isNonEditable:m=>Tn(m)&&mt(m,"contenteditable")==="false"}),eq:Zn,is:Ji});const Pl=(m,h,x,E)=>{const D=h(m,x);return _r(E,(N,H)=>{const U=h(m,H);return Yc(m,N,U)},D)},Yc=(m,h,x)=>h.bind(E=>x.filter(rt(m.eq,E))),gl=qt(),gi=(m,h)=>((x,E,D)=>D.length>0?((N,H,U,ee)=>ee(N,H,U[0],U.slice(1)))(x,E,D,Pl):ve.none())(gl,(x,E)=>m(E),h),rf=m=>gr(m,"table"),sf=(m,h,x)=>{const E=D=>N=>x!==void 0&&x(N)||Zn(N,D);return Zn(m,h)?ve.some({boxes:ve.some([m]),start:m,finish:h}):rf(m).bind(D=>rf(h).bind(N=>{if(Zn(D,N))return ve.some({boxes:Zg(D,m,h),start:m,finish:h});if(ms(D,N)){const H=ir(h,"td,th",E(D)),U=H.length>0?H[H.length-1]:h;return ve.some({boxes:nf(D,m,D,h,N),start:m,finish:U})}if(ms(N,D)){const H=ir(m,"td,th",E(N)),U=H.length>0?H[H.length-1]:m;return ve.some({boxes:nf(N,m,D,h,N),start:m,finish:U})}return((H,U)=>((ee,de,ke,fe=le)=>{const be=[de].concat(ee.up().all(de)),X=[ke].concat(ee.up().all(ke)),we=et=>tn(et,fe).fold(()=>et,ct=>et.slice(0,ct+1)),Ee=we(be),Ie=we(X),Ge=zt(Ee,et=>Le(Ie,((ct,gt)=>rt(ct.eq,gt))(ee,et)));return{firstpath:Ee,secondpath:Ie,shared:Ge}})(gl,H,U,void 0))(m,h).shared.bind(H=>Qn(H,"table",x).bind(U=>{const ee=ir(h,"td,th",E(U)),de=ee.length>0?ee[ee.length-1]:h,ke=ir(m,"td,th",E(U)),fe=ke.length>0?ke[ke.length-1]:m;return ve.some({boxes:nf(U,m,D,h,N),start:fe,finish:de})}))}))},Xc=(m,h)=>{const x=Ma(m,h);return x.length>0?ve.some(x):ve.none()},Wg=(m,h,x)=>ts(m,h).bind(E=>ts(m,x).bind(D=>gi(rf,[E,D]).map(N=>({first:E,last:D,table:N})))),Jc=(m,h,x,E,D)=>((N,H)=>zt(N,U=>Ta(U,H)))(m,D).bind(N=>((H,U,ee)=>Ur(H).bind(de=>((ke,fe,be,X)=>ec(ke,fe,Zn).bind(we=>{const Ee=be>0?we.row+we.rowspan-1:we.row,Ie=X>0?we.column+we.colspan-1:we.column;return $t(ke,Ee+be,Ie+X).map(Ge=>Ge.element)}))(Td(de),H,U,ee)))(N,h,x).bind(H=>((U,ee)=>gr(U,"table").bind(de=>ts(de,ee).bind(ke=>sf(ke,U).bind(fe=>fe.boxes.map(be=>({boxes:be,start:fe.start,finish:fe.finish}))))))(H,E))),Fp=(m,h)=>Xc(m,h),Gf=(m,h,x)=>Wg(m,h,x).bind(E=>{const D=ee=>Zn(m,ee),N="thead,tfoot,tbody,table",H=gr(E.first,N,D),U=gr(E.last,N,D);return H.bind(ee=>U.bind(de=>Zn(ee,de)?((ke,fe,be)=>((X,we,Ee)=>Au(X,we,Ee).bind(Ie=>((Ge,et)=>{let ct=!0;const gt=rt(Kc,et);for(let dt=et.startRow;dt<=et.finishRow;dt++)for(let Ct=et.startCol;Ct<=et.finishCol;Ct++)ct=ct&&$t(Ge,dt,Ct).exists(gt);return ct?ve.some(et):ve.none()})(X,Ie)))(Td(ke),fe,be))(E.table,E.first,E.last):ve.none()))}),bt=Lo,Xo=m=>{const h=(x,E)=>io(x,E).exists(D=>parseInt(D,10)>1);return m.length>0&&Ot(m,x=>h(x,"rowspan")||h(x,"colspan"))?ve.some(m):ve.none()},oo=(m,h,x)=>h.length<=1?ve.none():Gf(m,x.firstSelectedSelector,x.lastSelectedSelector).map(E=>({bounds:E,cells:h})),Fi="data-mce-selected",Qd="data-mce-first-selected",af="data-mce-last-selected",ls="["+Fi+"]",tr={selected:Fi,selectedSelector:"td["+Fi+"],th["+Fi+"]",firstSelected:Qd,firstSelectedSelector:"td["+Qd+"],th["+Qd+"]",lastSelected:af,lastSelectedSelector:"td["+af+"],th["+af+"]"},Hi=(m,h,x)=>({element:x,mergable:oo(h,m,tr),unmergable:Xo(m),selection:bt(m)}),Wr=m=>(h,x)=>{const E=to(h),D=E==="col"||E==="colgroup"?Ur(N=h).bind(H=>Fp(H,tr.firstSelectedSelector)).fold(Ut(N),H=>H[0]):h;var N;return Qn(D,m,x)},je=Wr("th,td,caption"),eu=Wr("th,td"),rc=m=>{return h=m.model.table.getSelectedCells(),T(h,Je.fromDom);var h},hl=(m,h)=>{m.on("BeforeGetContent",x=>{const E=D=>{x.preventDefault(),(N=>Ur(N[0]).map(H=>{const U=((ee,de)=>{const ke=ct=>Ta(ct.element,de),fe=Ni(ee),be=Ve(fe),X=Li(ee),we=Bs(be),Ee=((ct,gt)=>{const dt=ct.grid.columns;let Ct=ct.grid.rows,jt=dt,ho=0,un=0;const Do=[],Uo=[];return hn(ct.access,Io=>{if(Do.push(Io),gt(Io)){Uo.push(Io);const or=Io.row,Vs=or+Io.rowspan-1,Wi=Io.column,ra=Wi+Io.colspan-1;or<Ct?Ct=or:Vs>ho&&(ho=Vs),Wi<jt?jt=Wi:ra>un&&(un=ra)}}),((Io,or,Vs,Wi,ra,nl)=>({minRow:Io,minCol:or,maxRow:Vs,maxCol:Wi,allCells:ra,selectedCells:nl}))(Ct,jt,ho,un,Do,Uo)})(we,ke),Ie="th:not("+de+"),td:not("+de+")",Ge=_a(fe,"th,td",ct=>Ta(ct,Ie));ko(Ge,mr),((ct,gt,dt,Ct)=>{const jt=Oo(ct,Do=>Do.section!=="colgroup"),ho=gt.grid.columns,un=gt.grid.rows;for(let Do=0;Do<un;Do++){let Uo=!1;for(let Io=0;Io<ho;Io++)Do<dt.minRow||Do>dt.maxRow||Io<dt.minCol||Io>dt.maxCol||($t(gt,Do,Io).filter(Ct).isNone()?bn(jt,Uo,Do):Uo=!0)}})(be,we,Ee,ke);const et=((ct,gt,dt,Ct)=>{if(Ct.minCol===0&&gt.grid.columns===Ct.maxCol+1)return 0;const jt=Ke(gt,ct,dt),ho=Ce(jt,(Uo,Io)=>Uo+Io,0),un=Ce(jt.slice(Ct.minCol,Ct.maxCol+1),(Uo,Io)=>Uo+Io,0),Do=un/ho*dt.pixelWidth()-dt.pixelWidth();return dt.getCellDelta(Do)})(ee,Us(ee),X,Ee);return((ct,gt,dt,Ct)=>{hn(dt.columns,ho=>{(ho.column<gt.minCol||ho.column>gt.maxCol)&&mr(ho.element)});const jt=Oo(xr(ct,"tr"),ho=>ho.dom.childElementCount===0);ko(jt,mr),gt.minCol!==gt.maxCol&&gt.minRow!==gt.maxRow||ko(xr(ct,"th,td"),ho=>{Mo(ho,"rowspan"),Mo(ho,"colspan")}),Mo(ct,Ia),Mo(ct,"data-snooker-col-series"),Li(ct).adjustTableWidth(Ct)})(fe,Ee,we,et),fe})(H,ls);return Su(U),[U]}))(D).each(N=>{const H=x.format==="text"?((U,ee)=>{const de=U.getDoc(),ke=Gd(Je.fromDom(U.getBody())),fe=Je.fromTag("div",de);jo(fe,"data-mce-bogus","all"),Ua(fe,{position:"fixed",left:"-9999999px",top:"0",overflow:"hidden",opacity:"0"});const be=(we=>Fc(we)?we:Je.fromDom(_i(we).dom.body))(ke);ps(fe,ee),Cr(be,fe);const X=fe.dom.innerText;return mr(fe),X})(m,N):((U,ee)=>T(ee,de=>U.selection.serializer.serialize(de.dom,{})).join(""))(m,N);x.content=H})};if(x.selection===!0){const D=(N=>Oo(rc(N),H=>Ta(H,tr.selectedSelector)))(m);D.length>=1&&E(D)}}),m.on("BeforeSetContent",x=>{if(x.selection===!0&&x.paste===!0){const E=rc(m);an(E).each(D=>{Ur(D).each(N=>{const H=Oo((ee=>{const de=document.createElement("div");return de.innerHTML=ee,vs(Je.fromDom(de))})(x.content),ee=>to(ee)!=="meta"),U=Fn("table");if(Bo(m)&&H.length===1&&U(H[0])){x.preventDefault();const ee=Je.fromDom(m.getDoc()),de=Ml(ee),ke=((fe,be,X)=>({element:fe,clipboard:be,generators:X}))(D,H[0],de);h.pasteCells(N,ke).each(()=>{m.focus()})}})})}})},lf=(m,h)=>({element:m,offset:h}),Od=(m,h,x)=>m.property().isText(h)&&m.property().getText(h).trim().length===0||m.property().isComment(h)?x(h).bind(E=>Od(m,E,x).orThunk(()=>ve.some(E))):ve.none(),lb=(m,h)=>m.property().isText(h)?m.property().getText(h).length:m.property().children(h).length,zu=(m,h)=>{const x=Od(m,h,m.query().prevSibling).getOr(h);if(m.property().isText(x))return lf(x,lb(m,x));const E=m.property().children(x);return E.length>0?zu(m,E[E.length-1]):lf(x,lb(m,x))},Mr=zu,Dd=qt(),cb=(m,h)=>{Yo(m)||(E=>ku(E).bind(D=>{return N=D,H=["fixed","relative","empty"],ve.from(Uc.exec(N)).bind(U=>{const ee=Number(U[1]),de=U[2];return((ke,fe)=>Le(fe,be=>Le(co[be],X=>ke===X)))(de,H)?ve.some({value:ee,unit:de}):ve.none()});var N,H}))(m).each(E=>{const D=E.value/2;Jr(m,D,E.unit),Jr(h,D,E.unit)})},sc=m=>T(m,Ut(0)),Hp=(m,h,x,E,D)=>D(m.slice(0,h)).concat(E).concat(D(m.slice(x))),Vp=m=>(h,x,E,D)=>{if(m(E)){const N=Math.max(D,h[x]-Math.abs(E)),H=Math.abs(N-h[x]);return E>=0?H:-H}return E},bl=Vp(m=>m<0),Tu=Vp(Tt),ac=()=>{const m=(x,E,D,N)=>{const H=(100+D)/100,U=Math.max(N,(x[E]+D)/H);return T(x,(ee,de)=>(de===E?U:ee/H)-ee)},h=(x,E,D,N,H,U)=>U?m(x,E,N,H):((ee,de,ke,fe,be)=>{const X=bl(ee,de,fe,be);return Hp(ee,de,ke+1,[X,0],sc)})(x,E,D,N,H);return{resizeTable:(x,E)=>x(E),clampTableDelta:bl,calcLeftEdgeDeltas:h,calcMiddleDeltas:(x,E,D,N,H,U,ee)=>h(x,D,N,H,U,ee),calcRightEdgeDeltas:(x,E,D,N,H,U)=>{if(U)return m(x,D,N,H);{const ee=bl(x,D,N,H);return sc(x.slice(0,D)).concat([ee])}},calcRedestributedWidths:(x,E,D,N)=>{if(N){const H=(E+D)/E,U=T(x,ee=>ee/H);return{delta:100*H-100,newSizes:U}}return{delta:D,newSizes:x}}}},Ca=()=>{const m=(h,x,E,D,N)=>{const H=Tu(h,D>=0?E:x,D,N);return Hp(h,x,E+1,[H,-H],sc)};return{resizeTable:(h,x,E)=>{E&&h(x)},clampTableDelta:(h,x,E,D,N)=>{if(N){if(E>=0)return E;{const H=Ce(h,(U,ee)=>U+ee-D,0);return Math.max(-H,E)}}return bl(h,x,E,D)},calcLeftEdgeDeltas:m,calcMiddleDeltas:(h,x,E,D,N,H)=>m(h,E,D,N,H),calcRightEdgeDeltas:(h,x,E,D,N,H)=>{if(H)return sc(h);{const U=D/h.length;return T(h,Ut(U))}},calcRedestributedWidths:(h,x,E,D)=>({delta:0,newSizes:h})}},yl=m=>Us(m).grid,yr=Fn("th"),it=m=>Ot(m,h=>yr(h.element)),x1=(m,h)=>m&&h?"sectionCells":m?"section":"cells",cs=m=>{const h=m.section==="thead",x=fa($p(m.cells),"th");return m.section==="tfoot"?{type:"footer"}:h||x?{type:"header",subType:x1(h,x)}:{type:"body"}},$p=m=>{const h=Oo(m,x=>yr(x.element));return h.length===0?ve.some("td"):h.length===m.length?ve.some("th"):ve.none()},k=(m,h,x)=>gs(x(m.element,h),!0,m.isLocked),z=(m,h)=>m.section!==h?ua(m.element,m.cells,h,m.isNew):m,$=()=>({transformRow:z,transformCell:(m,h,x)=>{const E=x(m.element,h),D=to(E)!=="td"?(N=>{const H=si(N,"td");Ri(N,H);const U=vs(N);return ps(H,U),mr(N),H})(E):E;return gs(D,m.isNew,m.isLocked)}}),te=()=>({transformRow:z,transformCell:k}),xe=()=>({transformRow:(m,h)=>z(m,h==="thead"?"tbody":h),transformCell:k}),Ze=$,yt=te,_t=xe,Ao=()=>({transformRow:Lo,transformCell:k}),Yt=(m,h,x,E)=>{x===E?Mo(m,h):jo(m,h,x)},Qo=(m,h,x)=>{Co(wi(m,h)).fold(()=>Da(m,x),E=>Ri(E,x))},Pn=(m,h)=>{const x=[],E=[],D=be=>T(be,X=>{X.isNew&&x.push(X.element);const we=X.element;return ri(we),ko(X.cells,Ee=>{Ee.isNew&&E.push(Ee.element),Yt(Ee.element,"colspan",Ee.colspan,1),Yt(Ee.element,"rowspan",Ee.rowspan,1),Cr(we,Ee.element)}),we}),N=be=>Qe(be,X=>T(X.cells,we=>(Yt(we.element,"span",we.colspan,1),we.element))),H=(be,X)=>{const we=((Ie,Ge)=>{const et=Ci(Ie,Ge).getOrThunk(()=>{const ct=Je.fromTag(Ge,Qi(Ie).dom);return Ge==="thead"?Qo(Ie,"caption,colgroup",ct):Ge==="colgroup"?Qo(Ie,"caption",ct):Cr(Ie,ct),ct});return ri(et),et})(m,X),Ee=(X==="colgroup"?N:D)(be);ps(we,Ee)},U=(be,X)=>{be.length>0?H(be,X):(we=>{Ci(m,we).each(mr)})(X)},ee=[],de=[],ke=[],fe=[];return ko(h,be=>{switch(be.section){case"thead":ee.push(be);break;case"tbody":de.push(be);break;case"tfoot":ke.push(be);break;case"colgroup":fe.push(be)}}),U(fe,"colgroup"),U(ee,"thead"),U(de,"tbody"),U(ke,"tfoot"),{newRows:x,newCells:E}},Wn=(m,h)=>{if(m.length===0)return 0;const x=m[0];return tn(m,E=>!h(x.element,E.element)).getOr(m.length)},vl=(m,h)=>{const x=T(m,E=>T(E.cells,le));return T(m,(E,D)=>{const N=Qe(E.cells,(H,U)=>{if(x[D][U]===!1){const be=((X,we,Ee,Ie)=>{const Ge=((dt,Ct)=>dt[Ct])(X,we),et=Ge.section==="colgroup",ct=Wn(Ge.cells.slice(Ee),Ie),gt=et?1:Wn(((dt,Ct)=>T(dt,jt=>_s(jt,Ct)))(X.slice(we),Ee),Ie);return{colspan:ct,rowspan:gt}})(m,D,U,h);return((X,we,Ee,Ie)=>{for(let Ge=X;Ge<X+Ee;Ge++)for(let et=we;et<we+Ie;et++)x[Ge][et]=!0})(D,U,be.rowspan,be.colspan),[(ee=H.element,de=be.rowspan,ke=be.colspan,fe=H.isNew,{element:ee,rowspan:de,colspan:ke,isNew:fe})]}return[];var ee,de,ke,fe});return((H,U,ee,de)=>({element:H,cells:U,section:ee,isNew:de}))(E.element,N,E.section,E.isNew)})},Es=(m,h,x)=>{const E=[];ko(m.colgroups,D=>{const N=[];for(let H=0;H<m.grid.columns;H++){const U=vc(m,H).map(ee=>gs(ee.element,x,!1)).getOrThunk(()=>gs(h.colGap(),!0,!1));N.push(U)}E.push(ua(D.element,N,"colgroup",x))});for(let D=0;D<m.grid.rows;D++){const N=[];for(let ee=0;ee<m.grid.columns;ee++){const de=$t(m,D,ee).map(ke=>gs(ke.element,x,ke.isLocked)).getOrThunk(()=>gs(h.gap(),!0,!1));N.push(de)}const H=m.all[D],U=ua(H.element,N,H.section,x);E.push(U)}return E},Cc=m=>vl(m,Zn),Qc=(m,h)=>V(m.all,x=>zt(x.cells,E=>Zn(h,E.element))),Ou=(m,h,x)=>{const E=T(h.selection,N=>Kd(N).bind(H=>Qc(m,H)).filter(x)),D=ja(E);return Hc(D.length>0,D)},Ws=(m,h,x,E,D)=>(N,H,U,ee)=>{const de=Us(N),ke=ve.from(ee==null?void 0:ee.section).getOrThunk(Ao);return h(de,H).map(fe=>{const be=((Ee,Ie)=>Es(Ee,Ie,!1))(de,U),X=m(be,fe,Zn,D(U),ke),we=ll(X.grid);return{info:fe,grid:Cc(X.grid),cursor:X.cursor,lockedColumns:we}}).bind(fe=>{const be=Pn(N,fe.grid),X=ve.from(ee==null?void 0:ee.sizing).getOrThunk(()=>Li(N)),we=ve.from(ee==null?void 0:ee.resize).getOrThunk(Ca);return x(N,fe.grid,fe.info,{sizing:X,resize:we,section:ke}),E(N),Mo(N,Ia),fe.lockedColumns.length>0&&jo(N,Ia,fe.lockedColumns.join(",")),ve.some({cursor:fe.cursor,newRows:be.newRows,newCells:be.newCells})})},tu=(m,h)=>Ou(m,h,Tt).map(x=>({cells:x,generators:h.generators,clipboard:h.clipboard})),ba=(m,h)=>Ou(m,h,Tt),ou=(m,h)=>Ou(m,h,x=>!x.isLocked),nu=(m,h)=>Ot(h,x=>((E,D)=>Qc(E,D).exists(N=>!N.isLocked))(m,x)),cf=(m,h,x,E)=>{const D=In(m).rows;let N=!0;for(let H=0;H<D.length;H++)for(let U=0;U<Ii(D[0]);U++){const ee=D[H],de=_s(ee,U),ke=x(de.element,h);ke&&!N?Qs(ee,U,gs(E(),!0,de.isLocked)):ke&&(N=!1)}return m},Nm=m=>{const h=N=>N(m),x=Ut(m),E=()=>D,D={tag:!0,inner:m,fold:(N,H)=>H(m),isValue:Tt,isError:le,map:N=>yn.value(N(m)),mapError:E,bind:h,exists:h,forall:h,getOr:x,or:E,getOrThunk:x,orThunk:E,getOrDie:x,each:N=>{N(m)},toOptional:()=>ve.some(m)};return D},jp=m=>{const h=()=>x,x={tag:!1,inner:m,fold:(D,N)=>D(m),isValue:le,isError:Tt,map:h,mapError:D=>yn.error(D(m)),bind:h,exists:le,forall:Tt,getOr:Lo,or:Lo,getOrThunk:pt,orThunk:pt,getOrDie:(E=String(m),()=>{throw new Error(E)}),each:Bt,toOptional:ve.none};var E;return x},yn={value:Nm,error:jp,fromOption:(m,h)=>m.fold(()=>jp(h),Nm)},ds=(m,h)=>({rowDelta:0,colDelta:Ii(m[0])-Ii(h[0])}),Xa=(m,h)=>({rowDelta:m.length-h.length,colDelta:0}),Ll=(m,h,x,E)=>{const D=h.section==="colgroup"?x.col:x.cell;return It(m,N=>gs(D(),!0,E(N)))},qg=(m,h,x,E)=>{const D=m[m.length-1];return m.concat(It(h,()=>{const N=D.section==="colgroup"?x.colgroup:x.row,H=Dl(D,N,Lo),U=Ll(H.cells.length,H,x,ee=>$o(E,ee.toString()));return yc(H,U)}))},Gg=(m,h,x,E)=>T(m,D=>{const N=Ll(h,D,x,le);return ui(D,E,N)}),Rd=(m,h,x)=>{const E=h.colDelta<0?Gg:Lo,D=h.rowDelta<0?qg:Lo,N=ll(m),H=Ii(m[0]),U=Le(N,ke=>ke===H-1),ee=E(m,Math.abs(h.colDelta),x,U?H-1:H),de=ll(ee);return D(ee,Math.abs(h.rowDelta),x,Yr(de,Tt))},Mm=(m,h,x,E)=>{const D=rt(E,_s(m[h],x).element),N=m[h];return m.length>1&&Ii(N)>1&&(x>0&&D(Ba(N,x-1))||x<N.cells.length-1&&D(Ba(N,x+1))||h>0&&D(Ba(m[h-1],x))||h<m.length-1&&D(Ba(m[h+1],x)))},Up=(m,h,x)=>Oo(x,E=>E>=m.column&&E<=Ii(h[0])+m.column),k1=(m,h,x,E,D)=>{((de,ke,fe,be)=>{ke>0&&ke<de[0].cells.length&&ko(de,X=>{const we=X.cells[ke-1];let Ee=0;const Ie=be();for(;X.cells.length>ke+Ee&&fe(we.element,X.cells[ke+Ee].element);)Qs(X,ke+Ee,gs(Ie,!0,X.cells[ke+Ee].isLocked)),Ee++})})(h,m,D,E.cell);const N=Xa(x,h),H=Rd(x,N,E),U=Xa(h,H),ee=Rd(h,U,E);return T(ee,(de,ke)=>ui(de,m,H[ke].cells))},_1=(m,h,x,E,D)=>{((et,ct,gt,dt)=>{const Ct=In(et).rows;if(ct>0&&ct<Ct.length){const jt=((ho,un)=>Ce(ho,(Do,Uo)=>Le(Do,Io=>un(Io.element,Uo.element))?Do:Do.concat([Uo]),[]))(Ct[ct-1].cells,gt);ko(jt,ho=>{let un=ve.none();for(let Do=ct;Do<Ct.length;Do++)for(let Uo=0;Uo<Ii(Ct[0]);Uo++){const Io=Ct[Do],or=_s(Io,Uo);gt(or.element,ho.element)&&(un.isNone()&&(un=ve.some(dt())),un.each(Vs=>{Qs(Io,Uo,gs(Vs,!0,or.isLocked))}))}})}})(h,m,D,E.cell);const N=ll(h),H=ds(h,x),U={...H,colDelta:H.colDelta-N.length},ee=Rd(h,U,E),{cols:de,rows:ke}=In(ee),fe=ll(ee),be=ds(x,h),X={...be,colDelta:be.colDelta+fe.length},we=(Ie=E,Ge=fe,T(x,et=>Ce(Ge,(ct,gt)=>{const dt=Ll(1,et,Ie,Tt)[0];return Ei(ct,gt,dt)},et))),Ee=Rd(we,X,E);var Ie,Ge;return[...de,...ke.slice(0,m),...Ee,...ke.slice(m,ke.length)]},Yv=(m,h,x,E,D)=>{const{rows:N,cols:H}=In(m),U=N.slice(0,h),ee=N.slice(h);return[...H,...U,((de,ke,fe,be)=>Dl(de,X=>be(X,fe),ke))(N[x],(de,ke)=>h>0&&h<N.length&&E(Ba(N[h-1],ke),Ba(N[h],ke))?_s(N[h],ke):gs(D(de.element,E),!0,de.isLocked),E,D),...ee]},db=(m,h,x,E,D)=>T(m,N=>{const H=h>0&&h<Ii(N)&&E(Ba(N,h-1),Ba(N,h)),U=((ee,de,ke,fe,be,X,we)=>{if(ke!=="colgroup"&&fe)return _s(ee,de);{const Ee=_s(ee,be);return gs(we(Ee.element,X),!0,!1)}})(N,h,N.section,H,x,E,D);return Ei(N,h,U)}),w1=(m,h,x,E)=>((D,N,H,U)=>Ba(D[N],H)!==void 0&&N>0&&U(Ba(D[N-1],H),Ba(D[N],H)))(m,h,x,E)||((D,N,H)=>N>0&&H(Ba(D,N-1),Ba(D,N)))(m[h],x,E),Kg=(m,h,x,E)=>{const D=N=>(H=>H==="row"?(U=>li(U,"rowspan")>1)(h):Yo(h))(N)?`${N}group`:N;return m?yr(h)?D(x):null:E&&yr(h)?D(x==="row"?"col":"row"):null},Yg=(m,h,x)=>gs(x(m.element,h),!0,m.isLocked),Xg=(m,h,x,E,D,N,H)=>T(m,(U,ee)=>(de=>{const ke=de.cells,fe=T(ke,(be,X)=>{if((we=>Le(h,Ee=>x(we.element,Ee.element)))(be)){const we=H(be,ee,X)?D(be,x,E):be;return N(we,ee,X).each(Ee=>{var Ie,Ge;Ie=we.element,Ge={scope:ve.from(Ee)},hn(Ge,(et,ct)=>{et.fold(()=>{Mo(Ie,ct)},gt=>{Rr(Ie.dom,ct,gt)})})}),we}return be});return ua(de.element,fe,de.section,de.isNew)})(U)),Bm=(m,h,x)=>Qe(m,(E,D)=>w1(m,D,h,x)?[]:[_s(E,h)]),C1=(m,h,x,E,D)=>{const N=In(m).rows,H=Qe(h,ke=>Bm(N,ke,E)),U=T(N,ke=>it(ke.cells)),ee=((ke,fe)=>Ot(fe,Lo)&&it(ke)?Tt:(be,X,we)=>!(to(be.element)==="th"&&fe[X]))(H,U);return Xg(m,H,E,D,Yg,((ke,fe)=>(be,X)=>ve.some(Kg(ke,be.element,"row",fe[X])))(x,U),ee)},ic=(m,h,x,E)=>{const D=In(m).rows,N=T(h,H=>_s(D[H.row],H.column));return Xg(m,N,x,E,Yg,ve.none,Tt)},Nd=m=>{if(!rr(m))throw new Error("cases must be an array");if(m.length===0)throw new Error("there must be at least one case");const h=[],x={};return ko(m,(E,D)=>{const N=la(E);if(N.length!==1)throw new Error("one and only one name per case");const H=N[0],U=E[H];if(x[H]!==void 0)throw new Error("duplicate key detected:"+H);if(H==="cata")throw new Error("cannot have a case named cata (sorry)");if(!rr(U))throw new Error("case arguments must be an array");h.push(H),x[H]=(...ee)=>{const de=ee.length;if(de!==U.length)throw new Error("Wrong number of arguments to case "+H+". Expected "+U.length+" ("+U+"), got "+de);return{fold:(...ke)=>{if(ke.length!==m.length)throw new Error("Wrong number of arguments to fold. Expected "+m.length+", got "+ke.length);return ke[D].apply(null,ee)},match:ke=>{const fe=la(ke);if(h.length!==fe.length)throw new Error("Wrong number of arguments to match. Expected: "+h.join(",")+`
Actual: `+fe.join(","));if(!Ot(h,be=>Ro(fe,be)))throw new Error("Not all branches were specified when using match. Specified: "+fe.join(", ")+`
Required: `+h.join(", "));return ke[H].apply(null,ee)},log:ke=>{console.log(ke,{constructors:h,constructor:H,params:ee})}}}}),x},Kf={...Nd([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},ub=(m,h,x)=>{const E=((D,N)=>gu(D)?((H,U)=>{const ee=Xd(H);return T(ee,(de,ke)=>({element:de.element,width:U[ke],colspan:de.colspan}))})(D,N):((H,U)=>{const ee=sn(H);return T(ee,de=>{const ke=((fe,be,X)=>{let we=0;for(let Ee=fe;Ee<be;Ee++)we+=X[Ee]!==void 0?X[Ee]:0;return we})(de.column,de.column+de.colspan,U);return{element:de.element,width:ke,colspan:de.colspan}})})(D,N))(m,h);ko(E,D=>{x.setElementWidth(D.element,D.width)})},Zp=(m,h,x,E,D)=>{const N=Us(m),H=D.getCellDelta(h),U=D.getWidths(N,D),ee=x===N.grid.columns-1,de=E.clampTableDelta(U,x,H,D.minCellWidth(),ee),ke=((be,X,we,Ee,Ie)=>{const Ge=be.slice(0),et=((gt,dt)=>gt.length===0?Kf.none():gt.length===1?Kf.only(0):dt===0?Kf.left(0,1):dt===gt.length-1?Kf.right(dt-1,dt):dt>0&&dt<gt.length-1?Kf.middle(dt-1,dt,dt+1):Kf.none())(be,X),ct=Ut(T(Ge,Ut(0)));return et.fold(ct,gt=>Ee.singleColumnWidth(Ge[gt],we),(gt,dt)=>Ie.calcLeftEdgeDeltas(Ge,gt,dt,we,Ee.minCellWidth(),Ee.isRelative),(gt,dt,Ct)=>Ie.calcMiddleDeltas(Ge,gt,dt,Ct,we,Ee.minCellWidth(),Ee.isRelative),(gt,dt)=>Ie.calcRightEdgeDeltas(Ge,gt,dt,we,Ee.minCellWidth(),Ee.isRelative))})(U,x,de,D,E),fe=T(ke,(be,X)=>be+U[X]);ub(N,fe,D),E.resizeTable(D.adjustTableWidth,de,ee)},S1=(m,h,x)=>{const E=Us(m),D=((ee,de)=>oa(ee,de,_u,ke=>ke.getOrThunk(Vc)))(E,m),N=T(D,(ee,de)=>x===de?Math.max(h+ee,Vc()):ee),H=((ee,de)=>T(ee.all,(ke,fe)=>({element:ke.element,height:de[fe]})))(E,N);ko(H,ee=>{Sd(ee.element,ee.height)}),ko(sn(E),ee=>{(de=>{hr(de,"height")})(ee.element)});const U=_r(N,(ee,de)=>ee+de,0);Sd(m,U)},Im=m=>Ce(m,(h,x)=>Le(h,E=>E.column===x.column)?h:h.concat([x]),[]).sort((h,x)=>h.column-x.column),Jg=Fn("col"),fb=Fn("colgroup"),Ow=m=>to(m)==="tr"||fb(m),E1=m=>({element:m,colspan:Si(m,"colspan",1),rowspan:Si(m,"rowspan",1)}),Sc=m=>io(m,"scope").map(h=>h.substr(0,3)),us=(m,h=E1)=>{const x=D=>{if(Ow(D))return fb((N={element:D}).element)?m.colgroup(N):m.row(N);{const H=D,U=(ee=>Jg(ee.element)?m.col(ee):m.cell(ee))(h(H));return E=ve.some({item:H,replacement:U}),U}var N};let E=ve.none();return{getOrInit:(D,N)=>E.fold(()=>x(D),H=>N(D,H.item)?H.replacement:x(D))}},dn=m=>h=>{const x=[],E=D=>{const N=m==="td"?{scope:null}:{},H=h.replace(D,m,N);return x.push({item:D,sub:H}),H};return{replaceOrInit:(D,N)=>{if(Ow(D)||Jg(D))return D;{const H=D;return((U,ee)=>zt(x,de=>ee(de.item,U)))(H,N).fold(()=>E(H),U=>N(D,U.item)?U.sub:E(H))}}}},Fl=m=>({unmerge:h=>{const x=Sc(h);return x.each(E=>jo(h,"scope",E)),()=>{const E=m.cell({element:h,colspan:1,rowspan:1});return hr(E,"width"),hr(h,"width"),x.each(D=>jo(E,"scope",D)),E}},merge:h=>(hr(h[0],"width"),(()=>{const x=ja(T(h,Sc));if(x.length===0)return ve.none();{const E=x[0],D=["row","col"];return Le(x,N=>N!==E&&Ro(D,N))?ve.none():ve.from(E)}})().fold(()=>Mo(h[0],"scope"),x=>jo(h[0],"scope",x+"group")),Ut(h[0]))}),Pm=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Qg=qt(),Br=m=>((h,x)=>{const E=h.property().name(x);return Ro(Pm,E)})(Qg,m),A1=m=>((h,x)=>{const E=h.property().name(x);return Ro(["ol","ul"],E)})(Qg,m),mb=m=>{const h=Fn("br"),x=D=>is(D).bind(N=>{const H=Oa(N).map(U=>!!Br(U)||!!((ee,de)=>Ro(["br","img","hr","input"],ee.property().name(de)))(Qg,U)&&to(U)!=="img").getOr(!1);return ca(N).map(U=>{return H===!0||to(ee=U)==="li"||Mi(ee,A1).isSome()||h(N)||Br(U)&&!Zn(D,U)?[]:[Je.fromTag("br")];var ee})}).getOr([]),E=(()=>{const D=Qe(m,N=>{const H=vs(N);return(U=>Ot(U,ee=>h(ee)||Mn(ee)&&Nl(ee).trim().length===0))(H)?[]:H.concat(x(N))});return D.length===0?[Je.fromTag("br")]:D})();ri(m[0]),ps(m[0],E)},Xv=m=>_c(m,!0),qr=m=>{On(m).length===0&&mr(m)},pb=(m,h)=>({grid:m,cursor:h}),Hl=(m,h,x)=>{const E=((D,N,H)=>{var U,ee;const de=In(D).rows;return ve.from((ee=(U=de[N])===null||U===void 0?void 0:U.cells[H])===null||ee===void 0?void 0:ee.element).filter(Xv).orThunk(()=>(ke=>V(ke,fe=>V(fe.cells,be=>{const X=be.element;return Hc(Xv(X),X)})))(de))})(m,h,x);return pb(m,E)},ru=m=>Ce(m,(h,x)=>Le(h,E=>E.row===x.row)?h:h.concat([x]),[]).sort((h,x)=>h.row-x.row),Ec=(m,h)=>(x,E,D,N,H)=>{const U=ru(E),ee=T(U,ke=>ke.row),de=((ke,fe,be,X,we,Ee,Ie)=>{const{cols:Ge,rows:et}=In(ke),ct=et[fe[0]],gt=Qe(fe,Do=>((Uo,Io,or)=>{const Vs=Uo[Io];return Qe(Vs.cells,(Wi,ra)=>w1(Uo,Io,ra,or)?[]:[Wi])})(et,Do,we)),dt=T(ct.cells,(Do,Uo)=>it(Bm(et,Uo,we))),Ct=[...et];ko(fe,Do=>{Ct[Do]=Ie.transformRow(et[Do],be)});const jt=[...Ge,...Ct],ho=((Do,Uo)=>Ot(Uo,Lo)&&it(Do.cells)?Tt:(Io,or,Vs)=>!(to(Io.element)==="th"&&Uo[Vs]))(ct,dt),un=((Do,Uo)=>(Io,or,Vs)=>ve.some(Kg(Do,Io.element,"col",Uo[Vs])))(X,dt);return Xg(jt,gt,we,Ee,Ie.transformCell,un,ho)})(x,ee,m,h,D,N.replaceOrInit,H);return Hl(de,E[0].row,E[0].column)},Jv=Ec("thead",!0),Ft=Ec("tbody",!1),Dw=Ec("tfoot",!1),Lm=(m,h,x)=>{const E=((N,H)=>ce(N,()=>H))(m,x.section),D=Bs(E);return Es(D,h,!0)},Fm=(m,h,x,E)=>((D,N,H,U)=>{const ee=Bs(N),de=U.getWidths(ee,U);ub(ee,de,U)})(0,h,0,E.sizing),Ac=(m,h,x,E)=>((D,N,H,U,ee)=>{const de=Bs(N),ke=U.getWidths(de,U),fe=U.pixelWidth(),{newSizes:be,delta:X}=ee.calcRedestributedWidths(ke,fe,H.pixelDelta,U.isRelative);ub(de,be,U),U.adjustTableWidth(X)})(0,h,x,E.sizing,E.resize),eh=(m,h)=>Le(h,x=>x.column===0&&x.isLocked),Hm=(m,h)=>Le(h,x=>x.column+x.colspan>=m.grid.columns&&x.isLocked),Yf=(m,h)=>{const x=Zo(m),E=Im(h);return Ce(E,(D,N)=>D+x[N.column].map(pu).getOr(0),0)},z1=m=>(h,x)=>ba(h,x).filter(E=>!(m?eh:Hm)(h,E)).map(E=>({details:E,pixelDelta:Yf(h,E)})),Vm=m=>(h,x)=>tu(h,x).filter(E=>!(m?eh:Hm)(h,E.cells)),Du=dn("th"),$m=dn("td"),Qv=Ws((m,h,x,E)=>{const D=h[0].row,N=ru(h),H=_r(N,(U,ee)=>({grid:Yv(U.grid,D,ee.row+U.delta,x,E.getOrInit),delta:U.delta+1}),{grid:m,delta:0}).grid;return Hl(H,D,h[0].column)},ba,Bt,Bt,us),gb=Ws((m,h,x,E)=>{const D=ru(h),N=D[D.length-1],H=N.row+N.rowspan,U=_r(D,(ee,de)=>Yv(ee,H,de.row,x,E.getOrInit),m);return Hl(U,H,h[0].column)},ba,Bt,Bt,us),hb=Ws((m,h,x,E)=>{const D=h.details,N=Im(D),H=N[0].column,U=_r(N,(ee,de)=>({grid:db(ee.grid,H,de.column+ee.delta,x,E.getOrInit),delta:ee.delta+1}),{grid:m,delta:0}).grid;return Hl(U,D[0].row,H)},z1(!0),Ac,Bt,us),T1=Ws((m,h,x,E)=>{const D=h.details,N=D[D.length-1],H=N.column+N.colspan,U=Im(D),ee=_r(U,(de,ke)=>db(de,H,ke.column,x,E.getOrInit),m);return Hl(ee,D[0].row,H)},z1(!1),Ac,Bt,us),bb=Ws((m,h,x,E)=>{const D=Im(h.details),N=((U,ee)=>Qe(U,de=>{const ke=de.cells,fe=_r(ee,(be,X)=>X>=0&&X<be.length?be.slice(0,X).concat(be.slice(X+1)):be,ke);return fe.length>0?[ua(de.element,fe,de.section,de.isNew)]:[]}))(m,T(D,U=>U.column)),H=N.length>0?N[0].cells.length-1:0;return Hl(N,D[0].row,Math.min(D[0].column,H))},(m,h)=>ou(m,h).map(x=>({details:x,pixelDelta:-Yf(m,x)})),Ac,qr,us),Rw=Ws((m,h,x,E)=>{const D=ru(h),N=((U,ee,de)=>{const{rows:ke,cols:fe}=In(U);return[...fe,...ke.slice(0,ee),...ke.slice(de+1)]})(m,D[0].row,D[D.length-1].row),H=Math.max(In(N).rows.length-1,0);return Hl(N,Math.min(h[0].row,H),h[0].column)},ba,Bt,qr,us),ex=Ws((m,h,x,E)=>{const D=Im(h),N=T(D,U=>U.column),H=C1(m,N,!0,x,E.replaceOrInit);return Hl(H,h[0].row,h[0].column)},ou,Bt,Bt,Du),Nw=Ws((m,h,x,E)=>{const D=Im(h),N=T(D,U=>U.column),H=C1(m,N,!1,x,E.replaceOrInit);return Hl(H,h[0].row,h[0].column)},ou,Bt,Bt,$m),tx=Ws(Jv,ba,Bt,Bt,Du),jm=Ws(Ft,ba,Bt,Bt,$m),th=Ws(Dw,ba,Bt,Bt,$m),O1=Ws((m,h,x,E)=>{const D=ic(m,h,x,E.replaceOrInit);return Hl(D,h[0].row,h[0].column)},ou,Bt,Bt,Du),df=Ws((m,h,x,E)=>{const D=ic(m,h,x,E.replaceOrInit);return Hl(D,h[0].row,h[0].column)},ou,Bt,Bt,$m),Um=Ws((m,h,x,E)=>{const D=h.cells;mb(D);const N=((H,U,ee,de)=>{const ke=In(H).rows;if(ke.length===0)return H;for(let fe=U.startRow;fe<=U.finishRow;fe++)for(let be=U.startCol;be<=U.finishCol;be++){const X=ke[fe],we=_s(X,be).isLocked;Qs(X,be,gs(de(),!1,we))}return H})(m,h.bounds,0,E.merge(D));return pb(N,ve.from(D[0]))},(m,h)=>((x,E)=>E.mergable)(0,h).filter(x=>nu(m,x.cells)),Fm,Bt,Fl),ox=Ws((m,h,x,E)=>{const D=_r(h,(N,H)=>cf(N,H,x,E.unmerge(H)),m);return pb(D,ve.from(h[0]))},(m,h)=>((x,E)=>E.unmergable)(0,h).filter(x=>nu(m,x)),Fm,Bt,Fl),nx=Ws((m,h,x,E)=>{const D=((U,ee)=>{const de=Us(U);return Es(de,ee,!0)})(h.clipboard,h.generators);var N,H;return((U,ee,de,ke,fe)=>{const be=ll(ee),X=((Ge,et,ct)=>{const gt=Ii(et[0]),dt=In(et).cols.length+Ge.row,Ct=It(gt-Ge.column,jt=>jt+Ge.column);return{row:dt,column:zt(Ct,jt=>Ot(ct,ho=>ho!==jt)).getOr(gt-1)}})(U,ee,be),we=In(de).rows,Ee=Up(X,we,be);return((Ge,et,ct)=>{if(Ge.row>=et.length||Ge.column>Ii(et[0]))return yn.error("invalid start address out of table bounds, row: "+Ge.row+", column: "+Ge.column);const gt=et.slice(Ge.row),dt=gt[0].cells.slice(Ge.column),Ct=Ii(ct[0]),jt=ct.length;return yn.value({rowDelta:gt.length-jt,colDelta:dt.length-Ct})})(X,ee,we).map(Ge=>{const et={...Ge,colDelta:Ge.colDelta-Ee.length},ct=Rd(ee,et,ke),gt=ll(ct),dt=Up(X,we,gt);return((Ct,jt,ho,un,Do,Uo)=>{const Io=Ct.row,or=Ct.column,Vs=Io+ho.length,Wi=or+Ii(ho[0])+Uo.length,ra=Yr(Uo,Tt);for(let nl=Io;nl<Vs;nl++){let ap=0;for(let $l=or;$l<Wi;$l++){if(ra[$l]){ap++;continue}Mm(jt,nl,$l,Do)&&cf(jt,Ba(jt[nl],$l),Do,un.cell);const ip=$l-or-ap,Ub=_s(ho[nl-Io],ip),hh=Ub.element,Zb=un.replace(hh);Qs(jt[nl],$l,gs(Zb,!0,Ub.isLocked))}}return jt})(X,ct,we,ke,fe,dt)})})((N=h.row,H=h.column,{row:N,column:H}),m,D,h.generators,x).fold(()=>pb(m,ve.some(h.element)),U=>Hl(U,h.row,h.column))},(m,h)=>Kd(h.element).bind(x=>Qc(m,x).map(E=>({...E,generators:h.generators,clipboard:h.clipboard}))),Fm,Bt,us),D1=Ws((m,h,x,E)=>{const D=In(m).rows,N=h.cells[0].column,H=D[h.cells[0].row],U=Lm(h.clipboard,h.generators,H),ee=k1(N,m,U,h.generators,x);return Hl(ee,h.cells[0].row,h.cells[0].column)},Vm(!0),Bt,Bt,us),yb=Ws((m,h,x,E)=>{const D=In(m).rows,N=h.cells[h.cells.length-1].column+h.cells[h.cells.length-1].colspan,H=D[h.cells[0].row],U=Lm(h.clipboard,h.generators,H),ee=k1(N,m,U,h.generators,x);return Hl(ee,h.cells[0].row,N)},Vm(!1),Bt,Bt,us),Mw=Ws((m,h,x,E)=>{const D=In(m).rows,N=h.cells[0].row,H=D[N],U=Lm(h.clipboard,h.generators,H),ee=_1(N,m,U,h.generators,x);return Hl(ee,h.cells[0].row,h.cells[0].column)},tu,Bt,Bt,us),Bw=Ws((m,h,x,E)=>{const D=In(m).rows,N=h.cells[h.cells.length-1].row+h.cells[h.cells.length-1].rowspan,H=D[h.cells[0].row],U=Lm(h.clipboard,h.generators,H),ee=_1(N,m,U,h.generators,x);return Hl(ee,N,h.cells[0].column)},tu,Bt,Bt,us),R1=(m,h)=>{const x=Us(m);return ba(x,h).bind(E=>{const D=E[E.length-1],N=E[0].column,H=D.column+D.colspan,U=xt(T(x.all,ee=>Oo(ee.cells,de=>de.column>=N&&de.column<H)));return $p(U)}).getOr("")},Ir=(m,h)=>{const x=Us(m);return ba(x,h).bind($p).getOr("")},rx=(m,h)=>{const x=Us(m);return ba(x,h).bind(E=>{const D=E[E.length-1],N=E[0].row,H=D.row+D.rowspan;return(U=>{const ee=T(U,fe=>cs(fe).type),de=Ro(ee,"header"),ke=Ro(ee,"footer");if(de||ke){const fe=Ro(ee,"body");return!de||fe||ke?de||fe||!ke?ve.none():ve.some("footer"):ve.some("header")}return ve.some("body")})(x.all.slice(N,H))}).getOr("")},Wp=(m,h)=>m.dispatch("NewRow",{node:h}),vb=(m,h)=>m.dispatch("NewCell",{node:h}),bs=(m,h,x)=>{m.dispatch("TableModified",{...x,table:h})},Vi={structure:!1,style:!0},Ja={structure:!0,style:!1},xb={structure:!0,style:!0},N1=(m,h)=>j(m)?Ka(h):ue(m)?wu(h):Li(h),qp=(m,h,x)=>{const E=ke=>to(Wf(ke))==="table",D=Zf(m),N=C(m)?Bt:cb,H=ke=>{switch(Rm(m)){case"section":return Ze();case"sectionCells":return yt();case"cells":return _t();default:return((fe,be)=>{var X;switch((X=Us(fe),V(X.all,we=>{const Ee=cs(we);return Ee.type==="header"?ve.from(Ee.subType):ve.none()})).getOr(be)){case"section":return $();case"sectionCells":return te();case"cells":return xe()}})(ke,"section")}},U=(ke,fe,be,X)=>(we,Ee,Ie=!1)=>{Su(we);const Ge=Je.fromDom(m.getDoc()),et=na(be,Ge,D),ct={sizing:N1(m,we),resize:C(m)?ac():Ca(),section:H(we)};return fe(we)?ke(we,Ee,et,ct).bind(gt=>{h.refresh(we.dom),ko(gt.newRows,Ct=>{Wp(m,Ct.dom)}),ko(gt.newCells,Ct=>{vb(m,Ct.dom)});const dt=((Ct,jt)=>jt.cursor.fold(()=>{const ho=On(Ct);return an(ho).filter(es).map(un=>{x.clearSelectedCells(Ct.dom);const Do=m.dom.createRng();return Do.selectNode(un.dom),m.selection.setRng(Do),jo(un,"data-mce-selected","1"),Do})},ho=>{const un=Mr(Dd,ho),Do=m.dom.createRng();return Do.setStart(un.element.dom,un.offset),Do.setEnd(un.element.dom,un.offset),m.selection.setRng(Do),x.clearSelectedCells(Ct.dom),ve.some(Do)}))(we,gt);return es(we)&&(Su(we),Ie||bs(m,we.dom,X)),dt.map(Ct=>({rng:Ct,effect:X}))}):ve.none()},ee=U(Rw,ke=>!E(m)||yl(ke).rows>1,Bt,Ja),de=U(bb,ke=>!E(m)||yl(ke).columns>1,Bt,Ja);return{deleteRow:ee,deleteColumn:de,insertRowsBefore:U(Qv,Tt,Bt,Ja),insertRowsAfter:U(gb,Tt,Bt,Ja),insertColumnsBefore:U(hb,Tt,N,Ja),insertColumnsAfter:U(T1,Tt,N,Ja),mergeCells:U(Um,Tt,Bt,Ja),unmergeCells:U(ox,Tt,Bt,Ja),pasteColsBefore:U(D1,Tt,Bt,Ja),pasteColsAfter:U(yb,Tt,Bt,Ja),pasteRowsBefore:U(Mw,Tt,Bt,Ja),pasteRowsAfter:U(Bw,Tt,Bt,Ja),pasteCells:U(nx,Tt,Bt,xb),makeCellsHeader:U(O1,Tt,Bt,Ja),unmakeCellsHeader:U(df,Tt,Bt,Ja),makeColumnsHeader:U(ex,Tt,Bt,Ja),unmakeColumnsHeader:U(Nw,Tt,Bt,Ja),makeRowsHeader:U(tx,Tt,Bt,Ja),makeRowsBody:U(jm,Tt,Bt,Ja),makeRowsFooter:U(th,Tt,Bt,Ja),getTableRowType:rx,getTableCellType:Ir,getTableColType:R1}},kb=(m,h,x)=>{const E=Si(m,h,1);x===1||E<=1?Mo(m,h):jo(m,h,Math.min(x,E))},Xf=(m,h)=>x=>{const E=x.column+x.colspan-1,D=x.column;return E>=m&&D<h},Vl=Nd([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),sx=(m,h,x)=>{const E=x.substring(0,x.length-m.length),D=parseFloat(E);return E===D.toString()?h(D):Vl.invalid(x)},Ru={...Vl,from:m=>os(m,"%")?sx("%",Vl.percent,m):os(m,"px")?sx("px",Vl.pixels,m):Vl.invalid(m)},Pr=(m,h,x)=>{const E=Ru.from(x),D=Ot(m,N=>N==="0px")?((N,H)=>{const U=N.fold(()=>Ut(""),ee=>Ut(ee/H+"px"),()=>Ut(100/H+"%"));return It(H,U)})(E,m.length):((N,H,U)=>N.fold(()=>H,ee=>((de,ke,fe)=>{const be=fe/ke;return T(de,X=>Ru.from(X).fold(()=>X,we=>we*be+"px",we=>we/100*fe+"px"))})(H,U,ee),ee=>((de,ke)=>T(de,fe=>Ru.from(fe).fold(()=>fe,be=>be/ke*100+"%",be=>be+"%")))(H,U)))(E,m,h);return ax(D)},qn=(m,h)=>m.length===0?h:_r(m,(x,E)=>Ru.from(E).fold(Ut(0),Lo,Lo)+x,0),oh=(m,h)=>Ru.from(m).fold(Ut(m),x=>x+h+"px",x=>x+h+"%"),ax=m=>{if(m.length===0)return m;const h=_r(m,(E,D)=>{const N=Ru.from(D).fold(()=>({value:D,remainder:0}),H=>(U=>{const ee=Math.floor(U);return{value:ee+"px",remainder:U-ee}})(H),H=>({value:H+"%",remainder:0}));return{output:[N.value].concat(E.output),remainder:E.remainder+N.remainder}},{output:[],remainder:0}),x=h.output;return x.slice(0,x.length-1).concat([oh(x[x.length-1],Math.round(h.remainder))])},Zm=Ru.from,ya=(m,h,x)=>{const E=Us(m),D=E.all,N=sn(E),H=Xd(E);h.each(U=>{const ee=Zm(U).fold(Ut("px"),Ut("px"),Ut("%")),de=di(m),ke=((be,X)=>ta(be,X,ea,qc))(E,m),fe=Pr(ke,de,U);gu(E)?((be,X,we)=>{ko(X,(Ee,Ie)=>{const Ge=qn([be[Ie]],il());Gt(Ee.element,"width",Ge+we)})})(fe,H,ee):((be,X,we)=>{ko(X,Ee=>{const Ie=be.slice(Ee.column,Ee.colspan+Ee.column),Ge=qn(Ie,il());Gt(Ee.element,"width",Ge+we)})})(fe,N,ee),Gt(m,"width",U)}),x.each(U=>{const ee=cl(m),de=((ke,fe)=>oa(ke,fe,ef,qc))(E,m);((ke,fe,be)=>{ko(be,X=>{hr(X.element,"height")}),ko(fe,(X,we)=>{Gt(X.element,"height",ke[we])})})(Pr(de,ee,U),D,N),Gt(m,"height",U)})},Nu=m=>ku(m).exists(h=>wd.test(h)),ed=m=>ku(m).exists(h=>qa.test(h)),_b=m=>ku(m).isNone(),Wm=m=>{Mo(m,"width"),Mo(m,"height")},qm=m=>{const h=La(m);ya(m,ve.some(h),ve.none()),Wm(m)},Jf=m=>{const h=(x=>di(x)+"px")(m);ya(m,ve.some(h),ve.none()),Wm(m)},nh=m=>{hr(m,"width");const h=Tl(m),x=h.length>0?h:On(m);ko(x,E=>{hr(E,"width"),Wm(E)}),Wm(m)},M1={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},ix=(m,h,x,E)=>It(m,D=>((N,H,U,ee)=>{const de=Je.fromTag("tr");for(let ke=0;ke<N;ke++){const fe=Je.fromTag(ee<H||ke<U?"th":"td");ke<U&&jo(fe,"scope","row"),ee<H&&jo(fe,"scope","col"),Cr(fe,Je.fromTag("br")),Cr(de,fe)}return de})(h,x,E,D)),$i=(m,h)=>{m.selection.select(h.dom,!0),m.selection.collapse(!0)},Gm=(m,h,x,E,D)=>{const N=(U=>{const ee=U.options,de=ee.get("table_default_styles");return ee.isSet("table_default_styles")?de:((ke,fe)=>ge(ke)||!no(ke)?fe:ue(ke)?{...fe,width:Bl(ke)}:{...fe,width:Ad})(U,de)})(m),H={styles:N,attributes:bo(m),colGroups:Kt(m)};return m.undoManager.ignore(()=>{const U=((de,ke,fe,be,X,we=M1)=>{const Ee=Je.fromTag("table"),Ie=X!=="cells";Ua(Ee,we.styles),Ds(Ee,we.attributes),we.colGroups&&Cr(Ee,(gt=>{const dt=Je.fromTag("colgroup");return It(gt,()=>Cr(dt,Je.fromTag("col"))),dt})(ke));const Ge=Math.min(de,fe);if(Ie&&fe>0){const gt=Je.fromTag("thead");Cr(Ee,gt);const dt=ix(fe,ke,X==="sectionCells"?Ge:0,be);ps(gt,dt)}const et=Je.fromTag("tbody");Cr(Ee,et);const ct=ix(Ie?de-Ge:de,ke,Ie?0:fe,be);return ps(et,ct),Ee})(x,h,D,E,Rm(m),H);jo(U,"data-mce-id","__mce");const ee=(de=>{const ke=Je.fromTag("div"),fe=Je.fromDom(de.dom.cloneNode(!0));return Cr(ke,fe),(be=>be.dom.innerHTML)(ke)})(U);m.insertContent(ee),m.addVisual()}),ts(Wf(m),'table[data-mce-id="__mce"]').map(U=>(ue(m)?Jf(U):ge(m)?nh(U):(j(m)||(ee=>fr(ee)&&ee.indexOf("%")!==-1)(N.width))&&qm(U),Su(U),Mo(U,"data-mce-id"),((ee,de)=>{ko(Ma(de,"tr"),ke=>{Wp(ee,ke.dom),ko(Ma(ke,"th,td"),fe=>{vb(ee,fe.dom)})})})(m,U),((ee,de)=>{ts(de,"td,th").each(rt($i,ee))})(m,U),U.dom)).getOrNull()};var wb=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const lx="x-tinymce/dom-table-",B1=lx+"rows",Cb=lx+"columns",zc=m=>{const h=wb.FakeClipboardItem(m);wb.write([h])},zi=m=>{var h;const x=(h=wb.read())!==null&&h!==void 0?h:[];return V(x,E=>ve.from(E.getType(m)))},Hs=m=>{zi(m).isSome()&&wb.clear()},qs=m=>{m.fold(Sa,h=>zc({[B1]:h}))},hi=()=>zi(B1),Sa=()=>Hs(B1),As=m=>{m.fold(Km,h=>zc({[Cb]:h}))},xs=()=>zi(Cb),Km=()=>Hs(Cb),uf=m=>je(Ug(m),Cs(m)).filter(Gc),Gp=(m,h)=>{const x=Cs(m),E=fe=>Ur(fe,x),D=fe=>(be=>eu(Ug(be),Cs(be)).filter(Gc))(m).bind(be=>E(be).map(X=>fe(X,be))),N=fe=>{m.focus()},H=(fe,be=!1)=>D((X,we)=>{const Ee=Hi(rc(m),X,we);fe(X,Ee,be).each(N)}),U=()=>D((fe,be)=>((X,we,Ee)=>{const Ie=Us(X);return ba(Ie,we).bind(Ge=>{const et=Es(Ie,Ee,!1),ct=In(et).rows.slice(Ge[0].row,Ge[Ge.length-1].row+Ge[Ge.length-1].rowspan),gt=Qe(ct,Ct=>{const jt=Oo(Ct.cells,ho=>!ho.isLocked);return jt.length>0?[{...Ct,cells:jt}]:[]}),dt=Cc(gt);return Hc(dt.length>0,dt)}).map(Ge=>T(Ge,et=>{const ct=zl(et.element);return ko(et.cells,gt=>{const dt=Ni(gt.element);Yt(dt,"colspan",gt.colspan,1),Yt(dt,"rowspan",gt.rowspan,1),Cr(ct,dt)}),ct}))})(fe,Hi(rc(m),fe,be),na(Bt,Je.fromDom(m.getDoc()),ve.none()))),ee=()=>D((fe,be)=>((X,we)=>{const Ee=Us(X);return ou(Ee,we).map(Ie=>{const Ge=Ie[Ie.length-1],et=Ie[0].column,ct=Ge.column+Ge.colspan,gt=((Ct,jt,ho)=>{if(gu(Ct)){const un=Oo(Xd(Ct),Xf(jt,ho)),Do=T(un,Io=>{const or=Ni(Io.element);return kb(or,"span",ho-jt),or}),Uo=Je.fromTag("colgroup");return ps(Uo,Do),[Uo]}return[]})(Ee,et,ct),dt=((Ct,jt,ho)=>T(Ct.all,un=>{const Do=Oo(un.cells,Xf(jt,ho)),Uo=T(Do,or=>{const Vs=Ni(or.element);return kb(Vs,"colspan",ho-jt),Vs}),Io=Je.fromTag("tr");return ps(Io,Uo),Io}))(Ee,et,ct);return[...gt,...dt]})})(fe,Hi(rc(m),fe,be))),de=(fe,be)=>be().each(X=>{const we=T(X,Ee=>Ni(Ee));D((Ee,Ie)=>{const Ge=Ml(Je.fromDom(m.getDoc())),et=((ct,gt,dt,Ct)=>({selection:bt(ct),clipboard:dt,generators:Ct}))(rc(m),0,we,Ge);fe(Ee,et).each(N)})}),ke=fe=>(be,X)=>((we,Ee)=>$o(we,Ee)?ve.from(we[Ee]):ve.none())(X,"type").each(we=>{H(fe(we),X.no_events)});hn({mceTableSplitCells:()=>H(h.unmergeCells),mceTableMergeCells:()=>H(h.mergeCells),mceTableInsertRowBefore:()=>H(h.insertRowsBefore),mceTableInsertRowAfter:()=>H(h.insertRowsAfter),mceTableInsertColBefore:()=>H(h.insertColumnsBefore),mceTableInsertColAfter:()=>H(h.insertColumnsAfter),mceTableDeleteCol:()=>H(h.deleteColumn),mceTableDeleteRow:()=>H(h.deleteRow),mceTableCutCol:()=>ee().each(fe=>{As(fe),H(h.deleteColumn)}),mceTableCutRow:()=>U().each(fe=>{qs(fe),H(h.deleteRow)}),mceTableCopyCol:()=>ee().each(fe=>As(fe)),mceTableCopyRow:()=>U().each(fe=>qs(fe)),mceTablePasteColBefore:()=>de(h.pasteColsBefore,xs),mceTablePasteColAfter:()=>de(h.pasteColsAfter,xs),mceTablePasteRowBefore:()=>de(h.pasteRowsBefore,hi),mceTablePasteRowAfter:()=>de(h.pasteRowsAfter,hi),mceTableDelete:()=>uf(m).each(fe=>{Ur(fe,x).filter(ut(x)).each(be=>{const X=Je.fromText("");if(Ri(be,X),mr(be),m.dom.isEmpty(m.getBody()))m.setContent(""),m.selection.setCursorLocation();else{const we=m.dom.createRng();we.setStart(X.dom,0),we.setEnd(X.dom,0),m.selection.setRng(we),m.nodeChanged()}})}),mceTableCellToggleClass:(fe,be)=>{D(X=>{const we=rc(m),Ee=Ot(we,Ge=>m.formatter.match("tablecellclass",{value:be},Ge.dom)),Ie=Ee?m.formatter.remove:m.formatter.apply;ko(we,Ge=>Ie("tablecellclass",{value:be},Ge.dom)),bs(m,X.dom,Vi)})},mceTableToggleClass:(fe,be)=>{D(X=>{m.formatter.toggle("tableclass",{value:be},X.dom),bs(m,X.dom,Vi)})},mceTableToggleCaption:()=>{uf(m).each(fe=>{Ur(fe,x).each(be=>{Ci(be,"caption").fold(()=>{const X=Je.fromTag("caption");Cr(X,Je.fromText("Caption")),((we,Ee)=>{Xl(we,0).fold(()=>{Cr(we,Ee)},Ie=>{St(Ie,Ee)})})(be,X),m.selection.setCursorLocation(X.dom,0)},X=>{Fn("caption")(fe)&&ki("td",be).each(we=>m.selection.setCursorLocation(we.dom,0)),mr(X)}),bs(m,be.dom,Ja)})})},mceTableSizingMode:(fe,be)=>(X=>uf(m).each(we=>{ge(m)||ue(m)||j(m)||Ur(we,x).each(Ee=>{X!=="relative"||Nu(Ee)?X!=="fixed"||ed(Ee)?X!=="responsive"||_b(Ee)||nh(Ee):Jf(Ee):qm(Ee),Su(Ee),bs(m,Ee.dom,Ja)})}))(be),mceTableCellType:ke(fe=>fe==="th"?h.makeCellsHeader:h.unmakeCellsHeader),mceTableColType:ke(fe=>fe==="th"?h.makeColumnsHeader:h.unmakeColumnsHeader),mceTableRowType:ke(fe=>{switch(fe){case"header":return h.makeRowsHeader;case"footer":return h.makeRowsFooter;default:return h.makeRowsBody}})},(fe,be)=>m.addCommand(be,fe)),m.addCommand("mceInsertTable",(fe,be)=>{((X,we,Ee,Ie={})=>{const Ge=et=>An(et)&&et>0;if(Ge(we)&&Ge(Ee)){const et=Ie.headerRows||0,ct=Ie.headerColumns||0;return Gm(X,Ee,we,ct,et)}console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table.")})(m,be.rows,be.columns,be.options)}),m.addCommand("mceTableApplyCellStyle",(fe,be)=>{const X=Ie=>"tablecell"+Ie.toLowerCase().replace("-","");if(!xo(be))return;const we=Oo(rc(m),Gc);if(we.length===0)return;const Ee=((Ie,Ge)=>{const et={};return((ct,gt,dt,Ct)=>{hn(ct,(jt,ho)=>{(gt(jt,ho)?dt:Ct)(jt,ho)})})(Ie,Ge,(ct=>(gt,dt)=>{ct[dt]=gt})(et),Bt),et})(be,(Ie,Ge)=>m.formatter.has(X(Ge))&&fr(Ie));(Ie=>{for(const Ge in Ie)if(Nn.call(Ie,Ge))return!1;return!0})(Ee)||(hn(Ee,(Ie,Ge)=>{const et=X(Ge);ko(we,ct=>{Ie===""?m.formatter.remove(et,{value:null},ct.dom,!0):m.formatter.apply(et,{value:Ie},ct.dom)})}),E(we[0]).each(Ie=>bs(m,Ie.dom,Vi)))})},rh=Nd([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),ji={before:rh.before,on:rh.on,after:rh.after,cata:(m,h,x,E)=>m.fold(h,x,E),getStart:m=>m.fold(Lo,Lo,Lo)},Ym=(m,h)=>({selection:m,kill:h}),Sb=(m,h)=>{const x=m.document.createRange();return x.selectNode(h.dom),x},Eb=(m,h)=>{const x=m.document.createRange();return cx(x,h),x},cx=(m,h)=>m.selectNodeContents(h.dom),dx=(m,h,x)=>{const E=m.document.createRange();var D;return D=E,h.fold(N=>{D.setStartBefore(N.dom)},(N,H)=>{D.setStart(N.dom,H)},N=>{D.setStartAfter(N.dom)}),((N,H)=>{H.fold(U=>{N.setEndBefore(U.dom)},(U,ee)=>{N.setEnd(U.dom,ee)},U=>{N.setEndAfter(U.dom)})})(E,x),E},xl=(m,h,x,E,D)=>{const N=m.document.createRange();return N.setStart(h.dom,x),N.setEnd(E.dom,D),N},Iw=m=>({left:m.left,top:m.top,right:m.right,bottom:m.bottom,width:m.width,height:m.height}),Qa=Nd([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Kp=(m,h,x)=>h(Je.fromDom(x.startContainer),x.startOffset,Je.fromDom(x.endContainer),x.endOffset),Qf=(m,h)=>{const x=((E,D)=>D.match({domRange:N=>({ltr:Ut(N),rtl:ve.none}),relative:(N,H)=>({ltr:ft(()=>dx(E,N,H)),rtl:ft(()=>ve.some(dx(E,H,N)))}),exact:(N,H,U,ee)=>({ltr:ft(()=>xl(E,N,H,U,ee)),rtl:ft(()=>ve.some(xl(E,U,ee,N,H)))})}))(m,h);return((E,D)=>{const N=D.ltr();return N.collapsed?D.rtl().filter(H=>H.collapsed===!1).map(H=>Qa.rtl(Je.fromDom(H.endContainer),H.endOffset,Je.fromDom(H.startContainer),H.startOffset)).getOrThunk(()=>Kp(0,Qa.ltr,N)):Kp(0,Qa.ltr,N)})(0,x)},lc=(m,h)=>Qf(m,h).match({ltr:(x,E,D,N)=>{const H=m.document.createRange();return H.setStart(x.dom,E),H.setEnd(D.dom,N),H},rtl:(x,E,D,N)=>{const H=m.document.createRange();return H.setStart(D.dom,N),H.setEnd(x.dom,E),H}});Qa.ltr,Qa.rtl;const ei=(m,h,x,E)=>({start:m,soffset:h,finish:x,foffset:E}),Ab=(m,h,x,E)=>({start:ji.on(m,h),finish:ji.on(x,E)}),sh=(m,h)=>{const x=lc(m,h);return ei(Je.fromDom(x.startContainer),x.startOffset,Je.fromDom(x.endContainer),x.endOffset)},su=Ab,zb=(m,h,x,E,D)=>Zn(x,E)?ve.none():sf(x,E,h).bind(N=>{const H=N.boxes.getOr([]);return H.length>1?(D(m,H,N.start,N.finish),ve.some(Ym(ve.some(su(x,0,x,Ya(x))),!0))):ve.none()}),ah=(m,h)=>({item:m,mode:h}),ux=(m,h,x,E=em)=>m.property().parent(h).map(D=>ah(D,E)),em=(m,h,x,E=au)=>x.sibling(m,h).map(D=>ah(D,E)),au=(m,h,x,E=au)=>{const D=m.property().children(h);return x.first(D).map(N=>ah(N,E))},L4=[{current:ux,next:em,fallback:ve.none()},{current:em,next:au,fallback:ve.some(ux)},{current:au,next:au,fallback:ve.some(em)}],Yp=(m,h,x,E,D=L4)=>zt(D,N=>N.current===x).bind(N=>N.current(m,h,E,N.next).orThunk(()=>N.fallback.bind(H=>Yp(m,h,H,E)))),tm=(m,h,x,E,D,N)=>Yp(m,h,E,D).bind(H=>N(H.item)?ve.none():x(H.item)?ve.some(H.item):tm(m,H.item,x,H.mode,D,N)),ih=m=>h=>m.property().children(h).length===0,I1=(m,h,x,E)=>tm(m,h,x,em,{sibling:(D,N)=>D.query().prevSibling(N),first:D=>D.length>0?ve.some(D[D.length-1]):ve.none()},E),P1=(m,h,x,E)=>tm(m,h,x,em,{sibling:(D,N)=>D.query().nextSibling(N),first:D=>D.length>0?ve.some(D[0]):ve.none()},E),Ti=qt(),Tb=(m,h)=>((x,E,D)=>I1(x,E,ih(x),D))(Ti,m,h),L1=(m,h)=>((x,E,D)=>P1(x,E,ih(x),D))(Ti,m,h),lh=Nd([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),Ob=m=>Qn(m,"tr"),iu={...lh,verify:(m,h,x,E,D,N,H)=>Qn(E,"td,th",H).bind(U=>Qn(h,"td,th",H).map(ee=>Zn(U,ee)?Zn(E,U)&&Ya(U)===D?N(ee):lh.none("in same cell"):gi(Ob,[U,ee]).fold(()=>((de,ke,fe)=>{const be=de.getRect(ke),X=de.getRect(fe);return X.right>be.left&&X.left<be.right})(m,ee,U)?lh.success():N(ee),de=>N(ee)))).getOr(lh.none("default")),cata:(m,h,x,E,D)=>m.fold(h,x,E,D)},Db=Fn("br"),Mu=(m,h,x)=>h(m,x).bind(E=>Mn(E)&&Nl(E).trim().length===0?Mu(E,h,x):ve.some(E)),Xm=(m,h,x,E)=>((D,N)=>Xl(D,N).filter(Db).orThunk(()=>Xl(D,N-1).filter(Db)))(h,x).bind(D=>E.traverse(D).fold(()=>Mu(D,E.gather,m).map(E.relative),N=>(H=>ca(H).bind(U=>{const ee=vs(U);return((de,ke)=>tn(de,rt(Zn,ke)))(ee,H).map(de=>((ke,fe,be,X)=>({parent:ke,children:fe,element:be,index:X}))(U,ee,H,de))}))(N).map(H=>ji.on(H.parent,H.index)))),Jm=(m,h)=>({left:m.left,top:m.top+h,right:m.right,bottom:m.bottom+h}),ff=(m,h)=>({left:m.left,top:m.top-h,right:m.right,bottom:m.bottom-h}),fx=(m,h,x)=>({left:m.left+h,top:m.top+x,right:m.right+h,bottom:m.bottom+x}),Ui=m=>({left:m.left,top:m.top,right:m.right,bottom:m.bottom}),om=(m,h)=>ve.some(m.getRect(h)),ch=(m,h,x)=>Tn(h)?om(m,h).map(Ui):Mn(h)?((E,D,N)=>N>=0&&N<Ya(D)?E.getRangedRect(D,N,D,N+1):N>0?E.getRangedRect(D,N-1,D,N):ve.none())(m,h,x).map(Ui):ve.none(),Rb=(m,h)=>Tn(h)?om(m,h).map(Ui):Mn(h)?m.getRangedRect(h,0,h,Ya(h)).map(Ui):ve.none(),td=Nd([{none:[]},{retry:["caret"]}]),kl=(m,h,x)=>ss(h,Br).fold(le,E=>Rb(m,E).exists(D=>((N,H)=>N.left<H.left||Math.abs(H.right-N.left)<1||N.left>H.right)(x,D))),F1={point:m=>m.bottom,adjuster:(m,h,x,E,D)=>{const N=Jm(D,5);return Math.abs(x.bottom-E.bottom)<1||x.top>D.bottom?td.retry(N):x.top===D.bottom?td.retry(Jm(D,1)):kl(m,h,D)?td.retry(fx(N,5,0)):td.none()},move:Jm,gather:L1},Ea=(m,h,x,E,D)=>D===0?ve.some(E):((N,H,U)=>N.elementFromPoint(H,U).filter(ee=>to(ee)==="table").isSome())(m,E.left,h.point(E))?((N,H,U,ee,de)=>Ea(N,H,U,H.move(ee,5),de))(m,h,x,E,D-1):m.situsFromPoint(E.left,h.point(E)).bind(N=>N.start.fold(ve.none,H=>Rb(m,H).bind(U=>h.adjuster(m,H,U,x,E).fold(ve.none,ee=>Ea(m,h,x,ee,D-1))).orThunk(()=>ve.some(E)),ve.none)),Md=(m,h,x)=>{const E=m.move(x,5),D=Ea(h,m,x,E,100).getOr(E);return((N,H,U)=>N.point(H)>U.getInnerHeight()?ve.some(N.point(H)-U.getInnerHeight()):N.point(H)<0?ve.some(-N.point(H)):ve.none())(m,D,h).fold(()=>h.situsFromPoint(D.left,m.point(D)),N=>(h.scrollBy(0,N),h.situsFromPoint(D.left,m.point(D)-N)))},Zi={tryUp:rt(Md,{point:m=>m.top,adjuster:(m,h,x,E,D)=>{const N=ff(D,5);return Math.abs(x.top-E.top)<1||x.bottom<D.top?td.retry(N):x.bottom===D.top?td.retry(ff(D,1)):kl(m,h,D)?td.retry(fx(N,5,0)):td.none()},move:ff,gather:Tb}),tryDown:rt(Md,F1),getJumpSize:Ut(5)},Pw=(m,h,x)=>m.getSelection().bind(E=>((D,N,H,U)=>(Db(N)?((de,ke,fe)=>fe.traverse(ke).orThunk(()=>Mu(ke,fe.gather,de)).map(fe.relative))(D,N,U):Xm(D,N,H,U)).map(de=>({start:de,finish:de})))(h,E.finish,E.foffset,x).fold(()=>ve.some(lf(E.finish,E.foffset)),D=>{const N=m.fromSitus(D);return H=iu.verify(m,E.finish,E.foffset,N.finish,N.foffset,x.failure,h),iu.cata(H,U=>ve.none(),()=>ve.none(),U=>ve.some(lf(U,0)),U=>ve.some(lf(U,Ya(U))));var H})),H1=(m,h,x,E,D,N)=>N===0?ve.none():rm(m,h,x,E,D).bind(H=>{const U=m.fromSitus(H),ee=iu.verify(m,x,E,U.finish,U.foffset,D.failure,h);return iu.cata(ee,()=>ve.none(),()=>ve.some(H),de=>Zn(x,de)&&E===0?nm(m,x,E,ff,D):H1(m,h,de,0,D,N-1),de=>Zn(x,de)&&E===Ya(de)?nm(m,x,E,Jm,D):H1(m,h,de,Ya(de),D,N-1))}),nm=(m,h,x,E,D)=>ch(m,h,x).bind(N=>Qm(m,D,E(N,Zi.getJumpSize()))),Qm=(m,h,x)=>{const E=pa().browser;return E.isChromium()||E.isSafari()||E.isFirefox()?h.retry(m,x):ve.none()},rm=(m,h,x,E,D)=>ch(m,x,E).bind(N=>Qm(m,D,N)),cc=(m,h,x,E,D)=>Qn(E,"td,th",h).bind(N=>Qn(N,"table",h).bind(H=>((U,ee)=>Mi(U,de=>ca(de).exists(ke=>Zn(ke,ee)),void 0).isSome())(D,H)?((U,ee,de)=>Pw(U,ee,de).bind(ke=>H1(U,ee,ke.element,ke.offset,de,20).map(U.fromSitus)))(m,h,x).bind(U=>Qn(U.finish,"td,th",h).map(ee=>({start:N,finish:ee,range:U}))):ve.none())),Nb=(m,h,x,E,D,N)=>N(E,h).orThunk(()=>cc(m,h,x,E,D).map(H=>{const U=H.range;return Ym(ve.some(su(U.start,U.soffset,U.finish,U.foffset)),!0)})),Lw=(m,h)=>Qn(m,"tr",h).bind(x=>Qn(x,"table",h).bind(E=>{const D=Ma(E,"tr");return Zn(x,D[0])?((N,H,U)=>I1(Ti,N,ee=>is(ee).isSome(),U))(E,0,h).map(N=>{const H=Ya(N);return Ym(ve.some(su(N,H,N,H)),!0)}):ve.none()})),V1=(m,h)=>Qn(m,"tr",h).bind(x=>Qn(x,"table",h).bind(E=>{const D=Ma(E,"tr");return Zn(x,D[D.length-1])?((N,H,U)=>P1(Ti,N,ee=>Te(ee).isSome(),U))(E,0,h).map(N=>Ym(ve.some(su(N,0,N,0)),!0)):ve.none()})),dh=(m,h,x,E,D,N,H)=>cc(m,x,E,D,N).bind(U=>zb(h,x,U.start,U.finish,H)),uh=m=>{let h=m;return{get:()=>h,set:x=>{h=x}}},sm=()=>{const m=(h=>{const x=uh(ve.none()),E=()=>x.get().each(h);return{clear:()=>{E(),x.set(ve.none())},isSet:()=>x.get().isSome(),get:()=>x.get(),set:D=>{E(),x.set(ve.some(D))}}})(Bt);return{...m,on:h=>m.get().each(h)}},fh=(m,h)=>Qn(m,"td,th",h),Mb=m=>el(m).exists(_c),Xp={traverse:Oa,gather:L1,relative:ji.before,retry:Zi.tryDown,failure:iu.failedDown},$1={traverse:go,gather:Tb,relative:ji.before,retry:Zi.tryUp,failure:iu.failedUp},Tc=m=>h=>h===m,od=Tc(38),Jp=Tc(40),ep=m=>m>=37&&m<=40,j1={isBackward:Tc(37),isForward:Tc(39)},mf={isBackward:Tc(39),isForward:Tc(37)},pf=Nd([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),tp={domRange:pf.domRange,relative:pf.relative,exact:pf.exact,exactFromRange:m=>pf.exact(m.start,m.soffset,m.finish,m.foffset),getWin:m=>{const h=(x=>x.match({domRange:E=>Je.fromDom(E.startContainer),relative:(E,D)=>ji.getStart(E),exact:(E,D,N,H)=>E}))(m);return Je.fromDom(_i(h).dom.defaultView)},range:ei},mh=(m,h)=>{const x=to(m);return x==="input"?ji.after(m):Ro(["br","img"],x)?h===0?ji.before(m):ji.after(m):ji.on(m,h)},bi=m=>ve.from(m.getSelection()),U1=(m,h)=>{bi(m).each(x=>{x.removeAllRanges(),x.addRange(h)})},Qp=(m,h,x,E,D)=>{const N=xl(m,h,x,E,D);U1(m,N)},Bu=(m,h)=>Qf(m,h).match({ltr:(x,E,D,N)=>{Qp(m,x,E,D,N)},rtl:(x,E,D,N)=>{bi(m).each(H=>{if(H.setBaseAndExtent)H.setBaseAndExtent(x.dom,E,D.dom,N);else if(H.extend)try{((U,ee,de,ke,fe,be)=>{ee.collapse(de.dom,ke),ee.extend(fe.dom,be)})(0,H,x,E,D,N)}catch{Qp(m,D,N,x,E)}else Qp(m,D,N,x,E)})}}),mx=(m,h,x,E,D)=>{const N=((H,U,ee,de)=>{const ke=mh(H,U),fe=mh(ee,de);return tp.relative(ke,fe)})(h,x,E,D);Bu(m,N)},ph=(m,h,x)=>{const E=((D,N)=>{const H=D.fold(ji.before,mh,ji.after),U=N.fold(ji.before,mh,ji.after);return tp.relative(H,U)})(h,x);Bu(m,E)},Bb=m=>{if(m.rangeCount>0){const h=m.getRangeAt(0),x=m.getRangeAt(m.rangeCount-1);return ve.some(ei(Je.fromDom(h.startContainer),h.startOffset,Je.fromDom(x.endContainer),x.endOffset))}return ve.none()},Z1=m=>{if(m.anchorNode===null||m.focusNode===null)return Bb(m);{const h=Je.fromDom(m.anchorNode),x=Je.fromDom(m.focusNode);return((E,D,N,H)=>{const U=((de,ke,fe,be)=>{const X=Qi(de).dom.createRange();return X.setStart(de.dom,ke),X.setEnd(fe.dom,be),X})(E,D,N,H),ee=Zn(E,N)&&D===H;return U.collapsed&&!ee})(h,m.anchorOffset,x,m.focusOffset)?ve.some(ei(h,m.anchorOffset,x,m.focusOffset)):Bb(m)}},W1=(m,h,x=!0)=>{const E=(x?Eb:Sb)(m,h);U1(m,E)},q1=m=>(h=>bi(h).filter(x=>x.rangeCount>0).bind(Z1))(m).map(h=>tp.exact(h.start,h.soffset,h.finish,h.foffset)),Ib=(m,h,x)=>((E,D,N)=>((H,U,ee)=>H.caretPositionFromPoint?((de,ke,fe)=>{var be;return ve.from((be=de.caretPositionFromPoint)===null||be===void 0?void 0:be.call(de,ke,fe)).bind(X=>{if(X.offsetNode===null)return ve.none();const we=de.createRange();return we.setStart(X.offsetNode,X.offset),we.collapse(),ve.some(we)})})(H,U,ee):H.caretRangeFromPoint?((de,ke,fe)=>{var be;return ve.from((be=de.caretRangeFromPoint)===null||be===void 0?void 0:be.call(de,ke,fe))})(H,U,ee):ve.none())(E.document,D,N).map(H=>ei(Je.fromDom(H.startContainer),H.startOffset,Je.fromDom(H.endContainer),H.endOffset)))(m,h,x),Pb=m=>({elementFromPoint:(h,x)=>Je.fromPoint(Je.fromDom(m.document),h,x),getRect:h=>h.dom.getBoundingClientRect(),getRangedRect:(h,x,E,D)=>{const N=tp.exact(h,x,E,D);return((H,U)=>(ee=>{const de=ee.getClientRects(),ke=de.length>0?de[0]:ee.getBoundingClientRect();return ke.width>0||ke.height>0?ve.some(ke).map(Iw):ve.none()})(lc(H,U)))(m,N)},getSelection:()=>q1(m).map(h=>sh(m,h)),fromSitus:h=>{const x=tp.relative(h.start,h.finish);return sh(m,x)},situsFromPoint:(h,x)=>Ib(m,h,x).map(E=>Ab(E.start,E.soffset,E.finish,E.foffset)),clearSelection:()=>{(h=>{bi(h).each(x=>x.removeAllRanges())})(m)},collapseSelection:(h=!1)=>{q1(m).each(x=>x.fold(E=>E.collapse(h),(E,D)=>{const N=h?E:D;ph(m,N,N)},(E,D,N,H)=>{const U=h?E:N,ee=h?D:H;mx(m,U,ee,U,ee)}))},setSelection:h=>{mx(m,h.start,h.soffset,h.finish,h.foffset)},setRelativeSelection:(h,x)=>{ph(m,h,x)},selectNode:h=>{W1(m,h,!1)},selectContents:h=>{W1(m,h)},getInnerHeight:()=>m.innerHeight,getScrollY:()=>(h=>{const x=h!==void 0?h.dom:document,E=x.body.scrollLeft||x.documentElement.scrollLeft,D=x.body.scrollTop||x.documentElement.scrollTop;return me(E,D)})(Je.fromDom(m.document)).top,scrollBy:(h,x)=>{((E,D,N)=>{const H=(N!==void 0?N.dom:document).defaultView;H&&H.scrollBy(E,D)})(h,x,Je.fromDom(m.document))}}),op=(m,h)=>({rows:m,cols:h}),G1=m=>ss(m,Jn).exists(_c),gh=(m,h)=>G1(m)||G1(h),K1=m=>m.dom.classList!==void 0,px=(m,h)=>((x,E,D)=>{const N=((H,U)=>{const ee=mt(H,U);return ee===void 0||ee===""?[]:ee.split(" ")})(x,E).concat([D]);return jo(x,E,N.join(" ")),!0})(m,"class",h),_l=(m,h)=>{K1(m)?m.dom.classList.add(h):px(m,h)},Lb=(m,h)=>K1(m)&&m.dom.classList.contains(h),Fb=()=>({tag:"none"}),gx=m=>({tag:"multiple",elements:m}),Fw=m=>({tag:"single",element:m}),hx=m=>{const h=Je.fromDom((U=>{if(Un(U.target)){const ee=Je.fromDom(U.target);if(Tn(ee)&&Un(ee.dom.shadowRoot)&&U.composed&&U.composedPath){const de=U.composedPath();if(de)return an(de)}}return ve.from(U.target)})(m).getOr(m.target)),x=()=>m.stopPropagation(),E=()=>m.preventDefault(),D=(N=E,H=x,(...U)=>N(H.apply(null,U)));var N,H;return((U,ee,de,ke,fe,be,X)=>({target:U,x:ee,y:de,stop:ke,prevent:fe,kill:be,raw:X}))(h,m.clientX,m.clientY,x,E,D,m)},bx=(m,h,x,E)=>{m.dom.removeEventListener(h,x,E)},yx=Tt,eg=(m,h,x)=>((E,D,N,H)=>((U,ee,de,ke,fe)=>{const be=((X,we)=>Ee=>{X(Ee)&&we(hx(Ee))})(de,ke);return U.dom.addEventListener(ee,be,fe),{unbind:rt(bx,U,ee,be,fe)}})(E,D,N,H,!1))(m,h,yx,x),np=hx,Y1=m=>!Lb(Je.fromDom(m.target),"ephox-snooker-resizer-bar"),Ha=(m,h)=>{const x=(D=tr.selectedSelector,{get:()=>Fp(Je.fromDom(m.getBody()),D).fold(()=>eu(Ug(m),Cs(m)).fold(Fb,Fw),gx)}),E=((N,H,U)=>{const ee=be=>{Mo(be,N.selected),Mo(be,N.firstSelected),Mo(be,N.lastSelected)},de=be=>{jo(be,N.selected,"1")},ke=be=>{fe(be),U()},fe=be=>{const X=Ma(be,`${N.selectedSelector},${N.firstSelectedSelector},${N.lastSelectedSelector}`);ko(X,ee)};return{clearBeforeUpdate:fe,clear:ke,selectRange:(be,X,we,Ee)=>{ke(be),ko(X,de),jo(we,N.firstSelected,"1"),jo(Ee,N.lastSelected,"1"),H(X,we,Ee)},selectedSelector:N.selectedSelector,firstSelectedSelector:N.firstSelectedSelector,lastSelectedSelector:N.lastSelectedSelector}})(tr,(N,H,U)=>{Ur(H).each(ee=>{const de=T(N,X=>X.dom),ke=Zf(m),fe=na(Bt,Je.fromDom(m.getDoc()),ke),be=((X,we,Ee)=>{const Ie=Us(X);return ba(Ie,we).map(Ge=>{const et=Es(Ie,Ee,!1),{rows:ct}=In(et),gt=((Ct,jt)=>{const ho=Ct.slice(0,jt[jt.length-1].row+1),un=Cc(ho);return Qe(un,Do=>{const Uo=Do.cells.slice(0,jt[jt.length-1].column+1);return T(Uo,Io=>Io.element)})})(ct,Ge),dt=((Ct,jt)=>{const ho=Ct.slice(jt[0].row+jt[0].rowspan-1,Ct.length),un=Cc(ho);return Qe(un,Do=>{const Uo=Do.cells.slice(jt[0].column+jt[0].colspan-1,Do.cells.length);return T(Uo,Io=>Io.element)})})(ct,Ge);return{upOrLeftCells:gt,downOrRightCells:dt}})})(ee,{selection:rc(m)},fe).map(X=>xi(X,we=>T(we,Ee=>Ee.dom))).getOrUndefined();((X,we,Ee,Ie,Ge)=>{X.dispatch("TableSelectionChange",{cells:we,start:Ee,finish:Ie,otherCells:Ge})})(m,de,H.dom,U.dom,be)})},()=>(N=>{N.dispatch("TableSelectionClear")})(m));var D;return m.on("init",N=>{const H=m.getWin(),U=Wf(m),ee=Cs(m),de=((Ee,Ie,Ge,et)=>{const ct=((gt,dt,Ct,jt)=>{const ho=sm(),un=ho.clear,Do=Uo=>{ho.on(Io=>{jt.clearBeforeUpdate(dt),fh(Uo.target,Ct).each(or=>{sf(Io,or,Ct).each(Vs=>{const Wi=Vs.boxes.getOr([]);if(Wi.length===1){const ra=Wi[0],nl=Cu(ra)==="false",ap=fa(pi(Uo.target),ra,Zn);nl&&ap&&jt.selectRange(dt,Wi,ra,ra)}else Wi.length>1&&(jt.selectRange(dt,Wi,Vs.start,Vs.finish),gt.selectContents(or))})})})};return{clearstate:un,mousedown:Uo=>{jt.clear(dt),fh(Uo.target,Ct).filter(Mb).each(ho.set)},mouseover:Uo=>{Do(Uo)},mouseup:Uo=>{Do(Uo),un()}}})(Pb(Ee),Ie,Ge,et);return{clearstate:ct.clearstate,mousedown:ct.mousedown,mouseover:ct.mouseover,mouseup:ct.mouseup}})(H,U,ee,E),ke=((Ee,Ie,Ge,et)=>{const ct=Pb(Ee),gt=()=>(et.clear(Ie),ve.none());return{keydown:(dt,Ct,jt,ho,un,Do)=>{const Uo=dt.raw,Io=Uo.which,or=Uo.shiftKey===!0;return Xc(Ie,et.selectedSelector).fold(()=>(ep(Io)&&!or&&et.clearBeforeUpdate(Ie),ep(Io)&&or&&!gh(Ct,ho)?ve.none:Jp(Io)&&or?rt(dh,ct,Ie,Ge,Xp,ho,Ct,et.selectRange):od(Io)&&or?rt(dh,ct,Ie,Ge,$1,ho,Ct,et.selectRange):Jp(Io)?rt(Nb,ct,Ge,Xp,ho,Ct,V1):od(Io)?rt(Nb,ct,Ge,$1,ho,Ct,Lw):ve.none),Wi=>{const ra=nl=>()=>V(nl,$l=>((ip,Ub,hh,Zb,lp)=>Jc(Zb,ip,Ub,lp.firstSelectedSelector,lp.lastSelectedSelector).map(ti=>(lp.clearBeforeUpdate(hh),lp.selectRange(hh,ti.boxes,ti.start,ti.finish),ti.boxes)))($l.rows,$l.cols,Ie,Wi,et)).fold(()=>Wg(Ie,et.firstSelectedSelector,et.lastSelectedSelector).map($l=>{const ip=Jp(Io)||Do.isForward(Io)?ji.after:ji.before;return ct.setRelativeSelection(ji.on($l.first,0),ip($l.table)),et.clear(Ie),Ym(ve.none(),!0)}),$l=>ve.some(Ym(ve.none(),!0)));return ep(Io)&&or&&!gh(Ct,ho)?ve.none:Jp(Io)&&or?ra([op(1,0)]):od(Io)&&or?ra([op(-1,0)]):Do.isBackward(Io)&&or?ra([op(0,-1),op(-1,0)]):Do.isForward(Io)&&or?ra([op(0,1),op(1,0)]):ep(Io)&&!or?gt:ve.none})()},keyup:(dt,Ct,jt,ho,un)=>Xc(Ie,et.selectedSelector).fold(()=>{const Do=dt.raw,Uo=Do.which;return Do.shiftKey===!0&&ep(Uo)&&gh(Ct,ho)?((Io,or,Vs,Wi,ra,nl,ap)=>Zn(Vs,ra)&&Wi===nl?ve.none():Qn(Vs,"td,th",or).bind($l=>Qn(ra,"td,th",or).bind(ip=>zb(Io,or,$l,ip,ap))))(Ie,Ge,Ct,jt,ho,un,et.selectRange):ve.none()},ve.none)}})(H,U,ee,E),fe=((Ee,Ie,Ge,et)=>{const ct=Pb(Ee);return(gt,dt)=>{et.clearBeforeUpdate(Ie),sf(gt,dt,Ge).each(Ct=>{const jt=Ct.boxes.getOr([]);et.selectRange(Ie,jt,Ct.start,Ct.finish),ct.selectContents(dt),ct.collapseSelection()})}})(H,U,ee,E);m.on("TableSelectorChange",Ee=>fe(Ee.start,Ee.finish));const be=(Ee,Ie)=>{(Ge=>Ge.raw.shiftKey===!0)(Ee)&&(Ie.kill&&Ee.kill(),Ie.selection.each(Ge=>{const et=tp.relative(Ge.start,Ge.finish),ct=lc(H,et);m.selection.setRng(ct)}))},X=Ee=>Ee.button===0,we=(()=>{const Ee=uh(Je.fromDom(U)),Ie=uh(0);return{touchEnd:Ge=>{const et=Je.fromDom(Ge.target);if(Fn("td")(et)||Fn("th")(et)){const ct=Ee.get(),gt=Ie.get();Zn(ct,et)&&Ge.timeStamp-gt<300&&(Ge.preventDefault(),fe(et,et))}Ee.set(et),Ie.set(Ge.timeStamp)}}})();m.on("dragstart",Ee=>{de.clearstate()}),m.on("mousedown",Ee=>{X(Ee)&&Y1(Ee)&&de.mousedown(np(Ee))}),m.on("mouseover",Ee=>{var Ie;((Ie=Ee).buttons===void 0||1&Ie.buttons)&&Y1(Ee)&&de.mouseover(np(Ee))}),m.on("mouseup",Ee=>{X(Ee)&&Y1(Ee)&&de.mouseup(np(Ee))}),m.on("touchend",we.touchEnd),m.on("keyup",Ee=>{const Ie=np(Ee);if(Ie.raw.shiftKey&&ep(Ie.raw.which)){const Ge=m.selection.getRng(),et=Je.fromDom(Ge.startContainer),ct=Je.fromDom(Ge.endContainer);ke.keyup(Ie,et,Ge.startOffset,ct,Ge.endOffset).each(gt=>{be(Ie,gt)})}}),m.on("keydown",Ee=>{const Ie=np(Ee);h.hide();const Ge=m.selection.getRng(),et=Je.fromDom(Ge.startContainer),ct=Je.fromDom(Ge.endContainer),gt=hu(j1,mf)(Je.fromDom(m.selection.getStart()));ke.keydown(Ie,et,Ge.startOffset,ct,Ge.endOffset,gt).each(dt=>{be(Ie,dt)}),h.show()}),m.on("NodeChange",()=>{const Ee=m.selection,Ie=Je.fromDom(Ee.getStart()),Ge=Je.fromDom(Ee.getEnd());gi(Ur,[Ie,Ge]).fold(()=>E.clear(U),Bt)})}),m.on("PreInit",()=>{m.serializer.addTempAttr(tr.firstSelected),m.serializer.addTempAttr(tr.lastSelected)}),{getSelectedCells:()=>((N,H)=>{switch(N.tag){case"none":return H();case"single":return(U=>[U.dom])(N.element);case"multiple":return(U=>T(U,ee=>ee.dom))(N.elements)}})(x.get(),Ut([])),clearSelectedCells:N=>E.clear(Je.fromDom(N))}},Oc=m=>{let h=[];return{bind:x=>{if(x===void 0)throw new Error("Event bind error: undefined handler");h.push(x)},unbind:x=>{h=Oo(h,E=>E!==x)},trigger:(...x)=>{const E={};ko(m,(D,N)=>{E[D]=x[N]}),ko(h,D=>{D(E)})}}},dc=m=>({registry:xi(m,h=>({bind:h.bind,unbind:h.unbind})),trigger:xi(m,h=>h.trigger)}),lu=m=>m.slice(0).sort(),X1=(m,h)=>{const x=Oo(h,E=>!Ro(m,E));x.length>0&&(E=>{throw new Error("Unsupported keys for object: "+lu(E).join(", "))})(x)},am=m=>((h,x)=>((E,D,N)=>{if(D.length===0)throw new Error("You must specify at least one required field.");return((H,U)=>{if(!rr(U))throw new Error("The "+H+" fields must be an array. Was: "+U+".");ko(U,ee=>{if(!fr(ee))throw new Error("The value "+ee+" in the "+H+" fields was not a string.")})})("required",D),(H=>{const U=lu(H);zt(U,(ee,de)=>de<U.length-1&&ee===U[de+1]).each(ee=>{throw new Error("The field: "+ee+" occurs more than once in the combined fields: ["+U.join(", ")+"].")})})(D),H=>{const U=la(H);Ot(D,de=>Ro(U,de))||((de,ke)=>{throw new Error("All required keys ("+lu(de).join(", ")+") were not specified. Specified keys were: "+lu(ke).join(", ")+".")})(D,U),E(D,U);const ee=Oo(D,de=>!N.validate(H[de],de));return ee.length>0&&((de,ke)=>{throw new Error("All values need to be of type: "+ke+". Keys ("+lu(de).join(", ")+") were not.")})(ee,N.label),H}})(h,x,{validate:ar,label:"function"}))(X1,m),Hb=am(["compare","extract","mutate","sink"]),gf=am(["element","start","stop","destroy"]),J1=am(["forceDrop","drop","move","delayDrop"]),Vb=()=>{const m=(()=>{const E=dc({move:Oc(["info"])});return{onEvent:Bt,reset:Bt,events:E.registry}})(),h=(()=>{let E=ve.none();const D=dc({move:Oc(["info"])});return{onEvent:(N,H)=>{H.extract(N).each(U=>{((de,ke)=>{const fe=E.map(be=>de.compare(be,ke));return E=ve.some(ke),fe})(H,U).each(de=>{D.trigger.move(de)})})},reset:()=>{E=ve.none()},events:D.registry}})();let x=m;return{on:()=>{x.reset(),x=h},off:()=>{x.reset(),x=m},isOn:()=>x===h,onEvent:(E,D)=>{x.onEvent(E,D)},events:h.events}},Iu=m=>{const h=m.replace(/\./g,"-");return{resolve:x=>h+"-"+x}},Q1=Iu("ephox-dragster").resolve;var $b=Hb({compare:(m,h)=>me(h.left-m.left,h.top-m.top),extract:m=>ve.some(me(m.x,m.y)),sink:(m,h)=>{const x=(U=>{const ee={layerClass:Q1("blocker"),...U},de=Je.fromTag("div");return jo(de,"role","presentation"),Ua(de,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),_l(de,Q1("blocker")),_l(de,ee.layerClass),{element:Ut(de),destroy:()=>{mr(de)}}})(h),E=eg(x.element(),"mousedown",m.forceDrop),D=eg(x.element(),"mouseup",m.drop),N=eg(x.element(),"mousemove",m.move),H=eg(x.element(),"mouseout",m.delayDrop);return gf({element:x.element,start:U=>{Cr(U,x.element())},stop:()=>{mr(x.element())},destroy:()=>{x.destroy(),D.unbind(),N.unbind(),H.unbind(),E.unbind()}})},mutate:(m,h)=>{m.mutate(h.left,h.top)}});const Dc=Iu("ephox-snooker").resolve,Pu=Dc("resizer-bar"),vx=Dc("resizer-rows"),$e=Dc("resizer-cols"),rp=m=>{const h=Ma(m.parent(),"."+Pu);ko(h,mr)},e0=(m,h,x)=>{const E=m.origin();ko(h,D=>{D.each(N=>{const H=x(E,N);_l(H,Pu),Cr(m.parent(),H)})})},xx=(m,h,x,E,D)=>{const N=Hn(x),H=h.isResizable,U=E.length>0?_d.positions(E,x):[],ee=U.length>0?((fe,be)=>Qe(fe.all,(X,we)=>be(X.element)?[we]:[]))(m,H):[];((fe,be,X,we)=>{e0(fe,be,(Ee,Ie)=>{const Ge=((et,ct,gt,dt)=>{const Ct=Je.fromTag("div");return Ua(Ct,{position:"absolute",left:ct+"px",top:gt-3.5+"px",height:"7px",width:dt+"px"}),Ds(Ct,{"data-row":et,role:"presentation"}),Ct})(Ie.row,X.left-Ee.left,Ie.y-Ee.top,we);return _l(Ge,vx),Ge})})(h,Oo(U,(fe,be)=>Le(ee,X=>be===X)),N,pu(x));const de=D.length>0?Is.positions(D,x):[],ke=de.length>0?((fe,be)=>{const X=[];return It(fe.grid.columns,we=>{vc(fe,we).map(Ee=>Ee.element).forall(be)&&X.push(we)}),Oo(X,we=>{const Ee=vd(fe,Ie=>Ie.column===we);return Ot(Ee,Ie=>be(Ie.element))})})(m,H):[];((fe,be,X,we)=>{e0(fe,be,(Ee,Ie)=>{const Ge=((et,ct,gt,dt,Ct)=>{const jt=Je.fromTag("div");return Ua(jt,{position:"absolute",left:ct-3.5+"px",top:gt+"px",height:Ct+"px",width:"7px"}),Ds(jt,{"data-column":et,role:"presentation"}),jt})(Ie.col,Ie.x-Ee.left,X.top-Ee.top,0,we);return _l(Ge,$e),Ge})})(h,Oo(de,(fe,be)=>Le(ke,X=>be===X)),N,xd(x))},tg=(m,h)=>{if(rp(m),m.isResizable(h)){const x=Us(h),E=Xu(x),D=Zo(x);xx(x,m,h,E,D)}},nd=(m,h)=>{const x=Ma(m.parent(),"."+Pu);ko(x,h)},kx=m=>{nd(m,h=>{Gt(h,"display","none")})},_x=m=>{nd(m,h=>{Gt(h,"display","block")})},wx=Dc("resizer-bar-dragging"),t0=m=>{const h=(()=>{const fe=dc({drag:Oc(["xDelta","yDelta","target"])});let be=ve.none();const X=(()=>{const we=dc({drag:Oc(["xDelta","yDelta"])});return{mutate:(Ee,Ie)=>{we.trigger.drag(Ee,Ie)},events:we.registry}})();return X.events.drag.bind(we=>{be.each(Ee=>{fe.trigger.drag(we.xDelta,we.yDelta,Ee)})}),{assign:we=>{be=ve.some(we)},get:()=>be,mutate:X.mutate,events:fe.registry}})(),x=((fe,be={})=>{var X;return((we,Ee,Ie)=>{let Ge=!1;const et=dc({start:Oc([]),stop:Oc([])}),ct=Vb(),gt=()=>{jt.stop(),ct.isOn()&&(ct.off(),et.trigger.stop())},dt=(ho=>{let un=null;const Do=()=>{jn(un)||(clearTimeout(un),un=null)};return{cancel:Do,throttle:(...Uo)=>{Do(),un=setTimeout(()=>{un=null,ho.apply(null,Uo)},200)}}})(gt);ct.events.move.bind(ho=>{Ee.mutate(we,ho.info)});const Ct=ho=>(...un)=>{Ge&&ho.apply(null,un)},jt=Ee.sink(J1({forceDrop:gt,drop:Ct(gt),move:Ct(ho=>{dt.cancel(),ct.onEvent(ho,Ee)}),delayDrop:Ct(dt.throttle)}),Ie);return{element:jt.element,go:ho=>{jt.start(ho),ct.on(),et.trigger.start()},on:()=>{Ge=!0},off:()=>{Ge=!1},isActive:()=>Ge,destroy:()=>{jt.destroy()},events:et.registry}})(fe,(X=be.mode)!==null&&X!==void 0?X:$b,be)})(h,{});let E=ve.none();const D=(fe,be)=>ve.from(mt(fe,be));h.events.drag.bind(fe=>{D(fe.target,"data-row").each(be=>{const X=tl(fe.target,"top");Gt(fe.target,"top",X+fe.yDelta+"px")}),D(fe.target,"data-column").each(be=>{const X=tl(fe.target,"left");Gt(fe.target,"left",X+fe.xDelta+"px")})});const N=(fe,be)=>tl(fe,be)-Si(fe,"data-initial-"+be,0);x.events.stop.bind(()=>{h.get().each(fe=>{E.each(be=>{D(fe,"data-row").each(X=>{const we=N(fe,"top");Mo(fe,"data-initial-top"),ke.trigger.adjustHeight(be,we,parseInt(X,10))}),D(fe,"data-column").each(X=>{const we=N(fe,"left");Mo(fe,"data-initial-left"),ke.trigger.adjustWidth(be,we,parseInt(X,10))}),tg(m,be)})})});const H=(fe,be)=>{ke.trigger.startAdjust(),h.assign(fe),jo(fe,"data-initial-"+be,tl(fe,be)),_l(fe,wx),Gt(fe,"opacity","0.2"),x.go(m.dragContainer())},U=eg(m.parent(),"mousedown",fe=>{var be;be=fe.target,Lb(be,vx)&&H(fe.target,"top"),(X=>Lb(X,$e))(fe.target)&&H(fe.target,"left")}),ee=fe=>Zn(fe,m.view()),de=eg(m.view(),"mouseover",fe=>{var be;(be=fe.target,Qn(be,"table",ee).filter(_c)).fold(()=>{es(fe.target)&&rp(m)},X=>{x.isActive()&&(E=ve.some(X),tg(m,X))})}),ke=dc({adjustHeight:Oc(["table","delta","row"]),adjustWidth:Oc(["table","delta","column"]),startAdjust:Oc([])});return{destroy:()=>{U.unbind(),de.unbind(),x.destroy(),rp(m)},refresh:fe=>{tg(m,fe)},on:x.on,off:x.off,hideBars:rt(kx,m),showBars:rt(_x,m),events:ke.registry}};let vn=0;const hf=(m,h)=>{const x=(H=>!(U=>U.inline&&(ee=>{var de;if(!ee.inline)return ve.none();const ke=(de=Nr(ee))!==null&&de!==void 0?de:"";if(ke.length>0)return ts(Na(),ke);const fe=Zr(ee);return Un(fe)?ve.some(Je.fromDom(fe)):ve.none()})(U).isSome())(H)&&Il(H)==="split")(m),E=Je.fromDom(m.getBody()),D=(H=>{const U=(de=>{const ke=new Date().getTime(),fe=Math.floor(window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295*1e9);return vn++,de+"_"+fe+vn+String(ke)})("resizer-container"),ee=Je.fromTag("div");return jo(ee,"id",U),Ua(ee,{position:H,height:"0",width:"0",padding:"0",margin:"0",border:"0"}),ee})(x?"relative":"static"),N=Na();return x?(Ri(E,D),((H,U,ee,de)=>({parent:Ut(U),view:Ut(H),dragContainer:Ut(ee),origin:()=>Hn(U),isResizable:de}))(E,D,N,h)):(Cr(N,D),((H,U,ee)=>({parent:Ut(U),view:Ut(H),dragContainer:Ut(U),origin:Ut(me(0,0)),isResizable:ee}))(E,D,h))},sp=m=>Un(m)&&m.nodeName==="TABLE",og="bar-",Hw=m=>mt(m,"data-mce-resize")!=="false",jb=m=>{const h=sm(),x=sm(),E=sm();let D,N,H,U;const ee=X=>N1(m,X),de=()=>ha(m)?Ca():ac(),ke=(X,we,Ee,Ie)=>{const Ge=(gt=>{return as(dt=gt,"corner-")?(Ct=>Ct.substring(7))(dt):dt;var dt})(we),et=os(Ge,"e"),ct=as(Ge,"n");if(N===""&&qm(X),U===""&&(gt=>{const dt=(Ct=>cl(Ct)+"px")(gt);ya(gt,ve.none(),ve.some(dt)),Wm(gt)})(X),Ee!==D&&N!==""){Gt(X,"width",N);const gt=de(),dt=ee(X),Ct=ha(m)||et?(jt=>yl(jt).columns)(X)-1:0;Zp(X,Ee-D,Ct,gt,dt)}else if((gt=>/^(\d+(\.\d+)?)%$/.test(gt))(N)){const gt=parseFloat(N.replace("%",""));Gt(X,"width",Ee*gt/D+"%")}if((gt=>/^(\d+(\.\d+)?)px$/.test(gt))(N)&&(gt=>{const dt=Us(gt);gu(dt)||ko(On(gt),Ct=>{const jt=ii(Ct,"width");Gt(Ct,"width",jt),Mo(Ct,"width")})})(X),Ie!==H&&U!==""){Gt(X,"height",U);const gt=ct?0:(dt=>yl(dt).rows)(X)-1;S1(X,Ie-H,gt)}};m.on("init",()=>{const X=((we,Ee)=>we.inline?hf(we,Ee):((Ie,Ge)=>{const et=wr(Ie)?(ct=>Je.fromDom(_i(ct).dom.documentElement))(Ie):Ie;return{parent:Ut(et),view:Ut(Ie),dragContainer:Ut(et),origin:Ut(me(0,0)),isResizable:Ge}})(Je.fromDom(we.getDoc()),Ee))(m,Hw);if(E.set(X),(we=>{const Ee=we.options.get("object_resizing");return Ro(Ee.split(","),"table")})(m)&&ot(m)){const we=((Ee,Ie,Ge)=>{const et=_d,ct=Is,gt=t0(Ee),dt=dc({beforeResize:Oc(["table","type"]),afterResize:Oc(["table","type"]),startDrag:Oc([])});return gt.events.adjustHeight.bind(Ct=>{const jt=Ct.table;dt.trigger.beforeResize(jt,"row");const ho=et.delta(Ct.delta,jt);S1(jt,ho,Ct.row),dt.trigger.afterResize(jt,"row")}),gt.events.startAdjust.bind(Ct=>{dt.trigger.startDrag()}),gt.events.adjustWidth.bind(Ct=>{const jt=Ct.table;dt.trigger.beforeResize(jt,"col");const ho=ct.delta(Ct.delta,jt),un=Ge(jt);Zp(jt,ho,Ct.column,Ie,un),dt.trigger.afterResize(jt,"col")}),{on:gt.on,off:gt.off,refreshBars:gt.refresh,hideBars:gt.hideBars,showBars:gt.showBars,destroy:gt.destroy,events:dt.registry}})(X,de(),ee);m.mode.isReadOnly()||we.on(),we.events.startDrag.bind(Ee=>{h.set(m.selection.getRng())}),we.events.beforeResize.bind(Ee=>{const Ie=Ee.table.dom;((Ge,et,ct,gt,dt)=>{Ge.dispatch("ObjectResizeStart",{target:et,width:ct,height:gt,origin:dt})})(m,Ie,Ss(Ie),Fa(Ie),og+Ee.type)}),we.events.afterResize.bind(Ee=>{const Ie=Ee.table,Ge=Ie.dom;Su(Ie),h.on(et=>{m.selection.setRng(et),m.focus()}),((et,ct,gt,dt,Ct)=>{et.dispatch("ObjectResized",{target:ct,width:gt,height:dt,origin:Ct})})(m,Ge,Ss(Ge),Fa(Ge),og+Ee.type),m.undoManager.add()}),x.set(we)}}),m.on("ObjectResizeStart",X=>{const we=X.target;if(sp(we)&&!m.mode.isReadOnly()){const Ee=Je.fromDom(we);ko(m.dom.select(".mce-clonedresizable"),Ie=>{m.dom.addClass(Ie,"mce-"+zd(m)+"-columns")}),!ed(Ee)&&ue(m)?Jf(Ee):!Nu(Ee)&&j(m)&&qm(Ee),_b(Ee)&&as(X.origin,og)&&qm(Ee),D=X.width,N=ge(m)?"":Fs(m,we).getOr(""),H=X.height,U=Eu(m,we).getOr("")}}),m.on("ObjectResized",X=>{const we=X.target;if(sp(we)){const Ee=Je.fromDom(we),Ie=X.origin;(Ge=>as(Ge,"corner-"))(Ie)&&ke(Ee,Ie,X.width,X.height),Su(Ee),bs(m,Ee.dom,Vi)}});const fe=()=>{x.on(X=>{X.on(),X.showBars()})},be=()=>{x.on(X=>{X.off(),X.hideBars()})};return m.on("DisabledStateChange",X=>{X.state?be():fe()}),m.on("SwitchMode",()=>{m.mode.isReadOnly()?be():fe()}),m.on("dragstart dragend",X=>{X.type==="dragstart"?be():fe()}),m.on("remove",()=>{x.on(X=>{X.destroy()}),E.on(X=>{((we,Ee)=>{we.inline&&mr(Ee.parent())})(m,X)})}),{refresh:X=>{x.on(we=>we.refreshBars(Je.fromDom(X)))},hide:()=>{x.on(X=>X.hideBars())},show:()=>{x.on(X=>X.showBars())}}},Vw=m=>{(D=>{const N=D.options.register;N("table_clone_elements",{processor:"string[]"}),N("table_use_colgroups",{processor:"boolean",default:!0}),N("table_header_type",{processor:H=>{const U=Ro(["section","cells","sectionCells","auto"],H);return U?{value:H,valid:U}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),N("table_sizing_mode",{processor:"string",default:"auto"}),N("table_default_attributes",{processor:"object",default:{border:"1"}}),N("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),N("table_column_resizing",{processor:H=>{const U=Ro(["preservetable","resizetable"],H);return U?{value:H,valid:U}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),N("table_resize_bars",{processor:"boolean",default:!0}),N("table_style_by_css",{processor:"boolean",default:!0}),N("table_merge_content_on_paste",{processor:"boolean",default:!0})})(m);const h=jb(m),x=Ha(m,h),E=qp(m,h,x);return Gp(m,E),((D,N)=>{const H=Cs(D),U=ee=>eu(Ug(D)).bind(de=>Ur(de,H).map(ke=>{const fe=Hi(rc(D),ke,de);return ee(ke,fe)})).getOr("");hn({mceTableRowType:()=>U(N.getTableRowType),mceTableCellType:()=>U(N.getTableCellType),mceTableColType:()=>U(N.getTableColType)},(ee,de)=>D.addQueryValueHandler(de,ee))})(m,E),hl(m,E),{getSelectedCells:x.getSelectedCells,clearSelectedCells:x.clearSelectedCells}};kn.add("dom",m=>({table:Vw(m)}))})();tinymce.Resource.add("ui/oxide/skin.css",`.tox{box-shadow:none;box-sizing:content-box;color:#222f3e;cursor:auto;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-style:normal;font-weight:400;line-height:normal;-webkit-tap-highlight-color:transparent;-webkit-text-decoration:none;text-decoration:none;text-shadow:none;text-transform:none;vertical-align:initial;white-space:normal}.tox :not(svg):not(rect){box-sizing:inherit;color:inherit;cursor:inherit;direction:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;line-height:inherit;-webkit-tap-highlight-color:inherit;text-align:inherit;text-decoration:inherit;text-shadow:inherit;text-transform:inherit;vertical-align:inherit;white-space:inherit}.tox :not(svg):not(rect){background:0 0;border:0;box-shadow:none;float:none;height:auto;margin:0;max-width:none;outline:0;padding:0;position:static;width:auto}.tox:not([dir=rtl]){direction:ltr;text-align:left}.tox[dir=rtl]{direction:rtl;text-align:right}.tox-tinymce{border:2px solid #eee;border-radius:10px;box-shadow:none;box-sizing:border-box;display:flex;flex-direction:column;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;overflow:hidden;position:relative;visibility:inherit!important}.tox.tox-tinymce-inline{border:none;box-shadow:none;overflow:initial}.tox.tox-tinymce-inline .tox-editor-container{overflow:initial}.tox.tox-tinymce-inline .tox-editor-header{background-color:#fff;border:2px solid #eee;border-radius:10px;box-shadow:none;overflow:hidden}.tox-tinymce-aux{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;z-index:1300}.tox-tinymce :focus,.tox-tinymce-aux :focus{outline:0}button::-moz-focus-inner{border:0}.tox[dir=rtl] .tox-icon--flip svg{transform:rotateY(180deg)}@keyframes tox-rotation{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.tox .accessibility-issue__header{align-items:center;display:flex;margin-bottom:4px}.tox #accessibility-issue__subheader{font-size:16px;color:#222f3e}.tox .accessbility-sr-only{position:absolute;clip:rect(1px,1px,1px,1px);clip-path:inset(0 0 99.9% 99.9%);overflow:hidden;height:1px;width:1px;padding:0;border:0}.tox .accessibility-issue__description{align-items:stretch;border-radius:6px;justify-content:space-between}.tox .accessibility-issue__description>div{padding-bottom:16px}.tox .accessibility-issue__description>div>div{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description>div>div .tox-icon svg{display:block}.tox #accessibility-issue__contentID{margin-top:16px;margin-bottom:16px}.tox #accessibility-issue__contentID span:first-child{font-weight:700}.tox #accessibility-issue__document{padding-bottom:8px}.tox .accessibility-issue__repair{margin-top:8px}.tox .accessibility-issue__repair .tox-form__group .tox-form__group--error{color:#c00}.tox .tox-dialog__body-content .accessibility-issue--info .accessibility-issue__description{background-color:#e6f0fd;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--info .tox-form__group h2{font-size:14px;color:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info .tox-icon.accessibility-issue__icon svg{fill:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon{background-color:#006ce7;color:#fff}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:hover{background-color:#0060ce}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:active{background-color:#0054b4}.tox .tox-dialog__body-content .accessibility-issue--warn .accessibility-issue__description{background-color:#fffae6;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-form__group h2{font-size:14px;color:#7a6e25}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-icon.accessibility-issue__icon svg{fill:#7a6e25}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon{background-color:#ffe89d;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:hover{background-color:#f2d574;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:active{background-color:#e8c657;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .accessibility-issue__description{background-color:#fae6e6;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .tox-form__group h2{font-size:14px;color:#c00}.tox .tox-dialog__body-content .accessibility-issue--error .tox-icon.accessibility-issue__icon svg{fill:#c00}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon{background-color:#f2bfbf;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:hover{background-color:#e9a4a4;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:active{background-color:#ee9494;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description{background-color:rgba(120,171,70,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description>:last-child{display:none}.tox .tox-dialog__body-content .accessibility-issue--success .tox-form__group h2{color:#527530}.tox .tox-dialog__body-content .accessibility-issue--success .tox-icon.accessibility-issue__icon svg{fill:#527530}.tox .tox-dialog__body-content .accessibility-issue__header .tox-form__group h1,.tox .tox-dialog__body-content .tox-form__group .accessibility-issue__description h2{margin-top:0}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-left:4px}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-left:auto}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__description{padding:8px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-right:4px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-right:auto}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__description{padding:4px 8px 4px 4px}.tox .mce-codemirror{background:#fff;bottom:0;font-size:13px;left:0;position:absolute;right:0;top:0;z-index:1}.tox .mce-codemirror.tox-inline-codemirror{margin:8px;position:absolute}.tox .tox-advtemplate .tox-form__grid{flex:1}.tox .tox-advtemplate .tox-form__grid>div:first-child{display:flex;flex-direction:column;width:30%}.tox .tox-advtemplate .tox-form__grid>div:first-child>div:nth-child(2){flex-basis:0;flex-grow:1;overflow:auto}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-advtemplate .tox-form__grid>div:first-child{width:100%}}.tox .tox-advtemplate iframe{border-color:#eee;border-radius:10px;border-style:solid;border-width:1px;margin:0 10px}.tox .tox-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bottom-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bar{display:flex;flex:0 0 auto}.tox .tox-button{background-color:#006ce7;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#006ce7;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;line-height:24px;margin:0;outline:0;padding:4px 16px;position:relative;text-align:center;-webkit-text-decoration:none;text-decoration:none;text-transform:none;white-space:nowrap}.tox .tox-button::before{border-radius:6px;bottom:-1px;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7;content:'';left:-1px;opacity:0;pointer-events:none;position:absolute;right:-1px;top:-1px}.tox .tox-button[disabled]{background-color:#006ce7;background-image:none;border-color:#006ce7;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button:focus:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:focus:not(:disabled)::before{opacity:1}.tox .tox-button:hover:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:active:not(:disabled){background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled[disabled]{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button.tox-button--enabled:focus:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:hover:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:active:not(:disabled){background-color:#003c81;background-image:none;border-color:#003c81;box-shadow:none;color:#fff}.tox .tox-button--icon-and-text,.tox .tox-button.tox-button--icon-and-text,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text{display:flex;padding:5px 4px}.tox .tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon svg{display:block;fill:currentColor}.tox .tox-button--secondary{background-color:#f0f0f0;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#f0f0f0;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;color:#222f3e;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;outline:0;padding:4px 16px;-webkit-text-decoration:none;text-decoration:none;text-transform:none}.tox .tox-button--secondary[disabled]{background-color:#f0f0f0;background-image:none;border-color:#f0f0f0;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary:focus:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:hover:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:active:not(:disabled){background-color:#d6d6d6;background-image:none;border-color:#d6d6d6;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled[disabled]{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary.tox-button--enabled:focus:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:hover:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:active:not(:disabled){background-color:#7daee4;background-image:none;border-color:#7daee4;box-shadow:none;color:#222f3e}.tox .tox-button--icon,.tox .tox-button.tox-button--icon,.tox .tox-button.tox-button--secondary.tox-button--icon{padding:4px}.tox .tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon svg{display:block;fill:currentColor}.tox-context-form__group .tox-button--icon,.tox-context-form__group .tox-button.tox-button--icon{margin:6px 1px 5px 0;padding:0}.tox .tox-button-link{background:0;border:none;box-sizing:border-box;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-weight:400;line-height:1.3;margin:0;padding:0;white-space:nowrap}.tox .tox-button-link--sm{font-size:14px}.tox .tox-button--naked{background-color:transparent;border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked[disabled]{background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:rgba(34,47,62,.5)}.tox .tox-button--naked:hover:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:focus:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:active:not(:disabled){background-color:rgba(34,47,62,.18);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked .tox-icon svg{fill:currentColor}.tox .tox-button--naked.tox-button--icon:hover:not(:disabled){color:#222f3e}.tox .tox-checkbox{align-items:center;border-radius:6px;cursor:pointer;display:flex;height:36px;min-width:36px}.tox .tox-checkbox__input{height:1px;overflow:hidden;position:absolute;top:auto;width:1px}.tox .tox-checkbox__icons{align-items:center;border-radius:6px;box-shadow:0 0 0 2px transparent;box-sizing:content-box;display:flex;height:24px;justify-content:center;padding:calc(4px - 1px);width:24px}.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:block;fill:rgba(34,47,62,0.3)}@media (forced-colors:active){.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:currentColor!important}}.tox .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:none;fill:#006ce7}.tox .tox-checkbox__icons .tox-checkbox-icon__checked svg{display:none;fill:#006ce7}.tox .tox-checkbox--disabled{color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__checked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{fill:rgba(34,47,62,0.5)}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__checked svg{display:block}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:block}.tox input.tox-checkbox__input:focus+.tox-checkbox__icons{border-radius:6px;box-shadow:inset 0 0 0 1px #006ce7;padding:calc(4px - 1px)}.tox:not([dir=rtl]) .tox-checkbox__label{margin-left:4px}.tox:not([dir=rtl]) .tox-checkbox__input{left:-10000px}.tox:not([dir=rtl]) .tox-bar .tox-checkbox{margin-left:4px}.tox[dir=rtl] .tox-checkbox__label{margin-right:4px}.tox[dir=rtl] .tox-checkbox__input{right:-10000px}.tox[dir=rtl] .tox-bar .tox-checkbox{margin-right:4px}.tox .tox-collection--toolbar .tox-collection__group{display:flex;padding:0}.tox .tox-collection--grid .tox-collection__group{display:flex;flex-wrap:wrap;max-height:208px;overflow-x:hidden;overflow-y:auto;padding:0}.tox .tox-collection--list .tox-collection__group{border-bottom-width:0;border-color:#e3e3e3;border-left-width:0;border-right-width:0;border-style:solid;border-top-width:1px;padding:4px 0}.tox .tox-collection--list .tox-collection__group:first-child{border-top-width:0}.tox .tox-collection__group-heading{background-color:#fcfcfc;color:rgba(34,47,62,.7);cursor:default;font-size:12px;font-style:normal;font-weight:400;margin-bottom:4px;margin-top:-4px;padding:4px 8px;text-transform:none;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection__item{align-items:center;border-radius:3px;color:#222f3e;display:flex;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection--list .tox-collection__item{padding:4px 8px}.tox .tox-collection--toolbar .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--grid .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--list .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){background-color:#fff;color:#222f3e}.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#006ce7;color:#fff}@media (forced-colors:active){.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){border:solid 1px}}.tox .tox-collection--grid .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){background-color:#a6ccf7;color:#222f3e}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#f0f0f0;color:#222f3e;position:relative;z-index:1}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 inset;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border:2px solid highlight}}.tox .tox-collection--toolbar .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){background-color:#a6ccf7;color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){border-radius:3px;outline:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#222f3e;background-color:#fff;position:relative}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):hover{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border:2px solid highlight}}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection__item-checkmark,.tox .tox-collection__item-icon{align-items:center;display:flex;height:24px;justify-content:center;width:24px}.tox .tox-collection__item-checkmark svg,.tox .tox-collection__item-icon svg{fill:currentColor}.tox .tox-collection--toolbar-lg .tox-collection__item-icon{height:48px;width:48px}.tox .tox-collection__item-label{color:currentColor;display:inline-block;flex:1;font-size:14px;font-style:normal;font-weight:400;line-height:24px;max-width:100%;text-transform:none;word-break:break-all}.tox .tox-collection__item-accessory{color:currentColor;display:inline-block;font-size:14px;height:24px;line-height:24px;text-transform:none}.tox .tox-collection__item-caret{align-items:center;display:flex;min-height:24px}.tox .tox-collection__item-caret::after{content:'';font-size:0;min-height:inherit}.tox .tox-collection__item-caret svg{fill:currentColor}.tox .tox-collection__item--state-disabled{background-color:transparent;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-collection__item--state-disabled .tox-collection__item-caret svg{fill:rgba(34,47,62,0.5)}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-checkmark svg{display:none}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-accessory+.tox-collection__item-checkmark{display:none}.tox .tox-collection--horizontal{background-color:#fff;border:1px solid #e3e3e3;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:nowrap;margin-bottom:0;overflow-x:auto;padding:0}.tox .tox-collection--horizontal .tox-collection__group{align-items:center;display:flex;flex-wrap:nowrap;margin:0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item{height:28px;margin:6px 1px 5px 0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item-label{white-space:nowrap}.tox .tox-collection--horizontal .tox-collection__item-caret{margin-left:4px}.tox .tox-collection__item-container{display:flex}.tox .tox-collection__item-container--row{align-items:center;flex:1 1 auto;flex-direction:row}.tox .tox-collection__item-container--row.tox-collection__item-container--align-left{margin-right:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--align-right{justify-content:flex-end;margin-left:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-top{align-items:flex-start;margin-bottom:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-middle{align-items:center}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-bottom{align-items:flex-end;margin-top:auto}.tox .tox-collection__item-container--column{align-self:center;flex:1 1 auto;flex-direction:column}.tox .tox-collection__item-container--column.tox-collection__item-container--align-left{align-items:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--align-right{align-items:flex-end}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-top{align-self:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-middle{align-self:center}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-bottom{align-self:flex-end}.tox:not([dir=rtl]) .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-right:1px solid transparent}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>:not(:first-child){margin-left:8px}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-left:4px}.tox:not([dir=rtl]) .tox-collection__item-accessory{margin-left:16px;text-align:right}.tox:not([dir=rtl]) .tox-collection .tox-collection__item-caret{margin-left:16px}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-left:1px solid transparent}.tox[dir=rtl] .tox-collection--list .tox-collection__item>:not(:first-child){margin-right:8px}.tox[dir=rtl] .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-right:4px}.tox[dir=rtl] .tox-collection__item-accessory{margin-right:16px;text-align:left}.tox[dir=rtl] .tox-collection .tox-collection__item-caret{margin-right:16px;transform:rotateY(180deg)}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__item-caret{margin-right:4px}@media (forced-colors:active){.tox .tox-hue-slider,.tox .tox-rgb-form .tox-rgba-preview{background-color:currentColor!important;border:1px solid highlight!important;forced-color-adjust:none}}.tox .tox-color-picker-container{display:flex;flex-direction:row;height:225px;margin:0}.tox .tox-sv-palette{box-sizing:border-box;display:flex;height:100%}.tox .tox-sv-palette-spectrum{height:100%}.tox .tox-sv-palette,.tox .tox-sv-palette-spectrum{width:225px}.tox .tox-sv-palette-thumb{background:0 0;border:1px solid #000;border-radius:50%;box-sizing:content-box;height:12px;position:absolute;width:12px}.tox .tox-sv-palette-inner-thumb{border:1px solid #fff;border-radius:50%;height:10px;position:absolute;width:10px}.tox .tox-hue-slider{box-sizing:border-box;height:100%;width:25px}.tox .tox-hue-slider-spectrum{background:linear-gradient(to bottom,red,#ff0080,#f0f,#8000ff,#00f,#0080ff,#0ff,#00ff80,#0f0,#80ff00,#ff0,#ff8000,red);height:100%;width:100%}.tox .tox-hue-slider,.tox .tox-hue-slider-spectrum{width:20px}.tox .tox-hue-slider-spectrum:focus,.tox .tox-sv-palette-spectrum:focus{outline:#08f solid}.tox .tox-hue-slider-thumb{background:#fff;border:1px solid #000;box-sizing:content-box;height:4px;width:100%}.tox .tox-rgb-form{display:flex;flex-direction:column;justify-content:space-between}.tox .tox-rgb-form div{align-items:center;display:flex;justify-content:space-between;margin-bottom:5px;width:inherit}.tox .tox-rgb-form input{min-width:6em}.tox .tox-rgb-form input.tox-invalid{border:1px solid red!important;box-shadow:0 0 0 1px red}.tox .tox-rgb-container{position:relative}.tox .tox-rgb-form .tox-invalid-icon{align-content:center;align-items:center;display:none;height:100%;position:absolute;right:0;top:0}.tox .tox-rgb-form .tox-invalid-icon .tox-control-wrap__status-icon-invalid{margin:0}.tox .tox-rgb-warning-note{background-color:#f5cccc;border:1px solid #f0b3b3;border-radius:3px;color:#77181f;padding:3px}.tox input.tox-invalid+.tox-invalid-icon{display:flex}.tox .tox-rgb-form .tox-rgba-preview{border:1px solid #000;flex-grow:2;margin-bottom:0}.tox:not([dir=rtl]) .tox-sv-palette{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider-thumb{margin-left:-1px}.tox:not([dir=rtl]) .tox-rgb-form label{margin-right:.5em}.tox[dir=rtl] .tox-sv-palette{margin-left:15px}.tox[dir=rtl] .tox-hue-slider{margin-left:15px}.tox[dir=rtl] .tox-hue-slider-thumb{margin-right:-1px}.tox[dir=rtl] .tox-rgb-form label{margin-left:.5em}.tox .tox-toolbar .tox-swatches,.tox .tox-toolbar__overflow .tox-swatches,.tox .tox-toolbar__primary .tox-swatches{margin:5px 0 6px 11px}.tox .tox-collection--list .tox-collection__group .tox-swatches-menu{border:0;margin:-4px -4px}.tox .tox-swatches__row{display:flex}@media (forced-colors:active){.tox .tox-swatches__row{forced-color-adjust:none}}.tox .tox-swatch{height:30px;transition:transform .15s,box-shadow .15s;width:30px}.tox .tox-swatch:focus,.tox .tox-swatch:hover{box-shadow:0 0 0 1px rgba(127,127,127,.3) inset;transform:scale(.8)}.tox .tox-swatch--remove{align-items:center;display:flex;justify-content:center}.tox .tox-swatch--remove svg path{stroke:#e74c3c}.tox .tox-swatches__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:0;padding:0;width:30px}.tox .tox-swatches__picker-btn svg{fill:#222f3e;height:24px;width:24px}.tox .tox-swatches__picker-btn:hover{background:#f0f0f0}.tox div.tox-swatch:not(.tox-swatch--remove) svg{display:none;fill:#222f3e;height:24px;margin:calc((30px - 24px)/ 2) calc((30px - 24px)/ 2);width:24px}.tox div.tox-swatch:not(.tox-swatch--remove) svg path{fill:#fff;paint-order:stroke;stroke:#222f3e;stroke-width:2px}.tox div.tox-swatch:not(.tox-swatch--remove).tox-collection__item--enabled svg{display:block}.tox:not([dir=rtl]) .tox-swatches__picker-btn{margin-left:auto}.tox[dir=rtl] .tox-swatches__picker-btn{margin-right:auto}.tox .tox-conversations{display:flex;flex-direction:column;position:relative;height:100%;min-width:300px;max-width:300px;width:300px}.tox .tox-conversations__header{align-items:center;display:flex;justify-content:space-between;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);padding:8px 12px;background:#fff;z-index:1}.tox .tox-conversations__title{font-size:20px;font-weight:400;padding:8px 0 8px 0;color:#222f3e;line-height:28px}.tox .tox-comment{background:#fff;border:1px solid #fff;border-radius:6px;padding:8px 8px 16px 8px;position:relative}.tox .tox-comment:hover{box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-comment.tox-comment--selected{background-color:#fff2c9;border:1px solid #ffcf30;box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-comment.tox-comment--selected:focus{border:2px solid #006ce7;margin:-1px}.tox .tox-comment.tox-comment--selected:focus:not(:first-child){margin-top:7px}.tox .tox-comment.tox-comment--selected .tox-comment__single{margin-bottom:12px}.tox .tox-comment.tox-comment--selected .tox-comment__single:focus{position:relative}.tox .tox-comment.tox-comment--selected .tox-comment__single:focus::after{top:-9px;pointer-events:none;position:absolute;content:"";display:block;bottom:-9px;left:-9px;right:-9px;border-radius:6px;border:2px solid #006ce7}.tox .tox-comment__header{align-items:center;color:#222f3e;display:flex;justify-content:space-between}.tox .tox-comment__date{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-comment__body{color:#222f3e;font-size:16px;font-style:normal;font-weight:400;line-height:1.3;margin-top:8px;position:relative;text-transform:initial;transition:max-height .5s cubic-bezier(0, 1, 0, 1);white-space:pre-wrap}.tox .tox-comment__body.tox-comment__body--expanded{max-height:100em;transition:max-height 1s ease-in-out}.tox .tox-comment__body.tox-comment__body--pending{transition:max-height 0s}.tox .tox-comment__body p{margin:0}.tox .tox-comment__body textarea{resize:none;white-space:normal;width:100%;font-size:16px}.tox .tox-comment__loading-text{align-items:center;color:#222f3e;display:flex;flex-direction:column;position:relative}.tox .tox-comment__loading-text>div{padding-bottom:16px}.tox .tox-comment__overlaytext{bottom:0;flex-direction:column;font-size:14px;left:0;padding:1em;position:absolute;right:0;top:0;z-index:10}.tox .tox-comment__overlaytext p{background-color:#fff;box-shadow:0 0 8px 8px #fff;color:#222f3e;text-align:center}.tox .tox-comment__overlaytext div:nth-of-type(2){font-size:.8em}.tox .tox-comment__expander{padding-top:8px}.tox .tox-comment__expander p{color:rgba(34,47,62,.7);font-size:14px;font-style:normal}.tox .tox-comment__expander p:focus{font-weight:700}.tox .tox-comment__buttonspacing{padding-top:16px;text-align:center}.tox .tox-tbtn.tox-comment__mention-btn{display:flex;width:34px;height:34px;padding:5px;justify-content:center;align-items:center;margin:0;background-color:transparent}.tox .tox-comment-thread{background:#fff;position:relative;border-radius:6px;background-color:transparent}.tox .tox-comment-thread>:not(:first-child){margin-top:8px}.tox .tox-comment-thread__overlay::after{background:#fff;bottom:0;content:"";display:flex;left:0;opacity:.9;position:absolute;right:0;top:0;z-index:5}.tox .tox-comment__reply{display:flex;flex-shrink:0;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__reply>:first-child{margin-bottom:8px;width:100%}.tox .tox-comment__edit{display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__gradient::after{background:linear-gradient(rgba(255,255,255,0),#fff);bottom:0;content:"";display:block;height:5em;margin-top:-40px;position:absolute;width:100%}.tox .tox-comment__overlay{background:#fff;bottom:0;display:flex;flex-direction:column;flex-grow:1;left:0;opacity:.9;position:absolute;right:0;text-align:center;top:0;z-index:5}.tox .tox-comment__busy-spinner{align-items:center;background-color:#fff;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:20}.tox .tox-comment__scroll{display:flex;flex-direction:column;flex-shrink:1;overflow:auto;padding:12px;scroll-behavior:smooth}.tox .tox-comment__scroll:has(textarea:focus){scroll-behavior:auto}.tox .tox-comment--disappearing{transition:opacity .5s ease}.tox .tox-comment[data-transitioning-destination=deleting]{opacity:0}.tox .tox-skeleton .tox-skeleton__line{height:16px;width:100%;background:linear-gradient(to right,rgba(240,240,240,.5) 8%,rgba(240,240,240,.7) 18%,rgba(240,240,240,.5) 33%);animation:wave 2s infinite ease-out}.tox .tox-skeleton .tox-skeleton__circle{height:36px;width:36px;margin-right:8px;border-radius:100%;background:linear-gradient(to right,rgba(240,240,240,.5) 8%,rgba(240,240,240,.7) 18%,rgba(240,240,240,.5) 33%);animation:wave 2s infinite ease-out}@keyframes wave{0%{background-position:-268px 0}100%{background-position:268px 0}}.tox .tox-ring-loader{width:10px;height:10px;border:1px solid #fff;border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:tox-rotation 1s linear infinite}.tox:not([dir=rtl]) .tox-comment__edit{margin-left:8px}.tox:not([dir=rtl]) .tox-comment__buttonspacing>:last-child,.tox:not([dir=rtl]) .tox-comment__edit>:last-child,.tox:not([dir=rtl]) .tox-comment__reply>:last-child{margin-left:8px}.tox[dir=rtl] .tox-comment__edit{margin-right:8px}.tox[dir=rtl] .tox-comment__buttonspacing>:last-child,.tox[dir=rtl] .tox-comment__edit>:last-child,.tox[dir=rtl] .tox-comment__reply>:last-child{margin-right:8px}.tox .tox-user{align-items:center;display:flex}.tox .tox-user__avatar svg{fill:rgba(34,47,62,0.7)}.tox .tox-user__avatar img{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-user__name{color:#222f3e;font-size:14px;font-style:normal;font-weight:700;line-height:18px;text-transform:none}.tox:not([dir=rtl]) .tox-user__avatar img,.tox:not([dir=rtl]) .tox-user__avatar svg{margin-right:8px}.tox:not([dir=rtl]) .tox-user__avatar+.tox-user__name{margin-left:8px}.tox[dir=rtl] .tox-user__avatar img,.tox[dir=rtl] .tox-user__avatar svg{margin-left:8px}.tox[dir=rtl] .tox-user__avatar+.tox-user__name{margin-right:8px}.tox .tox-dialog-wrap{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:1100}.tox .tox-dialog-wrap__backdrop{background-color:rgba(255,255,255,.75);bottom:0;left:0;position:absolute;right:0;top:0;z-index:1}.tox .tox-dialog-wrap__backdrop--opaque{background-color:#fff}.tox .tox-dialog{background-color:#fff;border-color:#eee;border-radius:10px;border-style:solid;border-width:0;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);display:flex;flex-direction:column;max-height:100%;max-width:480px;overflow:hidden;position:relative;width:95vw;z-index:2}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog{align-self:flex-start;margin:8px auto;max-height:calc(100vh - 8px * 2);width:calc(100vw - 16px)}}.tox .tox-dialog-inline{z-index:1100}.tox .tox-dialog__header{align-items:center;background-color:#fff;border-bottom:none;color:#222f3e;display:flex;font-size:16px;justify-content:space-between;padding:8px 16px 0 16px;position:relative}.tox .tox-dialog__header .tox-button{z-index:1}.tox .tox-dialog__draghandle{cursor:grab;height:100%;left:0;position:absolute;top:0;width:100%}.tox .tox-dialog__draghandle:active{cursor:grabbing}.tox .tox-dialog__dismiss{margin-left:auto}.tox .tox-dialog__title{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:20px;font-style:normal;font-weight:400;line-height:1.3;margin:0;text-transform:none}.tox .tox-dialog__body{color:#222f3e;display:flex;flex:1;font-size:16px;font-style:normal;font-weight:400;line-height:1.3;min-width:0;text-align:left;text-transform:none}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body{flex-direction:column}}.tox .tox-dialog__body-nav{align-items:flex-start;display:flex;flex-direction:column;flex-shrink:0;padding:16px 16px}@media only screen and (min-width:768px){.tox .tox-dialog__body-nav{max-width:11em}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body-nav{flex-direction:row;-webkit-overflow-scrolling:touch;overflow-x:auto;padding-bottom:0}}.tox .tox-dialog__body-nav-item{border-bottom:2px solid transparent;color:rgba(34,47,62,.7);display:inline-block;flex-shrink:0;font-size:14px;line-height:1.3;margin-bottom:8px;max-width:13em;-webkit-text-decoration:none;text-decoration:none}.tox .tox-dialog__body-nav-item:focus{background-color:rgba(0,108,231,.1)}.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid #144782;color:#144782}@media (forced-colors:active){.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid highlight;color:highlight}}.tox .tox-dialog__body-content{box-sizing:border-box;display:flex;flex:1;flex-direction:column;max-height:min(650px,calc(100vh - 110px));overflow:auto;-webkit-overflow-scrolling:touch;padding:16px 16px}.tox .tox-dialog__body-content>*{margin-bottom:0;margin-top:16px}.tox .tox-dialog__body-content>:first-child{margin-top:0}.tox .tox-dialog__body-content>:last-child{margin-bottom:0}.tox .tox-dialog__body-content>:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content a{color:#144782;cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus,.tox .tox-dialog__body-content a:hover{color:#071729;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus-visible{border-radius:1px;outline:2px solid #144782;outline-offset:2px}.tox .tox-dialog__body-content a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content svg{fill:#222f3e}.tox .tox-dialog__body-content strong{font-weight:700}.tox .tox-dialog__body-content ul{list-style-type:disc}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{padding-inline-start:2.5rem}.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{margin-bottom:16px}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content dt,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{display:block;margin-inline-end:0;margin-inline-start:0}.tox .tox-dialog__body-content .tox-form__group h1{color:#222f3e;font-size:20px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group h2{color:#222f3e;font-size:16px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group p{margin-bottom:16px}.tox .tox-dialog__body-content .tox-form__group h1:first-child,.tox .tox-dialog__body-content .tox-form__group h2:first-child,.tox .tox-dialog__body-content .tox-form__group p:first-child{margin-top:0}.tox .tox-dialog__body-content .tox-form__group h1:last-child,.tox .tox-dialog__body-content .tox-form__group h2:last-child,.tox .tox-dialog__body-content .tox-form__group p:last-child{margin-bottom:0}.tox .tox-dialog__body-content .tox-form__group h1:only-child,.tox .tox-dialog__body-content .tox-form__group h2:only-child,.tox .tox-dialog__body-content .tox-form__group p:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--center{text-align:center}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--end{text-align:end}.tox .tox-dialog--width-lg{height:650px;max-width:1200px}.tox .tox-dialog--fullscreen{height:100%;max-width:100%}.tox .tox-dialog--fullscreen .tox-dialog__body-content{max-height:100%}.tox .tox-dialog--width-md{max-width:800px}.tox .tox-dialog--width-md .tox-dialog__body-content{overflow:auto}.tox .tox-dialog__body-content--centered{text-align:center}.tox .tox-dialog__footer{align-items:center;background-color:#fff;border-top:none;display:flex;justify-content:space-between;padding:8px 16px}.tox .tox-dialog__footer-end,.tox .tox-dialog__footer-start{display:flex}.tox .tox-dialog__busy-spinner{align-items:center;background-color:rgba(255,255,255,.75);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:3}.tox .tox-dialog__table{border-collapse:collapse;width:100%}.tox .tox-dialog__table thead th{font-weight:700;padding-bottom:8px}.tox .tox-dialog__table thead th:first-child{padding-right:8px}.tox .tox-dialog__table tbody tr{border-bottom:1px solid #626262}.tox .tox-dialog__table tbody tr:last-child{border-bottom:none}.tox .tox-dialog__table td{padding-bottom:8px;padding-top:8px}.tox .tox-dialog__table td:first-child{padding-right:8px}.tox .tox-dialog__iframe{min-height:200px}.tox .tox-dialog__iframe.tox-dialog__iframe--opaque{background:#fff}.tox .tox-navobj-bordered{position:relative}.tox .tox-navobj-bordered::before{border:1px solid #eee;border-radius:6px;content:'';inset:0;opacity:1;pointer-events:none;position:absolute;z-index:1}.tox .tox-navobj-bordered iframe{border-radius:6px}.tox .tox-navobj-bordered-focus.tox-navobj-bordered::before{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-dialog__popups{position:absolute;width:100%;z-index:1100}.tox .tox-dialog__body-iframe{display:flex;flex:1;flex-direction:column}.tox .tox-dialog__body-iframe .tox-navobj{display:flex;flex:1}.tox .tox-dialog__body-iframe .tox-navobj :nth-child(2){flex:1;height:100%}.tox .tox-dialog-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-dialog-dock-fadein{opacity:1;visibility:visible}.tox .tox-dialog-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-dialog-dock-transition.tox-dialog-dock-fadein{transition-delay:0s}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav{margin-right:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav-item:not(:first-child){margin-left:8px}}.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-end>*,.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-start>*{margin-left:8px}.tox[dir=rtl] .tox-dialog__body{text-align:right}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav{margin-left:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav-item:not(:first-child){margin-right:8px}}.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-end>*,.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-start>*{margin-right:8px}body.tox-dialog__disable-scroll{overflow:hidden}.tox .tox-dropzone-container{display:flex;flex:1}.tox .tox-dropzone{align-items:center;background:#fff;border:2px dashed #eee;box-sizing:border-box;display:flex;flex-direction:column;flex-grow:1;justify-content:center;min-height:100px;padding:10px}.tox .tox-dropzone p{color:rgba(34,47,62,.7);margin:0 0 16px 0}.tox .tox-edit-area{display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-edit-area::before{border:2px solid #006ce7;border-radius:4px;content:'';inset:0;opacity:0;pointer-events:none;position:absolute;transition:opacity .15s;z-index:1}@media (forced-colors:active){.tox .tox-edit-area::before{border:2px solid highlight}}.tox .tox-edit-area__iframe{background-color:#fff;border:0;box-sizing:border-box;flex:1;height:100%;position:absolute;width:100%}.tox.tox-edit-focus .tox-edit-area::before{opacity:1}.tox.tox-inline-edit-area{border:1px dotted #eee}.tox .tox-editor-container{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-editor-header{display:grid;grid-template-columns:1fr min-content;z-index:2}.tox:not(.tox-tinymce-inline) .tox-editor-header{background-color:#fff;border-bottom:none;box-shadow:0 2px 2px -2px rgba(34,47,62,.1),0 8px 8px -4px rgba(34,47,62,.07);padding:4px 0}.tox:not(.tox-tinymce-inline) .tox-editor-header:not(.tox-editor-dock-transition){transition:box-shadow .5s}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-bottom .tox-editor-header{border-top:1px solid #e3e3e3;box-shadow:none}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on .tox-editor-header{background-color:#fff;box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15);padding:4px 0}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on.tox-tinymce--toolbar-bottom .tox-editor-header{box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15)}.tox.tox:not(.tox-tinymce-inline) .tox-editor-header.tox-editor-header--empty{background:0 0;border:none;box-shadow:none;padding:0}.tox-editor-dock-fadeout{opacity:0;visibility:hidden}.tox-editor-dock-fadein{opacity:1;visibility:visible}.tox-editor-dock-transition{transition:visibility 0s linear .25s,opacity .25s ease}.tox-editor-dock-transition.tox-editor-dock-fadein{transition-delay:0s}.tox .tox-control-wrap{flex:1;position:relative}.tox .tox-control-wrap:not(.tox-control-wrap--status-invalid) .tox-control-wrap__status-icon-invalid,.tox .tox-control-wrap:not(.tox-control-wrap--status-unknown) .tox-control-wrap__status-icon-unknown,.tox .tox-control-wrap:not(.tox-control-wrap--status-valid) .tox-control-wrap__status-icon-valid{display:none}.tox .tox-control-wrap svg{display:block}.tox .tox-control-wrap__status-icon-wrap{position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-control-wrap__status-icon-invalid svg{fill:#c00}.tox .tox-control-wrap__status-icon-unknown svg{fill:orange}.tox .tox-control-wrap__status-icon-valid svg{fill:green}.tox:not([dir=rtl]) .tox-control-wrap--status-invalid .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-unknown .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-valid .tox-textfield{padding-right:32px}.tox:not([dir=rtl]) .tox-control-wrap__status-icon-wrap{right:4px}.tox[dir=rtl] .tox-control-wrap--status-invalid .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-unknown .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-valid .tox-textfield{padding-left:32px}.tox[dir=rtl] .tox-control-wrap__status-icon-wrap{left:4px}.tox .tox-custom-preview{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;flex:1;padding:8px}.tox .tox-autocompleter{max-width:25em}.tox .tox-autocompleter .tox-menu{box-sizing:border-box;max-width:25em}.tox .tox-autocompleter .tox-autocompleter-highlight{font-weight:700}.tox .tox-color-input{display:flex;position:relative;z-index:1}.tox .tox-color-input .tox-textfield{z-index:-1}.tox .tox-color-input span{border-color:rgba(34 47 3.1%);border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;height:24px;position:absolute;top:6px;width:24px}@media (forced-colors:active){.tox .tox-color-input span{border-color:currentColor;border-width:2px!important;forced-color-adjust:none}}.tox .tox-color-input span:focus:not([aria-disabled=true]),.tox .tox-color-input span:hover:not([aria-disabled=true]){border-color:#006ce7;cursor:pointer}.tox .tox-color-input span::before{background-image:linear-gradient(45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(-45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(45deg,transparent 75%,rgba(0,0,0,.25) 75%),linear-gradient(-45deg,transparent 75%,rgba(0,0,0,.25) 75%);background-position:0 0,0 6px,6px -6px,-6px 0;background-size:12px 12px;border:1px solid #fff;border-radius:6px;box-sizing:border-box;content:'';height:24px;left:-1px;position:absolute;top:-1px;width:24px;z-index:-1}@media (forced-colors:active){.tox .tox-color-input span::before{border:none}}.tox .tox-color-input span[aria-disabled=true]{cursor:not-allowed}.tox:not([dir=rtl]) .tox-color-input .tox-textfield{padding-left:36px}.tox:not([dir=rtl]) .tox-color-input span{left:6px}.tox[dir=rtl] .tox-color-input .tox-textfield{padding-right:36px}.tox[dir=rtl] .tox-color-input span{right:6px}.tox .tox-label,.tox .tox-toolbar-label{color:rgba(34,47,62,.7);display:block;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;padding:0 8px 0 0;text-transform:none;white-space:nowrap}.tox .tox-toolbar-label{padding:0 8px}.tox[dir=rtl] .tox-label{padding:0 0 0 8px}.tox .tox-form{display:flex;flex:1;flex-direction:column}.tox .tox-form__group{box-sizing:border-box;margin-bottom:4px}.tox .tox-form-group--maximize{flex:1}.tox .tox-form__group--error{color:#c00}.tox .tox-form__group--collection{display:flex}.tox .tox-form__grid{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.tox .tox-form__grid--2col>.tox-form__group{width:calc(50% - (8px / 2))}.tox .tox-form__grid--3col>.tox-form__group{width:calc(100% / 3 - (8px / 2))}.tox .tox-form__grid--4col>.tox-form__group{width:calc(25% - (8px / 2))}.tox .tox-form__controls-h-stack{align-items:center;display:flex}.tox .tox-form__group--inline{align-items:center;display:flex}.tox .tox-form__group--stretched{display:flex;flex:1;flex-direction:column}.tox .tox-form__group--stretched .tox-textarea{flex:1}.tox .tox-form__group--stretched .tox-navobj{display:flex;flex:1}.tox .tox-form__group--stretched .tox-navobj :nth-child(2){flex:1;height:100%}.tox:not([dir=rtl]) .tox-form__controls-h-stack>:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-form__controls-h-stack>:not(:first-child){margin-right:4px}.tox .tox-lock.tox-locked .tox-lock-icon__unlock,.tox .tox-lock:not(.tox-locked) .tox-lock-icon__lock{display:none}.tox .tox-listboxfield .tox-listbox--select,.tox .tox-textarea,.tox .tox-textarea-wrap .tox-textarea:focus,.tox .tox-textfield,.tox .tox-toolbar-textfield{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-textarea[disabled],.tox .tox-textfield[disabled],.tox .tox-toolbar-textfield[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-custom-editor:focus-within,.tox .tox-focusable-wrapper:focus,.tox .tox-listboxfield .tox-listbox--select:focus,.tox .tox-textarea-wrap:focus-within,.tox .tox-textarea:focus,.tox .tox-textfield:focus,.tox .tox-toolbar-textfield:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-toolbar-textfield{max-width:250px;min-height:unset;height:28px;margin:5px 0 6px 0}.tox .tox-naked-btn{background-color:transparent;border:0;border-color:transparent;box-shadow:unset;color:#006ce7;cursor:pointer;display:block;margin:0;padding:0}.tox .tox-naked-btn svg{display:block;fill:#222f3e}.tox .tox-textfield-size{width:80px}.tox:not([dir=rtl]) .tox-toolbar-textfield+*{margin-left:4px}.tox[dir=rtl] .tox-toolbar-textfield+*{margin-right:4px}.tox .tox-listboxfield{cursor:pointer;position:relative}.tox .tox-listboxfield .tox-listbox--select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-listbox__select-label{cursor:default;flex:1;margin:0 4px}.tox .tox-listbox__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-listbox__select-chevron svg{fill:#222f3e}@media (forced-colors:active){.tox .tox-listbox__select-chevron svg{fill:currentColor!important}}.tox .tox-listboxfield .tox-listbox--select{align-items:center;display:flex}.tox:not([dir=rtl]) .tox-listboxfield svg{right:8px}.tox[dir=rtl] .tox-listboxfield svg{left:8px}.tox .tox-selectfield{cursor:pointer;position:relative}.tox .tox-selectfield select{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-selectfield select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-selectfield select::-ms-expand{display:none}.tox .tox-selectfield select:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-selectfield svg{pointer-events:none;position:absolute;top:50%;transform:translateY(-50%)}.tox:not([dir=rtl]) .tox-selectfield select[size="0"],.tox:not([dir=rtl]) .tox-selectfield select[size="1"]{padding-right:24px}.tox:not([dir=rtl]) .tox-selectfield svg{right:8px}.tox[dir=rtl] .tox-selectfield select[size="0"],.tox[dir=rtl] .tox-selectfield select[size="1"]{padding-left:24px}.tox[dir=rtl] .tox-selectfield svg{left:8px}.tox .tox-textarea-wrap{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;display:flex;flex:1;overflow:hidden}.tox .tox-textarea{appearance:textarea;white-space:pre-wrap}.tox .tox-textarea-wrap .tox-textarea{border:none}.tox .tox-textarea-wrap .tox-textarea:focus{border:none}.tox-fullscreen{border:0;height:100%;margin:0;overflow:hidden;overscroll-behavior:none;padding:0;touch-action:pinch-zoom;width:100%}.tox.tox-tinymce.tox-fullscreen .tox-statusbar__resize-handle{display:none}.tox-shadowhost.tox-fullscreen,.tox.tox-tinymce.tox-fullscreen{left:0;position:fixed;top:0;z-index:1200}.tox.tox-tinymce.tox-fullscreen{background-color:transparent}.tox-fullscreen .tox.tox-tinymce-aux,.tox-fullscreen~.tox.tox-tinymce-aux{z-index:1201}.tox .tox-help__more-link{list-style:none;margin-top:1em}.tox .tox-imagepreview{background-color:#666;height:380px;overflow:hidden;position:relative;width:100%}.tox .tox-imagepreview.tox-imagepreview__loaded{overflow:auto}.tox .tox-imagepreview__container{display:flex;left:100vw;position:absolute;top:100vw}.tox .tox-imagepreview__image{background:url(data:image/gif;base64,R0lGODdhDAAMAIABAMzMzP///ywAAAAADAAMAAACFoQfqYeabNyDMkBQb81Uat85nxguUAEAOw==)}.tox .tox-image-tools .tox-spacer{flex:1}.tox .tox-image-tools .tox-bar{align-items:center;display:flex;height:60px;justify-content:center}.tox .tox-image-tools .tox-imagepreview,.tox .tox-image-tools .tox-imagepreview+.tox-bar{margin-top:8px}.tox .tox-image-tools .tox-croprect-block{background:#000;opacity:.5;position:absolute;zoom:1}.tox .tox-image-tools .tox-croprect-handle{border:2px solid #fff;height:20px;left:0;position:absolute;top:0;width:20px}.tox .tox-image-tools .tox-croprect-handle-move{border:0;cursor:move;position:absolute}.tox .tox-image-tools .tox-croprect-handle-nw{border-width:2px 0 0 2px;cursor:nw-resize;left:100px;margin:-2px 0 0 -2px;top:100px}.tox .tox-image-tools .tox-croprect-handle-ne{border-width:2px 2px 0 0;cursor:ne-resize;left:200px;margin:-2px 0 0 -20px;top:100px}.tox .tox-image-tools .tox-croprect-handle-sw{border-width:0 0 2px 2px;cursor:sw-resize;left:100px;margin:-20px 2px 0 -2px;top:200px}.tox .tox-image-tools .tox-croprect-handle-se{border-width:0 2px 2px 0;cursor:se-resize;left:200px;margin:-20px 0 0 -20px;top:200px}.tox .tox-insert-table-picker{background-color:#fff;display:flex;flex-wrap:wrap;width:170px}.tox .tox-insert-table-picker>div{border-color:#eee;border-style:solid;border-width:0 1px 1px 0;box-sizing:border-box;height:17px;width:17px}.tox .tox-collection--list .tox-collection__group .tox-insert-table-picker{margin:-4px -4px}.tox .tox-insert-table-picker .tox-insert-table-picker__selected{background-color:#006ce7;border-color:#eee}@media (forced-colors:active){.tox .tox-insert-table-picker .tox-insert-table-picker__selected{border-color:Highlight;filter:contrast(50%)}}.tox .tox-insert-table-picker__label{color:rgba(34,47,62,.7);display:block;font-size:14px;padding:4px;text-align:center;width:100%}.tox:not([dir=rtl]) .tox-insert-table-picker>div:nth-child(10n){border-right:0}.tox[dir=rtl] .tox-insert-table-picker>div:nth-child(10n+1){border-right:0}.tox .tox-menu{background-color:#fff;border:1px solid transparent;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:inline-block;overflow:hidden;vertical-align:top;z-index:1150}.tox .tox-menu.tox-collection.tox-collection--list{padding:0 4px}.tox .tox-menu.tox-collection.tox-collection--toolbar{padding:8px}.tox .tox-menu.tox-collection.tox-collection--grid{padding:8px}@media only screen and (min-width:768px){.tox .tox-menu .tox-collection__item-label{overflow-wrap:break-word;word-break:normal}.tox .tox-dialog__popups .tox-menu .tox-collection__item-label{word-break:break-all}}.tox .tox-menu__label blockquote,.tox .tox-menu__label code,.tox .tox-menu__label h1,.tox .tox-menu__label h2,.tox .tox-menu__label h3,.tox .tox-menu__label h4,.tox .tox-menu__label h5,.tox .tox-menu__label h6,.tox .tox-menu__label p{margin:0}.tox .tox-menubar{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;grid-column:1/-1;grid-row:1;padding:0 11px 0 12px}.tox .tox-promotion+.tox-menubar{grid-column:1}.tox .tox-promotion{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;grid-column:2;grid-row:1;padding-inline-end:8px;padding-inline-start:4px;padding-top:5px}.tox .tox-promotion-link{align-items:unsafe center;background-color:#e8f1f8;border-radius:5px;color:#086be6;cursor:pointer;display:flex;font-size:14px;height:26.6px;padding:4px 8px;white-space:nowrap}.tox .tox-promotion-link:hover{background-color:#b4d7ff}.tox .tox-promotion-link:focus{background-color:#d9edf7}.tox .tox-mbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:5px 1px 6px 0;outline:0;padding:0 4px;text-transform:none;width:auto}.tox .tox-mbtn[disabled]{background-color:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-mbtn:focus:not(:disabled){background:#fff;border:0;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-mbtn:focus:not(:disabled)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-mbtn:focus:not(:disabled)::after{border:2px solid highlight}}.tox .tox-mbtn--active,.tox .tox-mbtn:not(:disabled).tox-mbtn--active:focus{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn:hover:not(:disabled):not(.tox-mbtn--active){background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn__select-label{cursor:default;font-weight:400;margin:0 4px}.tox .tox-mbtn[disabled] .tox-mbtn__select-label{cursor:not-allowed}.tox .tox-mbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px;display:none}.tox .tox-notification{border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;display:grid;font-size:14px;font-weight:400;grid-template-columns:minmax(40px,1fr) auto minmax(40px,1fr);margin-left:auto;margin-right:auto;margin-top:4px;opacity:0;padding:4px;transition:transform .1s ease-in,opacity 150ms ease-in;width:max-content}.tox .tox-notification a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification p{font-size:14px;font-weight:400}.tox .tox-notification:focus{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7}.tox .tox-notification--in{opacity:1}.tox .tox-notification--success{background-color:#e4eeda;border-color:#d7e6c8;color:#222f3e}.tox .tox-notification--success p{color:#222f3e}.tox .tox-notification--success a{color:#517342}.tox .tox-notification--success a:focus,.tox .tox-notification--success a:hover{color:#24321d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success a:focus-visible{border-radius:1px;outline:2px solid #517342;outline-offset:2px}.tox .tox-notification--success a:active{color:#0d120a;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success svg{fill:#222f3e}.tox .tox-notification--error{background-color:#f5cccc;border-color:#f0b3b3;color:#222f3e}.tox .tox-notification--error p{color:#222f3e}.tox .tox-notification--error a{color:#77181f}.tox .tox-notification--error a:focus,.tox .tox-notification--error a:hover{color:#220709;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error a:focus-visible{border-radius:1px;outline:2px solid #77181f;outline-offset:2px}.tox .tox-notification--error a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error svg{fill:#222f3e}.tox .tox-notification--warn,.tox .tox-notification--warning{background-color:#fff5cc;border-color:#fff0b3;color:#222f3e}.tox .tox-notification--warn p,.tox .tox-notification--warning p{color:#222f3e}.tox .tox-notification--warn a,.tox .tox-notification--warning a{color:#7a6e25}.tox .tox-notification--warn a:focus,.tox .tox-notification--warn a:hover,.tox .tox-notification--warning a:focus,.tox .tox-notification--warning a:hover{color:#2c280d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn a:focus-visible,.tox .tox-notification--warning a:focus-visible{border-radius:1px;outline:2px solid #7a6e25;outline-offset:2px}.tox .tox-notification--warn a:active,.tox .tox-notification--warning a:active{color:#050502;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn svg,.tox .tox-notification--warning svg{fill:#222f3e}.tox .tox-notification--info{background-color:#d6e7fb;border-color:#c1dbf9;color:#222f3e}.tox .tox-notification--info p{color:#222f3e}.tox .tox-notification--info a{color:#2a64a6}.tox .tox-notification--info a:focus,.tox .tox-notification--info a:hover{color:#163355;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info a:focus-visible{border-radius:1px;outline:2px solid #2a64a6;outline-offset:2px}.tox .tox-notification--info a:active{color:#0b1a2c;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info svg{fill:#222f3e}.tox .tox-notification__body{align-self:center;color:#222f3e;font-size:14px;grid-column-end:3;grid-column-start:2;grid-row-end:2;grid-row-start:1;text-align:center;white-space:normal;word-break:break-all;word-break:break-word}.tox .tox-notification__body>*{margin:0}.tox .tox-notification__body>*+*{margin-top:1rem}.tox .tox-notification__icon{align-self:center;grid-column-end:2;grid-column-start:1;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification__icon svg{display:block}.tox .tox-notification__dismiss{align-self:start;grid-column-end:4;grid-column-start:3;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification .tox-progress-bar{grid-column-end:4;grid-column-start:1;grid-row-end:3;grid-row-start:2;justify-self:center}.tox .tox-notification-container-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-notification-container-dock-fadein{opacity:1;visibility:visible}.tox .tox-notification-container-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-notification-container-dock-transition.tox-notification-container-dock-fadein{transition-delay:0s}.tox .tox-pop{display:inline-block;position:relative}.tox .tox-pop--resizing{transition:width .1s ease}.tox .tox-pop--resizing .tox-toolbar,.tox .tox-pop--resizing .tox-toolbar__group{flex-wrap:nowrap}.tox .tox-pop--transition{transition:.15s ease;transition-property:left,right,top,bottom}.tox .tox-pop--transition::after,.tox .tox-pop--transition::before{transition:all .15s,visibility 0s,opacity 75ms ease 75ms}.tox .tox-pop__dialog{background-color:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);min-width:0;overflow:hidden}.tox .tox-pop__dialog>:not(.tox-toolbar){margin:4px 4px 4px 8px}.tox .tox-pop__dialog .tox-toolbar{background-color:transparent;margin-bottom:-1px}.tox .tox-pop::after,.tox .tox-pop::before{border-style:solid;content:'';display:block;height:0;opacity:1;position:absolute;width:0}@media (forced-colors:active){.tox .tox-pop::after,.tox .tox-pop::before{content:none}}.tox .tox-pop.tox-pop--inset::after,.tox .tox-pop.tox-pop--inset::before{opacity:0;transition:all 0s .15s,visibility 0s,opacity 75ms ease}.tox .tox-pop.tox-pop--bottom::after,.tox .tox-pop.tox-pop--bottom::before{left:50%;top:100%}.tox .tox-pop.tox-pop--bottom::after{border-color:#fff transparent transparent transparent;border-width:8px;margin-left:-8px;margin-top:-1px}.tox .tox-pop.tox-pop--bottom::before{border-color:#eee transparent transparent transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--top::after,.tox .tox-pop.tox-pop--top::before{left:50%;top:0;transform:translateY(-100%)}.tox .tox-pop.tox-pop--top::after{border-color:transparent transparent #fff transparent;border-width:8px;margin-left:-8px;margin-top:1px}.tox .tox-pop.tox-pop--top::before{border-color:transparent transparent #eee transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--left::after,.tox .tox-pop.tox-pop--left::before{left:0;top:calc(50% - 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--left::after{border-color:transparent #fff transparent transparent;border-width:8px;margin-left:-15px}.tox .tox-pop.tox-pop--left::before{border-color:transparent #eee transparent transparent;border-width:10px;margin-left:-19px}.tox .tox-pop.tox-pop--right::after,.tox .tox-pop.tox-pop--right::before{left:100%;top:calc(50% + 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--right::after{border-color:transparent transparent transparent #fff;border-width:8px;margin-left:-1px}.tox .tox-pop.tox-pop--right::before{border-color:transparent transparent transparent #eee;border-width:10px;margin-left:-1px}.tox .tox-pop.tox-pop--align-left::after,.tox .tox-pop.tox-pop--align-left::before{left:20px}.tox .tox-pop.tox-pop--align-right::after,.tox .tox-pop.tox-pop--align-right::before{left:calc(100% - 20px)}.tox .tox-sidebar-wrap{display:flex;flex-direction:row;flex-grow:1;min-height:0}.tox .tox-sidebar{background-color:#f0f0f0;display:flex;flex-direction:row;justify-content:flex-end}.tox .tox-sidebar__slider{display:flex;overflow:hidden}.tox .tox-sidebar__pane-container{display:flex}.tox .tox-sidebar__pane{display:flex}.tox .tox-sidebar--sliding-closed{opacity:0}.tox .tox-sidebar--sliding-open{opacity:1}.tox .tox-sidebar--sliding-growing,.tox .tox-sidebar--sliding-shrinking{transition:width .5s ease,opacity .5s ease}.tox .tox-selector{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;display:inline-block;height:10px;position:absolute;width:10px}.tox.tox-platform-touch .tox-selector{height:12px;width:12px}.tox .tox-slider{align-items:center;display:flex;flex:1;height:24px;justify-content:center;position:relative}.tox .tox-slider__rail{background-color:transparent;border:1px solid #eee;border-radius:6px;height:10px;min-width:120px;width:100%}.tox .tox-slider__handle{background-color:#006ce7;border:2px solid #0054b4;border-radius:6px;box-shadow:none;height:24px;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%);width:14px}.tox .tox-form__controls-h-stack>.tox-slider:not(:first-of-type){margin-inline-start:8px}.tox .tox-form__controls-h-stack>.tox-form__group+.tox-slider{margin-inline-start:32px}.tox .tox-form__controls-h-stack>.tox-slider+.tox-form__group{margin-inline-start:32px}.tox .tox-toolbar-slider{align-items:center;display:inline-flex;height:16px}.tox .tox-toolbar-slider__input{appearance:none;background:#eee;border-radius:16px;width:130px;height:2px}.tox .tox-toolbar-slider__input::-webkit-slider-runnable-track{background-color:transparent;height:16px}.tox .tox-toolbar-slider__input::-moz-range-track{background-color:transparent;height:16px}.tox .tox-toolbar-slider__input::-webkit-slider-thumb{-webkit-appearance:none;background-color:#006ce7;border-radius:16px;border:none;height:16px;width:16px}.tox .tox-toolbar-slider__input::-moz-range-thumb{appearance:none;background-color:#006ce7;border-radius:16px;border:none;height:16px;width:16px}.tox .tox-toolbar-slider__input:focus-visible{outline:0}.tox .tox-toolbar-slider__input:focus::-webkit-slider-thumb{background-color:#0060ce;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7}.tox .tox-toolbar-slider__input:focus::-moz-range-thumb{background-color:#0060ce;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7}.tox .tox-toolbar-slider__input:hover::-webkit-slider-thumb{background-color:#0060ce}.tox .tox-toolbar-slider__input:hover::-moz-range-thumb{background-color:#0060ce}.tox .tox-toolbar-slider__input:active::-webkit-slider-thumb{background-color:#0054b4}.tox .tox-toolbar-slider__input:active::-moz-range-thumb{background-color:#0054b4}.tox .tox-toolbar-slider__input[disabled]::-webkit-slider-thumb{background-color:rgba(255,255,255,.5)}.tox .tox-toolbar-slider__input[disabled]::-moz-range-thumb{background-color:rgba(255,255,255,.5)}.tox .tox-source-code{overflow:auto}.tox .tox-spinner{display:flex}.tox .tox-spinner>div{animation:tam-bouncing-dots 1.5s ease-in-out 0s infinite both;background-color:rgba(34,47,62,.7);border-radius:100%;height:8px;width:8px}.tox .tox-spinner>div:first-child{animation-delay:-.32s}.tox .tox-spinner>div:nth-child(2){animation-delay:-.16s}@keyframes tam-bouncing-dots{0%,100%,80%{transform:scale(0)}40%{transform:scale(1)}}.tox:not([dir=rtl]) .tox-spinner>div:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-spinner>div:not(:first-child){margin-right:4px}.tox .tox-statusbar{align-items:center;background-color:#fff;border-top:1px solid #e3e3e3;color:rgba(34,47,62,.7);display:flex;flex:0 0 auto;font-size:14px;font-weight:400;height:25px;overflow:hidden;padding:0 8px;position:relative;text-transform:none}.tox .tox-statusbar__path{display:flex;flex:1 1 auto;text-overflow:ellipsis;white-space:nowrap}.tox .tox-statusbar__right-container{display:flex;justify-content:flex-end;white-space:nowrap}.tox .tox-statusbar__help-text{text-align:center}.tox .tox-statusbar__text-container{align-items:flex-start;display:flex;flex:1 1 auto;height:16px;justify-content:space-between}@media only screen and (min-width:768px){.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__help-text,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__path,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__right-container{flex:0 0 calc(100% / 3)}}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-end{justify-content:flex-end}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-start{justify-content:flex-start}.tox .tox-statusbar__text-container.tox-statusbar__text-container--space-around{justify-content:space-around}.tox .tox-statusbar__path>*{display:inline;white-space:nowrap}.tox .tox-statusbar__wordcount{flex:0 0 auto;margin-left:1ch}@media only screen and (max-width:767px){.tox .tox-statusbar__text-container .tox-statusbar__help-text{display:none}.tox .tox-statusbar__text-container .tox-statusbar__help-text:only-child{display:block}}.tox .tox-statusbar a,.tox .tox-statusbar__path-item,.tox .tox-statusbar__wordcount{color:rgba(34,47,62,.7);position:relative;-webkit-text-decoration:none;text-decoration:none}.tox .tox-statusbar a:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar a:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:hover:not(:disabled):not([aria-disabled=true]){color:#222f3e;cursor:pointer}.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border:2px solid highlight}}.tox .tox-statusbar__branding svg{fill:rgba(34,47,62,0.8);height:1em;margin-left:.3em;width:auto}@media (forced-colors:active){.tox .tox-statusbar__branding svg{fill:currentColor}}.tox .tox-statusbar__branding a{align-items:center;display:inline-flex}.tox .tox-statusbar__branding a:focus:not(:disabled):not([aria-disabled=true]) svg,.tox .tox-statusbar__branding a:hover:not(:disabled):not([aria-disabled=true]) svg{fill:#222f3e}.tox .tox-statusbar__resize-handle{align-items:flex-end;align-self:stretch;cursor:nwse-resize;display:flex;flex:0 0 auto;justify-content:flex-end;margin-bottom:3px;margin-left:4px;margin-right:calc(3px - 8px);margin-top:3px;padding-bottom:0;padding-left:0;padding-right:0;position:relative}.tox .tox-statusbar__resize-handle svg{display:block;fill:rgba(34,47,62,0.5)}.tox .tox-statusbar__resize-handle:focus svg,.tox .tox-statusbar__resize-handle:hover svg{fill:#222f3e}.tox .tox-statusbar__resize-handle:focus-visible{background-color:transparent;border-radius:1px 1px 5px 1px;box-shadow:0 0 0 2px transparent}.tox .tox-statusbar__resize-handle:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar__resize-handle:focus-visible::after{border:2px solid highlight}}.tox .tox-statusbar__resize-handle:only-child{margin-left:auto}.tox:not([dir=rtl]) .tox-statusbar__path>*{margin-right:4px}.tox:not([dir=rtl]) .tox-statusbar__branding{margin-left:2ch}.tox[dir=rtl] .tox-statusbar{flex-direction:row-reverse}.tox[dir=rtl] .tox-statusbar__path>*{margin-left:4px}.tox[dir=rtl] .tox-statusbar__branding svg{margin-left:0;margin-right:.3em}.tox .tox-throbber{z-index:1299}.tox .tox-throbber__busy-spinner{align-items:center;background-color:rgba(255,255,255,.6);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}.tox .tox-tbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:6px 1px 5px 0;outline:0;padding:0;text-transform:none;width:34px}@media (forced-colors:active){.tox .tox-tbtn.tox-tbtn:hover,.tox .tox-tbtn:hover{outline:1px dashed currentColor}.tox .tox-tbtn.tox-tbtn--active,.tox .tox-tbtn.tox-tbtn--enabled,.tox .tox-tbtn.tox-tbtn--enabled:focus,.tox .tox-tbtn.tox-tbtn--enabled:hover,.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){outline:1px solid currentColor;position:relative}}.tox .tox-tbtn svg{display:block;fill:#222f3e}@media (forced-colors:active){.tox .tox-tbtn svg{fill:currentColor!important}.tox .tox-tbtn svg.tox-tbtn--enabled,.tox .tox-tbtn svg:focus:not(.tox-tbtn--disabled){fill:currentColor!important}.tox .tox-tbtn svg .tox-tbtn:disabled,.tox .tox-tbtn svg .tox-tbtn:disabled:hover,.tox .tox-tbtn svg.tox-tbtn--disabled,.tox .tox-tbtn svg.tox-tbtn--disabled:hover{filter:contrast(0%)}}.tox .tox-tbtn.tox-tbtn-more{padding-left:5px;padding-right:5px;width:inherit}.tox .tox-tbtn:focus{background:#fff;border:0;box-shadow:none;position:relative;z-index:1}.tox .tox-tbtn:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn:focus::after{border:2px solid highlight}}.tox .tox-tbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:hover svg{fill:#222f3e}.tox .tox-tbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:active svg{fill:#222f3e}.tox .tox-tbtn--disabled .tox-tbtn--enabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--disabled,.tox .tox-tbtn--disabled:hover,.tox .tox-tbtn:disabled,.tox .tox-tbtn:disabled:hover{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tbtn--disabled svg,.tox .tox-tbtn--disabled:hover svg,.tox .tox-tbtn:disabled svg,.tox .tox-tbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--active,.tox .tox-tbtn--enabled,.tox .tox-tbtn--enabled:focus,.tox .tox-tbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e;position:relative}.tox .tox-tbtn--active>*,.tox .tox-tbtn--enabled:focus>*,.tox .tox-tbtn--enabled:hover>*,.tox .tox-tbtn--enabled>*{transform:none}.tox .tox-tbtn--active svg,.tox .tox-tbtn--enabled svg,.tox .tox-tbtn--enabled:focus svg,.tox .tox-tbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tbtn--active.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:focus.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:hover.tox-tbtn--disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--enabled:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn--enabled:focus::after{border:2px solid highlight}}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){color:#222f3e}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled) svg{fill:#222f3e}.tox .tox-tbtn:active>*{transform:none}.tox .tox-tbtn--md{height:42px;width:51px}.tox .tox-tbtn--lg{flex-direction:column;height:56px;width:68px}.tox .tox-tbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tbtn--labeled{padding:0 4px;width:unset}.tox .tox-tbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-label--context-toolbar{margin:6px 1px 5px 0;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-number-input{background:#f7f7f7;border-radius:3px;display:flex;margin:6px 1px 5px 0;position:relative;width:auto}.tox .tox-number-input:focus{background:#f7f7f7}.tox .tox-number-input:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper{display:flex;pointer-events:none;position:relative;text-align:center}.tox .tox-number-input .tox-input-wrapper:focus{background-color:#f7f7f7;z-index:1}.tox .tox-number-input .tox-input-wrapper:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border:2px solid highlight}}.tox .tox-number-input input{border-radius:3px;color:#222f3e;font-size:14px;margin:2px 0;pointer-events:all;position:relative;width:60px}.tox .tox-number-input input:hover{background:#f0f0f0;color:#222f3e}.tox .tox-number-input input:focus{background-color:#f7f7f7}.tox .tox-number-input input:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button{color:#222f3e;height:28px;position:relative;text-align:center;width:24px}@media (forced-colors:active){.tox .tox-number-input button:active,.tox .tox-number-input button:focus,.tox .tox-number-input button:hover{outline:1px solid currentColor!important}}.tox .tox-number-input button svg{display:block;fill:#222f3e;margin:0 auto;transform:scale(.67)}@media (forced-colors:active){.tox .tox-number-input button svg,.tox .tox-number-input button svg:active,.tox .tox-number-input button svg:hover{fill:currentColor!important}.tox .tox-number-input button svg:disabled{filter:contrast(0)}}.tox .tox-number-input button:focus{background:#f7f7f7;z-index:1}.tox .tox-number-input button:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input button:focus::after{border:2px solid highlight}}.tox .tox-number-input button:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:hover svg{fill:#222f3e}.tox .tox-number-input button:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:active svg{fill:#222f3e}.tox .tox-number-input button:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button:disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-number-input button.minus{border-radius:3px 0 0 3px}.tox .tox-number-input button.plus{border-radius:0 3px 3px 0}.tox .tox-number-input:focus:not(:active)>.tox-input-wrapper,.tox .tox-number-input:focus:not(:active)>button{background:#f7f7f7}.tox .tox-tbtn--select{margin:6px 1px 5px 0;padding:0 4px;width:auto}.tox .tox-tbtn__select-label{cursor:default;font-weight:400;height:initial;margin:0 4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-tbtn__select-chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-tbtn__select-chevron svg{fill:currentColor}}.tox .tox-tbtn--bespoke{background:#f7f7f7}.tox .tox-tbtn--bespoke:focus{background:#f7f7f7}.tox .tox-tbtn--bespoke+.tox-tbtn--bespoke{margin-inline-start:4px}.tox .tox-tbtn--bespoke .tox-tbtn__select-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:7em}.tox .tox-tbtn--disabled .tox-tbtn__select-label,.tox .tox-tbtn--select:disabled .tox-tbtn__select-label{cursor:not-allowed}.tox .tox-split-button{border:0;border-radius:3px;box-sizing:border-box;display:flex;margin:6px 1px 5px 0}.tox .tox-split-button:hover{box-shadow:0 0 0 1px #f0f0f0 inset}.tox .tox-split-button:focus{background:#fff;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-split-button:focus::after{pointer-events:none;border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-split-button:focus::after{border:2px solid highlight}}.tox .tox-split-button>*{border-radius:0}.tox .tox-split-button>:first-child{border-bottom-left-radius:3px;border-top-left-radius:3px}.tox .tox-split-button>:nth-child(2){border-bottom-right-radius:3px;border-top-right-radius:3px}.tox .tox-split-button__chevron{width:16px}.tox .tox-split-button__chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-split-button__chevron svg{fill:currentColor}}.tox .tox-split-button .tox-tbtn{margin:0}.tox .tox-split-button:focus .tox-tbtn{background-color:transparent}.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:focus,.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:hover,.tox .tox-split-button.tox-tbtn--disabled:focus,.tox .tox-split-button.tox-tbtn--disabled:hover{background:#fff;box-shadow:none;color:rgba(34,47,62,.5)}.tox.tox-platform-touch .tox-split-button .tox-tbtn--select{padding:0 0}.tox.tox-platform-touch .tox-split-button .tox-tbtn:not(.tox-tbtn--select):first-child{width:30px}.tox.tox-platform-touch .tox-split-button__chevron{width:20px}.tox .tox-split-button.tox-tbtn--disabled svg .tox-icon-highlight-bg-color__color,.tox .tox-split-button.tox-tbtn--disabled svg .tox-icon-text-color__color{opacity:.3}.tox .tox-toolbar-overlord{background-color:#fff}.tox .tox-toolbar,.tox .tox-toolbar__overflow,.tox .tox-toolbar__primary{background-attachment:local;background-color:#fff;background-image:repeating-linear-gradient(#e3e3e3 0 1px,transparent 1px 39px);background-position:center top 40px;background-repeat:no-repeat;background-size:calc(100% - 11px * 2) calc(100% - 41px);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;padding:0 0;transform:perspective(1px)}.tox .tox-toolbar-overlord>.tox-toolbar,.tox .tox-toolbar-overlord>.tox-toolbar__overflow,.tox .tox-toolbar-overlord>.tox-toolbar__primary{background-position:center top 0;background-size:calc(100% - 11px * 2) calc(100% - 0px)}.tox .tox-toolbar__overflow.tox-toolbar__overflow--closed{height:0;opacity:0;padding-bottom:0;padding-top:0;visibility:hidden}.tox .tox-toolbar__overflow--growing{transition:height .3s ease,opacity .2s linear .1s}.tox .tox-toolbar__overflow--shrinking{transition:opacity .3s ease,height .2s linear .1s,visibility 0s linear .3s}.tox .tox-anchorbar,.tox .tox-toolbar-overlord{grid-column:1/-1}.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{border-top:1px solid transparent;margin-top:-1px;padding-bottom:1px;padding-top:1px}@media (forced-colors:active){.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{outline:1px solid currentColor}}.tox .tox-toolbar--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-pop .tox-toolbar{border-width:0}.tox .tox-toolbar--no-divider{background-image:none}.tox .tox-toolbar-overlord .tox-toolbar:not(.tox-toolbar--scrolling):first-child,.tox .tox-toolbar-overlord .tox-toolbar__primary{background-position:center top 39px}.tox .tox-editor-header>.tox-toolbar--scrolling,.tox .tox-toolbar-overlord .tox-toolbar--scrolling:first-child{background-image:none}.tox .tox-focusable-wrapper{border:1px solid transparent;margin-right:2px;pointer-events:none}.tox .tox-focusable-wrapper .tox-textfield-size{pointer-events:all}.tox .tox-focusable-wrapper:focus{background-color:#f7f7f7;border-radius:6px;border-style:solid;border-width:1px}.tox.tox-tinymce-aux .tox-toolbar__overflow{background-color:#fff;background-position:center top 43px;background-size:calc(100% - 8px * 2) calc(100% - 51px);border:none;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);overscroll-behavior:none;padding:4px 0}@media (forced-colors:active){.tox.tox-tinymce-aux .tox-toolbar__overflow{border:solid}}.tox-pop .tox-pop__dialog .tox-toolbar{background-position:center top 43px;background-size:calc(100% - 11px * 2) calc(100% - 51px);padding:4px 0}.tox-context-form__group{display:flex;align-items:center}.tox .tox-toolbar__group{align-items:center;display:flex;flex-wrap:wrap;margin:0 0;padding:0 11px 0 12px}.tox .tox-toolbar__group--pull-right{margin-left:auto}.tox .tox-toolbar--scrolling .tox-toolbar__group{flex-shrink:0;flex-wrap:nowrap}.tox:not([dir=rtl]) .tox-toolbar__group:not(:last-of-type){border-right:1px solid transparent}.tox[dir=rtl] .tox-toolbar__group:not(:last-of-type){border-left:1px solid transparent}.tox .tox-tooltip{display:inline-block;max-width:15em;padding:8px;pointer-events:none;position:relative;width:max-content;z-index:1150}.tox .tox-tooltip__body{background-color:#222f3e;border-radius:6px;box-shadow:none;color:#fff;font-size:12px;font-style:normal;font-weight:600;overflow-wrap:break-word;padding:4px 6px;text-transform:none}@media (forced-colors:active){.tox .tox-tooltip__body{outline:outset 1px}}.tox .tox-tooltip__arrow{position:absolute}.tox .tox-tooltip--down .tox-tooltip__arrow{border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #222f3e;bottom:0;left:50%;position:absolute;transform:translateX(-50%)}.tox .tox-tooltip--up .tox-tooltip__arrow{border-bottom:8px solid #222f3e;border-left:8px solid transparent;border-right:8px solid transparent;left:50%;position:absolute;top:0;transform:translateX(-50%)}.tox .tox-tooltip--right .tox-tooltip__arrow{border-bottom:8px solid transparent;border-left:8px solid #222f3e;border-top:8px solid transparent;position:absolute;right:0;top:50%;transform:translateY(-50%)}.tox .tox-tooltip--left .tox-tooltip__arrow{border-bottom:8px solid transparent;border-right:8px solid #222f3e;border-top:8px solid transparent;left:0;position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-tree{display:flex;flex-direction:column}.tox .tox-tree .tox-trbtn{align-items:center;background:0 0;border:0;border-radius:4px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;margin-bottom:4px;margin-top:4px;outline:0;overflow:hidden;padding:0;padding-left:8px;text-transform:none}.tox .tox-tree .tox-trbtn .tox-tree__label{cursor:default;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tree .tox-trbtn svg{display:block;fill:#222f3e}.tox .tox-tree .tox-trbtn:focus{background:#f0f0f0;border:0;box-shadow:none}.tox .tox-tree .tox-trbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:active svg{fill:#222f3e}.tox .tox-tree .tox-trbtn--disabled,.tox .tox-tree .tox-trbtn--disabled:hover,.tox .tox-tree .tox-trbtn:disabled,.tox .tox-tree .tox-trbtn:disabled:hover{background:0 0;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tree .tox-trbtn--disabled svg,.tox .tox-tree .tox-trbtn--disabled:hover svg,.tox .tox-tree .tox-trbtn:disabled svg,.tox .tox-tree .tox-trbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tree .tox-trbtn--enabled,.tox .tox-tree .tox-trbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn--enabled:hover>*,.tox .tox-tree .tox-trbtn--enabled>*{transform:none}.tox .tox-tree .tox-trbtn--enabled svg,.tox .tox-tree .tox-trbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled){color:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled) svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active>*{transform:none}.tox .tox-tree .tox-trbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tree .tox-trbtn--labeled{padding:0 4px;width:unset}.tox .tox-tree .tox-trbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-tree .tox-tree--directory{display:flex;flex-direction:column}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label{font-weight:700}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:focus .tox-mbtn svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-chevron{margin-right:6px}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--shrinking) .tox-chevron{transition:transform .5s ease-in-out}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--open) .tox-chevron{transform:rotate(90deg)}.tox .tox-tree .tox-tree--leaf__label{font-weight:400}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--leaf__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-icon-custom-state{flex-grow:1;display:flex;justify-content:flex-end}.tox .tox-tree .tox-tree--directory__children{overflow:hidden;padding-left:16px}.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--growing,.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--shrinking{transition:height .5s ease-in-out}.tox .tox-tree .tox-trbtn.tox-tree--leaf__label{display:flex;justify-content:space-between}.tox .tox-revisionhistory__pane{padding:0!important}.tox .tox-revisionhistory__container{display:flex;flex-direction:column;height:100%}.tox .tox-revisionhistory{background-color:#fff;border-top:1px solid #f0f0f0;display:flex;flex:1;height:100%;margin-top:8px;overflow-x:auto;overflow-y:hidden;position:relative;width:100%}.tox .tox-revisionhistory--align-right{margin-left:auto}.tox .tox-revisionhistory__iframe{flex:1}.tox .tox-revisionhistory__sidebar{display:flex;flex-direction:column;height:100%;min-width:248px;width:316px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__sidebar-title{background-color:#fff;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);color:#222f3e;font-size:20px;font-weight:400;line-height:28px;padding:12px;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions{background-color:#f0f0f0;display:flex;flex:1;flex-direction:column;gap:12px;overflow-y:auto;padding:10px 12px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus{height:100%;position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;bottom:1px;left:1px;right:1px;top:1px}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card{background-color:#fff;border:1px solid #f0f0f0;border-radius:6px;color:#222f3e;cursor:pointer;display:flex;flex-direction:column;font-size:14px;gap:12px;padding:12px;width:100%}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:hover{box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus{position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #006ce7;box-shadow:0 0 0 2px #006ce7!important}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected{background-color:#fff5cc;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);position:relative}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #e3b82a;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #e3b82a}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date{display:flex;gap:12px;justify-content:space-between}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date-label{font-size:16px;line-height:24px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-label{font-size:12px;font-weight:600;line-height:24px;padding:0}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author{align-items:center;display:flex;flex:1 0 0;gap:8px;height:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:14px;font-weight:700;line-height:18px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__avatar{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__norevision{color:rgba(34,47,62,.7);font-size:16px;line-height:24px;padding:5px 5.5px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-check-icon{color:#222f3e;height:24px}.tox .tox-view-wrap,.tox .tox-view-wrap__slot-container{background-color:#fff;display:flex;flex:1;flex-direction:column;height:100%}.tox .tox-view{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-view__header{align-items:center;display:flex;font-size:16px;justify-content:space-between;padding:10px 10px 2px 10px;position:relative}.tox .tox-view__label{color:#222f3e;font-weight:700;line-height:24px;padding:4px 16px;text-align:center;white-space:nowrap}.tox .tox-view__label--normal{font-size:16px}.tox .tox-view__label--large{font-size:20px}.tox .tox-view--mobile.tox-view__header,.tox .tox-view--mobile.tox-view__toolbar{padding:8px}.tox .tox-view--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-view__toolbar{display:flex;flex-direction:row;gap:8px;justify-content:space-between;overflow-x:auto;padding:10px 10px 2px 10px}.tox .tox-view__toolbar__group{display:flex;flex-direction:row;gap:12px}.tox .tox-view__header-end,.tox .tox-view__header-start{display:flex}.tox .tox-view__pane{height:100%;padding:8px;position:relative;width:100%}.tox .tox-view__pane_panel{border:1px solid #eee;border-radius:6px}.tox:not([dir=rtl]) .tox-view__header .tox-view__header-end>*,.tox:not([dir=rtl]) .tox-view__header .tox-view__header-start>*{margin-left:8px}.tox[dir=rtl] .tox-view__header .tox-view__header-end>*,.tox[dir=rtl] .tox-view__header .tox-view__header-start>*{margin-right:8px}.tox .tox-well{border:1px solid #eee;border-radius:6px;padding:8px;width:100%}.tox .tox-well>:first-child{margin-top:0}.tox .tox-well>:last-child{margin-bottom:0}.tox .tox-well>:only-child{margin:0}.tox .tox-custom-editor{border:1px solid #eee;border-radius:6px;display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-dialog-loading::before{background-color:rgba(0,0,0,.5);content:"";height:100%;position:absolute;width:100%;z-index:1000}.tox .tox-tab{cursor:pointer}.tox .tox-dialog__content-js{display:flex;flex:1}.tox .tox-dialog__body-content .tox-collection{display:flex;flex:1}`);tinymce.Resource.add("ui/oxide/content.css",`@keyframes tox-rotation{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.mce-content-body .mce-item-anchor{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'8'%20height%3D'12'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20d%3D'M0%200L8%200%208%2012%204.09117821%209%200%2012z'%2F%3E%3C%2Fsvg%3E%0A") no-repeat center}.mce-content-body .mce-item-anchor:empty{cursor:default;display:inline-block;height:12px!important;padding:0 2px;-webkit-user-modify:read-only;-moz-user-modify:read-only;-webkit-user-select:all;user-select:all;width:8px!important}.mce-content-body .mce-item-anchor:not(:empty){background-position-x:2px;display:inline-block;padding-left:12px}.mce-content-body .mce-item-anchor[data-mce-selected]{outline-offset:1px}.tox-comments-visible .tox-comment[contenteditable=false]:not([data-mce-selected]),.tox-comments-visible span.tox-comment img:not([data-mce-selected]),.tox-comments-visible span.tox-comment span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment>video:not([data-mce-selected]){outline:3px solid #ffe796}.tox-comments-visible .tox-comment[contenteditable=false][data-mce-annotation-active=true]:not([data-mce-selected]){outline:3px solid #ffcf30}.tox-comments-visible span.tox-comment:not([data-mce-selected]){background-color:#ffe796;outline:0}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]:not([data-mce-selected=inline-boundary]){background-color:#ffcf30}.tox-comments-visible span.tox-comment[data-mce-selected]{background-color:#ffcf30;border-radius:3px;box-shadow:0 0 0 2px #006ce7}.tox-comments-visible span.tox-comment[data-mce-selected]:has(img[data-mce-selected],> audio[data-mce-selected],> video[data-mce-selected],span.mce-preview-object[data-mce-selected]){box-shadow:none}.tox-comments-visible span.tox-comment[data-mce-selected] img:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-selected] span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-selected]>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-selected]>video:not([data-mce-selected]){box-shadow:0 0 0 5px #006ce7}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] img:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>video:not([data-mce-selected]){outline:3px solid #ffcf30}.tox-checklist>li:not(.tox-checklist--hidden){list-style:none;margin:.25em 0}.tox-checklist>li:not(.tox-checklist--hidden)::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-unchecked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2215%22%20height%3D%2215%22%20x%3D%22.5%22%20y%3D%22.5%22%20fill-rule%3D%22nonzero%22%20stroke%3D%22%234C4C4C%22%20rx%3D%222%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A");cursor:pointer;height:1em;margin-left:-1.5em;margin-top:.125em;position:absolute;width:1em}.tox-checklist li:not(.tox-checklist--hidden).tox-checklist--checked::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-checked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%234099FF%22%20fill-rule%3D%22nonzero%22%20rx%3D%222%22%2F%3E%3Cpath%20id%3D%22Path%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%20d%3D%22M11.5703186%2C3.14417309%20C11.8516238%2C2.73724603%2012.4164781%2C2.62829933%2012.83558%2C2.89774797%20C13.260121%2C3.17069355%2013.3759736%2C3.72932262%2013.0909105%2C4.14168582%20L7.7580587%2C11.8560195%20C7.43776896%2C12.3193404%206.76483983%2C12.3852142%206.35607322%2C11.9948725%20L3.02491697%2C8.8138662%20C2.66090143%2C8.46625845%202.65798871%2C7.89594698%203.01850234%2C7.54483354%20C3.373942%2C7.19866177%203.94940006%2C7.19592841%204.30829608%2C7.5386474%20L6.85276923%2C9.9684299%20L11.5703186%2C3.14417309%20Z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A")}[dir=rtl] .tox-checklist>li:not(.tox-checklist--hidden)::before{margin-left:0;margin-right:-1.5em}code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;tab-size:4;hyphens:none}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.mce-content-body{overflow-wrap:break-word;word-wrap:break-word}.mce-content-body .mce-visual-caret{background-color:#000;background-color:currentColor;position:absolute}.mce-content-body .mce-visual-caret-hidden{display:none}.mce-content-body [data-mce-caret]{left:-1000px;margin:0;padding:0;position:absolute;right:auto;top:0}.mce-content-body .mce-offscreen-selection{left:-2000000px;max-width:1000000px;position:absolute}.mce-content-body [contentEditable=false]{cursor:default}.mce-content-body [contentEditable=true]{cursor:text}.tox-cursor-format-painter{cursor:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%0A%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M15%2C6%20C15%2C5.45%2014.55%2C5%2014%2C5%20L6%2C5%20C5.45%2C5%205%2C5.45%205%2C6%20L5%2C10%20C5%2C10.55%205.45%2C11%206%2C11%20L14%2C11%20C14.55%2C11%2015%2C10.55%2015%2C10%20L15%2C9%20L16%2C9%20L16%2C12%20L9%2C12%20L9%2C19%20C9%2C19.55%209.45%2C20%2010%2C20%20L11%2C20%20C11.55%2C20%2012%2C19.55%2012%2C19%20L12%2C14%20L18%2C14%20L18%2C7%20L15%2C7%20L15%2C6%20Z%22%2F%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M1%2C1%20L8.25%2C1%20C8.66421356%2C1%209%2C1.33578644%209%2C1.75%20L9%2C1.75%20C9%2C2.16421356%208.66421356%2C2.5%208.25%2C2.5%20L2.5%2C2.5%20L2.5%2C8.25%20C2.5%2C8.66421356%202.16421356%2C9%201.75%2C9%20L1.75%2C9%20C1.33578644%2C9%201%2C8.66421356%201%2C8.25%20L1%2C1%20Z%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A"),default}div.mce-footnotes hr{margin-inline:0 auto;width:25%}div.mce-footnotes li>a.mce-footnotes-backlink{-webkit-text-decoration:none;text-decoration:none}@media print{sup.mce-footnote a{color:#000;-webkit-text-decoration:none;text-decoration:none}div.mce-footnotes{page-break-inside:avoid;break-inside:avoid;width:100%}div.mce-footnotes li>a.mce-footnotes-backlink{display:none}}tiny-math-block{display:flex;justify-content:center;margin:16px 0 16px 0}tiny-math-inline{display:inline-block}.mce-content-body figure.align-left{float:left}.mce-content-body figure.align-right{float:right}.mce-content-body figure.image.align-center{display:table;margin-left:auto;margin-right:auto}.mce-preview-object{border:1px solid gray;display:inline-block;line-height:0;margin:0 2px;position:relative}.mce-preview-object .mce-shim{background:url("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7");height:100%;left:0;position:absolute;top:0;width:100%}.mce-preview-object[data-mce-selected="2"] .mce-shim{display:none}.mce-content-body .mce-mergetag{cursor:default!important;-webkit-user-select:none;user-select:none}.mce-content-body .mce-mergetag:hover{background-color:rgba(0,108,231,.1)}.mce-content-body .mce-mergetag-affix{background-color:rgba(0,108,231,.1);color:#006ce7}.mce-object{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M4%203h16a1%201%200%200%201%201%201v16a1%201%200%200%201-1%201H4a1%201%200%200%201-1-1V4a1%201%200%200%201%201-1zm1%202v14h14V5H5zm4.79%202.565l5.64%204.028a.5.5%200%200%201%200%20.814l-5.64%204.028a.5.5%200%200%201-.79-.407V7.972a.5.5%200%200%201%20.79-.407z%22%2F%3E%3C%2Fsvg%3E%0A") no-repeat center;border:1px dashed #aaa}.mce-pagebreak{border:1px dashed #aaa;cursor:default;display:block;height:5px;margin-top:15px;page-break-before:always;width:100%}@media print{.mce-pagebreak{border:0}}.tiny-pageembed .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.tiny-pageembed[data-mce-selected="2"] .mce-shim{display:none}.tiny-pageembed{display:inline-block;position:relative}.tiny-pageembed--16by9,.tiny-pageembed--1by1,.tiny-pageembed--21by9,.tiny-pageembed--4by3{display:block;overflow:hidden;padding:0;position:relative;width:100%}.tiny-pageembed--21by9{padding-top:42.857143%}.tiny-pageembed--16by9{padding-top:56.25%}.tiny-pageembed--4by3{padding-top:75%}.tiny-pageembed--1by1{padding-top:100%}.tiny-pageembed--16by9 iframe,.tiny-pageembed--1by1 iframe,.tiny-pageembed--21by9 iframe,.tiny-pageembed--4by3 iframe{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.mce-content-body[data-mce-placeholder]{position:relative}.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:rgba(34,47,62,.7);content:attr(data-mce-placeholder);position:absolute}@media (forced-colors:active){.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:highlight;filter:brightness(30%);z-index:-1}}.mce-content-body:not([dir=rtl])[data-mce-placeholder]:not(.mce-visualblocks)::before{left:1px}.mce-content-body[dir=rtl][data-mce-placeholder]:not(.mce-visualblocks)::before{right:1px}.mce-content-body div.mce-resizehandle{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;height:10px;position:absolute;width:10px;z-index:1298}.mce-content-body div.mce-resizehandle:hover{background-color:#4099ff}.mce-content-body div.mce-resizehandle:first-of-type{cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(2){cursor:nesw-resize}.mce-content-body div.mce-resizehandle:nth-of-type(3){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(4){cursor:nesw-resize}.mce-content-body .mce-resize-backdrop{z-index:10000}.mce-content-body .mce-clonedresizable{cursor:default;opacity:.5;outline:1px dashed black;position:absolute;z-index:10001}.mce-content-body .mce-clonedresizable.mce-resizetable-columns td,.mce-content-body .mce-clonedresizable.mce-resizetable-columns th{border:0}.mce-content-body .mce-resize-helper{background:#555;background:rgba(0 0 0%);border:1px;border-radius:3px;color:#fff;display:none;font-family:sans-serif;font-size:12px;line-height:14px;margin:5px 10px;padding:5px;position:absolute;white-space:nowrap;z-index:10002}.tox-rtc-user-selection{position:relative}.tox-rtc-user-cursor{bottom:0;cursor:default;position:absolute;top:0;width:2px}.tox-rtc-user-cursor::before{background-color:inherit;border-radius:50%;content:'';display:block;height:8px;position:absolute;right:-3px;top:-3px;width:8px}.tox-rtc-user-cursor:hover::after{background-color:inherit;border-radius:100px;box-sizing:border-box;color:#fff;content:attr(data-user);display:block;font-size:12px;font-weight:700;left:-5px;min-height:8px;min-width:8px;padding:0 12px;position:absolute;top:-11px;white-space:nowrap;z-index:1000}.tox-rtc-user-selection--1 .tox-rtc-user-cursor{background-color:#2dc26b}.tox-rtc-user-selection--2 .tox-rtc-user-cursor{background-color:#e03e2d}.tox-rtc-user-selection--3 .tox-rtc-user-cursor{background-color:#f1c40f}.tox-rtc-user-selection--4 .tox-rtc-user-cursor{background-color:#3598db}.tox-rtc-user-selection--5 .tox-rtc-user-cursor{background-color:#b96ad9}.tox-rtc-user-selection--6 .tox-rtc-user-cursor{background-color:#e67e23}.tox-rtc-user-selection--7 .tox-rtc-user-cursor{background-color:#aaa69d}.tox-rtc-user-selection--8 .tox-rtc-user-cursor{background-color:#f368e0}.tox-rtc-remote-image{background:#eaeaea url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2236%22%20height%3D%2212%22%20viewBox%3D%220%200%2036%2012%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Ccircle%20cx%3D%226%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2218%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.33s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2230%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.66s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%3C%2Fsvg%3E%0A") no-repeat center center;border:1px solid #ccc;min-height:240px;min-width:320px}.mce-match-marker{background:#aaa;color:#fff}.mce-match-marker-selected{background:#39f;color:#fff}.mce-match-marker-selected::selection{background:#39f;color:#fff}.mce-content-body audio[data-mce-selected],.mce-content-body details[data-mce-selected],.mce-content-body embed[data-mce-selected],.mce-content-body img[data-mce-selected],.mce-content-body object[data-mce-selected],.mce-content-body table[data-mce-selected],.mce-content-body video[data-mce-selected]{outline:3px solid #b4d7ff}.mce-content-body hr[data-mce-selected]{outline:3px solid #b4d7ff;outline-offset:1px}.mce-content-body [contentEditable=false] [contentEditable=true]:focus{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false] [contentEditable=true]:hover{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false][data-mce-selected]{cursor:not-allowed;outline:3px solid #b4d7ff}.mce-content-body [data-mce-selected=inline-boundary]{background-color:#b4d7ff}.mce-content-body .mce-edit-focus{outline:3px solid #b4d7ff}.mce-content-body td[data-mce-selected],.mce-content-body th[data-mce-selected]{position:relative}.mce-content-body td[data-mce-selected]::selection,.mce-content-body th[data-mce-selected]::selection{background:0 0}.mce-content-body td[data-mce-selected] *,.mce-content-body th[data-mce-selected] *{outline:0;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{background-color:rgba(180,215,255,.7);border:1px solid rgba(180,215,255,.7);bottom:-1px;content:'';left:-1px;mix-blend-mode:multiply;position:absolute;right:-1px;top:-1px}@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{border-color:rgba(0,84,180,.7)}}.mce-content-body img[data-mce-selected]::selection{background:0 0}.ephox-snooker-resizer-bar{background-color:#b4d7ff;opacity:0;-webkit-user-select:none;user-select:none}.ephox-snooker-resizer-cols{cursor:col-resize}.ephox-snooker-resizer-rows{cursor:row-resize}.ephox-snooker-resizer-bar.ephox-snooker-resizer-bar-dragging{opacity:1}.mce-spellchecker-word{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%23ff0000'%20fill%3D'none'%20stroke-linecap%3D'round'%20stroke-opacity%3D'.75'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default;height:2rem}.mce-spellchecker-grammar{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%2300A835'%20fill%3D'none'%20stroke-linecap%3D'round'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default}.mce-toc{border:1px solid gray}.mce-toc h2{margin:4px}.mce-toc ul>li{list-style-type:none}[data-mce-block]{display:block}.mce-item-table:not([border]),.mce-item-table:not([border]) caption,.mce-item-table:not([border]) td,.mce-item-table:not([border]) th,.mce-item-table[border="0"],.mce-item-table[border="0"] caption,.mce-item-table[border="0"] td,.mce-item-table[border="0"] th,table[style*="border-width: 0px"],table[style*="border-width: 0px"] caption,table[style*="border-width: 0px"] td,table[style*="border-width: 0px"] th{border:1px dashed #bbb}.tox-uc-loading-background{width:100%;height:100%;background:rgba(255,255,255,.5)}.tox-uc-loading-spinner-wrapper{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.tox-uc-loading-spinner{width:min(24px,30%);aspect-ratio:1;border-radius:50%;border:3px solid #006ce7;border-bottom-color:transparent;animation:tox-rotation 1s linear infinite}.tox-uploadcare-placeholder{all:initial;display:inline-block;position:relative;width:600px;height:80px;--tox-uploadcare-placeholder--content-cursor:auto!important;--tox-uploadcare-placeholder--content-color:rgba(34, 47, 62, 0.7);--tox-uploadcare-placeholder--content-background-color:#fff;--tox-uploadcare-placeholder--content-border:2px solid #e3e3e3;--tox-uploadcare-placeholder--content-font-family:monospace,sans-serif;--tox-uploadcare-placeholder--content-height:100%;--tox-uploadcare-placeholder--content-width:100%;--tox-uploadcare-placeholder--content-display:inline-flex;--tox-uploadcare-placeholder--content-align-items:center;--tox-uploadcare-placeholder--content-justify-content:center;--tox-uploadcare-placeholder--content-gap:8px;--tox-uploadcare-placeholder--icon-fill:rgba(34, 47, 62, 0.7);--tox-uc-loading-spinner-wrapper-display-none:none;--tox-uc-loading-spinner-wrapper-display:flex;--tox-uc-loading-spinner-wrapper-position:absolute;--tox-uc-loading-spinner-wrapper-top:0;--tox-uc-loading-spinner-wrapper-left:0;--tox-uc-loading-spinner-wrapper-width:100%;--tox-uc-loading-spinner-wrapper-height:100%;--tox-uc-loading-spinner-wrapper-justify-content:center;--tox-uc-loading-spinner-wrapper-align-items:center;--tox-uc-loading-spinner-aspect-ratio:1/1;--tox-uc-loading-spinner-width:min(24px, 30%);--tox-uc-loading-spinner-border-radius:50%;--tox-uc-loading-spinner-border:3px solid #006ce7;--tox-uc-loading-spinner-border-bottom-color:transparent;--tox-uc-loading-spinner-animation:tox-rotation 1s linear infinite}.mce-visualblocks address,.mce-visualblocks article,.mce-visualblocks aside,.mce-visualblocks blockquote,.mce-visualblocks div:not([data-mce-bogus]),.mce-visualblocks dl,.mce-visualblocks figcaption,.mce-visualblocks figure,.mce-visualblocks h1,.mce-visualblocks h2,.mce-visualblocks h3,.mce-visualblocks h4,.mce-visualblocks h5,.mce-visualblocks h6,.mce-visualblocks hgroup,.mce-visualblocks ol,.mce-visualblocks p,.mce-visualblocks pre,.mce-visualblocks section,.mce-visualblocks ul{background-repeat:no-repeat;border:1px dashed #bbb;margin-left:3px;padding-top:10px}.mce-visualblocks p{background-image:url(data:image/gif;base64,R0lGODlhCQAJAJEAAAAAAP///7u7u////yH5BAEAAAMALAAAAAAJAAkAAAIQnG+CqCN/mlyvsRUpThG6AgA7)}.mce-visualblocks h1{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGu1JuxHoAfRNRW3TWXyF2YiRUAOw==)}.mce-visualblocks h2{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8Hybbx4oOuqgTynJd6bGlWg3DkJzoaUAAAOw==)}.mce-visualblocks h3{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIZjI8Hybbx4oOuqgTynJf2Ln2NOHpQpmhAAQA7)}.mce-visualblocks h4{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxInR0zqeAdhtJlXwV1oCll2HaWgAAOw==)}.mce-visualblocks h5{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjane4iq5GlW05GgIkIZUAAAOw==)}.mce-visualblocks h6{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjan04jep1iZ1XRlAo5bVgAAOw==)}.mce-visualblocks div:not([data-mce-bogus]){background-image:url(data:image/gif;base64,R0lGODlhEgAKAIABALu7u////yH5BAEAAAEALAAAAAASAAoAAAIfjI9poI0cgDywrhuxfbrzDEbQM2Ei5aRjmoySW4pAAQA7)}.mce-visualblocks section{background-image:url(data:image/gif;base64,R0lGODlhKAAKAIABALu7u////yH5BAEAAAEALAAAAAAoAAoAAAI5jI+pywcNY3sBWHdNrplytD2ellDeSVbp+GmWqaDqDMepc8t17Y4vBsK5hDyJMcI6KkuYU+jpjLoKADs=)}.mce-visualblocks article{background-image:url(data:image/gif;base64,R0lGODlhKgAKAIABALu7u////yH5BAEAAAEALAAAAAAqAAoAAAI6jI+pywkNY3wG0GBvrsd2tXGYSGnfiF7ikpXemTpOiJScasYoDJJrjsG9gkCJ0ag6KhmaIe3pjDYBBQA7)}.mce-visualblocks blockquote{background-image:url(data:image/gif;base64,R0lGODlhPgAKAIABALu7u////yH5BAEAAAEALAAAAAA+AAoAAAJPjI+py+0Knpz0xQDyuUhvfoGgIX5iSKZYgq5uNL5q69asZ8s5rrf0yZmpNkJZzFesBTu8TOlDVAabUyatguVhWduud3EyiUk45xhTTgMBBQA7)}.mce-visualblocks address{background-image:url(data:image/gif;base64,R0lGODlhLQAKAIABALu7u////yH5BAEAAAEALAAAAAAtAAoAAAI/jI+pywwNozSP1gDyyZcjb3UaRpXkWaXmZW4OqKLhBmLs+K263DkJK7OJeifh7FicKD9A1/IpGdKkyFpNmCkAADs=)}.mce-visualblocks pre{background-image:url(data:image/gif;base64,R0lGODlhFQAKAIABALu7uwAAACH5BAEAAAEALAAAAAAVAAoAAAIjjI+ZoN0cgDwSmnpz1NCueYERhnibZVKLNnbOq8IvKpJtVQAAOw==)}.mce-visualblocks figure{background-image:url(data:image/gif;base64,R0lGODlhJAAKAIAAALu7u////yH5BAEAAAEALAAAAAAkAAoAAAI0jI+py+2fwAHUSFvD3RlvG4HIp4nX5JFSpnZUJ6LlrM52OE7uSWosBHScgkSZj7dDKnWAAgA7)}.mce-visualblocks figcaption{border:1px dashed #bbb}.mce-visualblocks hgroup{background-image:url(data:image/gif;base64,R0lGODlhJwAKAIABALu7uwAAACH5BAEAAAEALAAAAAAnAAoAAAI3jI+pywYNI3uB0gpsRtt5fFnfNZaVSYJil4Wo03Hv6Z62uOCgiXH1kZIIJ8NiIxRrAZNMZAtQAAA7)}.mce-visualblocks aside{background-image:url(data:image/gif;base64,R0lGODlhHgAKAIABAKqqqv///yH5BAEAAAEALAAAAAAeAAoAAAItjI+pG8APjZOTzgtqy7I3f1yehmQcFY4WKZbqByutmW4aHUd6vfcVbgudgpYCADs=)}.mce-visualblocks ul{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIAAALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGuYnqUVSjvw26DzzXiqIDlVwAAOw==)}.mce-visualblocks ol{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybH6HHt0qourxC6CvzXieHyeWQAAOw==)}.mce-visualblocks dl{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybEOnmOvUoWznTqeuEjNSCqeGRUAOw==)}.mce-visualblocks:not([dir=rtl]) address,.mce-visualblocks:not([dir=rtl]) article,.mce-visualblocks:not([dir=rtl]) aside,.mce-visualblocks:not([dir=rtl]) blockquote,.mce-visualblocks:not([dir=rtl]) div:not([data-mce-bogus]),.mce-visualblocks:not([dir=rtl]) dl,.mce-visualblocks:not([dir=rtl]) figcaption,.mce-visualblocks:not([dir=rtl]) figure,.mce-visualblocks:not([dir=rtl]) h1,.mce-visualblocks:not([dir=rtl]) h2,.mce-visualblocks:not([dir=rtl]) h3,.mce-visualblocks:not([dir=rtl]) h4,.mce-visualblocks:not([dir=rtl]) h5,.mce-visualblocks:not([dir=rtl]) h6,.mce-visualblocks:not([dir=rtl]) hgroup,.mce-visualblocks:not([dir=rtl]) ol,.mce-visualblocks:not([dir=rtl]) p,.mce-visualblocks:not([dir=rtl]) pre,.mce-visualblocks:not([dir=rtl]) section,.mce-visualblocks:not([dir=rtl]) ul{margin-left:3px}.mce-visualblocks[dir=rtl] address,.mce-visualblocks[dir=rtl] article,.mce-visualblocks[dir=rtl] aside,.mce-visualblocks[dir=rtl] blockquote,.mce-visualblocks[dir=rtl] div:not([data-mce-bogus]),.mce-visualblocks[dir=rtl] dl,.mce-visualblocks[dir=rtl] figcaption,.mce-visualblocks[dir=rtl] figure,.mce-visualblocks[dir=rtl] h1,.mce-visualblocks[dir=rtl] h2,.mce-visualblocks[dir=rtl] h3,.mce-visualblocks[dir=rtl] h4,.mce-visualblocks[dir=rtl] h5,.mce-visualblocks[dir=rtl] h6,.mce-visualblocks[dir=rtl] hgroup,.mce-visualblocks[dir=rtl] ol,.mce-visualblocks[dir=rtl] p,.mce-visualblocks[dir=rtl] pre,.mce-visualblocks[dir=rtl] section,.mce-visualblocks[dir=rtl] ul{background-position-x:right;margin-right:3px}.mce-nbsp,.mce-shy{background:#aaa}.mce-shy::after{content:'-'}[data-ephox-foam-a11y-violation]{outline:2px solid;position:relative}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation]{outline-width:4px;transition:outline-width .1s ease-in-out,background-color .1s ease-in-out}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-severity-info]{outline-color:#006ce7}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-severity-warn]{outline-color:#fc0}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-severity-error]{outline-color:#c00}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation=info]{outline-color:#006ce7;background-color:#e6f0fd}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation=warning]{outline-color:#fc0;background-color:#fffae6}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation=error]{outline-color:#c00;background-color:#fae6e6}body{font-family:sans-serif}table{border-collapse:collapse}`);tinymce.addI18n("nl",{"#":"#",Accessibility:"Toegankelijkheid",Accordion:"","Accordion body...":"","Accordion summary...":"",Action:"Actie",Activity:"Activiteit",Address:"Adres",Advanced:"Geavanceerd",Align:"Uitlijnen","Align center":"Centreren","Align left":"Links uitlijnen","Align right":"Rechts uitlijnen",Alignment:"Uitlijning","Alignment {0}":"",All:"Alle","Alternative description":"Alternatieve beschrijving","Alternative source":"Alternatieve bron","Alternative source URL":"Alternatief bron-URL",Anchor:"Anker","Anchor...":"Anker...",Anchors:"Ankers","Animals and Nature":"Dieren en natuur",Arrows:"Pijlen",B:"B","Background color":"Achtergrondkleur","Background color {0}":"",Black:"Zwart",Block:"Blok","Block {0}":"",Blockquote:"Quote",Blocks:"Blokken",Blue:"Blauw","Blue component":"Blauw component",Body:"Body",Bold:"Vet",Border:"Rand","Border color":"Randkleur","Border style":"Randstijl","Border width":"Randbreedte",Bottom:"Onder","Browse files":"","Browse for an image":"Afbeelding zoeken","Browse links":"","Bullet list":"Lijst met opsommingstekens",Cancel:"Annuleren",Caption:"Onderschrift",Cell:"Cel","Cell padding":"Celopvulling","Cell properties":"Celeigenschappen","Cell spacing":"Celafstand","Cell styles":"Cel stijlen","Cell type":"Celtype",Center:"Centreren",Characters:"Tekens","Characters (no spaces)":"Tekens (geen spaties)",Circle:"Cirkel",Class:"Klasse","Clear formatting":"Opmaak wissen",Close:"Sluiten",Code:"Broncode","Code sample...":"Codevoorbeeld...","Code view":"Code bekijken","Color Picker":"Kleurenkiezer","Color swatch":"Kleurenwaaier",Cols:"Kolommen",Column:"Kolom","Column clipboard actions":"Kolom klembord acties","Column group":"Kolomgroep","Column header":"Kolom kop","Constrain proportions":"Verhoudingen behouden",Copy:"Kopiëren","Copy column":"Kopieer kolom","Copy row":"Rij kopiëren","Could not find the specified string.":"Kan opgegeven reeks niet vinden","Could not load emojis":"Kan de emoji's niet laden",Count:"Telling",Currency:"Valuta","Current window":"Huidige venster","Custom color":"Aangepaste kleur","Custom...":"Aangepast...",Cut:"Knippen","Cut column":"Knip kolom","Cut row":"Rij knippen","Dark Blue":"Donkerblauw","Dark Gray":"Donkergrijs","Dark Green":"Donkergroen","Dark Orange":"Donkeroranje","Dark Purple":"Donkerpaars","Dark Red":"Donkerrood","Dark Turquoise":"Donkerturquoise","Dark Yellow":"Donkergeel",Dashed:"Onderbroken","Date/time":"Datum/tijd","Decrease indent":"Inspringing verkleinen",Default:"Standaard","Delete accordion":"","Delete column":"Kolom verwijderen","Delete row":"Rij verwijderen ","Delete table":"Tabel verwijderen",Dimensions:"Afmetingen",Disc:"Schijf",Div:"Div",Document:"Dokument",Dotted:"Gestippeld",Double:"Dubbel","Drop an image here":"Hier een afbeelding neerzetten","Dropped file type is not supported":"Gesleepte bestandstype wordt niet ondersteund",Edit:"Bewerken",Embed:"Insluiten",Emojis:"Emoji's","Emojis...":"Emoji's...",Error:"Fout","Error: Form submit field collision.":"Fout: Veldconflict bij versturen formulier.","Error: No form element found.":"Fout: Geen formulierelement gevonden.","Extended Latin":"Latijn uitgebreid ","Failed to initialize plugin: {0}":"Niet gelukt om plug-in te initialiseren: {0}","Failed to load plugin url: {0}":"Niet gelukt om URL plug-in te laden: {0}","Failed to load plugin: {0} from url {1}":"Niet gelukt om plug-in te laden: {0} vanaf URL {1}","Failed to upload image: {0}":"Niet gelukt om afbeelding te uploaden: {0}",File:"Bestand",Find:"Zoeken","Find (if searchreplace plugin activated)":"Zoeken (als plug-in voor zoeken/vervangen geactiveerd is)","Find and Replace":"Zoek en vervang","Find and replace...":"Zoeken en vervangen...","Find in selection":"Zoek in selectie","Find whole words only":"Alleen hele woorden zoeken",Flags:"Vlaggen","Focus to contextual toolbar":"Focus op contextuele werkbalk instellen ","Focus to element path":"Focus op elementenpad instellen ","Focus to menubar":"Focus op menubalk instellen ","Focus to toolbar":"Focus op werkbalk instellen ",Font:"Lettertype","Font size {0}":"","Font sizes":"Tekengroottes","Font {0}":"",Fonts:"Lettertypes","Food and Drink":"Eten en drinken",Footer:"Voettekst",Format:"Opmaak","Format {0}":"",Formats:"Opmaken",Fullscreen:"Volledig scherm",G:"G",General:"Algemeen",Gray:"Grijs",Green:"Groen","Green component":"Groen component",Groove:"Groef","Handy Shortcuts":"Handige snelkoppelingen",Header:"Koptekst ","Header cell":"Koptekstcel","Heading 1":"Kop 1","Heading 2":"Kop 2","Heading 3":"Kop 3","Heading 4":"Kop 4","Heading 5":"Kop 5","Heading 6":"Kop 6",Headings:"Koppen",Height:"Hoogte",Help:"Help","Hex color code":"Hex kleurcode",Hidden:"Verborgen","Horizontal align":"Horizontaal uitlijnen","Horizontal line":"Horizontale lijn","Horizontal space":"Horizontale ruimte",ID:"ID","ID should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores.":"ID moet beginnen met een letter en daarna enkel gevolgd door letters, getallen, streepjes, punten, komma's of underscores.","Image is decorative":"Afbeelding is decoratief","Image list":"Afbeeldingslijst","Image title":"Afbeeldingstitel","Image...":"Afbeelding...","ImageProxy HTTP error: Could not find Image Proxy":"ImageProxy HTTP fout: Kan geen Image Proxy vinden","ImageProxy HTTP error: Incorrect Image Proxy URL":"ImageProxy HTTP fout: Incorrecte Image proxy URL","ImageProxy HTTP error: Rejected request":"ImageProxy HTTP fout: Aanvraag afgewezen","ImageProxy HTTP error: Unknown ImageProxy error":"ImageProxy HTTP fout: Onbekende ImageProxy fout","Increase indent":"Inspringing vergroten",Inline:"Inline",Insert:"Invoegen","Insert Template":"Sjabloon invoegen","Insert accordion":"","Insert column after":"Kolom invoegen na","Insert column before":"Kolom invoegen voor ","Insert date/time":"Datum/tijd invoegen","Insert image":"Afbeelding invoegen","Insert link (if link plugin activated)":"Link invoegen (als plug-in voor link geactiveerd is)","Insert row after":"Rij onder invoegen ","Insert row before":"Rij boven invoegen","Insert table":"Tabel invoegen","Insert template...":"Sjabloon invoegen...","Insert video":"Video invoegen","Insert/Edit code sample":"Codevoorbeeld invoegen/bewerken","Insert/edit image":"Afbeelding invoegen/bewerken","Insert/edit link":"Link invoegen/bewerken","Insert/edit media":"Media invoegen/bewerken","Insert/edit video":"Video invoegen/bewerken",Inset:"Inzet","Invalid hex color code: {0}":"Onjuiste hex kleurcode: {0}","Invalid input":"Ongeldige invoer",Italic:"Cursief",Justify:"Uitvullen","Keyboard Navigation":"Toetsenbord navigatie",Language:"Taal","Learn more...":"Leer meer...",Left:"Links","Left to right":"Van links naar rechts","Light Blue":"Lichtblauw","Light Gray":"Lichtgrijs","Light Green":"Lichtgroen","Light Purple":"Lichtpaars","Light Red":"Lichtrood","Light Yellow":"Lichtgeel","Line height":"Lijnhoogte","Link list":"Lijst met links","Link...":"Link...","List Properties":"Lijsteigenschappen","List properties...":"Lijsteigenschappen...","Loading emojis...":"Emoji's laden...","Loading...":"Laden...","Lower Alpha":"Kleine letters","Lower Greek":"Kleine Griekse letters","Lower Roman":"Kleine Romeinse cijfers","Match case":"Identieke hoofdletters/kleine letters",Mathematical:"Wiskundig","Media poster (Image URL)":"Mediaposter (afbeeldings-url)","Media...":"Media...","Medium Blue":"Middelblauw","Medium Gray":"Middelgrijs","Medium Purple":"Middelpaars","Merge cells":"Cellen samenvoegen",Middle:"Centreren","Midnight Blue":"Middernachtblauw","More...":"Meer...",Name:"Naam","Navy Blue":"Marineblauw","New document":"Nieuw document","New window":"Nieuw venster",Next:"Volgende",No:"Nee","No alignment":"Geen uitlijning","No color":"Geen kleur","Nonbreaking space":"Vaste spatie",None:"Geen","Numbered list":"Genummerde lijst",OR:"OF",Objects:"Objecten",Ok:"OK","Open help dialog":"Help-scherm openen","Open link":"Open koppeling","Open link in...":"Link openen in...","Open popup menu for split buttons":"Open het pop-up menu voor gesplitste  knoppen",Orange:"Oranje",Outset:"Begin","Page break":"Pagina-einde",Paragraph:"Alinea",Paste:"Plakken","Paste as text":"Plakken als tekst","Paste column after":"Plak kolom na","Paste column before":"Plak kolom voor","Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.":"Plakken gebeurt nu zonder opmaak. De tekst zal dus zonder opmaak worden geplakt tenzij je deze optie uit zet.","Paste or type a link":"Een link plakken of typen","Paste row after":"Rij plakken onder","Paste row before":"Rij plakken boven","Paste your embed code below:":"Plak de invoegcode hieronder:",People:"Personen",Plugins:"Plug-ins","Plugins installed ({0}):":"Plug-ins geïnstalleerd ({0}):","Powered by {0}":"Mogelijk gemaakt met {0}",Pre:"Pre",Preferences:"Voorkeuren",Preformatted:"Vooraf opgemaakt","Premium plugins:":"Premium plug-ins:","Press the Up and Down arrow keys to resize the editor.":"","Press the arrow keys to resize the editor.":"","Press {0} for help":"",Preview:"Voorbeeld",Previous:"Vorige",Print:"Afdrukken","Print...":"Afdrukken... ",Purple:"Paars",Quotations:"Citaten",R:"R","Range 0 to 255":"Bereik 0 tot 255",Red:"Rood","Red component":"Rood component",Redo:"Opnieuw uitvoeren",Remove:"Verwijderen","Remove color":"Kleur verwijderen","Remove link":"Link verwijderen",Replace:"Vervangen","Replace all":"Alle vervangen","Replace with":"Vervangen door",Resize:"Formaat wijzigen","Restore last draft":"Laatste concept herstellen","Reveal or hide additional toolbar items":"","Rich Text Area":"Rijk Tekst Gebied","Rich Text Area. Press ALT-0 for help.":" Gebied met opgemaakte tekst. Druk op ALT-0 voor hulp.","Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help":"Gebied met opgemaakte tekst. Druk op ALT-F9 voor menu. Druk op ALT-F10 voor werkbalk. Druk op ALT-0 voor help.",Ridge:"Ribbel",Right:"Rechts","Right to left":"Van rechts naar links",Row:"Rij","Row clipboard actions":"Rij klembord acties","Row group":"Rijgroep","Row header":"Rij kop","Row properties":"Rijeigenschappen","Row type":"Rijtype",Rows:"Rijen",Save:"Opslaan","Save (if save plugin activated)":"Opslaan (als plug-in voor opslaan geactiveerd is)",Scope:"Bereik",Search:"Zoeken","Select all":"Alles selecteren","Select...":"Selecteer...",Selection:"Selectie",Shortcut:"Snelkoppeling","Show blocks":"Blokken weergeven","Show caption":"Bijschrift weergeven","Show invisible characters":"Onzichtbare tekens weergeven",Size:"Formaat",Solid:"Massief",Source:"Bron","Source code":"Broncode","Special Character":"Speciale tekens","Special character...":"Speciaal teken...","Split cell":"Cel splitsen",Square:"Vierkant","Start list at number":"Begin lijst met nummer",Strikethrough:"Doorhalen",Style:"Stijl",Subscript:"Subscript",Superscript:"Superscript","Switch to or from fullscreen mode":"Overschakelen naar of vanuit de volledig scherm-modus",Symbols:"Symbolen","System Font":"Systeemlettertype",Table:"Tabel","Table caption":"Tabel bijschrift","Table properties":"Tabeleigenschappen","Table styles":"Tabel stijlen",Template:"Sjabloon",Templates:"Sjablonen",Text:"Tekst","Text color":"Tekstkleur","Text color {0}":"","Text to display":"Weer te geven tekst","The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?":"De ingevoerde URL lijkt op een e-mailadres. Wil je er het vereiste voorvoegsel mailto: aan toevoegen?","The URL you entered seems to be an external link. Do you want to add the required http:// prefix?":"De ingevoerde URL verwijst naar een extern adres. Wil je er het vereiste voorvoegsel http:// aan toevoegen?","The URL you entered seems to be an external link. Do you want to add the required https:// prefix?":"De ingevoerde URL verwijst naar een extern adres. Wilt u er het vereiste voorvoegsel https:// aan toevoegen?",Title:"Titel","To open the popup, press Shift+Enter":"Druk op Shift+Enter om de pop-up te openen","Toggle accordion":"",Tools:"Extra",Top:"Boven","Travel and Places":"Reizen en plaatsen",Turquoise:"Turkoois",Underline:"Onderstrepen",Undo:"Ongedaan maken",Upload:"Uploaden","Uploading image":"Afbeelding uploaden","Upper Alpha":"Hoofdletters","Upper Roman":"Grote Romeinse cijfers",Url:"Url","User Defined":"Door gebruiker gedefinieerd ",Valid:"Geldig",Version:"Versie","Vertical align":"Verticaal uitlijnen","Vertical space":"Verticale ruimte",View:"Weergeven","Visual aids":" Visuele hulpmiddelen",Warn:"Waarschuwen",White:"Wit",Width:"Breedte","Word count":"Aantal woorden",Words:"Woorden","Words: {0}":"Woorden: {0}",Yellow:"Geel",Yes:"Ja","You are using {0}":"Je gebruikt {0}","You have unsaved changes are you sure you want to navigate away?":"Je hebt niet alles opgeslagen, weet je zeker dat je de pagina wilt verlaten?","Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.":"Jouw browser ondersteunt geen rechtstreekse toegang tot het klembord. Gebruik in plaats daarvan de sneltoetsen Ctrl+X/C/V.",alignment:"uitlijning","austral sign":"austral-teken","cedi sign":"cedi-teken","colon sign":"colon-teken","cruzeiro sign":"cruzeiro-teken","currency sign":"valutateken","dollar sign":"dollarteken","dong sign":"dong-teken","drachma sign":"drachme-teken","euro-currency sign":"euroteken",example:"voorbeeld",formatting:"opmaak","french franc sign":"franse franc-teken","german penny symbol":"duitse pfennig-teken","guarani sign":"guarani-teken",history:"geschiedenis","hryvnia sign":"hryvnia-teken",indentation:"inspringing","indian rupee sign":"indiaase roepie-teken","kip sign":"kip-teken","lira sign":"lire-teken","livre tournois sign":"livre tournois-teken","manat sign":"manat-teken","mill sign":"mill-teken","naira sign":"naira-teken","new sheqel sign":"nieuwe sheqel-teken","nordic mark sign":"noorse mark-teken","peseta sign":"peseta-teken","peso sign":"peso-teken","ruble sign":"roebel-teken","rupee sign":"roepie-teken","spesmilo sign":"spesmilo-teken",styles:"stijlen","tenge sign":"tenge-teken","tugrik sign":"tugrik-teken","turkish lira sign":"turkse lire-teken","won sign":"won-teken","yen character":"yen-teken","yen/yuan character variant one":"yen/yuan variant 1-teken","yuan character":"yuan-teken","yuan character, in hong kong and taiwan":"yuan-teken (Hong Kong en Taiwan)","{0} characters":"{0} karakters","{0} columns, {1} rows":"","{0} words":"{0} woorden"});var JL={},QL={},eF;function mq(){return eF||(eF=1,function(){const kn=ut=>{let pt=ut;return{get:()=>pt,set:ve=>{pt=ve}}};var ur=tinymce.util.Tools.resolve("tinymce.PluginManager"),Vr=tinymce.util.Tools.resolve("tinymce.Env");const $r=ut=>ut.dispatch("ResizeEditor"),fr=ut=>pt=>pt.options.get(ut),xo=ut=>{const pt=ut.options.register;pt("autoresize_overflow_padding",{processor:"number",default:1}),pt("autoresize_bottom_margin",{processor:"number",default:50})},rr=fr("min_height"),jn=fr("max_height"),Po=fr("autoresize_overflow_padding"),En=fr("autoresize_bottom_margin"),Un=ut=>ut.plugins.fullscreen&&ut.plugins.fullscreen.isFullscreen(),ar=(ut,pt)=>{const le=ut.getBody();le&&(le.style.overflowY=pt?"":"hidden",pt||(le.scrollTop=0))},An=(ut,pt,le,Tt)=>{var ve;const lt=parseInt((ve=ut.getStyle(pt,le,Tt))!==null&&ve!==void 0?ve:"",10);return isNaN(lt)?0:lt},Bt=ut=>{if((ut==null?void 0:ut.type.toLowerCase())==="setcontent"){const pt=ut;return pt.selection===!0||pt.paste===!0}else return!1},Ut=(ut,pt,le,Tt)=>{var ve;const lt=ut.dom,jr=ut.getDoc();if(!jr)return;if(Un(ut)){ar(ut,!0);return}const Xn=jr.documentElement,Ro=Tt?Tt():Po(ut),Le=(ve=rr(ut))!==null&&ve!==void 0?ve:ut.getElement().offsetHeight;let It=Le;const T=An(lt,Xn,"margin-top",!0),ko=An(lt,Xn,"margin-bottom",!0);let Qt=Xn.offsetHeight+T+ko+Ro;Qt<0&&(Qt=0);const Oo=ut.getContainer().offsetHeight,_r=ut.getContentAreaContainer().offsetHeight,Ce=Oo-_r;Qt+Ce>Le&&(It=Qt+Ce);const zt=jn(ut);zt&&It>zt?(It=zt,ar(ut,!0)):ar(ut,!1);const tn=pt.get();if(tn.set&&(ut.dom.setStyles(ut.getDoc().documentElement,{"min-height":0}),ut.dom.setStyles(ut.getBody(),{"min-height":"inherit"})),It!==tn.totalHeight&&(Qt-Ro!==tn.contentHeight||!tn.set)){const xt=It-tn.totalHeight;if(lt.setStyle(ut.getContainer(),"height",It+"px"),pt.set({totalHeight:It,contentHeight:Qt,set:!0}),$r(ut),Vr.browser.isSafari()&&(Vr.os.isMacOS()||Vr.os.isiOS())){const Qe=ut.getWin();Qe.scrollTo(Qe.pageXOffset,Qe.pageYOffset)}ut.hasFocus()&&Bt(le)&&ut.selection.scrollIntoView(),(Vr.browser.isSafari()||Vr.browser.isChromium())&&xt<0&&Ut(ut,pt,le,Tt)}},Lo=(ut,pt)=>{const le=()=>En(ut);ut.on("init",Tt=>{const ve=Po(ut),lt=ut.dom;lt.setStyles(ut.getDoc().documentElement,{height:"auto"}),Vr.browser.isEdge()||Vr.browser.isIE()?lt.setStyles(ut.getBody(),{paddingLeft:ve,paddingRight:ve,"min-height":0}):lt.setStyles(ut.getBody(),{paddingLeft:ve,paddingRight:ve}),Ut(ut,pt,Tt,le)}),ut.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent",Tt=>{Ut(ut,pt,Tt,le)})},sr=(ut,pt)=>{ut.addCommand("mceAutoResize",()=>{Ut(ut,pt)})};var rt=()=>{ur.add("autoresize",ut=>{if(xo(ut),ut.options.isSet("resize")||ut.options.set("resize",!1),!ut.inline){const pt=kn({totalHeight:0,contentHeight:0,set:!1});sr(ut,pt),Lo(ut,pt)}})};rt()}()),QL}var tF;function pq(){return tF||(tF=1,mq()),JL}pq();var oF={},nF={},rF;function gq(){return rF||(rF=1,function(){var kn=tinymce.util.Tools.resolve("tinymce.PluginManager");const ur=(Ce,zt,tn)=>{var xt;return tn(Ce,zt.prototype)?!0:((xt=Ce.constructor)===null||xt===void 0?void 0:xt.name)===zt.name},Vr=Ce=>{const zt=typeof Ce;return Ce===null?"null":zt==="object"&&Array.isArray(Ce)?"array":zt==="object"&&ur(Ce,String,(tn,xt)=>xt.isPrototypeOf(tn))?"string":zt},$r=Ce=>zt=>Vr(zt)===Ce,fr=Ce=>zt=>Ce===zt,xo=$r("string"),rr=fr(void 0);var jn=tinymce.util.Tools.resolve("tinymce.util.Delay"),Po=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),En=tinymce.util.Tools.resolve("tinymce.util.Tools");const Un=Ce=>Ce.dispatch("RestoreDraft"),ar=Ce=>Ce.dispatch("StoreDraft"),An=Ce=>Ce.dispatch("RemoveDraft"),Bt=Ce=>{const zt={s:1e3,m:6e4},tn=/^(\d+)([ms]?)$/.exec(Ce);return(tn&&tn[2]?zt[tn[2]]:1)*parseInt(Ce,10)},Ut=Ce=>zt=>zt.options.get(Ce),Lo=Ce=>{const zt=Ce.options.register,tn=xt=>{const Qe=xo(xt);return Qe?{value:Bt(xt),valid:Qe}:{valid:!1,message:"Must be a string."}};zt("autosave_ask_before_unload",{processor:"boolean",default:!0}),zt("autosave_prefix",{processor:"string",default:"tinymce-autosave-{path}{query}{hash}-{id}-"}),zt("autosave_restore_when_empty",{processor:"boolean",default:!1}),zt("autosave_interval",{processor:tn,default:"30s"}),zt("autosave_retention",{processor:tn,default:"20m"})},sr=Ut("autosave_ask_before_unload"),rt=Ut("autosave_restore_when_empty"),ut=Ut("autosave_interval"),pt=Ut("autosave_retention"),le=Ce=>{const zt=document.location;return Ce.options.get("autosave_prefix").replace(/{path}/g,zt.pathname).replace(/{query}/g,zt.search).replace(/{hash}/g,zt.hash).replace(/{id}/g,Ce.id)},Tt=(Ce,zt)=>{if(rr(zt))return Ce.dom.isEmpty(Ce.getBody());{const tn=En.trim(zt);if(tn==="")return!0;{const xt=new DOMParser().parseFromString(tn,"text/html");return Ce.dom.isEmpty(xt)}}},ve=Ce=>{var zt;const tn=parseInt((zt=Po.getItem(le(Ce)+"time"))!==null&&zt!==void 0?zt:"0",10)||0;return new Date().getTime()-tn>pt(Ce)?(lt(Ce,!1),!1):!0},lt=(Ce,zt)=>{const tn=le(Ce);Po.removeItem(tn+"draft"),Po.removeItem(tn+"time"),zt!==!1&&An(Ce)},jr=Ce=>{const zt=le(Ce);!Tt(Ce)&&Ce.isDirty()&&(Po.setItem(zt+"draft",Ce.getContent({format:"raw",no_events:!0})),Po.setItem(zt+"time",new Date().getTime().toString()),ar(Ce))},Xn=Ce=>{var zt;const tn=le(Ce);ve(Ce)&&(Ce.setContent((zt=Po.getItem(tn+"draft"))!==null&&zt!==void 0?zt:"",{format:"raw"}),Un(Ce))},Ro=Ce=>{const zt=ut(Ce);jn.setEditorInterval(Ce,()=>{jr(Ce)},zt)},Le=Ce=>{Ce.undoManager.transact(()=>{Xn(Ce),lt(Ce)}),Ce.focus()},It=Ce=>({hasDraft:()=>ve(Ce),storeDraft:()=>jr(Ce),restoreDraft:()=>Xn(Ce),removeDraft:zt=>lt(Ce,zt),isEmpty:zt=>Tt(Ce,zt)});var T=tinymce.util.Tools.resolve("tinymce.EditorManager");const ko=Ce=>{Ce.editorManager.on("BeforeUnload",zt=>{let tn;En.each(T.get(),xt=>{xt.plugins.autosave&&xt.plugins.autosave.storeDraft(),!tn&&xt.isDirty()&&sr(xt)&&(tn=xt.translate("You have unsaved changes are you sure you want to navigate away?"))}),tn&&(zt.preventDefault(),zt.returnValue=tn)})},Qt=Ce=>zt=>{const tn=()=>ve(Ce)&&!Ce.mode.isReadOnly();zt.setEnabled(tn());const xt=()=>zt.setEnabled(tn());return Ce.on("StoreDraft RestoreDraft RemoveDraft",xt),()=>Ce.off("StoreDraft RestoreDraft RemoveDraft",xt)},Oo=Ce=>{Ro(Ce);const zt=()=>{Le(Ce)};Ce.ui.registry.addButton("restoredraft",{tooltip:"Restore last draft",icon:"restore-draft",onAction:zt,onSetup:Qt(Ce)}),Ce.ui.registry.addMenuItem("restoredraft",{text:"Restore last draft",icon:"restore-draft",onAction:zt,onSetup:Qt(Ce)})};var _r=()=>{kn.add("autosave",Ce=>(Lo(Ce),ko(Ce),Oo(Ce),Ce.on("init",()=>{rt(Ce)&&Ce.dom.isEmpty(Ce.getBody())&&Xn(Ce)}),It(Ce)))};_r()}()),nF}var sF;function hq(){return sF||(sF=1,gq()),oF}hq();var aF={},iF={},lF;function bq(){return lF||(lF=1,function(){var kn=tinymce.util.Tools.resolve("tinymce.PluginManager");const ur=(jn,Po)=>{jn.focus(),jn.undoManager.transact(()=>{jn.setContent(Po)}),jn.selection.setCursorLocation(),jn.nodeChanged()},Vr=jn=>jn.getContent({source_view:!0}),$r=jn=>{const Po=Vr(jn);jn.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:Po},onSubmit:En=>{ur(jn,En.getData().code),En.close()}})},fr=jn=>{jn.addCommand("mceCodeEditor",()=>{$r(jn)})},xo=jn=>{const Po=()=>jn.execCommand("mceCodeEditor");jn.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:Po}),jn.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:Po})};var rr=()=>{kn.add("code",jn=>(fr(jn),xo(jn),{}))};rr()}()),iF}var cF;function yq(){return cF||(cF=1,bq()),aF}yq();var dF={},uF={},fF;function vq(){return fF||(fF=1,function(){var kn=tinymce.util.Tools.resolve("tinymce.PluginManager");const ur=wt=>st=>wt===st,Vr=ur(null),$r=ur(void 0),fr=wt=>wt==null,xo=wt=>!fr(wt),rr=()=>{},Po=(wt=>()=>wt)(!1);class En{constructor(st,Ye){this.tag=st,this.value=Ye}static some(st){return new En(!0,st)}static none(){return En.singletonNone}fold(st,Ye){return this.tag?Ye(this.value):st()}isSome(){return this.tag}isNone(){return!this.tag}map(st){return this.tag?En.some(st(this.value)):En.none()}bind(st){return this.tag?st(this.value):En.none()}exists(st){return this.tag&&st(this.value)}forall(st){return!this.tag||st(this.value)}filter(st){return!this.tag||st(this.value)?this:En.none()}getOr(st){return this.tag?this.value:st}or(st){return this.tag?this:st}getOrThunk(st){return this.tag?this.value:st()}orThunk(st){return this.tag?this:st()}getOrDie(st){if(this.tag)return this.value;throw new Error(st??"Called getOrDie on None")}static from(st){return xo(st)?En.some(st):En.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(st){this.tag&&st(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}En.singletonNone=new En(!1);const Un=(wt,st)=>{for(let Ye=0,to=wt.length;Ye<to;Ye++){const mo=wt[Ye];if(st(mo,Ye))return!0}return!1},ar=(wt,st)=>{const Ye=wt.length,to=new Array(Ye);for(let mo=0;mo<Ye;mo++){const Fo=wt[mo];to[mo]=st(Fo,mo)}return to},An=(wt,st)=>{for(let Ye=0,to=wt.length;Ye<to;Ye++){const mo=wt[Ye];st(mo,Ye)}},Bt=wt=>{let st=wt;return{get:()=>st,set:mo=>{st=mo}}},Ut=(wt,st)=>{let Ye=null;const to=()=>{Vr(Ye)||(clearTimeout(Ye),Ye=null)};return{cancel:to,throttle:(...Fo)=>{to(),Ye=setTimeout(()=>{Ye=null,wt.apply(null,Fo)},st)}}},Lo=(wt,st)=>{wt.insertContent(st)},sr=Object.keys,rt=Object.hasOwnProperty,ut=(wt,st)=>{const Ye=sr(wt);for(let to=0,mo=Ye.length;to<mo;to++){const Fo=Ye[to],Sn=wt[Fo];st(Sn,Fo)}},pt=(wt,st)=>le(wt,(Ye,to)=>({k:to,v:st(Ye,to)})),le=(wt,st)=>{const Ye={};return ut(wt,(to,mo)=>{const Fo=st(to,mo);Ye[Fo.k]=Fo.v}),Ye},Tt=(wt,st)=>rt.call(wt,st),jr=(wt=>(...st)=>{if(st.length===0)throw new Error("Can't merge zero objects");const Ye={};for(let to=0;to<st.length;to++){const mo=st[to];for(const Fo in mo)Tt(mo,Fo)&&(Ye[Fo]=wt(Ye[Fo],mo[Fo]))}return Ye})((wt,st)=>st),Xn=wt=>{const st=Bt(En.none()),Ye=()=>st.get().each(wt);return{clear:()=>{Ye(),st.set(En.none())},isSet:()=>st.get().isSome(),get:()=>st.get(),set:Jn=>{Ye(),st.set(En.some(Jn))}}},Ro=()=>{const wt=Xn(rr);return{...wt,on:Ye=>wt.get().each(Ye)}},Le=(wt,st,Ye)=>st===""||wt.length>=st.length&&wt.substr(Ye,Ye+st.length)===st,It=(wt,st,Ye=0,to)=>{const mo=wt.indexOf(st,Ye);return mo!==-1?$r(to)?!0:mo+st.length<=to:!1},T=(wt,st)=>Le(wt,st,0);var ko=tinymce.util.Tools.resolve("tinymce.Resource");const Qt="tinymce.plugins.emoticons",Oo=wt=>st=>st.options.get(wt),_r=(wt,st)=>{const Ye=wt.options.register;Ye("emoticons_database",{processor:"string",default:"emojis"}),Ye("emoticons_database_url",{processor:"string",default:`${st}/js/${Ce(wt)}${wt.suffix}.js`}),Ye("emoticons_database_id",{processor:"string",default:Qt}),Ye("emoticons_append",{processor:"object",default:{}}),Ye("emoticons_images_url",{processor:"string",default:"https://cdnjs.cloudflare.com/ajax/libs/twemoji/15.1.0/72x72/"})},Ce=Oo("emoticons_database"),zt=Oo("emoticons_database_url"),tn=Oo("emoticons_database_id"),xt=Oo("emoticons_append"),Qe=Oo("emoticons_images_url"),Ot="All",Yr={symbols:"Symbols",people:"People",animals_and_nature:"Animals and Nature",food_and_drink:"Food and Drink",activity:"Activity",travel_and_places:"Travel and Places",objects:"Objects",flags:"Flags",user:"User Defined"},gn=(wt,st)=>Tt(wt,st)?wt[st]:st,an=wt=>{const st=xt(wt);return pt(st,Ye=>({keywords:[],category:"user",...Ye}))},Co=(wt,st,Ye)=>{const to=Ro(),mo=Ro(),Fo=Qe(wt),Sn=Rr=>T(Rr.char,"<img")?Rr.char.replace(/src="([^"]+)"/,(jo,Ds)=>`src="${Fo}${Ds}"`):Rr.char,Jn=Rr=>{const jo={},Ds=[];ut(Rr,(mt,io)=>{const Mo={title:io,keywords:mt.keywords,char:Sn(mt),category:gn(Yr,mt.category)},Rs=jo[Mo.category]!==void 0?jo[Mo.category]:[];jo[Mo.category]=Rs.concat([Mo]),Ds.push(Mo)}),to.set(jo),mo.set(Ds)};wt.on("init",()=>{ko.load(Ye,st).then(Rr=>{const jo=an(wt);Jn(jr(Rr,jo))},Rr=>{console.log(`Failed to load emojis: ${Rr}`),to.set({}),mo.set([])})});const Tn=Rr=>Rr===Ot?Mn():to.get().bind(jo=>En.from(jo[Rr])).getOr([]),Mn=()=>mo.get().getOr([]),wr=()=>[Ot].concat(sr(to.get().getOr({}))),Os=()=>Fn()?Promise.resolve(!0):new Promise((Rr,jo)=>{let Ds=15;const mt=setInterval(()=>{Fn()?(clearInterval(mt),Rr(!0)):(Ds--,Ds<0&&(console.log("Could not load emojis from url: "+st),clearInterval(mt),jo(!1)))},100)}),Fn=()=>to.isSet()&&mo.isSet();return{listCategories:wr,hasLoaded:Fn,waitForLoad:Os,listAll:Mn,listCategory:Tn}},V=(wt,st)=>It(wt.title.toLowerCase(),st)||Un(wt.keywords,Ye=>It(Ye.toLowerCase(),st)),la=(wt,st,Ye)=>{const to=[],mo=st.toLowerCase(),Fo=Ye.fold(()=>Po,Sn=>Jn=>Jn>=Sn);for(let Sn=0;Sn<wt.length&&!((st.length===0||V(wt[Sn],mo))&&(to.push({value:wt[Sn].char,text:wt[Sn].title,icon:wt[Sn].char}),Fo(to.length)));Sn++);return to},Nn="pattern",hn=(wt,st)=>{const Ye={pattern:"",results:la(st.listAll(),"",En.some(300))},to=Bt(Ot),mo=wr=>{const Os=wr.getData(),Fn=to.get(),Rr=st.listCategory(Fn),jo=la(Rr,Os[Nn],Fn===Ot?En.some(300):En.none());wr.setData({results:jo})},Fo=Ut(wr=>{mo(wr)},200),Sn={label:"Search",type:"input",name:Nn},Jn={type:"collection",name:"results"},Tn=()=>({title:"Emojis",size:"normal",body:{type:"tabpanel",tabs:ar(st.listCategories(),Os=>({title:Os,name:Os,items:[Sn,Jn]}))},initialData:Ye,onTabChange:(Os,Fn)=>{to.set(Fn.newTabName),Fo.throttle(Os)},onChange:Fo.throttle,onAction:(Os,Fn)=>{Fn.name==="results"&&(Lo(wt,Fn.value),Os.close())},buttons:[{type:"cancel",text:"Close",primary:!0}]}),Mn=wt.windowManager.open(Tn());Mn.focus(Nn),st.hasLoaded()||(Mn.block("Loading emojis..."),st.waitForLoad().then(()=>{Mn.redial(Tn()),Fo.throttle(Mn),Mn.focus(Nn),Mn.unblock()}).catch(wr=>{Mn.redial({title:"Emojis",body:{type:"panel",items:[{type:"alertbanner",level:"error",icon:"warning",text:"Could not load emojis"}]},buttons:[{type:"cancel",text:"Close",primary:!0}],initialData:{pattern:"",results:[]}}),Mn.focus(Nn),Mn.unblock()}))},xi=(wt,st)=>{wt.addCommand("mceEmoticons",()=>hn(wt,st))},Al=wt=>{wt.on("PreInit",()=>{wt.parser.addAttributeFilter("data-emoticon",st=>{An(st,Ye=>{Ye.attr("data-mce-resize","false"),Ye.attr("data-mce-placeholder","1")})})})},Wo=(wt,st)=>{wt.ui.registry.addAutocompleter("emoticons",{trigger:":",columns:"auto",minChars:2,fetch:(Ye,to)=>st.waitForLoad().then(()=>{const mo=st.listAll();return la(mo,Ye,En.some(to))}),onAction:(Ye,to,mo)=>{wt.selection.setRng(to),wt.insertContent(mo),Ye.hide()}})},zn=wt=>st=>{const Ye=()=>{st.setEnabled(wt.selection.isEditable())};return wt.on("NodeChange",Ye),Ye(),()=>{wt.off("NodeChange",Ye)}},$o=wt=>{const st=()=>wt.execCommand("mceEmoticons");wt.ui.registry.addButton("emoticons",{tooltip:"Emojis",icon:"emoji",onAction:st,onSetup:zn(wt)}),wt.ui.registry.addMenuItem("emoticons",{text:"Emojis...",icon:"emoji",onAction:st,onSetup:zn(wt)})};var Ne=()=>{kn.add("emoticons",(wt,st)=>{_r(wt,st);const Ye=zt(wt),to=tn(wt),mo=Co(wt,Ye,to);return xi(wt,mo),$o(wt),Wo(wt,mo),Al(wt),{getAllEmojis:()=>mo.waitForLoad().then(()=>mo.listAll())}})};Ne()}()),uF}var mF;function xq(){return mF||(mF=1,vq()),dF}xq();window.tinymce.Resource.add("tinymce.plugins.emoticons",{grinning:{keywords:["face","smile","happy","joy",":D","grin"],char:"😀",fitzpatrick_scale:!1,category:"people"},grimacing:{keywords:["face","grimace","teeth"],char:"😬",fitzpatrick_scale:!1,category:"people"},grin:{keywords:["face","happy","smile","joy","kawaii"],char:"😁",fitzpatrick_scale:!1,category:"people"},joy:{keywords:["face","cry","tears","weep","happy","happytears","haha"],char:"😂",fitzpatrick_scale:!1,category:"people"},rofl:{keywords:["face","rolling","floor","laughing","lol","haha"],char:"🤣",fitzpatrick_scale:!1,category:"people"},partying:{keywords:["face","celebration","woohoo"],char:"🥳",fitzpatrick_scale:!1,category:"people"},smiley:{keywords:["face","happy","joy","haha",":D",":)","smile","funny"],char:"😃",fitzpatrick_scale:!1,category:"people"},smile:{keywords:["face","happy","joy","funny","haha","laugh","like",":D",":)"],char:"😄",fitzpatrick_scale:!1,category:"people"},sweat_smile:{keywords:["face","hot","happy","laugh","sweat","smile","relief"],char:"😅",fitzpatrick_scale:!1,category:"people"},laughing:{keywords:["happy","joy","lol","satisfied","haha","face","glad","XD","laugh"],char:"😆",fitzpatrick_scale:!1,category:"people"},innocent:{keywords:["face","angel","heaven","halo"],char:"😇",fitzpatrick_scale:!1,category:"people"},wink:{keywords:["face","happy","mischievous","secret",";)","smile","eye"],char:"😉",fitzpatrick_scale:!1,category:"people"},blush:{keywords:["face","smile","happy","flushed","crush","embarrassed","shy","joy"],char:"😊",fitzpatrick_scale:!1,category:"people"},slightly_smiling_face:{keywords:["face","smile"],char:"🙂",fitzpatrick_scale:!1,category:"people"},upside_down_face:{keywords:["face","flipped","silly","smile"],char:"🙃",fitzpatrick_scale:!1,category:"people"},relaxed:{keywords:["face","blush","massage","happiness"],char:"☺️",fitzpatrick_scale:!1,category:"people"},yum:{keywords:["happy","joy","tongue","smile","face","silly","yummy","nom","delicious","savouring"],char:"😋",fitzpatrick_scale:!1,category:"people"},relieved:{keywords:["face","relaxed","phew","massage","happiness"],char:"😌",fitzpatrick_scale:!1,category:"people"},heart_eyes:{keywords:["face","love","like","affection","valentines","infatuation","crush","heart"],char:"😍",fitzpatrick_scale:!1,category:"people"},smiling_face_with_three_hearts:{keywords:["face","love","like","affection","valentines","infatuation","crush","hearts","adore"],char:"🥰",fitzpatrick_scale:!1,category:"people"},kissing_heart:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"😘",fitzpatrick_scale:!1,category:"people"},kissing:{keywords:["love","like","face","3","valentines","infatuation","kiss"],char:"😗",fitzpatrick_scale:!1,category:"people"},kissing_smiling_eyes:{keywords:["face","affection","valentines","infatuation","kiss"],char:"😙",fitzpatrick_scale:!1,category:"people"},kissing_closed_eyes:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"😚",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_winking_eye:{keywords:["face","prank","childish","playful","mischievous","smile","wink","tongue"],char:"😜",fitzpatrick_scale:!1,category:"people"},zany:{keywords:["face","goofy","crazy"],char:"🤪",fitzpatrick_scale:!1,category:"people"},raised_eyebrow:{keywords:["face","distrust","scepticism","disapproval","disbelief","surprise"],char:"🤨",fitzpatrick_scale:!1,category:"people"},monocle:{keywords:["face","stuffy","wealthy"],char:"🧐",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_closed_eyes:{keywords:["face","prank","playful","mischievous","smile","tongue"],char:"😝",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue:{keywords:["face","prank","childish","playful","mischievous","smile","tongue"],char:"😛",fitzpatrick_scale:!1,category:"people"},money_mouth_face:{keywords:["face","rich","dollar","money"],char:"🤑",fitzpatrick_scale:!1,category:"people"},nerd_face:{keywords:["face","nerdy","geek","dork"],char:"🤓",fitzpatrick_scale:!1,category:"people"},sunglasses:{keywords:["face","cool","smile","summer","beach","sunglass"],char:"😎",fitzpatrick_scale:!1,category:"people"},star_struck:{keywords:["face","smile","starry","eyes","grinning"],char:"🤩",fitzpatrick_scale:!1,category:"people"},clown_face:{keywords:["face"],char:"🤡",fitzpatrick_scale:!1,category:"people"},cowboy_hat_face:{keywords:["face","cowgirl","hat"],char:"🤠",fitzpatrick_scale:!1,category:"people"},hugs:{keywords:["face","smile","hug"],char:"🤗",fitzpatrick_scale:!1,category:"people"},smirk:{keywords:["face","smile","mean","prank","smug","sarcasm"],char:"😏",fitzpatrick_scale:!1,category:"people"},no_mouth:{keywords:["face","hellokitty"],char:"😶",fitzpatrick_scale:!1,category:"people"},neutral_face:{keywords:["indifference","meh",":|","neutral"],char:"😐",fitzpatrick_scale:!1,category:"people"},expressionless:{keywords:["face","indifferent","-_-","meh","deadpan"],char:"😑",fitzpatrick_scale:!1,category:"people"},unamused:{keywords:["indifference","bored","straight face","serious","sarcasm","unimpressed","skeptical","dubious","side_eye"],char:"😒",fitzpatrick_scale:!1,category:"people"},roll_eyes:{keywords:["face","eyeroll","frustrated"],char:"🙄",fitzpatrick_scale:!1,category:"people"},thinking:{keywords:["face","hmmm","think","consider"],char:"🤔",fitzpatrick_scale:!1,category:"people"},lying_face:{keywords:["face","lie","pinocchio"],char:"🤥",fitzpatrick_scale:!1,category:"people"},hand_over_mouth:{keywords:["face","whoops","shock","surprise"],char:"🤭",fitzpatrick_scale:!1,category:"people"},shushing:{keywords:["face","quiet","shhh"],char:"🤫",fitzpatrick_scale:!1,category:"people"},symbols_over_mouth:{keywords:["face","swearing","cursing","cussing","profanity","expletive"],char:"🤬",fitzpatrick_scale:!1,category:"people"},exploding_head:{keywords:["face","shocked","mind","blown"],char:"🤯",fitzpatrick_scale:!1,category:"people"},flushed:{keywords:["face","blush","shy","flattered"],char:"😳",fitzpatrick_scale:!1,category:"people"},disappointed:{keywords:["face","sad","upset","depressed",":("],char:"😞",fitzpatrick_scale:!1,category:"people"},worried:{keywords:["face","concern","nervous",":("],char:"😟",fitzpatrick_scale:!1,category:"people"},angry:{keywords:["mad","face","annoyed","frustrated"],char:"😠",fitzpatrick_scale:!1,category:"people"},rage:{keywords:["angry","mad","hate","despise"],char:"😡",fitzpatrick_scale:!1,category:"people"},pensive:{keywords:["face","sad","depressed","upset"],char:"😔",fitzpatrick_scale:!1,category:"people"},confused:{keywords:["face","indifference","huh","weird","hmmm",":/"],char:"😕",fitzpatrick_scale:!1,category:"people"},slightly_frowning_face:{keywords:["face","frowning","disappointed","sad","upset"],char:"🙁",fitzpatrick_scale:!1,category:"people"},frowning_face:{keywords:["face","sad","upset","frown"],char:"☹",fitzpatrick_scale:!1,category:"people"},persevere:{keywords:["face","sick","no","upset","oops"],char:"😣",fitzpatrick_scale:!1,category:"people"},confounded:{keywords:["face","confused","sick","unwell","oops",":S"],char:"😖",fitzpatrick_scale:!1,category:"people"},tired_face:{keywords:["sick","whine","upset","frustrated"],char:"😫",fitzpatrick_scale:!1,category:"people"},weary:{keywords:["face","tired","sleepy","sad","frustrated","upset"],char:"😩",fitzpatrick_scale:!1,category:"people"},pleading:{keywords:["face","begging","mercy"],char:"🥺",fitzpatrick_scale:!1,category:"people"},triumph:{keywords:["face","gas","phew","proud","pride"],char:"😤",fitzpatrick_scale:!1,category:"people"},open_mouth:{keywords:["face","surprise","impressed","wow","whoa",":O"],char:"😮",fitzpatrick_scale:!1,category:"people"},scream:{keywords:["face","munch","scared","omg"],char:"😱",fitzpatrick_scale:!1,category:"people"},fearful:{keywords:["face","scared","terrified","nervous","oops","huh"],char:"😨",fitzpatrick_scale:!1,category:"people"},cold_sweat:{keywords:["face","nervous","sweat"],char:"😰",fitzpatrick_scale:!1,category:"people"},hushed:{keywords:["face","woo","shh"],char:"😯",fitzpatrick_scale:!1,category:"people"},frowning:{keywords:["face","aw","what"],char:"😦",fitzpatrick_scale:!1,category:"people"},anguished:{keywords:["face","stunned","nervous"],char:"😧",fitzpatrick_scale:!1,category:"people"},cry:{keywords:["face","tears","sad","depressed","upset",":'("],char:"😢",fitzpatrick_scale:!1,category:"people"},disappointed_relieved:{keywords:["face","phew","sweat","nervous"],char:"😥",fitzpatrick_scale:!1,category:"people"},drooling_face:{keywords:["face"],char:"🤤",fitzpatrick_scale:!1,category:"people"},sleepy:{keywords:["face","tired","rest","nap"],char:"😪",fitzpatrick_scale:!1,category:"people"},sweat:{keywords:["face","hot","sad","tired","exercise"],char:"😓",fitzpatrick_scale:!1,category:"people"},hot:{keywords:["face","feverish","heat","red","sweating"],char:"🥵",fitzpatrick_scale:!1,category:"people"},cold:{keywords:["face","blue","freezing","frozen","frostbite","icicles"],char:"🥶",fitzpatrick_scale:!1,category:"people"},sob:{keywords:["face","cry","tears","sad","upset","depressed"],char:"😭",fitzpatrick_scale:!1,category:"people"},dizzy_face:{keywords:["spent","unconscious","xox","dizzy"],char:"😵",fitzpatrick_scale:!1,category:"people"},astonished:{keywords:["face","xox","surprised","poisoned"],char:"😲",fitzpatrick_scale:!1,category:"people"},zipper_mouth_face:{keywords:["face","sealed","zipper","secret"],char:"🤐",fitzpatrick_scale:!1,category:"people"},nauseated_face:{keywords:["face","vomit","gross","green","sick","throw up","ill"],char:"🤢",fitzpatrick_scale:!1,category:"people"},sneezing_face:{keywords:["face","gesundheit","sneeze","sick","allergy"],char:"🤧",fitzpatrick_scale:!1,category:"people"},vomiting:{keywords:["face","sick"],char:"🤮",fitzpatrick_scale:!1,category:"people"},mask:{keywords:["face","sick","ill","disease"],char:"😷",fitzpatrick_scale:!1,category:"people"},face_with_thermometer:{keywords:["sick","temperature","thermometer","cold","fever"],char:"🤒",fitzpatrick_scale:!1,category:"people"},face_with_head_bandage:{keywords:["injured","clumsy","bandage","hurt"],char:"🤕",fitzpatrick_scale:!1,category:"people"},woozy:{keywords:["face","dizzy","intoxicated","tipsy","wavy"],char:"🥴",fitzpatrick_scale:!1,category:"people"},sleeping:{keywords:["face","tired","sleepy","night","zzz"],char:"😴",fitzpatrick_scale:!1,category:"people"},zzz:{keywords:["sleepy","tired","dream"],char:"💤",fitzpatrick_scale:!1,category:"people"},poop:{keywords:["hankey","shitface","fail","turd","shit"],char:"💩",fitzpatrick_scale:!1,category:"people"},smiling_imp:{keywords:["devil","horns"],char:"😈",fitzpatrick_scale:!1,category:"people"},imp:{keywords:["devil","angry","horns"],char:"👿",fitzpatrick_scale:!1,category:"people"},japanese_ogre:{keywords:["monster","red","mask","halloween","scary","creepy","devil","demon","japanese","ogre"],char:"👹",fitzpatrick_scale:!1,category:"people"},japanese_goblin:{keywords:["red","evil","mask","monster","scary","creepy","japanese","goblin"],char:"👺",fitzpatrick_scale:!1,category:"people"},skull:{keywords:["dead","skeleton","creepy","death"],char:"💀",fitzpatrick_scale:!1,category:"people"},ghost:{keywords:["halloween","spooky","scary"],char:"👻",fitzpatrick_scale:!1,category:"people"},alien:{keywords:["UFO","paul","weird","outer_space"],char:"👽",fitzpatrick_scale:!1,category:"people"},robot:{keywords:["computer","machine","bot"],char:"🤖",fitzpatrick_scale:!1,category:"people"},smiley_cat:{keywords:["animal","cats","happy","smile"],char:"😺",fitzpatrick_scale:!1,category:"people"},smile_cat:{keywords:["animal","cats","smile"],char:"😸",fitzpatrick_scale:!1,category:"people"},joy_cat:{keywords:["animal","cats","haha","happy","tears"],char:"😹",fitzpatrick_scale:!1,category:"people"},heart_eyes_cat:{keywords:["animal","love","like","affection","cats","valentines","heart"],char:"😻",fitzpatrick_scale:!1,category:"people"},smirk_cat:{keywords:["animal","cats","smirk"],char:"😼",fitzpatrick_scale:!1,category:"people"},kissing_cat:{keywords:["animal","cats","kiss"],char:"😽",fitzpatrick_scale:!1,category:"people"},scream_cat:{keywords:["animal","cats","munch","scared","scream"],char:"🙀",fitzpatrick_scale:!1,category:"people"},crying_cat_face:{keywords:["animal","tears","weep","sad","cats","upset","cry"],char:"😿",fitzpatrick_scale:!1,category:"people"},pouting_cat:{keywords:["animal","cats"],char:"😾",fitzpatrick_scale:!1,category:"people"},palms_up:{keywords:["hands","gesture","cupped","prayer"],char:"🤲",fitzpatrick_scale:!0,category:"people"},raised_hands:{keywords:["gesture","hooray","yea","celebration","hands"],char:"🙌",fitzpatrick_scale:!0,category:"people"},clap:{keywords:["hands","praise","applause","congrats","yay"],char:"👏",fitzpatrick_scale:!0,category:"people"},wave:{keywords:["hands","gesture","goodbye","solong","farewell","hello","hi","palm"],char:"👋",fitzpatrick_scale:!0,category:"people"},call_me_hand:{keywords:["hands","gesture"],char:"🤙",fitzpatrick_scale:!0,category:"people"},"+1":{keywords:["thumbsup","yes","awesome","good","agree","accept","cool","hand","like"],char:"👍",fitzpatrick_scale:!0,category:"people"},"-1":{keywords:["thumbsdown","no","dislike","hand"],char:"👎",fitzpatrick_scale:!0,category:"people"},facepunch:{keywords:["angry","violence","fist","hit","attack","hand"],char:"👊",fitzpatrick_scale:!0,category:"people"},fist:{keywords:["fingers","hand","grasp"],char:"✊",fitzpatrick_scale:!0,category:"people"},fist_left:{keywords:["hand","fistbump"],char:"🤛",fitzpatrick_scale:!0,category:"people"},fist_right:{keywords:["hand","fistbump"],char:"🤜",fitzpatrick_scale:!0,category:"people"},v:{keywords:["fingers","ohyeah","hand","peace","victory","two"],char:"✌",fitzpatrick_scale:!0,category:"people"},ok_hand:{keywords:["fingers","limbs","perfect","ok","okay"],char:"👌",fitzpatrick_scale:!0,category:"people"},raised_hand:{keywords:["fingers","stop","highfive","palm","ban"],char:"✋",fitzpatrick_scale:!0,category:"people"},raised_back_of_hand:{keywords:["fingers","raised","backhand"],char:"🤚",fitzpatrick_scale:!0,category:"people"},open_hands:{keywords:["fingers","butterfly","hands","open"],char:"👐",fitzpatrick_scale:!0,category:"people"},muscle:{keywords:["arm","flex","hand","summer","strong","biceps"],char:"💪",fitzpatrick_scale:!0,category:"people"},pray:{keywords:["please","hope","wish","namaste","highfive"],char:"🙏",fitzpatrick_scale:!0,category:"people"},foot:{keywords:["kick","stomp"],char:"🦶",fitzpatrick_scale:!0,category:"people"},leg:{keywords:["kick","limb"],char:"🦵",fitzpatrick_scale:!0,category:"people"},handshake:{keywords:["agreement","shake"],char:"🤝",fitzpatrick_scale:!1,category:"people"},point_up:{keywords:["hand","fingers","direction","up"],char:"☝",fitzpatrick_scale:!0,category:"people"},point_up_2:{keywords:["fingers","hand","direction","up"],char:"👆",fitzpatrick_scale:!0,category:"people"},point_down:{keywords:["fingers","hand","direction","down"],char:"👇",fitzpatrick_scale:!0,category:"people"},point_left:{keywords:["direction","fingers","hand","left"],char:"👈",fitzpatrick_scale:!0,category:"people"},point_right:{keywords:["fingers","hand","direction","right"],char:"👉",fitzpatrick_scale:!0,category:"people"},fu:{keywords:["hand","fingers","rude","middle","flipping"],char:"🖕",fitzpatrick_scale:!0,category:"people"},raised_hand_with_fingers_splayed:{keywords:["hand","fingers","palm"],char:"🖐",fitzpatrick_scale:!0,category:"people"},love_you:{keywords:["hand","fingers","gesture"],char:"🤟",fitzpatrick_scale:!0,category:"people"},metal:{keywords:["hand","fingers","evil_eye","sign_of_horns","rock_on"],char:"🤘",fitzpatrick_scale:!0,category:"people"},crossed_fingers:{keywords:["good","lucky"],char:"🤞",fitzpatrick_scale:!0,category:"people"},vulcan_salute:{keywords:["hand","fingers","spock","star trek"],char:"🖖",fitzpatrick_scale:!0,category:"people"},writing_hand:{keywords:["lower_left_ballpoint_pen","stationery","write","compose"],char:"✍",fitzpatrick_scale:!0,category:"people"},selfie:{keywords:["camera","phone"],char:"🤳",fitzpatrick_scale:!0,category:"people"},nail_care:{keywords:["beauty","manicure","finger","fashion","nail"],char:"💅",fitzpatrick_scale:!0,category:"people"},lips:{keywords:["mouth","kiss"],char:"👄",fitzpatrick_scale:!1,category:"people"},tooth:{keywords:["teeth","dentist"],char:"🦷",fitzpatrick_scale:!1,category:"people"},tongue:{keywords:["mouth","playful"],char:"👅",fitzpatrick_scale:!1,category:"people"},ear:{keywords:["face","hear","sound","listen"],char:"👂",fitzpatrick_scale:!0,category:"people"},nose:{keywords:["smell","sniff"],char:"👃",fitzpatrick_scale:!0,category:"people"},eye:{keywords:["face","look","see","watch","stare"],char:"👁",fitzpatrick_scale:!1,category:"people"},eyes:{keywords:["look","watch","stalk","peek","see"],char:"👀",fitzpatrick_scale:!1,category:"people"},brain:{keywords:["smart","intelligent"],char:"🧠",fitzpatrick_scale:!1,category:"people"},bust_in_silhouette:{keywords:["user","person","human"],char:"👤",fitzpatrick_scale:!1,category:"people"},busts_in_silhouette:{keywords:["user","person","human","group","team"],char:"👥",fitzpatrick_scale:!1,category:"people"},speaking_head:{keywords:["user","person","human","sing","say","talk"],char:"🗣",fitzpatrick_scale:!1,category:"people"},baby:{keywords:["child","boy","girl","toddler"],char:"👶",fitzpatrick_scale:!0,category:"people"},child:{keywords:["gender-neutral","young"],char:"🧒",fitzpatrick_scale:!0,category:"people"},boy:{keywords:["man","male","guy","teenager"],char:"👦",fitzpatrick_scale:!0,category:"people"},girl:{keywords:["female","woman","teenager"],char:"👧",fitzpatrick_scale:!0,category:"people"},adult:{keywords:["gender-neutral","person"],char:"🧑",fitzpatrick_scale:!0,category:"people"},man:{keywords:["mustache","father","dad","guy","classy","sir","moustache"],char:"👨",fitzpatrick_scale:!0,category:"people"},woman:{keywords:["female","girls","lady"],char:"👩",fitzpatrick_scale:!0,category:"people"},blonde_woman:{keywords:["woman","female","girl","blonde","person"],char:"👱‍♀️",fitzpatrick_scale:!0,category:"people"},blonde_man:{keywords:["man","male","boy","blonde","guy","person"],char:"👱",fitzpatrick_scale:!0,category:"people"},bearded_person:{keywords:["person","bewhiskered"],char:"🧔",fitzpatrick_scale:!0,category:"people"},older_adult:{keywords:["human","elder","senior","gender-neutral"],char:"🧓",fitzpatrick_scale:!0,category:"people"},older_man:{keywords:["human","male","men","old","elder","senior"],char:"👴",fitzpatrick_scale:!0,category:"people"},older_woman:{keywords:["human","female","women","lady","old","elder","senior"],char:"👵",fitzpatrick_scale:!0,category:"people"},man_with_gua_pi_mao:{keywords:["male","boy","chinese"],char:"👲",fitzpatrick_scale:!0,category:"people"},woman_with_headscarf:{keywords:["female","hijab","mantilla","tichel"],char:"🧕",fitzpatrick_scale:!0,category:"people"},woman_with_turban:{keywords:["female","indian","hinduism","arabs","woman"],char:"👳‍♀️",fitzpatrick_scale:!0,category:"people"},man_with_turban:{keywords:["male","indian","hinduism","arabs"],char:"👳",fitzpatrick_scale:!0,category:"people"},policewoman:{keywords:["woman","police","law","legal","enforcement","arrest","911","female"],char:"👮‍♀️",fitzpatrick_scale:!0,category:"people"},policeman:{keywords:["man","police","law","legal","enforcement","arrest","911"],char:"👮",fitzpatrick_scale:!0,category:"people"},construction_worker_woman:{keywords:["female","human","wip","build","construction","worker","labor","woman"],char:"👷‍♀️",fitzpatrick_scale:!0,category:"people"},construction_worker_man:{keywords:["male","human","wip","guy","build","construction","worker","labor"],char:"👷",fitzpatrick_scale:!0,category:"people"},guardswoman:{keywords:["uk","gb","british","female","royal","woman"],char:"💂‍♀️",fitzpatrick_scale:!0,category:"people"},guardsman:{keywords:["uk","gb","british","male","guy","royal"],char:"💂",fitzpatrick_scale:!0,category:"people"},female_detective:{keywords:["human","spy","detective","female","woman"],char:"🕵️‍♀️",fitzpatrick_scale:!0,category:"people"},male_detective:{keywords:["human","spy","detective"],char:"🕵",fitzpatrick_scale:!0,category:"people"},woman_health_worker:{keywords:["doctor","nurse","therapist","healthcare","woman","human"],char:"👩‍⚕️",fitzpatrick_scale:!0,category:"people"},man_health_worker:{keywords:["doctor","nurse","therapist","healthcare","man","human"],char:"👨‍⚕️",fitzpatrick_scale:!0,category:"people"},woman_farmer:{keywords:["rancher","gardener","woman","human"],char:"👩‍🌾",fitzpatrick_scale:!0,category:"people"},man_farmer:{keywords:["rancher","gardener","man","human"],char:"👨‍🌾",fitzpatrick_scale:!0,category:"people"},woman_cook:{keywords:["chef","woman","human"],char:"👩‍🍳",fitzpatrick_scale:!0,category:"people"},man_cook:{keywords:["chef","man","human"],char:"👨‍🍳",fitzpatrick_scale:!0,category:"people"},woman_student:{keywords:["graduate","woman","human"],char:"👩‍🎓",fitzpatrick_scale:!0,category:"people"},man_student:{keywords:["graduate","man","human"],char:"👨‍🎓",fitzpatrick_scale:!0,category:"people"},woman_singer:{keywords:["rockstar","entertainer","woman","human"],char:"👩‍🎤",fitzpatrick_scale:!0,category:"people"},man_singer:{keywords:["rockstar","entertainer","man","human"],char:"👨‍🎤",fitzpatrick_scale:!0,category:"people"},woman_teacher:{keywords:["instructor","professor","woman","human"],char:"👩‍🏫",fitzpatrick_scale:!0,category:"people"},man_teacher:{keywords:["instructor","professor","man","human"],char:"👨‍🏫",fitzpatrick_scale:!0,category:"people"},woman_factory_worker:{keywords:["assembly","industrial","woman","human"],char:"👩‍🏭",fitzpatrick_scale:!0,category:"people"},man_factory_worker:{keywords:["assembly","industrial","man","human"],char:"👨‍🏭",fitzpatrick_scale:!0,category:"people"},woman_technologist:{keywords:["coder","developer","engineer","programmer","software","woman","human","laptop","computer"],char:"👩‍💻",fitzpatrick_scale:!0,category:"people"},man_technologist:{keywords:["coder","developer","engineer","programmer","software","man","human","laptop","computer"],char:"👨‍💻",fitzpatrick_scale:!0,category:"people"},woman_office_worker:{keywords:["business","manager","woman","human"],char:"👩‍💼",fitzpatrick_scale:!0,category:"people"},man_office_worker:{keywords:["business","manager","man","human"],char:"👨‍💼",fitzpatrick_scale:!0,category:"people"},woman_mechanic:{keywords:["plumber","woman","human","wrench"],char:"👩‍🔧",fitzpatrick_scale:!0,category:"people"},man_mechanic:{keywords:["plumber","man","human","wrench"],char:"👨‍🔧",fitzpatrick_scale:!0,category:"people"},woman_scientist:{keywords:["biologist","chemist","engineer","physicist","woman","human"],char:"👩‍🔬",fitzpatrick_scale:!0,category:"people"},man_scientist:{keywords:["biologist","chemist","engineer","physicist","man","human"],char:"👨‍🔬",fitzpatrick_scale:!0,category:"people"},woman_artist:{keywords:["painter","woman","human"],char:"👩‍🎨",fitzpatrick_scale:!0,category:"people"},man_artist:{keywords:["painter","man","human"],char:"👨‍🎨",fitzpatrick_scale:!0,category:"people"},woman_firefighter:{keywords:["fireman","woman","human"],char:"👩‍🚒",fitzpatrick_scale:!0,category:"people"},man_firefighter:{keywords:["fireman","man","human"],char:"👨‍🚒",fitzpatrick_scale:!0,category:"people"},woman_pilot:{keywords:["aviator","plane","woman","human"],char:"👩‍✈️",fitzpatrick_scale:!0,category:"people"},man_pilot:{keywords:["aviator","plane","man","human"],char:"👨‍✈️",fitzpatrick_scale:!0,category:"people"},woman_astronaut:{keywords:["space","rocket","woman","human"],char:"👩‍🚀",fitzpatrick_scale:!0,category:"people"},man_astronaut:{keywords:["space","rocket","man","human"],char:"👨‍🚀",fitzpatrick_scale:!0,category:"people"},woman_judge:{keywords:["justice","court","woman","human"],char:"👩‍⚖️",fitzpatrick_scale:!0,category:"people"},man_judge:{keywords:["justice","court","man","human"],char:"👨‍⚖️",fitzpatrick_scale:!0,category:"people"},woman_superhero:{keywords:["woman","female","good","heroine","superpowers"],char:"🦸‍♀️",fitzpatrick_scale:!0,category:"people"},man_superhero:{keywords:["man","male","good","hero","superpowers"],char:"🦸‍♂️",fitzpatrick_scale:!0,category:"people"},woman_supervillain:{keywords:["woman","female","evil","bad","criminal","heroine","superpowers"],char:"🦹‍♀️",fitzpatrick_scale:!0,category:"people"},man_supervillain:{keywords:["man","male","evil","bad","criminal","hero","superpowers"],char:"🦹‍♂️",fitzpatrick_scale:!0,category:"people"},mrs_claus:{keywords:["woman","female","xmas","mother christmas"],char:"🤶",fitzpatrick_scale:!0,category:"people"},santa:{keywords:["festival","man","male","xmas","father christmas"],char:"🎅",fitzpatrick_scale:!0,category:"people"},sorceress:{keywords:["woman","female","mage","witch"],char:"🧙‍♀️",fitzpatrick_scale:!0,category:"people"},wizard:{keywords:["man","male","mage","sorcerer"],char:"🧙‍♂️",fitzpatrick_scale:!0,category:"people"},woman_elf:{keywords:["woman","female"],char:"🧝‍♀️",fitzpatrick_scale:!0,category:"people"},man_elf:{keywords:["man","male"],char:"🧝‍♂️",fitzpatrick_scale:!0,category:"people"},woman_vampire:{keywords:["woman","female"],char:"🧛‍♀️",fitzpatrick_scale:!0,category:"people"},man_vampire:{keywords:["man","male","dracula"],char:"🧛‍♂️",fitzpatrick_scale:!0,category:"people"},woman_zombie:{keywords:["woman","female","undead","walking dead"],char:"🧟‍♀️",fitzpatrick_scale:!1,category:"people"},man_zombie:{keywords:["man","male","dracula","undead","walking dead"],char:"🧟‍♂️",fitzpatrick_scale:!1,category:"people"},woman_genie:{keywords:["woman","female"],char:"🧞‍♀️",fitzpatrick_scale:!1,category:"people"},man_genie:{keywords:["man","male"],char:"🧞‍♂️",fitzpatrick_scale:!1,category:"people"},mermaid:{keywords:["woman","female","merwoman","ariel"],char:"🧜‍♀️",fitzpatrick_scale:!0,category:"people"},merman:{keywords:["man","male","triton"],char:"🧜‍♂️",fitzpatrick_scale:!0,category:"people"},woman_fairy:{keywords:["woman","female"],char:"🧚‍♀️",fitzpatrick_scale:!0,category:"people"},man_fairy:{keywords:["man","male"],char:"🧚‍♂️",fitzpatrick_scale:!0,category:"people"},angel:{keywords:["heaven","wings","halo"],char:"👼",fitzpatrick_scale:!0,category:"people"},pregnant_woman:{keywords:["baby"],char:"🤰",fitzpatrick_scale:!0,category:"people"},breastfeeding:{keywords:["nursing","baby"],char:"🤱",fitzpatrick_scale:!0,category:"people"},princess:{keywords:["girl","woman","female","blond","crown","royal","queen"],char:"👸",fitzpatrick_scale:!0,category:"people"},prince:{keywords:["boy","man","male","crown","royal","king"],char:"🤴",fitzpatrick_scale:!0,category:"people"},bride_with_veil:{keywords:["couple","marriage","wedding","woman","bride"],char:"👰",fitzpatrick_scale:!0,category:"people"},man_in_tuxedo:{keywords:["couple","marriage","wedding","groom"],char:"🤵",fitzpatrick_scale:!0,category:"people"},running_woman:{keywords:["woman","walking","exercise","race","running","female"],char:"🏃‍♀️",fitzpatrick_scale:!0,category:"people"},running_man:{keywords:["man","walking","exercise","race","running"],char:"🏃",fitzpatrick_scale:!0,category:"people"},walking_woman:{keywords:["human","feet","steps","woman","female"],char:"🚶‍♀️",fitzpatrick_scale:!0,category:"people"},walking_man:{keywords:["human","feet","steps"],char:"🚶",fitzpatrick_scale:!0,category:"people"},dancer:{keywords:["female","girl","woman","fun"],char:"💃",fitzpatrick_scale:!0,category:"people"},man_dancing:{keywords:["male","boy","fun","dancer"],char:"🕺",fitzpatrick_scale:!0,category:"people"},dancing_women:{keywords:["female","bunny","women","girls"],char:"👯",fitzpatrick_scale:!1,category:"people"},dancing_men:{keywords:["male","bunny","men","boys"],char:"👯‍♂️",fitzpatrick_scale:!1,category:"people"},couple:{keywords:["pair","people","human","love","date","dating","like","affection","valentines","marriage"],char:"👫",fitzpatrick_scale:!1,category:"people"},two_men_holding_hands:{keywords:["pair","couple","love","like","bromance","friendship","people","human"],char:"👬",fitzpatrick_scale:!1,category:"people"},two_women_holding_hands:{keywords:["pair","friendship","couple","love","like","female","people","human"],char:"👭",fitzpatrick_scale:!1,category:"people"},bowing_woman:{keywords:["woman","female","girl"],char:"🙇‍♀️",fitzpatrick_scale:!0,category:"people"},bowing_man:{keywords:["man","male","boy"],char:"🙇",fitzpatrick_scale:!0,category:"people"},man_facepalming:{keywords:["man","male","boy","disbelief"],char:"🤦‍♂️",fitzpatrick_scale:!0,category:"people"},woman_facepalming:{keywords:["woman","female","girl","disbelief"],char:"🤦‍♀️",fitzpatrick_scale:!0,category:"people"},woman_shrugging:{keywords:["woman","female","girl","confused","indifferent","doubt"],char:"🤷",fitzpatrick_scale:!0,category:"people"},man_shrugging:{keywords:["man","male","boy","confused","indifferent","doubt"],char:"🤷‍♂️",fitzpatrick_scale:!0,category:"people"},tipping_hand_woman:{keywords:["female","girl","woman","human","information"],char:"💁",fitzpatrick_scale:!0,category:"people"},tipping_hand_man:{keywords:["male","boy","man","human","information"],char:"💁‍♂️",fitzpatrick_scale:!0,category:"people"},no_good_woman:{keywords:["female","girl","woman","nope"],char:"🙅",fitzpatrick_scale:!0,category:"people"},no_good_man:{keywords:["male","boy","man","nope"],char:"🙅‍♂️",fitzpatrick_scale:!0,category:"people"},ok_woman:{keywords:["women","girl","female","pink","human","woman"],char:"🙆",fitzpatrick_scale:!0,category:"people"},ok_man:{keywords:["men","boy","male","blue","human","man"],char:"🙆‍♂️",fitzpatrick_scale:!0,category:"people"},raising_hand_woman:{keywords:["female","girl","woman"],char:"🙋",fitzpatrick_scale:!0,category:"people"},raising_hand_man:{keywords:["male","boy","man"],char:"🙋‍♂️",fitzpatrick_scale:!0,category:"people"},pouting_woman:{keywords:["female","girl","woman"],char:"🙎",fitzpatrick_scale:!0,category:"people"},pouting_man:{keywords:["male","boy","man"],char:"🙎‍♂️",fitzpatrick_scale:!0,category:"people"},frowning_woman:{keywords:["female","girl","woman","sad","depressed","discouraged","unhappy"],char:"🙍",fitzpatrick_scale:!0,category:"people"},frowning_man:{keywords:["male","boy","man","sad","depressed","discouraged","unhappy"],char:"🙍‍♂️",fitzpatrick_scale:!0,category:"people"},haircut_woman:{keywords:["female","girl","woman"],char:"💇",fitzpatrick_scale:!0,category:"people"},haircut_man:{keywords:["male","boy","man"],char:"💇‍♂️",fitzpatrick_scale:!0,category:"people"},massage_woman:{keywords:["female","girl","woman","head"],char:"💆",fitzpatrick_scale:!0,category:"people"},massage_man:{keywords:["male","boy","man","head"],char:"💆‍♂️",fitzpatrick_scale:!0,category:"people"},woman_in_steamy_room:{keywords:["female","woman","spa","steamroom","sauna"],char:"🧖‍♀️",fitzpatrick_scale:!0,category:"people"},man_in_steamy_room:{keywords:["male","man","spa","steamroom","sauna"],char:"🧖‍♂️",fitzpatrick_scale:!0,category:"people"},couple_with_heart_woman_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"💑",fitzpatrick_scale:!1,category:"people"},couple_with_heart_woman_woman:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"👩‍❤️‍👩",fitzpatrick_scale:!1,category:"people"},couple_with_heart_man_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"👨‍❤️‍👨",fitzpatrick_scale:!1,category:"people"},couplekiss_man_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"💏",fitzpatrick_scale:!1,category:"people"},couplekiss_woman_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"👩‍❤️‍💋‍👩",fitzpatrick_scale:!1,category:"people"},couplekiss_man_man:{keywords:["pair","valentines","love","like","dating","marriage"],char:"👨‍❤️‍💋‍👨",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy:{keywords:["home","parents","child","mom","dad","father","mother","people","human"],char:"👪",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl:{keywords:["home","parents","people","human","child"],char:"👨‍👩‍👧",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_man_man_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_boy_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_boy:{keywords:["home","parent","people","human","child"],char:"👩‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_girl:{keywords:["home","parent","people","human","child"],char:"👩‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_girl_boy:{keywords:["home","parent","people","human","children"],char:"👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_boy_boy:{keywords:["home","parent","people","human","children"],char:"👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_girl_girl:{keywords:["home","parent","people","human","children"],char:"👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_man_boy:{keywords:["home","parent","people","human","child"],char:"👨‍👦",fitzpatrick_scale:!1,category:"people"},family_man_girl:{keywords:["home","parent","people","human","child"],char:"👨‍👧",fitzpatrick_scale:!1,category:"people"},family_man_girl_boy:{keywords:["home","parent","people","human","children"],char:"👨‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_boy_boy:{keywords:["home","parent","people","human","children"],char:"👨‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_girl_girl:{keywords:["home","parent","people","human","children"],char:"👨‍👧‍👧",fitzpatrick_scale:!1,category:"people"},yarn:{keywords:["ball","crochet","knit"],char:"🧶",fitzpatrick_scale:!1,category:"people"},thread:{keywords:["needle","sewing","spool","string"],char:"🧵",fitzpatrick_scale:!1,category:"people"},coat:{keywords:["jacket"],char:"🧥",fitzpatrick_scale:!1,category:"people"},labcoat:{keywords:["doctor","experiment","scientist","chemist"],char:"🥼",fitzpatrick_scale:!1,category:"people"},womans_clothes:{keywords:["fashion","shopping_bags","female"],char:"👚",fitzpatrick_scale:!1,category:"people"},tshirt:{keywords:["fashion","cloth","casual","shirt","tee"],char:"👕",fitzpatrick_scale:!1,category:"people"},jeans:{keywords:["fashion","shopping"],char:"👖",fitzpatrick_scale:!1,category:"people"},necktie:{keywords:["shirt","suitup","formal","fashion","cloth","business"],char:"👔",fitzpatrick_scale:!1,category:"people"},dress:{keywords:["clothes","fashion","shopping"],char:"👗",fitzpatrick_scale:!1,category:"people"},bikini:{keywords:["swimming","female","woman","girl","fashion","beach","summer"],char:"👙",fitzpatrick_scale:!1,category:"people"},kimono:{keywords:["dress","fashion","women","female","japanese"],char:"👘",fitzpatrick_scale:!1,category:"people"},lipstick:{keywords:["female","girl","fashion","woman"],char:"💄",fitzpatrick_scale:!1,category:"people"},kiss:{keywords:["face","lips","love","like","affection","valentines"],char:"💋",fitzpatrick_scale:!1,category:"people"},footprints:{keywords:["feet","tracking","walking","beach"],char:"👣",fitzpatrick_scale:!1,category:"people"},flat_shoe:{keywords:["ballet","slip-on","slipper"],char:"🥿",fitzpatrick_scale:!1,category:"people"},high_heel:{keywords:["fashion","shoes","female","pumps","stiletto"],char:"👠",fitzpatrick_scale:!1,category:"people"},sandal:{keywords:["shoes","fashion","flip flops"],char:"👡",fitzpatrick_scale:!1,category:"people"},boot:{keywords:["shoes","fashion"],char:"👢",fitzpatrick_scale:!1,category:"people"},mans_shoe:{keywords:["fashion","male"],char:"👞",fitzpatrick_scale:!1,category:"people"},athletic_shoe:{keywords:["shoes","sports","sneakers"],char:"👟",fitzpatrick_scale:!1,category:"people"},hiking_boot:{keywords:["backpacking","camping","hiking"],char:"🥾",fitzpatrick_scale:!1,category:"people"},socks:{keywords:["stockings","clothes"],char:"🧦",fitzpatrick_scale:!1,category:"people"},gloves:{keywords:["hands","winter","clothes"],char:"🧤",fitzpatrick_scale:!1,category:"people"},scarf:{keywords:["neck","winter","clothes"],char:"🧣",fitzpatrick_scale:!1,category:"people"},womans_hat:{keywords:["fashion","accessories","female","lady","spring"],char:"👒",fitzpatrick_scale:!1,category:"people"},tophat:{keywords:["magic","gentleman","classy","circus"],char:"🎩",fitzpatrick_scale:!1,category:"people"},billed_hat:{keywords:["cap","baseball"],char:"🧢",fitzpatrick_scale:!1,category:"people"},rescue_worker_helmet:{keywords:["construction","build"],char:"⛑",fitzpatrick_scale:!1,category:"people"},mortar_board:{keywords:["school","college","degree","university","graduation","cap","hat","legal","learn","education"],char:"🎓",fitzpatrick_scale:!1,category:"people"},crown:{keywords:["king","kod","leader","royalty","lord"],char:"👑",fitzpatrick_scale:!1,category:"people"},school_satchel:{keywords:["student","education","bag","backpack"],char:"🎒",fitzpatrick_scale:!1,category:"people"},luggage:{keywords:["packing","travel"],char:"🧳",fitzpatrick_scale:!1,category:"people"},pouch:{keywords:["bag","accessories","shopping"],char:"👝",fitzpatrick_scale:!1,category:"people"},purse:{keywords:["fashion","accessories","money","sales","shopping"],char:"👛",fitzpatrick_scale:!1,category:"people"},handbag:{keywords:["fashion","accessory","accessories","shopping"],char:"👜",fitzpatrick_scale:!1,category:"people"},briefcase:{keywords:["business","documents","work","law","legal","job","career"],char:"💼",fitzpatrick_scale:!1,category:"people"},eyeglasses:{keywords:["fashion","accessories","eyesight","nerdy","dork","geek"],char:"👓",fitzpatrick_scale:!1,category:"people"},dark_sunglasses:{keywords:["face","cool","accessories"],char:"🕶",fitzpatrick_scale:!1,category:"people"},goggles:{keywords:["eyes","protection","safety"],char:"🥽",fitzpatrick_scale:!1,category:"people"},ring:{keywords:["wedding","propose","marriage","valentines","diamond","fashion","jewelry","gem","engagement"],char:"💍",fitzpatrick_scale:!1,category:"people"},closed_umbrella:{keywords:["weather","rain","drizzle"],char:"🌂",fitzpatrick_scale:!1,category:"people"},dog:{keywords:["animal","friend","nature","woof","puppy","pet","faithful"],char:"🐶",fitzpatrick_scale:!1,category:"animals_and_nature"},cat:{keywords:["animal","meow","nature","pet","kitten"],char:"🐱",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse:{keywords:["animal","nature","cheese_wedge","rodent"],char:"🐭",fitzpatrick_scale:!1,category:"animals_and_nature"},hamster:{keywords:["animal","nature"],char:"🐹",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit:{keywords:["animal","nature","pet","spring","magic","bunny"],char:"🐰",fitzpatrick_scale:!1,category:"animals_and_nature"},fox_face:{keywords:["animal","nature","face"],char:"🦊",fitzpatrick_scale:!1,category:"animals_and_nature"},bear:{keywords:["animal","nature","wild"],char:"🐻",fitzpatrick_scale:!1,category:"animals_and_nature"},panda_face:{keywords:["animal","nature","panda"],char:"🐼",fitzpatrick_scale:!1,category:"animals_and_nature"},koala:{keywords:["animal","nature"],char:"🐨",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger:{keywords:["animal","cat","danger","wild","nature","roar"],char:"🐯",fitzpatrick_scale:!1,category:"animals_and_nature"},lion:{keywords:["animal","nature"],char:"🦁",fitzpatrick_scale:!1,category:"animals_and_nature"},cow:{keywords:["beef","ox","animal","nature","moo","milk"],char:"🐮",fitzpatrick_scale:!1,category:"animals_and_nature"},pig:{keywords:["animal","oink","nature"],char:"🐷",fitzpatrick_scale:!1,category:"animals_and_nature"},pig_nose:{keywords:["animal","oink"],char:"🐽",fitzpatrick_scale:!1,category:"animals_and_nature"},frog:{keywords:["animal","nature","croak","toad"],char:"🐸",fitzpatrick_scale:!1,category:"animals_and_nature"},squid:{keywords:["animal","nature","ocean","sea"],char:"🦑",fitzpatrick_scale:!1,category:"animals_and_nature"},octopus:{keywords:["animal","creature","ocean","sea","nature","beach"],char:"🐙",fitzpatrick_scale:!1,category:"animals_and_nature"},shrimp:{keywords:["animal","ocean","nature","seafood"],char:"🦐",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey_face:{keywords:["animal","nature","circus"],char:"🐵",fitzpatrick_scale:!1,category:"animals_and_nature"},gorilla:{keywords:["animal","nature","circus"],char:"🦍",fitzpatrick_scale:!1,category:"animals_and_nature"},see_no_evil:{keywords:["monkey","animal","nature","haha"],char:"🙈",fitzpatrick_scale:!1,category:"animals_and_nature"},hear_no_evil:{keywords:["animal","monkey","nature"],char:"🙉",fitzpatrick_scale:!1,category:"animals_and_nature"},speak_no_evil:{keywords:["monkey","animal","nature","omg"],char:"🙊",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey:{keywords:["animal","nature","banana","circus"],char:"🐒",fitzpatrick_scale:!1,category:"animals_and_nature"},chicken:{keywords:["animal","cluck","nature","bird"],char:"🐔",fitzpatrick_scale:!1,category:"animals_and_nature"},penguin:{keywords:["animal","nature"],char:"🐧",fitzpatrick_scale:!1,category:"animals_and_nature"},bird:{keywords:["animal","nature","fly","tweet","spring"],char:"🐦",fitzpatrick_scale:!1,category:"animals_and_nature"},baby_chick:{keywords:["animal","chicken","bird"],char:"🐤",fitzpatrick_scale:!1,category:"animals_and_nature"},hatching_chick:{keywords:["animal","chicken","egg","born","baby","bird"],char:"🐣",fitzpatrick_scale:!1,category:"animals_and_nature"},hatched_chick:{keywords:["animal","chicken","baby","bird"],char:"🐥",fitzpatrick_scale:!1,category:"animals_and_nature"},duck:{keywords:["animal","nature","bird","mallard"],char:"🦆",fitzpatrick_scale:!1,category:"animals_and_nature"},eagle:{keywords:["animal","nature","bird"],char:"🦅",fitzpatrick_scale:!1,category:"animals_and_nature"},owl:{keywords:["animal","nature","bird","hoot"],char:"🦉",fitzpatrick_scale:!1,category:"animals_and_nature"},bat:{keywords:["animal","nature","blind","vampire"],char:"🦇",fitzpatrick_scale:!1,category:"animals_and_nature"},wolf:{keywords:["animal","nature","wild"],char:"🐺",fitzpatrick_scale:!1,category:"animals_and_nature"},boar:{keywords:["animal","nature"],char:"🐗",fitzpatrick_scale:!1,category:"animals_and_nature"},horse:{keywords:["animal","brown","nature"],char:"🐴",fitzpatrick_scale:!1,category:"animals_and_nature"},unicorn:{keywords:["animal","nature","mystical"],char:"🦄",fitzpatrick_scale:!1,category:"animals_and_nature"},honeybee:{keywords:["animal","insect","nature","bug","spring","honey"],char:"🐝",fitzpatrick_scale:!1,category:"animals_and_nature"},bug:{keywords:["animal","insect","nature","worm"],char:"🐛",fitzpatrick_scale:!1,category:"animals_and_nature"},butterfly:{keywords:["animal","insect","nature","caterpillar"],char:"🦋",fitzpatrick_scale:!1,category:"animals_and_nature"},snail:{keywords:["slow","animal","shell"],char:"🐌",fitzpatrick_scale:!1,category:"animals_and_nature"},beetle:{keywords:["animal","insect","nature","ladybug"],char:"🐞",fitzpatrick_scale:!1,category:"animals_and_nature"},ant:{keywords:["animal","insect","nature","bug"],char:"🐜",fitzpatrick_scale:!1,category:"animals_and_nature"},grasshopper:{keywords:["animal","cricket","chirp"],char:"🦗",fitzpatrick_scale:!1,category:"animals_and_nature"},spider:{keywords:["animal","arachnid"],char:"🕷",fitzpatrick_scale:!1,category:"animals_and_nature"},scorpion:{keywords:["animal","arachnid"],char:"🦂",fitzpatrick_scale:!1,category:"animals_and_nature"},crab:{keywords:["animal","crustacean"],char:"🦀",fitzpatrick_scale:!1,category:"animals_and_nature"},snake:{keywords:["animal","evil","nature","hiss","python"],char:"🐍",fitzpatrick_scale:!1,category:"animals_and_nature"},lizard:{keywords:["animal","nature","reptile"],char:"🦎",fitzpatrick_scale:!1,category:"animals_and_nature"},"t-rex":{keywords:["animal","nature","dinosaur","tyrannosaurus","extinct"],char:"🦖",fitzpatrick_scale:!1,category:"animals_and_nature"},sauropod:{keywords:["animal","nature","dinosaur","brachiosaurus","brontosaurus","diplodocus","extinct"],char:"🦕",fitzpatrick_scale:!1,category:"animals_and_nature"},turtle:{keywords:["animal","slow","nature","tortoise"],char:"🐢",fitzpatrick_scale:!1,category:"animals_and_nature"},tropical_fish:{keywords:["animal","swim","ocean","beach","nemo"],char:"🐠",fitzpatrick_scale:!1,category:"animals_and_nature"},fish:{keywords:["animal","food","nature"],char:"🐟",fitzpatrick_scale:!1,category:"animals_and_nature"},blowfish:{keywords:["animal","nature","food","sea","ocean"],char:"🐡",fitzpatrick_scale:!1,category:"animals_and_nature"},dolphin:{keywords:["animal","nature","fish","sea","ocean","flipper","fins","beach"],char:"🐬",fitzpatrick_scale:!1,category:"animals_and_nature"},shark:{keywords:["animal","nature","fish","sea","ocean","jaws","fins","beach"],char:"🦈",fitzpatrick_scale:!1,category:"animals_and_nature"},whale:{keywords:["animal","nature","sea","ocean"],char:"🐳",fitzpatrick_scale:!1,category:"animals_and_nature"},whale2:{keywords:["animal","nature","sea","ocean"],char:"🐋",fitzpatrick_scale:!1,category:"animals_and_nature"},crocodile:{keywords:["animal","nature","reptile","lizard","alligator"],char:"🐊",fitzpatrick_scale:!1,category:"animals_and_nature"},leopard:{keywords:["animal","nature"],char:"🐆",fitzpatrick_scale:!1,category:"animals_and_nature"},zebra:{keywords:["animal","nature","stripes","safari"],char:"🦓",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger2:{keywords:["animal","nature","roar"],char:"🐅",fitzpatrick_scale:!1,category:"animals_and_nature"},water_buffalo:{keywords:["animal","nature","ox","cow"],char:"🐃",fitzpatrick_scale:!1,category:"animals_and_nature"},ox:{keywords:["animal","cow","beef"],char:"🐂",fitzpatrick_scale:!1,category:"animals_and_nature"},cow2:{keywords:["beef","ox","animal","nature","moo","milk"],char:"🐄",fitzpatrick_scale:!1,category:"animals_and_nature"},deer:{keywords:["animal","nature","horns","venison"],char:"🦌",fitzpatrick_scale:!1,category:"animals_and_nature"},dromedary_camel:{keywords:["animal","hot","desert","hump"],char:"🐪",fitzpatrick_scale:!1,category:"animals_and_nature"},camel:{keywords:["animal","nature","hot","desert","hump"],char:"🐫",fitzpatrick_scale:!1,category:"animals_and_nature"},giraffe:{keywords:["animal","nature","spots","safari"],char:"🦒",fitzpatrick_scale:!1,category:"animals_and_nature"},elephant:{keywords:["animal","nature","nose","th","circus"],char:"🐘",fitzpatrick_scale:!1,category:"animals_and_nature"},rhinoceros:{keywords:["animal","nature","horn"],char:"🦏",fitzpatrick_scale:!1,category:"animals_and_nature"},goat:{keywords:["animal","nature"],char:"🐐",fitzpatrick_scale:!1,category:"animals_and_nature"},ram:{keywords:["animal","sheep","nature"],char:"🐏",fitzpatrick_scale:!1,category:"animals_and_nature"},sheep:{keywords:["animal","nature","wool","shipit"],char:"🐑",fitzpatrick_scale:!1,category:"animals_and_nature"},racehorse:{keywords:["animal","gamble","luck"],char:"🐎",fitzpatrick_scale:!1,category:"animals_and_nature"},pig2:{keywords:["animal","nature"],char:"🐖",fitzpatrick_scale:!1,category:"animals_and_nature"},rat:{keywords:["animal","mouse","rodent"],char:"🐀",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse2:{keywords:["animal","nature","rodent"],char:"🐁",fitzpatrick_scale:!1,category:"animals_and_nature"},rooster:{keywords:["animal","nature","chicken"],char:"🐓",fitzpatrick_scale:!1,category:"animals_and_nature"},turkey:{keywords:["animal","bird"],char:"🦃",fitzpatrick_scale:!1,category:"animals_and_nature"},dove:{keywords:["animal","bird"],char:"🕊",fitzpatrick_scale:!1,category:"animals_and_nature"},dog2:{keywords:["animal","nature","friend","doge","pet","faithful"],char:"🐕",fitzpatrick_scale:!1,category:"animals_and_nature"},poodle:{keywords:["dog","animal","101","nature","pet"],char:"🐩",fitzpatrick_scale:!1,category:"animals_and_nature"},cat2:{keywords:["animal","meow","pet","cats"],char:"🐈",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit2:{keywords:["animal","nature","pet","magic","spring"],char:"🐇",fitzpatrick_scale:!1,category:"animals_and_nature"},chipmunk:{keywords:["animal","nature","rodent","squirrel"],char:"🐿",fitzpatrick_scale:!1,category:"animals_and_nature"},hedgehog:{keywords:["animal","nature","spiny"],char:"🦔",fitzpatrick_scale:!1,category:"animals_and_nature"},raccoon:{keywords:["animal","nature"],char:"🦝",fitzpatrick_scale:!1,category:"animals_and_nature"},llama:{keywords:["animal","nature","alpaca"],char:"🦙",fitzpatrick_scale:!1,category:"animals_and_nature"},hippopotamus:{keywords:["animal","nature"],char:"🦛",fitzpatrick_scale:!1,category:"animals_and_nature"},kangaroo:{keywords:["animal","nature","australia","joey","hop","marsupial"],char:"🦘",fitzpatrick_scale:!1,category:"animals_and_nature"},badger:{keywords:["animal","nature","honey"],char:"🦡",fitzpatrick_scale:!1,category:"animals_and_nature"},swan:{keywords:["animal","nature","bird"],char:"🦢",fitzpatrick_scale:!1,category:"animals_and_nature"},peacock:{keywords:["animal","nature","peahen","bird"],char:"🦚",fitzpatrick_scale:!1,category:"animals_and_nature"},parrot:{keywords:["animal","nature","bird","pirate","talk"],char:"🦜",fitzpatrick_scale:!1,category:"animals_and_nature"},lobster:{keywords:["animal","nature","bisque","claws","seafood"],char:"🦞",fitzpatrick_scale:!1,category:"animals_and_nature"},mosquito:{keywords:["animal","nature","insect","malaria"],char:"🦟",fitzpatrick_scale:!1,category:"animals_and_nature"},paw_prints:{keywords:["animal","tracking","footprints","dog","cat","pet","feet"],char:"🐾",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon:{keywords:["animal","myth","nature","chinese","green"],char:"🐉",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon_face:{keywords:["animal","myth","nature","chinese","green"],char:"🐲",fitzpatrick_scale:!1,category:"animals_and_nature"},cactus:{keywords:["vegetable","plant","nature"],char:"🌵",fitzpatrick_scale:!1,category:"animals_and_nature"},christmas_tree:{keywords:["festival","vacation","december","xmas","celebration"],char:"🎄",fitzpatrick_scale:!1,category:"animals_and_nature"},evergreen_tree:{keywords:["plant","nature"],char:"🌲",fitzpatrick_scale:!1,category:"animals_and_nature"},deciduous_tree:{keywords:["plant","nature"],char:"🌳",fitzpatrick_scale:!1,category:"animals_and_nature"},palm_tree:{keywords:["plant","vegetable","nature","summer","beach","mojito","tropical"],char:"🌴",fitzpatrick_scale:!1,category:"animals_and_nature"},seedling:{keywords:["plant","nature","grass","lawn","spring"],char:"🌱",fitzpatrick_scale:!1,category:"animals_and_nature"},herb:{keywords:["vegetable","plant","medicine","weed","grass","lawn"],char:"🌿",fitzpatrick_scale:!1,category:"animals_and_nature"},shamrock:{keywords:["vegetable","plant","nature","irish","clover"],char:"☘",fitzpatrick_scale:!1,category:"animals_and_nature"},four_leaf_clover:{keywords:["vegetable","plant","nature","lucky","irish"],char:"🍀",fitzpatrick_scale:!1,category:"animals_and_nature"},bamboo:{keywords:["plant","nature","vegetable","panda","pine_decoration"],char:"🎍",fitzpatrick_scale:!1,category:"animals_and_nature"},tanabata_tree:{keywords:["plant","nature","branch","summer"],char:"🎋",fitzpatrick_scale:!1,category:"animals_and_nature"},leaves:{keywords:["nature","plant","tree","vegetable","grass","lawn","spring"],char:"🍃",fitzpatrick_scale:!1,category:"animals_and_nature"},fallen_leaf:{keywords:["nature","plant","vegetable","leaves"],char:"🍂",fitzpatrick_scale:!1,category:"animals_and_nature"},maple_leaf:{keywords:["nature","plant","vegetable","ca","fall"],char:"🍁",fitzpatrick_scale:!1,category:"animals_and_nature"},ear_of_rice:{keywords:["nature","plant"],char:"🌾",fitzpatrick_scale:!1,category:"animals_and_nature"},hibiscus:{keywords:["plant","vegetable","flowers","beach"],char:"🌺",fitzpatrick_scale:!1,category:"animals_and_nature"},sunflower:{keywords:["nature","plant","fall"],char:"🌻",fitzpatrick_scale:!1,category:"animals_and_nature"},rose:{keywords:["flowers","valentines","love","spring"],char:"🌹",fitzpatrick_scale:!1,category:"animals_and_nature"},wilted_flower:{keywords:["plant","nature","flower"],char:"🥀",fitzpatrick_scale:!1,category:"animals_and_nature"},tulip:{keywords:["flowers","plant","nature","summer","spring"],char:"🌷",fitzpatrick_scale:!1,category:"animals_and_nature"},blossom:{keywords:["nature","flowers","yellow"],char:"🌼",fitzpatrick_scale:!1,category:"animals_and_nature"},cherry_blossom:{keywords:["nature","plant","spring","flower"],char:"🌸",fitzpatrick_scale:!1,category:"animals_and_nature"},bouquet:{keywords:["flowers","nature","spring"],char:"💐",fitzpatrick_scale:!1,category:"animals_and_nature"},mushroom:{keywords:["plant","vegetable"],char:"🍄",fitzpatrick_scale:!1,category:"animals_and_nature"},chestnut:{keywords:["food","squirrel"],char:"🌰",fitzpatrick_scale:!1,category:"animals_and_nature"},jack_o_lantern:{keywords:["halloween","light","pumpkin","creepy","fall"],char:"🎃",fitzpatrick_scale:!1,category:"animals_and_nature"},shell:{keywords:["nature","sea","beach"],char:"🐚",fitzpatrick_scale:!1,category:"animals_and_nature"},spider_web:{keywords:["animal","insect","arachnid","silk"],char:"🕸",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_americas:{keywords:["globe","world","USA","international"],char:"🌎",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_africa:{keywords:["globe","world","international"],char:"🌍",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_asia:{keywords:["globe","world","east","international"],char:"🌏",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon:{keywords:["nature","yellow","twilight","planet","space","night","evening","sleep"],char:"🌕",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_gibbous_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep","waxing_gibbous_moon"],char:"🌖",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌗",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌘",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌑",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌒",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌓",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_gibbous_moon:{keywords:["nature","night","sky","gray","twilight","planet","space","evening","sleep"],char:"🌔",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌚",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌝",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌛",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌜",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_with_face:{keywords:["nature","morning","sky"],char:"🌞",fitzpatrick_scale:!1,category:"animals_and_nature"},crescent_moon:{keywords:["night","sleep","sky","evening","magic"],char:"🌙",fitzpatrick_scale:!1,category:"animals_and_nature"},star:{keywords:["night","yellow"],char:"⭐",fitzpatrick_scale:!1,category:"animals_and_nature"},star2:{keywords:["night","sparkle","awesome","good","magic"],char:"🌟",fitzpatrick_scale:!1,category:"animals_and_nature"},dizzy:{keywords:["star","sparkle","shoot","magic"],char:"💫",fitzpatrick_scale:!1,category:"animals_and_nature"},sparkles:{keywords:["stars","shine","shiny","cool","awesome","good","magic"],char:"✨",fitzpatrick_scale:!1,category:"animals_and_nature"},comet:{keywords:["space"],char:"☄",fitzpatrick_scale:!1,category:"animals_and_nature"},sunny:{keywords:["weather","nature","brightness","summer","beach","spring"],char:"☀️",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_small_cloud:{keywords:["weather"],char:"🌤",fitzpatrick_scale:!1,category:"animals_and_nature"},partly_sunny:{keywords:["weather","nature","cloudy","morning","fall","spring"],char:"⛅",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_large_cloud:{keywords:["weather"],char:"🌥",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_rain_cloud:{keywords:["weather"],char:"🌦",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud:{keywords:["weather","sky"],char:"☁️",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_rain:{keywords:["weather"],char:"🌧",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning_and_rain:{keywords:["weather","lightning"],char:"⛈",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning:{keywords:["weather","thunder"],char:"🌩",fitzpatrick_scale:!1,category:"animals_and_nature"},zap:{keywords:["thunder","weather","lightning bolt","fast"],char:"⚡",fitzpatrick_scale:!1,category:"animals_and_nature"},fire:{keywords:["hot","cook","flame"],char:"🔥",fitzpatrick_scale:!1,category:"animals_and_nature"},boom:{keywords:["bomb","explode","explosion","collision","blown"],char:"💥",fitzpatrick_scale:!1,category:"animals_and_nature"},snowflake:{keywords:["winter","season","cold","weather","christmas","xmas"],char:"❄️",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_snow:{keywords:["weather"],char:"🌨",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman:{keywords:["winter","season","cold","weather","christmas","xmas","frozen","without_snow"],char:"⛄",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman_with_snow:{keywords:["winter","season","cold","weather","christmas","xmas","frozen"],char:"☃",fitzpatrick_scale:!1,category:"animals_and_nature"},wind_face:{keywords:["gust","air"],char:"🌬",fitzpatrick_scale:!1,category:"animals_and_nature"},dash:{keywords:["wind","air","fast","shoo","fart","smoke","puff"],char:"💨",fitzpatrick_scale:!1,category:"animals_and_nature"},tornado:{keywords:["weather","cyclone","twister"],char:"🌪",fitzpatrick_scale:!1,category:"animals_and_nature"},fog:{keywords:["weather"],char:"🌫",fitzpatrick_scale:!1,category:"animals_and_nature"},open_umbrella:{keywords:["weather","spring"],char:"☂",fitzpatrick_scale:!1,category:"animals_and_nature"},umbrella:{keywords:["rainy","weather","spring"],char:"☔",fitzpatrick_scale:!1,category:"animals_and_nature"},droplet:{keywords:["water","drip","faucet","spring"],char:"💧",fitzpatrick_scale:!1,category:"animals_and_nature"},sweat_drops:{keywords:["water","drip","oops"],char:"💦",fitzpatrick_scale:!1,category:"animals_and_nature"},ocean:{keywords:["sea","water","wave","nature","tsunami","disaster"],char:"🌊",fitzpatrick_scale:!1,category:"animals_and_nature"},green_apple:{keywords:["fruit","nature"],char:"🍏",fitzpatrick_scale:!1,category:"food_and_drink"},apple:{keywords:["fruit","mac","school"],char:"🍎",fitzpatrick_scale:!1,category:"food_and_drink"},pear:{keywords:["fruit","nature","food"],char:"🍐",fitzpatrick_scale:!1,category:"food_and_drink"},tangerine:{keywords:["food","fruit","nature","orange"],char:"🍊",fitzpatrick_scale:!1,category:"food_and_drink"},lemon:{keywords:["fruit","nature"],char:"🍋",fitzpatrick_scale:!1,category:"food_and_drink"},banana:{keywords:["fruit","food","monkey"],char:"🍌",fitzpatrick_scale:!1,category:"food_and_drink"},watermelon:{keywords:["fruit","food","picnic","summer"],char:"🍉",fitzpatrick_scale:!1,category:"food_and_drink"},grapes:{keywords:["fruit","food","wine"],char:"🍇",fitzpatrick_scale:!1,category:"food_and_drink"},strawberry:{keywords:["fruit","food","nature"],char:"🍓",fitzpatrick_scale:!1,category:"food_and_drink"},melon:{keywords:["fruit","nature","food"],char:"🍈",fitzpatrick_scale:!1,category:"food_and_drink"},cherries:{keywords:["food","fruit"],char:"🍒",fitzpatrick_scale:!1,category:"food_and_drink"},peach:{keywords:["fruit","nature","food"],char:"🍑",fitzpatrick_scale:!1,category:"food_and_drink"},pineapple:{keywords:["fruit","nature","food"],char:"🍍",fitzpatrick_scale:!1,category:"food_and_drink"},coconut:{keywords:["fruit","nature","food","palm"],char:"🥥",fitzpatrick_scale:!1,category:"food_and_drink"},kiwi_fruit:{keywords:["fruit","food"],char:"🥝",fitzpatrick_scale:!1,category:"food_and_drink"},mango:{keywords:["fruit","food","tropical"],char:"🥭",fitzpatrick_scale:!1,category:"food_and_drink"},avocado:{keywords:["fruit","food"],char:"🥑",fitzpatrick_scale:!1,category:"food_and_drink"},broccoli:{keywords:["fruit","food","vegetable"],char:"🥦",fitzpatrick_scale:!1,category:"food_and_drink"},tomato:{keywords:["fruit","vegetable","nature","food"],char:"🍅",fitzpatrick_scale:!1,category:"food_and_drink"},eggplant:{keywords:["vegetable","nature","food","aubergine"],char:"🍆",fitzpatrick_scale:!1,category:"food_and_drink"},cucumber:{keywords:["fruit","food","pickle"],char:"🥒",fitzpatrick_scale:!1,category:"food_and_drink"},carrot:{keywords:["vegetable","food","orange"],char:"🥕",fitzpatrick_scale:!1,category:"food_and_drink"},hot_pepper:{keywords:["food","spicy","chilli","chili"],char:"🌶",fitzpatrick_scale:!1,category:"food_and_drink"},potato:{keywords:["food","tuber","vegatable","starch"],char:"🥔",fitzpatrick_scale:!1,category:"food_and_drink"},corn:{keywords:["food","vegetable","plant"],char:"🌽",fitzpatrick_scale:!1,category:"food_and_drink"},leafy_greens:{keywords:["food","vegetable","plant","bok choy","cabbage","kale","lettuce"],char:"🥬",fitzpatrick_scale:!1,category:"food_and_drink"},sweet_potato:{keywords:["food","nature"],char:"🍠",fitzpatrick_scale:!1,category:"food_and_drink"},peanuts:{keywords:["food","nut"],char:"🥜",fitzpatrick_scale:!1,category:"food_and_drink"},honey_pot:{keywords:["bees","sweet","kitchen"],char:"🍯",fitzpatrick_scale:!1,category:"food_and_drink"},croissant:{keywords:["food","bread","french"],char:"🥐",fitzpatrick_scale:!1,category:"food_and_drink"},bread:{keywords:["food","wheat","breakfast","toast"],char:"🍞",fitzpatrick_scale:!1,category:"food_and_drink"},baguette_bread:{keywords:["food","bread","french"],char:"🥖",fitzpatrick_scale:!1,category:"food_and_drink"},bagel:{keywords:["food","bread","bakery","schmear"],char:"🥯",fitzpatrick_scale:!1,category:"food_and_drink"},pretzel:{keywords:["food","bread","twisted"],char:"🥨",fitzpatrick_scale:!1,category:"food_and_drink"},cheese:{keywords:["food","chadder"],char:"🧀",fitzpatrick_scale:!1,category:"food_and_drink"},egg:{keywords:["food","chicken","breakfast"],char:"🥚",fitzpatrick_scale:!1,category:"food_and_drink"},bacon:{keywords:["food","breakfast","pork","pig","meat"],char:"🥓",fitzpatrick_scale:!1,category:"food_and_drink"},steak:{keywords:["food","cow","meat","cut","chop","lambchop","porkchop"],char:"🥩",fitzpatrick_scale:!1,category:"food_and_drink"},pancakes:{keywords:["food","breakfast","flapjacks","hotcakes"],char:"🥞",fitzpatrick_scale:!1,category:"food_and_drink"},poultry_leg:{keywords:["food","meat","drumstick","bird","chicken","turkey"],char:"🍗",fitzpatrick_scale:!1,category:"food_and_drink"},meat_on_bone:{keywords:["good","food","drumstick"],char:"🍖",fitzpatrick_scale:!1,category:"food_and_drink"},bone:{keywords:["skeleton"],char:"🦴",fitzpatrick_scale:!1,category:"food_and_drink"},fried_shrimp:{keywords:["food","animal","appetizer","summer"],char:"🍤",fitzpatrick_scale:!1,category:"food_and_drink"},fried_egg:{keywords:["food","breakfast","kitchen","egg"],char:"🍳",fitzpatrick_scale:!1,category:"food_and_drink"},hamburger:{keywords:["meat","fast food","beef","cheeseburger","mcdonalds","burger king"],char:"🍔",fitzpatrick_scale:!1,category:"food_and_drink"},fries:{keywords:["chips","snack","fast food"],char:"🍟",fitzpatrick_scale:!1,category:"food_and_drink"},stuffed_flatbread:{keywords:["food","flatbread","stuffed","gyro"],char:"🥙",fitzpatrick_scale:!1,category:"food_and_drink"},hotdog:{keywords:["food","frankfurter"],char:"🌭",fitzpatrick_scale:!1,category:"food_and_drink"},pizza:{keywords:["food","party"],char:"🍕",fitzpatrick_scale:!1,category:"food_and_drink"},sandwich:{keywords:["food","lunch","bread"],char:"🥪",fitzpatrick_scale:!1,category:"food_and_drink"},canned_food:{keywords:["food","soup"],char:"🥫",fitzpatrick_scale:!1,category:"food_and_drink"},spaghetti:{keywords:["food","italian","noodle"],char:"🍝",fitzpatrick_scale:!1,category:"food_and_drink"},taco:{keywords:["food","mexican"],char:"🌮",fitzpatrick_scale:!1,category:"food_and_drink"},burrito:{keywords:["food","mexican"],char:"🌯",fitzpatrick_scale:!1,category:"food_and_drink"},green_salad:{keywords:["food","healthy","lettuce"],char:"🥗",fitzpatrick_scale:!1,category:"food_and_drink"},shallow_pan_of_food:{keywords:["food","cooking","casserole","paella"],char:"🥘",fitzpatrick_scale:!1,category:"food_and_drink"},ramen:{keywords:["food","japanese","noodle","chopsticks"],char:"🍜",fitzpatrick_scale:!1,category:"food_and_drink"},stew:{keywords:["food","meat","soup"],char:"🍲",fitzpatrick_scale:!1,category:"food_and_drink"},fish_cake:{keywords:["food","japan","sea","beach","narutomaki","pink","swirl","kamaboko","surimi","ramen"],char:"🍥",fitzpatrick_scale:!1,category:"food_and_drink"},fortune_cookie:{keywords:["food","prophecy"],char:"🥠",fitzpatrick_scale:!1,category:"food_and_drink"},sushi:{keywords:["food","fish","japanese","rice"],char:"🍣",fitzpatrick_scale:!1,category:"food_and_drink"},bento:{keywords:["food","japanese","box"],char:"🍱",fitzpatrick_scale:!1,category:"food_and_drink"},curry:{keywords:["food","spicy","hot","indian"],char:"🍛",fitzpatrick_scale:!1,category:"food_and_drink"},rice_ball:{keywords:["food","japanese"],char:"🍙",fitzpatrick_scale:!1,category:"food_and_drink"},rice:{keywords:["food","china","asian"],char:"🍚",fitzpatrick_scale:!1,category:"food_and_drink"},rice_cracker:{keywords:["food","japanese"],char:"🍘",fitzpatrick_scale:!1,category:"food_and_drink"},oden:{keywords:["food","japanese"],char:"🍢",fitzpatrick_scale:!1,category:"food_and_drink"},dango:{keywords:["food","dessert","sweet","japanese","barbecue","meat"],char:"🍡",fitzpatrick_scale:!1,category:"food_and_drink"},shaved_ice:{keywords:["hot","dessert","summer"],char:"🍧",fitzpatrick_scale:!1,category:"food_and_drink"},ice_cream:{keywords:["food","hot","dessert"],char:"🍨",fitzpatrick_scale:!1,category:"food_and_drink"},icecream:{keywords:["food","hot","dessert","summer"],char:"🍦",fitzpatrick_scale:!1,category:"food_and_drink"},pie:{keywords:["food","dessert","pastry"],char:"🥧",fitzpatrick_scale:!1,category:"food_and_drink"},cake:{keywords:["food","dessert"],char:"🍰",fitzpatrick_scale:!1,category:"food_and_drink"},cupcake:{keywords:["food","dessert","bakery","sweet"],char:"🧁",fitzpatrick_scale:!1,category:"food_and_drink"},moon_cake:{keywords:["food","autumn"],char:"🥮",fitzpatrick_scale:!1,category:"food_and_drink"},birthday:{keywords:["food","dessert","cake"],char:"🎂",fitzpatrick_scale:!1,category:"food_and_drink"},custard:{keywords:["dessert","food"],char:"🍮",fitzpatrick_scale:!1,category:"food_and_drink"},candy:{keywords:["snack","dessert","sweet","lolly"],char:"🍬",fitzpatrick_scale:!1,category:"food_and_drink"},lollipop:{keywords:["food","snack","candy","sweet"],char:"🍭",fitzpatrick_scale:!1,category:"food_and_drink"},chocolate_bar:{keywords:["food","snack","dessert","sweet"],char:"🍫",fitzpatrick_scale:!1,category:"food_and_drink"},popcorn:{keywords:["food","movie theater","films","snack"],char:"🍿",fitzpatrick_scale:!1,category:"food_and_drink"},dumpling:{keywords:["food","empanada","pierogi","potsticker"],char:"🥟",fitzpatrick_scale:!1,category:"food_and_drink"},doughnut:{keywords:["food","dessert","snack","sweet","donut"],char:"🍩",fitzpatrick_scale:!1,category:"food_and_drink"},cookie:{keywords:["food","snack","oreo","chocolate","sweet","dessert"],char:"🍪",fitzpatrick_scale:!1,category:"food_and_drink"},milk_glass:{keywords:["beverage","drink","cow"],char:"🥛",fitzpatrick_scale:!1,category:"food_and_drink"},beer:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"🍺",fitzpatrick_scale:!1,category:"food_and_drink"},beers:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"🍻",fitzpatrick_scale:!1,category:"food_and_drink"},clinking_glasses:{keywords:["beverage","drink","party","alcohol","celebrate","cheers","wine","champagne","toast"],char:"🥂",fitzpatrick_scale:!1,category:"food_and_drink"},wine_glass:{keywords:["drink","beverage","drunk","alcohol","booze"],char:"🍷",fitzpatrick_scale:!1,category:"food_and_drink"},tumbler_glass:{keywords:["drink","beverage","drunk","alcohol","liquor","booze","bourbon","scotch","whisky","glass","shot"],char:"🥃",fitzpatrick_scale:!1,category:"food_and_drink"},cocktail:{keywords:["drink","drunk","alcohol","beverage","booze","mojito"],char:"🍸",fitzpatrick_scale:!1,category:"food_and_drink"},tropical_drink:{keywords:["beverage","cocktail","summer","beach","alcohol","booze","mojito"],char:"🍹",fitzpatrick_scale:!1,category:"food_and_drink"},champagne:{keywords:["drink","wine","bottle","celebration"],char:"🍾",fitzpatrick_scale:!1,category:"food_and_drink"},sake:{keywords:["wine","drink","drunk","beverage","japanese","alcohol","booze"],char:"🍶",fitzpatrick_scale:!1,category:"food_and_drink"},tea:{keywords:["drink","bowl","breakfast","green","british"],char:"🍵",fitzpatrick_scale:!1,category:"food_and_drink"},cup_with_straw:{keywords:["drink","soda"],char:"🥤",fitzpatrick_scale:!1,category:"food_and_drink"},coffee:{keywords:["beverage","caffeine","latte","espresso"],char:"☕",fitzpatrick_scale:!1,category:"food_and_drink"},baby_bottle:{keywords:["food","container","milk"],char:"🍼",fitzpatrick_scale:!1,category:"food_and_drink"},salt:{keywords:["condiment","shaker"],char:"🧂",fitzpatrick_scale:!1,category:"food_and_drink"},spoon:{keywords:["cutlery","kitchen","tableware"],char:"🥄",fitzpatrick_scale:!1,category:"food_and_drink"},fork_and_knife:{keywords:["cutlery","kitchen"],char:"🍴",fitzpatrick_scale:!1,category:"food_and_drink"},plate_with_cutlery:{keywords:["food","eat","meal","lunch","dinner","restaurant"],char:"🍽",fitzpatrick_scale:!1,category:"food_and_drink"},bowl_with_spoon:{keywords:["food","breakfast","cereal","oatmeal","porridge"],char:"🥣",fitzpatrick_scale:!1,category:"food_and_drink"},takeout_box:{keywords:["food","leftovers"],char:"🥡",fitzpatrick_scale:!1,category:"food_and_drink"},chopsticks:{keywords:["food"],char:"🥢",fitzpatrick_scale:!1,category:"food_and_drink"},soccer:{keywords:["sports","football"],char:"⚽",fitzpatrick_scale:!1,category:"activity"},basketball:{keywords:["sports","balls","NBA"],char:"🏀",fitzpatrick_scale:!1,category:"activity"},football:{keywords:["sports","balls","NFL"],char:"🏈",fitzpatrick_scale:!1,category:"activity"},baseball:{keywords:["sports","balls"],char:"⚾",fitzpatrick_scale:!1,category:"activity"},softball:{keywords:["sports","balls"],char:"🥎",fitzpatrick_scale:!1,category:"activity"},tennis:{keywords:["sports","balls","green"],char:"🎾",fitzpatrick_scale:!1,category:"activity"},volleyball:{keywords:["sports","balls"],char:"🏐",fitzpatrick_scale:!1,category:"activity"},rugby_football:{keywords:["sports","team"],char:"🏉",fitzpatrick_scale:!1,category:"activity"},flying_disc:{keywords:["sports","frisbee","ultimate"],char:"🥏",fitzpatrick_scale:!1,category:"activity"},"8ball":{keywords:["pool","hobby","game","luck","magic"],char:"🎱",fitzpatrick_scale:!1,category:"activity"},golf:{keywords:["sports","business","flag","hole","summer"],char:"⛳",fitzpatrick_scale:!1,category:"activity"},golfing_woman:{keywords:["sports","business","woman","female"],char:"🏌️‍♀️",fitzpatrick_scale:!1,category:"activity"},golfing_man:{keywords:["sports","business"],char:"🏌",fitzpatrick_scale:!0,category:"activity"},ping_pong:{keywords:["sports","pingpong"],char:"🏓",fitzpatrick_scale:!1,category:"activity"},badminton:{keywords:["sports"],char:"🏸",fitzpatrick_scale:!1,category:"activity"},goal_net:{keywords:["sports"],char:"🥅",fitzpatrick_scale:!1,category:"activity"},ice_hockey:{keywords:["sports"],char:"🏒",fitzpatrick_scale:!1,category:"activity"},field_hockey:{keywords:["sports"],char:"🏑",fitzpatrick_scale:!1,category:"activity"},lacrosse:{keywords:["sports","ball","stick"],char:"🥍",fitzpatrick_scale:!1,category:"activity"},cricket:{keywords:["sports"],char:"🏏",fitzpatrick_scale:!1,category:"activity"},ski:{keywords:["sports","winter","cold","snow"],char:"🎿",fitzpatrick_scale:!1,category:"activity"},skier:{keywords:["sports","winter","snow"],char:"⛷",fitzpatrick_scale:!1,category:"activity"},snowboarder:{keywords:["sports","winter"],char:"🏂",fitzpatrick_scale:!0,category:"activity"},person_fencing:{keywords:["sports","fencing","sword"],char:"🤺",fitzpatrick_scale:!1,category:"activity"},women_wrestling:{keywords:["sports","wrestlers"],char:"🤼‍♀️",fitzpatrick_scale:!1,category:"activity"},men_wrestling:{keywords:["sports","wrestlers"],char:"🤼‍♂️",fitzpatrick_scale:!1,category:"activity"},woman_cartwheeling:{keywords:["gymnastics"],char:"🤸‍♀️",fitzpatrick_scale:!0,category:"activity"},man_cartwheeling:{keywords:["gymnastics"],char:"🤸‍♂️",fitzpatrick_scale:!0,category:"activity"},woman_playing_handball:{keywords:["sports"],char:"🤾‍♀️",fitzpatrick_scale:!0,category:"activity"},man_playing_handball:{keywords:["sports"],char:"🤾‍♂️",fitzpatrick_scale:!0,category:"activity"},ice_skate:{keywords:["sports"],char:"⛸",fitzpatrick_scale:!1,category:"activity"},curling_stone:{keywords:["sports"],char:"🥌",fitzpatrick_scale:!1,category:"activity"},skateboard:{keywords:["board"],char:"🛹",fitzpatrick_scale:!1,category:"activity"},sled:{keywords:["sleigh","luge","toboggan"],char:"🛷",fitzpatrick_scale:!1,category:"activity"},bow_and_arrow:{keywords:["sports"],char:"🏹",fitzpatrick_scale:!1,category:"activity"},fishing_pole_and_fish:{keywords:["food","hobby","summer"],char:"🎣",fitzpatrick_scale:!1,category:"activity"},boxing_glove:{keywords:["sports","fighting"],char:"🥊",fitzpatrick_scale:!1,category:"activity"},martial_arts_uniform:{keywords:["judo","karate","taekwondo"],char:"🥋",fitzpatrick_scale:!1,category:"activity"},rowing_woman:{keywords:["sports","hobby","water","ship","woman","female"],char:"🚣‍♀️",fitzpatrick_scale:!0,category:"activity"},rowing_man:{keywords:["sports","hobby","water","ship"],char:"🚣",fitzpatrick_scale:!0,category:"activity"},climbing_woman:{keywords:["sports","hobby","woman","female","rock"],char:"🧗‍♀️",fitzpatrick_scale:!0,category:"activity"},climbing_man:{keywords:["sports","hobby","man","male","rock"],char:"🧗‍♂️",fitzpatrick_scale:!0,category:"activity"},swimming_woman:{keywords:["sports","exercise","human","athlete","water","summer","woman","female"],char:"🏊‍♀️",fitzpatrick_scale:!0,category:"activity"},swimming_man:{keywords:["sports","exercise","human","athlete","water","summer"],char:"🏊",fitzpatrick_scale:!0,category:"activity"},woman_playing_water_polo:{keywords:["sports","pool"],char:"🤽‍♀️",fitzpatrick_scale:!0,category:"activity"},man_playing_water_polo:{keywords:["sports","pool"],char:"🤽‍♂️",fitzpatrick_scale:!0,category:"activity"},woman_in_lotus_position:{keywords:["woman","female","meditation","yoga","serenity","zen","mindfulness"],char:"🧘‍♀️",fitzpatrick_scale:!0,category:"activity"},man_in_lotus_position:{keywords:["man","male","meditation","yoga","serenity","zen","mindfulness"],char:"🧘‍♂️",fitzpatrick_scale:!0,category:"activity"},surfing_woman:{keywords:["sports","ocean","sea","summer","beach","woman","female"],char:"🏄‍♀️",fitzpatrick_scale:!0,category:"activity"},surfing_man:{keywords:["sports","ocean","sea","summer","beach"],char:"🏄",fitzpatrick_scale:!0,category:"activity"},bath:{keywords:["clean","shower","bathroom"],char:"🛀",fitzpatrick_scale:!0,category:"activity"},basketball_woman:{keywords:["sports","human","woman","female"],char:"⛹️‍♀️",fitzpatrick_scale:!0,category:"activity"},basketball_man:{keywords:["sports","human"],char:"⛹",fitzpatrick_scale:!0,category:"activity"},weight_lifting_woman:{keywords:["sports","training","exercise","woman","female"],char:"🏋️‍♀️",fitzpatrick_scale:!0,category:"activity"},weight_lifting_man:{keywords:["sports","training","exercise"],char:"🏋",fitzpatrick_scale:!0,category:"activity"},biking_woman:{keywords:["sports","bike","exercise","hipster","woman","female"],char:"🚴‍♀️",fitzpatrick_scale:!0,category:"activity"},biking_man:{keywords:["sports","bike","exercise","hipster"],char:"🚴",fitzpatrick_scale:!0,category:"activity"},mountain_biking_woman:{keywords:["transportation","sports","human","race","bike","woman","female"],char:"🚵‍♀️",fitzpatrick_scale:!0,category:"activity"},mountain_biking_man:{keywords:["transportation","sports","human","race","bike"],char:"🚵",fitzpatrick_scale:!0,category:"activity"},horse_racing:{keywords:["animal","betting","competition","gambling","luck"],char:"🏇",fitzpatrick_scale:!0,category:"activity"},business_suit_levitating:{keywords:["suit","business","levitate","hover","jump"],char:"🕴",fitzpatrick_scale:!0,category:"activity"},trophy:{keywords:["win","award","contest","place","ftw","ceremony"],char:"🏆",fitzpatrick_scale:!1,category:"activity"},running_shirt_with_sash:{keywords:["play","pageant"],char:"🎽",fitzpatrick_scale:!1,category:"activity"},medal_sports:{keywords:["award","winning"],char:"🏅",fitzpatrick_scale:!1,category:"activity"},medal_military:{keywords:["award","winning","army"],char:"🎖",fitzpatrick_scale:!1,category:"activity"},"1st_place_medal":{keywords:["award","winning","first"],char:"🥇",fitzpatrick_scale:!1,category:"activity"},"2nd_place_medal":{keywords:["award","second"],char:"🥈",fitzpatrick_scale:!1,category:"activity"},"3rd_place_medal":{keywords:["award","third"],char:"🥉",fitzpatrick_scale:!1,category:"activity"},reminder_ribbon:{keywords:["sports","cause","support","awareness"],char:"🎗",fitzpatrick_scale:!1,category:"activity"},rosette:{keywords:["flower","decoration","military"],char:"🏵",fitzpatrick_scale:!1,category:"activity"},ticket:{keywords:["event","concert","pass"],char:"🎫",fitzpatrick_scale:!1,category:"activity"},tickets:{keywords:["sports","concert","entrance"],char:"🎟",fitzpatrick_scale:!1,category:"activity"},performing_arts:{keywords:["acting","theater","drama"],char:"🎭",fitzpatrick_scale:!1,category:"activity"},art:{keywords:["design","paint","draw","colors"],char:"🎨",fitzpatrick_scale:!1,category:"activity"},circus_tent:{keywords:["festival","carnival","party"],char:"🎪",fitzpatrick_scale:!1,category:"activity"},woman_juggling:{keywords:["juggle","balance","skill","multitask"],char:"🤹‍♀️",fitzpatrick_scale:!0,category:"activity"},man_juggling:{keywords:["juggle","balance","skill","multitask"],char:"🤹‍♂️",fitzpatrick_scale:!0,category:"activity"},microphone:{keywords:["sound","music","PA","sing","talkshow"],char:"🎤",fitzpatrick_scale:!1,category:"activity"},headphones:{keywords:["music","score","gadgets"],char:"🎧",fitzpatrick_scale:!1,category:"activity"},musical_score:{keywords:["treble","clef","compose"],char:"🎼",fitzpatrick_scale:!1,category:"activity"},musical_keyboard:{keywords:["piano","instrument","compose"],char:"🎹",fitzpatrick_scale:!1,category:"activity"},drum:{keywords:["music","instrument","drumsticks","snare"],char:"🥁",fitzpatrick_scale:!1,category:"activity"},saxophone:{keywords:["music","instrument","jazz","blues"],char:"🎷",fitzpatrick_scale:!1,category:"activity"},trumpet:{keywords:["music","brass"],char:"🎺",fitzpatrick_scale:!1,category:"activity"},guitar:{keywords:["music","instrument"],char:"🎸",fitzpatrick_scale:!1,category:"activity"},violin:{keywords:["music","instrument","orchestra","symphony"],char:"🎻",fitzpatrick_scale:!1,category:"activity"},clapper:{keywords:["movie","film","record"],char:"🎬",fitzpatrick_scale:!1,category:"activity"},video_game:{keywords:["play","console","PS4","controller"],char:"🎮",fitzpatrick_scale:!1,category:"activity"},space_invader:{keywords:["game","arcade","play"],char:"👾",fitzpatrick_scale:!1,category:"activity"},dart:{keywords:["game","play","bar","target","bullseye"],char:"🎯",fitzpatrick_scale:!1,category:"activity"},game_die:{keywords:["dice","random","tabletop","play","luck"],char:"🎲",fitzpatrick_scale:!1,category:"activity"},chess_pawn:{keywords:["expendable"],char:"♟",fitzpatrick_scale:!1,category:"activity"},slot_machine:{keywords:["bet","gamble","vegas","fruit machine","luck","casino"],char:"🎰",fitzpatrick_scale:!1,category:"activity"},jigsaw:{keywords:["interlocking","puzzle","piece"],char:"🧩",fitzpatrick_scale:!1,category:"activity"},bowling:{keywords:["sports","fun","play"],char:"🎳",fitzpatrick_scale:!1,category:"activity"},red_car:{keywords:["red","transportation","vehicle"],char:"🚗",fitzpatrick_scale:!1,category:"travel_and_places"},taxi:{keywords:["uber","vehicle","cars","transportation"],char:"🚕",fitzpatrick_scale:!1,category:"travel_and_places"},blue_car:{keywords:["transportation","vehicle"],char:"🚙",fitzpatrick_scale:!1,category:"travel_and_places"},bus:{keywords:["car","vehicle","transportation"],char:"🚌",fitzpatrick_scale:!1,category:"travel_and_places"},trolleybus:{keywords:["bart","transportation","vehicle"],char:"🚎",fitzpatrick_scale:!1,category:"travel_and_places"},racing_car:{keywords:["sports","race","fast","formula","f1"],char:"🏎",fitzpatrick_scale:!1,category:"travel_and_places"},police_car:{keywords:["vehicle","cars","transportation","law","legal","enforcement"],char:"🚓",fitzpatrick_scale:!1,category:"travel_and_places"},ambulance:{keywords:["health","911","hospital"],char:"🚑",fitzpatrick_scale:!1,category:"travel_and_places"},fire_engine:{keywords:["transportation","cars","vehicle"],char:"🚒",fitzpatrick_scale:!1,category:"travel_and_places"},minibus:{keywords:["vehicle","car","transportation"],char:"🚐",fitzpatrick_scale:!1,category:"travel_and_places"},truck:{keywords:["cars","transportation"],char:"🚚",fitzpatrick_scale:!1,category:"travel_and_places"},articulated_lorry:{keywords:["vehicle","cars","transportation","express"],char:"🚛",fitzpatrick_scale:!1,category:"travel_and_places"},tractor:{keywords:["vehicle","car","farming","agriculture"],char:"🚜",fitzpatrick_scale:!1,category:"travel_and_places"},kick_scooter:{keywords:["vehicle","kick","razor"],char:"🛴",fitzpatrick_scale:!1,category:"travel_and_places"},motorcycle:{keywords:["race","sports","fast"],char:"🏍",fitzpatrick_scale:!1,category:"travel_and_places"},bike:{keywords:["sports","bicycle","exercise","hipster"],char:"🚲",fitzpatrick_scale:!1,category:"travel_and_places"},motor_scooter:{keywords:["vehicle","vespa","sasha"],char:"🛵",fitzpatrick_scale:!1,category:"travel_and_places"},rotating_light:{keywords:["police","ambulance","911","emergency","alert","error","pinged","law","legal"],char:"🚨",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_police_car:{keywords:["vehicle","law","legal","enforcement","911"],char:"🚔",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_bus:{keywords:["vehicle","transportation"],char:"🚍",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_automobile:{keywords:["car","vehicle","transportation"],char:"🚘",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_taxi:{keywords:["vehicle","cars","uber"],char:"🚖",fitzpatrick_scale:!1,category:"travel_and_places"},aerial_tramway:{keywords:["transportation","vehicle","ski"],char:"🚡",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_cableway:{keywords:["transportation","vehicle","ski"],char:"🚠",fitzpatrick_scale:!1,category:"travel_and_places"},suspension_railway:{keywords:["vehicle","transportation"],char:"🚟",fitzpatrick_scale:!1,category:"travel_and_places"},railway_car:{keywords:["transportation","vehicle"],char:"🚃",fitzpatrick_scale:!1,category:"travel_and_places"},train:{keywords:["transportation","vehicle","carriage","public","travel"],char:"🚋",fitzpatrick_scale:!1,category:"travel_and_places"},monorail:{keywords:["transportation","vehicle"],char:"🚝",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_side:{keywords:["transportation","vehicle"],char:"🚄",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_front:{keywords:["transportation","vehicle","speed","fast","public","travel"],char:"🚅",fitzpatrick_scale:!1,category:"travel_and_places"},light_rail:{keywords:["transportation","vehicle"],char:"🚈",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_railway:{keywords:["transportation","vehicle"],char:"🚞",fitzpatrick_scale:!1,category:"travel_and_places"},steam_locomotive:{keywords:["transportation","vehicle","train"],char:"🚂",fitzpatrick_scale:!1,category:"travel_and_places"},train2:{keywords:["transportation","vehicle"],char:"🚆",fitzpatrick_scale:!1,category:"travel_and_places"},metro:{keywords:["transportation","blue-square","mrt","underground","tube"],char:"🚇",fitzpatrick_scale:!1,category:"travel_and_places"},tram:{keywords:["transportation","vehicle"],char:"🚊",fitzpatrick_scale:!1,category:"travel_and_places"},station:{keywords:["transportation","vehicle","public"],char:"🚉",fitzpatrick_scale:!1,category:"travel_and_places"},flying_saucer:{keywords:["transportation","vehicle","ufo"],char:"🛸",fitzpatrick_scale:!1,category:"travel_and_places"},helicopter:{keywords:["transportation","vehicle","fly"],char:"🚁",fitzpatrick_scale:!1,category:"travel_and_places"},small_airplane:{keywords:["flight","transportation","fly","vehicle"],char:"🛩",fitzpatrick_scale:!1,category:"travel_and_places"},airplane:{keywords:["vehicle","transportation","flight","fly"],char:"✈️",fitzpatrick_scale:!1,category:"travel_and_places"},flight_departure:{keywords:["airport","flight","landing"],char:"🛫",fitzpatrick_scale:!1,category:"travel_and_places"},flight_arrival:{keywords:["airport","flight","boarding"],char:"🛬",fitzpatrick_scale:!1,category:"travel_and_places"},sailboat:{keywords:["ship","summer","transportation","water","sailing"],char:"⛵",fitzpatrick_scale:!1,category:"travel_and_places"},motor_boat:{keywords:["ship"],char:"🛥",fitzpatrick_scale:!1,category:"travel_and_places"},speedboat:{keywords:["ship","transportation","vehicle","summer"],char:"🚤",fitzpatrick_scale:!1,category:"travel_and_places"},ferry:{keywords:["boat","ship","yacht"],char:"⛴",fitzpatrick_scale:!1,category:"travel_and_places"},passenger_ship:{keywords:["yacht","cruise","ferry"],char:"🛳",fitzpatrick_scale:!1,category:"travel_and_places"},rocket:{keywords:["launch","ship","staffmode","NASA","outer space","outer_space","fly"],char:"🚀",fitzpatrick_scale:!1,category:"travel_and_places"},artificial_satellite:{keywords:["communication","gps","orbit","spaceflight","NASA","ISS"],char:"🛰",fitzpatrick_scale:!1,category:"travel_and_places"},seat:{keywords:["sit","airplane","transport","bus","flight","fly"],char:"💺",fitzpatrick_scale:!1,category:"travel_and_places"},canoe:{keywords:["boat","paddle","water","ship"],char:"🛶",fitzpatrick_scale:!1,category:"travel_and_places"},anchor:{keywords:["ship","ferry","sea","boat"],char:"⚓",fitzpatrick_scale:!1,category:"travel_and_places"},construction:{keywords:["wip","progress","caution","warning"],char:"🚧",fitzpatrick_scale:!1,category:"travel_and_places"},fuelpump:{keywords:["gas station","petroleum"],char:"⛽",fitzpatrick_scale:!1,category:"travel_and_places"},busstop:{keywords:["transportation","wait"],char:"🚏",fitzpatrick_scale:!1,category:"travel_and_places"},vertical_traffic_light:{keywords:["transportation","driving"],char:"🚦",fitzpatrick_scale:!1,category:"travel_and_places"},traffic_light:{keywords:["transportation","signal"],char:"🚥",fitzpatrick_scale:!1,category:"travel_and_places"},checkered_flag:{keywords:["contest","finishline","race","gokart"],char:"🏁",fitzpatrick_scale:!1,category:"travel_and_places"},ship:{keywords:["transportation","titanic","deploy"],char:"🚢",fitzpatrick_scale:!1,category:"travel_and_places"},ferris_wheel:{keywords:["photo","carnival","londoneye"],char:"🎡",fitzpatrick_scale:!1,category:"travel_and_places"},roller_coaster:{keywords:["carnival","playground","photo","fun"],char:"🎢",fitzpatrick_scale:!1,category:"travel_and_places"},carousel_horse:{keywords:["photo","carnival"],char:"🎠",fitzpatrick_scale:!1,category:"travel_and_places"},building_construction:{keywords:["wip","working","progress"],char:"🏗",fitzpatrick_scale:!1,category:"travel_and_places"},foggy:{keywords:["photo","mountain"],char:"🌁",fitzpatrick_scale:!1,category:"travel_and_places"},tokyo_tower:{keywords:["photo","japanese"],char:"🗼",fitzpatrick_scale:!1,category:"travel_and_places"},factory:{keywords:["building","industry","pollution","smoke"],char:"🏭",fitzpatrick_scale:!1,category:"travel_and_places"},fountain:{keywords:["photo","summer","water","fresh"],char:"⛲",fitzpatrick_scale:!1,category:"travel_and_places"},rice_scene:{keywords:["photo","japan","asia","tsukimi"],char:"🎑",fitzpatrick_scale:!1,category:"travel_and_places"},mountain:{keywords:["photo","nature","environment"],char:"⛰",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_snow:{keywords:["photo","nature","environment","winter","cold"],char:"🏔",fitzpatrick_scale:!1,category:"travel_and_places"},mount_fuji:{keywords:["photo","mountain","nature","japanese"],char:"🗻",fitzpatrick_scale:!1,category:"travel_and_places"},volcano:{keywords:["photo","nature","disaster"],char:"🌋",fitzpatrick_scale:!1,category:"travel_and_places"},japan:{keywords:["nation","country","japanese","asia"],char:"🗾",fitzpatrick_scale:!1,category:"travel_and_places"},camping:{keywords:["photo","outdoors","tent"],char:"🏕",fitzpatrick_scale:!1,category:"travel_and_places"},tent:{keywords:["photo","camping","outdoors"],char:"⛺",fitzpatrick_scale:!1,category:"travel_and_places"},national_park:{keywords:["photo","environment","nature"],char:"🏞",fitzpatrick_scale:!1,category:"travel_and_places"},motorway:{keywords:["road","cupertino","interstate","highway"],char:"🛣",fitzpatrick_scale:!1,category:"travel_and_places"},railway_track:{keywords:["train","transportation"],char:"🛤",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise:{keywords:["morning","view","vacation","photo"],char:"🌅",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise_over_mountains:{keywords:["view","vacation","photo"],char:"🌄",fitzpatrick_scale:!1,category:"travel_and_places"},desert:{keywords:["photo","warm","saharah"],char:"🏜",fitzpatrick_scale:!1,category:"travel_and_places"},beach_umbrella:{keywords:["weather","summer","sunny","sand","mojito"],char:"🏖",fitzpatrick_scale:!1,category:"travel_and_places"},desert_island:{keywords:["photo","tropical","mojito"],char:"🏝",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunrise:{keywords:["photo","good morning","dawn"],char:"🌇",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunset:{keywords:["photo","evening","sky","buildings"],char:"🌆",fitzpatrick_scale:!1,category:"travel_and_places"},cityscape:{keywords:["photo","night life","urban"],char:"🏙",fitzpatrick_scale:!1,category:"travel_and_places"},night_with_stars:{keywords:["evening","city","downtown"],char:"🌃",fitzpatrick_scale:!1,category:"travel_and_places"},bridge_at_night:{keywords:["photo","sanfrancisco"],char:"🌉",fitzpatrick_scale:!1,category:"travel_and_places"},milky_way:{keywords:["photo","space","stars"],char:"🌌",fitzpatrick_scale:!1,category:"travel_and_places"},stars:{keywords:["night","photo"],char:"🌠",fitzpatrick_scale:!1,category:"travel_and_places"},sparkler:{keywords:["stars","night","shine"],char:"🎇",fitzpatrick_scale:!1,category:"travel_and_places"},fireworks:{keywords:["photo","festival","carnival","congratulations"],char:"🎆",fitzpatrick_scale:!1,category:"travel_and_places"},rainbow:{keywords:["nature","happy","unicorn_face","photo","sky","spring"],char:"🌈",fitzpatrick_scale:!1,category:"travel_and_places"},houses:{keywords:["buildings","photo"],char:"🏘",fitzpatrick_scale:!1,category:"travel_and_places"},european_castle:{keywords:["building","royalty","history"],char:"🏰",fitzpatrick_scale:!1,category:"travel_and_places"},japanese_castle:{keywords:["photo","building"],char:"🏯",fitzpatrick_scale:!1,category:"travel_and_places"},stadium:{keywords:["photo","place","sports","concert","venue"],char:"🏟",fitzpatrick_scale:!1,category:"travel_and_places"},statue_of_liberty:{keywords:["american","newyork"],char:"🗽",fitzpatrick_scale:!1,category:"travel_and_places"},house:{keywords:["building","home"],char:"🏠",fitzpatrick_scale:!1,category:"travel_and_places"},house_with_garden:{keywords:["home","plant","nature"],char:"🏡",fitzpatrick_scale:!1,category:"travel_and_places"},derelict_house:{keywords:["abandon","evict","broken","building"],char:"🏚",fitzpatrick_scale:!1,category:"travel_and_places"},office:{keywords:["building","bureau","work"],char:"🏢",fitzpatrick_scale:!1,category:"travel_and_places"},department_store:{keywords:["building","shopping","mall"],char:"🏬",fitzpatrick_scale:!1,category:"travel_and_places"},post_office:{keywords:["building","envelope","communication"],char:"🏣",fitzpatrick_scale:!1,category:"travel_and_places"},european_post_office:{keywords:["building","email"],char:"🏤",fitzpatrick_scale:!1,category:"travel_and_places"},hospital:{keywords:["building","health","surgery","doctor"],char:"🏥",fitzpatrick_scale:!1,category:"travel_and_places"},bank:{keywords:["building","money","sales","cash","business","enterprise"],char:"🏦",fitzpatrick_scale:!1,category:"travel_and_places"},hotel:{keywords:["building","accomodation","checkin"],char:"🏨",fitzpatrick_scale:!1,category:"travel_and_places"},convenience_store:{keywords:["building","shopping","groceries"],char:"🏪",fitzpatrick_scale:!1,category:"travel_and_places"},school:{keywords:["building","student","education","learn","teach"],char:"🏫",fitzpatrick_scale:!1,category:"travel_and_places"},love_hotel:{keywords:["like","affection","dating"],char:"🏩",fitzpatrick_scale:!1,category:"travel_and_places"},wedding:{keywords:["love","like","affection","couple","marriage","bride","groom"],char:"💒",fitzpatrick_scale:!1,category:"travel_and_places"},classical_building:{keywords:["art","culture","history"],char:"🏛",fitzpatrick_scale:!1,category:"travel_and_places"},church:{keywords:["building","religion","christ"],char:"⛪",fitzpatrick_scale:!1,category:"travel_and_places"},mosque:{keywords:["islam","worship","minaret"],char:"🕌",fitzpatrick_scale:!1,category:"travel_and_places"},synagogue:{keywords:["judaism","worship","temple","jewish"],char:"🕍",fitzpatrick_scale:!1,category:"travel_and_places"},kaaba:{keywords:["mecca","mosque","islam"],char:"🕋",fitzpatrick_scale:!1,category:"travel_and_places"},shinto_shrine:{keywords:["temple","japan","kyoto"],char:"⛩",fitzpatrick_scale:!1,category:"travel_and_places"},watch:{keywords:["time","accessories"],char:"⌚",fitzpatrick_scale:!1,category:"objects"},iphone:{keywords:["technology","apple","gadgets","dial"],char:"📱",fitzpatrick_scale:!1,category:"objects"},calling:{keywords:["iphone","incoming"],char:"📲",fitzpatrick_scale:!1,category:"objects"},computer:{keywords:["technology","laptop","screen","display","monitor"],char:"💻",fitzpatrick_scale:!1,category:"objects"},keyboard:{keywords:["technology","computer","type","input","text"],char:"⌨",fitzpatrick_scale:!1,category:"objects"},desktop_computer:{keywords:["technology","computing","screen"],char:"🖥",fitzpatrick_scale:!1,category:"objects"},printer:{keywords:["paper","ink"],char:"🖨",fitzpatrick_scale:!1,category:"objects"},computer_mouse:{keywords:["click"],char:"🖱",fitzpatrick_scale:!1,category:"objects"},trackball:{keywords:["technology","trackpad"],char:"🖲",fitzpatrick_scale:!1,category:"objects"},joystick:{keywords:["game","play"],char:"🕹",fitzpatrick_scale:!1,category:"objects"},clamp:{keywords:["tool"],char:"🗜",fitzpatrick_scale:!1,category:"objects"},minidisc:{keywords:["technology","record","data","disk","90s"],char:"💽",fitzpatrick_scale:!1,category:"objects"},floppy_disk:{keywords:["oldschool","technology","save","90s","80s"],char:"💾",fitzpatrick_scale:!1,category:"objects"},cd:{keywords:["technology","dvd","disk","disc","90s"],char:"💿",fitzpatrick_scale:!1,category:"objects"},dvd:{keywords:["cd","disk","disc"],char:"📀",fitzpatrick_scale:!1,category:"objects"},vhs:{keywords:["record","video","oldschool","90s","80s"],char:"📼",fitzpatrick_scale:!1,category:"objects"},camera:{keywords:["gadgets","photography"],char:"📷",fitzpatrick_scale:!1,category:"objects"},camera_flash:{keywords:["photography","gadgets"],char:"📸",fitzpatrick_scale:!1,category:"objects"},video_camera:{keywords:["film","record"],char:"📹",fitzpatrick_scale:!1,category:"objects"},movie_camera:{keywords:["film","record"],char:"🎥",fitzpatrick_scale:!1,category:"objects"},film_projector:{keywords:["video","tape","record","movie"],char:"📽",fitzpatrick_scale:!1,category:"objects"},film_strip:{keywords:["movie"],char:"🎞",fitzpatrick_scale:!1,category:"objects"},telephone_receiver:{keywords:["technology","communication","dial"],char:"📞",fitzpatrick_scale:!1,category:"objects"},phone:{keywords:["technology","communication","dial","telephone"],char:"☎️",fitzpatrick_scale:!1,category:"objects"},pager:{keywords:["bbcall","oldschool","90s"],char:"📟",fitzpatrick_scale:!1,category:"objects"},fax:{keywords:["communication","technology"],char:"📠",fitzpatrick_scale:!1,category:"objects"},tv:{keywords:["technology","program","oldschool","show","television"],char:"📺",fitzpatrick_scale:!1,category:"objects"},radio:{keywords:["communication","music","podcast","program"],char:"📻",fitzpatrick_scale:!1,category:"objects"},studio_microphone:{keywords:["sing","recording","artist","talkshow"],char:"🎙",fitzpatrick_scale:!1,category:"objects"},level_slider:{keywords:["scale"],char:"🎚",fitzpatrick_scale:!1,category:"objects"},control_knobs:{keywords:["dial"],char:"🎛",fitzpatrick_scale:!1,category:"objects"},compass:{keywords:["magnetic","navigation","orienteering"],char:"🧭",fitzpatrick_scale:!1,category:"objects"},stopwatch:{keywords:["time","deadline"],char:"⏱",fitzpatrick_scale:!1,category:"objects"},timer_clock:{keywords:["alarm"],char:"⏲",fitzpatrick_scale:!1,category:"objects"},alarm_clock:{keywords:["time","wake"],char:"⏰",fitzpatrick_scale:!1,category:"objects"},mantelpiece_clock:{keywords:["time"],char:"🕰",fitzpatrick_scale:!1,category:"objects"},hourglass_flowing_sand:{keywords:["oldschool","time","countdown"],char:"⏳",fitzpatrick_scale:!1,category:"objects"},hourglass:{keywords:["time","clock","oldschool","limit","exam","quiz","test"],char:"⌛",fitzpatrick_scale:!1,category:"objects"},satellite:{keywords:["communication","future","radio","space"],char:"📡",fitzpatrick_scale:!1,category:"objects"},battery:{keywords:["power","energy","sustain"],char:"🔋",fitzpatrick_scale:!1,category:"objects"},electric_plug:{keywords:["charger","power"],char:"🔌",fitzpatrick_scale:!1,category:"objects"},bulb:{keywords:["light","electricity","idea"],char:"💡",fitzpatrick_scale:!1,category:"objects"},flashlight:{keywords:["dark","camping","sight","night"],char:"🔦",fitzpatrick_scale:!1,category:"objects"},candle:{keywords:["fire","wax"],char:"🕯",fitzpatrick_scale:!1,category:"objects"},fire_extinguisher:{keywords:["quench"],char:"🧯",fitzpatrick_scale:!1,category:"objects"},wastebasket:{keywords:["bin","trash","rubbish","garbage","toss"],char:"🗑",fitzpatrick_scale:!1,category:"objects"},oil_drum:{keywords:["barrell"],char:"🛢",fitzpatrick_scale:!1,category:"objects"},money_with_wings:{keywords:["dollar","bills","payment","sale"],char:"💸",fitzpatrick_scale:!1,category:"objects"},dollar:{keywords:["money","sales","bill","currency"],char:"💵",fitzpatrick_scale:!1,category:"objects"},yen:{keywords:["money","sales","japanese","dollar","currency"],char:"💴",fitzpatrick_scale:!1,category:"objects"},euro:{keywords:["money","sales","dollar","currency"],char:"💶",fitzpatrick_scale:!1,category:"objects"},pound:{keywords:["british","sterling","money","sales","bills","uk","england","currency"],char:"💷",fitzpatrick_scale:!1,category:"objects"},moneybag:{keywords:["dollar","payment","coins","sale"],char:"💰",fitzpatrick_scale:!1,category:"objects"},credit_card:{keywords:["money","sales","dollar","bill","payment","shopping"],char:"💳",fitzpatrick_scale:!1,category:"objects"},gem:{keywords:["blue","ruby","diamond","jewelry"],char:"💎",fitzpatrick_scale:!1,category:"objects"},balance_scale:{keywords:["law","fairness","weight"],char:"⚖",fitzpatrick_scale:!1,category:"objects"},toolbox:{keywords:["tools","diy","fix","maintainer","mechanic"],char:"🧰",fitzpatrick_scale:!1,category:"objects"},wrench:{keywords:["tools","diy","ikea","fix","maintainer"],char:"🔧",fitzpatrick_scale:!1,category:"objects"},hammer:{keywords:["tools","build","create"],char:"🔨",fitzpatrick_scale:!1,category:"objects"},hammer_and_pick:{keywords:["tools","build","create"],char:"⚒",fitzpatrick_scale:!1,category:"objects"},hammer_and_wrench:{keywords:["tools","build","create"],char:"🛠",fitzpatrick_scale:!1,category:"objects"},pick:{keywords:["tools","dig"],char:"⛏",fitzpatrick_scale:!1,category:"objects"},nut_and_bolt:{keywords:["handy","tools","fix"],char:"🔩",fitzpatrick_scale:!1,category:"objects"},gear:{keywords:["cog"],char:"⚙",fitzpatrick_scale:!1,category:"objects"},brick:{keywords:["bricks"],char:"🧱",fitzpatrick_scale:!1,category:"objects"},chains:{keywords:["lock","arrest"],char:"⛓",fitzpatrick_scale:!1,category:"objects"},magnet:{keywords:["attraction","magnetic"],char:"🧲",fitzpatrick_scale:!1,category:"objects"},gun:{keywords:["violence","weapon","pistol","revolver"],char:"🔫",fitzpatrick_scale:!1,category:"objects"},bomb:{keywords:["boom","explode","explosion","terrorism"],char:"💣",fitzpatrick_scale:!1,category:"objects"},firecracker:{keywords:["dynamite","boom","explode","explosion","explosive"],char:"🧨",fitzpatrick_scale:!1,category:"objects"},hocho:{keywords:["knife","blade","cutlery","kitchen","weapon"],char:"🔪",fitzpatrick_scale:!1,category:"objects"},dagger:{keywords:["weapon"],char:"🗡",fitzpatrick_scale:!1,category:"objects"},crossed_swords:{keywords:["weapon"],char:"⚔",fitzpatrick_scale:!1,category:"objects"},shield:{keywords:["protection","security"],char:"🛡",fitzpatrick_scale:!1,category:"objects"},smoking:{keywords:["kills","tobacco","cigarette","joint","smoke"],char:"🚬",fitzpatrick_scale:!1,category:"objects"},skull_and_crossbones:{keywords:["poison","danger","deadly","scary","death","pirate","evil"],char:"☠",fitzpatrick_scale:!1,category:"objects"},coffin:{keywords:["vampire","dead","die","death","rip","graveyard","cemetery","casket","funeral","box"],char:"⚰",fitzpatrick_scale:!1,category:"objects"},funeral_urn:{keywords:["dead","die","death","rip","ashes"],char:"⚱",fitzpatrick_scale:!1,category:"objects"},amphora:{keywords:["vase","jar"],char:"🏺",fitzpatrick_scale:!1,category:"objects"},crystal_ball:{keywords:["disco","party","magic","circus","fortune_teller"],char:"🔮",fitzpatrick_scale:!1,category:"objects"},prayer_beads:{keywords:["dhikr","religious"],char:"📿",fitzpatrick_scale:!1,category:"objects"},nazar_amulet:{keywords:["bead","charm"],char:"🧿",fitzpatrick_scale:!1,category:"objects"},barber:{keywords:["hair","salon","style"],char:"💈",fitzpatrick_scale:!1,category:"objects"},alembic:{keywords:["distilling","science","experiment","chemistry"],char:"⚗",fitzpatrick_scale:!1,category:"objects"},telescope:{keywords:["stars","space","zoom","science","astronomy"],char:"🔭",fitzpatrick_scale:!1,category:"objects"},microscope:{keywords:["laboratory","experiment","zoomin","science","study"],char:"🔬",fitzpatrick_scale:!1,category:"objects"},hole:{keywords:["embarrassing"],char:"🕳",fitzpatrick_scale:!1,category:"objects"},pill:{keywords:["health","medicine","doctor","pharmacy","drug"],char:"💊",fitzpatrick_scale:!1,category:"objects"},syringe:{keywords:["health","hospital","drugs","blood","medicine","needle","doctor","nurse"],char:"💉",fitzpatrick_scale:!1,category:"objects"},dna:{keywords:["biologist","genetics","life"],char:"🧬",fitzpatrick_scale:!1,category:"objects"},microbe:{keywords:["amoeba","bacteria","germs"],char:"🦠",fitzpatrick_scale:!1,category:"objects"},petri_dish:{keywords:["bacteria","biology","culture","lab"],char:"🧫",fitzpatrick_scale:!1,category:"objects"},test_tube:{keywords:["chemistry","experiment","lab","science"],char:"🧪",fitzpatrick_scale:!1,category:"objects"},thermometer:{keywords:["weather","temperature","hot","cold"],char:"🌡",fitzpatrick_scale:!1,category:"objects"},broom:{keywords:["cleaning","sweeping","witch"],char:"🧹",fitzpatrick_scale:!1,category:"objects"},basket:{keywords:["laundry"],char:"🧺",fitzpatrick_scale:!1,category:"objects"},toilet_paper:{keywords:["roll"],char:"🧻",fitzpatrick_scale:!1,category:"objects"},label:{keywords:["sale","tag"],char:"🏷",fitzpatrick_scale:!1,category:"objects"},bookmark:{keywords:["favorite","label","save"],char:"🔖",fitzpatrick_scale:!1,category:"objects"},toilet:{keywords:["restroom","wc","washroom","bathroom","potty"],char:"🚽",fitzpatrick_scale:!1,category:"objects"},shower:{keywords:["clean","water","bathroom"],char:"🚿",fitzpatrick_scale:!1,category:"objects"},bathtub:{keywords:["clean","shower","bathroom"],char:"🛁",fitzpatrick_scale:!1,category:"objects"},soap:{keywords:["bar","bathing","cleaning","lather"],char:"🧼",fitzpatrick_scale:!1,category:"objects"},sponge:{keywords:["absorbing","cleaning","porous"],char:"🧽",fitzpatrick_scale:!1,category:"objects"},lotion_bottle:{keywords:["moisturizer","sunscreen"],char:"🧴",fitzpatrick_scale:!1,category:"objects"},key:{keywords:["lock","door","password"],char:"🔑",fitzpatrick_scale:!1,category:"objects"},old_key:{keywords:["lock","door","password"],char:"🗝",fitzpatrick_scale:!1,category:"objects"},couch_and_lamp:{keywords:["read","chill"],char:"🛋",fitzpatrick_scale:!1,category:"objects"},sleeping_bed:{keywords:["bed","rest"],char:"🛌",fitzpatrick_scale:!0,category:"objects"},bed:{keywords:["sleep","rest"],char:"🛏",fitzpatrick_scale:!1,category:"objects"},door:{keywords:["house","entry","exit"],char:"🚪",fitzpatrick_scale:!1,category:"objects"},bellhop_bell:{keywords:["service"],char:"🛎",fitzpatrick_scale:!1,category:"objects"},teddy_bear:{keywords:["plush","stuffed"],char:"🧸",fitzpatrick_scale:!1,category:"objects"},framed_picture:{keywords:["photography"],char:"🖼",fitzpatrick_scale:!1,category:"objects"},world_map:{keywords:["location","direction"],char:"🗺",fitzpatrick_scale:!1,category:"objects"},parasol_on_ground:{keywords:["weather","summer"],char:"⛱",fitzpatrick_scale:!1,category:"objects"},moyai:{keywords:["rock","easter island","moai"],char:"🗿",fitzpatrick_scale:!1,category:"objects"},shopping:{keywords:["mall","buy","purchase"],char:"🛍",fitzpatrick_scale:!1,category:"objects"},shopping_cart:{keywords:["trolley"],char:"🛒",fitzpatrick_scale:!1,category:"objects"},balloon:{keywords:["party","celebration","birthday","circus"],char:"🎈",fitzpatrick_scale:!1,category:"objects"},flags:{keywords:["fish","japanese","koinobori","carp","banner"],char:"🎏",fitzpatrick_scale:!1,category:"objects"},ribbon:{keywords:["decoration","pink","girl","bowtie"],char:"🎀",fitzpatrick_scale:!1,category:"objects"},gift:{keywords:["present","birthday","christmas","xmas"],char:"🎁",fitzpatrick_scale:!1,category:"objects"},confetti_ball:{keywords:["festival","party","birthday","circus"],char:"🎊",fitzpatrick_scale:!1,category:"objects"},tada:{keywords:["party","congratulations","birthday","magic","circus","celebration"],char:"🎉",fitzpatrick_scale:!1,category:"objects"},dolls:{keywords:["japanese","toy","kimono"],char:"🎎",fitzpatrick_scale:!1,category:"objects"},wind_chime:{keywords:["nature","ding","spring","bell"],char:"🎐",fitzpatrick_scale:!1,category:"objects"},crossed_flags:{keywords:["japanese","nation","country","border"],char:"🎌",fitzpatrick_scale:!1,category:"objects"},izakaya_lantern:{keywords:["light","paper","halloween","spooky"],char:"🏮",fitzpatrick_scale:!1,category:"objects"},red_envelope:{keywords:["gift"],char:"🧧",fitzpatrick_scale:!1,category:"objects"},email:{keywords:["letter","postal","inbox","communication"],char:"✉️",fitzpatrick_scale:!1,category:"objects"},envelope_with_arrow:{keywords:["email","communication"],char:"📩",fitzpatrick_scale:!1,category:"objects"},incoming_envelope:{keywords:["email","inbox"],char:"📨",fitzpatrick_scale:!1,category:"objects"},"e-mail":{keywords:["communication","inbox"],char:"📧",fitzpatrick_scale:!1,category:"objects"},love_letter:{keywords:["email","like","affection","envelope","valentines"],char:"💌",fitzpatrick_scale:!1,category:"objects"},postbox:{keywords:["email","letter","envelope"],char:"📮",fitzpatrick_scale:!1,category:"objects"},mailbox_closed:{keywords:["email","communication","inbox"],char:"📪",fitzpatrick_scale:!1,category:"objects"},mailbox:{keywords:["email","inbox","communication"],char:"📫",fitzpatrick_scale:!1,category:"objects"},mailbox_with_mail:{keywords:["email","inbox","communication"],char:"📬",fitzpatrick_scale:!1,category:"objects"},mailbox_with_no_mail:{keywords:["email","inbox"],char:"📭",fitzpatrick_scale:!1,category:"objects"},package:{keywords:["mail","gift","cardboard","box","moving"],char:"📦",fitzpatrick_scale:!1,category:"objects"},postal_horn:{keywords:["instrument","music"],char:"📯",fitzpatrick_scale:!1,category:"objects"},inbox_tray:{keywords:["email","documents"],char:"📥",fitzpatrick_scale:!1,category:"objects"},outbox_tray:{keywords:["inbox","email"],char:"📤",fitzpatrick_scale:!1,category:"objects"},scroll:{keywords:["documents","ancient","history","paper"],char:"📜",fitzpatrick_scale:!1,category:"objects"},page_with_curl:{keywords:["documents","office","paper"],char:"📃",fitzpatrick_scale:!1,category:"objects"},bookmark_tabs:{keywords:["favorite","save","order","tidy"],char:"📑",fitzpatrick_scale:!1,category:"objects"},receipt:{keywords:["accounting","expenses"],char:"🧾",fitzpatrick_scale:!1,category:"objects"},bar_chart:{keywords:["graph","presentation","stats"],char:"📊",fitzpatrick_scale:!1,category:"objects"},chart_with_upwards_trend:{keywords:["graph","presentation","stats","recovery","business","economics","money","sales","good","success"],char:"📈",fitzpatrick_scale:!1,category:"objects"},chart_with_downwards_trend:{keywords:["graph","presentation","stats","recession","business","economics","money","sales","bad","failure"],char:"📉",fitzpatrick_scale:!1,category:"objects"},page_facing_up:{keywords:["documents","office","paper","information"],char:"📄",fitzpatrick_scale:!1,category:"objects"},date:{keywords:["calendar","schedule"],char:"📅",fitzpatrick_scale:!1,category:"objects"},calendar:{keywords:["schedule","date","planning"],char:"📆",fitzpatrick_scale:!1,category:"objects"},spiral_calendar:{keywords:["date","schedule","planning"],char:"🗓",fitzpatrick_scale:!1,category:"objects"},card_index:{keywords:["business","stationery"],char:"📇",fitzpatrick_scale:!1,category:"objects"},card_file_box:{keywords:["business","stationery"],char:"🗃",fitzpatrick_scale:!1,category:"objects"},ballot_box:{keywords:["election","vote"],char:"🗳",fitzpatrick_scale:!1,category:"objects"},file_cabinet:{keywords:["filing","organizing"],char:"🗄",fitzpatrick_scale:!1,category:"objects"},clipboard:{keywords:["stationery","documents"],char:"📋",fitzpatrick_scale:!1,category:"objects"},spiral_notepad:{keywords:["memo","stationery"],char:"🗒",fitzpatrick_scale:!1,category:"objects"},file_folder:{keywords:["documents","business","office"],char:"📁",fitzpatrick_scale:!1,category:"objects"},open_file_folder:{keywords:["documents","load"],char:"📂",fitzpatrick_scale:!1,category:"objects"},card_index_dividers:{keywords:["organizing","business","stationery"],char:"🗂",fitzpatrick_scale:!1,category:"objects"},newspaper_roll:{keywords:["press","headline"],char:"🗞",fitzpatrick_scale:!1,category:"objects"},newspaper:{keywords:["press","headline"],char:"📰",fitzpatrick_scale:!1,category:"objects"},notebook:{keywords:["stationery","record","notes","paper","study"],char:"📓",fitzpatrick_scale:!1,category:"objects"},closed_book:{keywords:["read","library","knowledge","textbook","learn"],char:"📕",fitzpatrick_scale:!1,category:"objects"},green_book:{keywords:["read","library","knowledge","study"],char:"📗",fitzpatrick_scale:!1,category:"objects"},blue_book:{keywords:["read","library","knowledge","learn","study"],char:"📘",fitzpatrick_scale:!1,category:"objects"},orange_book:{keywords:["read","library","knowledge","textbook","study"],char:"📙",fitzpatrick_scale:!1,category:"objects"},notebook_with_decorative_cover:{keywords:["classroom","notes","record","paper","study"],char:"📔",fitzpatrick_scale:!1,category:"objects"},ledger:{keywords:["notes","paper"],char:"📒",fitzpatrick_scale:!1,category:"objects"},books:{keywords:["literature","library","study"],char:"📚",fitzpatrick_scale:!1,category:"objects"},open_book:{keywords:["book","read","library","knowledge","literature","learn","study"],char:"📖",fitzpatrick_scale:!1,category:"objects"},safety_pin:{keywords:["diaper"],char:"🧷",fitzpatrick_scale:!1,category:"objects"},link:{keywords:["rings","url"],char:"🔗",fitzpatrick_scale:!1,category:"objects"},paperclip:{keywords:["documents","stationery"],char:"📎",fitzpatrick_scale:!1,category:"objects"},paperclips:{keywords:["documents","stationery"],char:"🖇",fitzpatrick_scale:!1,category:"objects"},scissors:{keywords:["stationery","cut"],char:"✂️",fitzpatrick_scale:!1,category:"objects"},triangular_ruler:{keywords:["stationery","math","architect","sketch"],char:"📐",fitzpatrick_scale:!1,category:"objects"},straight_ruler:{keywords:["stationery","calculate","length","math","school","drawing","architect","sketch"],char:"📏",fitzpatrick_scale:!1,category:"objects"},abacus:{keywords:["calculation"],char:"🧮",fitzpatrick_scale:!1,category:"objects"},pushpin:{keywords:["stationery","mark","here"],char:"📌",fitzpatrick_scale:!1,category:"objects"},round_pushpin:{keywords:["stationery","location","map","here"],char:"📍",fitzpatrick_scale:!1,category:"objects"},triangular_flag_on_post:{keywords:["mark","milestone","place"],char:"🚩",fitzpatrick_scale:!1,category:"objects"},white_flag:{keywords:["losing","loser","lost","surrender","give up","fail"],char:"🏳",fitzpatrick_scale:!1,category:"objects"},black_flag:{keywords:["pirate"],char:"🏴",fitzpatrick_scale:!1,category:"objects"},rainbow_flag:{keywords:["flag","rainbow","pride","gay","lgbt","glbt","queer","homosexual","lesbian","bisexual","transgender"],char:"🏳️‍🌈",fitzpatrick_scale:!1,category:"objects"},closed_lock_with_key:{keywords:["security","privacy"],char:"🔐",fitzpatrick_scale:!1,category:"objects"},lock:{keywords:["security","password","padlock"],char:"🔒",fitzpatrick_scale:!1,category:"objects"},unlock:{keywords:["privacy","security"],char:"🔓",fitzpatrick_scale:!1,category:"objects"},lock_with_ink_pen:{keywords:["security","secret"],char:"🔏",fitzpatrick_scale:!1,category:"objects"},pen:{keywords:["stationery","writing","write"],char:"🖊",fitzpatrick_scale:!1,category:"objects"},fountain_pen:{keywords:["stationery","writing","write"],char:"🖋",fitzpatrick_scale:!1,category:"objects"},black_nib:{keywords:["pen","stationery","writing","write"],char:"✒️",fitzpatrick_scale:!1,category:"objects"},memo:{keywords:["write","documents","stationery","pencil","paper","writing","legal","exam","quiz","test","study","compose"],char:"📝",fitzpatrick_scale:!1,category:"objects"},pencil2:{keywords:["stationery","write","paper","writing","school","study"],char:"✏️",fitzpatrick_scale:!1,category:"objects"},crayon:{keywords:["drawing","creativity"],char:"🖍",fitzpatrick_scale:!1,category:"objects"},paintbrush:{keywords:["drawing","creativity","art"],char:"🖌",fitzpatrick_scale:!1,category:"objects"},mag:{keywords:["search","zoom","find","detective"],char:"🔍",fitzpatrick_scale:!1,category:"objects"},mag_right:{keywords:["search","zoom","find","detective"],char:"🔎",fitzpatrick_scale:!1,category:"objects"},heart:{keywords:["love","like","valentines"],char:"❤️",fitzpatrick_scale:!1,category:"symbols"},orange_heart:{keywords:["love","like","affection","valentines"],char:"🧡",fitzpatrick_scale:!1,category:"symbols"},yellow_heart:{keywords:["love","like","affection","valentines"],char:"💛",fitzpatrick_scale:!1,category:"symbols"},green_heart:{keywords:["love","like","affection","valentines"],char:"💚",fitzpatrick_scale:!1,category:"symbols"},blue_heart:{keywords:["love","like","affection","valentines"],char:"💙",fitzpatrick_scale:!1,category:"symbols"},purple_heart:{keywords:["love","like","affection","valentines"],char:"💜",fitzpatrick_scale:!1,category:"symbols"},black_heart:{keywords:["evil"],char:"🖤",fitzpatrick_scale:!1,category:"symbols"},broken_heart:{keywords:["sad","sorry","break","heart","heartbreak"],char:"💔",fitzpatrick_scale:!1,category:"symbols"},heavy_heart_exclamation:{keywords:["decoration","love"],char:"❣",fitzpatrick_scale:!1,category:"symbols"},two_hearts:{keywords:["love","like","affection","valentines","heart"],char:"💕",fitzpatrick_scale:!1,category:"symbols"},revolving_hearts:{keywords:["love","like","affection","valentines"],char:"💞",fitzpatrick_scale:!1,category:"symbols"},heartbeat:{keywords:["love","like","affection","valentines","pink","heart"],char:"💓",fitzpatrick_scale:!1,category:"symbols"},heartpulse:{keywords:["like","love","affection","valentines","pink"],char:"💗",fitzpatrick_scale:!1,category:"symbols"},sparkling_heart:{keywords:["love","like","affection","valentines"],char:"💖",fitzpatrick_scale:!1,category:"symbols"},cupid:{keywords:["love","like","heart","affection","valentines"],char:"💘",fitzpatrick_scale:!1,category:"symbols"},gift_heart:{keywords:["love","valentines"],char:"💝",fitzpatrick_scale:!1,category:"symbols"},heart_decoration:{keywords:["purple-square","love","like"],char:"💟",fitzpatrick_scale:!1,category:"symbols"},peace_symbol:{keywords:["hippie"],char:"☮",fitzpatrick_scale:!1,category:"symbols"},latin_cross:{keywords:["christianity"],char:"✝",fitzpatrick_scale:!1,category:"symbols"},star_and_crescent:{keywords:["islam"],char:"☪",fitzpatrick_scale:!1,category:"symbols"},om:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"🕉",fitzpatrick_scale:!1,category:"symbols"},wheel_of_dharma:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"☸",fitzpatrick_scale:!1,category:"symbols"},star_of_david:{keywords:["judaism"],char:"✡",fitzpatrick_scale:!1,category:"symbols"},six_pointed_star:{keywords:["purple-square","religion","jewish","hexagram"],char:"🔯",fitzpatrick_scale:!1,category:"symbols"},menorah:{keywords:["hanukkah","candles","jewish"],char:"🕎",fitzpatrick_scale:!1,category:"symbols"},yin_yang:{keywords:["balance"],char:"☯",fitzpatrick_scale:!1,category:"symbols"},orthodox_cross:{keywords:["suppedaneum","religion"],char:"☦",fitzpatrick_scale:!1,category:"symbols"},place_of_worship:{keywords:["religion","church","temple","prayer"],char:"🛐",fitzpatrick_scale:!1,category:"symbols"},ophiuchus:{keywords:["sign","purple-square","constellation","astrology"],char:"⛎",fitzpatrick_scale:!1,category:"symbols"},aries:{keywords:["sign","purple-square","zodiac","astrology"],char:"♈",fitzpatrick_scale:!1,category:"symbols"},taurus:{keywords:["purple-square","sign","zodiac","astrology"],char:"♉",fitzpatrick_scale:!1,category:"symbols"},gemini:{keywords:["sign","zodiac","purple-square","astrology"],char:"♊",fitzpatrick_scale:!1,category:"symbols"},cancer:{keywords:["sign","zodiac","purple-square","astrology"],char:"♋",fitzpatrick_scale:!1,category:"symbols"},leo:{keywords:["sign","purple-square","zodiac","astrology"],char:"♌",fitzpatrick_scale:!1,category:"symbols"},virgo:{keywords:["sign","zodiac","purple-square","astrology"],char:"♍",fitzpatrick_scale:!1,category:"symbols"},libra:{keywords:["sign","purple-square","zodiac","astrology"],char:"♎",fitzpatrick_scale:!1,category:"symbols"},scorpius:{keywords:["sign","zodiac","purple-square","astrology","scorpio"],char:"♏",fitzpatrick_scale:!1,category:"symbols"},sagittarius:{keywords:["sign","zodiac","purple-square","astrology"],char:"♐",fitzpatrick_scale:!1,category:"symbols"},capricorn:{keywords:["sign","zodiac","purple-square","astrology"],char:"♑",fitzpatrick_scale:!1,category:"symbols"},aquarius:{keywords:["sign","purple-square","zodiac","astrology"],char:"♒",fitzpatrick_scale:!1,category:"symbols"},pisces:{keywords:["purple-square","sign","zodiac","astrology"],char:"♓",fitzpatrick_scale:!1,category:"symbols"},id:{keywords:["purple-square","words"],char:"🆔",fitzpatrick_scale:!1,category:"symbols"},atom_symbol:{keywords:["science","physics","chemistry"],char:"⚛",fitzpatrick_scale:!1,category:"symbols"},u7a7a:{keywords:["kanji","japanese","chinese","empty","sky","blue-square"],char:"🈳",fitzpatrick_scale:!1,category:"symbols"},u5272:{keywords:["cut","divide","chinese","kanji","pink-square"],char:"🈹",fitzpatrick_scale:!1,category:"symbols"},radioactive:{keywords:["nuclear","danger"],char:"☢",fitzpatrick_scale:!1,category:"symbols"},biohazard:{keywords:["danger"],char:"☣",fitzpatrick_scale:!1,category:"symbols"},mobile_phone_off:{keywords:["mute","orange-square","silence","quiet"],char:"📴",fitzpatrick_scale:!1,category:"symbols"},vibration_mode:{keywords:["orange-square","phone"],char:"📳",fitzpatrick_scale:!1,category:"symbols"},u6709:{keywords:["orange-square","chinese","have","kanji"],char:"🈶",fitzpatrick_scale:!1,category:"symbols"},u7121:{keywords:["nothing","chinese","kanji","japanese","orange-square"],char:"🈚",fitzpatrick_scale:!1,category:"symbols"},u7533:{keywords:["chinese","japanese","kanji","orange-square"],char:"🈸",fitzpatrick_scale:!1,category:"symbols"},u55b6:{keywords:["japanese","opening hours","orange-square"],char:"🈺",fitzpatrick_scale:!1,category:"symbols"},u6708:{keywords:["chinese","month","moon","japanese","orange-square","kanji"],char:"🈷️",fitzpatrick_scale:!1,category:"symbols"},eight_pointed_black_star:{keywords:["orange-square","shape","polygon"],char:"✴️",fitzpatrick_scale:!1,category:"symbols"},vs:{keywords:["words","orange-square"],char:"🆚",fitzpatrick_scale:!1,category:"symbols"},accept:{keywords:["ok","good","chinese","kanji","agree","yes","orange-circle"],char:"🉑",fitzpatrick_scale:!1,category:"symbols"},white_flower:{keywords:["japanese","spring"],char:"💮",fitzpatrick_scale:!1,category:"symbols"},ideograph_advantage:{keywords:["chinese","kanji","obtain","get","circle"],char:"🉐",fitzpatrick_scale:!1,category:"symbols"},secret:{keywords:["privacy","chinese","sshh","kanji","red-circle"],char:"㊙️",fitzpatrick_scale:!1,category:"symbols"},congratulations:{keywords:["chinese","kanji","japanese","red-circle"],char:"㊗️",fitzpatrick_scale:!1,category:"symbols"},u5408:{keywords:["japanese","chinese","join","kanji","red-square"],char:"🈴",fitzpatrick_scale:!1,category:"symbols"},u6e80:{keywords:["full","chinese","japanese","red-square","kanji"],char:"🈵",fitzpatrick_scale:!1,category:"symbols"},u7981:{keywords:["kanji","japanese","chinese","forbidden","limit","restricted","red-square"],char:"🈲",fitzpatrick_scale:!1,category:"symbols"},a:{keywords:["red-square","alphabet","letter"],char:"🅰️",fitzpatrick_scale:!1,category:"symbols"},b:{keywords:["red-square","alphabet","letter"],char:"🅱️",fitzpatrick_scale:!1,category:"symbols"},ab:{keywords:["red-square","alphabet"],char:"🆎",fitzpatrick_scale:!1,category:"symbols"},cl:{keywords:["alphabet","words","red-square"],char:"🆑",fitzpatrick_scale:!1,category:"symbols"},o2:{keywords:["alphabet","red-square","letter"],char:"🅾️",fitzpatrick_scale:!1,category:"symbols"},sos:{keywords:["help","red-square","words","emergency","911"],char:"🆘",fitzpatrick_scale:!1,category:"symbols"},no_entry:{keywords:["limit","security","privacy","bad","denied","stop","circle"],char:"⛔",fitzpatrick_scale:!1,category:"symbols"},name_badge:{keywords:["fire","forbid"],char:"📛",fitzpatrick_scale:!1,category:"symbols"},no_entry_sign:{keywords:["forbid","stop","limit","denied","disallow","circle"],char:"🚫",fitzpatrick_scale:!1,category:"symbols"},x:{keywords:["no","delete","remove","cancel","red"],char:"❌",fitzpatrick_scale:!1,category:"symbols"},o:{keywords:["circle","round"],char:"⭕",fitzpatrick_scale:!1,category:"symbols"},stop_sign:{keywords:["stop"],char:"🛑",fitzpatrick_scale:!1,category:"symbols"},anger:{keywords:["angry","mad"],char:"💢",fitzpatrick_scale:!1,category:"symbols"},hotsprings:{keywords:["bath","warm","relax"],char:"♨️",fitzpatrick_scale:!1,category:"symbols"},no_pedestrians:{keywords:["rules","crossing","walking","circle"],char:"🚷",fitzpatrick_scale:!1,category:"symbols"},do_not_litter:{keywords:["trash","bin","garbage","circle"],char:"🚯",fitzpatrick_scale:!1,category:"symbols"},no_bicycles:{keywords:["cyclist","prohibited","circle"],char:"🚳",fitzpatrick_scale:!1,category:"symbols"},"non-potable_water":{keywords:["drink","faucet","tap","circle"],char:"🚱",fitzpatrick_scale:!1,category:"symbols"},underage:{keywords:["18","drink","pub","night","minor","circle"],char:"🔞",fitzpatrick_scale:!1,category:"symbols"},no_mobile_phones:{keywords:["iphone","mute","circle"],char:"📵",fitzpatrick_scale:!1,category:"symbols"},exclamation:{keywords:["heavy_exclamation_mark","danger","surprise","punctuation","wow","warning"],char:"❗",fitzpatrick_scale:!1,category:"symbols"},grey_exclamation:{keywords:["surprise","punctuation","gray","wow","warning"],char:"❕",fitzpatrick_scale:!1,category:"symbols"},question:{keywords:["doubt","confused"],char:"❓",fitzpatrick_scale:!1,category:"symbols"},grey_question:{keywords:["doubts","gray","huh","confused"],char:"❔",fitzpatrick_scale:!1,category:"symbols"},bangbang:{keywords:["exclamation","surprise"],char:"‼️",fitzpatrick_scale:!1,category:"symbols"},interrobang:{keywords:["wat","punctuation","surprise"],char:"⁉️",fitzpatrick_scale:!1,category:"symbols"},100:{keywords:["score","perfect","numbers","century","exam","quiz","test","pass","hundred"],char:"💯",fitzpatrick_scale:!1,category:"symbols"},low_brightness:{keywords:["sun","afternoon","warm","summer"],char:"🔅",fitzpatrick_scale:!1,category:"symbols"},high_brightness:{keywords:["sun","light"],char:"🔆",fitzpatrick_scale:!1,category:"symbols"},trident:{keywords:["weapon","spear"],char:"🔱",fitzpatrick_scale:!1,category:"symbols"},fleur_de_lis:{keywords:["decorative","scout"],char:"⚜",fitzpatrick_scale:!1,category:"symbols"},part_alternation_mark:{keywords:["graph","presentation","stats","business","economics","bad"],char:"〽️",fitzpatrick_scale:!1,category:"symbols"},warning:{keywords:["exclamation","wip","alert","error","problem","issue"],char:"⚠️",fitzpatrick_scale:!1,category:"symbols"},children_crossing:{keywords:["school","warning","danger","sign","driving","yellow-diamond"],char:"🚸",fitzpatrick_scale:!1,category:"symbols"},beginner:{keywords:["badge","shield"],char:"🔰",fitzpatrick_scale:!1,category:"symbols"},recycle:{keywords:["arrow","environment","garbage","trash"],char:"♻️",fitzpatrick_scale:!1,category:"symbols"},u6307:{keywords:["chinese","point","green-square","kanji"],char:"🈯",fitzpatrick_scale:!1,category:"symbols"},chart:{keywords:["green-square","graph","presentation","stats"],char:"💹",fitzpatrick_scale:!1,category:"symbols"},sparkle:{keywords:["stars","green-square","awesome","good","fireworks"],char:"❇️",fitzpatrick_scale:!1,category:"symbols"},eight_spoked_asterisk:{keywords:["star","sparkle","green-square"],char:"✳️",fitzpatrick_scale:!1,category:"symbols"},negative_squared_cross_mark:{keywords:["x","green-square","no","deny"],char:"❎",fitzpatrick_scale:!1,category:"symbols"},white_check_mark:{keywords:["green-square","ok","agree","vote","election","answer","tick"],char:"✅",fitzpatrick_scale:!1,category:"symbols"},diamond_shape_with_a_dot_inside:{keywords:["jewel","blue","gem","crystal","fancy"],char:"💠",fitzpatrick_scale:!1,category:"symbols"},cyclone:{keywords:["weather","swirl","blue","cloud","vortex","spiral","whirlpool","spin","tornado","hurricane","typhoon"],char:"🌀",fitzpatrick_scale:!1,category:"symbols"},loop:{keywords:["tape","cassette"],char:"➿",fitzpatrick_scale:!1,category:"symbols"},globe_with_meridians:{keywords:["earth","international","world","internet","interweb","i18n"],char:"🌐",fitzpatrick_scale:!1,category:"symbols"},m:{keywords:["alphabet","blue-circle","letter"],char:"Ⓜ️",fitzpatrick_scale:!1,category:"symbols"},atm:{keywords:["money","sales","cash","blue-square","payment","bank"],char:"🏧",fitzpatrick_scale:!1,category:"symbols"},sa:{keywords:["japanese","blue-square","katakana"],char:"🈂️",fitzpatrick_scale:!1,category:"symbols"},passport_control:{keywords:["custom","blue-square"],char:"🛂",fitzpatrick_scale:!1,category:"symbols"},customs:{keywords:["passport","border","blue-square"],char:"🛃",fitzpatrick_scale:!1,category:"symbols"},baggage_claim:{keywords:["blue-square","airport","transport"],char:"🛄",fitzpatrick_scale:!1,category:"symbols"},left_luggage:{keywords:["blue-square","travel"],char:"🛅",fitzpatrick_scale:!1,category:"symbols"},wheelchair:{keywords:["blue-square","disabled","a11y","accessibility"],char:"♿",fitzpatrick_scale:!1,category:"symbols"},no_smoking:{keywords:["cigarette","blue-square","smell","smoke"],char:"🚭",fitzpatrick_scale:!1,category:"symbols"},wc:{keywords:["toilet","restroom","blue-square"],char:"🚾",fitzpatrick_scale:!1,category:"symbols"},parking:{keywords:["cars","blue-square","alphabet","letter"],char:"🅿️",fitzpatrick_scale:!1,category:"symbols"},potable_water:{keywords:["blue-square","liquid","restroom","cleaning","faucet"],char:"🚰",fitzpatrick_scale:!1,category:"symbols"},mens:{keywords:["toilet","restroom","wc","blue-square","gender","male"],char:"🚹",fitzpatrick_scale:!1,category:"symbols"},womens:{keywords:["purple-square","woman","female","toilet","loo","restroom","gender"],char:"🚺",fitzpatrick_scale:!1,category:"symbols"},baby_symbol:{keywords:["orange-square","child"],char:"🚼",fitzpatrick_scale:!1,category:"symbols"},restroom:{keywords:["blue-square","toilet","refresh","wc","gender"],char:"🚻",fitzpatrick_scale:!1,category:"symbols"},put_litter_in_its_place:{keywords:["blue-square","sign","human","info"],char:"🚮",fitzpatrick_scale:!1,category:"symbols"},cinema:{keywords:["blue-square","record","film","movie","curtain","stage","theater"],char:"🎦",fitzpatrick_scale:!1,category:"symbols"},signal_strength:{keywords:["blue-square","reception","phone","internet","connection","wifi","bluetooth","bars"],char:"📶",fitzpatrick_scale:!1,category:"symbols"},koko:{keywords:["blue-square","here","katakana","japanese","destination"],char:"🈁",fitzpatrick_scale:!1,category:"symbols"},ng:{keywords:["blue-square","words","shape","icon"],char:"🆖",fitzpatrick_scale:!1,category:"symbols"},ok:{keywords:["good","agree","yes","blue-square"],char:"🆗",fitzpatrick_scale:!1,category:"symbols"},up:{keywords:["blue-square","above","high"],char:"🆙",fitzpatrick_scale:!1,category:"symbols"},cool:{keywords:["words","blue-square"],char:"🆒",fitzpatrick_scale:!1,category:"symbols"},new:{keywords:["blue-square","words","start"],char:"🆕",fitzpatrick_scale:!1,category:"symbols"},free:{keywords:["blue-square","words"],char:"🆓",fitzpatrick_scale:!1,category:"symbols"},zero:{keywords:["0","numbers","blue-square","null"],char:"0️⃣",fitzpatrick_scale:!1,category:"symbols"},one:{keywords:["blue-square","numbers","1"],char:"1️⃣",fitzpatrick_scale:!1,category:"symbols"},two:{keywords:["numbers","2","prime","blue-square"],char:"2️⃣",fitzpatrick_scale:!1,category:"symbols"},three:{keywords:["3","numbers","prime","blue-square"],char:"3️⃣",fitzpatrick_scale:!1,category:"symbols"},four:{keywords:["4","numbers","blue-square"],char:"4️⃣",fitzpatrick_scale:!1,category:"symbols"},five:{keywords:["5","numbers","blue-square","prime"],char:"5️⃣",fitzpatrick_scale:!1,category:"symbols"},six:{keywords:["6","numbers","blue-square"],char:"6️⃣",fitzpatrick_scale:!1,category:"symbols"},seven:{keywords:["7","numbers","blue-square","prime"],char:"7️⃣",fitzpatrick_scale:!1,category:"symbols"},eight:{keywords:["8","blue-square","numbers"],char:"8️⃣",fitzpatrick_scale:!1,category:"symbols"},nine:{keywords:["blue-square","numbers","9"],char:"9️⃣",fitzpatrick_scale:!1,category:"symbols"},keycap_ten:{keywords:["numbers","10","blue-square"],char:"🔟",fitzpatrick_scale:!1,category:"symbols"},asterisk:{keywords:["star","keycap"],char:"*⃣",fitzpatrick_scale:!1,category:"symbols"},1234:{keywords:["numbers","blue-square"],char:"🔢",fitzpatrick_scale:!1,category:"symbols"},eject_button:{keywords:["blue-square"],char:"⏏️",fitzpatrick_scale:!1,category:"symbols"},arrow_forward:{keywords:["blue-square","right","direction","play"],char:"▶️",fitzpatrick_scale:!1,category:"symbols"},pause_button:{keywords:["pause","blue-square"],char:"⏸",fitzpatrick_scale:!1,category:"symbols"},next_track_button:{keywords:["forward","next","blue-square"],char:"⏭",fitzpatrick_scale:!1,category:"symbols"},stop_button:{keywords:["blue-square"],char:"⏹",fitzpatrick_scale:!1,category:"symbols"},record_button:{keywords:["blue-square"],char:"⏺",fitzpatrick_scale:!1,category:"symbols"},play_or_pause_button:{keywords:["blue-square","play","pause"],char:"⏯",fitzpatrick_scale:!1,category:"symbols"},previous_track_button:{keywords:["backward"],char:"⏮",fitzpatrick_scale:!1,category:"symbols"},fast_forward:{keywords:["blue-square","play","speed","continue"],char:"⏩",fitzpatrick_scale:!1,category:"symbols"},rewind:{keywords:["play","blue-square"],char:"⏪",fitzpatrick_scale:!1,category:"symbols"},twisted_rightwards_arrows:{keywords:["blue-square","shuffle","music","random"],char:"🔀",fitzpatrick_scale:!1,category:"symbols"},repeat:{keywords:["loop","record"],char:"🔁",fitzpatrick_scale:!1,category:"symbols"},repeat_one:{keywords:["blue-square","loop"],char:"🔂",fitzpatrick_scale:!1,category:"symbols"},arrow_backward:{keywords:["blue-square","left","direction"],char:"◀️",fitzpatrick_scale:!1,category:"symbols"},arrow_up_small:{keywords:["blue-square","triangle","direction","point","forward","top"],char:"🔼",fitzpatrick_scale:!1,category:"symbols"},arrow_down_small:{keywords:["blue-square","direction","bottom"],char:"🔽",fitzpatrick_scale:!1,category:"symbols"},arrow_double_up:{keywords:["blue-square","direction","top"],char:"⏫",fitzpatrick_scale:!1,category:"symbols"},arrow_double_down:{keywords:["blue-square","direction","bottom"],char:"⏬",fitzpatrick_scale:!1,category:"symbols"},arrow_right:{keywords:["blue-square","next"],char:"➡️",fitzpatrick_scale:!1,category:"symbols"},arrow_left:{keywords:["blue-square","previous","back"],char:"⬅️",fitzpatrick_scale:!1,category:"symbols"},arrow_up:{keywords:["blue-square","continue","top","direction"],char:"⬆️",fitzpatrick_scale:!1,category:"symbols"},arrow_down:{keywords:["blue-square","direction","bottom"],char:"⬇️",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_right:{keywords:["blue-square","point","direction","diagonal","northeast"],char:"↗️",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_right:{keywords:["blue-square","direction","diagonal","southeast"],char:"↘️",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_left:{keywords:["blue-square","direction","diagonal","southwest"],char:"↙️",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_left:{keywords:["blue-square","point","direction","diagonal","northwest"],char:"↖️",fitzpatrick_scale:!1,category:"symbols"},arrow_up_down:{keywords:["blue-square","direction","way","vertical"],char:"↕️",fitzpatrick_scale:!1,category:"symbols"},left_right_arrow:{keywords:["shape","direction","horizontal","sideways"],char:"↔️",fitzpatrick_scale:!1,category:"symbols"},arrows_counterclockwise:{keywords:["blue-square","sync","cycle"],char:"🔄",fitzpatrick_scale:!1,category:"symbols"},arrow_right_hook:{keywords:["blue-square","return","rotate","direction"],char:"↪️",fitzpatrick_scale:!1,category:"symbols"},leftwards_arrow_with_hook:{keywords:["back","return","blue-square","undo","enter"],char:"↩️",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_up:{keywords:["blue-square","direction","top"],char:"⤴️",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_down:{keywords:["blue-square","direction","bottom"],char:"⤵️",fitzpatrick_scale:!1,category:"symbols"},hash:{keywords:["symbol","blue-square","twitter"],char:"#️⃣",fitzpatrick_scale:!1,category:"symbols"},information_source:{keywords:["blue-square","alphabet","letter"],char:"ℹ️",fitzpatrick_scale:!1,category:"symbols"},abc:{keywords:["blue-square","alphabet"],char:"🔤",fitzpatrick_scale:!1,category:"symbols"},abcd:{keywords:["blue-square","alphabet"],char:"🔡",fitzpatrick_scale:!1,category:"symbols"},capital_abcd:{keywords:["alphabet","words","blue-square"],char:"🔠",fitzpatrick_scale:!1,category:"symbols"},symbols:{keywords:["blue-square","music","note","ampersand","percent","glyphs","characters"],char:"🔣",fitzpatrick_scale:!1,category:"symbols"},musical_note:{keywords:["score","tone","sound"],char:"🎵",fitzpatrick_scale:!1,category:"symbols"},notes:{keywords:["music","score"],char:"🎶",fitzpatrick_scale:!1,category:"symbols"},wavy_dash:{keywords:["draw","line","moustache","mustache","squiggle","scribble"],char:"〰️",fitzpatrick_scale:!1,category:"symbols"},curly_loop:{keywords:["scribble","draw","shape","squiggle"],char:"➰",fitzpatrick_scale:!1,category:"symbols"},heavy_check_mark:{keywords:["ok","nike","answer","yes","tick"],char:"✔️",fitzpatrick_scale:!1,category:"symbols"},arrows_clockwise:{keywords:["sync","cycle","round","repeat"],char:"🔃",fitzpatrick_scale:!1,category:"symbols"},heavy_plus_sign:{keywords:["math","calculation","addition","more","increase"],char:"➕",fitzpatrick_scale:!1,category:"symbols"},heavy_minus_sign:{keywords:["math","calculation","subtract","less"],char:"➖",fitzpatrick_scale:!1,category:"symbols"},heavy_division_sign:{keywords:["divide","math","calculation"],char:"➗",fitzpatrick_scale:!1,category:"symbols"},heavy_multiplication_x:{keywords:["math","calculation"],char:"✖️",fitzpatrick_scale:!1,category:"symbols"},infinity:{keywords:["forever"],char:"♾",fitzpatrick_scale:!1,category:"symbols"},heavy_dollar_sign:{keywords:["money","sales","payment","currency","buck"],char:"💲",fitzpatrick_scale:!1,category:"symbols"},currency_exchange:{keywords:["money","sales","dollar","travel"],char:"💱",fitzpatrick_scale:!1,category:"symbols"},copyright:{keywords:["ip","license","circle","law","legal"],char:"©️",fitzpatrick_scale:!1,category:"symbols"},registered:{keywords:["alphabet","circle"],char:"®️",fitzpatrick_scale:!1,category:"symbols"},tm:{keywords:["trademark","brand","law","legal"],char:"™️",fitzpatrick_scale:!1,category:"symbols"},end:{keywords:["words","arrow"],char:"🔚",fitzpatrick_scale:!1,category:"symbols"},back:{keywords:["arrow","words","return"],char:"🔙",fitzpatrick_scale:!1,category:"symbols"},on:{keywords:["arrow","words"],char:"🔛",fitzpatrick_scale:!1,category:"symbols"},top:{keywords:["words","blue-square"],char:"🔝",fitzpatrick_scale:!1,category:"symbols"},soon:{keywords:["arrow","words"],char:"🔜",fitzpatrick_scale:!1,category:"symbols"},ballot_box_with_check:{keywords:["ok","agree","confirm","black-square","vote","election","yes","tick"],char:"☑️",fitzpatrick_scale:!1,category:"symbols"},radio_button:{keywords:["input","old","music","circle"],char:"🔘",fitzpatrick_scale:!1,category:"symbols"},white_circle:{keywords:["shape","round"],char:"⚪",fitzpatrick_scale:!1,category:"symbols"},black_circle:{keywords:["shape","button","round"],char:"⚫",fitzpatrick_scale:!1,category:"symbols"},red_circle:{keywords:["shape","error","danger"],char:"🔴",fitzpatrick_scale:!1,category:"symbols"},large_blue_circle:{keywords:["shape","icon","button"],char:"🔵",fitzpatrick_scale:!1,category:"symbols"},small_orange_diamond:{keywords:["shape","jewel","gem"],char:"🔸",fitzpatrick_scale:!1,category:"symbols"},small_blue_diamond:{keywords:["shape","jewel","gem"],char:"🔹",fitzpatrick_scale:!1,category:"symbols"},large_orange_diamond:{keywords:["shape","jewel","gem"],char:"🔶",fitzpatrick_scale:!1,category:"symbols"},large_blue_diamond:{keywords:["shape","jewel","gem"],char:"🔷",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle:{keywords:["shape","direction","up","top"],char:"🔺",fitzpatrick_scale:!1,category:"symbols"},black_small_square:{keywords:["shape","icon"],char:"▪️",fitzpatrick_scale:!1,category:"symbols"},white_small_square:{keywords:["shape","icon"],char:"▫️",fitzpatrick_scale:!1,category:"symbols"},black_large_square:{keywords:["shape","icon","button"],char:"⬛",fitzpatrick_scale:!1,category:"symbols"},white_large_square:{keywords:["shape","icon","stone","button"],char:"⬜",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle_down:{keywords:["shape","direction","bottom"],char:"🔻",fitzpatrick_scale:!1,category:"symbols"},black_medium_square:{keywords:["shape","button","icon"],char:"◼️",fitzpatrick_scale:!1,category:"symbols"},white_medium_square:{keywords:["shape","stone","icon"],char:"◻️",fitzpatrick_scale:!1,category:"symbols"},black_medium_small_square:{keywords:["icon","shape","button"],char:"◾",fitzpatrick_scale:!1,category:"symbols"},white_medium_small_square:{keywords:["shape","stone","icon","button"],char:"◽",fitzpatrick_scale:!1,category:"symbols"},black_square_button:{keywords:["shape","input","frame"],char:"🔲",fitzpatrick_scale:!1,category:"symbols"},white_square_button:{keywords:["shape","input"],char:"🔳",fitzpatrick_scale:!1,category:"symbols"},speaker:{keywords:["sound","volume","silence","broadcast"],char:"🔈",fitzpatrick_scale:!1,category:"symbols"},sound:{keywords:["volume","speaker","broadcast"],char:"🔉",fitzpatrick_scale:!1,category:"symbols"},loud_sound:{keywords:["volume","noise","noisy","speaker","broadcast"],char:"🔊",fitzpatrick_scale:!1,category:"symbols"},mute:{keywords:["sound","volume","silence","quiet"],char:"🔇",fitzpatrick_scale:!1,category:"symbols"},mega:{keywords:["sound","speaker","volume"],char:"📣",fitzpatrick_scale:!1,category:"symbols"},loudspeaker:{keywords:["volume","sound"],char:"📢",fitzpatrick_scale:!1,category:"symbols"},bell:{keywords:["sound","notification","christmas","xmas","chime"],char:"🔔",fitzpatrick_scale:!1,category:"symbols"},no_bell:{keywords:["sound","volume","mute","quiet","silent"],char:"🔕",fitzpatrick_scale:!1,category:"symbols"},black_joker:{keywords:["poker","cards","game","play","magic"],char:"🃏",fitzpatrick_scale:!1,category:"symbols"},mahjong:{keywords:["game","play","chinese","kanji"],char:"🀄",fitzpatrick_scale:!1,category:"symbols"},spades:{keywords:["poker","cards","suits","magic"],char:"♠️",fitzpatrick_scale:!1,category:"symbols"},clubs:{keywords:["poker","cards","magic","suits"],char:"♣️",fitzpatrick_scale:!1,category:"symbols"},hearts:{keywords:["poker","cards","magic","suits"],char:"♥️",fitzpatrick_scale:!1,category:"symbols"},diamonds:{keywords:["poker","cards","magic","suits"],char:"♦️",fitzpatrick_scale:!1,category:"symbols"},flower_playing_cards:{keywords:["game","sunset","red"],char:"🎴",fitzpatrick_scale:!1,category:"symbols"},thought_balloon:{keywords:["bubble","cloud","speech","thinking","dream"],char:"💭",fitzpatrick_scale:!1,category:"symbols"},right_anger_bubble:{keywords:["caption","speech","thinking","mad"],char:"🗯",fitzpatrick_scale:!1,category:"symbols"},speech_balloon:{keywords:["bubble","words","message","talk","chatting"],char:"💬",fitzpatrick_scale:!1,category:"symbols"},left_speech_bubble:{keywords:["words","message","talk","chatting"],char:"🗨",fitzpatrick_scale:!1,category:"symbols"},clock1:{keywords:["time","late","early","schedule"],char:"🕐",fitzpatrick_scale:!1,category:"symbols"},clock2:{keywords:["time","late","early","schedule"],char:"🕑",fitzpatrick_scale:!1,category:"symbols"},clock3:{keywords:["time","late","early","schedule"],char:"🕒",fitzpatrick_scale:!1,category:"symbols"},clock4:{keywords:["time","late","early","schedule"],char:"🕓",fitzpatrick_scale:!1,category:"symbols"},clock5:{keywords:["time","late","early","schedule"],char:"🕔",fitzpatrick_scale:!1,category:"symbols"},clock6:{keywords:["time","late","early","schedule","dawn","dusk"],char:"🕕",fitzpatrick_scale:!1,category:"symbols"},clock7:{keywords:["time","late","early","schedule"],char:"🕖",fitzpatrick_scale:!1,category:"symbols"},clock8:{keywords:["time","late","early","schedule"],char:"🕗",fitzpatrick_scale:!1,category:"symbols"},clock9:{keywords:["time","late","early","schedule"],char:"🕘",fitzpatrick_scale:!1,category:"symbols"},clock10:{keywords:["time","late","early","schedule"],char:"🕙",fitzpatrick_scale:!1,category:"symbols"},clock11:{keywords:["time","late","early","schedule"],char:"🕚",fitzpatrick_scale:!1,category:"symbols"},clock12:{keywords:["time","noon","midnight","midday","late","early","schedule"],char:"🕛",fitzpatrick_scale:!1,category:"symbols"},clock130:{keywords:["time","late","early","schedule"],char:"🕜",fitzpatrick_scale:!1,category:"symbols"},clock230:{keywords:["time","late","early","schedule"],char:"🕝",fitzpatrick_scale:!1,category:"symbols"},clock330:{keywords:["time","late","early","schedule"],char:"🕞",fitzpatrick_scale:!1,category:"symbols"},clock430:{keywords:["time","late","early","schedule"],char:"🕟",fitzpatrick_scale:!1,category:"symbols"},clock530:{keywords:["time","late","early","schedule"],char:"🕠",fitzpatrick_scale:!1,category:"symbols"},clock630:{keywords:["time","late","early","schedule"],char:"🕡",fitzpatrick_scale:!1,category:"symbols"},clock730:{keywords:["time","late","early","schedule"],char:"🕢",fitzpatrick_scale:!1,category:"symbols"},clock830:{keywords:["time","late","early","schedule"],char:"🕣",fitzpatrick_scale:!1,category:"symbols"},clock930:{keywords:["time","late","early","schedule"],char:"🕤",fitzpatrick_scale:!1,category:"symbols"},clock1030:{keywords:["time","late","early","schedule"],char:"🕥",fitzpatrick_scale:!1,category:"symbols"},clock1130:{keywords:["time","late","early","schedule"],char:"🕦",fitzpatrick_scale:!1,category:"symbols"},clock1230:{keywords:["time","late","early","schedule"],char:"🕧",fitzpatrick_scale:!1,category:"symbols"},afghanistan:{keywords:["af","flag","nation","country","banner"],char:"🇦🇫",fitzpatrick_scale:!1,category:"flags"},aland_islands:{keywords:["Åland","islands","flag","nation","country","banner"],char:"🇦🇽",fitzpatrick_scale:!1,category:"flags"},albania:{keywords:["al","flag","nation","country","banner"],char:"🇦🇱",fitzpatrick_scale:!1,category:"flags"},algeria:{keywords:["dz","flag","nation","country","banner"],char:"🇩🇿",fitzpatrick_scale:!1,category:"flags"},american_samoa:{keywords:["american","ws","flag","nation","country","banner"],char:"🇦🇸",fitzpatrick_scale:!1,category:"flags"},andorra:{keywords:["ad","flag","nation","country","banner"],char:"🇦🇩",fitzpatrick_scale:!1,category:"flags"},angola:{keywords:["ao","flag","nation","country","banner"],char:"🇦🇴",fitzpatrick_scale:!1,category:"flags"},anguilla:{keywords:["ai","flag","nation","country","banner"],char:"🇦🇮",fitzpatrick_scale:!1,category:"flags"},antarctica:{keywords:["aq","flag","nation","country","banner"],char:"🇦🇶",fitzpatrick_scale:!1,category:"flags"},antigua_barbuda:{keywords:["antigua","barbuda","flag","nation","country","banner"],char:"🇦🇬",fitzpatrick_scale:!1,category:"flags"},argentina:{keywords:["ar","flag","nation","country","banner"],char:"🇦🇷",fitzpatrick_scale:!1,category:"flags"},armenia:{keywords:["am","flag","nation","country","banner"],char:"🇦🇲",fitzpatrick_scale:!1,category:"flags"},aruba:{keywords:["aw","flag","nation","country","banner"],char:"🇦🇼",fitzpatrick_scale:!1,category:"flags"},australia:{keywords:["au","flag","nation","country","banner"],char:"🇦🇺",fitzpatrick_scale:!1,category:"flags"},austria:{keywords:["at","flag","nation","country","banner"],char:"🇦🇹",fitzpatrick_scale:!1,category:"flags"},azerbaijan:{keywords:["az","flag","nation","country","banner"],char:"🇦🇿",fitzpatrick_scale:!1,category:"flags"},bahamas:{keywords:["bs","flag","nation","country","banner"],char:"🇧🇸",fitzpatrick_scale:!1,category:"flags"},bahrain:{keywords:["bh","flag","nation","country","banner"],char:"🇧🇭",fitzpatrick_scale:!1,category:"flags"},bangladesh:{keywords:["bd","flag","nation","country","banner"],char:"🇧🇩",fitzpatrick_scale:!1,category:"flags"},barbados:{keywords:["bb","flag","nation","country","banner"],char:"🇧🇧",fitzpatrick_scale:!1,category:"flags"},belarus:{keywords:["by","flag","nation","country","banner"],char:"🇧🇾",fitzpatrick_scale:!1,category:"flags"},belgium:{keywords:["be","flag","nation","country","banner"],char:"🇧🇪",fitzpatrick_scale:!1,category:"flags"},belize:{keywords:["bz","flag","nation","country","banner"],char:"🇧🇿",fitzpatrick_scale:!1,category:"flags"},benin:{keywords:["bj","flag","nation","country","banner"],char:"🇧🇯",fitzpatrick_scale:!1,category:"flags"},bermuda:{keywords:["bm","flag","nation","country","banner"],char:"🇧🇲",fitzpatrick_scale:!1,category:"flags"},bhutan:{keywords:["bt","flag","nation","country","banner"],char:"🇧🇹",fitzpatrick_scale:!1,category:"flags"},bolivia:{keywords:["bo","flag","nation","country","banner"],char:"🇧🇴",fitzpatrick_scale:!1,category:"flags"},caribbean_netherlands:{keywords:["bonaire","flag","nation","country","banner"],char:"🇧🇶",fitzpatrick_scale:!1,category:"flags"},bosnia_herzegovina:{keywords:["bosnia","herzegovina","flag","nation","country","banner"],char:"🇧🇦",fitzpatrick_scale:!1,category:"flags"},botswana:{keywords:["bw","flag","nation","country","banner"],char:"🇧🇼",fitzpatrick_scale:!1,category:"flags"},brazil:{keywords:["br","flag","nation","country","banner"],char:"🇧🇷",fitzpatrick_scale:!1,category:"flags"},british_indian_ocean_territory:{keywords:["british","indian","ocean","territory","flag","nation","country","banner"],char:"🇮🇴",fitzpatrick_scale:!1,category:"flags"},british_virgin_islands:{keywords:["british","virgin","islands","bvi","flag","nation","country","banner"],char:"🇻🇬",fitzpatrick_scale:!1,category:"flags"},brunei:{keywords:["bn","darussalam","flag","nation","country","banner"],char:"🇧🇳",fitzpatrick_scale:!1,category:"flags"},bulgaria:{keywords:["bg","flag","nation","country","banner"],char:"🇧🇬",fitzpatrick_scale:!1,category:"flags"},burkina_faso:{keywords:["burkina","faso","flag","nation","country","banner"],char:"🇧🇫",fitzpatrick_scale:!1,category:"flags"},burundi:{keywords:["bi","flag","nation","country","banner"],char:"🇧🇮",fitzpatrick_scale:!1,category:"flags"},cape_verde:{keywords:["cabo","verde","flag","nation","country","banner"],char:"🇨🇻",fitzpatrick_scale:!1,category:"flags"},cambodia:{keywords:["kh","flag","nation","country","banner"],char:"🇰🇭",fitzpatrick_scale:!1,category:"flags"},cameroon:{keywords:["cm","flag","nation","country","banner"],char:"🇨🇲",fitzpatrick_scale:!1,category:"flags"},canada:{keywords:["ca","flag","nation","country","banner"],char:"🇨🇦",fitzpatrick_scale:!1,category:"flags"},canary_islands:{keywords:["canary","islands","flag","nation","country","banner"],char:"🇮🇨",fitzpatrick_scale:!1,category:"flags"},cayman_islands:{keywords:["cayman","islands","flag","nation","country","banner"],char:"🇰🇾",fitzpatrick_scale:!1,category:"flags"},central_african_republic:{keywords:["central","african","republic","flag","nation","country","banner"],char:"🇨🇫",fitzpatrick_scale:!1,category:"flags"},chad:{keywords:["td","flag","nation","country","banner"],char:"🇹🇩",fitzpatrick_scale:!1,category:"flags"},chile:{keywords:["flag","nation","country","banner"],char:"🇨🇱",fitzpatrick_scale:!1,category:"flags"},cn:{keywords:["china","chinese","prc","flag","country","nation","banner"],char:"🇨🇳",fitzpatrick_scale:!1,category:"flags"},christmas_island:{keywords:["christmas","island","flag","nation","country","banner"],char:"🇨🇽",fitzpatrick_scale:!1,category:"flags"},cocos_islands:{keywords:["cocos","keeling","islands","flag","nation","country","banner"],char:"🇨🇨",fitzpatrick_scale:!1,category:"flags"},colombia:{keywords:["co","flag","nation","country","banner"],char:"🇨🇴",fitzpatrick_scale:!1,category:"flags"},comoros:{keywords:["km","flag","nation","country","banner"],char:"🇰🇲",fitzpatrick_scale:!1,category:"flags"},congo_brazzaville:{keywords:["congo","flag","nation","country","banner"],char:"🇨🇬",fitzpatrick_scale:!1,category:"flags"},congo_kinshasa:{keywords:["congo","democratic","republic","flag","nation","country","banner"],char:"🇨🇩",fitzpatrick_scale:!1,category:"flags"},cook_islands:{keywords:["cook","islands","flag","nation","country","banner"],char:"🇨🇰",fitzpatrick_scale:!1,category:"flags"},costa_rica:{keywords:["costa","rica","flag","nation","country","banner"],char:"🇨🇷",fitzpatrick_scale:!1,category:"flags"},croatia:{keywords:["hr","flag","nation","country","banner"],char:"🇭🇷",fitzpatrick_scale:!1,category:"flags"},cuba:{keywords:["cu","flag","nation","country","banner"],char:"🇨🇺",fitzpatrick_scale:!1,category:"flags"},curacao:{keywords:["curaçao","flag","nation","country","banner"],char:"🇨🇼",fitzpatrick_scale:!1,category:"flags"},cyprus:{keywords:["cy","flag","nation","country","banner"],char:"🇨🇾",fitzpatrick_scale:!1,category:"flags"},czech_republic:{keywords:["cz","flag","nation","country","banner"],char:"🇨🇿",fitzpatrick_scale:!1,category:"flags"},denmark:{keywords:["dk","flag","nation","country","banner"],char:"🇩🇰",fitzpatrick_scale:!1,category:"flags"},djibouti:{keywords:["dj","flag","nation","country","banner"],char:"🇩🇯",fitzpatrick_scale:!1,category:"flags"},dominica:{keywords:["dm","flag","nation","country","banner"],char:"🇩🇲",fitzpatrick_scale:!1,category:"flags"},dominican_republic:{keywords:["dominican","republic","flag","nation","country","banner"],char:"🇩🇴",fitzpatrick_scale:!1,category:"flags"},ecuador:{keywords:["ec","flag","nation","country","banner"],char:"🇪🇨",fitzpatrick_scale:!1,category:"flags"},egypt:{keywords:["eg","flag","nation","country","banner"],char:"🇪🇬",fitzpatrick_scale:!1,category:"flags"},el_salvador:{keywords:["el","salvador","flag","nation","country","banner"],char:"🇸🇻",fitzpatrick_scale:!1,category:"flags"},equatorial_guinea:{keywords:["equatorial","gn","flag","nation","country","banner"],char:"🇬🇶",fitzpatrick_scale:!1,category:"flags"},eritrea:{keywords:["er","flag","nation","country","banner"],char:"🇪🇷",fitzpatrick_scale:!1,category:"flags"},estonia:{keywords:["ee","flag","nation","country","banner"],char:"🇪🇪",fitzpatrick_scale:!1,category:"flags"},ethiopia:{keywords:["et","flag","nation","country","banner"],char:"🇪🇹",fitzpatrick_scale:!1,category:"flags"},eu:{keywords:["european","union","flag","banner"],char:"🇪🇺",fitzpatrick_scale:!1,category:"flags"},falkland_islands:{keywords:["falkland","islands","malvinas","flag","nation","country","banner"],char:"🇫🇰",fitzpatrick_scale:!1,category:"flags"},faroe_islands:{keywords:["faroe","islands","flag","nation","country","banner"],char:"🇫🇴",fitzpatrick_scale:!1,category:"flags"},fiji:{keywords:["fj","flag","nation","country","banner"],char:"🇫🇯",fitzpatrick_scale:!1,category:"flags"},finland:{keywords:["fi","flag","nation","country","banner"],char:"🇫🇮",fitzpatrick_scale:!1,category:"flags"},fr:{keywords:["banner","flag","nation","france","french","country"],char:"🇫🇷",fitzpatrick_scale:!1,category:"flags"},french_guiana:{keywords:["french","guiana","flag","nation","country","banner"],char:"🇬🇫",fitzpatrick_scale:!1,category:"flags"},french_polynesia:{keywords:["french","polynesia","flag","nation","country","banner"],char:"🇵🇫",fitzpatrick_scale:!1,category:"flags"},french_southern_territories:{keywords:["french","southern","territories","flag","nation","country","banner"],char:"🇹🇫",fitzpatrick_scale:!1,category:"flags"},gabon:{keywords:["ga","flag","nation","country","banner"],char:"🇬🇦",fitzpatrick_scale:!1,category:"flags"},gambia:{keywords:["gm","flag","nation","country","banner"],char:"🇬🇲",fitzpatrick_scale:!1,category:"flags"},georgia:{keywords:["ge","flag","nation","country","banner"],char:"🇬🇪",fitzpatrick_scale:!1,category:"flags"},de:{keywords:["german","nation","flag","country","banner"],char:"🇩🇪",fitzpatrick_scale:!1,category:"flags"},ghana:{keywords:["gh","flag","nation","country","banner"],char:"🇬🇭",fitzpatrick_scale:!1,category:"flags"},gibraltar:{keywords:["gi","flag","nation","country","banner"],char:"🇬🇮",fitzpatrick_scale:!1,category:"flags"},greece:{keywords:["gr","flag","nation","country","banner"],char:"🇬🇷",fitzpatrick_scale:!1,category:"flags"},greenland:{keywords:["gl","flag","nation","country","banner"],char:"🇬🇱",fitzpatrick_scale:!1,category:"flags"},grenada:{keywords:["gd","flag","nation","country","banner"],char:"🇬🇩",fitzpatrick_scale:!1,category:"flags"},guadeloupe:{keywords:["gp","flag","nation","country","banner"],char:"🇬🇵",fitzpatrick_scale:!1,category:"flags"},guam:{keywords:["gu","flag","nation","country","banner"],char:"🇬🇺",fitzpatrick_scale:!1,category:"flags"},guatemala:{keywords:["gt","flag","nation","country","banner"],char:"🇬🇹",fitzpatrick_scale:!1,category:"flags"},guernsey:{keywords:["gg","flag","nation","country","banner"],char:"🇬🇬",fitzpatrick_scale:!1,category:"flags"},guinea:{keywords:["gn","flag","nation","country","banner"],char:"🇬🇳",fitzpatrick_scale:!1,category:"flags"},guinea_bissau:{keywords:["gw","bissau","flag","nation","country","banner"],char:"🇬🇼",fitzpatrick_scale:!1,category:"flags"},guyana:{keywords:["gy","flag","nation","country","banner"],char:"🇬🇾",fitzpatrick_scale:!1,category:"flags"},haiti:{keywords:["ht","flag","nation","country","banner"],char:"🇭🇹",fitzpatrick_scale:!1,category:"flags"},honduras:{keywords:["hn","flag","nation","country","banner"],char:"🇭🇳",fitzpatrick_scale:!1,category:"flags"},hong_kong:{keywords:["hong","kong","flag","nation","country","banner"],char:"🇭🇰",fitzpatrick_scale:!1,category:"flags"},hungary:{keywords:["hu","flag","nation","country","banner"],char:"🇭🇺",fitzpatrick_scale:!1,category:"flags"},iceland:{keywords:["is","flag","nation","country","banner"],char:"🇮🇸",fitzpatrick_scale:!1,category:"flags"},india:{keywords:["in","flag","nation","country","banner"],char:"🇮🇳",fitzpatrick_scale:!1,category:"flags"},indonesia:{keywords:["flag","nation","country","banner"],char:"🇮🇩",fitzpatrick_scale:!1,category:"flags"},iran:{keywords:["iran,","islamic","republic","flag","nation","country","banner"],char:"🇮🇷",fitzpatrick_scale:!1,category:"flags"},iraq:{keywords:["iq","flag","nation","country","banner"],char:"🇮🇶",fitzpatrick_scale:!1,category:"flags"},ireland:{keywords:["ie","flag","nation","country","banner"],char:"🇮🇪",fitzpatrick_scale:!1,category:"flags"},isle_of_man:{keywords:["isle","man","flag","nation","country","banner"],char:"🇮🇲",fitzpatrick_scale:!1,category:"flags"},israel:{keywords:["il","flag","nation","country","banner"],char:"🇮🇱",fitzpatrick_scale:!1,category:"flags"},it:{keywords:["italy","flag","nation","country","banner"],char:"🇮🇹",fitzpatrick_scale:!1,category:"flags"},cote_divoire:{keywords:["ivory","coast","flag","nation","country","banner"],char:"🇨🇮",fitzpatrick_scale:!1,category:"flags"},jamaica:{keywords:["jm","flag","nation","country","banner"],char:"🇯🇲",fitzpatrick_scale:!1,category:"flags"},jp:{keywords:["japanese","nation","flag","country","banner"],char:"🇯🇵",fitzpatrick_scale:!1,category:"flags"},jersey:{keywords:["je","flag","nation","country","banner"],char:"🇯🇪",fitzpatrick_scale:!1,category:"flags"},jordan:{keywords:["jo","flag","nation","country","banner"],char:"🇯🇴",fitzpatrick_scale:!1,category:"flags"},kazakhstan:{keywords:["kz","flag","nation","country","banner"],char:"🇰🇿",fitzpatrick_scale:!1,category:"flags"},kenya:{keywords:["ke","flag","nation","country","banner"],char:"🇰🇪",fitzpatrick_scale:!1,category:"flags"},kiribati:{keywords:["ki","flag","nation","country","banner"],char:"🇰🇮",fitzpatrick_scale:!1,category:"flags"},kosovo:{keywords:["xk","flag","nation","country","banner"],char:"🇽🇰",fitzpatrick_scale:!1,category:"flags"},kuwait:{keywords:["kw","flag","nation","country","banner"],char:"🇰🇼",fitzpatrick_scale:!1,category:"flags"},kyrgyzstan:{keywords:["kg","flag","nation","country","banner"],char:"🇰🇬",fitzpatrick_scale:!1,category:"flags"},laos:{keywords:["lao","democratic","republic","flag","nation","country","banner"],char:"🇱🇦",fitzpatrick_scale:!1,category:"flags"},latvia:{keywords:["lv","flag","nation","country","banner"],char:"🇱🇻",fitzpatrick_scale:!1,category:"flags"},lebanon:{keywords:["lb","flag","nation","country","banner"],char:"🇱🇧",fitzpatrick_scale:!1,category:"flags"},lesotho:{keywords:["ls","flag","nation","country","banner"],char:"🇱🇸",fitzpatrick_scale:!1,category:"flags"},liberia:{keywords:["lr","flag","nation","country","banner"],char:"🇱🇷",fitzpatrick_scale:!1,category:"flags"},libya:{keywords:["ly","flag","nation","country","banner"],char:"🇱🇾",fitzpatrick_scale:!1,category:"flags"},liechtenstein:{keywords:["li","flag","nation","country","banner"],char:"🇱🇮",fitzpatrick_scale:!1,category:"flags"},lithuania:{keywords:["lt","flag","nation","country","banner"],char:"🇱🇹",fitzpatrick_scale:!1,category:"flags"},luxembourg:{keywords:["lu","flag","nation","country","banner"],char:"🇱🇺",fitzpatrick_scale:!1,category:"flags"},macau:{keywords:["macao","flag","nation","country","banner"],char:"🇲🇴",fitzpatrick_scale:!1,category:"flags"},macedonia:{keywords:["macedonia,","flag","nation","country","banner"],char:"🇲🇰",fitzpatrick_scale:!1,category:"flags"},madagascar:{keywords:["mg","flag","nation","country","banner"],char:"🇲🇬",fitzpatrick_scale:!1,category:"flags"},malawi:{keywords:["mw","flag","nation","country","banner"],char:"🇲🇼",fitzpatrick_scale:!1,category:"flags"},malaysia:{keywords:["my","flag","nation","country","banner"],char:"🇲🇾",fitzpatrick_scale:!1,category:"flags"},maldives:{keywords:["mv","flag","nation","country","banner"],char:"🇲🇻",fitzpatrick_scale:!1,category:"flags"},mali:{keywords:["ml","flag","nation","country","banner"],char:"🇲🇱",fitzpatrick_scale:!1,category:"flags"},malta:{keywords:["mt","flag","nation","country","banner"],char:"🇲🇹",fitzpatrick_scale:!1,category:"flags"},marshall_islands:{keywords:["marshall","islands","flag","nation","country","banner"],char:"🇲🇭",fitzpatrick_scale:!1,category:"flags"},martinique:{keywords:["mq","flag","nation","country","banner"],char:"🇲🇶",fitzpatrick_scale:!1,category:"flags"},mauritania:{keywords:["mr","flag","nation","country","banner"],char:"🇲🇷",fitzpatrick_scale:!1,category:"flags"},mauritius:{keywords:["mu","flag","nation","country","banner"],char:"🇲🇺",fitzpatrick_scale:!1,category:"flags"},mayotte:{keywords:["yt","flag","nation","country","banner"],char:"🇾🇹",fitzpatrick_scale:!1,category:"flags"},mexico:{keywords:["mx","flag","nation","country","banner"],char:"🇲🇽",fitzpatrick_scale:!1,category:"flags"},micronesia:{keywords:["micronesia,","federated","states","flag","nation","country","banner"],char:"🇫🇲",fitzpatrick_scale:!1,category:"flags"},moldova:{keywords:["moldova,","republic","flag","nation","country","banner"],char:"🇲🇩",fitzpatrick_scale:!1,category:"flags"},monaco:{keywords:["mc","flag","nation","country","banner"],char:"🇲🇨",fitzpatrick_scale:!1,category:"flags"},mongolia:{keywords:["mn","flag","nation","country","banner"],char:"🇲🇳",fitzpatrick_scale:!1,category:"flags"},montenegro:{keywords:["me","flag","nation","country","banner"],char:"🇲🇪",fitzpatrick_scale:!1,category:"flags"},montserrat:{keywords:["ms","flag","nation","country","banner"],char:"🇲🇸",fitzpatrick_scale:!1,category:"flags"},morocco:{keywords:["ma","flag","nation","country","banner"],char:"🇲🇦",fitzpatrick_scale:!1,category:"flags"},mozambique:{keywords:["mz","flag","nation","country","banner"],char:"🇲🇿",fitzpatrick_scale:!1,category:"flags"},myanmar:{keywords:["mm","flag","nation","country","banner"],char:"🇲🇲",fitzpatrick_scale:!1,category:"flags"},namibia:{keywords:["na","flag","nation","country","banner"],char:"🇳🇦",fitzpatrick_scale:!1,category:"flags"},nauru:{keywords:["nr","flag","nation","country","banner"],char:"🇳🇷",fitzpatrick_scale:!1,category:"flags"},nepal:{keywords:["np","flag","nation","country","banner"],char:"🇳🇵",fitzpatrick_scale:!1,category:"flags"},netherlands:{keywords:["nl","flag","nation","country","banner"],char:"🇳🇱",fitzpatrick_scale:!1,category:"flags"},new_caledonia:{keywords:["new","caledonia","flag","nation","country","banner"],char:"🇳🇨",fitzpatrick_scale:!1,category:"flags"},new_zealand:{keywords:["new","zealand","flag","nation","country","banner"],char:"🇳🇿",fitzpatrick_scale:!1,category:"flags"},nicaragua:{keywords:["ni","flag","nation","country","banner"],char:"🇳🇮",fitzpatrick_scale:!1,category:"flags"},niger:{keywords:["ne","flag","nation","country","banner"],char:"🇳🇪",fitzpatrick_scale:!1,category:"flags"},nigeria:{keywords:["flag","nation","country","banner"],char:"🇳🇬",fitzpatrick_scale:!1,category:"flags"},niue:{keywords:["nu","flag","nation","country","banner"],char:"🇳🇺",fitzpatrick_scale:!1,category:"flags"},norfolk_island:{keywords:["norfolk","island","flag","nation","country","banner"],char:"🇳🇫",fitzpatrick_scale:!1,category:"flags"},northern_mariana_islands:{keywords:["northern","mariana","islands","flag","nation","country","banner"],char:"🇲🇵",fitzpatrick_scale:!1,category:"flags"},north_korea:{keywords:["north","korea","nation","flag","country","banner"],char:"🇰🇵",fitzpatrick_scale:!1,category:"flags"},norway:{keywords:["no","flag","nation","country","banner"],char:"🇳🇴",fitzpatrick_scale:!1,category:"flags"},oman:{keywords:["om_symbol","flag","nation","country","banner"],char:"🇴🇲",fitzpatrick_scale:!1,category:"flags"},pakistan:{keywords:["pk","flag","nation","country","banner"],char:"🇵🇰",fitzpatrick_scale:!1,category:"flags"},palau:{keywords:["pw","flag","nation","country","banner"],char:"🇵🇼",fitzpatrick_scale:!1,category:"flags"},palestinian_territories:{keywords:["palestine","palestinian","territories","flag","nation","country","banner"],char:"🇵🇸",fitzpatrick_scale:!1,category:"flags"},panama:{keywords:["pa","flag","nation","country","banner"],char:"🇵🇦",fitzpatrick_scale:!1,category:"flags"},papua_new_guinea:{keywords:["papua","new","guinea","flag","nation","country","banner"],char:"🇵🇬",fitzpatrick_scale:!1,category:"flags"},paraguay:{keywords:["py","flag","nation","country","banner"],char:"🇵🇾",fitzpatrick_scale:!1,category:"flags"},peru:{keywords:["pe","flag","nation","country","banner"],char:"🇵🇪",fitzpatrick_scale:!1,category:"flags"},philippines:{keywords:["ph","flag","nation","country","banner"],char:"🇵🇭",fitzpatrick_scale:!1,category:"flags"},pitcairn_islands:{keywords:["pitcairn","flag","nation","country","banner"],char:"🇵🇳",fitzpatrick_scale:!1,category:"flags"},poland:{keywords:["pl","flag","nation","country","banner"],char:"🇵🇱",fitzpatrick_scale:!1,category:"flags"},portugal:{keywords:["pt","flag","nation","country","banner"],char:"🇵🇹",fitzpatrick_scale:!1,category:"flags"},puerto_rico:{keywords:["puerto","rico","flag","nation","country","banner"],char:"🇵🇷",fitzpatrick_scale:!1,category:"flags"},qatar:{keywords:["qa","flag","nation","country","banner"],char:"🇶🇦",fitzpatrick_scale:!1,category:"flags"},reunion:{keywords:["réunion","flag","nation","country","banner"],char:"🇷🇪",fitzpatrick_scale:!1,category:"flags"},romania:{keywords:["ro","flag","nation","country","banner"],char:"🇷🇴",fitzpatrick_scale:!1,category:"flags"},ru:{keywords:["russian","federation","flag","nation","country","banner"],char:"🇷🇺",fitzpatrick_scale:!1,category:"flags"},rwanda:{keywords:["rw","flag","nation","country","banner"],char:"🇷🇼",fitzpatrick_scale:!1,category:"flags"},st_barthelemy:{keywords:["saint","barthélemy","flag","nation","country","banner"],char:"🇧🇱",fitzpatrick_scale:!1,category:"flags"},st_helena:{keywords:["saint","helena","ascension","tristan","cunha","flag","nation","country","banner"],char:"🇸🇭",fitzpatrick_scale:!1,category:"flags"},st_kitts_nevis:{keywords:["saint","kitts","nevis","flag","nation","country","banner"],char:"🇰🇳",fitzpatrick_scale:!1,category:"flags"},st_lucia:{keywords:["saint","lucia","flag","nation","country","banner"],char:"🇱🇨",fitzpatrick_scale:!1,category:"flags"},st_pierre_miquelon:{keywords:["saint","pierre","miquelon","flag","nation","country","banner"],char:"🇵🇲",fitzpatrick_scale:!1,category:"flags"},st_vincent_grenadines:{keywords:["saint","vincent","grenadines","flag","nation","country","banner"],char:"🇻🇨",fitzpatrick_scale:!1,category:"flags"},samoa:{keywords:["ws","flag","nation","country","banner"],char:"🇼🇸",fitzpatrick_scale:!1,category:"flags"},san_marino:{keywords:["san","marino","flag","nation","country","banner"],char:"🇸🇲",fitzpatrick_scale:!1,category:"flags"},sao_tome_principe:{keywords:["sao","tome","principe","flag","nation","country","banner"],char:"🇸🇹",fitzpatrick_scale:!1,category:"flags"},saudi_arabia:{keywords:["flag","nation","country","banner"],char:"🇸🇦",fitzpatrick_scale:!1,category:"flags"},senegal:{keywords:["sn","flag","nation","country","banner"],char:"🇸🇳",fitzpatrick_scale:!1,category:"flags"},serbia:{keywords:["rs","flag","nation","country","banner"],char:"🇷🇸",fitzpatrick_scale:!1,category:"flags"},seychelles:{keywords:["sc","flag","nation","country","banner"],char:"🇸🇨",fitzpatrick_scale:!1,category:"flags"},sierra_leone:{keywords:["sierra","leone","flag","nation","country","banner"],char:"🇸🇱",fitzpatrick_scale:!1,category:"flags"},singapore:{keywords:["sg","flag","nation","country","banner"],char:"🇸🇬",fitzpatrick_scale:!1,category:"flags"},sint_maarten:{keywords:["sint","maarten","dutch","flag","nation","country","banner"],char:"🇸🇽",fitzpatrick_scale:!1,category:"flags"},slovakia:{keywords:["sk","flag","nation","country","banner"],char:"🇸🇰",fitzpatrick_scale:!1,category:"flags"},slovenia:{keywords:["si","flag","nation","country","banner"],char:"🇸🇮",fitzpatrick_scale:!1,category:"flags"},solomon_islands:{keywords:["solomon","islands","flag","nation","country","banner"],char:"🇸🇧",fitzpatrick_scale:!1,category:"flags"},somalia:{keywords:["so","flag","nation","country","banner"],char:"🇸🇴",fitzpatrick_scale:!1,category:"flags"},south_africa:{keywords:["south","africa","flag","nation","country","banner"],char:"🇿🇦",fitzpatrick_scale:!1,category:"flags"},south_georgia_south_sandwich_islands:{keywords:["south","georgia","sandwich","islands","flag","nation","country","banner"],char:"🇬🇸",fitzpatrick_scale:!1,category:"flags"},kr:{keywords:["south","korea","nation","flag","country","banner"],char:"🇰🇷",fitzpatrick_scale:!1,category:"flags"},south_sudan:{keywords:["south","sd","flag","nation","country","banner"],char:"🇸🇸",fitzpatrick_scale:!1,category:"flags"},es:{keywords:["spain","flag","nation","country","banner"],char:"🇪🇸",fitzpatrick_scale:!1,category:"flags"},sri_lanka:{keywords:["sri","lanka","flag","nation","country","banner"],char:"🇱🇰",fitzpatrick_scale:!1,category:"flags"},sudan:{keywords:["sd","flag","nation","country","banner"],char:"🇸🇩",fitzpatrick_scale:!1,category:"flags"},suriname:{keywords:["sr","flag","nation","country","banner"],char:"🇸🇷",fitzpatrick_scale:!1,category:"flags"},swaziland:{keywords:["sz","flag","nation","country","banner"],char:"🇸🇿",fitzpatrick_scale:!1,category:"flags"},sweden:{keywords:["se","flag","nation","country","banner"],char:"🇸🇪",fitzpatrick_scale:!1,category:"flags"},switzerland:{keywords:["ch","flag","nation","country","banner"],char:"🇨🇭",fitzpatrick_scale:!1,category:"flags"},syria:{keywords:["syrian","arab","republic","flag","nation","country","banner"],char:"🇸🇾",fitzpatrick_scale:!1,category:"flags"},taiwan:{keywords:["tw","flag","nation","country","banner"],char:"🇹🇼",fitzpatrick_scale:!1,category:"flags"},tajikistan:{keywords:["tj","flag","nation","country","banner"],char:"🇹🇯",fitzpatrick_scale:!1,category:"flags"},tanzania:{keywords:["tanzania,","united","republic","flag","nation","country","banner"],char:"🇹🇿",fitzpatrick_scale:!1,category:"flags"},thailand:{keywords:["th","flag","nation","country","banner"],char:"🇹🇭",fitzpatrick_scale:!1,category:"flags"},timor_leste:{keywords:["timor","leste","flag","nation","country","banner"],char:"🇹🇱",fitzpatrick_scale:!1,category:"flags"},togo:{keywords:["tg","flag","nation","country","banner"],char:"🇹🇬",fitzpatrick_scale:!1,category:"flags"},tokelau:{keywords:["tk","flag","nation","country","banner"],char:"🇹🇰",fitzpatrick_scale:!1,category:"flags"},tonga:{keywords:["to","flag","nation","country","banner"],char:"🇹🇴",fitzpatrick_scale:!1,category:"flags"},trinidad_tobago:{keywords:["trinidad","tobago","flag","nation","country","banner"],char:"🇹🇹",fitzpatrick_scale:!1,category:"flags"},tunisia:{keywords:["tn","flag","nation","country","banner"],char:"🇹🇳",fitzpatrick_scale:!1,category:"flags"},tr:{keywords:["turkey","flag","nation","country","banner"],char:"🇹🇷",fitzpatrick_scale:!1,category:"flags"},turkmenistan:{keywords:["flag","nation","country","banner"],char:"🇹🇲",fitzpatrick_scale:!1,category:"flags"},turks_caicos_islands:{keywords:["turks","caicos","islands","flag","nation","country","banner"],char:"🇹🇨",fitzpatrick_scale:!1,category:"flags"},tuvalu:{keywords:["flag","nation","country","banner"],char:"🇹🇻",fitzpatrick_scale:!1,category:"flags"},uganda:{keywords:["ug","flag","nation","country","banner"],char:"🇺🇬",fitzpatrick_scale:!1,category:"flags"},ukraine:{keywords:["ua","flag","nation","country","banner"],char:"🇺🇦",fitzpatrick_scale:!1,category:"flags"},united_arab_emirates:{keywords:["united","arab","emirates","flag","nation","country","banner"],char:"🇦🇪",fitzpatrick_scale:!1,category:"flags"},uk:{keywords:["united","kingdom","great","britain","northern","ireland","flag","nation","country","banner","british","UK","english","england","union jack"],char:"🇬🇧",fitzpatrick_scale:!1,category:"flags"},england:{keywords:["flag","english"],char:"🏴󠁧󠁢󠁥󠁮󠁧󠁿",fitzpatrick_scale:!1,category:"flags"},scotland:{keywords:["flag","scottish"],char:"🏴󠁧󠁢󠁳󠁣󠁴󠁿",fitzpatrick_scale:!1,category:"flags"},wales:{keywords:["flag","welsh"],char:"🏴󠁧󠁢󠁷󠁬󠁳󠁿",fitzpatrick_scale:!1,category:"flags"},us:{keywords:["united","states","america","flag","nation","country","banner"],char:"🇺🇸",fitzpatrick_scale:!1,category:"flags"},us_virgin_islands:{keywords:["virgin","islands","us","flag","nation","country","banner"],char:"🇻🇮",fitzpatrick_scale:!1,category:"flags"},uruguay:{keywords:["uy","flag","nation","country","banner"],char:"🇺🇾",fitzpatrick_scale:!1,category:"flags"},uzbekistan:{keywords:["uz","flag","nation","country","banner"],char:"🇺🇿",fitzpatrick_scale:!1,category:"flags"},vanuatu:{keywords:["vu","flag","nation","country","banner"],char:"🇻🇺",fitzpatrick_scale:!1,category:"flags"},vatican_city:{keywords:["vatican","city","flag","nation","country","banner"],char:"🇻🇦",fitzpatrick_scale:!1,category:"flags"},venezuela:{keywords:["ve","bolivarian","republic","flag","nation","country","banner"],char:"🇻🇪",fitzpatrick_scale:!1,category:"flags"},vietnam:{keywords:["viet","nam","flag","nation","country","banner"],char:"🇻🇳",fitzpatrick_scale:!1,category:"flags"},wallis_futuna:{keywords:["wallis","futuna","flag","nation","country","banner"],char:"🇼🇫",fitzpatrick_scale:!1,category:"flags"},western_sahara:{keywords:["western","sahara","flag","nation","country","banner"],char:"🇪🇭",fitzpatrick_scale:!1,category:"flags"},yemen:{keywords:["ye","flag","nation","country","banner"],char:"🇾🇪",fitzpatrick_scale:!1,category:"flags"},zambia:{keywords:["zm","flag","nation","country","banner"],char:"🇿🇲",fitzpatrick_scale:!1,category:"flags"},zimbabwe:{keywords:["zw","flag","nation","country","banner"],char:"🇿🇼",fitzpatrick_scale:!1,category:"flags"},united_nations:{keywords:["un","flag","banner"],char:"🇺🇳",fitzpatrick_scale:!1,category:"flags"},pirate_flag:{keywords:["skull","crossbones","flag","banner"],char:"🏴‍☠️",fitzpatrick_scale:!1,category:"flags"}});var pF={},gF={},hF;function kq(){return hF||(hF=1,function(){var kn=tinymce.util.Tools.resolve("tinymce.PluginManager");const ur=(q,ce,_e)=>{var Ve;return _e(q,ce.prototype)?!0:((Ve=q.constructor)===null||Ve===void 0?void 0:Ve.name)===ce.name},Vr=q=>{const ce=typeof q;return q===null?"null":ce==="object"&&Array.isArray(q)?"array":ce==="object"&&ur(q,String,(_e,Ve)=>Ve.isPrototypeOf(_e))?"string":ce},$r=q=>ce=>Vr(ce)===q,fr=q=>ce=>typeof ce===q,xo=q=>ce=>q===ce,rr=$r("string"),jn=$r("object"),Po=$r("array"),En=xo(null),Un=fr("boolean"),ar=q=>q==null,An=q=>!ar(q),Bt=fr("function"),Ut=(q,ce)=>{if(Po(q)){for(let _e=0,Ve=q.length;_e<Ve;++_e)if(!ce(q[_e]))return!1;return!0}return!1},Lo=()=>{},sr=q=>()=>q,rt=(q,ce)=>q===ce;class ut{constructor(ce,_e){this.tag=ce,this.value=_e}static some(ce){return new ut(!0,ce)}static none(){return ut.singletonNone}fold(ce,_e){return this.tag?_e(this.value):ce()}isSome(){return this.tag}isNone(){return!this.tag}map(ce){return this.tag?ut.some(ce(this.value)):ut.none()}bind(ce){return this.tag?ce(this.value):ut.none()}exists(ce){return this.tag&&ce(this.value)}forall(ce){return!this.tag||ce(this.value)}filter(ce){return!this.tag||ce(this.value)?this:ut.none()}getOr(ce){return this.tag?this.value:ce}or(ce){return this.tag?this:ce}getOrThunk(ce){return this.tag?this.value:ce()}orThunk(ce){return this.tag?this:ce()}getOrDie(ce){if(this.tag)return this.value;throw new Error(ce??"Called getOrDie on None")}static from(ce){return An(ce)?ut.some(ce):ut.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(ce){this.tag&&ce(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ut.singletonNone=new ut(!1);const pt=Array.prototype.indexOf,le=Array.prototype.push,Tt=(q,ce)=>pt.call(q,ce),ve=(q,ce)=>Tt(q,ce)>-1,lt=(q,ce)=>{const _e=q.length,Ve=new Array(_e);for(let ft=0;ft<_e;ft++){const Vt=q[ft];Ve[ft]=ce(Vt,ft)}return Ve},jr=(q,ce)=>{for(let _e=0,Ve=q.length;_e<Ve;_e++){const ft=q[_e];ce(ft,_e)}},Xn=(q,ce,_e)=>(jr(q,(Ve,ft)=>{_e=ce(_e,Ve,ft)}),_e),Ro=q=>{const ce=[];for(let _e=0,Ve=q.length;_e<Ve;++_e){if(!Po(q[_e]))throw new Error("Arr.flatten item "+_e+" was not an array, input: "+q);le.apply(ce,q[_e])}return ce},Le=(q,ce)=>Ro(lt(q,ce)),It=(q,ce)=>{for(let _e=0;_e<q.length;_e++){const Ve=ce(q[_e],_e);if(Ve.isSome())return Ve}return ut.none()},T=(q,ce,_e=rt)=>q.exists(Ve=>_e(Ve,ce)),ko=q=>{const ce=[],_e=Ve=>{ce.push(Ve)};for(let Ve=0;Ve<q.length;Ve++)q[Ve].each(_e);return ce},Qt=(q,ce)=>q?ut.some(ce):ut.none(),Oo=q=>ce=>ce.options.get(q),_r=q=>{const ce=q.options.register;ce("link_assume_external_targets",{processor:_e=>{const Ve=rr(_e)||Un(_e);return Ve?_e===!0?{value:1,valid:Ve}:_e==="http"||_e==="https"?{value:_e,valid:Ve}:{value:0,valid:Ve}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),ce("link_context_toolbar",{processor:"boolean",default:!1}),ce("link_list",{processor:_e=>rr(_e)||Bt(_e)||Ut(_e,jn)}),ce("link_default_target",{processor:"string"}),ce("link_default_protocol",{processor:"string",default:"https"}),ce("link_target_list",{processor:_e=>Un(_e)||Ut(_e,jn),default:!0}),ce("link_rel_list",{processor:"object[]",default:[]}),ce("link_class_list",{processor:"object[]",default:[]}),ce("link_title",{processor:"boolean",default:!0}),ce("allow_unsafe_link_target",{processor:"boolean",default:!1}),ce("link_quicklink",{processor:"boolean",default:!1}),ce("link_attributes_postprocess",{processor:"function"})},Ce=Oo("link_assume_external_targets"),zt=Oo("link_context_toolbar"),tn=Oo("link_list"),xt=Oo("link_default_target"),Qe=Oo("link_default_protocol"),Ot=Oo("link_target_list"),Yr=Oo("link_rel_list"),gn=Oo("link_class_list"),an=Oo("link_title"),Co=Oo("allow_unsafe_link_target"),V=Oo("link_quicklink"),la=Oo("link_attributes_postprocess"),Nn=Object.keys,hn=Object.hasOwnProperty,xi=(q,ce)=>{const _e=Nn(q);for(let Ve=0,ft=_e.length;Ve<ft;Ve++){const Vt=_e[Ve],Nt=q[Vt];ce(Nt,Vt)}},Al=q=>(ce,_e)=>{q[_e]=ce},Wo=(q,ce,_e,Ve)=>{xi(q,(ft,Vt)=>{(ce(ft,Vt)?_e:Ve)(ft,Vt)})},zn=(q,ce)=>{const _e={};return Wo(q,ce,Al(_e),Lo),_e},$o=(q,ce)=>hn.call(q,ce),Ne=(q,ce)=>$o(q,ce)&&q[ce]!==void 0&&q[ce]!==null;var wt=tinymce.util.Tools.resolve("tinymce.util.URI"),st=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Ye=tinymce.util.Tools.resolve("tinymce.util.Tools");const to=q=>An(q)&&q.nodeName.toLowerCase()==="a",mo=q=>to(q)&&!!Jn(q),Fo=(q,ce)=>{if(q.collapsed)return[];{const _e=q.cloneContents(),Ve=_e.firstChild,ft=new st(Ve,_e),Vt=[];let Nt=Ve;do ce(Nt)&&Vt.push(Nt);while(Nt=ft.next());return Vt}},Sn=q=>/^\w+:/i.test(q),Jn=q=>{var ce,_e;return(_e=(ce=q.getAttribute("data-mce-href"))!==null&&ce!==void 0?ce:q.getAttribute("href"))!==null&&_e!==void 0?_e:""},Tn=(q,ce)=>{const _e=["noopener"],Ve=q?q.split(/\s+/):[],ft=on=>Ye.trim(on.sort().join(" ")),Vt=on=>(on=Nt(on),on.length>0?on.concat(_e):_e),Nt=on=>on.filter(P=>Ye.inArray(_e,P)===-1),kr=ce?Vt(Ve):Nt(Ve);return kr.length>0?ft(kr):""},Mn=q=>q.replace(/\uFEFF/g,""),wr=(q,ce)=>(ce=ce||Rr(q.selection.getRng())[0]||q.selection.getNode(),Mo(ce)?ut.from(q.dom.select("a[href]",ce)[0]):ut.from(q.dom.getParent(ce,"a[href]"))),Os=(q,ce)=>wr(q,ce).isSome(),Fn=(q,ce)=>{const _e=ce.fold(()=>q.getContent({format:"text"}),Ve=>Ve.innerText||Ve.textContent||"");return Mn(_e)},Rr=q=>Fo(q,mo),jo=q=>Ye.grep(q,mo),Ds=q=>jo(q).length>0,mt=q=>Rr(q).length>0,io=q=>{const ce=q.schema.getTextInlineElements(),_e=Vt=>Vt.nodeType===1&&!to(Vt)&&!$o(ce,Vt.nodeName.toLowerCase());if(wr(q).exists(Vt=>Vt.hasAttribute("data-mce-block")))return!1;const ft=q.selection.getRng();return ft.collapsed?!0:Fo(ft,_e).length===0},Mo=q=>An(q)&&q.nodeName==="FIGURE"&&/\bimage\b/i.test(q.className),Rs=q=>Xn(["title","rel","class","target"],(_e,Ve)=>(q[Ve].each(ft=>{_e[Ve]=ft.length>0?ft:null}),_e),{href:q.href}),$a=(q,ce)=>(ce==="http"||ce==="https")&&!Sn(q)?ce+"://"+q:q,Je=(q,ce)=>{const _e={...ce};if(Yr(q).length===0&&!Co(q)){const Ve=Tn(_e.rel,_e.target==="_blank");_e.rel=Ve||null}return ut.from(_e.target).isNone()&&Ot(q)===!1&&(_e.target=xt(q)),_e.href=$a(_e.href,Ce(q)),_e},Ta=(q,ce,_e,Ve)=>{_e.each(Vt=>{$o(ce,"innerText")?ce.innerText=Vt:ce.textContent=Vt}),q.dom.setAttribs(ce,Ve);const ft=q.dom.createRng();ft.setStartAfter(ce),ft.setEndAfter(ce),q.selection.setRng(ft)},To=(q,ce,_e,Ve)=>{const ft=q.dom;Mo(ce)?Bn(ft,ce,Ve):_e.fold(()=>{q.execCommand("mceInsertLink",!1,Ve);const Vt=q.selection.getEnd(),Nt=ft.createRng();Nt.setStartAfter(Vt),Nt.setEndAfter(Vt),q.selection.setRng(Nt)},Vt=>{q.insertContent(ft.createHTML("a",Ve,ft.encode(Vt)))})},ki=(q,ce,_e)=>{const Ve=q.selection.getNode(),ft=wr(q,Ve),Vt=Je(q,Rs(_e)),Nt=la(q);An(Nt)&&Nt(Vt),q.undoManager.transact(()=>{_e.href===ce.href&&ce.attach(),ft.fold(()=>{To(q,Ve,_e.text,Vt)},kr=>{q.focus(),Ta(q,kr,_e.text,Vt)})})},Zn=q=>{const ce=q.dom,_e=q.selection,Ve=_e.getBookmark(),ft=_e.getRng().cloneRange(),Vt=ce.getParent(ft.startContainer,"a[href]",q.getBody()),Nt=ce.getParent(ft.endContainer,"a[href]",q.getBody());Vt&&ft.setStartBefore(Vt),Nt&&ft.setEndAfter(Nt),_e.setRng(ft),q.execCommand("unlink"),_e.moveToBookmark(Ve)},ms=q=>{q.undoManager.transact(()=>{const ce=q.selection.getNode();Mo(ce)?el(q,ce):Zn(q),q.focus()})},Ji=q=>{const{class:ce,href:_e,rel:Ve,target:ft,text:Vt,title:Nt}=q;return zn({class:ce.getOrNull(),href:_e,rel:Ve.getOrNull(),target:ft.getOrNull(),text:Vt.getOrNull(),title:Nt.getOrNull()},(kr,on)=>En(kr)===!1)},Qi=(q,ce)=>{const _e=q.options.get,Ve={allow_html_data_urls:_e("allow_html_data_urls"),allow_script_urls:_e("allow_script_urls"),allow_svg_data_urls:_e("allow_svg_data_urls")},ft=ce.href;return{...ce,href:wt.isDomSafe(ft,"a",Ve)?ft:""}},_i=(q,ce,_e)=>{const Ve=Qi(q,_e);q.hasPlugin("rtc",!0)?q.execCommand("createlink",!1,Ji(Ve)):ki(q,ce,Ve)},ca=q=>{q.hasPlugin("rtc",!0)?q.execCommand("unlink"):ms(q)},el=(q,ce)=>{var _e;const Ve=q.dom.select("img",ce)[0];if(Ve){const ft=q.dom.getParents(Ve,"a[href]",ce)[0];ft&&((_e=ft.parentNode)===null||_e===void 0||_e.insertBefore(Ve,ft),q.dom.remove(ft))}},Bn=(q,ce,_e)=>{var Ve;const ft=q.select("img",ce)[0];if(ft){const Vt=q.create("a",_e);(Ve=ft.parentNode)===null||Ve===void 0||Ve.insertBefore(Vt,ft),Vt.appendChild(ft)}},go=q=>rr(q.value)?q.value:"",Oa=q=>rr(q.text)?q.text:rr(q.title)?q.title:"",vs=(q,ce)=>{const _e=[];return Ye.each(q,Ve=>{const ft=Oa(Ve);if(Ve.menu!==void 0){const Vt=vs(Ve.menu,ce);_e.push({text:ft,items:Vt})}else{const Vt=ce(Ve);_e.push({text:ft,value:Vt})}}),_e},Xl=(q=go)=>ce=>ut.from(ce).map(_e=>vs(_e,q)),Da={sanitize:q=>Xl(go)(q),sanitizeWith:Xl,createUi:(q,ce)=>_e=>({name:q,type:"listbox",label:ce,items:_e}),getValue:go},Cr=q=>Ne(q,"items"),Ic=(q,ce)=>It(ce,_e=>Cr(_e)?Ic(q,_e.items):Qt(_e.value===q,_e)),da=(q,ce,_e,Ve)=>{const ft=Ve[ce],Vt=q.length>0;return ft!==void 0?Ic(ft,_e).map(Nt=>({url:{value:Nt.value,meta:{text:Vt?q:Nt.text,attach:Lo}},text:Vt?q:Nt.text})):ut.none()},ps=(q,ce)=>ce==="link"?q.link:ce==="anchor"?q.anchor:ut.none(),mr={init:(q,ce)=>{const _e={text:q.text,title:q.title},Ve=on=>{var P;return Qt(_e.title.length<=0,ut.from((P=on.meta)===null||P===void 0?void 0:P.title).getOr(""))},ft=on=>{var P;return Qt(_e.text.length<=0,ut.from((P=on.meta)===null||P===void 0?void 0:P.text).getOr(on.value))},Vt=on=>{const P=ft(on.url),Y=Ve(on.url);return P.isSome()||Y.isSome()?ut.some({...P.map(pe=>({text:pe})).getOr({}),...Y.map(pe=>({title:pe})).getOr({})}):ut.none()},Nt=(on,P)=>{const Y=ps(ce,P).getOr([]);return da(_e.text,P,Y,on)};return{onChange:(on,P)=>{const Y=P.name;return Y==="url"?Vt(on()):ve(["anchor","link"],Y)?Nt(on(),Y):((Y==="text"||Y==="title")&&(_e[Y]=on()[Y]),ut.none())}}},getDelta:da};var ks=tinymce.util.Tools.resolve("tinymce.util.Delay");const Ra=(q,ce,_e)=>{const Ve=q.selection.getRng();ks.setEditorTimeout(q,()=>{q.windowManager.confirm(ce,ft=>{q.selection.setRng(Ve),_e(ft)})})},zl=q=>{const ce=q.href;return ce.indexOf("@")>0&&ce.indexOf("/")===-1&&ce.indexOf("mailto:")===-1?ut.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:Ve=>({...Ve,href:"mailto:"+ce})}):ut.none()},Ni=(q,ce)=>_e=>{const Ve=_e.href;return q===1&&!Sn(Ve)||q===0&&/^\s*www(\.|\d\.)/i.test(Ve)?ut.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${ce}:// prefix?`,preprocess:Vt=>({...Vt,href:ce+"://"+Ve})}):ut.none()},Pc={preprocess:(q,ce)=>It([zl,Ni(Ce(q),Qe(q))],_e=>_e(ce)).fold(()=>Promise.resolve(ce),_e=>new Promise(Ve=>{Ra(q,_e.message,ft=>{Ve(ft?_e.preprocess(ce):ce)})}))},ln={getAnchors:q=>{const ce=q.dom.select("a:not([href])"),_e=Le(ce,Ve=>{const ft=Ve.name||Ve.id;return ft?[{text:ft,value:"#"+ft}]:[]});return _e.length>0?ut.some([{text:"None",value:""}].concat(_e)):ut.none()}},ua={getClasses:q=>{const ce=gn(q);return ce.length>0?Da.sanitize(ce):ut.none()}},Fc=q=>{try{return ut.some(JSON.parse(q))}catch{return ut.none()}},gd={getLinks:q=>{const ce=Ve=>q.convertURL(Ve.value||Ve.url||"","href"),_e=tn(q);return new Promise(Ve=>{rr(_e)?fetch(_e).then(ft=>ft.ok?ft.text().then(Fc):Promise.reject()).then(Ve,()=>Ve(ut.none())):Bt(_e)?_e(ft=>Ve(ut.some(ft))):Ve(ut.from(_e))}).then(Ve=>Ve.bind(Da.sanitizeWith(ce)).map(ft=>ft.length>0?[{text:"None",value:""}].concat(ft):ft))}},Na={getRels:(q,ce)=>{const _e=Yr(q);if(_e.length>0){const Ve=T(ce,"_blank"),ft=Co(q)===!1,Vt=kr=>Tn(Da.getValue(kr),Ve);return(ft?Da.sanitizeWith(Vt):Da.sanitize)(_e)}return ut.none()}},ai=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],ir={getTargets:q=>{const ce=Ot(q);return Po(ce)?Da.sanitize(ce).orThunk(()=>ut.some(ai)):ce===!1?ut.none():ut.some(ai)}},wi=(q,ce,_e)=>{const Ve=q.getAttrib(ce,_e);return Ve!==null&&Ve.length>0?ut.some(Ve):ut.none()},Ma=(q,ce)=>{const _e=q.dom,ft=io(q)?ut.some(Fn(q.selection,ce)):ut.none(),Vt=ce.bind(Y=>ut.from(_e.getAttrib(Y,"href"))),Nt=ce.bind(Y=>ut.from(_e.getAttrib(Y,"target"))),kr=ce.bind(Y=>wi(_e,Y,"rel")),on=ce.bind(Y=>wi(_e,Y,"class")),P=ce.bind(Y=>wi(_e,Y,"title"));return{url:Vt,text:ft,title:P,target:Nt,rel:kr,linkClass:on}},Mi={collect:(q,ce)=>gd.getLinks(q).then(_e=>{const Ve=Ma(q,ce);return{anchor:Ve,catalogs:{targets:ir.getTargets(q),rels:Na.getRels(q,Ve.target),classes:ua.getClasses(q),anchor:ln.getAnchors(q),link:_e},optNode:ce,flags:{titleEnabled:an(q)}}})},ss=(q,ce)=>_e=>{const Ve=_e.getData();if(!Ve.url.value){ca(q),_e.close();return}const ft=kr=>ut.from(Ve[kr]).filter(on=>!T(ce.anchor[kr],on)),Vt={href:Ve.url.value,text:ft("text"),target:ft("target"),rel:ft("rel"),class:ft("linkClass"),title:ft("title")},Nt={href:Ve.url.value,attach:Ve.url.meta!==void 0&&Ve.url.meta.attach?Ve.url.meta.attach:Lo};Pc.preprocess(q,Vt).then(kr=>{_i(q,Nt,kr)}),_e.close()},gr=q=>{const ce=wr(q);return Mi.collect(q,ce)},Ci=(q,ce)=>{const _e=q.anchor,Ve=_e.url.getOr("");return{url:{value:Ve,meta:{original:{value:Ve}}},text:_e.text.getOr(""),title:_e.title.getOr(""),anchor:Ve,link:Ve,rel:_e.rel.getOr(""),target:_e.target.or(ce).getOr(""),linkClass:_e.linkClass.getOr("")}},ts=(q,ce,_e)=>{const Ve=[{name:"url",type:"urlinput",filetype:"file",label:"URL",picker_text:"Browse links"}],ft=q.anchor.text.map(()=>({name:"text",type:"input",label:"Text to display"})).toArray(),Vt=q.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],Nt=ut.from(xt(_e)),kr=Ci(q,Nt),on=q.catalogs,P=mr.init(kr,on);return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:Ro([Ve,ft,Vt,ko([on.anchor.map(Da.createUi("anchor","Anchors")),on.rels.map(Da.createUi("rel","Rel")),on.targets.map(Da.createUi("target","Open link in...")),on.link.map(Da.createUi("link","Link list")),on.classes.map(Da.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:kr,onChange:(pe,{name:De})=>{P.onChange(pe.getData,{name:De}).each(Zt=>{pe.setData(Zt)})},onSubmit:ce}},Qn=q=>{gr(q).then(_e=>{const Ve=ss(q,_e);return ts(_e,Ve,q)}).then(_e=>{q.windowManager.open(_e)})},fa=q=>{q.addCommand("mceLink",(ce,_e)=>{(_e==null?void 0:_e.dialog)===!0||!V(q)?Qn(q):q.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"})})},ja=q=>{q.addShortcut("Meta+K","",()=>{q.execCommand("mceLink")})},Hc=q=>{let ce=q;return{get:()=>ce,set:ft=>{ce=ft}}},po=q=>{const ce=Hc(ut.none()),_e=()=>ce.get().each(q);return{clear:()=>{_e(),ce.set(ut.none())},isSet:()=>ce.get().isSome(),get:()=>ce.get(),set:kr=>{_e(),ce.set(ut.some(kr))}}},hs=()=>{const q=po(Lo);return{...q,on:_e=>q.get().each(_e)}},as=(q,ce)=>q.substring(ce),os=(q,ce,_e)=>ce===""||q.length>=ce.length&&q.substr(_e,_e+ce.length)===ce,hd=(q,ce)=>Sr(q,ce)?as(q,ce.length):q,Sr=(q,ce)=>os(q,ce,0);var sl=tinymce.util.Tools.resolve("tinymce.util.VK");const al=(q,ce)=>{document.body.appendChild(q),q.dispatchEvent(ce),document.body.removeChild(q)},Gt=q=>{const ce=document.createElement("a");ce.target="_blank",ce.href=q,ce.rel="noreferrer noopener";const _e=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});document.dispatchEvent(_e),al(ce,_e)},Ua=q=>q.altKey===!0&&q.shiftKey===!1&&q.ctrlKey===!1&&q.metaKey===!1,ii=(q,ce)=>{if(ce){const _e=Jn(ce);if(/^#/.test(_e)){const Ve=q.dom.select(`${_e},[name="${hd(_e,"#")}"]`);Ve.length&&q.selection.scrollIntoView(Ve[0],!0)}else Gt(ce.href)}},Ns=q=>{const ce=q.selection.getRng(),_e=ce.startContainer;return mo(_e)&&ce.startContainer===ce.endContainer&&q.dom.select("img",_e).length===1},Jl=(q,ce)=>{const _e=jo(q.dom.getParents(ce));return Qt(_e.length===1,_e[0])},hr=q=>{const ce=Rr(q.selection.getRng());return Qt(ce.length>0,ce[0]).or(Jl(q,q.selection.getNode()))},Si=q=>q.selection.isCollapsed()||Ns(q)?Jl(q,q.selection.getStart()):hr(q),li=q=>{const ce=hs(),_e=()=>ce.get().or(Si(q)),Ve=()=>_e().each(ft=>ii(q,ft));return q.on("contextmenu",ft=>{Jl(q,ft.target).each(ce.set)}),q.on("SelectionChange",()=>{ce.isSet()||Si(q).each(ce.set)}),q.on("click",ft=>{ce.clear();const Vt=jo(q.dom.getParents(ft.target));Vt.length===1&&sl.metaKeyPressed(ft)&&(ft.preventDefault(),ii(q,Vt[0]))}),q.on("keydown",ft=>{ce.clear(),!ft.isDefaultPrevented()&&ft.keyCode===13&&Ua(ft)&&_e().each(Vt=>{ft.preventDefault(),ii(q,Vt)})}),{gotoSelectedLink:Ve}},Yo=q=>()=>{q.execCommand("mceLink",!1,{dialog:!0})},tl=(q,ce)=>(q.on("NodeChange",ce),()=>q.off("NodeChange",ce)),il=q=>ce=>{const _e=()=>{ce.setActive(!q.mode.isReadOnly()&&Os(q,q.selection.getNode())),ce.setEnabled(q.selection.isEditable())};return _e(),tl(q,_e)},Vc=q=>ce=>{const _e=()=>{ce.setEnabled(q.selection.isEditable())};return _e(),tl(q,_e)},xr=q=>ce=>{const _e=Vt=>Ds(Vt)||mt(q.selection.getRng()),Ve=q.dom.getParents(q.selection.getStart()),ft=Vt=>{ce.setEnabled(_e(Vt)&&q.selection.isEditable())};return ft(Ve),tl(q,Vt=>ft(Vt.parents))},_a=(q,ce)=>{q.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",shortcut:"Meta+K",onAction:Yo(q),onSetup:il(q)}),q.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:ce.gotoSelectedLink,onSetup:xr(q)}),q.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>ca(q),onSetup:xr(q)})},Kd=(q,ce)=>{q.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:ce.gotoSelectedLink,onSetup:xr(q)}),q.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:Yo(q),onSetup:Vc(q)}),q.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>ca(q),onSetup:xr(q)})},On=q=>{const ce="link unlink openlink",_e="link";q.ui.registry.addContextMenu("link",{update:Ve=>q.dom.isEditable(Ve)?Ds(q.dom.getParents(Ve,"a"))?ce:_e:""})},Tl=(q,ce)=>{const _e=Vt=>{Vt.selection.collapse(!1)},Ve=Vt=>{const Nt=q.selection.getNode();return Vt.setEnabled(Os(q,Nt)&&q.selection.isEditable()),Lo},ft=Vt=>{const Nt=wr(q),kr=io(q);if(Nt.isNone()&&kr){const on=Fn(q.selection,Nt);return Qt(on.length===0,Vt)}else return ut.none()};q.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:il(q)},label:"Link",predicate:Vt=>zt(q)&&Os(q,Vt),initValue:()=>wr(q).fold(sr(""),Jn),commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:Vt=>{const Nt=q.selection.getNode();return Vt.setActive(Os(q,Nt)),il(q)(Vt)},onAction:Vt=>{const Nt=Vt.getValue(),kr=ft(Nt);_i(q,{href:Nt,attach:Lo},{href:Nt,text:kr,title:ut.none(),rel:ut.none(),target:ut.from(xt(q)),class:ut.none()}),_e(q),Vt.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:Ve,onAction:Vt=>{ca(q),Vt.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:Ve,onAction:Vt=>{ce.gotoSelectedLink(),Vt.hide()}}]})},Ur=q=>{const ce=li(q);_a(q,ce),Kd(q,ce),On(q),Tl(q,ce)};var Ms=()=>{kn.add("link",q=>{_r(q),fa(q),Ur(q),ja(q)})};Ms()}()),gF}var bF;function _q(){return bF||(bF=1,kq()),pF}_q();var yF={},vF={},xF;function wq(){return xF||(xF=1,function(){var kn=tinymce.util.Tools.resolve("tinymce.PluginManager");const ur=(C,M,j)=>{var ue;return j(C,M.prototype)?!0:((ue=C.constructor)===null||ue===void 0?void 0:ue.name)===M.name},Vr=C=>{const M=typeof C;return C===null?"null":M==="object"&&Array.isArray(C)?"array":M==="object"&&ur(C,String,(j,ue)=>ue.isPrototypeOf(j))?"string":M},$r=C=>M=>Vr(M)===C,fr=C=>M=>typeof M===C,xo=$r("string"),rr=$r("object"),jn=$r("array"),Po=fr("boolean"),En=C=>C==null,Un=C=>!En(C),ar=fr("function"),An=fr("number"),Bt=()=>{},Ut=(C,M)=>j=>C(M(j)),Lo=C=>()=>C,sr=(C,M)=>C===M;function rt(C,...M){return(...j)=>{const ue=M.concat(j);return C.apply(null,ue)}}const ut=C=>M=>!C(M),pt=Lo(!1);class le{constructor(M,j){this.tag=M,this.value=j}static some(M){return new le(!0,M)}static none(){return le.singletonNone}fold(M,j){return this.tag?j(this.value):M()}isSome(){return this.tag}isNone(){return!this.tag}map(M){return this.tag?le.some(M(this.value)):le.none()}bind(M){return this.tag?M(this.value):le.none()}exists(M){return this.tag&&M(this.value)}forall(M){return!this.tag||M(this.value)}filter(M){return!this.tag||M(this.value)?this:le.none()}getOr(M){return this.tag?this.value:M}or(M){return this.tag?this:M}getOrThunk(M){return this.tag?this.value:M()}orThunk(M){return this.tag?this:M()}getOrDie(M){if(this.tag)return this.value;throw new Error(M??"Called getOrDie on None")}static from(M){return Un(M)?le.some(M):le.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(M){this.tag&&M(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}le.singletonNone=new le(!1);const Tt=Array.prototype.slice,ve=Array.prototype.indexOf,lt=Array.prototype.push,jr=(C,M)=>ve.call(C,M),Xn=(C,M)=>jr(C,M)>-1,Ro=(C,M)=>{for(let j=0,ue=C.length;j<ue;j++){const ge=C[j];if(M(ge,j))return!0}return!1},Le=(C,M)=>{const j=C.length,ue=new Array(j);for(let ge=0;ge<j;ge++){const ot=C[ge];ue[ge]=M(ot,ge)}return ue},It=(C,M)=>{for(let j=0,ue=C.length;j<ue;j++){const ge=C[j];M(ge,j)}},T=(C,M)=>{const j=[];for(let ue=0,ge=C.length;ue<ge;ue++){const ot=C[ue];M(ot,ue)&&j.push(ot)}return j},ko=(C,M)=>{if(C.length===0)return[];{let j=M(C[0]);const ue=[];let ge=[];for(let ot=0,no=C.length;ot<no;ot++){const Bo=C[ot],bo=M(Bo);bo!==j&&(ue.push(ge),ge=[]),j=bo,ge.push(Bo)}return ge.length!==0&&ue.push(ge),ue}},Qt=(C,M,j)=>(It(C,(ue,ge)=>{j=M(j,ue,ge)}),j),Oo=(C,M,j)=>{for(let ue=0,ge=C.length;ue<ge;ue++){const ot=C[ue];if(M(ot,ue))return le.some(ot);if(j(ot,ue))break}return le.none()},_r=(C,M)=>Oo(C,M,pt),Ce=C=>{const M=[];for(let j=0,ue=C.length;j<ue;++j){if(!jn(C[j]))throw new Error("Arr.flatten item "+j+" was not an array, input: "+C);lt.apply(M,C[j])}return M},zt=(C,M)=>Ce(Le(C,M)),tn=C=>{const M=Tt.call(C,0);return M.reverse(),M},xt=(C,M)=>M>=0&&M<C.length?le.some(C[M]):le.none(),Qe=C=>xt(C,0),Ot=C=>xt(C,C.length-1),Yr=(C,M)=>{const j=[],ue=ar(M)?ge=>Ro(j,ot=>M(ot,ge)):ge=>Xn(j,ge);for(let ge=0,ot=C.length;ge<ot;ge++){const no=C[ge];ue(no)||j.push(no)}return j},gn=(C,M,j=sr)=>C.exists(ue=>j(ue,M)),an=(C,M,j=sr)=>Co(C,M,j).getOr(C.isNone()&&M.isNone()),Co=(C,M,j)=>C.isSome()&&M.isSome()?le.some(j(C.getOrDie(),M.getOrDie())):le.none(),V=8,la=11,Nn=1,hn=3,xi=(C,M)=>{const ue=(M||document).createElement("div");if(ue.innerHTML=C,!ue.hasChildNodes()||ue.childNodes.length>1){const ge="HTML does not have a single root node";throw console.error(ge,C),new Error(ge)}return zn(ue.childNodes[0])},Al=(C,M)=>{const ue=(M||document).createElement(C);return zn(ue)},Wo=(C,M)=>{const ue=(M||document).createTextNode(C);return zn(ue)},zn=C=>{if(C==null)throw new Error("Node cannot be null or undefined");return{dom:C}},Ne={fromHtml:xi,fromTag:Al,fromText:Wo,fromDom:zn,fromPoint:(C,M,j)=>le.from(C.dom.elementFromPoint(M,j)).map(zn)},wt=(C,M)=>{const j=C.dom;if(j.nodeType!==Nn)return!1;{const ue=j;if(ue.matches!==void 0)return ue.matches(M);if(ue.msMatchesSelector!==void 0)return ue.msMatchesSelector(M);if(ue.webkitMatchesSelector!==void 0)return ue.webkitMatchesSelector(M);if(ue.mozMatchesSelector!==void 0)return ue.mozMatchesSelector(M);throw new Error("Browser lacks native selectors")}},st=(C,M)=>C.dom===M.dom,Ye=(C,M)=>{const j=C.dom,ue=M.dom;return j===ue?!1:j.contains(ue)},to=wt,mo=typeof window<"u"?window:Function("return this;")(),Fo=(C,M)=>{let j=M??mo;for(let ue=0;ue<C.length&&j!==void 0&&j!==null;++ue)j=j[C[ue]];return j},Sn=(C,M)=>{const j=C.split(".");return Fo(j,M)},Jn=(C,M)=>Sn(C,M),Tn=(C,M)=>{const j=Jn(C,M);if(j==null)throw new Error(C+" not available on this browser");return j},Mn=Object.getPrototypeOf,wr=C=>Tn("HTMLElement",C),Os=C=>{const M=Sn("ownerDocument.defaultView",C);return rr(C)&&(wr(M).prototype.isPrototypeOf(C)||/^HTML\w*Element$/.test(Mn(C).constructor.name))},Fn=C=>C.dom.nodeName.toLowerCase(),Rr=C=>C.dom.nodeType,jo=C=>M=>Rr(M)===C,Ds=C=>Rr(C)===V||Fn(C)==="#comment",mt=C=>io(C)&&Os(C.dom),io=jo(Nn),Mo=jo(hn),Rs=jo(la),$a=C=>M=>io(M)&&Fn(M)===C,Je=C=>le.from(C.dom.parentNode).map(Ne.fromDom),Ta=C=>le.from(C.dom.parentElement).map(Ne.fromDom),To=C=>le.from(C.dom.nextSibling).map(Ne.fromDom),ki=C=>Le(C.dom.childNodes,Ne.fromDom),Zn=(C,M)=>{const j=C.dom.childNodes;return le.from(j[M]).map(Ne.fromDom)},ms=C=>Zn(C,0),Ji=C=>Zn(C,C.dom.childNodes.length-1),Qi=C=>Rs(C)&&Un(C.dom.host),_i=C=>Ne.fromDom(C.dom.getRootNode()),ca=C=>{const M=_i(C);return Qi(M)?le.some(M):le.none()},el=C=>Ne.fromDom(C.dom.host),Bn=C=>{const M=Mo(C)?C.dom.parentNode:C.dom;if(M==null||M.ownerDocument===null)return!1;const j=M.ownerDocument;return ca(Ne.fromDom(M)).fold(()=>j.body.contains(M),Ut(Bn,el))};var go=(C,M,j,ue,ge)=>C(j,ue)?le.some(j):ar(ge)&&ge(j)?le.none():M(j,ue,ge);const Oa=(C,M,j)=>{let ue=C.dom;const ge=ar(j)?j:pt;for(;ue.parentNode;){ue=ue.parentNode;const ot=Ne.fromDom(ue);if(M(ot))return le.some(ot);if(ge(ot))break}return le.none()},vs=(C,M,j)=>go((ge,ot)=>ot(ge),Oa,C,M,j),Xl=(C,M,j)=>Oa(C,ue=>wt(ue,M),j),St=(C,M,j)=>go((ge,ot)=>wt(ge,ot),Xl,C,M,j),Ri=C=>St(C,"[contenteditable]"),Da=(C,M=!1)=>Bn(C)?C.dom.isContentEditable:Ri(C).fold(Lo(M),j=>Cr(j)==="true"),Cr=C=>C.dom.contentEditable,Ic=(C,M)=>{Je(C).each(ue=>{ue.dom.insertBefore(M.dom,C.dom)})},da=(C,M)=>{To(C).fold(()=>{Je(C).each(ge=>{ri(ge,M)})},ue=>{Ic(ue,M)})},ps=(C,M)=>{ms(C).fold(()=>{ri(C,M)},ue=>{C.dom.insertBefore(M.dom,ue.dom)})},ri=(C,M)=>{C.dom.appendChild(M.dom)},mr=(C,M)=>{It(M,j=>{Ic(C,j)})},ks=(C,M)=>{It(M,j=>{ri(C,j)})},Ra=C=>{C.dom.textContent="",It(ki(C),M=>{zl(M)})},zl=C=>{const M=C.dom;M.parentNode!==null&&M.parentNode.removeChild(M)};var Ni=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),si=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Pc=tinymce.util.Tools.resolve("tinymce.util.VK");const Lc=C=>Le(C,Ne.fromDom),ln=Object.keys,gs=(C,M)=>{const j=ln(C);for(let ue=0,ge=j.length;ue<ge;ue++){const ot=j[ue],no=C[ot];M(no,ot)}},ua=C=>(M,j)=>{C[j]=M},Fc=(C,M,j,ue)=>{gs(C,(ge,ot)=>{(M(ge,ot)?j:ue)(ge,ot)})},Gd=(C,M)=>{const j={};return Fc(C,M,ua(j),Bt),j},gd=(C,M,j)=>{if(xo(j)||Po(j)||An(j))C.setAttribute(M,j+"");else throw console.error("Invalid call to Attribute.set. Key ",M,":: Value ",j,":: Element ",C),new Error("Attribute value was not simple")},es=(C,M)=>{const j=C.dom;gs(M,(ue,ge)=>{gd(j,ge,ue)})},Na=C=>Qt(C.dom.attributes,(M,j)=>(M[j.name]=j.value,M),{}),ai=(C,M)=>Ne.fromDom(C.dom.cloneNode(M)),pr=C=>ai(C,!0),ir=(C,M)=>{const j=Ne.fromTag(M),ue=Na(C);return es(j,ue),j},wi=(C,M)=>{const j=ir(C,M);da(C,j);const ue=ki(C);return ks(j,ue),zl(C),j};var Ma=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Js=tinymce.util.Tools.resolve("tinymce.util.Tools");const Mi=C=>M=>Un(M)&&M.nodeName.toLowerCase()===C,ss=C=>M=>Un(M)&&C.test(M.nodeName),gr=C=>Un(C)&&C.nodeType===3,Ci=C=>Un(C)&&C.nodeType===1,ts=ss(/^(OL|UL|DL)$/),Qn=ss(/^(OL|UL)$/),fa=Mi("ol"),ja=ss(/^(LI|DT|DD)$/),Hc=ss(/^(DT|DD)$/),po=ss(/^(TH|TD)$/),hs=Mi("br"),as=C=>{var M;return((M=C.parentNode)===null||M===void 0?void 0:M.firstChild)===C},os=(C,M)=>Un(M)&&M.nodeName in C.schema.getTextBlockElements(),hd=(C,M)=>Un(C)&&C.nodeName in M,Sr=(C,M)=>Un(M)&&M.nodeName in C.schema.getVoidElements(),sl=(C,M)=>hs(M)?C.isBlock(M.nextSibling)&&!hs(M.previousSibling):!1,al=(C,M,j)=>{const ue=C.isEmpty(M);return j&&C.select("span[data-mce-type=bookmark]",M).length>0?!1:ue},Gt=(C,M)=>C.isChildOf(M,C.getRoot()),Ua=C=>M=>M.options.get(C),ii=C=>{const M=C.options.register;M("lists_indent_on_tab",{processor:"boolean",default:!0})},Ns=Ua("lists_indent_on_tab"),Jl=Ua("forced_root_block"),hr=Ua("forced_root_block_attrs"),Si=(C,M,j={})=>{const ue=C.dom,ge=C.schema.getBlockElements(),ot=ue.createFragment(),no=Jl(C),Bo=hr(C);let bo,Kt,Nr=!1;for(Kt=ue.create(no,{...Bo,...j.style?{style:j.style}:{}}),hd(M.firstChild,ge)||ot.appendChild(Kt);bo=M.firstChild;){const Zr=bo.nodeName;!Nr&&(Zr!=="SPAN"||bo.getAttribute("data-mce-type")!=="bookmark")&&(Nr=!0),hd(bo,ge)?(ot.appendChild(bo),Kt=null):(Kt||(Kt=ue.create(no,Bo),ot.appendChild(Kt)),Kt.appendChild(bo))}return!Nr&&Kt&&Kt.appendChild(ue.create("br",{"data-mce-bogus":"1"})),ot},li=Ma.DOM,Yo=(C,M,j)=>{const ue=Kt=>{const Nr=Kt.parentNode;Nr&&Js.each(ge,Zr=>{Nr.insertBefore(Zr,j.parentNode)}),li.remove(Kt)},ge=li.select('span[data-mce-type="bookmark"]',M),ot=Si(C,j),no=li.createRng();no.setStartAfter(j),no.setEndAfter(M);const Bo=no.extractContents();for(let Kt=Bo.firstChild;Kt;Kt=Kt.firstChild)if(Kt.nodeName==="LI"&&C.dom.isEmpty(Kt)){li.remove(Kt);break}C.dom.isEmpty(Bo)||li.insertAfter(Bo,M),li.insertAfter(ot,M);const bo=j.parentElement;bo&&al(C.dom,bo)&&ue(bo),li.remove(j),al(C.dom,M)&&li.remove(M)},tl=$a("dd"),il=$a("dt"),Vc=(C,M)=>{tl(M)?wi(M,"dt"):il(M)&&Ta(M).each(j=>Yo(C,j.dom,M.dom))},xr=C=>{il(C)&&wi(C,"dd")},_a=(C,M,j)=>{M==="Indent"?It(j,xr):It(j,ue=>Vc(C,ue))},Kd=(C,M)=>{if(gr(C))return{container:C,offset:M};const j=Ni.getNode(C,M);return gr(j)?{container:j,offset:M>=C.childNodes.length?j.data.length:0}:j.previousSibling&&gr(j.previousSibling)?{container:j.previousSibling,offset:j.previousSibling.data.length}:j.nextSibling&&gr(j.nextSibling)?{container:j.nextSibling,offset:0}:{container:C,offset:M}},On=C=>{const M=C.cloneRange(),j=Kd(C.startContainer,C.startOffset);M.setStart(j.container,j.offset);const ue=Kd(C.endContainer,C.endOffset);return M.setEnd(ue.container,ue.offset),M},Tl=["OL","UL","DL"],Ur=Tl.join(","),Ms=(C,M)=>{const j=M||C.selection.getStart(!0);return C.dom.getParent(j,Ur,on(C,j))},q=(C,M)=>Un(C)&&M.length===1&&M[0]===C,ce=C=>T(C.querySelectorAll(Ur),ts),_e=C=>{const M=Ms(C),j=C.selection.getSelectedBlocks();return q(M,j)?ce(M):T(j,ue=>ts(ue)&&M!==ue)},Ve=(C,M)=>{const j=Js.map(M,ue=>{const ge=C.dom.getParent(ue,"li,dd,dt",on(C,ue));return ge||ue});return Yr(j)},ft=C=>{const M=C.selection.getSelectedBlocks();return T(Ve(C,M),ja)},Vt=C=>T(ft(C),Hc),Nt=(C,M)=>{const j=C.dom.getParents(M,"TD,TH");return j.length>0?j[0]:C.getBody()},kr=(C,M)=>!ts(M)&&!ja(M)&&Ro(Tl,j=>C.isValidChild(M.nodeName,j)),on=(C,M)=>{const j=C.dom.getParents(M,C.dom.isBlock),ue=ot=>ot.nodeName.toLowerCase()!==Jl(C);return _r(j,ot=>ue(ot)&&kr(C.schema,ot)).getOr(C.getBody())},P=C=>Je(C).exists(M=>ja(M.dom)&&ms(M).exists(j=>!ts(j.dom))&&Ji(M).exists(j=>!ts(j.dom))),Y=(C,M)=>{const j=C.dom.getParents(M,"ol,ul",on(C,M));return Ot(j)},pe=C=>{const M=Y(C,C.selection.getStart()),j=T(C.selection.getSelectedBlocks(),Qn);return M.toArray().concat(j)},De=C=>{const M=C.selection.getStart();return C.dom.getParents(M,"ol,ul",on(C,M))},Zt=C=>{const M=pe(C),j=De(C);return _r(j,ue=>P(Ne.fromDom(ue))).fold(()=>nn(C,M),ue=>[ue])},nn=(C,M)=>{const j=Le(M,ue=>Y(C,ue).getOr(ue));return Yr(j)},Xr=C=>/\btox\-/.test(C.className),ci=(C,M)=>Oo(C,ts,po).exists(j=>j.nodeName===M&&!Xr(j)),ht=(C,M)=>M!==null&&!C.dom.isEditable(M),Bi=C=>{const M=Ms(C);return ht(C,M)||!C.selection.isEditable()},wa=(C,M)=>{const j=C.dom.getParent(M,"ol,ul,dl");return ht(C,j)||!C.selection.isEditable()},hc=(C,M)=>{const j=C.selection.getNode();return M({parents:C.dom.getParents(j),element:j}),C.on("NodeChange",M),()=>C.off("NodeChange",M)},ma=(C,M)=>{const ue=document.createDocumentFragment();return It(C,ge=>{ue.appendChild(ge.dom)}),Ne.fromDom(ue)},$c=(C,M,j)=>C.dispatch("ListMutation",{action:M,element:j}),zm=(C=>M=>M.replace(C,""))(/^\s+|\s+$/g),Ol=C=>C.length>0,Tm=C=>!Ol(C),Ip=C=>C.style!==void 0&&ar(C.style.getPropertyValue),$g=(C,M,j)=>{if(!xo(j))throw console.error("Invalid call to CSS.set. Property ",M,":: Value ",j,":: Element ",C),new Error("CSS value must be a string: "+j);Ip(C)&&C.style.setProperty(M,j)},jg=(C,M,j)=>{const ue=C.dom;$g(ue,M,j)},Uf=C=>to(C,"OL,UL"),jc=C=>to(C,"LI"),Yd=C=>ms(C).exists(Uf),Yu=C=>Ji(C).exists(Uf),pa=C=>"listAttributes"in C,yd=C=>"isComment"in C,bc=C=>"isFragment"in C,cn=C=>C.depth>0,di=C=>C.isSelected,pu=C=>{const M=ki(C),j=Yu(C)?M.slice(0,-1):M;return Le(j,pr)},Om=(C,M,j)=>Je(C).filter(io).map(ue=>({depth:M,dirty:!1,isSelected:j,content:pu(C),itemAttributes:Na(C),listAttributes:Na(ue),listType:Fn(ue),isInPreviousLi:!1})),ui=(C,M)=>{ri(C.item,M.list)},Ei=C=>{for(let M=1;M<C.length;M++)ui(C[M-1],C[M])},Qs=(C,M)=>{Co(Ot(C),Qe(M),ui)},yc=(C,M)=>{const j={list:Ne.fromTag(M,C),item:Ne.fromTag("li",C)};return ri(j.list,j.item),j},_s=(C,M,j)=>{const ue=[];for(let ge=0;ge<j;ge++)ue.push(yc(C,pa(M)?M.listType:M.parentListType));return ue},Ba=(C,M)=>{for(let j=0;j<C.length-1;j++)jg(C[j].item,"list-style-type","none");Ot(C).each(j=>{pa(M)&&(es(j.list,M.listAttributes),es(j.item,M.itemAttributes)),ks(j.item,M.content)})},Ii=(C,M)=>{Fn(C.list)!==M.listType&&(C.list=wi(C.list,M.listType)),es(C.list,M.listAttributes)},In=(C,M,j)=>{const ue=Ne.fromTag("li",C);return es(ue,M),ks(ue,j),ue},Dl=(C,M)=>{ri(C.list,M),C.item=M},Ia=(C,M,j)=>{const ue=M.slice(0,j.depth);return Ot(ue).each(ge=>{if(pa(j)){const ot=In(C,j.itemAttributes,j.content);Dl(ge,ot),Ii(ge,j)}else if(bc(j))ks(ge.item,j.content);else{const ot=Ne.fromHtml(`<!--${j.content}-->`);ri(ge.list,ot)}}),ue},$s=(C,M,j)=>{const ue=_s(C,j,j.depth-M.length);return Ei(ue),Ba(ue,j),Qs(M,ue),M.concat(ue)},ll=(C,M)=>{let j=le.none();const ue=Qt(M,(ge,ot,no)=>yd(ot)?no===0?(j=le.some(ot),ge):Ia(C,ge,ot):ot.depth>ge.length?$s(C,ge,ot):Ia(C,ge,ot),[]);return j.each(ge=>{const ot=Ne.fromHtml(`<!--${ge.content}-->`);Qe(ue).each(no=>{ps(no.list,ot)})}),Qe(ue).map(ge=>ge.list)},Dn=(C,M)=>{switch(C){case"Indent":M.depth++;break;case"Outdent":M.depth--;break;case"Flatten":M.depth=0}M.dirty=!0},js=(C,M)=>{pa(C)&&pa(M)&&(C.listType=M.listType,C.listAttributes={...M.listAttributes})},Ql=C=>{C.listAttributes=Gd(C.listAttributes,(M,j)=>j!=="start")},Us=(C,M)=>{const j=C[M].depth,ue=ot=>ot.depth===j&&!ot.dirty,ge=ot=>ot.depth<j;return Oo(tn(C.slice(0,M)),ue,ge).orThunk(()=>Oo(C.slice(M+1),ue,ge))},Bs=C=>(It(C,(M,j)=>{Us(C,j).fold(()=>{M.dirty&&pa(M)&&Ql(M)},ue=>js(M,ue))}),C),$t=C=>{let M=C;return{get:()=>M,set:ge=>{M=ge}}},ec=(C,M,j,ue)=>{var ge;if(Ds(ue))return[{depth:C+1,content:(ge=ue.dom.nodeValue)!==null&&ge!==void 0?ge:"",dirty:!1,isSelected:!1,isComment:!0}];M.each(Bo=>{st(Bo.start,ue)&&j.set(!0)});const ot=Om(ue,C,j.get());M.each(Bo=>{st(Bo.end,ue)&&j.set(!1)});const no=Ji(ue).filter(Uf).map(Bo=>sn(C,M,j,Bo)).getOr([]);return ot.toArray().concat(no)},vd=(C,M,j,ue)=>ms(ue).filter(Uf).fold(()=>ec(C,M,j,ue),ge=>{const ot=Qt(ki(ue),(no,Bo,bo)=>{if(bo===0)return no;if(jc(Bo))return no.concat(ec(C,M,j,Bo));{const Kt={isFragment:!0,depth:C,content:[Bo],isSelected:!1,dirty:!1,parentListType:Fn(ge)};return no.concat(Kt)}},[]);return sn(C,M,j,ge).concat(ot)}),sn=(C,M,j,ue)=>zt(ki(ue),ge=>{const ot=Uf(ge)?sn:vd,no=C+1;return ot(no,M,j,ge)}),Xd=(C,M)=>{const j=$t(!1),ue=0;return Le(C,ge=>({sourceList:ge,entries:sn(ue,M,j,ge)}))},gu=(C,M)=>{const j=Bs(M);return Le(j,ue=>{const ge=yd(ue)?ma([Ne.fromHtml(`<!--${ue.content}-->`)]):ma(ue.content),ot=pa(ue)?ue.itemAttributes:{};return Ne.fromDom(Si(C,ge.dom,ot))})},vc=(C,M)=>{const j=Bs(M);return ll(C.contentDocument,j).toArray()},Zo=(C,M)=>zt(ko(M,cn),j=>Qe(j).exists(cn)?vc(C,j):gu(C,j)),Pa=(C,M)=>{It(T(C,di),j=>Dn(M,j))},Xu=C=>{const M=Le(ft(C),Ne.fromDom);return Co(_r(M,ut(Yd)),_r(tn(M),ut(Yd)),(j,ue)=>({start:j,end:ue}))},hu=(C,M,j)=>{const ue=Xd(M,Xu(C));It(ue,ge=>{Pa(ge.entries,j);const ot=Zo(C,ge.entries);It(ot,no=>{$c(C,j==="Indent"?"IndentList":"OutdentList",no.dom)}),mr(ge.sourceList,ot),zl(ge.sourceList)})},Dm=(C,M)=>{const j=Lc(Zt(C)),ue=Lc(Vt(C));let ge=!1;if(j.length||ue.length){const ot=C.selection.getBookmark();hu(C,j,M),_a(C,M,ue),C.selection.moveToBookmark(ot),C.selection.setRng(On(C.selection.getRng())),C.nodeChanged(),ge=!0}return ge},tc=(C,M)=>!Bi(C)&&Dm(C,M),cl=C=>tc(C,"Indent"),xd=C=>tc(C,"Outdent"),Ju=C=>tc(C,"Flatten"),me="\uFEFF",kd=C=>C===me,Hn=(C,M,j)=>Oa(C,M,j).isSome(),Pp=(C,M)=>Hn(C,rt(st,M));var Qu=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const Rl=Ma.DOM,rn=C=>{const M={},j=ue=>{let ge=C[ue?"startContainer":"endContainer"],ot=C[ue?"startOffset":"endOffset"];if(Ci(ge)){const no=Rl.create("span",{"data-mce-type":"bookmark"});ge.hasChildNodes()?(ot=Math.min(ot,ge.childNodes.length-1),ue?ge.insertBefore(no,ge.childNodes[ot]):Rl.insertAfter(no,ge.childNodes[ot])):ge.appendChild(no),ge=no,ot=0}M[ue?"startContainer":"endContainer"]=ge,M[ue?"startOffset":"endOffset"]=ot};return j(!0),C.collapsed||j(),M},Za=C=>{const M=ue=>{const ge=Bo=>{var bo;let Kt=(bo=Bo.parentNode)===null||bo===void 0?void 0:bo.firstChild,Nr=0;for(;Kt;){if(Kt===Bo)return Nr;(!Ci(Kt)||Kt.getAttribute("data-mce-type")!=="bookmark")&&Nr++,Kt=Kt.nextSibling}return-1};let ot=C[ue?"startContainer":"endContainer"],no=C[ue?"startOffset":"endOffset"];if(ot){if(Ci(ot)&&ot.parentNode){const Bo=ot;no=ge(ot),ot=ot.parentNode,Rl.remove(Bo),!ot.hasChildNodes()&&Rl.isBlock(ot)&&ot.appendChild(Rl.create("br"))}C[ue?"startContainer":"endContainer"]=ot,C[ue?"startOffset":"endOffset"]=no}};M(!0),M();const j=Rl.createRng();return j.setStart(C.startContainer,C.startOffset),C.endContainer&&j.setEnd(C.endContainer,C.endOffset),On(j)},ol=C=>{switch(C){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},dl=(C,M,j)=>{const ue=j["list-style-type"]?j["list-style-type"]:null;C.setStyle(M,"list-style-type",ue)},xc=(C,M)=>{Js.each(M,(j,ue)=>{C.setAttribute(ue,j)})},bu=(C,M,j)=>{xc(M,j["list-attributes"]),Js.each(C.select("li",M),ue=>{xc(ue,j["list-item-attributes"])})},Wa=(C,M,j)=>{dl(C,M,j),bu(C,M,j)},yu=(C,M,j)=>{Js.each(j,ue=>C.setStyle(M,ue,""))},_d=(C,M)=>Un(M)&&!hd(M,C.schema.getBlockElements()),vu=(C,M,j,ue)=>{let ge=M[j?"startContainer":"endContainer"];const ot=M[j?"startOffset":"endOffset"];Ci(ge)&&(ge=ge.childNodes[Math.min(ot,ge.childNodes.length-1)]||ge),!j&&hs(ge.nextSibling)&&(ge=ge.nextSibling);const no=bo=>{for(;!C.dom.isBlock(bo)&&bo.parentNode&&ue!==bo;)bo=bo.parentNode;return bo},Bo=(bo,Kt)=>{var Nr;const Zr=new si(bo,no(bo)),Il=Kt?"next":"prev";let pi;for(;pi=Zr[Il]();)if(!(Sr(C,pi)||kd(pi.textContent)||((Nr=pi.textContent)===null||Nr===void 0?void 0:Nr.length)===0))return le.some(pi);return le.none()};if(j&&gr(ge))if(kd(ge.textContent))ge=Bo(ge,!1).getOr(ge);else for(ge.parentNode!==null&&_d(C,ge.parentNode)&&(ge=ge.parentNode);ge.previousSibling!==null&&(_d(C,ge.previousSibling)||gr(ge.previousSibling));)ge=ge.previousSibling;if(!j&&gr(ge))if(kd(ge.textContent))ge=Bo(ge,!0).getOr(ge);else for(ge.parentNode!==null&&_d(C,ge.parentNode)&&(ge=ge.parentNode);ge.nextSibling!==null&&(_d(C,ge.nextSibling)||gr(ge.nextSibling));)ge=ge.nextSibling;for(;ge.parentNode!==ue;){const bo=ge.parentNode;if(os(C,ge)||/^(TD|TH)$/.test(bo.nodeName))return ge;ge=bo}return ge},Is=(C,M,j)=>{const ue=[],ge=C.dom,ot=vu(C,M,!0,j),no=vu(C,M,!1,j);let Bo;const bo=[];for(let Kt=ot;Kt&&(bo.push(Kt),Kt!==no);Kt=Kt.nextSibling);return Js.each(bo,Kt=>{var Nr;if(os(C,Kt)){ue.push(Kt),Bo=null;return}if(ge.isBlock(Kt)||hs(Kt)){hs(Kt)&&ge.remove(Kt),Bo=null;return}const Zr=Kt.nextSibling;if(Qu.isBookmarkNode(Kt)&&(ts(Zr)||os(C,Zr)||!Zr&&Kt.parentNode===j)){Bo=null;return}Bo||(Bo=ge.create("p"),(Nr=Kt.parentNode)===null||Nr===void 0||Nr.insertBefore(Bo,Kt),ue.push(Bo)),Bo.appendChild(Kt)}),ue},co=(C,M,j)=>{const ue=C.getStyle(M,"list-style-type");let ge=j?j["list-style-type"]:"";return ge=ge===null?"":ge,ue===ge},Uc=(C,M)=>{const j=C.selection.getStart(!0),ue=vu(C,M,!0,C.getBody());return Pp(Ne.fromDom(ue),Ne.fromDom(M.commonAncestorContainer))?M.commonAncestorContainer:j},wd=(C,M,j)=>{const ue=C.selection.getRng();let ge="LI";const ot=on(C,Uc(C,ue)),no=C.dom;if(no.getContentEditable(C.selection.getNode())==="false")return;M=M.toUpperCase(),M==="DL"&&(ge="DT");const Bo=rn(ue),bo=T(Is(C,ue,ot),C.dom.isEditable);Js.each(bo,Kt=>{let Nr;const Zr=Kt.previousSibling,Il=Kt.parentNode;ja(Il)||(Zr&&ts(Zr)&&Zr.nodeName===M&&co(no,Zr,j)?(Nr=Zr,Kt=no.rename(Kt,ge),Zr.appendChild(Kt)):(Nr=no.create(M),Il.insertBefore(Nr,Kt),Nr.appendChild(Kt),Kt=no.rename(Kt,ge)),yu(no,Kt,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),Wa(no,Nr,j),Wc(C.dom,Nr))}),C.selection.setRng(Za(Bo))},qa=(C,M)=>ts(C)&&C.nodeName===(M==null?void 0:M.nodeName),Zc=(C,M,j)=>{const ue=C.getStyle(M,"list-style-type",!0),ge=C.getStyle(j,"list-style-type",!0);return ue===ge},ul=(C,M)=>C.className===M.className,Cd=(C,M,j)=>qa(M,j)&&Zc(C,M,j)&&ul(M,j),Wc=(C,M)=>{let j,ue=M.nextSibling;if(Cd(C,M,ue)){const ge=ue;for(;j=ge.firstChild;)M.appendChild(j);C.remove(ge)}if(ue=M.previousSibling,Cd(C,M,ue)){const ge=ue;for(;j=ge.lastChild;)M.insertBefore(j,M.firstChild);C.remove(ge)}},Ps=(C,M,j,ue)=>{if(M.nodeName!==j){const ge=C.dom.rename(M,j);Wa(C.dom,ge,ue),$c(C,ol(j),ge)}else Wa(C.dom,M,ue),$c(C,ol(j),M)},Sd=(C,M,j,ue)=>{if(M.classList.forEach((ge,ot,no)=>{ge.startsWith("tox-")&&(no.remove(ge),no.length===0&&M.removeAttribute("class"))}),M.nodeName!==j){const ge=C.dom.rename(M,j);Wa(C.dom,ge,ue),$c(C,ol(j),ge)}else Wa(C.dom,M,ue),$c(C,ol(j),M)},kc=(C,M,j,ue,ge)=>{const ot=ts(M);if(ot&&M.nodeName===ue&&!xu(ge)&&!Xr(M))Ju(C);else{wd(C,ue,ge);const no=rn(C.selection.getRng()),Bo=ot?[M,...j]:j,bo=ot&&Xr(M)?Sd:Ps;Js.each(Bo,Kt=>{bo(C,Kt,ue,ge)}),C.selection.setRng(Za(no))}},xu=C=>"list-style-type"in C,ku=(C,M,j,ue)=>{if(M!==C.getBody())if(M)if(M.nodeName===j&&!xu(ue)&&!Xr(M))Ju(C);else{const ge=rn(C.selection.getRng());Xr(M)&&M.classList.forEach((no,Bo,bo)=>{no.startsWith("tox-")&&(bo.remove(no),bo.length===0&&M.removeAttribute("class"))}),Wa(C.dom,M,ue);const ot=C.dom.rename(M,j);Wc(C.dom,ot),C.selection.setRng(Za(ge)),wd(C,j,ue),$c(C,ol(j),ot)}else wd(C,j,ue),$c(C,ol(j),M)},Ed=(C,M,j)=>{const ue=Ms(C);if(wa(C,ue))return;const ge=_e(C),ot=rr(j)?j:{};ge.length>0?kc(C,ue,ge,M,ot):ku(C,ue,M,ot)},Jd=Ma.DOM,_u=(C,M)=>{const j=M.parentElement;if(j&&j.nodeName==="LI"&&j.firstChild===M){const ue=j.previousSibling;ue&&ue.nodeName==="LI"?(ue.appendChild(M),al(C,j)&&Jd.remove(j)):Jd.setStyle(j,"listStyleType","none")}if(ts(j)){const ue=j.previousSibling;ue&&ue.nodeName==="LI"&&ue.appendChild(M)}},Jr=(C,M)=>{const j=Js.grep(C.select("ol,ul",M));Js.each(j,ue=>{_u(C,ue)})},La=(C,M,j,ue)=>{let ge=M.startContainer;const ot=M.startOffset;if(gr(ge)&&(j?ot<ge.data.length:ot>0))return ge;const no=C.schema.getNonEmptyElements();Ci(ge)&&(ge=Ni.getNode(ge,ot));const Bo=new si(ge,ue);j&&sl(C.dom,ge)&&Bo.next();const bo=j?Bo.next.bind(Bo):Bo.prev2.bind(Bo);for(;ge=bo();)if(ge.nodeName==="LI"&&!ge.hasChildNodes()||no[ge.nodeName]||gr(ge)&&ge.data.length>0)return ge;return null},Ga=(C,M)=>{const j=M.childNodes;return j.length===1&&!ts(j[0])&&C.isBlock(j[0])},Pi=C=>le.from(C).map(Ne.fromDom).filter(mt).exists(M=>Da(M)&&!Xn(["details"],Fn(M))),ea=(C,M)=>{Ga(C,M)&&Pi(M.firstChild)&&C.remove(M.firstChild,!0)},ef=(C,M,j)=>{let ue;const ge=Ga(C,j)?j.firstChild:j;if(ea(C,M),!al(C,M,!0))for(;ue=M.firstChild;)ge.appendChild(ue)},Ls=(C,M,j)=>{let ue;const ge=M.parentNode;if(!Gt(C,M)||!Gt(C,j))return;ts(j.lastChild)&&(ue=j.lastChild),ge===j.lastChild&&hs(ge.previousSibling)&&C.remove(ge.previousSibling);const ot=j.lastChild;ot&&hs(ot)&&M.hasChildNodes()&&C.remove(ot),al(C,j,!0)&&Ra(Ne.fromDom(j)),ef(C,M,j),ue&&j.appendChild(ue);const Bo=Ye(Ne.fromDom(j),Ne.fromDom(M))?C.getParents(M,ts,j):[];C.remove(M),It(Bo,bo=>{al(C,bo)&&bo!==C.getRoot()&&C.remove(bo)})},ta=(C,M,j)=>{Ra(Ne.fromDom(j)),Ls(C.dom,M,j),C.selection.setCursorLocation(j,0)},qc=(C,M,j,ue)=>{const ge=C.dom;if(ge.isEmpty(ue))ta(C,j,ue);else{const ot=rn(M);Ls(ge,j,ue),C.selection.setRng(Za(ot))}},Ke=(C,M,j,ue)=>{const ge=rn(M);Ls(C.dom,j,ue);const ot=Za(ge);C.selection.setRng(ot)},oa=(C,M)=>{const j=C.dom,ue=C.selection,ge=ue.getStart(),ot=Nt(C,ge),no=j.getParent(ue.getStart(),"LI",ot);if(no){const Bo=no.parentElement;if(Bo===C.getBody()&&al(j,Bo))return!0;const bo=On(ue.getRng()),Kt=j.getParent(La(C,bo,M,ot),"LI",ot),Nr=Kt&&(M?j.isChildOf(no,Kt):j.isChildOf(Kt,no));if(Kt&&Kt!==no&&!Nr)return C.undoManager.transact(()=>{M?qc(C,bo,Kt,no):as(no)?xd(C):Ke(C,bo,no,Kt)}),!0;if(Nr&&!M&&Kt!==no)return C.undoManager.transact(()=>{if(bo.commonAncestorContainer.parentElement){const Zr=rn(bo),Il=bo.commonAncestorContainer.parentElement;ef(j,bo.commonAncestorContainer.parentElement,Kt),Il.remove();const pi=Za(Zr);C.selection.setRng(pi)}}),!0;if(!Kt&&!M&&bo.startOffset===0&&bo.endOffset===0)return C.undoManager.transact(()=>{Ju(C)}),!0}return!1},ws=(C,M,j)=>{const ue=C.getParent(M.parentNode,C.isBlock,j);C.remove(M),ue&&C.isEmpty(ue)&&C.remove(ue)},ga=(C,M)=>{const j=C.dom,ue=C.selection.getStart(),ge=Nt(C,ue),ot=j.getParent(ue,j.isBlock,ge);if(ot&&j.isEmpty(ot,void 0,{checkRootAsContent:!0})){const no=On(C.selection.getRng()),Bo=j.getParent(La(C,no,M,ge),"LI",ge);if(Bo){const bo=Il=>Xn(["td","th","caption"],Fn(Il)),Kt=Il=>Il.dom===ge,Nr=vs(Ne.fromDom(Bo),bo,Kt),Zr=vs(Ne.fromDom(no.startContainer),bo,Kt);return an(Nr,Zr,st)?(C.undoManager.transact(()=>{const Il=Bo.parentNode;ws(j,ot,ge),Wc(j,Il),C.selection.select(Bo,!0),C.selection.collapse(M)}),!0):!1}}return!1},fl=(C,M)=>oa(C,M)||ga(C,M),Li=C=>{const M=C.selection.getStart(),j=Nt(C,M);return C.dom.getParent(M,"LI,DT,DD",j)||ft(C).length>0},wu=C=>Li(C)?(C.undoManager.transact(()=>{let M=!0;const j=()=>M=!1;C.on("input",j),C.execCommand("Delete"),C.off("input",j),M&&C.dispatch("input"),Jr(C.dom,C.getBody())}),!0):!1,Ka=(C,M)=>{const j=C.selection;return!wa(C,j.getNode())&&(j.isCollapsed()?fl(C,M):wu(C))},bn=C=>{C.on("ExecCommand",M=>{const j=M.command.toLowerCase();(j==="delete"||j==="forwarddelete")&&Li(C)&&Jr(C.dom,C.getBody())}),C.on("keydown",M=>{M.keyCode===Pc.BACKSPACE?Ka(C,!1)&&M.preventDefault():M.keyCode===Pc.DELETE&&Ka(C,!0)&&M.preventDefault()})},ml=C=>({backspaceDelete:M=>{Ka(C,M)}}),Nl=(C,M)=>{const j=Ms(C);j===null||wa(C,j)||C.undoManager.transact(()=>{rr(M.styles)&&C.dom.setStyles(j,M.styles),rr(M.attrs)&&gs(M.attrs,(ue,ge)=>C.dom.setAttrib(j,ge,ue))})},er=C=>{const M=tn(zm(C).split("")),j=Le(M,(ue,ge)=>{const ot=ue.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,ge)*ot});return Qt(j,(ue,ge)=>ue+ge,0)},tf=C=>{if(C--,C<0)return"";{const M=C%26,j=Math.floor(C/26),ue=tf(j),ge=String.fromCharCode(65+M);return ue+ge}},Ya=C=>/^[A-Z]+$/.test(C),of=C=>/^[a-z]+$/.test(C),fi=C=>/^[0-9]+$/.test(C),Te=C=>fi(C)?2:Ya(C)?0:of(C)?1:Tm(C)?3:4,is=C=>{switch(Te(C)){case 2:return le.some({listStyleType:le.none(),start:C});case 0:return le.some({listStyleType:le.some("upper-alpha"),start:er(C).toString()});case 1:return le.some({listStyleType:le.some("lower-alpha"),start:er(C).toString()});case 3:return le.some({listStyleType:le.none(),start:""});case 4:return le.none()}},oc=C=>{const M=parseInt(C.start,10);return gn(C.listStyleType,"upper-alpha")?tf(M):gn(C.listStyleType,"lower-alpha")?tf(M).toLowerCase():C.start},Er=C=>{const M=Ms(C);!fa(M)||wa(C,M)||C.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:oc({start:C.dom.getAttrib(M,"start","1"),listStyleType:le.from(C.dom.getStyle(M,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:j=>{const ue=j.getData();is(ue.start).each(ge=>{C.execCommand("mceListUpdate",!1,{attrs:{start:ge.start==="1"?"":ge.start},styles:{"list-style-type":ge.listStyleType.getOr("")}})}),j.close()}})},lr=(C,M)=>()=>{const j=Ms(C);return Un(j)&&j.nodeName===M},Zs=C=>{C.addCommand("mceListProps",()=>{Er(C)})},br=C=>{C.on("BeforeExecCommand",M=>{const j=M.command.toLowerCase();j==="indent"?cl(C):j==="outdent"&&xd(C)}),C.addCommand("InsertUnorderedList",(M,j)=>{Ed(C,"UL",j)}),C.addCommand("InsertOrderedList",(M,j)=>{Ed(C,"OL",j)}),C.addCommand("InsertDefinitionList",(M,j)=>{Ed(C,"DL",j)}),C.addCommand("RemoveList",()=>{Ju(C)}),Zs(C),C.addCommand("mceListUpdate",(M,j)=>{rr(j)&&Nl(C,j)}),C.addQueryStateHandler("InsertUnorderedList",lr(C,"UL")),C.addQueryStateHandler("InsertOrderedList",lr(C,"OL")),C.addQueryStateHandler("InsertDefinitionList",lr(C,"DL"))};var Ai=tinymce.util.Tools.resolve("tinymce.html.Node");const nc=C=>C.type===3,_n=C=>C.length===0,na=C=>{const M=(ge,ot)=>{const no=Ai.create("li");It(ge,Bo=>no.append(Bo)),ot?C.insert(no,ot,!0):C.append(no)},j=(ge,ot)=>nc(ot)?[...ge,ot]:!_n(ge)&&!nc(ot)?(M(ge,ot),[]):ge,ue=Qt(C.children(),j,[]);_n(ue)||M(ue)},Ml=C=>{C.on("PreInit",()=>{const{parser:M}=C;M.addNodeFilter("ul,ol",j=>It(j,na))})},mi=C=>{C.on("keydown",M=>{M.keyCode!==Pc.TAB||Pc.metaKeyPressed(M)||C.undoManager.transact(()=>{(M.shiftKey?xd(C):cl(C))&&M.preventDefault()})})},Ad=C=>{Ns(C)&&mi(C),bn(C)},Bl=(C,M)=>j=>{const ue=ge=>{j.setActive(ci(ge.parents,M)),j.setEnabled(!wa(C,ge.element)&&C.selection.isEditable())};return j.setEnabled(C.selection.isEditable()),hc(C,ue)},Zf=C=>{const M=j=>()=>C.execCommand(j);C.hasPlugin("advlist")||(C.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:M("InsertOrderedList"),onSetup:Bl(C,"OL")}),C.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:M("InsertUnorderedList"),onSetup:Bl(C,"UL")}))},Rm=(C,M)=>j=>hc(C,ge=>j.setEnabled(ci(ge.parents,M)&&!wa(C,ge.element))),zd=C=>{const M={text:"List properties...",icon:"ordered-list",onAction:()=>C.execCommand("mceListProps"),onSetup:Rm(C,"OL")};C.ui.registry.addMenuItem("listprops",M),C.ui.registry.addContextMenu("lists",{update:j=>{const ue=Ms(C,j);return fa(ue)?["listprops"]:[]}})};var ha=()=>{kn.add("lists",C=>(ii(C),Ml(C),C.hasPlugin("rtc",!0)?Zs(C):(Ad(C),br(C)),Zf(C),zd(C),ml(C)))};ha()}()),vF}var kF;function Cq(){return kF||(kF=1,wq()),yF}Cq();var _F={},wF={},CF;function Sq(){return CF||(CF=1,function(){var kn=tinymce.util.Tools.resolve("tinymce.PluginManager");const ur=Object.getPrototypeOf,Vr=(P,Y,pe)=>{var De;return pe(P,Y.prototype)?!0:((De=P.constructor)===null||De===void 0?void 0:De.name)===Y.name},$r=P=>{const Y=typeof P;return P===null?"null":Y==="object"&&Array.isArray(P)?"array":Y==="object"&&Vr(P,String,(pe,De)=>De.isPrototypeOf(pe))?"string":Y},fr=P=>Y=>$r(Y)===P,xo=P=>Y=>typeof Y===P,rr=P=>Y=>P===Y,jn=(P,Y)=>En(P)&&Vr(P,Y,(pe,De)=>ur(pe)===De),Po=fr("string"),En=fr("object"),Un=P=>jn(P,Object),ar=fr("array"),An=rr(null),Bt=xo("boolean"),Ut=P=>P==null,Lo=P=>!Ut(P),sr=xo("function"),rt=xo("number"),ut=(P,Y)=>{if(ar(P)){for(let pe=0,De=P.length;pe<De;++pe)if(!Y(P[pe]))return!1;return!0}return!1},pt=()=>{};class le{constructor(Y,pe){this.tag=Y,this.value=pe}static some(Y){return new le(!0,Y)}static none(){return le.singletonNone}fold(Y,pe){return this.tag?pe(this.value):Y()}isSome(){return this.tag}isNone(){return!this.tag}map(Y){return this.tag?le.some(Y(this.value)):le.none()}bind(Y){return this.tag?Y(this.value):le.none()}exists(Y){return this.tag&&Y(this.value)}forall(Y){return!this.tag||Y(this.value)}filter(Y){return!this.tag||Y(this.value)?this:le.none()}getOr(Y){return this.tag?this.value:Y}or(Y){return this.tag?this:Y}getOrThunk(Y){return this.tag?this.value:Y()}orThunk(Y){return this.tag?this:Y()}getOrDie(Y){if(this.tag)return this.value;throw new Error(Y??"Called getOrDie on None")}static from(Y){return Lo(Y)?le.some(Y):le.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Y){this.tag&&Y(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}le.singletonNone=new le(!1);const Tt=Object.keys,ve=Object.hasOwnProperty,lt=(P,Y)=>{const pe=Tt(P);for(let De=0,Zt=pe.length;De<Zt;De++){const nn=pe[De],Xr=P[nn];Y(Xr,nn)}},jr=P=>(Y,pe)=>{P[pe]=Y},Xn=(P,Y,pe,De)=>{lt(P,(Zt,nn)=>{(Y(Zt,nn)?pe:De)(Zt,nn)})},Ro=(P,Y)=>{const pe={};return Xn(P,Y,jr(pe),pt),pe},Le=(P,Y)=>ve.call(P,Y),It=(P,Y)=>Le(P,Y)&&P[Y]!==void 0&&P[Y]!==null,T=Array.prototype.push,ko=P=>{const Y=[];for(let pe=0,De=P.length;pe<De;++pe){if(!ar(P[pe]))throw new Error("Arr.flatten item "+pe+" was not an array, input: "+P);T.apply(Y,P[pe])}return Y},Qt=(P,Y)=>Y>=0&&Y<P.length?le.some(P[Y]):le.none(),Oo=P=>Qt(P,0),_r=(P,Y)=>{for(let pe=0;pe<P.length;pe++){const De=Y(P[pe],pe);if(De.isSome())return De}return le.none()};typeof window<"u"||Function("return this;")();const Ce=(P,Y,pe)=>{if(Po(pe)||Bt(pe)||rt(pe))P.setAttribute(Y,pe+"");else throw console.error("Invalid call to Attribute.set. Key ",Y,":: Value ",pe,":: Element ",P),new Error("Attribute value was not simple")},zt=(P,Y,pe)=>{Ce(P.dom,Y,pe)},tn=(P,Y)=>{P.dom.removeAttribute(Y)},xt=(P,Y)=>{const De=(Y||document).createElement("div");if(De.innerHTML=P,!De.hasChildNodes()||De.childNodes.length>1){const Zt="HTML does not have a single root node";throw console.error(Zt,P),new Error(Zt)}return Yr(De.childNodes[0])},Qe=(P,Y)=>{const De=(Y||document).createElement(P);return Yr(De)},Ot=(P,Y)=>{const De=(Y||document).createTextNode(P);return Yr(De)},Yr=P=>{if(P==null)throw new Error("Node cannot be null or undefined");return{dom:P}},an={fromHtml:xt,fromTag:Qe,fromText:Ot,fromDom:Yr,fromPoint:(P,Y,pe)=>le.from(P.dom.elementFromPoint(Y,pe)).map(Yr)};var Co=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),V=tinymce.util.Tools.resolve("tinymce.util.URI");const la=P=>P.length>0,Nn=P=>Y=>Y.options.get(P),hn=P=>{const Y=P.options.register;Y("image_dimensions",{processor:"boolean",default:!0}),Y("image_advtab",{processor:"boolean",default:!1}),Y("image_uploadtab",{processor:"boolean",default:!0}),Y("image_prepend_url",{processor:"string",default:""}),Y("image_class_list",{processor:"object[]"}),Y("image_description",{processor:"boolean",default:!0}),Y("image_title",{processor:"boolean",default:!1}),Y("image_caption",{processor:"boolean",default:!1}),Y("image_list",{processor:pe=>{const De=pe===!1||Po(pe)||ut(pe,En)||sr(pe);return De?{value:pe,valid:De}:{valid:!1,message:"Must be false, a string, an array or a function."}},default:!1})},xi=Nn("image_dimensions"),Al=Nn("image_advtab"),Wo=Nn("image_uploadtab"),zn=Nn("image_prepend_url"),$o=Nn("image_class_list"),Ne=Nn("image_description"),wt=Nn("image_title"),st=Nn("image_caption"),Ye=Nn("image_list"),to=Nn("a11y_advanced_options"),mo=Nn("automatic_uploads"),Fo=P=>la(P.options.get("images_upload_url")),Sn=P=>Lo(P.options.get("images_upload_handler")),Jn=(P,Y)=>Math.max(parseInt(P,10),parseInt(Y,10)),Tn=P=>new Promise(Y=>{const pe=document.createElement("img"),De=nn=>{pe.parentNode&&pe.parentNode.removeChild(pe),Y(nn)};pe.addEventListener("load",()=>{const nn=Jn(pe.width,pe.clientWidth),Xr=Jn(pe.height,pe.clientHeight),ci={width:nn,height:Xr};De(Promise.resolve(ci))}),pe.addEventListener("error",()=>{De(Promise.reject(`Failed to get image dimensions for: ${P}`))});const Zt=pe.style;Zt.visibility="hidden",Zt.position="fixed",Zt.bottom=Zt.left="0px",Zt.width=Zt.height="auto",document.body.appendChild(pe),pe.src=P}),Mn=P=>(P&&(P=P.replace(/px$/,"")),P),wr=P=>(P.length>0&&/^[0-9]+$/.test(P)&&(P+="px"),P),Os=P=>{if(P.margin){const Y=String(P.margin).split(" ");switch(Y.length){case 1:P["margin-top"]=P["margin-top"]||Y[0],P["margin-right"]=P["margin-right"]||Y[0],P["margin-bottom"]=P["margin-bottom"]||Y[0],P["margin-left"]=P["margin-left"]||Y[0];break;case 2:P["margin-top"]=P["margin-top"]||Y[0],P["margin-right"]=P["margin-right"]||Y[1],P["margin-bottom"]=P["margin-bottom"]||Y[0],P["margin-left"]=P["margin-left"]||Y[1];break;case 3:P["margin-top"]=P["margin-top"]||Y[0],P["margin-right"]=P["margin-right"]||Y[1],P["margin-bottom"]=P["margin-bottom"]||Y[2],P["margin-left"]=P["margin-left"]||Y[1];break;case 4:P["margin-top"]=P["margin-top"]||Y[0],P["margin-right"]=P["margin-right"]||Y[1],P["margin-bottom"]=P["margin-bottom"]||Y[2],P["margin-left"]=P["margin-left"]||Y[3]}delete P.margin}return P},Fn=(P,Y)=>{const pe=Ye(P);Po(pe)?fetch(pe).then(De=>{De.ok&&De.json().then(Y)}):sr(pe)?pe(Y):Y(pe)},Rr=(P,Y,pe)=>{const De=()=>{pe.onload=pe.onerror=null,P.selection&&(P.selection.select(pe),P.nodeChanged())};pe.onload=()=>{!Y.width&&!Y.height&&xi(P)&&P.dom.setAttribs(pe,{width:String(pe.clientWidth),height:String(pe.clientHeight)}),De()},pe.onerror=De},jo=P=>new Promise((Y,pe)=>{const De=new FileReader;De.onload=()=>{Y(De.result)},De.onerror=()=>{var Zt;pe((Zt=De.error)===null||Zt===void 0?void 0:Zt.message)},De.readAsDataURL(P)}),Ds=P=>P.nodeName==="IMG"&&(P.hasAttribute("data-mce-object")||P.hasAttribute("data-mce-placeholder")),mt=(P,Y)=>{const pe=P.options.get;return V.isDomSafe(Y,"img",{allow_html_data_urls:pe("allow_html_data_urls"),allow_script_urls:pe("allow_script_urls"),allow_svg_data_urls:pe("allow_svg_data_urls")})},io=Co.DOM,Mo=P=>P.style.marginLeft&&P.style.marginRight&&P.style.marginLeft===P.style.marginRight?Mn(P.style.marginLeft):"",Rs=P=>P.style.marginTop&&P.style.marginBottom&&P.style.marginTop===P.style.marginBottom?Mn(P.style.marginTop):"",$a=P=>P.style.borderWidth?Mn(P.style.borderWidth):"",Je=(P,Y)=>{var pe;return P.hasAttribute(Y)&&(pe=P.getAttribute(Y))!==null&&pe!==void 0?pe:""},Ta=P=>P.parentNode!==null&&P.parentNode.nodeName==="FIGURE",To=(P,Y,pe)=>{pe===""||pe===null?P.removeAttribute(Y):P.setAttribute(Y,pe)},ki=P=>{const Y=io.create("figure",{class:"image"});io.insertAfter(Y,P),Y.appendChild(P),Y.appendChild(io.create("figcaption",{contentEditable:"true"},"Caption")),Y.contentEditable="false"},Zn=P=>{const Y=P.parentNode;Lo(Y)&&(io.insertAfter(P,Y),io.remove(Y))},ms=P=>{Ta(P)?Zn(P):ki(P)},Ji=(P,Y)=>{const pe=P.getAttribute("style"),De=Y(pe!==null?pe:"");De.length>0?(P.setAttribute("style",De),P.setAttribute("data-mce-style",De)):P.removeAttribute("style")},Qi=(P,Y)=>(pe,De,Zt)=>{const nn=pe.style;nn[De]?(nn[De]=wr(Zt),Ji(pe,Y)):To(pe,De,Zt)},_i=(P,Y)=>P.style[Y]?Mn(P.style[Y]):Je(P,Y),ca=(P,Y)=>{const pe=wr(Y);P.style.marginLeft=pe,P.style.marginRight=pe},el=(P,Y)=>{const pe=wr(Y);P.style.marginTop=pe,P.style.marginBottom=pe},Bn=(P,Y)=>{const pe=wr(Y);P.style.borderWidth=pe},go=(P,Y)=>{P.style.borderStyle=Y},Oa=P=>{var Y;return(Y=P.style.borderStyle)!==null&&Y!==void 0?Y:""},vs=P=>Lo(P)&&P.nodeName==="FIGURE",Xl=P=>P.nodeName==="IMG",St=P=>io.getAttrib(P,"alt").length===0&&io.getAttrib(P,"role")==="presentation",Ri=P=>St(P)?"":Je(P,"alt"),Da=()=>({src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}),Cr=(P,Y)=>{var pe;const De=document.createElement("img");return To(De,"style",Y.style),(Mo(De)||Y.hspace!=="")&&ca(De,Y.hspace),(Rs(De)||Y.vspace!=="")&&el(De,Y.vspace),($a(De)||Y.border!=="")&&Bn(De,Y.border),(Oa(De)||Y.borderStyle!=="")&&go(De,Y.borderStyle),P((pe=De.getAttribute("style"))!==null&&pe!==void 0?pe:"")},Ic=(P,Y)=>{const pe=document.createElement("img");if(Ra(P,{...Y,caption:!1},pe),ri(pe,Y.alt,Y.isDecorative),Y.caption){const De=io.create("figure",{class:"image"});return De.appendChild(pe),De.appendChild(io.create("figcaption",{contentEditable:"true"},"Caption")),De.contentEditable="false",De}else return pe},da=(P,Y)=>({src:Je(Y,"src"),alt:Ri(Y),title:Je(Y,"title"),width:_i(Y,"width"),height:_i(Y,"height"),class:Je(Y,"class"),style:P(Je(Y,"style")),caption:Ta(Y),hspace:Mo(Y),vspace:Rs(Y),border:$a(Y),borderStyle:Oa(Y),isDecorative:St(Y)}),ps=(P,Y,pe,De,Zt)=>{pe[De]!==Y[De]&&Zt(P,De,String(pe[De]))},ri=(P,Y,pe)=>{if(pe){io.setAttrib(P,"role","presentation");const De=an.fromDom(P);zt(De,"alt","")}else{if(An(Y)){const De=an.fromDom(P);tn(De,"alt")}else{const De=an.fromDom(P);zt(De,"alt",Y)}io.getAttrib(P,"role")==="presentation"&&io.setAttrib(P,"role","")}},mr=(P,Y,pe)=>{(pe.alt!==Y.alt||pe.isDecorative!==Y.isDecorative)&&ri(P,pe.alt,pe.isDecorative)},ks=(P,Y)=>(pe,De,Zt)=>{P(pe,Zt),Ji(pe,Y)},Ra=(P,Y,pe)=>{const De=da(P,pe);ps(pe,De,Y,"caption",(Zt,nn,Xr)=>ms(Zt)),ps(pe,De,Y,"src",To),ps(pe,De,Y,"title",To),ps(pe,De,Y,"width",Qi("width",P)),ps(pe,De,Y,"height",Qi("height",P)),ps(pe,De,Y,"class",To),ps(pe,De,Y,"style",ks((Zt,nn)=>To(Zt,"style",nn),P)),ps(pe,De,Y,"hspace",ks(ca,P)),ps(pe,De,Y,"vspace",ks(el,P)),ps(pe,De,Y,"border",ks(Bn,P)),ps(pe,De,Y,"borderStyle",ks(go,P)),mr(pe,De,Y)},zl=(P,Y)=>{const pe=P.dom.styles.parse(Y),De=Os(pe),Zt=P.dom.styles.parse(P.dom.styles.serialize(De));return P.dom.styles.serialize(Zt)},Ni=P=>{const Y=P.selection.getNode(),pe=P.dom.getParent(Y,"figure.image");return pe?P.dom.select("img",pe)[0]:Y&&(Y.nodeName!=="IMG"||Ds(Y))?null:Y},si=(P,Y)=>{var pe;const De=P.dom,Zt=Ro(P.schema.getTextBlockElements(),(Xr,ci)=>!P.schema.isValidChild(ci,"figure")),nn=De.getParent(Y.parentNode,Xr=>It(Zt,Xr.nodeName),P.getBody());return nn&&(pe=De.split(nn,Y))!==null&&pe!==void 0?pe:Y},Pc=P=>{const Y=Ni(P);return Y?da(pe=>zl(P,pe),Y):Da()},Lc=(P,Y)=>{const pe=Ic(Zt=>zl(P,Zt),Y);P.dom.setAttrib(pe,"data-mce-id","__mcenew"),P.focus(),P.selection.setContent(pe.outerHTML);const De=P.dom.select('*[data-mce-id="__mcenew"]')[0];if(P.dom.setAttrib(De,"data-mce-id",null),vs(De)){const Zt=si(P,De);P.selection.select(Zt)}else P.selection.select(De)},ln=(P,Y)=>{P.dom.setAttrib(Y,"src",Y.getAttribute("src"))},gs=(P,Y)=>{if(Y){const pe=P.dom.is(Y.parentNode,"figure.image")?Y.parentNode:Y;P.dom.remove(pe),P.focus(),P.nodeChanged(),P.dom.isEmpty(P.getBody())&&(P.setContent(""),P.selection.setCursorLocation())}},ua=(P,Y)=>{const pe=Ni(P);if(pe)if(Ra(De=>zl(P,De),Y,pe),ln(P,pe),vs(pe.parentNode)){P.dom.setStyle(pe,"float","");const De=pe.parentNode;si(P,De),P.selection.select(pe.parentNode)}else P.selection.select(pe),Rr(P,Y,pe)},Fc=(P,Y)=>{const pe=Y.src;return{...Y,src:mt(P,pe)?pe:""}},Gd=(P,Y)=>{const pe=Ni(P);if(pe){const Zt={...da(Xr=>zl(P,Xr),pe),...Y},nn=Fc(P,Zt);Zt.src?ua(P,nn):gs(P,pe)}else Y.src&&Lc(P,{...Da(),...Y})},Na=(P=>(...Y)=>{if(Y.length===0)throw new Error("Can't merge zero objects");const pe={};for(let De=0;De<Y.length;De++){const Zt=Y[De];for(const nn in Zt)Le(Zt,nn)&&(pe[nn]=P(pe[nn],Zt[nn]))}return pe})((P,Y)=>Un(P)&&Un(Y)?Na(P,Y):Y);var ai=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),pr=tinymce.util.Tools.resolve("tinymce.util.Tools");const ir=P=>Po(P.value)?P.value:"",wi=P=>Po(P.text)?P.text:Po(P.title)?P.title:"",Ma=(P,Y)=>{const pe=[];return pr.each(P,De=>{const Zt=wi(De);if(De.menu!==void 0){const nn=Ma(De.menu,Y);pe.push({text:Zt,items:nn})}else{const nn=Y(De);pe.push({text:Zt,value:nn})}}),pe},Js=(P=ir)=>Y=>Y?le.from(Y).map(pe=>Ma(pe,P)):le.none(),Mi=P=>Js(ir)(P),ss=P=>Le(P,"items"),gr=(P,Y)=>_r(P,pe=>ss(pe)?gr(pe.items,Y):pe.value===Y?le.some(pe):le.none()),ts={sanitizer:Js,sanitize:Mi,findEntry:(P,Y)=>P.bind(pe=>gr(pe,Y))},fa={makeTab:P=>({title:"Advanced",name:"advanced",items:[{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]})},ja=P=>{const Y=ts.sanitizer(Ol=>P.convertURL(Ol.value||Ol.url||"","src")),pe=new Promise(Ol=>{Fn(P,Tm=>{Ol(Y(Tm).map(Ip=>ko([[{text:"None",value:""}],Ip])))})}),De=ts.sanitize($o(P)),Zt=Al(P),nn=Wo(P),Xr=Fo(P),ci=Sn(P),ht=Pc(P),Bi=Ne(P),wa=wt(P),hc=xi(P),ma=st(P),$c=to(P),bd=mo(P),zm=le.some(zn(P)).filter(Ol=>Po(Ol)&&Ol.length>0);return pe.then(Ol=>({image:ht,imageList:Ol,classList:De,hasAdvTab:Zt,hasUploadTab:nn,hasUploadUrl:Xr,hasUploadHandler:ci,hasDescription:Bi,hasImageTitle:wa,hasDimensions:hc,hasImageCaption:ma,prependURL:zm,hasAccessibilityOptions:$c,automaticUploads:bd}))},Hc=P=>{const Y={name:"src",type:"urlinput",filetype:"image",label:"Source",picker_text:"Browse files"},pe=P.imageList.map(wa=>({name:"images",type:"listbox",label:"Image list",items:wa})),De={name:"alt",type:"input",label:"Alternative description",enabled:!(P.hasAccessibilityOptions&&P.image.isDecorative)},Zt={name:"title",type:"input",label:"Image title"},nn={name:"dimensions",type:"sizeinput"},Xr={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},ci=P.classList.map(wa=>({name:"classes",type:"listbox",label:"Class",items:wa})),ht={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},Bi=wa=>wa?{type:"grid",columns:2}:{type:"panel"};return ko([[Y],pe.toArray(),P.hasAccessibilityOptions&&P.hasDescription?[Xr]:[],P.hasDescription?[De]:[],P.hasImageTitle?[Zt]:[],P.hasDimensions?[nn]:[],[{...Bi(P.classList.isSome()&&P.hasImageCaption),items:ko([ci.toArray(),P.hasImageCaption?[ht]:[]])}]])},hs={makeTab:P=>({title:"General",name:"general",items:Hc(P)}),makeItems:Hc},os={makeTab:P=>({title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]})},hd=P=>({prevImage:ts.findEntry(P.imageList,P.image.src),prevAlt:P.image.alt,open:!0}),Sr=P=>({src:{value:P.src,meta:{}},images:P.src,alt:P.alt,title:P.title,dimensions:{width:P.width,height:P.height},classes:P.class,caption:P.caption,style:P.style,vspace:P.vspace,border:P.border,hspace:P.hspace,borderstyle:P.borderStyle,fileinput:[],isDecorative:P.isDecorative}),sl=(P,Y)=>({src:P.src.value,alt:(P.alt===null||P.alt.length===0)&&Y?null:P.alt,title:P.title,width:P.dimensions.width,height:P.dimensions.height,class:P.classes,style:P.style,caption:P.caption,hspace:P.hspace,vspace:P.vspace,border:P.border,borderStyle:P.borderstyle,isDecorative:P.isDecorative}),al=(P,Y)=>/^(?:[a-zA-Z]+:)?\/\//.test(Y)?le.none():P.prependURL.bind(pe=>Y.substring(0,pe.length)!==pe?le.some(pe+Y):le.none()),Gt=(P,Y)=>{const pe=Y.getData();al(P,pe.src.value).each(De=>{Y.setData({src:{value:De,meta:pe.src.meta}})})},Ua=(P,Y,pe)=>{P.hasDescription&&Po(pe.alt)&&(Y.alt=pe.alt),P.hasAccessibilityOptions&&(Y.isDecorative=pe.isDecorative||Y.isDecorative||!1),P.hasImageTitle&&Po(pe.title)&&(Y.title=pe.title),P.hasDimensions&&(Po(pe.width)&&(Y.dimensions.width=pe.width),Po(pe.height)&&(Y.dimensions.height=pe.height)),Po(pe.class)&&ts.findEntry(P.classList,pe.class).each(De=>{Y.classes=De.value}),P.hasImageCaption&&Bt(pe.caption)&&(Y.caption=pe.caption),P.hasAdvTab&&(Po(pe.style)&&(Y.style=pe.style),Po(pe.vspace)&&(Y.vspace=pe.vspace),Po(pe.border)&&(Y.border=pe.border),Po(pe.hspace)&&(Y.hspace=pe.hspace),Po(pe.borderstyle)&&(Y.borderstyle=pe.borderstyle))},ii=(P,Y)=>{const pe=Y.getData(),De=pe.src.meta;if(De!==void 0){const Zt=Na({},pe);Ua(P,Zt,De),Y.setData(Zt)}},Ns=(P,Y,pe,De)=>{const Zt=De.getData(),nn=Zt.src.value,Xr=Zt.src.meta||{};!Xr.width&&!Xr.height&&Y.hasDimensions&&(la(nn)?P.imageSize(nn).then(ci=>{pe.open&&De.setData({dimensions:ci})}).catch(ci=>console.error(ci)):De.setData({dimensions:{width:"",height:""}}))},Jl=(P,Y,pe)=>{const De=pe.getData(),Zt=ts.findEntry(P.imageList,De.src.value);Y.prevImage=Zt,pe.setData({images:Zt.map(nn=>nn.value).getOr("")})},hr=(P,Y,pe,De)=>{Gt(Y,De),ii(Y,De),Ns(P,Y,pe,De),Jl(Y,pe,De)},Si=(P,Y,pe,De)=>{const Zt=De.getData(),nn=ts.findEntry(Y.imageList,Zt.images);nn.each(Xr=>{Zt.alt===""||pe.prevImage.map(ht=>ht.text===Zt.alt).getOr(!1)?Xr.value===""?De.setData({src:Xr,alt:pe.prevAlt}):De.setData({src:Xr,alt:Xr.text}):De.setData({src:Xr})}),pe.prevImage=nn,hr(P,Y,pe,De)},li=(P,Y,pe,De)=>{const Zt=De.getData();De.block("Uploading image"),Oo(Zt.fileinput).fold(()=>{De.unblock()},nn=>{const Xr=URL.createObjectURL(nn),ci=()=>{De.unblock(),URL.revokeObjectURL(Xr)},ht=Bi=>{De.setData({src:{value:Bi,meta:{}}}),De.showTab("general"),hr(P,Y,pe,De),De.focus("src")};jo(nn).then(Bi=>{const wa=P.createBlobCache(nn,Xr,Bi);Y.automaticUploads?P.uploadImage(wa).then(hc=>{ht(hc.url),ci()}).catch(hc=>{ci(),P.alertErr(hc,()=>{De.focus("fileinput")})}):(P.addToBlobCache(wa),ht(wa.blobUri()),De.unblock())})})},Yo=(P,Y,pe)=>(De,Zt)=>{Zt.name==="src"?hr(P,Y,pe,De):Zt.name==="images"?Si(P,Y,pe,De):Zt.name==="alt"?pe.prevAlt=De.getData().alt:Zt.name==="fileinput"?li(P,Y,pe,De):Zt.name==="isDecorative"&&De.setEnabled("alt",!De.getData().isDecorative)},tl=P=>()=>{P.open=!1},il=P=>P.hasAdvTab||P.hasUploadUrl||P.hasUploadHandler?{type:"tabpanel",tabs:ko([[hs.makeTab(P)],P.hasAdvTab?[fa.makeTab(P)]:[],P.hasUploadTab&&(P.hasUploadUrl||P.hasUploadHandler)?[os.makeTab(P)]:[]])}:{type:"panel",items:hs.makeItems(P)},Vc=(P,Y,pe)=>De=>{const Zt=Na(Sr(Y.image),De.getData()),nn={...Zt,style:Cr(pe.normalizeCss,sl(Zt,!1))};P.execCommand("mceUpdateImage",!1,sl(nn,Y.hasAccessibilityOptions)),P.editorUpload.uploadImagesAuto(),De.close()},xr=P=>Y=>mt(P,Y)?Tn(P.documentBaseURI.toAbsolute(Y)).then(pe=>({width:String(pe.width),height:String(pe.height)})):Promise.resolve({width:"",height:""}),_a=P=>(Y,pe,De)=>{var Zt;return P.editorUpload.blobCache.create({blob:Y,blobUri:pe,name:(Zt=Y.name)===null||Zt===void 0?void 0:Zt.replace(/\.[^\.]+$/,""),filename:Y.name,base64:De.split(",")[1]})},Kd=P=>Y=>{P.editorUpload.blobCache.add(Y)},On=P=>(Y,pe)=>{P.windowManager.alert(Y,pe)},Tl=P=>Y=>zl(P,Y),Ur=P=>Y=>P.dom.parseStyle(Y),Ms=P=>(Y,pe)=>P.dom.serializeStyle(Y,pe),q=P=>Y=>ai(P).upload([Y],!1).then(pe=>{var De;return pe.length===0?Promise.reject("Failed to upload image"):pe[0].status===!1?Promise.reject((De=pe[0].error)===null||De===void 0?void 0:De.message):pe[0]}),ce=P=>{const Y={imageSize:xr(P),addToBlobCache:Kd(P),createBlobCache:_a(P),alertErr:On(P),normalizeCss:Tl(P),parseStyle:Ur(P),serializeStyle:Ms(P),uploadImage:q(P)};return{open:()=>{ja(P).then(De=>{const Zt=hd(De);return{title:"Insert/Edit Image",size:"normal",body:il(De),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Sr(De.image),onSubmit:Vc(P,De,Y),onChange:Yo(Y,De,Zt),onClose:tl(Zt)}}).then(P.windowManager.open)}}},_e=P=>{P.addCommand("mceImage",ce(P).open),P.addCommand("mceUpdateImage",(Y,pe)=>{P.undoManager.transact(()=>Gd(P,pe))})},Ve=P=>{const Y=P.attr("class");return Lo(Y)&&/\bimage\b/.test(Y)},ft=P=>Y=>{let pe=Y.length;const De=Zt=>{Zt.attr("contenteditable",P?"true":null)};for(;pe--;){const Zt=Y[pe];Ve(Zt)&&(Zt.attr("contenteditable",P?"false":null),pr.each(Zt.getAll("figcaption"),De))}},Vt=P=>{P.on("PreInit",()=>{P.parser.addNodeFilter("figure",ft(!0)),P.serializer.addNodeFilter("figure",ft(!1))})},Nt=P=>Y=>{const pe=()=>{Y.setEnabled(P.selection.isEditable())};return P.on("NodeChange",pe),pe(),()=>{P.off("NodeChange",pe)}},kr=P=>{P.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:ce(P).open,onSetup:Y=>{Y.setActive(Lo(Ni(P)));const pe=P.selection.selectorChangedWithUnbind("img:not([data-mce-object]):not([data-mce-placeholder]),figure.image",Y.setActive).unbind,De=Nt(P)(Y);return()=>{pe(),De()}}}),P.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:ce(P).open,onSetup:Nt(P)}),P.ui.registry.addContextMenu("image",{update:Y=>P.selection.isEditable()&&(vs(Y)||Xl(Y)&&!Ds(Y))?["image"]:[]})};var on=()=>{kn.add("image",P=>{hn(P),Vt(P),kr(P),_e(P)})};on()}()),wF}var SF;function Eq(){return SF||(SF=1,Sq()),_F}Eq();var EF={},AF={},zF;function Aq(){return zF||(zF=1,function(){var kn=tinymce.util.Tools.resolve("tinymce.PluginManager");const ur=(k,z,$)=>{var te;return $(k,z.prototype)?!0:((te=k.constructor)===null||te===void 0?void 0:te.name)===z.name},Vr=k=>{const z=typeof k;return k===null?"null":z==="object"&&Array.isArray(k)?"array":z==="object"&&ur(k,String,($,te)=>te.isPrototypeOf($))?"string":z},$r=k=>z=>Vr(z)===k,fr=k=>z=>typeof z===k,xo=k=>z=>k===z,rr=$r("string"),jn=$r("array"),Po=fr("boolean"),En=xo(void 0),Un=k=>k==null,ar=k=>!Un(k),An=fr("function"),Bt=fr("number"),Ut=()=>{},Lo=(k,z)=>$=>k(z($)),sr=k=>()=>k,rt=k=>k,ut=(k,z)=>k===z;function pt(k,...z){return(...$)=>{const te=z.concat($);return k.apply(null,te)}}const le=k=>{k()},Tt=sr(!1),ve=sr(!0);class lt{constructor(z,$){this.tag=z,this.value=$}static some(z){return new lt(!0,z)}static none(){return lt.singletonNone}fold(z,$){return this.tag?$(this.value):z()}isSome(){return this.tag}isNone(){return!this.tag}map(z){return this.tag?lt.some(z(this.value)):lt.none()}bind(z){return this.tag?z(this.value):lt.none()}exists(z){return this.tag&&z(this.value)}forall(z){return!this.tag||z(this.value)}filter(z){return!this.tag||z(this.value)?this:lt.none()}getOr(z){return this.tag?this.value:z}or(z){return this.tag?this:z}getOrThunk(z){return this.tag?this.value:z()}orThunk(z){return this.tag?this:z()}getOrDie(z){if(this.tag)return this.value;throw new Error(z??"Called getOrDie on None")}static from(z){return ar(z)?lt.some(z):lt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(z){this.tag&&z(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}lt.singletonNone=new lt(!1);const jr=Object.keys,Xn=Object.hasOwnProperty,Ro=(k,z)=>{const $=jr(k);for(let te=0,xe=$.length;te<xe;te++){const Ze=$[te],yt=k[Ze];z(yt,Ze)}},Le=k=>(z,$)=>{k[$]=z},It=(k,z,$,te)=>{Ro(k,(xe,Ze)=>{(z(xe,Ze)?$:te)(xe,Ze)})},T=(k,z)=>{const $={};return It(k,z,Le($),Ut),$},ko=(k,z)=>{const $=[];return Ro(k,(te,xe)=>{$.push(z(te,xe))}),$},Qt=k=>ko(k,rt),Oo=k=>jr(k).length,_r=(k,z)=>Ce(k,z)?lt.from(k[z]):lt.none(),Ce=(k,z)=>Xn.call(k,z),zt=(k,z)=>Ce(k,z)&&k[z]!==void 0&&k[z]!==null,tn=k=>{for(const z in k)if(Xn.call(k,z))return!1;return!0},xt=Array.prototype.indexOf,Qe=Array.prototype.push,Ot=(k,z)=>xt.call(k,z),Yr=(k,z)=>Ot(k,z)>-1,gn=(k,z)=>{for(let $=0,te=k.length;$<te;$++){const xe=k[$];if(z(xe,$))return!0}return!1},an=(k,z)=>{const $=[];for(let te=0;te<k;te++)$.push(z(te));return $},Co=(k,z)=>{const $=k.length,te=new Array($);for(let xe=0;xe<$;xe++){const Ze=k[xe];te[xe]=z(Ze,xe)}return te},V=(k,z)=>{for(let $=0,te=k.length;$<te;$++){const xe=k[$];z(xe,$)}},la=(k,z)=>{for(let $=k.length-1;$>=0;$--){const te=k[$];z(te,$)}},Nn=(k,z)=>{const $=[],te=[];for(let xe=0,Ze=k.length;xe<Ze;xe++){const yt=k[xe];(z(yt,xe)?$:te).push(yt)}return{pass:$,fail:te}},hn=(k,z)=>{const $=[];for(let te=0,xe=k.length;te<xe;te++){const Ze=k[te];z(Ze,te)&&$.push(Ze)}return $},xi=(k,z,$)=>(la(k,(te,xe)=>{$=z($,te,xe)}),$),Al=(k,z,$)=>(V(k,(te,xe)=>{$=z($,te,xe)}),$),Wo=(k,z,$)=>{for(let te=0,xe=k.length;te<xe;te++){const Ze=k[te];if(z(Ze,te))return lt.some(Ze);if($(Ze,te))break}return lt.none()},zn=(k,z)=>Wo(k,z,Tt),$o=k=>{const z=[];for(let $=0,te=k.length;$<te;++$){if(!jn(k[$]))throw new Error("Arr.flatten item "+$+" was not an array, input: "+k);Qe.apply(z,k[$])}return z},Ne=(k,z)=>$o(Co(k,z)),wt=(k,z)=>{for(let $=0,te=k.length;$<te;++$){const xe=k[$];if(z(xe,$)!==!0)return!1}return!0},st=(k,z)=>{const $={};for(let te=0,xe=k.length;te<xe;te++){const Ze=k[te];$[String(Ze)]=z(Ze,te)}return $},Ye=(k,z)=>z>=0&&z<k.length?lt.some(k[z]):lt.none(),to=k=>Ye(k,0),mo=k=>Ye(k,k.length-1),Fo=(k,z)=>{for(let $=0;$<k.length;$++){const te=z(k[$],$);if(te.isSome())return te}return lt.none()},Sn=8,Jn=9,Tn=11,Mn=1,wr=3,Os=(k,z)=>{const te=(z||document).createElement("div");if(te.innerHTML=k,!te.hasChildNodes()||te.childNodes.length>1){const xe="HTML does not have a single root node";throw console.error(xe,k),new Error(xe)}return jo(te.childNodes[0])},Fn=(k,z)=>{const te=(z||document).createElement(k);return jo(te)},Rr=(k,z)=>{const te=(z||document).createTextNode(k);return jo(te)},jo=k=>{if(k==null)throw new Error("Node cannot be null or undefined");return{dom:k}},mt={fromHtml:Os,fromTag:Fn,fromText:Rr,fromDom:jo,fromPoint:(k,z,$)=>lt.from(k.dom.elementFromPoint(z,$)).map(jo)},io=(k,z)=>{const $=k.dom;if($.nodeType!==Mn)return!1;{const te=$;if(te.matches!==void 0)return te.matches(z);if(te.msMatchesSelector!==void 0)return te.msMatchesSelector(z);if(te.webkitMatchesSelector!==void 0)return te.webkitMatchesSelector(z);if(te.mozMatchesSelector!==void 0)return te.mozMatchesSelector(z);throw new Error("Browser lacks native selectors")}},Mo=k=>k.nodeType!==Mn&&k.nodeType!==Jn&&k.nodeType!==Tn||k.childElementCount===0,Rs=(k,z)=>{const $=z===void 0?document:z.dom;return Mo($)?[]:Co($.querySelectorAll(k),mt.fromDom)},$a=(k,z)=>{const $=z===void 0?document:z.dom;return Mo($)?lt.none():lt.from($.querySelector(k)).map(mt.fromDom)},Je=(k,z)=>k.dom===z.dom,Ta=io;typeof window<"u"||Function("return this;")();const To=k=>k.dom.nodeName.toLowerCase(),ki=k=>k.dom.nodeType,Zn=k=>z=>ki(z)===k,ms=k=>ki(k)===Sn||To(k)==="#comment",Ji=Zn(Mn),Qi=Zn(wr),_i=Zn(Jn),ca=Zn(Tn),el=k=>z=>Ji(z)&&To(z)===k,Bn=k=>mt.fromDom(k.dom.ownerDocument),go=k=>_i(k)?k:Bn(k),Oa=k=>lt.from(k.dom.parentNode).map(mt.fromDom),vs=(k,z)=>{const $=An(z)?z:Tt;let te=k.dom;const xe=[];for(;te.parentNode!==null&&te.parentNode!==void 0;){const Ze=te.parentNode,yt=mt.fromDom(Ze);if(xe.push(yt),$(yt)===!0)break;te=Ze}return xe},Xl=k=>lt.from(k.dom.previousSibling).map(mt.fromDom),St=k=>lt.from(k.dom.nextSibling).map(mt.fromDom),Ri=k=>Co(k.dom.childNodes,mt.fromDom),Da=(k,z)=>{const $=k.dom.childNodes;return lt.from($[z]).map(mt.fromDom)},Cr=k=>Da(k,0),Ic=k=>ca(k)&&ar(k.dom.host),da=k=>mt.fromDom(k.dom.getRootNode()),ps=k=>{const z=da(k);return Ic(z)?lt.some(z):lt.none()},ri=k=>mt.fromDom(k.dom.host),mr=k=>{const z=Qi(k)?k.dom.parentNode:k.dom;if(z==null||z.ownerDocument===null)return!1;const $=z.ownerDocument;return ps(mt.fromDom(z)).fold(()=>$.body.contains(z),Lo(mr,ri))};var ks=(k,z,$,te,xe)=>k($,te)?lt.some($):An(xe)&&xe($)?lt.none():z($,te,xe);const Ra=(k,z,$)=>{let te=k.dom;const xe=An($)?$:Tt;for(;te.parentNode;){te=te.parentNode;const Ze=mt.fromDom(te);if(z(Ze))return lt.some(Ze);if(xe(Ze))break}return lt.none()},zl=(k,z,$)=>ks((xe,Ze)=>Ze(xe),Ra,k,z,$),Ni=(k,z)=>{const $=xe=>z(mt.fromDom(xe));return zn(k.dom.childNodes,$).map(mt.fromDom)},si=(k,z,$)=>Ra(k,te=>io(te,z),$),Pc=(k,z)=>Ni(k,$=>io($,z)),Lc=(k,z)=>$a(z,k),ln=(k,z,$)=>ks((xe,Ze)=>io(xe,Ze),si,k,z,$),gs=k=>ln(k,"[contenteditable]"),ua=(k,z=!1)=>mr(k)?k.dom.isContentEditable:gs(k).fold(sr(z),$=>Fc($)==="true"),Fc=k=>k.dom.contentEditable,Gd=k=>k.nodeName.toLowerCase(),gd=k=>mt.fromDom(k.getBody()),es=k=>z=>Je(z,gd(k)),Na=k=>k?k.replace(/px$/,""):"",ai=k=>/^\d+(\.\d+)?$/.test(k)?k+"px":k,pr=k=>mt.fromDom(k.selection.getStart()),ir=k=>mt.fromDom(k.selection.getEnd()),wi=k=>zl(k,el("table")).forall(ua),Ma=(k,z)=>hn(Ri(k),z),Js=(k,z)=>{let $=[];return V(Ri(k),te=>{z(te)&&($=$.concat([te])),$=$.concat(Js(te,z))}),$},Mi=(k,z)=>Ma(k,$=>io($,z)),ss=(k,z)=>Rs(z,k),gr=(k,z,$)=>{if(rr($)||Po($)||Bt($))k.setAttribute(z,$+"");else throw console.error("Invalid call to Attribute.set. Key ",z,":: Value ",$,":: Element ",k),new Error("Attribute value was not simple")},Ci=(k,z,$)=>{gr(k.dom,z,$)},ts=(k,z)=>{const $=k.dom;Ro(z,(te,xe)=>{gr($,xe,te)})},Qn=(k,z)=>{const $=k.dom.getAttribute(z);return $===null?void 0:$},fa=(k,z)=>lt.from(Qn(k,z)),ja=(k,z)=>{k.dom.removeAttribute(z)},Hc=k=>Al(k.dom.attributes,(z,$)=>(z[$.name]=$.value,z),{}),po=(k,z,$=ut)=>k.exists(te=>$(te,z)),hs=k=>{const z=[],$=te=>{z.push(te)};for(let te=0;te<k.length;te++)k[te].each($);return z},as=(k,z,$)=>k.isSome()&&z.isSome()?lt.some($(k.getOrDie(),z.getOrDie())):lt.none(),os=k=>k.bind(rt),hd=(k,z)=>k?lt.some(z):lt.none(),Sr=(k,z)=>k.substring(z),sl=(k,z,$)=>z===""||k.length>=z.length&&k.substr($,$+z.length)===z,al=(k,z)=>Gt(k,z)?Sr(k,z.length):k,Gt=(k,z)=>sl(k,z,0),ii=(k=>z=>z.replace(k,""))(/^\s+|\s+$/g),Ns=k=>k.length>0,Jl=k=>!Ns(k),hr=(k,z=10)=>{const $=parseInt(k,z);return isNaN($)?lt.none():lt.some($)},Si=k=>{const z=parseFloat(k);return isNaN(z)?lt.none():lt.some(z)},li=k=>k.style!==void 0&&An(k.style.getPropertyValue),Yo=(k,z,$)=>{if(!rr($))throw console.error("Invalid call to CSS.set. Property ",z,":: Value ",$,":: Element ",k),new Error("CSS value must be a string: "+$);li(k)&&k.style.setProperty(z,$)},tl=(k,z)=>{li(k)&&k.style.removeProperty(z)},il=(k,z,$)=>{const te=k.dom;Yo(te,z,$)},Vc=(k,z)=>{const $=k.dom,xe=window.getComputedStyle($).getPropertyValue(z);return xe===""&&!mr(k)?xr($,z):xe},xr=(k,z)=>li(k)?k.style.getPropertyValue(z):"",_a=(k,z)=>{const $=k.dom,te=xr($,z);return lt.from(te).filter(xe=>xe.length>0)},Kd=(k,z)=>{const $=k.dom;tl($,z),po(fa(k,"style").map(ii),"")&&ja(k,"style")},On=(k,z,$=0)=>fa(k,z).map(te=>parseInt(te,10)).getOr($),Tl=(k,z)=>Ur(k,z,ve),Ur=(k,z,$)=>Ne(Ri(k),te=>io(te,z)?$(te)?[te]:[]:Ur(te,z,$)),Ms=["tfoot","thead","tbody","colgroup"],q=k=>Yr(Ms,k),ce=(k,z)=>({rows:k,columns:z}),_e=(k,z,$)=>({element:k,rowspan:z,colspan:$}),Ve=(k,z,$,te,xe,Ze)=>({element:k,rowspan:z,colspan:$,row:te,column:xe,isLocked:Ze}),ft=(k,z,$)=>({element:k,cells:z,section:$}),Vt=(k,z,$,te)=>({startRow:k,startCol:z,finishRow:$,finishCol:te}),Nt=(k,z,$)=>({element:k,colspan:z,column:$}),kr=(k,z)=>({element:k,columns:z}),on=(k,z,$=Tt)=>{if($(z))return lt.none();if(Yr(k,To(z)))return lt.some(z);const te=xe=>io(xe,"table")||$(xe);return si(z,k.join(","),te)},P=(k,z)=>on(["td","th"],k,z),Y=k=>Tl(k,"th,td"),pe=k=>io(k,"colgroup")?Mi(k,"col"):Ne(nn(k),z=>Mi(z,"col")),De=(k,z)=>ln(k,"table",z),Zt=k=>Tl(k,"tr"),nn=k=>De(k).fold(sr([]),z=>Mi(z,"colgroup")),Xr=(k,z)=>Co(k,$=>{if(To($)==="colgroup"){const te=Co(pe($),xe=>{const Ze=On(xe,"span",1);return _e(xe,1,Ze)});return ft($,te,"colgroup")}else{const te=Co(Y($),xe=>{const Ze=On(xe,"rowspan",1),yt=On(xe,"colspan",1);return _e(xe,Ze,yt)});return ft($,te,z($))}}),ci=k=>Oa(k).map(z=>{const $=To(z);return q($)?$:"tbody"}).getOr("tbody"),ht=k=>{const z=Zt(k),te=[...nn(k),...z];return Xr(te,ci)},Bi="data-snooker-locked-cols",wa=k=>fa(k,Bi).bind(z=>lt.from(z.match(/\d+/g))).map(z=>st(z,ve)),hc=(k,z)=>k+","+z,ma=(k,z,$)=>lt.from(k.access[hc(z,$)]),$c=(k,z,$)=>{const te=bd(k,xe=>$(z,xe.element));return te.length>0?lt.some(te[0]):lt.none()},bd=(k,z)=>{const $=Ne(k.all,te=>te.cells);return hn($,z)},zm=k=>{const z={};let $=0;return V(k.cells,te=>{const xe=te.colspan;an(xe,Ze=>{const yt=$+Ze;z[yt]=Nt(te.element,xe,yt)}),$+=xe}),z},Ol=k=>{const z={},$=[],xe=to(k).map(vl=>vl.element).bind(De).bind(wa).getOr({});let Ze=0,yt=0,_t=0;const{pass:Ao,fail:Yt}=Nn(k,vl=>vl.section==="colgroup");V(Yt,vl=>{const Es=[];V(vl.cells,Cc=>{let Qc=0;for(;z[hc(_t,Qc)]!==void 0;)Qc++;const Ou=zt(xe,Qc.toString()),Ws=Ve(Cc.element,Cc.rowspan,Cc.colspan,_t,Qc,Ou);for(let tu=0;tu<Cc.colspan;tu++)for(let ba=0;ba<Cc.rowspan;ba++){const ou=_t+ba,nu=Qc+tu,cf=hc(ou,nu);z[cf]=Ws,yt=Math.max(yt,nu+1)}Es.push(Ws)}),Ze++,$.push(ft(vl.element,Es,vl.section)),_t++});const{columns:Qo,colgroups:Pn}=mo(Ao).map(vl=>{const Es=zm(vl);return{colgroups:[kr(vl.element,Qt(Es))],columns:Es}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:ce(Ze,yt),access:z,all:$,columns:Qo,colgroups:Pn}},jc={fromTable:k=>{const z=ht(k);return Ol(z)},generate:Ol,getAt:ma,findItem:$c,filterItems:bd,justCells:k=>Ne(k.all,z=>z.cells),justColumns:k=>Qt(k.columns),hasColumns:k=>jr(k.columns).length>0,getColumnAt:(k,z)=>lt.from(k.columns[z])};var Yd=tinymce.util.Tools.resolve("tinymce.util.Tools");const Yu=(k,z,$)=>{const te=k.select("td,th",z);let xe;for(let Ze=0;Ze<te.length;Ze++){const yt=k.getStyle(te[Ze],$);if(En(xe)&&(xe=yt),xe!==yt)return""}return xe},pa=(k,z,$)=>{Yd.each("left center right".split(" "),te=>{te!==$&&k.formatter.remove("align"+te,{},z)}),$&&k.formatter.apply("align"+$,{},z)},yd=(k,z,$)=>{Yd.each("top middle bottom".split(" "),te=>{te!==$&&k.formatter.remove("valign"+te,{},z)}),$&&k.formatter.apply("valign"+$,{},z)},bc=(k,z,$)=>{k.dispatch("TableModified",{...$,table:z})},cn=(k,z)=>Si(k).getOr(z),di=(k,z,$)=>cn(Vc(k,z),$),pu=(k,z,$,te)=>{const xe=di(k,`padding-${$}`,0),Ze=di(k,`padding-${te}`,0),yt=di(k,`border-${$}-width`,0),_t=di(k,`border-${te}-width`,0);return z-xe-Ze-yt-_t},Om=(k,z)=>{const $=k.dom,te=$.getBoundingClientRect().width||$.offsetWidth;return pu(k,te,"left","right")},Ei=k=>Om(k);var Qs=tinymce.util.Tools.resolve("tinymce.Env");const yc="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",_s=an(5,k=>{const z=`${k+1}px`;return{title:z,value:z}}),Ba=Co(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],k=>({title:k,value:k.toLowerCase()})),Ii="100%",In=k=>{var z;const $=k.dom,te=(z=$.getParent(k.selection.getStart(),$.isBlock))!==null&&z!==void 0?z:k.getBody();return Ei(mt.fromDom(te))+"px"},Dl=(k,z)=>Dm(k)||!sn(k)?z:hu(k)?{...z,width:In(k)}:{...z,width:Ii},Ia=(k,z)=>Dm(k)||sn(k)?z:hu(k)?{...z,width:In(k)}:{...z,width:Ii},$s=k=>z=>z.options.get(k),ll=k=>{const z=k.options.register;z("table_border_widths",{processor:"object[]",default:_s}),z("table_border_styles",{processor:"object[]",default:Ba}),z("table_cell_advtab",{processor:"boolean",default:!0}),z("table_row_advtab",{processor:"boolean",default:!0}),z("table_advtab",{processor:"boolean",default:!0}),z("table_appearance_options",{processor:"boolean",default:!0}),z("table_grid",{processor:"boolean",default:!Qs.deviceType.isTouch()}),z("table_cell_class_list",{processor:"object[]",default:[]}),z("table_row_class_list",{processor:"object[]",default:[]}),z("table_class_list",{processor:"object[]",default:[]}),z("table_toolbar",{processor:"string",default:yc}),z("table_background_color_map",{processor:"object[]",default:[]}),z("table_border_color_map",{processor:"object[]",default:[]})},Dn=$s("table_sizing_mode"),js=$s("table_border_widths"),Ql=$s("table_border_styles"),Us=$s("table_cell_advtab"),Bs=$s("table_row_advtab"),$t=$s("table_advtab"),ec=$s("table_appearance_options"),vd=$s("table_grid"),sn=$s("table_style_by_css"),Xd=$s("table_cell_class_list"),gu=$s("table_row_class_list"),vc=$s("table_class_list"),Zo=$s("table_toolbar"),Pa=$s("table_background_color_map"),Xu=$s("table_border_color_map"),hu=k=>Dn(k)==="fixed",Dm=k=>Dn(k)==="responsive",tc=k=>{const z=k.options,$=z.get("table_default_styles");return z.isSet("table_default_styles")?$:Dl(k,$)},cl=k=>{const z=k.options,$=z.get("table_default_attributes");return z.isSet("table_default_attributes")?$:Ia(k,$)},xd=(k,z)=>z.column>=k.startCol&&z.column+z.colspan-1<=k.finishCol&&z.row>=k.startRow&&z.row+z.rowspan-1<=k.finishRow,Ju=(k,z)=>{let $=!0;const te=pt(xd,z);for(let xe=z.startRow;xe<=z.finishRow;xe++)for(let Ze=z.startCol;Ze<=z.finishCol;Ze++)$=$&&jc.getAt(k,xe,Ze).exists(te);return $?lt.some(z):lt.none()},me=(k,z)=>Vt(Math.min(k.row,z.row),Math.min(k.column,z.column),Math.max(k.row+k.rowspan-1,z.row+z.rowspan-1),Math.max(k.column+k.colspan-1,z.column+z.colspan-1)),kd=(k,z,$)=>{const te=jc.findItem(k,z,Je),xe=jc.findItem(k,$,Je);return te.bind(Ze=>xe.map(yt=>me(Ze,yt)))},Hn=(k,z,$)=>kd(k,z,$).bind(te=>Ju(k,te)),Pp=(k,z,$)=>{const te=Qu(k);return Hn(te,z,$)},Qu=jc.fromTable,Rl=(k,z)=>{Oa(k).each(te=>{te.dom.insertBefore(z.dom,k.dom)})},rn=(k,z)=>{St(k).fold(()=>{Oa(k).each(xe=>{ol(xe,z)})},te=>{Rl(te,z)})},Za=(k,z)=>{Cr(k).fold(()=>{ol(k,z)},te=>{k.dom.insertBefore(z.dom,te.dom)})},ol=(k,z)=>{k.dom.appendChild(z.dom)},dl=(k,z)=>{Rl(k,z),ol(z,k)},xc=(k,z)=>{V(z,($,te)=>{const xe=te===0?k:z[te-1];rn(xe,$)})},bu=(k,z)=>{V(z,$=>{ol(k,$)})},Wa=k=>{const z=k.dom;z.parentNode!==null&&z.parentNode.removeChild(z)},yu=k=>{const z=Ri(k);z.length>0&&xc(k,z),Wa(k)},vu=((k,z)=>{const $=Ze=>{if(!k(Ze))throw new Error("Can only get "+z+" value of a "+z+" node");return te(Ze).getOr("")},te=Ze=>k(Ze)?lt.from(Ze.dom.nodeValue):lt.none();return{get:$,getOption:te,set:(Ze,yt)=>{if(!k(Ze))throw new Error("Can only set raw "+z+" value of a "+z+" node");Ze.dom.nodeValue=yt}}})(Qi,"text"),Is=k=>vu.get(k),co=(k,z)=>vu.set(k,z);var Uc=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],wd=()=>{const k=Yt=>mt.fromDom(Yt.dom.cloneNode(!1)),z=Yt=>go(Yt).dom,$=Yt=>Ji(Yt)?To(Yt)==="body"?!0:Yr(Uc,To(Yt)):!1,te=Yt=>Ji(Yt)?Yr(["br","img","hr","input"],To(Yt)):!1,xe=Yt=>Ji(Yt)&&Qn(Yt,"contenteditable")==="false",Ze=(Yt,Qo)=>Yt.dom.compareDocumentPosition(Qo.dom),yt=(Yt,Qo)=>{const Pn=Hc(Yt);ts(Qo,Pn)},_t=Yt=>{const Qo=To(Yt);return Yr(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Qo)},Ao=Yt=>Ji(Yt)?fa(Yt,"lang"):lt.none();return{up:sr({selector:si,closest:ln,predicate:Ra,all:vs}),down:sr({selector:ss,predicate:Js}),styles:sr({get:Vc,getRaw:_a,set:il,remove:Kd}),attrs:sr({get:Qn,set:Ci,remove:ja,copyTo:yt}),insert:sr({before:Rl,after:rn,afterAll:xc,append:ol,appendAll:bu,prepend:Za,wrap:dl}),remove:sr({unwrap:yu,remove:Wa}),create:sr({nu:mt.fromTag,clone:k,text:mt.fromText}),query:sr({comparePosition:Ze,prevSibling:Xl,nextSibling:St}),property:sr({children:Ri,name:To,parent:Oa,document:z,isText:Qi,isComment:ms,isElement:Ji,isSpecial:_t,getLanguage:Ao,getText:Is,setText:co,isBoundary:$,isEmptyTag:te,isNonEditable:xe}),eq:Je,is:Ta}};const qa=(k,z,$,te)=>{const xe=$[0],Ze=$.slice(1);return te(k,z,xe,Ze)},Zc=(k,z,$)=>$.length>0?qa(k,z,$,ul):lt.none(),ul=(k,z,$,te)=>{const xe=z(k,$);return xi(te,(Ze,yt)=>{const _t=z(k,yt);return Cd(k,Ze,_t)},xe)},Cd=(k,z,$)=>z.bind(te=>$.filter(pt(k.eq,te))),Wc=Zc,Ps=wd(),Sd=(k,z)=>Wc(Ps,($,te)=>k(te),z),kc=k=>si(k,"table"),xu=(k,z)=>{const $=ss(k,z);return $.length>0?lt.some($):lt.none()},ku=(k,z,$)=>Lc(k,z).bind(te=>Lc(k,$).bind(xe=>Sd(kc,[te,xe]).map(Ze=>({first:te,last:xe,table:Ze})))),Ed=(k,z)=>xu(k,z),Jd=(k,z,$)=>ku(k,z,$).bind(te=>{const xe=Ao=>Je(k,Ao),Ze="thead,tfoot,tbody,table",yt=si(te.first,Ze,xe),_t=si(te.last,Ze,xe);return yt.bind(Ao=>_t.bind(Yt=>Je(Ao,Yt)?Pp(te.table,te.first,te.last):lt.none()))}),_u=k=>Co(k,mt.fromDom),Jr="data-mce-selected",La="data-mce-first-selected",Ga="td["+La+"],th["+La+"]",Pi="data-mce-last-selected",ea="td["+Pi+"],th["+Pi+"]",ef={selected:Jr,firstSelectedSelector:Ga,lastSelectedSelector:ea},Ls=k=>De(k).bind(z=>Ed(z,ef.firstSelectedSelector)).fold(sr(k),z=>z[0]),ta=k=>(z,$)=>{const te=To(z),xe=te==="col"||te==="colgroup"?Ls(z):z;return ln(xe,k,$)},qc=ta("th,td,caption"),Ke=ta("th,td"),oa=k=>_u(k.model.table.getSelectedCells()),ws=(k,z)=>{const $=Ke(k),te=$.bind(xe=>De(xe)).map(xe=>Zt(xe));return as($,te,(xe,Ze)=>hn(Ze,yt=>gn(_u(yt.dom.cells),_t=>Qn(_t,z)==="1"||Je(_t,xe)))).getOr([])},ga=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],fl=k=>({value:bn(k)}),Li=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,wu=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Ka=k=>Li.test(k)||wu.test(k),bn=k=>al(k,"#").toUpperCase(),ml=k=>Ka(k)?lt.some({value:bn(k)}):lt.none(),Nl=k=>{const z=k.toString(16);return(z.length===1?"0"+z:z).toUpperCase()},er=k=>{const z=Nl(k.red)+Nl(k.green)+Nl(k.blue);return fl(z)},tf=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,Ya=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,of=(k,z,$,te)=>({red:k,green:z,blue:$,alpha:te}),fi=(k,z,$,te)=>{const xe=parseInt(k,10),Ze=parseInt(z,10),yt=parseInt($,10),_t=parseFloat(te);return of(xe,Ze,yt,_t)},Te=k=>{const z=tf.exec(k);if(z!==null)return lt.some(fi(z[1],z[2],z[3],"1"));const $=Ya.exec(k);return $!==null?lt.some(fi($[1],$[2],$[3],$[4])):lt.none()},is=k=>ml(k).orThunk(()=>Te(k).map(er)).getOrThunk(()=>{const z=document.createElement("canvas");z.height=1,z.width=1;const $=z.getContext("2d");$.clearRect(0,0,z.width,z.height),$.fillStyle="#FFFFFF",$.fillStyle=k,$.fillRect(0,0,1,1);const te=$.getImageData(0,0,1,1).data,xe=te[0],Ze=te[1],yt=te[2],_t=te[3];return er(of(xe,Ze,yt,_t))}),oc=k=>Te(k).map(er).map(z=>"#"+z.value).getOr(k),Er=k=>{let z=k;return{get:()=>z,set:xe=>{z=xe}}},lr=k=>{const z=Er(lt.none()),$=()=>z.get().each(k);return{clear:()=>{$(),z.set(lt.none())},isSet:()=>z.get().isSome(),get:()=>z.get(),set:_t=>{$(),z.set(lt.some(_t))}}},Zs=()=>lr(k=>k.unbind()),br=(k,z,$)=>te=>{const xe=Zs(),Ze=Jl($),yt=()=>{const _t=oa(k),Ao=Yt=>k.formatter.match(z,{value:$},Yt.dom,Ze);Ze?(te.setActive(!gn(_t,Ao)),xe.set(k.formatter.formatChanged(z,Yt=>te.setActive(!Yt),!0))):(te.setActive(wt(_t,Ao)),xe.set(k.formatter.formatChanged(z,te.setActive,!1,{value:$})))};return k.initialized?yt():k.on("init",yt),xe.clear},Ai=k=>zt(k,"menu"),nc=k=>Co(k,z=>{const $=z.text||z.title||"";return Ai(z)?{text:$,items:nc(z.menu)}:{text:$,value:z.value}}),_n=k=>k.length?lt.some(nc([{text:"Select...",value:"mce-no-match"},...k])):lt.none(),na=(k,z,$,te)=>Co(z,xe=>{const Ze=xe.text||xe.title;return Ai(xe)?{type:"nestedmenuitem",text:Ze,getSubmenuItems:()=>na(k,xe.menu,$,te)}:{text:Ze,type:"togglemenuitem",onAction:()=>te(xe.value),onSetup:br(k,$,xe.value)}}),Ml=(k,z)=>$=>{k.execCommand("mceTableApplyCellStyle",!1,{[z]:$})},mi=k=>Ne(k,z=>Ai(z)?[{...z,menu:mi(z.menu)}]:Ns(z.value)?[z]:[]),Ad=(k,z,$,te)=>xe=>xe(na(k,z,$,te)),Bl=(k,z,$)=>{const te=Co(z,xe=>({text:xe.title,value:"#"+is(xe.value).value,type:"choiceitem"}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:te.length>0?te:void 0,allowCustomColors:!1},onAction:xe=>{const Ze=xe.value==="remove"?"":xe.value;k.execCommand("mceTableApplyCellStyle",!1,{[$]:Ze})}}]},Zf=k=>()=>{const $=k.queryCommandValue("mceTableRowType")==="header"?"body":"header";k.execCommand("mceTableRowType",!1,{type:$})},Rm=k=>()=>{const $=k.queryCommandValue("mceTableColType")==="th"?"td":"th";k.execCommand("mceTableColType",!1,{type:$})},zd=k=>_n(Xd(k)).map(z=>({name:"class",type:"listbox",label:"Class",items:z})),ha=[{name:"width",type:"input",label:"Width"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:ga}],C=k=>ha.concat(zd(k).toArray()),M=(k,z)=>{const te=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(nc(Ql(k)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:z==="cell"?[{name:"borderwidth",type:"input",label:"Border width"}].concat(te):te}},ue={normal:(k,z)=>{const $=k.dom;return{setAttrib:(yt,_t)=>{$.setAttrib(z,yt,_t)},setStyle:(yt,_t)=>{$.setStyle(z,yt,_t)},setFormat:(yt,_t)=>{_t===""?k.formatter.remove(yt,{value:null},z,!0):k.formatter.apply(yt,{value:_t},z)}}}},ge=el("th"),ot=(k,z)=>k&&z?"sectionCells":k?"section":"cells",no=k=>{const z=k.section==="thead",$=po(Bo(k.cells),"th");return k.section==="tfoot"?{type:"footer"}:z||$?{type:"header",subType:ot(z,$)}:{type:"body"}},Bo=k=>{const z=hn(k,$=>ge($.element));return z.length===0?lt.some("td"):z.length===k.length?lt.some("th"):lt.none()},bo=k=>{const z=Co(k,xe=>no(xe).type),$=Yr(z,"header"),te=Yr(z,"footer");if(!$&&!te)return lt.some("body");{const xe=Yr(z,"body");return $&&!xe&&!te?lt.some("header"):!$&&!xe&&te?lt.some("footer"):lt.none()}},Kt=k=>{let z=!1,$;return(...te)=>(z||(z=!0,$=k.apply(null,te)),$)},Nr=(k,z)=>Fo(k.all,$=>zn($.cells,te=>Je(z,te.element))),Zr=(k,z,$)=>{const te=Co(z.selection,Ze=>P(Ze).bind(yt=>Nr(k,yt)).filter($)),xe=hs(te);return hd(xe.length>0,xe)},Il=(k,z)=>z.mergable,pi=(k,z)=>z.unmergable,_c=(k,z)=>Zr(k,z,ve),Cu=(k,z)=>Nr(k,z).exists($=>!$.isLocked),Wf=(k,z)=>wt(z,$=>Cu(k,$)),Cs=(k,z)=>Il(k,z).filter($=>Wf(k,$.cells)),Su=(k,z)=>pi(k,z).filter($=>Wf(k,$));({...{generate:k=>{if(!jn(k))throw new Error("cases must be an array");if(k.length===0)throw new Error("there must be at least one case");const z=[],$={};return V(k,(te,xe)=>{const Ze=jr(te);if(Ze.length!==1)throw new Error("one and only one name per case");const yt=Ze[0],_t=te[yt];if($[yt]!==void 0)throw new Error("duplicate key detected:"+yt);if(yt==="cata")throw new Error("cannot have a case named cata (sorry)");if(!jn(_t))throw new Error("case arguments must be an array");z.push(yt),$[yt]=(...Ao)=>{const Yt=Ao.length;if(Yt!==_t.length)throw new Error("Wrong number of arguments to case "+yt+". Expected "+_t.length+" ("+_t+"), got "+Yt);return{fold:(...Pn)=>{if(Pn.length!==k.length)throw new Error("Wrong number of arguments to fold. Expected "+k.length+", got "+Pn.length);return Pn[xe].apply(null,Ao)},match:Pn=>{const Wn=jr(Pn);if(z.length!==Wn.length)throw new Error("Wrong number of arguments to match. Expected: "+z.join(",")+`
Actual: `+Wn.join(","));if(!wt(z,Es=>Yr(Wn,Es)))throw new Error("Not all branches were specified when using match. Specified: "+Wn.join(", ")+`
Required: `+z.join(", "));return Pn[yt].apply(null,Ao)},log:Pn=>{console.log(Pn,{constructors:z,constructor:yt,params:Ao})}}}}),$}}.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])});const Fs=(k,z)=>{const $=jc.fromTable(k);return _c($,z).bind(xe=>{const Ze=xe[xe.length-1],yt=xe[0].row,_t=Ze.row+Ze.rowspan,Ao=$.all.slice(yt,_t);return bo(Ao)}).getOr("")},Eu=k=>Gt(k,"rgb")?oc(k):k,Gc=k=>{const z=mt.fromDom(k);return{borderwidth:_a(z,"border-width").getOr(""),borderstyle:_a(z,"border-style").getOr(""),bordercolor:_a(z,"border-color").map(Eu).getOr(""),backgroundcolor:_a(z,"background-color").map(Eu).getOr("")}},pl=k=>{const z=k[0],$=k.slice(1);return V($,te=>{V(jr(z),xe=>{Ro(te,(Ze,yt)=>{const _t=z[xe];_t!==""&&xe===yt&&_t!==Ze&&(z[xe]=xe==="class"?"mce-no-match":"")})})}),z},Kc=(k,z,$,te)=>zn(k,xe=>!En($.formatter.matchNode(te,z+xe))).getOr(""),Au=pt(Kc,["left","center","right"],"align"),ib=pt(Kc,["top","middle","bottom"],"valign"),qf=(k,z)=>{const $=tc(k),te=cl(k),xe=()=>({borderstyle:_r($,"border-style").getOr(""),bordercolor:Eu(_r($,"border-color").getOr("")),backgroundcolor:Eu(_r($,"background-color").getOr(""))}),Ze={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},yt=()=>{const Qo=$["border-width"];return sn(k)&&Qo?{border:Qo}:_r(te,"border").fold(()=>({}),Pn=>({border:Pn}))},_t=z?xe():{},Ao=()=>{const Qo=_r($,"border-spacing").or(_r(te,"cellspacing")).fold(()=>({}),Wn=>({cellspacing:Wn})),Pn=_r($,"border-padding").or(_r(te,"cellpadding")).fold(()=>({}),Wn=>({cellpadding:Wn}));return{...Qo,...Pn}};return{...Ze,...$,...te,..._t,...yt(),...Ao()}},Zg=k=>De(mt.fromDom(k)).map(z=>{const $={selection:_u(k.cells)};return Fs(z,$)}).getOr(""),nf=(k,z,$)=>{const te=(_t,Ao)=>{const Yt=_a(mt.fromDom(Ao),"border-width");return sn(k)&&Yt.isSome()?Yt.getOr(""):_t.getAttrib(Ao,"border")||Yu(k.dom,Ao,"border-width")||Yu(k.dom,Ao,"border")||""},xe=k.dom,Ze=sn(k)?xe.getStyle(z,"border-spacing")||xe.getAttrib(z,"cellspacing"):xe.getAttrib(z,"cellspacing")||xe.getStyle(z,"border-spacing"),yt=sn(k)?Yu(xe,z,"padding")||xe.getAttrib(z,"cellpadding"):xe.getAttrib(z,"cellpadding")||Yu(xe,z,"padding");return{width:xe.getStyle(z,"width")||xe.getAttrib(z,"width"),height:xe.getStyle(z,"height")||xe.getAttrib(z,"height"),cellspacing:Ze??"",cellpadding:yt??"",border:te(xe,z),caption:!!xe.select("caption",z)[0],class:xe.getAttrib(z,"class",""),align:Au(k,z),...$?Gc(z):{}}},Td=(k,z,$)=>{const te=k.dom;return{height:te.getStyle(z,"height")||te.getAttrib(z,"height"),class:te.getAttrib(z,"class",""),type:Zg(z),align:Au(k,z),...$?Gc(z):{}}},Lp=(k,z,$,te)=>{const xe=k.dom,Ze=te.getOr(z);return{width:((_t,Ao)=>xe.getStyle(_t,Ao)||xe.getAttrib(_t,Ao))(Ze,"width"),scope:xe.getAttrib(z,"scope"),celltype:Gd(z),class:xe.getAttrib(z,"class",""),halign:Au(k,z),valign:ib(k,z),...$?Gc(z):{}}},qt=(k,z)=>{const $=jc.fromTable(k),te=jc.justCells($),xe=hn(te,Ze=>gn(z,yt=>Je(Ze.element,yt)));return Co(xe,Ze=>({element:Ze.element.dom,column:jc.getColumnAt($,Ze.column).map(yt=>yt.element.dom)}))},Pl=(k,z,$,te)=>{te("scope")&&k.setAttrib("scope",$.scope),te("class")&&$.class!=="mce-no-match"&&k.setAttrib("class",$.class),te("width")&&z.setStyle("width",ai($.width))},Yc=(k,z,$)=>{$("backgroundcolor")&&k.setFormat("tablecellbackgroundcolor",z.backgroundcolor),$("bordercolor")&&k.setFormat("tablecellbordercolor",z.bordercolor),$("borderstyle")&&k.setFormat("tablecellborderstyle",z.borderstyle),$("borderwidth")&&k.setFormat("tablecellborderwidth",ai(z.borderwidth))},gl=(k,z,$,te)=>{const xe=z.length===1;V(z,Ze=>{const yt=Ze.element,_t=xe?ve:te,Ao=ue.normal(k,yt),Yt=Ze.column.map(Qo=>ue.normal(k,Qo)).getOr(Ao);Pl(Ao,Yt,$,_t),Us(k)&&Yc(Ao,$,_t),te("halign")&&pa(k,yt,$.halign),te("valign")&&yd(k,yt,$.valign)})},gi=(k,z)=>{k.execCommand("mceTableCellType",!1,{type:z.celltype,no_events:!0})},rf=(k,z,$,te)=>{const xe=T(te,(Ze,yt)=>$[yt]!==Ze);Oo(xe)>0&&z.length>=1&&De(z[0]).each(Ze=>{const yt=qt(Ze,z),_t=Oo(T(xe,(Yt,Qo)=>Qo!=="scope"&&Qo!=="celltype"))>0,Ao=Ce(xe,"celltype");(_t||Ce(xe,"scope"))&&gl(k,yt,te,pt(Ce,xe)),Ao&&gi(k,te),bc(k,Ze.dom,{structure:Ao,style:_t})})},sf=(k,z,$,te)=>{const xe=te.getData();te.close(),k.undoManager.transact(()=>{rf(k,z,$,xe),k.focus()})},Xc=(k,z)=>{const $=De(z[0]).map(te=>Co(qt(te,z),xe=>Lp(k,xe.element,Us(k),xe.column)));return pl($.getOrDie())},Wg=k=>{const z=oa(k);if(z.length===0)return;const $=Xc(k,z),te={type:"tabpanel",tabs:[{title:"General",name:"general",items:C(k)},M(k,"cell")]},xe={type:"panel",items:[{type:"grid",columns:2,items:C(k)}]};k.windowManager.open({title:"Cell Properties",size:"normal",body:Us(k)?te:xe,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:$,onSubmit:pt(sf,k,z,$)})},Jc=k=>_n(gu(k)).map(z=>({name:"class",type:"listbox",label:"Class",items:z})),Fp=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],Gf=k=>Fp.concat(Jc(k).toArray()),bt=(k,z,$)=>{$("class")&&z.class!=="mce-no-match"&&k.setAttrib("class",z.class),$("height")&&k.setStyle("height",ai(z.height))},Xo=(k,z,$)=>{$("backgroundcolor")&&k.setStyle("background-color",z.backgroundcolor),$("bordercolor")&&k.setStyle("border-color",z.bordercolor),$("borderstyle")&&k.setStyle("border-style",z.borderstyle)},oo=(k,z,$,te)=>{const Ze=z.length===1?ve:te;V(z,yt=>{const _t=Mi(mt.fromDom(yt),"td,th"),Ao=ue.normal(k,yt);bt(Ao,$,Ze),Bs(k)&&Xo(Ao,$,Ze),te("height")&&V(_t,Yt=>{k.dom.setStyle(Yt.dom,"height",null)}),te("align")&&pa(k,yt,$.align)})},Fi=(k,z)=>{k.execCommand("mceTableRowType",!1,{type:z.type,no_events:!0})},Qd=(k,z,$,te)=>{const xe=T(te,(Ze,yt)=>$[yt]!==Ze);if(Oo(xe)>0){const Ze=Ce(xe,"type"),yt=Ze?Oo(xe)>1:!0;yt&&oo(k,z,te,pt(Ce,xe)),Ze&&Fi(k,te),De(mt.fromDom(z[0])).each(_t=>bc(k,_t.dom,{structure:Ze,style:yt}))}},af=(k,z,$,te)=>{const xe=te.getData();te.close(),k.undoManager.transact(()=>{Qd(k,z,$,xe),k.focus()})},ls=k=>{const z=ws(pr(k),ef.selected);if(z.length===0)return;const $=Co(z,yt=>Td(k,yt.dom,Bs(k))),te=pl($),xe={type:"tabpanel",tabs:[{title:"General",name:"general",items:Gf(k)},M(k,"row")]},Ze={type:"panel",items:[{type:"grid",columns:2,items:Gf(k)}]};k.windowManager.open({title:"Row Properties",size:"normal",body:Bs(k)?xe:Ze,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:te,onSubmit:pt(af,k,Co(z,yt=>yt.dom),te)})},tr=(k,z,$)=>{const te=$?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],xe=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],Ze=ec(k)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],yt=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],_t=z.length>0?[{name:"class",type:"listbox",label:"Class",items:z}]:[];return te.concat(xe).concat(Ze).concat(yt).concat(_t)},Hi=(k,z,$,te)=>{if(z.tagName==="TD"||z.tagName==="TH")rr($)&&ar(te)?k.setStyle(z,$,te):k.setStyles(z,$);else if(z.children)for(let xe=0;xe<z.children.length;xe++)Hi(k,z.children[xe],$,te)},Wr=(k,z,$,te)=>{const xe=k.dom,Ze={},yt={},_t=sn(k),Ao=$t(k),Yt=parseFloat($.border)===0;if(!En($.class)&&$.class!=="mce-no-match"&&(Ze.class=$.class),yt.height=ai($.height),_t?yt.width=ai($.width):xe.getAttrib(z,"width")&&(Ze.width=Na($.width)),_t?(Yt?(Ze.border=0,yt["border-width"]=""):(yt["border-width"]=ai($.border),Ze.border=1),yt["border-spacing"]=ai($.cellspacing)):(Ze.border=Yt?0:$.border,Ze.cellpadding=$.cellpadding,Ze.cellspacing=$.cellspacing),_t&&z.children){const Qo={};if(Yt?Qo["border-width"]="":te.border&&(Qo["border-width"]=ai($.border)),te.cellpadding&&(Qo.padding=ai($.cellpadding)),Ao&&te.bordercolor&&(Qo["border-color"]=$.bordercolor),!tn(Qo))for(let Pn=0;Pn<z.children.length;Pn++)Hi(xe,z.children[Pn],Qo)}if(Ao){const Qo=$;yt["background-color"]=Qo.backgroundcolor,yt["border-color"]=Qo.bordercolor,yt["border-style"]=Qo.borderstyle}xe.setStyles(z,{...tc(k),...yt}),xe.setAttribs(z,{...cl(k),...Ze})},je=(k,z,$,te)=>{const xe=k.dom,Ze=te.getData(),yt=T(Ze,(_t,Ao)=>$[Ao]!==_t);te.close(),k.undoManager.transact(()=>{if(!z){const _t=hr(Ze.cols).getOr(1),Ao=hr(Ze.rows).getOr(1);k.execCommand("mceInsertTable",!1,{rows:Ao,columns:_t}),z=Ke(pr(k),es(k)).bind(Yt=>De(Yt,es(k))).map(Yt=>Yt.dom).getOrDie()}if(Oo(yt)>0){const _t={border:Ce(yt,"border"),bordercolor:Ce(yt,"bordercolor"),cellpadding:Ce(yt,"cellpadding")};Wr(k,z,Ze,_t);const Ao=xe.select("caption",z)[0];(Ao&&!Ze.caption||!Ao&&Ze.caption)&&k.execCommand("mceTableToggleCaption"),pa(k,z,Ze.align)}if(k.focus(),k.addVisual(),Oo(yt)>0){const _t=Ce(yt,"caption"),Ao=_t?Oo(yt)>1:!0;bc(k,z,{structure:_t,style:Ao})}})},eu=(k,z)=>{const $=k.dom;let te,xe=qf(k,$t(k));z?(xe.cols="1",xe.rows="1",$t(k)&&(xe.borderstyle="",xe.bordercolor="",xe.backgroundcolor="")):(te=$.getParent(k.selection.getStart(),"table",k.getBody()),te?xe=nf(k,te,$t(k)):$t(k)&&(xe.borderstyle="",xe.bordercolor="",xe.backgroundcolor=""));const Ze=_n(vc(k));Ze.isSome()&&xe.class&&(xe.class=xe.class.replace(/\s*mce\-item\-table\s*/g,""));const yt={type:"grid",columns:2,items:tr(k,Ze.getOr([]),z)},_t=()=>({type:"panel",items:[yt]}),Ao=()=>({type:"tabpanel",tabs:[{title:"General",name:"general",items:[yt]},M(k,"table")]}),Yt=$t(k)?Ao():_t();k.windowManager.open({title:"Table Properties",size:"normal",body:Yt,onSubmit:pt(je,k,te,xe),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:xe})},rc=k=>{const z=$=>{wi(pr(k))&&$()};Ro({mceTableProps:pt(eu,k,!1),mceTableRowProps:pt(ls,k),mceTableCellProps:pt(Wg,k),mceInsertTableDialog:pt(eu,k,!0)},($,te)=>k.addCommand(te,()=>z($)))},hl=(k,z)=>Pc(k,z).isSome(),lf=rt,Od=k=>{const z=(te,xe)=>fa(te,xe).exists(Ze=>parseInt(Ze,10)>1),$=te=>z(te,"rowspan")||z(te,"colspan");return k.length>0&&wt(k,$)?lt.some(k):lt.none()},lb=(k,z,$)=>z.length<=1?lt.none():Jd(k,$.firstSelectedSelector,$.lastSelectedSelector).map(te=>({bounds:te,cells:z})),zu=k=>({element:k,mergable:lt.none(),unmergable:lt.none(),selection:[k]}),Mr=(k,z,$)=>({element:$,mergable:lb(z,k,ef),unmergable:Od(k),selection:lf(k)}),Dd=k=>{const z=Er(lt.none()),$=Er([]);let te=lt.none();const xe=el("caption"),Ze=yn=>te.forall(ds=>!ds[yn]),yt=()=>qc(pr(k),es(k)),_t=()=>qc(ir(k),es(k)),Ao=()=>yt().bind(yn=>os(as(De(yn),_t().bind(De),(ds,Xa)=>Je(ds,Xa)?xe(yn)?lt.some(zu(yn)):lt.some(Mr(oa(k),ds,yn)):lt.none()))),Yt=yn=>De(yn.element).map(Xa=>{const Ll=jc.fromTable(Xa),qg=_c(Ll,yn).getOr([]),Gg=Al(qg,(Rd,Mm)=>(Mm.isLocked&&(Rd.onAny=!0,Mm.column===0?Rd.onFirst=!0:Mm.column+Mm.colspan>=Ll.grid.columns&&(Rd.onLast=!0)),Rd),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:Cs(Ll,yn).isSome(),unmergeable:Su(Ll,yn).isSome(),locked:Gg}}),Qo=()=>{z.set(Kt(Ao)()),te=z.get().bind(Yt),V($.get(),le)},Pn=yn=>(yn(),$.set($.get().concat([yn])),()=>{$.set(hn($.get(),ds=>ds!==yn))}),Wn=(yn,ds)=>Pn(()=>z.get().fold(()=>{yn.setEnabled(!1)},Xa=>{yn.setEnabled(!ds(Xa)&&k.selection.isEditable())})),vl=(yn,ds,Xa)=>Pn(()=>z.get().fold(()=>{yn.setEnabled(!1),yn.setActive(!1)},Ll=>{yn.setEnabled(!ds(Ll)&&k.selection.isEditable()),yn.setActive(Xa(Ll))})),Es=yn=>te.exists(ds=>ds.locked[yn]),Cc=yn=>Wn(yn,ds=>!1),Qc=yn=>Wn(yn,ds=>xe(ds.element)),Ou=yn=>ds=>Wn(ds,Xa=>xe(Xa.element)||Es(yn)),Ws=yn=>ds=>Wn(ds,Xa=>xe(Xa.element)||yn().isNone()),tu=(yn,ds)=>Xa=>Wn(Xa,Ll=>xe(Ll.element)||yn().isNone()||Es(ds)),ba=yn=>Wn(yn,ds=>Ze("mergeable")),ou=yn=>Wn(yn,ds=>Ze("unmergeable")),nu=yn=>vl(yn,Tt,ds=>De(ds.element,es(k)).exists(Ll=>hl(Ll,"caption"))),cf=(yn,ds)=>Xa=>vl(Xa,Ll=>xe(Ll.element),()=>k.queryCommandValue(yn)===ds),Nm=cf("mceTableRowType","header"),jp=cf("mceTableColType","th");return k.on("NodeChange ExecCommand TableSelectorChange",Qo),{onSetupTable:Cc,onSetupCellOrRow:Qc,onSetupColumn:Ou,onSetupPasteable:Ws,onSetupPasteableColumn:tu,onSetupMergeable:ba,onSetupUnmergeable:ou,resetTargets:Qo,onSetupTableWithCaption:nu,onSetupTableRowHeaders:Nm,onSetupTableColumnHeaders:jp,targets:z.get}};var cb=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const sc="x-tinymce/dom-table-",Hp=sc+"rows",Vp=sc+"columns",bl=k=>{var z;const $=(z=cb.read())!==null&&z!==void 0?z:[];return Fo($,te=>lt.from(te.getType(k)))},Tu=()=>bl(Hp),ac=()=>bl(Vp),Ca=k=>z=>{const $=()=>{z.setEnabled(k.selection.isEditable())};return k.on("NodeChange",$),$(),()=>{k.off("NodeChange",$)}},yl=(k,z)=>{k.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:Ca(k),fetch:_t=>_t("inserttable | cell row column | advtablesort | tableprops deletetable")});const $=_t=>()=>k.execCommand(_t),te=(_t,Ao)=>{k.queryCommandSupported(Ao.command)&&k.ui.registry.addButton(_t,{...Ao,onAction:An(Ao.onAction)?Ao.onAction:$(Ao.command)})},xe=(_t,Ao)=>{k.queryCommandSupported(Ao.command)&&k.ui.registry.addToggleButton(_t,{...Ao,onAction:An(Ao.onAction)?Ao.onAction:$(Ao.command)})};te("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:z.onSetupTable}),te("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:z.onSetupTable}),te("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:z.onSetupCellOrRow}),te("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:z.onSetupMergeable}),te("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:z.onSetupUnmergeable}),te("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:z.onSetupCellOrRow}),te("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:z.onSetupCellOrRow}),te("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:z.onSetupCellOrRow}),te("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:z.onSetupCellOrRow}),te("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:z.onSetupColumn("onFirst")}),te("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:z.onSetupColumn("onLast")}),te("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:z.onSetupColumn("onAny")}),te("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:z.onSetupCellOrRow}),te("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:z.onSetupCellOrRow}),te("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:z.onSetupPasteable(Tu)}),te("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:z.onSetupPasteable(Tu)}),te("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:z.onSetupColumn("onAny")}),te("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:z.onSetupColumn("onAny")}),te("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:z.onSetupPasteableColumn(ac,"onFirst")}),te("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:z.onSetupPasteableColumn(ac,"onLast")}),te("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:Ca(k)});const Ze=mi(vc(k));Ze.length!==0&&k.queryCommandSupported("mceTableToggleClass")&&k.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:Ad(k,Ze,"tableclass",_t=>k.execCommand("mceTableToggleClass",!1,_t)),onSetup:z.onSetupTable});const yt=mi(Xd(k));yt.length!==0&&k.queryCommandSupported("mceTableCellToggleClass")&&k.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:Ad(k,yt,"tablecellclass",_t=>k.execCommand("mceTableCellToggleClass",!1,_t)),onSetup:z.onSetupCellOrRow}),k.queryCommandSupported("mceTableApplyCellStyle")&&(k.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:Ad(k,ga,"tablecellverticalalign",Ml(k,"vertical-align")),onSetup:z.onSetupCellOrRow}),k.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:Ad(k,js(k),"tablecellborderwidth",Ml(k,"border-width")),onSetup:z.onSetupCellOrRow}),k.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:Ad(k,Ql(k),"tablecellborderstyle",Ml(k,"border-style")),onSetup:z.onSetupCellOrRow}),k.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:_t=>_t(Bl(k,Pa(k),"background-color")),onSetup:z.onSetupCellOrRow}),k.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:_t=>_t(Bl(k,Xu(k),"border-color")),onSetup:z.onSetupCellOrRow})),xe("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:z.onSetupTableWithCaption}),xe("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Zf(k),onSetup:z.onSetupTableRowHeaders}),xe("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Rm(k),onSetup:z.onSetupTableColumnHeaders})},yr=k=>{const z=te=>k.dom.is(te,"table")&&k.getBody().contains(te)&&k.dom.isEditable(te.parentNode),$=Zo(k);$.length>0&&k.ui.registry.addContextToolbar("table",{predicate:z,items:$,scope:"node",position:"node"})},it=k=>z=>{const $=()=>{z.setEnabled(k.selection.isEditable())};return k.on("NodeChange",$),$(),()=>{k.off("NodeChange",$)}},x1=(k,z)=>{const $=Pn=>()=>k.execCommand(Pn),te=(Pn,Wn)=>k.queryCommandSupported(Wn.command)?(k.ui.registry.addMenuItem(Pn,{...Wn,onAction:An(Wn.onAction)?Wn.onAction:$(Wn.command)}),!0):!1,xe=(Pn,Wn)=>{k.queryCommandSupported(Wn.command)&&k.ui.registry.addToggleMenuItem(Pn,{...Wn,onAction:An(Wn.onAction)?Wn.onAction:$(Wn.command)})},Ze=Pn=>{k.execCommand("mceInsertTable",!1,{rows:Pn.numRows,columns:Pn.numColumns})},yt=[te("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:z.onSetupCellOrRow}),te("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:z.onSetupCellOrRow}),te("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:z.onSetupCellOrRow}),te("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:z.onSetupCellOrRow}),te("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:z.onSetupCellOrRow}),te("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:z.onSetupCellOrRow}),te("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:z.onSetupPasteable(Tu)}),te("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:z.onSetupPasteable(Tu)})],_t=[te("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:z.onSetupColumn("onFirst")}),te("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:z.onSetupColumn("onLast")}),te("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:z.onSetupColumn("onAny")}),te("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:z.onSetupColumn("onAny")}),te("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:z.onSetupColumn("onAny")}),te("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:z.onSetupPasteableColumn(ac,"onFirst")}),te("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:z.onSetupPasteableColumn(ac,"onLast")})],Ao=[te("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:z.onSetupCellOrRow}),te("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:z.onSetupMergeable}),te("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:z.onSetupUnmergeable})];vd(k)?k.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:Ze}],onSetup:it(k)}):k.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:$("mceInsertTableDialog"),onSetup:it(k)}),k.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:$("mceInsertTableDialog"),onSetup:it(k)}),te("tableprops",{text:"Table properties",onSetup:z.onSetupTable,command:"mceTableProps"}),te("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:z.onSetupTable,command:"mceTableDelete"}),Yr(yt,!0)&&k.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:sr("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),Yr(_t,!0)&&k.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:sr("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),Yr(Ao,!0)&&k.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:sr("tablecellprops tablemergecells tablesplitcells")}),k.ui.registry.addContextMenu("table",{update:()=>(z.resetTargets(),z.targets().fold(sr(""),Pn=>To(Pn.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"))});const Yt=mi(vc(k));Yt.length!==0&&k.queryCommandSupported("mceTableToggleClass")&&k.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>na(k,Yt,"tableclass",Pn=>k.execCommand("mceTableToggleClass",!1,Pn)),onSetup:z.onSetupTable});const Qo=mi(Xd(k));Qo.length!==0&&k.queryCommandSupported("mceTableCellToggleClass")&&k.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>na(k,Qo,"tablecellclass",Pn=>k.execCommand("mceTableCellToggleClass",!1,Pn)),onSetup:z.onSetupCellOrRow}),k.queryCommandSupported("mceTableApplyCellStyle")&&(k.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>na(k,ga,"tablecellverticalalign",Ml(k,"vertical-align")),onSetup:z.onSetupCellOrRow}),k.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>na(k,js(k),"tablecellborderwidth",Ml(k,"border-width")),onSetup:z.onSetupCellOrRow}),k.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>na(k,Ql(k),"tablecellborderstyle",Ml(k,"border-style")),onSetup:z.onSetupCellOrRow}),k.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>Bl(k,Pa(k),"background-color"),onSetup:z.onSetupCellOrRow}),k.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>Bl(k,Xu(k),"border-color"),onSetup:z.onSetupCellOrRow})),xe("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:z.onSetupTableWithCaption}),xe("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Zf(k),onSetup:z.onSetupTableRowHeaders}),xe("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Rm(k),onSetup:z.onSetupTableRowHeaders})},cs=k=>{const z=Dd(k);ll(k),rc(k),x1(k,z),yl(k,z),yr(k)};var $p=()=>{kn.add("table",cs)};$p()}()),AF}var TF;function zq(){return TF||(TF=1,Aq()),EF}zq();function Tq(kn){return typeof kn=="function"?kn:typeof kn=="string"&&kn in window?window[kn]:null}function Oq(kn,ur){return ur?(...Vr)=>{let $r=!1;const fr=(...xo)=>($r=!0,kn(...xo));if(ur(...Vr,fr),!$r&&ur.length<kn.length)return kn(...Vr)}:kn}function Dq(kn,ur,Vr){const $r=document.createElement("input");$r.type="file",$r.accept="image/*",$r.onchange=function(){var ar;const fr=this.files[0];if(!fr)return;const xo=WB.activeEditor.getElement(),rr=xo.getAttribute("data-model")||null,jn=xo.getAttribute("data-id")||null,Po=new FormData;Po.append("file",fr),rr&&Po.append("model",rr),jn&&Po.append("id",jn);const En=xo.dataset.extraFormData?JSON.parse(xo.dataset.extraFormData):{};for(const[An,Bt]of Object.entries(En))Po.append(An,Bt);const Un=new CustomEvent("tinymce:file-upload:prepare",{detail:{formData:Po,file:fr,model:rr,id:jn,editor:WB.activeEditor}});window.dispatchEvent(Un),fetch("/form-upload-media",{method:"POST",headers:{"X-CSRF-TOKEN":(ar=document.querySelector('meta[name="csrf-token"]'))==null?void 0:ar.getAttribute("content")},body:Po}).then(An=>{var Ut;if((Ut=An.headers.get("content-type"))==null?void 0:Ut.includes("application/json"))return An.json();throw An.status===404?new Error("No upload route found (404)"):An.status===413?new Error("File too large (413)"):new Error(`${An.status}`)}).then(An=>{var Bt;if(An.url){const Ut=document.createElement("input");Ut.type="hidden",Ut.name="content_media[]",Ut.value=An.url,(Bt=xo.closest("form"))==null||Bt.querySelectorAll(".content-media").forEach(Lo=>Lo.appendChild(Ut)),kn(An.url)}else alert(An.error||"File upload failed: Unknown error")}).catch(An=>{console.error("Error uploading file:",An),alert("An error occurred while uploading the file: "+An.message)})},$r.click()}function Rq(kn){kn.ui.registry.addMenuButton("alignment",{icon:"align-left",tooltip:"Alignment",fetch:ur=>ur([{type:"menuitem",text:"align left",icon:"align-left",onAction:()=>kn.execCommand("JustifyLeft")},{type:"menuitem",text:"align center",icon:"align-center",onAction:()=>kn.execCommand("JustifyCenter")},{type:"menuitem",text:"align right",icon:"align-right",onAction:()=>kn.execCommand("JustifyRight")},{type:"menuitem",text:"justify",icon:"align-justify",onAction:()=>kn.execCommand("JustifyFull")}])}),kn.ui.registry.addMenuButton("lists",{tooltip:"Lists",icon:"unordered-list",fetch:ur=>ur([{type:"menuitem",text:"bullet list",icon:"unordered-list",onAction:()=>kn.execCommand("InsertUnorderedList")},{type:"menuitem",text:"numbered list",icon:"ordered-list",onAction:()=>kn.execCommand("InsertOrderedList")}])})}document.addEventListener("DOMContentLoaded",async()=>{document.querySelectorAll(".html-editor").forEach(async kn=>{let ur={};if(kn.dataset.editorConfig)try{ur=JSON.parse(kn.dataset.editorConfig)}catch(fr){console.warn("Invalid JSON in data-editor-config",fr)}const Vr={target:kn,skin_url:"default",body_class:"form-control html-content p-3 rounded-0 border-0 shadow-none",min_height:300,autoresize_bottom_margin:0,menubar:!1,branding:!1,promotion:!1,highlight_on_focus:!0,plugins:"autoresize autosave code emoticons link lists image table",content_css:"",toolbar:"restoredraft code | blocks | bold italic underline strikethrough | alignment lists outdent indent | table image link emoticons",link_default_target:"_blank",document_base_url:"/",language:"nl",convert_urls:!1,license_key:"gpl",automatic_uploads:!1,images_upload_handler:null,image_list:null,file_picker_callback:Dq,setup:Rq};typeof ur.file_picker_callback=="string"&&(ur.file_picker_callback=Tq(ur.file_picker_callback)),ur.file_picker_callback&&(ur.file_picker_callback=Oq(Vr.file_picker_callback,ur.file_picker_callback));const $r=Object.assign({},Vr,ur);await WB.init($r)})});
